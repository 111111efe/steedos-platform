(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","hr_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Flow Role set up?","instance_hr_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","hr_role":"您要找的「{$role_name}」角色还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_hr_role_set_is_complete":"角色设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

if (Meteor.isClient) {
  Meteor.startup(function () {
    var workflow_three_columns;
    workflow_three_columns = localStorage.getItem("workflow_three_columns");

    if (workflow_three_columns && workflow_three_columns === "off") {
      return $("body").removeClass("three-columns");
    } else {
      return $("body").addClass("three-columns");
    }
  });
}

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>附件</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + t('instance_approval_history') + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox.checked){\n		attachmentsView.style = 'display: block;'\n	} else {\n		attachmentsView.style = 'display: none;'\n	}\n	attachmentsCheckbox.addEventListener('change', function(e){\n		if (e.target.checked){\n			attachmentsView.style = 'display: block;'\n		} else {\n			attachmentsView.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;
      return self.changed("instances", id, instance);
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users;
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvY29yZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9saWIvbW9kZWxzL2F1dGhfdG9rZW5zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi9pbnN0YW5jZV9yZWFkb25seV90ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L2xpYi90ZW1wbGF0ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvY29yZWZvcm0vaW5wdXRUeXBlcy9jb3JlZm9ybS10YWJsZS9zdGVlZG9zLXRhYmxlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW1hZ2Vfc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzVGVtcGxhdGUiLCJJbnN0YW5jZWZvcm1UZW1wbGF0ZSIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlIiwiSW5zdGFuY2VTaWduVGV4dCIsIlJlbGF0ZWRJbnN0YW5jZXMiLCJSZWxhdGVkUmVjb3JkcyIsIkluc3RhbmNlTWFjcm8iLCJjb250ZXh0IiwiVHJhY2VzTWFuYWdlciIsIk1ldGVvciIsImlzQ2xpZW50Iiwic3RhcnR1cCIsIndvcmtmbG93X3RocmVlX2NvbHVtbnMiLCJsb2NhbFN0b3JhZ2UiLCJnZXRJdGVtIiwiJCIsInJlbW92ZUNsYXNzIiwiYWRkQ2xhc3MiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmRleE9mIiwiaW5jbHVkZXNPcGluaW9uRmllbGQiLCJmb3JtIiwiZm9ybV92ZXJzaW9uIiwiX2Zvcm1fdmVyc2lvbiIsImZpZWxkX2Zvcm11bGFzIiwiZmllbGRzIiwiQXJyYXkiLCJpc1NlcnZlciIsInV1Zmxvd01hbmFnZXIiLCJnZXRGb3JtVmVyc2lvbiIsImRiIiwiZm9ybXMiLCJmaW5kT25lIiwiX2lkIiwiZm9ybV92ZXJzaW9ucyIsImZvckVhY2giLCJmIiwicmVmIiwidHlwZSIsImNvbnNvbGUiLCJsb2ciLCJmMSIsInB1c2giLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSIsImluc3RhbmNlX2F0dGFjaG1lbnQiLCJhZlNlbGVjdFVzZXJSZWFkIiwiYWZGb3JtR3JvdXBSZWFkIiwiYWZGb3JtR3JvdXAiLCJjcmVhdGUiLCJ0ZW1wYWx0ZU5hbWUiLCJzdGVlZG9zRGF0YSIsInRlbXBsYXRlIiwidGVtcGxhdGVDb21waWxlZCIsInRlbXBsYXRlUmVuZGVyRnVuY3Rpb24iLCJTcGFjZWJhcnNDb21waWxlciIsImNvbXBpbGUiLCJpc0JvZHkiLCJldmFsIiwiVGVtcGxhdGUiLCJCbGF6ZSIsImNyZWF0ZUluc3RhbmNlU2lnblRleHQiLCJpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQiLCJpbnN0YW5jZVNpZ25UZXh0SHRtbCIsImluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlU2lnblRleHQiLCJjcmVhdGVJbWFnZVNpZ24iLCJpbWFnZVNpZ25Db21waWxlZCIsImltYWdlU2lnbkh0bWwiLCJpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiIsImltYWdlU2lnbiIsImluaXQiLCJhYnNvbHV0ZSIsIml0ZW0iLCJsYWJlbCIsImRldGFpbF91cmwiLCJyZXBsYWNlIiwidGVzdCIsIlN0ZWVkb3MiLCJhYnNvbHV0ZVVybCIsImdldFZhbHVlIiwidmFsdWUiLCJmaWVsZCIsImxvY2FsZSIsInV0Y09mZnNldCIsImRhdGUiLCJlIiwiaG91cnMiLCJtb250aCIsInNlY29uZHMiLCJ0IiwidDAiLCJ0MSIsInllYXIiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJ0b1N0cmluZyIsImZ1bGxuYW1lIiwibmFtZSIsIlRBUGkxOG4iLCJfXyIsImxlbmd0aCIsInNwbGl0IiwiRGF0ZSIsImZvcm1hdERhdGUiLCJpc190ZXh0YXJlYSIsIlNwYWNlYmFycyIsIlNhZmVTdHJpbmciLCJNYXJrZG93biIsInBhcnNlRmxvYXQiLCJ0b0ZpeGVkIiwiZGlnaXRzIiwibnVtYmVyVG9TdHJpbmciLCJtYXAiLCJnZXRMYWJlbCIsImNvZGUiLCJmaW5kUHJvcGVydHlCeVBLIiwiZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbiIsImluc3RhbmNlIiwiZm9ybV9maWVsZHMiLCJjdXJyZW50Iiwid2hlcmUiLCJoaXN0b3J5cyIsImdldEZsb3dWZXJzaW9uIiwiZmxvdyIsImZsb3dfdmVyc2lvbiIsImZsb3dzIiwicGF0aCIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwia2V5IiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIm9wdGlvbnMiLCJXb3JrZmxvd01hbmFnZXIiLCJjbG9uZSIsIldvcmtmbG93TWFuYWdlcl9mb3JtYXQiLCJnZXRBdXRvZm9ybVNjaGVtYVZhbHVlcyIsImluc25hbWUiLCJpbnNfc3RhdGUiLCJzdGF0ZSIsImluc19maW5hbF9kZWNpc2lvbiIsImluc19jb2RlIiwiaW5zX2lzX2FyY2hpdmVkIiwiaXNfYXJjaGl2ZWQiLCJpbnNfaXNfZGVsZXRlZCIsImFwcGxpY2FudF9uYW1lIiwiYXBwbGljYW50Q29udGV4dCIsInNlc3Npb25Vc2VySWQiLCJlZGl0YWJsZSIsInN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzIiwicGFzc2luZyIsIm1vbWVudCIsImZvcm1hdCIsImdldEluc3RhbmNlVmlldyIsImJvZHkiLCJpbnN0YW5jZUNvbXBpbGVkIiwiaW5zdGFuY2VSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlVGVtcGxhdGUiLCJUZW1wbGF0ZU1hbmFnZXIiLCJnZXRUZW1wbGF0ZSIsInRlbXBsYXRlTmFtZSIsImluc3RhbmNlX3JlYWRvbmx5X3ZpZXciLCJ0b0hUTUxXaXRoRGF0YSIsImdldFRyYWNlc1ZpZXciLCJ0cmFjZUNvbXBpbGVkIiwidHJhY2VSZW5kZXJGdW5jdGlvbiIsInRyYWNlc0h0bWwiLCJpbnN0YW5jZV9zdHlsZSIsInRyYWNlX3JlYWRvbmx5X3ZpZXciLCJ0cmFjZXMiLCJnZXRBdHRhY2htZW50VmlldyIsImF0dGFjaG1lbnRDb21waWxlZCIsImF0dGFjaG1lbnRIdG1sIiwiYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uIiwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyIsImdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3IiwicmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkIiwicmVsYXRlZEluc3RhbmNlc0h0bWwiLCJyZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX2luc3RhbmNlc192aWV3IiwiZ2V0UmVsYXRlZFJlY29yZHNWaWV3IiwicmVsYXRlZFJlY29yZHNDb21waWxlZCIsInJlbGF0ZWRSZWNvcmRzSHRtbCIsInJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24iLCJyZWxhdGVkX3JlY29yZHNfdmlldyIsImdldE9uTG9hZFNjcmlwdCIsImZvcm1fc2NyaXB0IiwiZ2V0SW5zdGFuY2VIdG1sIiwiYWxsQ3NzTGluayIsImF0dGFjaG1lbnQiLCJjcmVhdG9yU2VydmljZSIsImNzc0hyZWYiLCJmb3JtRGVzY3JpcHRpb24iLCJmb3JtRGVzY3JpcHRpb25IdG1sIiwiaHRtbCIsImluc19yZWNvcmRfaWRzIiwiaW5zdGFuY2VCb3hTdHlsZSIsIm9uTG9hZFNjcmlwdCIsIm9wZW5GaWxlU2NyaXB0IiwicmVsYXRlZF9pbnN0YW5jZXMiLCJyZWxhdGVkX3JlY29yZHMiLCJzaG93VHJhY2VzQnRuIiwic2hvd1RyYWNlc1NjcmlwdCIsInRyYWNlIiwidHJhY2VDaGVjayIsIndpZHRoIiwic2V0dGluZ3MiLCJ3ZWJzZXJ2aWNlcyIsImNyZWF0b3IiLCJ1cmwiLCJyZWNvcmRfaWRzIiwiSlNPTiIsInN0cmluZ2lmeSIsImlzTW9iaWxlIiwic2hvd1RyYWNlIiwiZmluYWxfZGVjaXNpb24iLCJzaG93QXR0YWNobWVudHMiLCJpc0VtcHR5IiwidGFnZ2VyIiwic3R5bGVzIiwiZGVzY3JpcHRpb24iLCJwbHVnaW5zIiwiZm9ybUlkIiwiaW5zdGFuY2VfdGl0bGUiLCJwYWdlVGl0bGUiLCJwYWdlVGl0bGVUckNsYXNzIiwidmFsIiwiQ29yZUZvcm0iLCJwYWdlVGl0bGVGaWVsZE5hbWUiLCJoYW5kbGVUYWJsZVRlbXBsYXRlIiwiX2V4cG9ydCIsInRhYmxlX2ZpZWxkcyIsInRhYmxlX2ZpZWxkIiwiZmllbGRfcGVybWlzc2lvbiIsInB1cmVDb2RlIiwicmVxdWlyZWQiLCJ0aXRsZV9wZXJtaXNzaW9uIiwicmVtb3ZlU3BlY2lhbENoYXJhY3RlciIsImlzT3BpbmlvbkZpZWxkIiwidHJfc3RhcnQiLCJ0ZF9jb2xzcGFuIiwidHJfZW5kIiwiaW5jbHVkZXMiLCJwZXJtaXNzaW9uIiwiX3RlbXBsYXRlIiwidGFibGUiLCJfdGVtcGxhdGVIZWxwcyIsImRhdGEiLCJzdGVlZG9zX2luc3RhbmNlIiwiZ2V0SW5zdGFuY2UiLCJhdHRzIiwiaWQiLCJzdHlsZSIsImRpc2FibGVkIiwiaW5zdGFuY2VJZCIsImZvcm1fdHlwZXMiLCJBcHByb3ZlTWFuYWdlciIsImlzUmVhZE9ubHkiLCJzdGVlZG9zX2Zvcm0iLCJpbm5lcnN1YmZvcm1Db250ZXh0Iiwib2JqIiwiZG9jX3ZhbHVlcyIsIlNlc3Npb24iLCJnZXQiLCJlcXVhbHMiLCJhIiwiYiIsIlNpbXBsZVNjaGVtYSIsImdldEF1dG9mb3JtU2NoZW1hIiwiaW5zdGFuY2VfYm94X3N0eWxlIiwiYm94IiwiaW5zIiwianVkZ2UiLCJwcmludF90ZW1wbGF0ZSIsImluc3RhbmNlX3RlbXBsYXRlIiwiU3RlZWRvc1RhYmxlIiwiY2hlY2tJdGVtIiwiaXRlbV9pbmRleCIsImZpZWxkT2JqIiwiZ2V0RmllbGQiLCJmaWVsZFZhbCIsImdldEl0ZW1Nb2RhbFZhbHVlIiwic2ZfbmFtZSIsInNmaWVsZHMiLCJzZiIsIkluc3RhbmNlTWFuYWdlciIsImNoZWNrRm9ybUZpZWxkVmFsdWUiLCJzZXRUYWJsZUl0ZW1WYWx1ZSIsIml0ZW1fdmFsdWUiLCJ0YWJsZVZhbHVlIiwiZ2V0VGFibGVWYWx1ZSIsImdldFRhYmxlSXRlbVZhbHVlIiwicmVtb3ZlVGFibGVJdGVtIiwicmVtb3ZlZCIsInNldFRhYmxlVmFsdWUiLCJnZXRWYWxpZFZhbHVlIiwidmFsaWRWYWx1ZSIsImhhbmRsZURhdGEiLCJ2YWx1ZXMiLCJpbnN0YW5jZUZpZWxkcyIsImdldEluc3RhbmNlRmllbGRzIiwiZ2V0TW9kYWxEYXRhIiwiaW5kZXgiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJPYmplY3QiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJtYXgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInVuZW1wdHkiLCJ1bmVxdWFscyIsImluY2x1ZGUiLCJwYXJzZSIsInJlZjIiLCJyZWYzIiwiZ2V0SW5zdGFuY2VGbG93VmVyc2lvbiIsImFwcHJvdmVzIiwicmVmNCIsInN0ZXAiLCJhcHByb3ZlIiwianVkZ2VfbmFtZSIsImlzX2ZpbmlzaGVkIiwiaGFuZGxlciIsImhhbmRsZXJfbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUiLCJoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSIsImZpbmlzaF9kYXRlIiwib3Bpbmlvbl9maWVsZHNfY29kZSIsInNpZ25fZmllbGRfY29kZSIsImlzX3JlYWQiLCJzaWduX3Nob3ciLCJjb25jYXQiLCJhZnRlcl9maWVsZCIsImJlZm9yZV9maWVsZCIsInByZV9maWVsZHMiLCJwcmVfd2lkZV9maWVsZHMiLCJzbGljZSIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwic29ydCIsInAxIiwicDIiLCJfcDEiLCJfcDIiLCJnZXRUaW1lIiwiX3QiLCJnZXRDZkNsYXNzIiwiZ2V0VGFibGVUaGVhZCIsImdldFRhYmxlQm9keSIsInNob3dMYWJlbCIsInRlbXBsYXRlRGF0YSIsImdldE9waW5pb25GaWVsZFN0ZXBzTmFtZSIsInRvcF9rZXl3b3JkcyIsImZvbzEiLCJvcGluaW9uRmllbGRzIiwiZm9vIiwianNvbl9mb3JtdWxhIiwiczEiLCJlcnJvcjEiLCJ5aWppYW5sYW4iLCJzdGVwTmFtZSIsImltYWdlX3NpZ24iLCJvbmx5X2NjX29waW5pb24iLCJvbmx5X2NjIiwiZGVmYXVsdF9kZXNjcmlwdGlvbiIsIm9ubHlfaGFuZGxlciIsInNob3dDQ09waW5pb24iLCJtYXJrRG93blRvSHRtbCIsIm1hcmtEb3duU3RyaW5nIiwicmVuZGVyZXIiLCJSZW5kZXJlciIsImhyZWYiLCJ0aXRsZSIsInRleHQiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwib3AiLCJoYXNoIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsImNhbGwiLCJyZXN1bHQiLCJ0b2FzdHIiLCJyZWFzb24iLCJ0cmltIiwiZ2V0RmllbGRWYWx1ZSIsIkluc3RhbmNlTnVtYmVyUnVsZXMiLCJpbnN0YW5jZU51bWJlckJ1aWxkZXIiLCJ0cmlnZ2VyIiwiZ2V0Q3VycmVudFN0ZXAiLCJydW4iLCJzaG93TWFpblRpdGxlIiwid29ya2Zsb3dNYWluQXR0YWNoVGl0bGUiLCJlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQiLCJjdXJyZW50X3N0ZXAiLCJtYWluX2F0dGFjaF9jb3VudCIsImNmcyIsImluc3RhbmNlcyIsImZpbmQiLCJjb3VudCIsImRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2UiLCJzdGFydF9zdGVwIiwiZ2V0U3RhcnRTdGVwIiwiY2FuX2VkaXRfbWFpbl9hdHRhY2giLCJzdGVwX3R5cGUiLCJlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQiLCJnZXRGbG93IiwidXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkIiwiaXNDQyIsImdldENDU3RlcCIsImNhbl9lZGl0X25vcm1hbF9hdHRhY2giLCJ1bmRlZmluZWQiLCJtYWluX2F0dGFjaG1lbnQiLCJtYWluX2F0dGFjaCIsIm5vcm1hbF9hdHRhY2htZW50cyIsInNlbGVjdG9yIiwiJG5lIiwiZGZpcyIsImRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMiLCIkaW4iLCJkaXN0cmlidXRlX21haW4iLCJmaXJzdFZlcnNpb25NYWluIiwibWV0YWRhdGEiLCJwYXJlbnQiLCJhdHRhY2htZW50VXBsb2FkZWRBdCIsInVwbG9hZGVkQXQiLCJjIiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsImZpbHRlciIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsInNob3dTaWduSW1hZ2UiLCJnZXRMYXN0U2lnbkFwcHJvdmUiLCJnZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyIsImxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbiIsInNob3dBcHByb3ZlIiwianVkZ2VfZGVzY3JpcHRpb24iLCJpc19hcHByb3ZlZCIsImlzX3JlamVjdGVkIiwiaXNfcmVhZGVkIiwic2V0VGltZW91dCIsImlzIiwiZGF0ZUZvcm1hdCIsImdldEZ1bGxZZWFyIiwiZ2V0U3RlcE5hbWUiLCJzdGVwSWQiLCJnZXRJbnN0YW5jZVN0ZXAiLCJzaG93RGVsZXRlQnV0dG9uIiwiYXBwcm92ZWQiLCJmcm9tX3VzZXIiLCJpc1Nob3dNb2RpZmljYXRpb25CdXR0b24iLCJhcHByb3ZlX2FkbWlucyIsImlzU2hvdyIsIndvcmtmbG93IiwiY29udGFpbnMiLCJpc0VkaXRpbmciLCJpc19lZGl0aW5nIiwiaXNTaG93RGVzY3JpcHRpb24iLCJnZXRBcHByb3ZlU3RhdHVzSWNvbiIsImFwcHJvdmVKdWRnZSIsImFwcHJvdmVTdGF0dXNJY29uIiwiZ2V0QXBwcm92ZVN0YXR1c1RleHQiLCJhcHByb3ZlU3RhdHVzVGV4dCIsImlzRm9yd2FyZCIsInNob3dGb3J3YXJkRGVsZXRlQnV0dG9uIiwiZm9yd2FyZF9pbnN0YW5jZSIsImlzRGlzdHJpYnV0ZSIsInNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uIiwiaXNMZWdhbFZlcnNpb24iLCJoYXNGbG93QWRtaW5QZXJtaXNzaW9uIiwiZmluaXNoRGF0ZVNjaGVtYSIsImlzQW5kcm9pZE9ySU9TIiwiYXV0b2Zvcm0iLCJvcHRpb25hbCIsInJlYWRvbmx5IiwiZGF0ZVRpbWVQaWNrZXJPcHRpb25zIiwiaWdub3JlUmVhZG9ubHkiLCJ3aWRnZXRQb3NpdGlvbmluZyIsImhvcml6b250YWwiLCJmaW5pc2hEYXRlVmFsdWVzIiwic2hvd1RyYWNlc1ZpZXciLCJzaG93X21vZGFsX3RyYWNlc19saXN0Iiwic3BhY2Vfc2V0dGluZ3MiLCJnZXRJbnN0YW5jZVN0YXRlVGV4dCIsImluc3RhbmNlX2lkIiwiZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yIiwiY2xhIiwiZmlyc3RUcmFjZSIsImxhc3RfZGlzdHJpYnV0ZV9mcm9tIiwiZGlzX2luZm8iLCIkZXhpc3RzIiwiY3JlYXRlZCIsImNyZWF0ZWRfYnkiLCJVVWZsb3dfYXBpIiwiZ2V0TmFtZUZvclVzZXIiLCJ1c2VycyIsImZyb21fdXNlcl9uYW1lIiwiaXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQiLCJqdWRnZVRlcm1pbmF0ZWQiLCJpbnN0YW5jZUV4aXN0cyIsImFnZW50RGVzY3JpcHRpb24iLCJ1c2VyTmFtZSIsInRyYWNlTmFtZSIsInRyYWNlSWQiLCJzdG9wUHJvcGFnYXRpb24iLCJjYWxsaW5nIiwiZXJyIiwic3VjY2VzcyIsImZvcndhcmRfc3BhY2UiLCJmb3J3YXJkc3BhY2UiLCJmb3J3YXJkaW5zdGFuY2UiLCJUcmFja2VyIiwiYWZ0ZXJGbHVzaCIsIm9uIiwic2Nyb2xsVG9wIiwiZmluaXNoX2lucHV0Iiwib3Bpbmlvbl9pbnB1dCIsImFsbG93TXVsdGlwbGUiLCJzaG93UmVsYXRlZEluc3RhY2VzIiwiaXNBcnJheSIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJtZXRob2RzIiwic2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZSIsImluc19pZCIsInN0ZXBfYXBwcm92ZSIsInN0ZXBzQXBwcm92ZXNPcHRpb25zIiwiX2tleXMxIiwiX2tleXMyIiwic3RlcHNBcHByb3ZlcyIsInN0ZXBBcHByb3ZlcyIsInN0ZXBzQXBwcm92ZU9wdGlvbnMiLCJ1bmlxIiwidXBkYXRlIiwiJHNldCIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiYWN0aW9uIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiY2hlY2siLCJTdHJpbmciLCJCb29sZWFuIiwiZHJhZnRfc2F2ZV9pbnN0YW5jZSIsInNldE9iaiIsInRyYWNlX2lkIiwiYXBwcm92ZV9pZCIsIm5leHRfc3RlcHMiLCJhcHBsaWNhbnRfaWQiLCJzdWJtaXR0ZXIiLCJzcGFjZV9pZCIsImZsb3dfaWQiLCJmb3JtX2lkIiwiY3VycmVudF90cmFjZSIsImlkeCIsImtleV9zdHIiLCJjdXJyZW50X3VzZXIiLCJsYW5nIiwiaXNJbnN0YW5jZURyYWZ0IiwiaXNJbnN0YW5jZVN1Ym1pdHRlciIsIm1vZGlmaWVkIiwibW9kaWZpZWRfYnkiLCJzIiwic3BhY2VfdXNlcnMiLCJvcmdhbml6YXRpb24iLCJvcmdfaWQiLCJvcmdhbml6YXRpb25zIiwiYXBwbGljYW50X29yZ2FuaXphdGlvbiIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSIsImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUiLCJuYW1lX2ZvcnVtbGEiLCJnZXRJbnN0YW5jZU5hbWUiLCJpbmJveF9zYXZlX2luc3RhbmNlIiwiY3VycmVudF9hcHByb3ZlIiwiaXNJbnN0YW5jZVBlbmRpbmciLCJpc1RyYWNlTm90RmluaXNoZWQiLCJpc0FwcHJvdmVOb3RGaW5pc2hlZCIsImlzSGFuZGxlck9yQWdlbnQiLCJzdGFjayIsInN0ZXBfaWQiLCJoIiwicGVybWlzc2lvbnNfdmFsdWVzIiwiZ2V0QXBwcm92ZVZhbHVlcyIsImNoYW5nZV92YWx1ZXMiLCJhcHByb3ZlTWFuYWdlciIsImdldENoYW5nZVZhbHVlcyIsImV4dGVuZCIsInZhbHVlc19oaXN0b3J5IiwiZm9ybV92IiwiY2NfZG8iLCJjY191c2VyX2lkcyIsImNjX3VzZXJzIiwiY3VycmVudF91c2VyX2lkIiwibmV3X2FwcHJvdmVzIiwic3BhY2VfdXNlciIsImFnZW50IiwiZ2V0QWdlbnQiLCJoYW5kbGVyX2lkIiwiaGFuZGxlcl9pbmZvIiwiaGFuZGxlcl9zcGFjZV91c2VyIiwiaGFuZGxlcl9vcmdfaW5mbyIsImZpbGVkcyIsImdldFNwYWNlVXNlciIsImdldFNwYWNlVXNlck9yZ0luZm8iLCJhcHByIiwiTW9uZ28iLCJPYmplY3RJRCIsIl9zdHIiLCJzZXRSZW1pbmRJbmZvIiwiJGFkZFRvU2V0IiwiJGVhY2giLCJjdXJyZW50X3VzZXJfaW5mbyIsInB1c2hNYW5hZ2VyIiwic2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24iLCJ0cmlnZ2VyV2ViaG9vayIsImNjX3JlYWQiLCJjY19zdWJtaXQiLCJvdXRib3hfdXNlcnMiLCJ1cG9iaiIsInN0YXJ0X2RhdGUiLCJzZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIiLCJjY19yZW1vdmUiLCJyZW1vdmVfdXNlcl9pZCIsIm11bHRpIiwiY2Nfc2F2ZSIsImhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCIsImlzRm9yd2FyZEF0dGFjaG1lbnRzIiwic2VsZWN0ZWRVc2VycyIsImFjdGlvbl90eXBlIiwicmVsYXRlZCIsImZyb21fYXBwcm92ZV9pZCIsIkVycm9yIiwiZm9yd2FyZF9yZW1vdmUiLCJoYXNBZG1pblBlcm1pc3Npb24iLCJmb3J3YXJkX2luc3RhbmNlX2lkIiwiaW5ib3hfdXNlcnMiLCJkZWxldGVkIiwiZGVsZXRlZF9ieSIsImRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCIsImRlbGV0ZWRfaW5zdGFuY2VzIiwiaW5zZXJ0IiwicmVtb3ZlIiwidV9pZCIsInNldF9vYmoiLCJjYW5jZWxEaXN0cmlidXRlIiwiYXBwcm92ZV9pZHMiLCJleGlzdHMiLCJjZnNfaW5zdGFuY2VzX3JlbW92ZSIsImZpbGVfaWQiLCJjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50IiwiY2ZzX2luc3RhbmNlc19sb2NrIiwidXNlcl9pZCIsInVzZXJfbmFtZSIsImNmc19pbnN0YW5jZXNfdW5sb2NrIiwiJHVuc2V0IiwiZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzayIsInNwYWNlSWQiLCJjZnNSZWNvcmRJZHMiLCJpc19jbG91ZGFkbWluIiwic3RvcmUiLCJmcyIsInJlcXVpcmUiLCJwYXRobmFtZSIsImpvaW4iLCJfX21ldGVvcl9ib290c3RyYXBfXyIsInNlcnZlckRpciIsImFic29sdXRlUGF0aCIsInJlc29sdmUiLCJzeW5jIiwidGltZSIsInF1ZXJ5IiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwiY2FsbGJhY2siLCJ3cml0ZXIiLCJjcmVhdGVXcml0ZVN0cmVhbSIsImlzRnVuY3Rpb24iLCJyZWFkZXIiLCJjcmVhdGVSZWFkU3RyZWFtIiwicGlwZSIsInRpbWVFbmQiLCJzZXRfYXBwcm92ZV9oYXZlX3JlYWQiLCJzZWxmIiwiY2hhbmdlX2FwcHJvdmVfaW5mbyIsInVwZGF0ZV9hcHByb3ZlX3NpZ24iLCJzaWduX3R5cGUiLCJsYXN0U2lnbkFwcHJvdmUiLCJsYXN0VHJhY2UiLCJzZXNzaW9uX3VzZXJJZCIsInVwT2JqIiwiY3VzdG9tX3NpZ25fc2hvdyIsInVwZGF0ZV9zaWduX3Nob3ciLCJvYmpzIiwibXlBcHByb3ZlX2lkIiwiaW5zdGFuY2VfcmV0dXJuIiwiYXBwcm92ZV92YWx1ZXMiLCJsYXN0X3RyYWNlIiwibmV3VHJhY2UiLCJuZXdfaW5ib3hfdXNlcnMiLCJwcmVfc3RlcCIsInByZV90cmFjZSIsInIiLCJyZXN0X2NvdW50ZXJfdXNlcnMiLCJnZXRTdGVwIiwicHJldmlvdXNfdHJhY2VfaWRzIiwiZHVlX2RhdGUiLCJnZXREdWVEYXRlIiwidGltZW91dF9ob3VycyIsIm5leHRfc3RlcF91c2VyX2lkIiwibmV3QXBwcm92ZSIsIm5leHRfc3RlcF9zcGFjZV91c2VyIiwibmV4dF9zdGVwX3VzZXJfb3JnX2luZm8iLCJ1c2VyX2luZm8iLCJoYW5kbGVyX29yZ2FuaXphdGlvbiIsImlzX2Vycm9yIiwiY3VycmVudF9zdGVwX25hbWUiLCJpbnN0YW5jZV9yZW1pbmQiLCJyZW1pbmRfdXNlcnMiLCJyZW1pbmRfY291bnQiLCJyZW1pbmRfZGVhZGxpbmUiLCJhY3Rpb25fdHlwZXMiLCJsYXN0X3JlbWluZF91c2VycyIsInByaW9yaXR5IiwiTWF0Y2giLCJPbmVPZiIsImFwIiwiY2FjdWxhdGVfZGF0ZSIsIm1hbnVhbF9kZWFkbGluZSIsImNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5IiwicmVtaW5kX2RhdGUiLCJjYWN1bGF0ZVdvcmtpbmdUaW1lIiwiYmFzZV9kYXRlIiwicGx1c19oYWxmZGF5X2RhdGUiLCJzZW5kUmVtaW5kU01TIiwibmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZCIsImRlYWxfdHlwZSIsInN0ZXBfbmFtZSIsInBhcmFtcyIsImFwcHJvdmVyX3JvbGVzIiwicm9sZXMiLCJyb2xlc19uYW1lIiwiZmxvd19yb2xlcyIsInJvbGVfbmFtZSIsIl9ldmFsIiwiX05VTUJFUiIsIl9ZWVlZIiwibnVtYmVyUnVsZXMiLCJyZXMiLCJydWxlcyIsInNjcmlwdCIsImluc3RhbmNlX251bWJlcl9ydWxlcyIsIm51bWJlciIsIllZWVkiLCJNTSIsImdldE1vbnRoIiwibW0iLCJERCIsImdldERhdGUiLCJkZCIsImZpcnN0X251bWJlciIsIk5VTUJFUiIsIm5ld05vIiwiX2Vycm9yIiwiY2hlY2tfbWFpbl9hdHRhY2giLCJjaGVja01haW5BdHRhY2giLCJyZW1vdmVfcmVsYXRlZCIsInJlX2luc19pZCIsInVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkIiwidXBkYXRlRmxvd1Bvc2l0aW9uIiwiZmxvd19wb3NpdGlvbnMiLCJyb2xlIiwib3JnIiwidXBkYXRlRmxvd1JvbGUiLCJzdGFydF9mbG93IiwiZmxvd0lkIiwic3RhcnQiLCJrZXlWYWx1ZSIsInN0YXJ0X2Zsb3dzIiwic3RlZWRvc19rZXl2YWx1ZXMiLCJnZXRfaW5zdGFuY2VfdHJhY2VzIiwibWluaUFwcHJvdmVGaWVsZHMiLCJjYXRlZ29yeUlkIiwiZmxvd0lkcyIsIl9iYXRjaF9pbnN0YW5jZXMiLCJnZXRCYXRjaEluc3RhbmNlcyIsIm15QXBwcm92ZXMiLCJpbnNJZCIsIm15X2FwcHJvdmUiLCJnZXRNeUFwcHJvdmUiLCJjaGFuZ2VfZmxvd19zdGF0ZSIsIl91c2VySWQiLCJfZmxvd3MiLCJfZmxvd3Nfc3RhdGUiLCJmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUiLCJpc1NwYWNlQWRtaW4iLCJpc192YWxpZCIsImZsb3d0eXBlIiwic3BlY2lmeVN0ZXAiLCJhcHByb3Zlcl9zdGVwIiwiX3N0ZXAiLCJmaWVsZHNfbW9kaWZpYWJsZSIsImhpZGVfaW5zdGFuY2UiLCJpc19oaWRkZW4iLCJwZXJtaXNzaW9uTWFuYWdlciIsImdldEZsb3dQZXJtaXNzaW9ucyIsInNwYWNlcyIsImFkbWlucyIsImdldEluc3RhbmNlVmFsdWVzIiwiQ29va2llcyIsImdldEluc3RhbmNlUmVhZE9ubHkiLCJyZXEiLCJuZXh0IiwiX2hhc1Blcm1pc3Npb24iLCJfbG9jYWxlIiwiX3BhcmVudF9pbnN0YW5jZXMiLCJkYXRhQnVmIiwiaGlkZV90cmFjZXMiLCJzcGFjZVVzZXJDb3VudCIsImdldEFQSUxvZ2luVXNlciIsImFjY2Vzc190b2tlbiIsImdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbiIsIkpzb25Sb3V0ZXMiLCJzZW5kUmVzdWx0IiwiaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyIsIl9wYXJlbnRfaWQiLCJfcGFyZW50X2lucyIsImNoYXJzZXQiLCJCdWZmZXIiLCJzZXRIZWFkZXIiLCJzdGF0dXNDb2RlIiwiZW5kIiwiYWRkIiwiaW5zdGFuY2VfbmFtZSIsImkiLCJyZXRfc3luY190b2tlbiIsInNwYWNlVXNlciIsInNwYWNlVXNlck9yZ2FuaXphdGlvbnMiLCJzeW5jX3Rva2VuIiwiQVBJQXV0aGVudGljYXRpb25DaGVjayIsImhlYWRlcnMiLCJjYW5Nb25pdG9yIiwiY2FuQWRtaW4iLCJOdW1iZXIiLCIkZ3QiLCIkbmluIiwiaW5ib3hfdWVycyIsInNraXAiLCJsaW1pdCIsImNvcGllcyIsImFsbENzcyIsIldlYkFwcCIsImdldFJlZnJlc2hhYmxlQXNzZXRzIiwiY3NzIiwicm9vdFVybCIsIl9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18iLCJST09UX1VSTF9QQVRIX1BSRUZJWCIsIlJPT1RfVVJMIiwiZW5kc1dpdGgiLCJwcm90b3R5cGUiLCJsIiwiZyIsIm0iLCJkIiwiayIsImdldEVhY2giLCJtaXhpbiIsImRlc3QiLCJzcmMiLCJoYW5kZXJVc2VyT2JqZWN0IiwiaHIiLCJzb3J0X25vIiwibW9iaWxlIiwid29ya19waG9uZSIsInBvc2l0aW9uIiwidXNlclJvbGVzIiwiaGFuZGVyT3JnT2JqZWN0IiwiaW5pdF9mb3JtdWxhX3ZhbHVlcyIsImF1dG9Gb3JtRG9jIiwiYXBwcm92ZXIiLCJfX3ZhbHVlcyIsInRhYmxlRmllbGRzIiwidGFibGVWYWx1ZXMiLCJmb3JtdWxhVGFibGVWYWx1ZXMiLCJfX3RhYmxlVmFsdWVzIiwidGFibGVmaWVsZCIsImdldEZvcm11bGFVc2VyT2JqZWN0cyIsImdldEZvcm11bGFPcmdPYmplY3RzIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3QiLCJnZXRIYW5kbGVyc01hbmFnZXIiLCJnZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyIsInVzZXJfaWRzIiwicm9sZV9pZHMiLCJhcHByb3ZlX3VzZXJzIiwiZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyIsInJvbGVfaWQiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUiLCJvcmdzIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUiLCJnZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzIiwib3JnX2lkcyIsImdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyIsInBhcmVudHMiLCJwb3NpdGlvbnMiLCJwYXJlbnRfaWQiLCJnZXRIYW5kbGVycyIsIl9hcHByb3ZlIiwiX3NwYWNlX3VzZXIiLCJfdHJhY2UiLCJhcHBsaWNhbnRTdXBlcmlvcnMiLCJhcHByb3ZlSHJSb2xlSWRzIiwiYXBwcm92ZXJfb3JnX2ZpZWxkIiwiYXBwcm92ZXJfb3JnX2lkcyIsImFwcHJvdmVyX3VzZXJfZmllbGQiLCJhcHByb3Zlcl91c2VyX2lkcyIsImN1cnJlbnRfZmxvdyIsImN1cnJlbnRfZmxvd192ZXJzaW9uIiwiY3VycmVudF9mb3JtIiwiY3VycmVudF9zdGVwcyIsImZpZWxkX2NvZGUiLCJmaW5pc2hlZF90cmFjZXMiLCJmbG93X3JldiIsImZvcm1fcmV2IiwiaGFuZGxlcnMiLCJtYXhfc3RhcnREYXRlX3RyYWNlIiwibmV3X2FwcHJvdmVyX3VzZXJfaWRzIiwibmV3X29yZ191c2VyX2lkcyIsIm5ld2VzdF92YWx1ZXMiLCJuZXh0X3N0ZXBfdXNlcnMiLCJvcmdfaWRzX25hbWVzIiwib3JnX3VzZXJfaWRzIiwic3BhY2VfdXNlcl9jb3VudCIsInN1Ym1pdHRlcl91c2VyX2NvdW50IiwidW5maW5pc2hlZF90cmFjZSIsInVzZXJfaWRzX25hbWVzIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkcyIsImhpc3RvcnkiLCJhcHByb3Zlcl9yb2xlIiwicm9sZV9jb3VudCIsImFwcHJvdmVyX2hyX3JvbGVzIiwiZ2V0SHJSb2xlc1VzZXJzIiwiY3VycmVudF9mbG93X2hpc3RvcnkiLCJmb3JtX2hpc3RvcnkiLCJmb3JtX2ZpZWxkIiwiZ2V0VXBkYXRlZFZhbHVlcyIsImNoZWNrX29yZ19jb3VudCIsImNoZWNrX29yZ3MiLCJvcmdfY2hpbGRyZW4iLCJvcmdfdXNlcnMiLCJ1bnNoaWZ0IiwiY2hlY2tfb3JnX3VzZXIiLCJvcmdfdXNlciIsImNoZWNrX3VzZXJfY291bnQiLCJhcHByb3ZlX3VzZXIiLCJjaGVja19hcHByb3ZlX3VzZXJfY291bnQiLCJhcHByb3Zlcl9vcmdzIiwiYXBwcm92ZXJfb3JnX2lkIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkIiwiY2hpbGRfb3JncyIsInZhbGlkX2FwcHJvdmVyX29yZyIsImNoaWxkX29yZyIsIm9yZ191c2VyX2lkIiwic3BhY2VfdXNlcl9pbmZvX2NvdW50IiwiYXBwcm92ZXJfdXNlcnMiLCJhcHByb3Zlcl91c2VyX2lkIiwiX3RyIiwiX2FwcCIsIm1hbmFnZXIiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsInBlcm1zIiwibGFzdF92YWx1ZXMiLCJhcHByb3ZlX3ZhbHVlc19rZXlzIiwiY2hhbmdlVmFsdWVzIiwibGFzdF92YWx1ZXNfa2V5cyIsImlzRXF1YWwiLCJmbG93TWFuYWdlciIsImdldENhdGVnb3JpZXNGbG93cyIsImNhdGVnb3JpZUlkIiwiY2F0ZWdvcmllc0Zvcm1zIiwiZm9ybU1hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGbG93cyIsInVuQ2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRm9ybXMiLCJfZmllbGRzIiwiY2F0ZWdvcnkiLCJzdGVwTWFuYWdlciIsImFsbG93QmF0Y2giLCJpc0V4aXN0U3RlcCIsImxvZ2dlciIsIkxvZ2dlciIsImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAiLCJmaWVsZF9tYXAiLCJjdXJyZW50QXBwcm92ZXMiLCJjdXJyZW50VHJhY2VzIiwiZ2V0Q3VycmVudFRyYWNlIiwibmV4dF91c2VyX2lkcyIsImdldE5leHRTdGVwcyIsImluYm94X3VzZXIiLCJGSUVMRFMiLCJjYXRlZ29yeUZsb3dzIiwiaW5ib3hfaW5zdGFuY2VzIiwidW5DYXRlZ29yeUZsb3dzIiwic3VibWl0X2RhdGUiLCJjdXJyZW50U3RlcElkIiwicHVibGlzaCIsInJlYWR5IiwiY2F0ZWdvcmllcyIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJjb21wYW55X2lkIiwidmVyc2lvbklkIiwiaGFuZGxlIiwibGF0ZXN0Iiwib2JzZXJ2ZUNoYW5nZXMiLCJjaGFuZ2VkIiwiYWRkZWQiLCJvblN0b3AiLCJzdG9wIiwiZmxvd19pZHMiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZGlzdHJpYnV0ZV90b19zZWxmIiwiZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uIiwiYWxsb3dfc2VsZWN0X3N0ZXAiLCJnZXRNaW5pSW5zdGFuY2UiLCJnZXRNeWFwcHJvdmVNb2RpZmllZCIsImluc3RhbmNlX2ZpZWxkc18wIiwibmVlZENoYW5nZSIsInRyaWdnZXJDaGFuZ2VGaWVsZHMiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzIiwibXlBcHByb3ZlTW9kaWZpZWRzIiwicmVhZF9kYXRlIiwiX2luc3RhbmNlSWQiLCJjaGFuZ2VGaWVsZHMiLCJfY2hhbmdlIiwiX3JldiIsIl9rZXkiLCJfbXlfYXBwcm92ZV9tb2RpZmllZHMiLCJoYXMiLCJnZXRJbnN0YW5jZVRyYWNlcyIsIl9pbnNJZCIsImFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSIsImxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUiLCJpbnN0YW5jZWlkIiwiZGF0YU1hcCIsIm9wZXJhdGlvbiIsInJhd0NvbGxlY3Rpb24iLCJhZ2dyZWdhdGUiLCJ0b0FycmF5IiwiZG9jIiwiZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlIiwiZ2V0U3RlcEN1cnJlbnROYW1lIiwibm90RmluaXNoZWRUcmFjZXMiLCJzdGVwQ3VycmVudE5hbWUiLCIkc2xpY2UiLCJteUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJhZ2VudF91c2VyX25hbWUiLCJteV9maW5pc2hfZGF0ZSIsImlzX2NjIiwiY2NfY291bnQiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiQ3JlYXRvciIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwiYWJzb2x1dGVfcGF0aF9jbiIsImFic29sdXRlX3BhdGhfdXMiLCJmaWxlc0xpc3RfY24iLCJmaWxlc0xpc3RfdXMiLCJtaW1lIiwicGF0aF9jbiIsInBhdGhfdXMiLCJyZWFkRmlsZUxpc3QiLCJwYXRoRGlyIiwiZmlsZXNMaXN0IiwiZmlsZXMiLCJyZWFkZGlyU3luYyIsInN0YXQiLCJzdGF0U3luYyIsImlzRGlyZWN0b3J5Iiwid29ya2Zsb3dUZW1wbGF0ZXMiLCJleGlzdHNTeW5jIiwiZmlsZSIsImdldFR5cGUiLCJyZWFkRmlsZVN5bmMiLCJnb19uZXh0IiwicnVsZSIsInNjaGVkdWxlIiwiY3JvbiIsImF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiIsInNjaGVkdWxlSm9iIiwiYmluZEVudmlyb25tZW50IiwicHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzIiwiZW5hYmxlZCIsImVuZF90aW1lIiwiJGx0ZSIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJ0aW1lb3V0QXV0b1N1Ym1pdCIsInNwZWNpZnlVc2VySWRzIiwiZ2V0VXNlcnMiLCJhcHBsaWNhbnRJZCIsImFwcHJvdmVSb2xlSWRzIiwiZ2V0VXNlciIsImdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzIiwidXNlckZpZWxkIiwidXNlckZpZWxkVmFsdWUiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1bmlxVXNlcnMiLCJ1c2VySWRzIiwic3BhY2VVc2VycyIsImZvcm11bGFfdmFsdWVzIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwibWVzc2FnZSIsImNvbXBhbnlJZCIsInNwYWNlSWRzIiwic3BhY2VzUXVlcnkiLCJjaGVja19hdXRob3JpemF0aW9uIiwiaXNfZGVsZXRlZCIsImhlbHBfdGV4dCIsIm5hbWVfZm9ybXVsYSIsImNvZGVfZm9ybXVsYSIsImN1cnJlbnRfbm8iLCJlcnJvcl9tZXNzYWdlIiwiU3BhY2VVc2VycyIsIlVzZXJzIiwiRm9ybXMiLCJGbG93cyIsIk9yZ2FuaXphdGlvbnMiLCJQb3NpdGlvbnMiLCJSb2xlcyIsIkNhdGVnb3JpZXMiLCJTcGFjZXMiLCJoYXNoRGF0YSIsImFwcHJvdmVfZnJvbV9jbGllbnQiLCJ3b3JrZmxvd19lbmdpbmUiLCJpbnNlcnRlZF9pbnN0YW5jZXMiLCJpbnN0YW5jZV9mcm9tX2NsaWVudCIsIm5ld19pbnMiLCJuZXdfaW5zX2lkIiwiY3JlYXRlX2luc3RhbmNlIiwiaW5zZXJ0cyIsImRlbGV0ZV9vYmoiLCJnZXRTcGFjZSIsInN1Ym1pdF9pbnN0YW5jZSIsImFsZXJ0cyIsImRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kIiwiZmxvd192ZXJfZW5kX3N0ZXAiLCJmbG93X3ZlcnMiLCJpbnN0YW5jZV9mbG93X3ZlciIsImluc3RhbmNlX3RyYWNlIiwib2xkX2NjX3VzZXJzIiwib2xkX2luYm94X3VzZXJzIiwib2xkX291dGJveF91c2VycyIsInNwYWNlX3VzZXJfb3JnX2luZm8iLCJ0ZW1wVXNlcnMiLCJ0ZXJtaW5hdGVfcmVhc29uIiwiZl92ZXIiLCJmX3N0ZXAiLCJjb3N0X3RpbWUiLCJuZnRfYXBwcm92ZSIsImN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCIsInNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIiLCJfdXNlcnMiLCJhcHByb3ZlX3VzZXJzX2hhbmRsZXJzIiwiYXNzaWduZWVfYXBwciIsImN1cnJlbnRfc3BhY2VfdXNlciIsImN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24iLCJpbmJveF91c2Vyc19mcm9tX2NsaWVudCIsImxhc3RfdHJhY2VfZnJvbV9jbGllbnQiLCJub3RfaW5faW5ib3hfdXNlcnMiLCJyZWFzc2lnbl9yZWFzb24iLCJkaWZmZXJlbmNlIiwibmV3X2FwcHIiLCJuZXdfdXNlciIsInVzZXJfb3JnYW5pemF0aW9uIiwiYWgiLCJjdXJyZW50X3NldHAiLCJjdXJyZW50X3NldHBfdHlwZSIsIm5leHRfc3RlcCIsIm5leHRfc3RlcF9uYW1lIiwibmV4dF9zdGVwX3R5cGUiLCJyZWxvY2F0ZV9hcHByIiwicmVsb2NhdGVfY29tbWVudCIsInJlbG9jYXRlX2luYm94X3VzZXJzIiwicmVsb2NhdGVfbmV4dF9zdGVwIiwic2FtZVRyYWNlcyIsInNpZ25TaG93QXBwcm92ZUlkIiwidGEiLCJ0aSIsImdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdCIsImxpbmVzIiwiaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkIiwiaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluIiwiY29ubmVjdEhhbmRsZXJzIiwidXNlIiwiZWpzIiwiZWpzTGludCIsImVuZF9kYXRlIiwiZXJyb3Jfb2JqIiwiZm9ybV9uYW1lIiwiaW5zX3RvX3hscyIsImxhc3RfbW9udGhfZGF0ZSIsInJldCIsInRpbWV6b25lb2Zmc2V0IiwicGFyc2VJbnQiLCIkZ3RlIiwiJGFuZCIsImxpbnQiLCJhdXRoX3Rva2VuIiwiZm9ybWlkcyIsImlzX2FkbWluIiwiZ2V0X1NwYWNlQ2hhbmdlU2V0IiwibGFzdF90cmFjZV9pZCIsIm9yZ19pbmZvIiwicHJldmlvdXNfc3RlcCIsInByZXZpb3VzX3RyYWNlIiwicHJldmlvdXNfdHJhY2VfYXBwcm92ZXMiLCJwcmV2aW91c190cmFjZV9pZCIsInByZXZpb3VzX3RyYWNlX25hbWUiLCJwcmV2aW91c190cmFjZV9zdGVwX2lkIiwicmV0cmlldmVfYXBwcm92ZSIsInJldHJpZXZlX2NvbW1lbnQiLCJyZXRyaWV2ZV90eXBlIiwidGhlX3RyYWNlIiwicmV0cmlldmVfYXBwciIsIm9sZF9zcGFjZV9pZCIsImZvcndhcmRfdXNlcnMiLCJub19wZXJtaXNzaW9uX3VzZXJfaWRzIiwidWlkIiwibm9fcGVybWlzc2lvbl91c2Vyc19uYW1lIiwibmV3X2luc19pZHMiLCJjdXJyZW50X3RyYWNlX2lkIiwiZm9yd2FyZF9hcHByb3ZlcyIsIm9sZF92YWx1ZXMiLCJuZXdfdmFsdWVzIiwib2xkX2Zvcm0iLCJvbGRfZm9ybV92ZXJzaW9uIiwib2xkX2ZpZWxkcyIsImNvbW1vbl9maWVsZHMiLCJzZWxlY3RfdG9faW5wdXRfZmllbGRzIiwiZXhpc3RzX2ZpZWxkIiwic2VsZWN0X2lucHV0X2ZpZWxkIiwib2xkX3YiLCJvbGRfbXVsdGlTZWxlY3RlZCIsIm5ld19tdWx0aVNlbGVjdGVkIiwib2xkX3RhYmxlX3Jvd192YWx1ZXMiLCJuZXdfdGFibGVfcm93X3ZhbHVlcyIsInJlY29yZF9uZWVkIiwiRk9ORFNJRCIsImlzY3JpcHQiLCJjYXRlZ29yeV9uYW1lIiwiZ2V0Q2F0ZWdvcnkiLCJpbnNfb2JqIiwiX21ha2VOZXdJRCIsInN1Ym1pdHRlcl9uYW1lIiwiZm9yd2FyZF9mcm9tX2luc3RhbmNlIiwidHJhY2Vfb2JqIiwiYXBwcl9vYmoiLCJhdXRvX3JlbWluZCIsImZsb3dfbmFtZSIsImNvbGxlY3Rpb24iLCJpbnN0YW5jZUh0bWwiLCJpbnN0YW5jZUZpbGUiLCJGUyIsIkZpbGUiLCJhdHRhY2hEYXRhIiwiZnJvbSIsInNpemUiLCJvd25lciIsIm93bmVyX25hbWUiLCJmaWxlT2JqIiwibWFpbiIsIm5ld0ZpbGUiLCJvcmlnaW5hbCIsInVwZGF0ZV9yZWFkIiwicmVkaXJlY3RUbyIsInJlZGlyZWN0VG9VcmwiLCJyZXFfYXN5bmMiLCJzdGF0dXMiLCJzZW5kIiwid3JpdGVIZWFkIiwiYXR0YWNoIiwibm9fbGltaXRfY291bnQiLCJyZWY1IiwicmVzdWx0X2luc3RhbmNlcyIsInNwYWNlX25hbWVzIiwic3BlY2lhbF91c2VyX2lkIiwidXNlcmlkIiwidXNlcm5hbWUiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwicmVmNiIsInJlZjciLCJhdXRoVG9rZW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF91c2VybmFtZSIsInVzZXJfYWNjZXB0ZWQiLCJwZXJtX3VzZXJzIiwibmV4dF9zdGVwX2lkIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwic3RlcG5hbWUiLCIkZWxlbU1hdGNoIiwicGFyc2VGaWxlcyIsIm1pbWVUeXBlIiwiZmlsZW5hbWUiLCJ0b0xvd2VyQ2FzZSIsInBvcCIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzX3ByaXZhdGUiLCJsb2NrZWRfYnkiLCJsb2NrZWRfYnlfbmFtZSIsImF0dGFjaF9pZCIsImNvbHVtbnMiLCJmb3J3YXJkX2lucyIsImZvcndhcmRfaW5zX3ZhbHVlcyIsIm9yaWdpbmFsX2lucyIsIm9yaWdpbmFsX2luc19maWVsZHMiLCJvcmlnaW5hbF9pbnNfZm9ybSIsIm9yaWdpbmFsX2luc19pZCIsIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyIsInJlZjgiLCJyZWY5Iiwicm93X2RhdGEiLCJzdWJUYWJsZSIsInRhYmxlX2RhdGEiLCJjb2x1bW4iLCJvcmlnaW5hbF9pbnNfZmllbGQiLCJvaCIsImFfdGFibGUiLCJhX3RhYmxlX3ZhbHVlcyIsImNvbHVtbl9saXN0IiwiZF9pbnMiLCJkX2luc19maWVsZHMiLCJkX2luc19mb3JtIiwiZF9pbnNfdmFsdWVzIiwiZF9tYXRjaF9jb2wiLCJkX21hdGNoX2NvbF9maWVsZCIsImRfbWF0Y2hfY29sX2ZpZWxkcyIsImRfc3VidGFibGVfZmllbGRzIiwiZF90YWJsZSIsImRfdGFibGVfdmFsdWVzIiwib19pbnMiLCJvX2luc19maWVsZHMiLCJvX2luc19mb3JtIiwib19pbnNfaWQiLCJvX21hdGNoX2NvbCIsIm9fbWF0Y2hfY29sX2ZpZWxkIiwib19tYXRjaF9jb2xfZmllbGRzIiwib19zdWJ0YWJsZV9maWVsZHMiLCJvX3RhYmxlIiwicmVmMTAiLCJyZWYxMSIsInJlZjEyIiwicmVmMTMiLCJyZWYxNCIsInJlZjE1IiwicmVmMTYiLCJyZWYxNyIsInJlZjE4IiwicmVmMTkiLCJyZWYyMCIsInJlZjIxIiwicmVmMjIiLCJvVGFibGUiLCJkVGFibGUiLCJvTWF0Y2hDb2wiLCJkTWF0Y2hDb2wiLCJyZWZpbGxDb2wiLCJhVGFibGUiLCJvX2luc19maWVsZCIsImRfaW5zX2ZpZWxkIiwiZGgiLCJhX3JvdyIsInJlc3VsdHMiLCJjb2wiLCJjb2xzIiwiZF9jb2wiLCJkX2NvbF9maWVsZHMiLCJvX2NvbCIsIm9fY29sX2ZpZWxkcyIsImRfcm93IiwiaGFzX29iaiIsIm9fcm93IiwibmV3X3RhYmxlX3ZhbHVlcyIsInNvcnRfY29sIiwic3ViX3RhYmxlIiwic3ViX3RhYmxlX3ZhbHVlcyIsInN1bV9jb2wiLCJzdW1Db2wiLCJzb3J0Q29sIiwic2luZ2xlQ29scyIsIkpzb25Tb3J0IiwianNvbkFyciIsImFzYyIsImoiLCJqbCIsInRlbXAiLCJpc0RldmVsb3BtZW50IiwidG9fdXNlcnMiLCJvcmdJZHMiLCJUYWJ1bGFyVGFibGVzIiwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciIsIlRhYnVsYXIiLCJUYWJsZSIsIm9yZGVyYWJsZSIsInJlbmRlciIsImlucHV0Iiwic3RlcF9jdXJyZW50X25hbWUiLCJkb20iLCJsZW5ndGhDaGFuZ2UiLCJleHRyYUZpZWxkcyIsInBhZ2VMZW5ndGgiLCJpbmZvIiwic2VhcmNoaW5nIiwicmVzcG9uc2l2ZSIsImRldGFpbHMiLCJhdXRvV2lkdGgiLCJjaGFuZ2VTZWxlY3RvciIsImN1clNwYWNlVXNlciIsImZsIiwiR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMiLCJfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zIiwiX2hhbmRsZUxpc3RGaWVsZHMiLCJpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyIiwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIiLCJ1cGRhdGVUYWJ1bGFyVGl0bGUiLCJzdWJzIiwiU3Vic01hbmFnZXIiLCJpbnNfZmllbGRzIiwicHViIiwib25VbmxvYWQiLCJpbnN0YW5jZV9saXN0IiwiX3RhYmxlQ29sdW1ucyIsImRyYXdDYWxsYmFjayIsImVsbGlwc2lzTGluayIsImVtcHR5VGQiLCJjb2xTcGFuIiwiaXNQYWQiLCJwZXJmZWN0U2Nyb2xsYmFyIiwib0luc3RhbmNlIiwiYXR0ciIsImNsaWNrIiwiZ29QYWdlIiwiaGVpZ2h0IiwicGFnZXMiLCJNYXRoIiwiY2VpbCIsImZuUmVjb3Jkc0Rpc3BsYXkiLCJfaURpc3BsYXlMZW5ndGgiLCJEYXRhVGFibGUiLCJwYWdlIiwiZHJhdyIsImJsdXIiLCJjdXJyZW50UGFnZSIsImtleWRvd24iLCJrZXlDb2RlIiwiY3JlYXRlZFJvdyIsInJvdyIsImRhdGFJbmRleCIsIkZsb3dSb3V0ZXIiLCJzZXRBdHRyaWJ1dGUiLCJhZ2VudF92aWV3IiwiY2NfdmlldyIsImluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MiLCJtb2RpZmllZEZyb21Ob3ciLCJtb2RpZmllZFN0cmluZyIsInByaW9yaXR5SWNvbiIsInByaW9yaXR5SWNvbkNsYXNzIiwicHJpb3JpdHlWYWx1ZSIsInN0ZXBfY3VycmVudF9uYW1lX3ZpZXciLCJ1bnJlYWQiLCJtb21lbnRSZWFjdGl2ZUZyb21Ob3ciLCJ2aXNpYmxlIiwiY2NfdGFnIiwibGVuZ3RoTWVudSIsInBhZ2luZ1R5cGUiLCJpc19saXN0X2Rpc3BsYXkiLCJmaWx0ZXJlZFJlY29yZElkcyIsIm9sZF9maWx0ZXJlZFJlY29yZElkcyIsImZpbmRPcHRpb25zIiwiYWdfc29ydCIsImFnZ3JlZ2F0ZV9vcGVyYXRpb24iLCJhc3luY19hZ2dyZWdhdGUiLCJzMV8wIiwiczFfMSIsIiRwcm9qZWN0IiwiJHVud2luZCIsIiRmaXJzdCIsIiRzb3J0IiwiJHNraXAiLCIkbGltaXQiLCJjYiIsIiRsYXN0Iiwib3V0Ym94X2luc3RhbmNlcyIsImZsb3dJbnN0YW5jZXMiLCJSZWFjdGl2ZVZhciIsImF1dG9ydW4iLCJfY2hhbmdlT3JkZXIiXSwibWFwcGluZ3MiOiI7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsSUFBSUEsZ0JBQUo7QUFBcUJDLE1BQU0sQ0FBQ0MsSUFBUCxDQUFZLG9DQUFaLEVBQWlEO0FBQUNGLGtCQUFnQixDQUFDRyxDQUFELEVBQUc7QUFBQ0gsb0JBQWdCLEdBQUNHLENBQWpCO0FBQW1COztBQUF4QyxDQUFqRCxFQUEyRixDQUEzRjtBQUNyQkgsZ0JBQWdCLENBQUM7QUFDaEIsbUJBQWlCLFFBREQ7QUFFaEJJLFNBQU8sRUFBRSxRQUZPO0FBR2hCLFlBQVUsU0FITTtBQUloQkMsUUFBTSxFQUFFLFFBSlE7QUFLaEIsZ0JBQWM7QUFMRSxDQUFELEVBTWIsa0JBTmEsQ0FBaEIsQzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQ0RBQyxXQUFXLEVBQVg7QUFFQSxLQUFDQyxTQUFELEdBQWEsRUFBYjtBQUVBLEtBQUNDLGNBQUQsR0FBa0IsRUFBbEI7QUFFQSxLQUFDQyxvQkFBRCxHQUF3QixFQUF4QjtBQUVBLEtBQUNDLDBCQUFELEdBQThCLEVBQTlCO0FBRUEsS0FBQ0MsZ0JBQUQsR0FBb0IsRUFBcEI7QUFFQSxLQUFDQyxnQkFBRCxH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eyBjaGVja05wbVZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL3RtZWFzZGF5OmNoZWNrLW5wbS12ZXJzaW9ucyc7XHJcbmNoZWNrTnBtVmVyc2lvbnMoe1xyXG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxyXG5cdGNvb2tpZXM6IFwiXjAuNi4yXCIsXHJcblx0XCJ4bWwyanNcIjogXCJeMC40LjE5XCIsXHJcblx0bWtkaXJwOiBcIl4wLjMuNVwiLFxyXG5cdFwic3ByaW50Zi1qc1wiOiBcIl4xLjAuM1wiLFxyXG59LCAnc3RlZWRvczp3b3JrZmxvdycpOyIsIldvcmtmbG93ID0ge31cclxuXHJcbkBJbWFnZVNpZ24gPSB7fTtcclxuXHJcbkBUcmFjZXNUZW1wbGF0ZSA9IHt9O1xyXG5cclxuQEluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XHJcblxyXG5ASW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcclxuXHJcbkBJbnN0YW5jZVNpZ25UZXh0ID0ge31cclxuXHJcbkBSZWxhdGVkSW5zdGFuY2VzID0ge31cclxuXHJcbkBSZWxhdGVkUmVjb3JkcyA9IHt9XHJcblxyXG5ASW5zdGFuY2VNYWNybyA9IHtjb250ZXh0OiB7fX1cclxuXHJcbkBUcmFjZXNNYW5hZ2VyID0ge307XHJcblxyXG5pZiBNZXRlb3IuaXNDbGllbnRcclxuXHRNZXRlb3Iuc3RhcnR1cCAtPlxyXG5cdFx0d29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9IGxvY2FsU3RvcmFnZS5nZXRJdGVtKFwid29ya2Zsb3dfdGhyZWVfY29sdW1uc1wiKVxyXG5cdFx0aWYgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyBhbmQgd29ya2Zsb3dfdGhyZWVfY29sdW1ucyA9PSBcIm9mZlwiXHJcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwidGhyZWUtY29sdW1uc1wiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcInRocmVlLWNvbHVtbnNcIilcclxuXHJcblxyXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRyZXR1cm4gKGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3lpamlhbmxhbjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie1xcXCJ5aWppYW5sYW5cXFwiOlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpID4gLTEpXHJcblxyXG5JbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkID0gKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG5cdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdF9mb3JtX3ZlcnNpb24gPSB7fVxyXG5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe19pZDogZm9ybX0pLCBmb3JtX3ZlcnNpb24pXHJcblx0ZWxzZVxyXG5cdFx0X2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KVxyXG5cclxuXHRmaWVsZHMgPSBfZm9ybV92ZXJzaW9uPy5maWVsZHMgfHwgW11cclxuXHJcblx0ZmllbGRzLmZvckVhY2ggKGYpLT5cclxuXHRcdGlmIGYudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRmPy5maWVsZHM/LmZvckVhY2ggKGYxKS0+XHJcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXHJcblx0XHRlbHNlXHJcblx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZi5mb3JtdWxhXHJcblxyXG5cdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXHJcblxyXG4iLCIgICAgICAgICAgICAgXG5cbldvcmtmbG93ID0ge307XG5cbnRoaXMuSW1hZ2VTaWduID0ge307XG5cbnRoaXMuVHJhY2VzVGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VTaWduVGV4dCA9IHt9O1xuXG50aGlzLlJlbGF0ZWRJbnN0YW5jZXMgPSB7fTtcblxudGhpcy5SZWxhdGVkUmVjb3JkcyA9IHt9O1xuXG50aGlzLkluc3RhbmNlTWFjcm8gPSB7XG4gIGNvbnRleHQ6IHt9XG59O1xuXG50aGlzLlRyYWNlc01hbmFnZXIgPSB7fTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICBNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgICB2YXIgd29ya2Zsb3dfdGhyZWVfY29sdW1ucztcbiAgICB3b3JrZmxvd190aHJlZV9jb2x1bW5zID0gbG9jYWxTdG9yYWdlLmdldEl0ZW0oXCJ3b3JrZmxvd190aHJlZV9jb2x1bW5zXCIpO1xuICAgIGlmICh3b3JrZmxvd190aHJlZV9jb2x1bW5zICYmIHdvcmtmbG93X3RocmVlX2NvbHVtbnMgPT09IFwib2ZmXCIpIHtcbiAgICAgIHJldHVybiAkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcInRocmVlLWNvbHVtbnNcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkKFwiYm9keVwiKS5hZGRDbGFzcyhcInRocmVlLWNvbHVtbnNcIik7XG4gICAgfVxuICB9KTtcbn1cblxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgcmV0dXJuIChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7eWlqaWFubGFuOlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie1xcXCJ5aWppYW5sYW5cXFwiOlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA6IHZvaWQgMCkgPiAtMTtcbn07XG5cbkluc3RhbmNlU2lnblRleHQuaW5jbHVkZXNPcGluaW9uRmllbGQgPSBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgdmFyIF9mb3JtX3ZlcnNpb24sIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHM7XG4gIGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG4gIF9mb3JtX3ZlcnNpb24gPSB7fTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIF9mb3JtX3ZlcnNpb24gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtXG4gICAgfSksIGZvcm1fdmVyc2lvbik7XG4gIH0gZWxzZSB7XG4gICAgX2Zvcm1fdmVyc2lvbiA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1fdmVyc2lvbixcbiAgICAgIGZvcm06IGZvcm1cbiAgICB9KTtcbiAgfVxuICBmaWVsZHMgPSAoX2Zvcm1fdmVyc2lvbiAhPSBudWxsID8gX2Zvcm1fdmVyc2lvbi5maWVsZHMgOiB2b2lkIDApIHx8IFtdO1xuICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGYxKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYxLmZvcm11bGEpO1xuICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYuZm9ybXVsYSk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF8uc29tZShmaWVsZF9mb3JtdWxhcywgZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9KTtcbn07XG4iLCJkYi5hdXRoX3Rva2VucyA9IG5ldyBNZXRlb3IuQ29sbGVjdGlvbignYXV0aF90b2tlbnMnKSIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSA9IHt9O1xyXG5cclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbnN0YW5jZV9hdHRhY2htZW50ID0gXCJcIlwiXHJcblx0PHRyPlxyXG5cdFx0PHRkIGNsYXNzPVwiaW5zLWF0dGFjaC12aWV3XCI+XHJcblx0XHRcdDxhIGhyZWY9XCJ7e2luc19hdHRhY2hfZG93bmxvYWRfdXJsIF9pZCBhYnNvbHV0ZX19XCIgY2xhc3M9XCJpbnNfYXR0YWNoX2hyZWZcIiB0YXJnZXQ9XCJfcGFyZW50XCIgZGF0YS1uYW1lPVwie3t0aGlzLm5hbWV9fVwiIGRhdGEtdHlwZT1cInt7dGhpcy5vcmlnaW5hbC50eXBlfX1cIiBkYXRhLWlkPVwie3tfaWR9fVwiPnt7dGhpcy5uYW1lfX08L2E+XHJcblx0XHQ8L3RkPlxyXG5cdDwvdHI+XHJcblwiXCJcIlxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmU2VsZWN0VXNlclJlYWQgPSBcIlwiXCJcclxuXHQ8ZGl2IGNsYXNzPSdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50Jz57e3ZhbHVlfX08L2Rpdj5cclxuXCJcIlwiXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiXCJcIlxyXG5cdDxkaXYgY2xhc3M9J2Zvcm0tZ3JvdXAnPlxyXG5cdFx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxyXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XHJcblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbCBwYW5lbC1kZWZhdWx0IHN0ZWVkb3MtdGFibGVcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWJvZHlcIiBzdHlsZT1cInBhZGRpbmc6MHB4O1wiPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1oZWFkaW5nXCIgPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImRlc2NyaXB0aW9uXCI+e3t7ZGVzY3JpcHRpb259fX08L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInJlYWRvbmx5LXRhYmxlXCIgc3R5bGU9XCJwYWRkaW5nOjBweDtvdmVyZmxvdy14OmF1dG87XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcIiBzdHlsZT0nbWFyZ2luLWJvdHRvbTowcHg7JyB7e3RoaXMuYXR0c319IGlkPVwie3t0aGlzLmNvZGV9fVRhYmxlXCIgbmFtZT1cInt7dGhpcy5jb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e3RoaXMubmFtZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRoZWFkIGlkPVwie3t0aGlzLm5hbWV9fVRoZWFkXCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UaGVhZFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XCJ7e3RoaXMubmFtZX19VGJvZHlcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRib2R5XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdHt7I2lmIHNob3dMYWJlbH19XHJcblx0XHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2PlxyXG5cdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0e3svaWZ9fVxyXG5cdFx0e3svd2l0aH19XHJcblx0PC9kaXY+XHJcblwiXCJcIlxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwID0gXCJcIlwiXHJcblxyXG5cdHt7I3dpdGggZ2V0RmllbGQgdGhpcy5uYW1lfX1cclxuXHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3NlY3Rpb24nfX1cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XHJcblx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuICBcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicmVhZG9ubHktdGFibGVcIiBzdHlsZT1cInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCIgZGF0YS1yZXF1aXJlZD1cInt7I2lmIGlzX3JlcXVpcmVkfX10cnVle3svaWZ9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIge3tnZXRQZXJtaXNzaW9ucyBjb2RlfX0gZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJudW1iZXJcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlJ319XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9XCJkYXRlXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdkYXRlVGltZSd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInRleHRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS10eXBlPSdkYXRldGltZScgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdwYXNzd29yZCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInBhc3N3b3JkXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9XCJ7e3ZhbHVlfX1cIj57e2xhYmVsfX08L29wdGlvbj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9lYWNofX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9zZWxlY3Q+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3JhZGlvJ319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhZi1yYWRpby1ncm91cFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XHJcbiAgICAgICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cInJhZGlvXCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cInJhZGlvLWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XHJcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxyXG4gICAgXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ211bHRpU2VsZWN0J319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJhZi1jaGVja2JveC1ncm91cFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ7e3ZhbHVlfX1cIiBuYW1lPVwie3suLi9jb2RlfX1cIiBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+IHt7bGFiZWx9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cInVybFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2VtYWlsJ319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwiZW1haWxcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdjaGVja2JveCd9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY2hlY2tib3hcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIj48aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgdmFsdWU9XCJ0cnVlXCIgbmFtZT1cInt7Y29kZX19XCIgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0ne3tnZXRDZkNsYXNzIHRoaXN9fSBmb3JtLWNvbnRyb2wnIHJlYWRvbmx5IGRpc2FibGVkPnt7e2dldFZhbHVlIGNvZGV9fX08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0e3svaWZ9fVxyXG5cdFx0e3svd2l0aH19XHJcblwiXCJcIlxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9ICh0ZW1wYWx0ZU5hbWUsIHN0ZWVkb3NEYXRhKSAtPlxyXG5cdHRlbXBsYXRlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlW3RlbXBhbHRlTmFtZV1cclxuXHJcblx0dGVtcGxhdGVDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0dGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0gPSBuZXcgQmxhemUuVGVtcGxhdGUodGVtcGFsdGVOYW1lLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uKTtcclxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHRUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdLmhlbHBlcnMgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVyc1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSAoc3RlZWRvc0RhdGEpLT5cclxuXHRpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJylcclxuXHJcblx0aW5zdGFuY2VTaWduVGV4dENvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbnN0YW5jZVNpZ25UZXh0SHRtbCwge2lzQm9keTogdHJ1ZX0pO1xyXG5cclxuXHRpbnN0YW5jZVNpZ25UZXh0UmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlU2lnblRleHRDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlU2lnblRleHQgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZVNpZ25UZXh0XCIsIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzIEluc3RhbmNlU2lnblRleHQuaGVscGVyc1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbiA9IChzdGVlZG9zRGF0YSkgLT5cclxuXHRpbWFnZVNpZ25IdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW1hZ2Vfc2lnbi5odG1sJylcclxuXHRpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xyXG5cdGltYWdlU2lnblJlbmRlckZ1bmN0aW9uID0gZXZhbChpbWFnZVNpZ25Db21waWxlZCk7XHJcblx0VGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcclxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cdFRlbXBsYXRlLmltYWdlU2lnbi5oZWxwZXJzIEltYWdlU2lnbi5oZWxwZXJzXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSAoc3RlZWRvc0RhdGEpIC0+XHJcblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xyXG5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XHJcblxyXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge2Fic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZX0pO1xyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSlcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxyXG5cclxuZ2V0TGlua1RleHQgPSAoaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpLT5cclxuXHRpZiBkZXRhaWxfdXJsXHJcblx0XHRkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpXHJcblx0XHRpZiAhL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybClcclxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcclxuXHRcdHJldHVybiAnPGEgaHJlZj1cIicrZGV0YWlsX3VybCsnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JytsYWJlbCsnPC9hPic7XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIGxhYmVsXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSAodmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkgLT5cclxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2VcclxuXHRcdHJldHVybiAnJ1xyXG5cdHN3aXRjaCBmaWVsZC50eXBlXHJcblx0XHR3aGVuICdlbWFpbCdcclxuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXHJcblx0XHR3aGVuICd1cmwnXHJcblx0XHRcdGlmIHZhbHVlXHJcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxyXG5cdFx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHRcdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gJydcclxuXHRcdHdoZW4gJ2dyb3VwJ1xyXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcclxuXHRcdHdoZW4gJ3VzZXInXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcclxuXHRcdHdoZW4gJ3Bhc3N3b3JkJ1xyXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXHJcblx0XHR3aGVuICdjaGVja2JveCdcclxuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUgIT0gJ2ZhbHNlJ1xyXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpXHJcblx0XHR3aGVuICdkYXRlVGltZSdcclxuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUubGVuZ3RoID09IDE2XHJcblx0XHRcdFx0dCA9IHZhbHVlLnNwbGl0KFwiVFwiKVxyXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XHJcblx0XHRcdFx0dDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcclxuXHJcblx0XHRcdFx0eWVhciA9IHQwWzBdO1xyXG5cdFx0XHRcdG1vbnRoID0gdDBbMV07XHJcblx0XHRcdFx0ZGF0ZSA9IHQwWzJdO1xyXG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XHJcblx0XHRcdFx0c2Vjb25kcyA9IHQxWzFdO1xyXG5cclxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG5cclxuXHRcdFx0dmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcclxuXHRcdHdoZW4gJ2lucHV0J1xyXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxyXG5cdFx0XHRcdHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKVxyXG5cdFx0d2hlbiAnbnVtYmVyJ1xyXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXHJcblx0XHRcdFx0aWYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnXHJcblx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cylcclxuXHRcdFx0XHR2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcgdmFsdWUsIGxvY2FsZVxyXG5cdFx0d2hlbiAnb2RhdGEnXHJcblx0XHRcdGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cclxuXHRcdFx0XHRcdHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHJcblx0cmV0dXJuIHZhbHVlO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gKGZpZWxkcywgY29kZSkgLT5cclxuXHRmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxyXG5cdGlmIGZpZWxkXHJcblx0XHRpZiBmaWVsZC5uYW1lXHJcblx0XHRcdHJldHVybiBmaWVsZC5uYW1lXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmaWVsZC5jb2RlXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSAoaW5zdGFuY2UpLT5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHJcblx0Zm9ybV92ZXJzaW9uID0ge31cclxuXHJcblx0Zm9ybV9maWVsZHMgPSBbXTtcclxuXHJcblx0aWYgZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cclxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxyXG5cdGVsc2VcclxuXHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF1cclxuXHJcblx0Zm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxyXG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdGlmIGZpZWxkLmZpZWxkc1xyXG5cdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoIChmKSAtPlxyXG5cdFx0XHRcdFx0Zm9ybV9maWVsZHMucHVzaChmKTtcclxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ11cclxuXHRcdFx0ZGVsZXRlIGZpZWxkWydmaWVsZHMnXVxyXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblxyXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcclxuXHJcblx0cmV0dXJuIGZvcm1fdmVyc2lvbjtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IChpbnN0YW5jZSktPlxyXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xyXG5cdGZsb3dfdmVyc2lvbiA9IHt9XHJcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxyXG5cdGVsc2VcclxuXHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF1cclxuXHJcblx0cmV0dXJuIGZsb3dfdmVyc2lvbjtcclxuXHJcblxyXG5fZ2V0Vmlld0h0bWwgPSAocGF0aCkgLT5cclxuXHR2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpXHJcblxyXG5cdGlmIHZpZXdIdG1sXHJcblx0XHR2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSxcIlwiKVxyXG5cclxuXHRyZXR1cm4gdmlld0h0bWw7XHJcblxyXG5fZ2V0TG9jYWxlID0gKHVzZXIpLT5cclxuXHRpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0ZWxzZSBpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2VuLXVzJ1xyXG5cdFx0bG9jYWxlID0gXCJlblwiXHJcblx0ZWxzZVxyXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0cmV0dXJuIGxvY2FsZVxyXG5cclxuXHJcbl9nZXRSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHJldiktPlxyXG5cdGlmICFyZXZcclxuXHRcdHJldiA9IFtdO1xyXG5cclxuXHRmaWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldilcclxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBmaWVsZC5pc19yZXF1aXJlZFxyXG5cdFx0XHRcdHJldi5wdXNoIGZpZWxkLmNvZGVcclxuXHRyZXR1cm4gcmV2O1xyXG5cclxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cclxuXHRzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsXCJzdGFydFwiKVxyXG5cclxuXHRlZGl0YWJsZUNvZGUgPSBbXVxyXG5cclxuXHRfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoIChrZXkpLT5cclxuXHRcdGlmIHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09ICdlZGl0YWJsZSdcclxuXHRcdFx0ZWRpdGFibGVDb2RlLnB1c2gga2V5XHJcblxyXG5cdHJldHVybiBlZGl0YWJsZUNvZGVcclxuXHJcbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XHJcblx0cmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKVxyXG5cclxuXHRlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcylcclxuXHJcblx0cmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpXHJcblxyXG5fZ2V0VGVtcGxhdGVEYXRhID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXHJcblxyXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcilcclxuXHJcblx0c3RlZWRvc0RhdGEgPSB7fVxyXG5cclxuXHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGVcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvblxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZFxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZFxyXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblxyXG5cdHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2VcclxuXHRzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb25cclxuXHRzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGVcclxuXHRzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldFxyXG5cdHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWRcclxuXHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRpZiBvcHRpb25zPy5lZGl0YWJsZVxyXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSlcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxyXG5cclxuXHRcdFx0c3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcclxuXHJcblx0cmV0dXJuIHN0ZWVkb3NEYXRhO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSAoZGF0ZSwgdXRjT2Zmc2V0KS0+XHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRwYXNzaW5nID0gZmFsc2U7XHJcblx0ZWxzZVxyXG5cdFx0cGFzc2luZyA9IHRydWU7XHJcblxyXG5cdGlmICF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9MFxyXG5cdFx0dXRjT2Zmc2V0ID0gOFxyXG5cclxuXHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUpO1xyXG5cclxuXHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZyxcImFmU2VsZWN0VXNlclJlYWRcIilcclxuXHJcblx0aWYgIW9wdGlvbnM/LmVkaXRhYmxlXHJcblx0XHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLFwiYWZGb3JtR3JvdXBSZWFkXCIpXHJcblxyXG5cdGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0aW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xyXG5cclxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBcIlwiXCJcclxuXHRcdDxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxyXG5cdFx0XHQje2JvZHl9XHJcblx0XHQ8L2Rpdj5cclxuXHRcIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09IFwidGFibGVcIiB8fCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gXCJ0YWJsZVwiXHJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKVxyXG5cdGVsc2VcclxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpXHJcblxyXG5cdHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0dHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcylcclxuXHJcblx0cmV0dXJuIGJvZHk7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlKS0+XHJcblxyXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblxyXG5cdGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpXHJcblxyXG5cdGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0YXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblxyXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XHJcblxyXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXHJcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpXHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0cmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzIFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVyc1xyXG5cclxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpXHJcblxyXG5cdHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzIFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSlcclxuXHJcblx0cmV0dXJuIGJvZHk7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gKGluc3RhbmNlKS0+XHJcblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHJcblx0Zm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XHJcblxyXG5cdGlmIGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLFwiXCIpLnJlcGxhY2UoL1xccy9nLFwiXCIpLmxlbmd0aCA+IDBcclxuXHRcdGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHRcclxuXHRcdGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCJcclxuXHRlbHNlXHJcblx0XHRmb3JtX3NjcmlwdCA9IFwiXCJcclxuXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0Ym9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcclxuXHJcblx0b25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XHJcblxyXG5cdGNyZWF0b3JTZXJ2aWNlID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53ZWJzZXJ2aWNlcz8uY3JlYXRvcj8udXJsXHJcblx0aW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzXHJcblxyXG5cdG9wZW5GaWxlU2NyaXB0ID0gXCJcIlwiXHJcblx0XHRcdGlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xyXG5cdFx0XHRcdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zX2F0dGFjaF9ocmVmXCIpO1xyXG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XHJcblx0XHRcdFx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgdGhpcy5kYXRhc2V0LmlkKTtcclxuXHRcdFx0XHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGZsb3cgPSBcIiN7aW5zdGFuY2UuZmxvd31cIjtcclxuXHRcdFx0dmFyIHNwYWNlID0gXCIje2luc3RhbmNlLnNwYWNlfVwiO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xyXG5cdFx0XHRcdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcIj0uW147XSpcIilcclxuXHRcdFx0XHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxyXG5cdFx0XHRcdGlmKG1hdGNoZWQpe1xyXG5cdFx0XHRcdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGNvb2tpZVsxXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gJydcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1wiKTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XHJcblx0XHRcdFx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcIiN7Y3JlYXRvclNlcnZpY2V9XCJcclxuXHRcdFx0XHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gI3tKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcyl9XHJcblx0XHRcdFx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRcdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xyXG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxyXG5cdFx0XHRcdFx0XHRcdHZhciB1b2JqID0ge307XHJcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtVXNlci1JZFwiXSA9IGdldENvb2tpZShcIlgtVXNlci1JZFwiKTtcclxuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1BdXRoLVRva2VuXCJdID0gZ2V0Q29va2llKFwiWC1BdXRoLVRva2VuXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcImFwcC8tL1wiICsgb2JqY2V0TmFtZSArIFwiL3ZpZXcvXCIgKyBpZCArIFwiP1wiICsgJC5wYXJhbSh1b2JqKTtcclxuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcIlwiXCI7XHJcblxyXG5cclxuXHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcclxuXHRcdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcclxuXHJcblx0aWYgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09ICd0YWJsZSdcclxuXHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXHJcblxyXG5cdGlmIG9wdGlvbnM/Lmluc3RhbmNlX3N0eWxlXHJcblx0XHRpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGVcclxuXHJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT0gdHJ1ZVxyXG5cdFx0dHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0dHJhY2UgPSBcIlwiXHJcblxyXG5cdGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xyXG5cclxuXHRpZiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvblxyXG5cdFx0aWYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCJcclxuXHRcdGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiXHJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT0gdHJ1ZVxyXG5cdFx0YXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXHJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHRlbHNlXHJcblx0XHRhdHRhY2htZW50ID0gXCJcIlxyXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiXHJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBcIlwiXHJcblxyXG5cdGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKClcclxuXHJcblx0d2lkdGggPSBcIjk2MHB4XCJcclxuXHQjXHTlpoLmnpznu5l0YWJsZeeahHBhcmVudOiuvue9rndpZHRo77yM5YiZ5Lya5a+86Ie06Zi/6YeM5LqR6YKu566x5pi+56S6dGFibGUg5byC5bi4XHJcblx0aWYgb3B0aW9ucz8ud2lkdGhcclxuXHRcdHdpZHRoID0gXCJcIlxyXG5cclxuXHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIilcclxuXHJcblx0YWxsQ3NzTGluayA9IFwiXCJcIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBjbGFzcz1cIl9fbWV0ZW9yLWNzc19fXCIgaHJlZj1cIiN7Y3NzSHJlZn1cIj5cIlwiXCJcclxuXHJcblx0dHJhY2VDaGVjayA9IFwiXCJcclxuXHRpZiAhXy5pc0VtcHR5KHRyYWNlKVxyXG5cdFx0dHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiXHJcblx0aWYgb3B0aW9ucz8udGFnZ2VyID09ICdlbWFpbCdcclxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXHJcblx0ZWxzZVxyXG5cdFx0c2hvd1RyYWNlc0J0biA9IFwiXCJcIlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XCIgc3R5bGU9XCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJpbnQtdG9vbFwiPlxyXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2J4LWxhYmVsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1wiIGlkPVwiY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgY2hlY2tlZD1cImNoZWNrZWRcIj48c3Bhbj7pmYTku7Y8L3NwYW4+PC9sYWJlbD5cclxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIgY2hlY2tlZD1cIiN7dHJhY2VDaGVja31cIj48c3Bhbj4je3QoJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknKX08L3NwYW4+PC9sYWJlbD5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRcdFwiXCJcIlxyXG5cclxuXHRzaG93VHJhY2VzU2NyaXB0ID0gXCJcIlwiXHJcblx0XHQkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcclxuXHRcdFx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcclxuXHRcdFx0aWYgKGIuY2hlY2tlZCl7XHJcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcclxuXHRcdFx0fVxyXG5cdFx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcclxuXHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcclxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcclxuXHRcdFx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCl7XHJcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdH1cclxuXHRcdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XHJcblx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcIlwiXCJcclxuXHJcblx0aWYgb3B0aW9ucz8uc3R5bGVzXHJcblx0XHRhbGxDc3NMaW5rID0gXCJcIlxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSk7XHJcblx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcclxuXHRpZiBmb3JtXHJcblx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uXHJcblx0XHRpZiBmb3JtRGVzY3JpcHRpb25cclxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIilcclxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcIlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcIj5cclxuXHRcdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9ufVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XCJcIlwiXHJcblxyXG5cdGh0bWwgPSBcIlwiXCJcclxuXHRcdDwhRE9DVFlQRSBodG1sPlxyXG5cdFx0PGh0bWw+XHJcblx0XHRcdDxoZWFkPlxyXG5cdFx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIvPlxyXG5cdFx0XHRcdCN7YWxsQ3NzTGlua31cclxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL253X2NvcmUuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblx0XHRcdFx0I3tvcHRpb25zLnBsdWdpbnMgfHwgXCJcIn1cclxuXHJcblx0XHRcdFx0PHN0eWxlPlxyXG5cdFx0XHRcdFx0LnN0ZWVkb3N7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiAje3dpZHRofTtcclxuXHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcclxuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC5ib3gtdG9vbHN7XHJcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XHJcblx0XHRcdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJvZHl7XHJcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xyXG5cdFx0XHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCN7b3B0aW9ucz8uc3R5bGVzIHx8IFwiXCJ9XHJcblx0XHRcdFx0PC9zdHlsZT5cclxuXHRcdFx0PC9oZWFkPlxyXG5cdFx0XHQ8Ym9keT5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudC13cmFwcGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQje3Nob3dUcmFjZXNCdG59XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtcHJpbnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlICN7aW5zdGFuY2Vfc3R5bGV9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cImluc3RhbmNlRm9ybVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLWZvcm0gYm94ICN7aW5zdGFuY2VCb3hTdHlsZX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb25IdG1sfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3thdHRhY2htZW50fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfaW5zdGFuY2VzfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfcmVjb3Jkc31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tib2R5fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQje3RyYWNlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9ib2R5PlxyXG5cdFx0XHQ8c2NyaXB0PiN7b3BlbkZpbGVTY3JpcHR9OyN7b25Mb2FkU2NyaXB0fTsje3Nob3dUcmFjZXNTY3JpcHR9PC9zY3JpcHQ+XHJcblx0XHQ8L2h0bWw+XHJcblx0XCJcIlwiXHJcblxyXG5cdHJldHVybiBodG1sIiwidmFyIF9nZXRMb2NhbGUsIF9nZXRSZXF1aXJlZEZpZWxkcywgX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzLCBfZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMsIF9nZXRUZW1wbGF0ZURhdGEsIF9nZXRWaWV3SHRtbCwgZ2V0TGlua1RleHQ7ICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbnN0YW5jZV9hdHRhY2htZW50ID0gXCI8dHI+XFxuXHQ8dGQgY2xhc3M9XFxcImlucy1hdHRhY2gtdmlld1xcXCI+XFxuXHRcdDxhIGhyZWY9XFxcInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cXFwiIGNsYXNzPVxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiIHRhcmdldD1cXFwiX3BhcmVudFxcXCIgZGF0YS1uYW1lPVxcXCJ7e3RoaXMubmFtZX19XFxcIiBkYXRhLXR5cGU9XFxcInt7dGhpcy5vcmlnaW5hbC50eXBlfX1cXFwiIGRhdGEtaWQ9XFxcInt7X2lkfX1cXFwiPnt7dGhpcy5uYW1lfX08L2E+XFxuXHQ8L3RkPlxcbjwvdHI+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCI8ZGl2IGNsYXNzPSdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50Jz57e3ZhbHVlfX08L2Rpdj5cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiPGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XFxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XFxuXHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cXG5cdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIHNob3dMYWJlbH19XFxuXHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XFxuPC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXFxue3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuICBcdFx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O1xcXCI+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cXFwiZGVzY3JpcHRpb25cXFwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInJlYWRvbmx5LXRhYmxlXFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1xcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVxcXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cXFwie3t0aGlzLmNvZGV9fVRhYmxlXFxcIiBuYW1lPVxcXCJ7e3RoaXMuY29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7dGhpcy5uYW1lfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cXG5cdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIGRhdGEtcmVxdWlyZWQ9XFxcInt7I2lmIGlzX3JlcXVpcmVkfX10cnVle3svaWZ9fVxcXCI+XFxuXHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT1cXFwiZGF0ZVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XFxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncGFzc3dvcmQnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9XFxcInt7dmFsdWV9fVxcXCI+e3tsYWJlbH19PC9vcHRpb24+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1yYWRpby1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtY2hlY2tib3gtZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidXJsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnY2hlY2tib3gnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XFxcIndpZHRoOiAxMDAlO1xcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwidHJ1ZVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0e3svaWZ9fVxcblx0XHR7ey9pZn19XFxuXHR7ey93aXRofX1cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9IGZ1bmN0aW9uKHRlbXBhbHRlTmFtZSwgc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRlbXBsYXRlLCB0ZW1wbGF0ZUNvbXBpbGVkLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uO1xuICB0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdO1xuICB0ZW1wbGF0ZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0gPSBuZXcgQmxhemUuVGVtcGxhdGUodGVtcGFsdGVOYW1lLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkLCBpbnN0YW5jZVNpZ25UZXh0SHRtbCwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uO1xuICBpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJyk7XG4gIGluc3RhbmNlU2lnblRleHRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VTaWduVGV4dEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dCA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlU2lnblRleHRcIiwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKEluc3RhbmNlU2lnblRleHQuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGltYWdlU2lnbkNvbXBpbGVkLCBpbWFnZVNpZ25IdG1sLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbjtcbiAgaW1hZ2VTaWduSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2ltYWdlX3NpZ24uaHRtbCcpO1xuICBpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyhJbWFnZVNpZ24uaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuaW5pdCA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZlNlbGVjdFVzZXJSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XG4gIH1cbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwUmVhZFwiLCBzdGVlZG9zRGF0YSk7XG4gIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiaW5zdGFuY2VfYXR0YWNobWVudFwiLCB7XG4gICAgICBhYnNvbHV0ZTogc3RlZWRvc0RhdGEuYWJzb2x1dGVcbiAgICB9KTtcbiAgICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduKHN0ZWVkb3NEYXRhKTtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQoc3RlZWRvc0RhdGEpO1xuICB9XG59O1xuXG5nZXRMaW5rVGV4dCA9IGZ1bmN0aW9uKGl0ZW0sIGxhYmVsLCBkZXRhaWxfdXJsKSB7XG4gIGlmIChkZXRhaWxfdXJsKSB7XG4gICAgZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKTtcbiAgICBpZiAoIS9eaHR0cChzPyk6XFwvXFwvLy50ZXN0KGRldGFpbF91cmwpKSB7XG4gICAgICBkZXRhaWxfdXJsID0gU3RlZWRvcy5hYnNvbHV0ZVVybChkZXRhaWxfdXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICc8YSBocmVmPVwiJyArIGRldGFpbF91cmwgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JyArIGxhYmVsICsgJzwvYT4nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsYWJlbDtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkge1xuICB2YXIgZGF0ZSwgZGV0YWlsX3VybCwgZSwgaG91cnMsIG1vbnRoLCBzZWNvbmRzLCB0LCB0MCwgdDEsIHllYXI7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgOiAnJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VybCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIHZhbHVlID0gJyoqKioqKic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGlmIChmaWVsZC5pc190ZXh0YXJlYSkge1xuICAgICAgICB2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvRml4ZWQoZmllbGQuZGlnaXRzKTtcbiAgICAgICAgdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb2RhdGEnOlxuICAgICAgZGV0YWlsX3VybCA9IGZpZWxkLmRldGFpbF91cmw7XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSBfLm1hcCh2YWx1ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSBmdW5jdGlvbihmaWVsZHMsIGNvZGUpIHtcbiAgdmFyIGZpZWxkO1xuICBmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgaWYgKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLm5hbWUpIHtcbiAgICAgIHJldHVybiBmaWVsZC5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGQuY29kZTtcbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBmb3JtX3ZlcnNpb24gPSB7fTtcbiAgZm9ybV9maWVsZHMgPSBbXTtcbiAgaWYgKGZvcm0uY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgZm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICBpZiAoZmllbGQuZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIGRlbGV0ZSBmaWVsZFsnZmllbGRzJ107XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9XG4gIH0pO1xuICBmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG4gIHJldHVybiBmb3JtX3ZlcnNpb247XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZmxvd192ZXJzaW9uID0ge307XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcbiAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIHJldHVybiBmbG93X3ZlcnNpb247XG59O1xuXG5fZ2V0Vmlld0h0bWwgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciB2aWV3SHRtbDtcbiAgdmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKTtcbiAgaWYgKHZpZXdIdG1sKSB7XG4gICAgdmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSwgXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdmlld0h0bWw7XG59O1xuXG5fZ2V0TG9jYWxlID0gZnVuY3Rpb24odXNlcikge1xuICB2YXIgbG9jYWxlLCByZWYsIHJlZjE7XG4gIGlmICgodXNlciAhPSBudWxsID8gKHJlZiA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnemgtY24nKSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9IGVsc2UgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmMSA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ2VuLXVzJykge1xuICAgIGxvY2FsZSA9IFwiZW5cIjtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH1cbiAgcmV0dXJuIGxvY2FsZTtcbn07XG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gW107XG4gIH1cbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKGZpZWxkLmNvZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXY7XG59O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHN0YXJ0U3RlcDtcbiAgc3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLCBcInN0YXJ0XCIpO1xuICBlZGl0YWJsZUNvZGUgPSBbXTtcbiAgXy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT09ICdlZGl0YWJsZScpIHtcbiAgICAgIHJldHVybiBlZGl0YWJsZUNvZGUucHVzaChrZXkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlZGl0YWJsZUNvZGU7XG59O1xuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHJlcXVpcmVkRmllbGRzO1xuICByZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpO1xuICBlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcyk7XG4gIHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKTtcbn07XG5cbl9nZXRUZW1wbGF0ZURhdGEgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGZsb3csIGZvcm0sIGZvcm1fdmVyc2lvbiwgbG9jYWxlLCBzdGVlZG9zRGF0YTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH1cbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgc3RlZWRvc0RhdGEgPSB7fTtcbiAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpO1xuICAgIHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvbjtcbiAgICBzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWQ7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZDtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgfVxuICBzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICBzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb247XG4gIHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZTtcbiAgc3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXQ7XG4gIHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2U7XG4gIHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZDtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSB7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RlZWRvc0RhdGE7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHV0Y09mZnNldCkge1xuICB2YXIgcGFzc2luZztcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIHBhc3NpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBwYXNzaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT09IDApIHtcbiAgICB1dGNPZmZzZXQgPSA4O1xuICB9XG4gIHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGluc3RhbmNlQ29tcGlsZWQsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24sIGluc3RhbmNlVGVtcGxhdGUsIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApO1xuICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZywgXCJhZlNlbGVjdFVzZXJSZWFkXCIpO1xuICBpZiAoIShvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csIFwiYWZGb3JtR3JvdXBSZWFkXCIpO1xuICB9XG4gIGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIFwiPGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XFxuXHRcIiArIGJvZHkgKyBcIlxcbjwvZGl2PlwiO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGZvcm0sIHN0ZWVkb3NEYXRhLCB0cmFjZUNvbXBpbGVkLCB0cmFjZVJlbmRlckZ1bmN0aW9uLCB0cmFjZXNIdG1sO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSBcInRhYmxlXCIgfHwgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJyk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJyk7XG4gIH1cbiAgdHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlKSB7XG4gIHZhciBhdHRhY2htZW50Q29tcGlsZWQsIGF0dGFjaG1lbnRIdG1sLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24sIGJvZHksIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgYXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJyk7XG4gIGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCwgcmVsYXRlZEluc3RhbmNlc0h0bWwsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKTtcbiAgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyhSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQsIHJlbGF0ZWRSZWNvcmRzSHRtbCwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpO1xuICByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzKFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm1fc2NyaXB0LCBmb3JtX3ZlcnNpb247XG4gIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICBmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcbiAgaWYgKGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLCBcIlwiKS5yZXBsYWNlKC9cXHMvZywgXCJcIikubGVuZ3RoID4gMCkge1xuICAgIGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHQ7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ID0gXCJcIjtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYWJzb2x1dGVVcmwsIGFsbENzc0xpbmssIGF0dGFjaG1lbnQsIGJvZHksIGNyZWF0b3JTZXJ2aWNlLCBjc3NIcmVmLCBmb3JtLCBmb3JtRGVzY3JpcHRpb24sIGZvcm1EZXNjcmlwdGlvbkh0bWwsIGh0bWwsIGluc19yZWNvcmRfaWRzLCBpbnN0YW5jZUJveFN0eWxlLCBpbnN0YW5jZV9zdHlsZSwgb25Mb2FkU2NyaXB0LCBvcGVuRmlsZVNjcmlwdCwgcmVmLCByZWYxLCByZWxhdGVkX2luc3RhbmNlcywgcmVsYXRlZF9yZWNvcmRzLCBzaG93VHJhY2VzQnRuLCBzaG93VHJhY2VzU2NyaXB0LCB0cmFjZSwgdHJhY2VDaGVjaywgd2lkdGg7XG4gIGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuICBjcmVhdG9yU2VydmljZSA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud2Vic2VydmljZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jcmVhdG9yKSAhPSBudWxsID8gcmVmMS51cmwgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkcztcbiAgb3BlbkZpbGVTY3JpcHQgPSBcImlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xcblx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImluc19hdHRhY2hfaHJlZlxcXCIpO1xcblx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xcblx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xcblx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3coXFxcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1xcXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xcblx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcbn1cXG5cXG52YXIgZmxvdyA9IFxcXCJcIiArIGluc3RhbmNlLmZsb3cgKyBcIlxcXCI7XFxudmFyIHNwYWNlID0gXFxcIlwiICsgaW5zdGFuY2Uuc3BhY2UgKyBcIlxcXCI7XFxuXFxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xcblx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFxcXCI9LlteO10qXFxcIilcXG5cdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXFxuXHRpZihtYXRjaGVkKXtcXG5cdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxcblx0XHRyZXR1cm4gY29va2llWzFdXFxuXHR9XFxuXHRyZXR1cm4gJydcXG59XFxuXFxudmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnMtcmVsYXRlZC1yZWNvcmRzXFxcIik7XFxuZm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xcblx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcXG5cdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXFxcIlwiICsgY3JlYXRvclNlcnZpY2UgKyBcIlxcXCJcXG5cdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSBcIiArIChKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcykpICsgXCJcXG5cdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcXG5cdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xcblx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXFxuXHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xcblx0XHRcdFx0dW9ialtcXFwiWC1Vc2VyLUlkXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtVXNlci1JZFxcXCIpO1xcblx0XHRcdFx0dW9ialtcXFwiWC1BdXRoLVRva2VuXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtQXV0aC1Ub2tlblxcXCIpO1xcblx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFxcXCJhcHAvLS9cXFwiICsgb2JqY2V0TmFtZSArIFxcXCIvdmlldy9cXFwiICsgaWQgKyBcXFwiP1xcXCIgKyAkLnBhcmFtKHVvYmopO1xcblx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG5cIjtcbiAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgICBpZiAoKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgICB9XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgfVxuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgIGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT09IHRydWUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2UgPSBcIlwiO1xuICB9XG4gIGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24pIHtcbiAgICBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIjtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09PSB0cnVlKSB7XG4gICAgYXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGF0dGFjaG1lbnQgPSBcIlwiO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIjtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBcIlwiO1xuICB9XG4gIGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKCk7XG4gIHdpZHRoID0gXCI5NjBweFwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy53aWR0aCA6IHZvaWQgMCkge1xuICAgIHdpZHRoID0gXCJcIjtcbiAgfVxuICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIik7XG4gIGFsbENzc0xpbmsgPSBcIjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGNsYXNzPVxcXCJfX21ldGVvci1jc3NfX1xcXCIgaHJlZj1cXFwiXCIgKyBjc3NIcmVmICsgXCJcXFwiPlwiO1xuICB0cmFjZUNoZWNrID0gXCJcIjtcbiAgaWYgKCFfLmlzRW1wdHkodHJhY2UpKSB7XG4gICAgdHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiO1xuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50YWdnZXIgOiB2b2lkIDApID09PSAnZW1haWwnKSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiPGRpdiBjbGFzcz1cXFwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcInByaW50LXRvb2xcXFwiPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1xcXCIgaWQ9XFxcImNieC1wcmludC1hdHRhY2htZW50c1xcXCIgY2hlY2tlZD1cXFwiY2hlY2tlZFxcXCI+PHNwYW4+6ZmE5Lu2PC9zcGFuPjwvbGFiZWw+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1xcXCIgaWQ9XFxcImNieC1wcmludC10cmFjZXNcXFwiIGNoZWNrZWQ9XFxcIlwiICsgdHJhY2VDaGVjayArIFwiXFxcIj48c3Bhbj5cIiArICh0KCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5JykpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICB9XG4gIHNob3dUcmFjZXNTY3JpcHQgPSBcIiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKXtcXG5cdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcXG5cdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XFxuXHRpZiAoYi5jaGVja2VkKXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2Uge1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHR9IGVsc2Uge1xcblx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdH1cXG5cdH0pO1xcblxcblx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XFxuXHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xcblx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCl7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2Uge1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0fSBlbHNlIHtcXG5cdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdH1cXG5cdH0pO1xcbn0pO1xcblwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHtcbiAgICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgfVxuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gIH0pO1xuICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIjtcbiAgaWYgKGZvcm0pIHtcbiAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uO1xuICAgIGlmIChmb3JtRGVzY3JpcHRpb24pIHtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZywgXCI8YnIvPlwiKTtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIjxkaXYgY2xhc3M9XFxcImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclxcXCI+XFxuXHQ8ZGl2Plxcblx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbiArIFwiXFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICB9XG4gIH1cbiAgaHRtbCA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuXHQ8aGVhZD5cXG5cdFx0PG1ldGEgaHR0cC1lcXVpdj1cXFwiQ29udGVudC1UeXBlXFxcIiBjb250ZW50PVxcXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcXFwiLz5cXG5cdFx0XCIgKyBhbGxDc3NMaW5rICsgXCJcXG5cdFx0PHNjcmlwdCBzcmM9XFxcImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiL2pzL253X2NvcmUuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdFwiICsgKG9wdGlvbnMucGx1Z2lucyB8fCBcIlwiKSArIFwiXFxuXFxuXHRcdDxzdHlsZT5cXG5cdFx0XHQuc3RlZWRvc3tcXG5cdFx0XHRcdHdpZHRoOiBcIiArIHdpZHRoICsgXCI7XFxuXHRcdFx0XHRtYXJnaW4tbGVmdDogYXV0bztcXG5cdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XFxuXHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFxcblx0XHRcdH1cXG5cdFx0XHQuYm94LXRvb2xze1xcblx0XHRcdFx0ZGlzcGxheTogbm9uZTtcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xcblx0XHRcdCAgZGlzcGxheTogYmxvY2s7XFxuXHRcdFx0fVxcblxcblx0XHRcdGJvZHl7XFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xcblx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xcblx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0XCIgKyAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB8fCBcIlwiKSArIFwiXFxuXHRcdDwvc3R5bGU+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcz1cXFwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwic2tpbi1ncmVlbiBza2luLWFkbWluLWx0ZVxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ3cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29udGVudC13cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0XHRcIiArIHNob3dUcmFjZXNCdG4gKyBcIlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlIFwiICsgaW5zdGFuY2Vfc3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XFxcImluc3RhbmNlRm9ybVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtZm9ybSBib3ggXCIgKyBpbnN0YW5jZUJveFN0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBmb3JtRGVzY3JpcHRpb25IdG1sICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImJveC1ib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYXR0YWNobWVudCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfaW5zdGFuY2VzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9yZWNvcmRzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGJvZHkgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XFxuXHRcdFx0XHRcdFx0XHRcdFwiICsgdHJhY2UgKyBcIlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0PC9ib2R5Plxcblx0PHNjcmlwdD5cIiArIG9wZW5GaWxlU2NyaXB0ICsgXCI7XCIgKyBvbkxvYWRTY3JpcHQgKyBcIjtcIiArIHNob3dUcmFjZXNTY3JpcHQgKyBcIjwvc2NyaXB0PlxcbjwvaHRtbD5cIjtcbiAgcmV0dXJuIGh0bWw7XG59O1xuIiwiVGVtcGxhdGVNYW5hZ2VyID0ge307XHJcblxyXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcclxuXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSAoKS0+XHJcblx0cGFnZVRpdGxlID0gXCJcIlwiXHJcblx0XHR7e2luc3RhbmNlLm5hbWV9fVxyXG5cdFwiXCJcIlxyXG5cclxuXHRwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCJcclxuXHJcblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZVxyXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXHJcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje0NvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZX1cIiBsYWJlbD1mYWxzZX19XHJcblx0XHRcIlwiXCJcclxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXHJcblxyXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVcclxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0XHQje0NvcmVGb3JtLnBhZ2VUaXRsZX1cclxuXHRcdFwiXCJcIlxyXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcclxuXHJcblx0dmFsID1cclxuXHRcdHBhZ2VUaXRsZTogcGFnZVRpdGxlXHJcblx0XHRwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXHJcblxyXG5cdHJldHVybiB2YWxcclxuXHJcblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gKGluc3RhbmNlLCBfZXhwb3J0KSAtPlxyXG5cclxuXHR0ZW1wbGF0ZSA9IFwiXCJcIlxyXG5cdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cclxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cclxuXHRcdFx0PHRyIGNsYXNzPVwiI3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzc31cIj5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcIj5cclxuXHRcdFx0XHRcdCN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX1cclxuXHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHQ8L3RyPlxyXG5cclxuXHRcdDwvdGFibGU+XHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVwiPlxyXG5cdFx0XHRcdDx0ciBzdHlsZT1cImhlaWdodDowcHhcIj5cclxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cclxuXHRcdFx0XHRcdDx0aD48L3RoPlxyXG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxyXG5cdFx0XHRcdFx0PHRoPjwvdGg+XHJcblx0XHRcdFx0PC90cj5cclxuXHRcIlwiXCI7XHJcblxyXG5cdHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKVxyXG5cclxuXHR0YWJsZV9maWVsZHMuZm9yRWFjaCAodGFibGVfZmllbGQpLT5cclxuXHJcblx0XHRyZXF1aXJlZCA9IFwiXCJcclxuXHRcdGlmICFDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lIHx8IENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgIT0gdGFibGVfZmllbGQuY29kZVxyXG5cdFx0XHRpZiB0YWJsZV9maWVsZC5pc19yZXF1aXJlZFxyXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiXHJcblxyXG5cdFx0XHRpZiBfZXhwb3J0XHJcblx0XHRcdFx0cmVxdWlyZWQgPSBcIlwiO1xyXG5cclxuXHRcdFx0cHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XHJcblxyXG5cdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKVxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XHJcblx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXHJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSAje3JlcXVpcmVkfVwiPlxyXG5cdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XHJcblx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLSN7cHVyZUNvZGV9IGF1dG9tYXRpY1wiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XHJcblx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXHJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC0je3B1cmVDb2RlfVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0ICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxyXG5cdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cclxuXHRcdFx0XHRcdGlmIF9leHBvcnRcclxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwiXCJcclxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiXCJcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXHJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxyXG5cclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB0ZC10aXRsZS0je3B1cmVDb2RlfSAje3RpdGxlX3Blcm1pc3Npb259ICN7cmVxdWlyZWR9XCI+XHJcblx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB0ZC1maWVsZC0je3B1cmVDb2RlfSAje2ZpZWxkX3Blcm1pc3Npb259XCIgY29sc3BhbiA9IFwiI3t0YWJsZV9maWVsZC50ZF9jb2xzcGFufVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXHJcblxyXG5cdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0PC90YWJsZT5cclxuXHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclwiPlxyXG5cdFx0XHQ8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxyXG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX3vvJo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcImluc3RhbmNlX3N1Ym1pdF9kYXRlXCJ9fe+8mjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcImZvcm1hdFwiOlwiWVlZWS1NTS1ERFwifSd9fVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvdGQ+XHJcblx0XHRcdDwvdHI+XHJcblx0XHQ8L3RhYmxlPlxyXG5cdDwvZGl2PlxyXG5cdFwiXCJcIlxyXG5cdHJldHVybiB0ZW1wbGF0ZVxyXG5cclxuI+atpOWkhOaooeadv+WFrOeUqOS4ju+8mmluc3RhbmNlIOe8lui+keOAgeafpeeci+OAgeaJk+WNsOOAgei9rOWPkeaXtueUn+aIkOmZhOS7tuOAgeWPkemAgemCruS7tmJvZHnpg6jliIYodGFibGUg5qih5p2/KVxyXG4j5aaC5p6c5pyJ5L+u5pS577yM6K+35rWL6K+V56Gu6K6k5YW25LuW5Yqf6IO95piv5ZCm5q2j5bi444CCXHJcblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPVxyXG5cdGRlZmF1bHQ6IChpbnN0YW5jZSktPlxyXG5cclxuXHRcdHRlbXBsYXRlID0gXCJcIlwiXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxyXG5cdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+I3tUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9PC9oMz5cclxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHR7eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxyXG5cdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cclxuXHJcblx0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0e3svZWFjaH19XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxyXG5cdFx0XHRcdFx0ICB7e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzpcclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxyXG5cdFx0XHRcdCAgPC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XCJcIlwiXHJcblx0XHRyZXR1cm4gdGVtcGxhdGVcclxuXHJcblx0dGFibGU6IChpbnN0YW5jZSktPlxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKVxyXG4jXHR0YWJsZTogJycnXHJcbiNcdFx0PHRhYmxlIGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cclxuI1x0XHRcdDx0ciBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cclxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZFwiPlxyXG4jXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPnt7aW5zdGFuY2UubmFtZX19PC9oMz5cclxuI1x0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcbiNcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHQ8L3RyPlxyXG4jICAgICAgICAgICAgPHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cclxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZFwiPlxyXG4jXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzo8L2xhYmVsPlxyXG4jXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuI1x0XHRcdFx0PC90ZD5cclxuI1x0XHRcdDwvdHI+XHJcbiMgICAgICAgIDwvdGFibGU+XHJcbiNcdFx0PHRhYmxlIGNsYXNzPVwiZm9ybS10YWJsZVwiPlxyXG4jXHRcdCAgICB7eyNlYWNoIHRhYmxlX2ZpZWxkc319XHJcbiNcdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxyXG4jXHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XHJcbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XHJcbiNcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XHJcbiNcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBzdGVwPShnZXRPcGluaW9uRmllbGRTdGVwTmFtZSB0aGlzKSBkZWZhdWx0PScnfX1cclxuI1x0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0e3t7dHJfZW5kfX19XHJcbiNcdFx0XHRcdHt7ZWxzZX19XHJcbiNcdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxyXG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XHJcbiNcdFx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cclxuI1x0XHRcdFx0XHR7e2Vsc2V9fVxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cclxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxyXG4jXHRcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHt7cGVybWlzc2lvbn19XCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XHJcbiNcdFx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cclxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cclxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxyXG4jXHRcdFx0XHRcdHt7L2lmfX1cclxuI1x0XHRcdFx0e3svaWZ9fVxyXG4jXHJcbiNcdFx0ICAgIHt7L2VhY2h9fVxyXG4jXHRcdDwvdGFibGU+XHJcbiNcdCcnJ1xyXG5cclxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID1cclxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxyXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZGF0YSA9IHtcclxuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRhdHRzOiB7XHJcblx0XHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRcdGlkOiAnaW5zX2FwcGxpY2FudCcsXHJcblx0XHRcdFx0Y2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXHJcblx0XHRcdFx0c3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiNcdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcclxuXHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cclxuaW5zdGFuY2VJZDogLT5cclxuXHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XHJcblxyXG5mb3JtX3R5cGVzOiAtPlxyXG5cdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cdFx0cmV0dXJuICdkaXNhYmxlZCc7XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuICdtZXRob2QnO1xyXG5cclxuc3RlZWRvc19mb3JtOiAtPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXHJcblxyXG5pbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XHJcblx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcclxuXHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXHJcblx0b2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xyXG5cdHJldHVybiBvYmo7XHJcblxyXG5pbnN0YW5jZTogLT5cclxuXHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXHJcblx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xyXG5cclxuZXF1YWxzOiAoYSwgYikgLT5cclxuXHRyZXR1cm4gKGEgPT0gYilcclxuXHJcbmluY2x1ZGVzOiAoYSwgYikgLT5cclxuXHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xyXG5cclxuZmllbGRzOiAtPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xyXG5cclxuZG9jX3ZhbHVlczogLT5cclxuXHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblxyXG5pbnN0YW5jZV9ib3hfc3R5bGU6IC0+XHJcblx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcclxuXHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcclxuXHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxyXG5cdFx0aWYganVkZ2VcclxuXHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXHJcblx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcclxuXHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxyXG5cclxuXHJcblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IChpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSAtPlxyXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xyXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xyXG5cclxuXHRpZiB0ZW1wbGF0ZU5hbWVcclxuXHRcdGlmIHRlbXBsYXRlTmFtZSA9PSAndGFibGUnXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHJcblx0aWYgU2Vzc2lvbj8uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxyXG5cdFx0aWYgZmxvdz8ucHJpbnRfdGVtcGxhdGVcclxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcclxuXHRcdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG5cdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcclxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHJcblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZVxyXG5cdFx0XHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcclxuXHRcdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcclxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHJcbiNUZW1wbGF0ZU1hbmFnZXIuZXhwb3J0VGVtcGxhdGUgPSAoZmxvd0lkKSAtPlxyXG4jXHR0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShmbG93SWQpO1xyXG4jXHJcbiNcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93SWQpO1xyXG4jXHJcbiNcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcbiNcdFx0cmV0dXJuIHRlbXBsYXRlO1xyXG4jXHJcbiNcdHJldHVybiB0ZW1wbGF0ZTtcclxuXHJcbiIsInZhciBmb3JtSWQ7ICAgICAgICAgICAgICAgICBcblxuVGVtcGxhdGVNYW5hZ2VyID0ge307XG5cbmZvcm1JZCA9ICdpbnN0YW5jZWZvcm0nO1xuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhZ2VUaXRsZSwgcGFnZVRpdGxlVHJDbGFzcywgdmFsO1xuICBwYWdlVGl0bGUgPSBcInt7aW5zdGFuY2UubmFtZX19XCI7XG4gIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIjtcbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwie3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cIjtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZTtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICB2YWwgPSB7XG4gICAgcGFnZVRpdGxlOiBwYWdlVGl0bGUsXG4gICAgcGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuICB9O1xuICByZXR1cm4gdmFsO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgX2V4cG9ydCkge1xuICB2YXIgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZTtcbiAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcIlwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGVUckNsYXNzKSArIFwiXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVxcXCI+XFxuXHRcdFx0XHRcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiXFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cXG5cdDwvdGFibGU+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXFxcIj5cXG5cdFx0XHQ8dHIgc3R5bGU9XFxcImhlaWdodDowcHhcXFwiPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHQ8L3RyPlwiO1xuICB0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSk7XG4gIHRhYmxlX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlX2ZpZWxkKSB7XG4gICAgdmFyIGZpZWxkX3Blcm1pc3Npb24sIHB1cmVDb2RlLCByZXF1aXJlZCwgdGl0bGVfcGVybWlzc2lvbjtcbiAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgaWYgKCEodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB8fCAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSAhPT0gdGFibGVfZmllbGQuY29kZSkge1xuICAgICAgaWYgKHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgcHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XG4gICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZCkpIHtcbiAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgYXV0b21hdGljXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cIjtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzKHRhYmxlX2ZpZWxkLnR5cGUsICdzZWN0aW9uLHRhYmxlJykpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtY2hpbGRmaWVsZCB0ZC1jaGlsZGZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJ0aXRsZS1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSB0ZC10aXRsZS1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyB0aXRsZV9wZXJtaXNzaW9uICsgXCIgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCB0ZC1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyBmaWVsZF9wZXJtaXNzaW9uICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGVtcGxhdGUgKz0gXCJcdDwvdGFibGU+XFxuXFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXFxcImluc3RhbmNlX3N1Ym1pdF9kYXRlXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcXFwiZm9ybWF0XFxcIjpcXFwiWVlZWS1NTS1ERFxcXCJ9J319XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cdDwvdGFibGU+XFxuPC9kaXY+XCI7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPSB7XG4gIFwiZGVmYXVsdFwiOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz1cXFwid2l0aC1ib3JkZXIgY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLW5hbWVcXFwiPlxcblx0XHQ8aDMgY2xhc3M9XFxcImJveC10aXRsZVxcXCI+XCIgKyAoVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiPC9oMz5cXG5cdFx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG5cdDwvZGl2Plxcblx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG48L2Rpdj5cXG57eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxcblx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XFxuXHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxcblxcblx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdHt7ZWxzZX19XFxuXHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7ey9pZn19XFxuXHR7ey9pZn19XFxue3svZWFjaH19XFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cdFx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPlxcblx0XHQgIHt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fSZuYnNwOzpcXG5cdFx0PC9kaXY+XFxuXHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHQgIDwvZGl2Plxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9LFxuICB0YWJsZTogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpO1xuICB9XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sJyxcbiAgICAgICAgc3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xuICAgICAgfVxuICAgIH07XG4gICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufTtcblxuKHtcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIHtcbiAgdmFyIGZsb3csIGZvcm07XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKHRlbXBsYXRlTmFtZSkge1xuICAgIGlmICh0ZW1wbGF0ZU5hbWUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZW9mIFNlc3Npb24gIT09IFwidW5kZWZpbmVkXCIgJiYgU2Vzc2lvbiAhPT0gbnVsbCA/IFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSA6IHZvaWQgMCkge1xuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LnByaW50X3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9XG4gICAgaWYgKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICAgIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59O1xuIiwiU3RlZWRvc1RhYmxlID0ge307XHJcblxyXG5TdGVlZG9zVGFibGUuZm9ybUlkID0gXCJpbnN0YW5jZWZvcm1cIjtcclxuXHJcblN0ZWVkb3NUYWJsZS5jaGVja0l0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xyXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICB2YXIgZmllbGRWYWwgPSBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xyXG5cclxuICAgIHZhciBzZl9uYW1lID0gJyc7XHJcbiAgICB2YXIgcmV2ID0gdHJ1ZTtcclxuICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZikge1xyXG4gICAgICAgIGlmIChzZi5wZXJtaXNzaW9uID09ICdlZGl0YWJsZScpIHtcclxuICAgICAgICAgICAgc2ZfbmFtZSA9IGZpZWxkT2JqLmNvZGUgKyBcIi5cIiArIHNmLmNvZGU7XHJcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmV2O1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCwgaXRlbV92YWx1ZSkge1xyXG5cclxuICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xyXG4gICAgdGFibGVWYWx1ZVtpdGVtX2luZGV4XSA9IGl0ZW1fdmFsdWU7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpW2l0ZW1faW5kZXhdO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuICAgIHZhciBpdGVtX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuICAgIGl0ZW1fdmFsdWUucmVtb3ZlZCA9IHRydWU7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XHJcbiAgICAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKHtcclxuICAgICAgICB2YWw6IHZhbHVlXHJcbiAgICB9KTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUgPSBmdW5jdGlvbihmaWVsZCkge1xyXG4gICAgcmV0dXJuICQoXCJ0YWJsZVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKS52YWwoKS52YWw7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRWYWxpZFZhbHVlID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHZhciB2YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcclxuXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHZhbGlkVmFsdWUgPSBbXTtcclxuXHJcbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICBpZiAoIXYucmVtb3ZlZCkge1xyXG4gICAgICAgICAgICB2YWxpZFZhbHVlLnB1c2godik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsaWRWYWx1ZTtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlcykge1xyXG5cclxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xyXG4gICAgICAgICAgICBpZiAoZi50eXBlID09ICd1c2VyJyB8fCBmLnR5cGUgPT0gJ2dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXHJcbiAgICAgICAgICAgICAgICBpZiAoZi5pc19tdWx0aXNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwICYmIHR5cGVvZih2YWx1ZVswXSkgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mKHZhbHVlKSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2W2YuY29kZV0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PSAnZGF0ZVRpbWUnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0MFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gdDFbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldEZpZWxkID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHZhciBpbnN0YW5jZUZpZWxkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZpZWxkcygpO1xyXG4gICAgaWYgKCFpbnN0YW5jZUZpZWxkcylcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gaW5zdGFuY2VGaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgZmllbGQpO1xyXG5cclxuICAgIHJldHVybiBmaWVsZE9iajtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgaWYgKCFmaWVsZE9iaikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhLmZpZWxkID0gZmllbGRPYmo7XHJcblxyXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcclxuXHJcbiAgICBkYXRhLnZhbHVlID0ge307XHJcblxyXG4gICAgZGF0YS52YWx1ZVtmaWVsZF0gPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcblxyXG5cclxuU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuXHJcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KS5pbnNlcnREb2NbZmllbGRdO1xyXG4gICAgcmV0dXJuIGl0ZW1fdmFsdWU7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuYWRkSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcclxuICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcclxuICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmFwcGVuZChTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCB0cnVlKSlcclxuXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS51cGRhdGVJdGVtID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCBfaXRlbV92YWx1ZSkge1xyXG5cclxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xyXG5cclxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XHJcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgICAgICB2YXIgc2ZpZWxkcyA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCkuc2ZpZWxkcztcclxuXHJcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xyXG5cclxuICAgICAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0ZW0uZW1wdHkoKTtcclxuXHJcbiAgICAgICAgaXRlbS5hcHBlbmQodGRzKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBTdGVlZG9zVGFibGUuYWRkSXRlbShmaWVsZCwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCkpIHtcclxuXHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCwgaXRlbV92YWx1ZSk7XHJcblxyXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF1baW5kZXhdID0gaXRlbV92YWx1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF0gPSBbaXRlbV92YWx1ZV07XHJcblxyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCBbaXRlbV92YWx1ZV0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v5omn6KGM5Li76KGo5YWs5byP6K6h566XXHJcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xyXG5cclxuICAgICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKS5oaWRlKCk7XHJcblxyXG4gICAgU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIEluc3RhbmNlTWFuYWdlci5ydW5Gb3JtdWxhKGZpZWxkKTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnNob3dNb2RhbCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgbWV0aG9kKSB7XHJcblxyXG5cclxuICAgIHZhciBtb2RhbERhdGEgPSBTdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcclxuXHJcbiAgICBNb2RhbC5zaG93KFwic3RlZWRvc1RhYmxlTW9kYWxcIiwgbW9kYWxEYXRhKTtcclxuXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIGlmICghQXV0b0Zvcm0uZ2V0Q3VycmVudERhdGFGb3JGb3JtKFN0ZWVkb3NUYWJsZS5mb3JtSWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzcyA9IEF1dG9Gb3JtLmdldEZvcm1TY2hlbWEoU3RlZWRvc1RhYmxlLmZvcm1JZCk7XHJcblxyXG4gICAgdmFyIGtleXMgPSBbXTtcclxuXHJcbiAgICBpZiAoc3Muc2NoZW1hKGZpZWxkICsgXCIuJFwiKS50eXBlID09PSBPYmplY3QpIHtcclxuICAgICAgICBrZXlzID0gc3Mub2JqZWN0S2V5cyhTaW1wbGVTY2hlbWEuX21ha2VHZW5lcmljKGZpZWxkKSArICcuJCcpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleXM7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VGhlYWQgPSBmdW5jdGlvbihmaWVsZCwgZWRpdGFibGUpIHtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcclxuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXHJcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIGlmICghZmllbGRPYmopIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRoZWFkID0gJycsXHJcbiAgICAgICAgdHJzID0gJycsXHJcbiAgICAgICAgbGFiZWwgPSAnJyxcclxuICAgICAgICB3aWR0aCA9IDEwMDtcclxuXHJcbiAgICBpZiAoZWRpdGFibGUpIHtcclxuICAgICAgICAvLyB0cnMgPSBcIjx0aCBjbGFzcz0ncmVtb3ZlZCc+PC90aD5cIlxyXG5cdFx0dHJzID0gXCJcIlxyXG4gICAgfVxyXG5cclxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcclxuXHJcbiAgICBpZighc2ZpZWxkcyl7XHJcbiAgICBcdHJldHVybiB0aGVhZDtcclxuXHR9XHJcblxyXG4gICAgdmFyIHNmX2xlbmd0aCA9IHNmaWVsZHMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHdpZGVfZmllbGRzID0gc2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHNmLCBpbmRleCkge1xyXG5cclxuICAgICAgICBsYWJlbCA9IChzZi5uYW1lICE9IG51bGwgJiYgc2YubmFtZS5sZW5ndGggPiAwKSA/IHNmLm5hbWUgOiBzZi5jb2RlO1xyXG5cclxuICAgICAgICB0cnMgPSB0cnMgKyBcIjx0ZCBcIjsgLy8gbm93cmFwPSdub3dyYXAnXHJcblxyXG4gICAgICAgIHRycyA9IHRycyArIFwiIGNsYXNzPSd0aXRsZSBcIiArIHNmLnR5cGUgKyBcIidcIjtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ICE9IChzZl9sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICBpZiAoc2YuaXNfd2lkZSkge1xyXG4gICAgICAgICAgICAgICAgdHJzID0gdHJzICsgXCJzdHlsZT0nd2lkdGg6XCIgKyB3aWR0aCAqIDIgKyBcIiUnXCJcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKyBcIiUnXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJzID0gdHJzICsgXCI+XCIgKyBsYWJlbCArIFwiPC90ZD5cIlxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhlYWQgPSAnPHRyPicgKyB0cnMgKyAnPC90cj4nO1xyXG5cclxuICAgIHJldHVybiB0aGVhZDtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRib2R5ID0gZnVuY3Rpb24oa2V5cywgZmllbGQsIHZhbHVlcywgZWRpdGFibGUpIHtcclxuICAgIHZhciB0Ym9keSA9IFwiXCI7XHJcblxyXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHRib2R5ID0gdGJvZHkgKyBTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0Ym9keTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRyID0gZnVuY3Rpb24oa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSkge1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xyXG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcclxuICAgICAgICBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgdmFyIHRyID0gXCI8dHIgaWQ9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBuYW1lPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJ1wiXHJcblxyXG4gICAgaWYgKGVkaXRhYmxlKSB7XHJcbiAgICAgICAgdHIgPSB0ciArIFwiJyBjbGFzcz0naXRlbSBlZGl0J1wiXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKFN0ZWVkb3MuaXNNb2JpbGUoKSl7XHJcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSBpdGVtLXJlYWRvbmx5J1wiXHJcbiAgICAgICAgfWVsc2V7XHJcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSAnXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xyXG4gICAgICAgIHRyID0gdHIgKyBcIiBzdHlsZT0nZGlzcGxheTpub25lJyBcIjtcclxuICAgIH1cclxuXHJcbiAgICB0ciA9IHRyICsgXCInPlwiO1xyXG5cclxuICAgIHZhciB0ZHMgPSBcIlwiO1xyXG5cclxuICAgIGlmIChlZGl0YWJsZSkge1xyXG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xyXG5cclxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xyXG5cclxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XHJcblxyXG4gICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgdHIgPSB0ciArIHRkcyArIFwiPC90cj5cIjtcclxuICAgIHJldHVybiB0cjtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XHJcbiAgICAvLyByZXR1cm4gXCI8dGQgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSByZW1vdmVkJyBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPjxpIGNsYXNzPSdmYSBmYS10aW1lcycgYXJpYS1oaWRkZW49J3RydWUnPjwvdGQ+XCI7XHJcblx0cmV0dXJuIFwiXCJcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCB2YWx1ZSkge1xyXG4gICAgdmFyIHRkID0gXCI8dGQgXCI7XHJcblxyXG4gICAgdGQgPSB0ZCArIFwiIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1maWVsZCBcIiArIGZpZWxkLnR5cGUgKyBcIicgXCI7XHJcblxyXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcclxuXHJcbiAgICBpZihNZXRlb3IuaXNDbGllbnQpe1xyXG4gICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFREVmFsdWUoZmllbGQsIHZhbHVlKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cclxuICAgICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XHJcblxyXG4gICAgICAgIHRkX3ZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpXHJcbiAgICB9XHJcblxyXG4gICAgdGQgPSB0ZCArIFwiIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIic+XCIgKyB0ZF92YWx1ZSArIFwiPC90ZD5cIlxyXG5cclxuICAgIHJldHVybiB0ZDtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XHJcbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xyXG4gICAgaWYgKCFmaWVsZCkge1xyXG4gICAgICAgIHJldHVybiB0ZF92YWx1ZVxyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWVbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHUgPyB1Lm5hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdncm91cCc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZVswXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBvID8gby5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyBcIjxhIGhyZWY9J21haWx0bzpcIiArIHZhbHVlICsgXCInPlwiICsgdmFsdWUgKyBcIjwvYT5cIiA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndXJsJzpcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPmh0dHA6Ly9cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJyoqKioqKic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhbHVlKSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh0ZF92YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxyXG4gICAgICAgICAgICAgICAgaWYodmFsdWUpe1xyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KXtcclxuXHRcdFx0XHRcdFx0dGRfdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXHJcblx0XHRcdFx0XHR9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyB2YWx1ZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGU7XHJcblxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHJldHVybiB0ZF92YWx1ZTtcclxufTtcclxuXHJcbmlmKE1ldGVvci5pc0NsaWVudCl7XHJcbiAgICBBdXRvRm9ybS5hZGRJbnB1dFR5cGUoXCJ0YWJsZVwiLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxyXG4gICAgICAgIHZhbHVlT3V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmRhdGEoXCJzY2hlbWFLZXlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZShuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbHVlQ29udmVydGVyczoge1xyXG4gICAgICAgICAgICBcInN0cmluZ0FycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb1N0cmluZ0FycmF5LFxyXG4gICAgICAgICAgICBcIm51bWJlclwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXIsXHJcbiAgICAgICAgICAgIFwibnVtZXJBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXJBcnJheSxcclxuICAgICAgICAgICAgXCJib29sZWFuXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW4sXHJcbiAgICAgICAgICAgIFwiYm9vbGVhbkFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW5BcnJheSxcclxuICAgICAgICAgICAgXCJkYXRlXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGUsXHJcbiAgICAgICAgICAgIFwiZGF0ZUFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGVBcnJheVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGV4dEFkanVzdDogZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb250ZXh0Lm1heCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPSBjb250ZXh0Lm1heDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBUZW1wbGF0ZS5hZlRhYmxlLmV2ZW50cyh7XHJcbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tYWRkLC5hZGQtaXRlbS10cic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUobmFtZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3X2l0ZW1faW5kZXggPSB0YWJsZVZhbHVlID8gdGFibGVWYWx1ZS5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xyXG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwiZWRpdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBpdGVtX2luZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xyXG4gICAgICAgICAgICBTZXNzaW9uLnNldChcImluc3RhbmNlX2NoYW5nZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0oZmllbGQsIGl0ZW1faW5kZXgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLml0ZW0tcmVhZG9ubHknOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XHJcblx0XHRcdGlmICghdGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuXHRcdFx0XHRTdGVlZG9zVGFibGUuc2hvd01vZGFsKGZpZWxkLCBpbmRleCwgXCJyZWFkXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIFRlbXBsYXRlLmFmVGFibGUucmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5kYXRhLm5hbWU7XHJcblxyXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIHRoaXMuZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIHZhbGlkVmFsdWUpO1xyXG5cclxuICAgICAgICAkKFwidGhlYWRbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGhlYWQnXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcclxuXHJcbiAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcclxuICAgICAgICBcclxuICAgICAgICBzdHIgPSB0KFwic3RlZWRvc190YWJsZV9hZGRfaXRlbVwiKTtcclxuICAgICAgICBhZGRJdGVtVHIgPSBcIjx0ciBjbGFzcz0nYWRkLWl0ZW0tdHInPjx0ZCBjb2xzcGFuPSdcIitrZXlzLmxlbmd0aCtcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiK3N0citcIjwvdGQ+PC90cj5cIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgJChcInRmb290W25hbWU9J1wiICsgZmllbGQgKyBcIlRmb290J11cIikuYXBwZW5kKGFkZEl0ZW1Ucik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsIkltYWdlU2lnbi5oZWxwZXJzID1cclxuXHRzcGFjZVVzZXJTaWduOiAodXNlcklkKS0+XHJcblx0XHRzcGFjZSA9IFwiXCJcclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0c3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2VcclxuXHRcdGVsc2VcclxuXHRcdFx0c3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIilcclxuXHJcblx0XHRzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtzcGFjZTogc3BhY2UsIHVzZXI6IHVzZXJJZH0pO1xyXG5cdFx0cmV0dXJuIHNwYWNlVXNlclNpZ25cclxuXHJcblx0aW1hZ2VVUkw6ICh1c2VySWQpLT5cclxuXHJcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xyXG5cclxuXHRcdGFic29sdXRlID0gZmFsc2VcclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0YWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGVcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXHJcblx0XHRcdGlmIGFic29sdXRlXHJcblx0XHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xyXG4iLCJJbWFnZVNpZ24uaGVscGVycyA9IHtcbiAgc3BhY2VVc2VyU2lnbjogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIHNwYWNlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlID0gXCJcIjtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIik7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdXNlcklkXG4gICAgfSk7XG4gICAgcmV0dXJuIHNwYWNlVXNlclNpZ247XG4gIH0sXG4gIGltYWdlVVJMOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgYWJzb2x1dGUsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSB7XG4gICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPVxyXG5cdGFwcGxpY2FudENvbnRleHQ6IC0+XHJcblx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRkYXRhID0ge1xyXG5cdFx0XHRuYW1lOiAnaW5zX2FwcGxpY2FudCcsXHJcblx0XHRcdGF0dHM6IHtuYW1lOiAnaW5zX2FwcGxpY2FudCcsIGlkOiAnaW5zX2FwcGxpY2FudCcsIGNsYXNzOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCd9LFxyXG5cdFx0XHR2YWx1ZTogc3RlZWRvc19pbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cdFx0fVxyXG5cdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcclxuXHRcdFx0ZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZVxyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblxyXG5cdGluc3RhbmNlSWQ6IC0+XHJcblx0XHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XHJcblxyXG5cdGZvcm1fdHlwZXM6IC0+XHJcblx0XHRpZiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcclxuXHRcdFx0cmV0dXJuICdkaXNhYmxlZCc7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiAnbWV0aG9kJztcclxuXHJcblx0c3RlZWRvc19mb3JtOiAtPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXHJcblxyXG5cdGlubmVyc3ViZm9ybUNvbnRleHQ6IChvYmopLT5cclxuXHRcdGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblx0XHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXHJcblx0XHRvYmpbXCJmb3JtSWRcIl0gPSBcImluc3RhbmNlZm9ybVwiO1xyXG5cdFx0cmV0dXJuIG9iajtcclxuXHJcblx0aW5zdGFuY2U6IC0+XHJcblx0XHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXHJcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKVxyXG5cdFx0XHRzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xyXG5cclxuXHRlbXB0eTogKHZhbCkgLT5cclxuXHRcdGlmIHZhbFxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdHVuZW1wdHk6ICh2YWwpIC0+XHJcblx0XHRpZiB2YWxcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0ZXF1YWxzOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiAoYSA9PSBiKVxyXG5cclxuXHR1bmVxdWFsczogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gIShhID09IGIpXHJcblxyXG5cdGluY2x1ZGVzOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XHJcblxyXG5cdGluY2x1ZGU6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcclxuXHJcblx0ZmllbGRzOiAtPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xyXG5cclxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxyXG5cdFx0aWYgIWRhdGVcclxuXHRcdFx0cmV0dXJuIFwiXCI7XHJcblx0XHRpZiBvcHRpb25zICYmIHR5cGVvZihvcHRpb25zKSA9PSAnc3RyaW5nJ1xyXG5cdFx0XHRvcHRpb25zID0gSlNPTi5wYXJzZShvcHRpb25zKTtcclxuXHJcblx0XHRpZiAhb3B0aW9ucy5mb3JtYXRcclxuXHRcdFx0b3B0aW9ucyA9IHtmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwifVxyXG5cclxuXHRcdHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcclxuXHJcblx0dHJhY2VzOiAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8udmlldz8udGVtcGxhdGU/LnN0ZWVkb3NEYXRhXHJcblx0XHRcdGluc3RhbmNlID0gc3RlZWRvc0RhdGE/Lmluc3RhbmNlXHJcblx0XHRcdGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xyXG5cdFx0XHRsb2NhbGUgPSBzdGVlZG9zRGF0YT8ubG9jYWxlXHJcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcclxuXHRcdGVsc2VcclxuXHRcdFx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblx0XHRcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGbG93VmVyc2lvbigpXHJcblxyXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXHJcblxyXG5cdFx0aWYgIWluc3RhbmNlIHx8ICFmbG93XHJcblx0XHRcdHJldHVybiB7fTtcclxuXHJcblx0XHRzdGVwcyA9IGZsb3cuc3RlcHM7XHJcblxyXG5cdFx0dHJhY2VzID0ge307XHJcblxyXG5cdFx0aW5zdGFuY2UudHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxyXG5cdFx0XHRzdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZS5zdGVwKVxyXG5cclxuXHRcdFx0YXBwcm92ZXMgPSBbXVxyXG5cclxuXHRcdFx0dHJhY2UuYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XHJcblx0XHRcdFx0aWYgdHJhY2UuaXNfZmluaXNoZWQgPT0gdHJ1ZVxyXG4jIOW3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+3XHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLmp1ZGdlID09ICdhcHByb3ZlZCdcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWplY3RlZCdcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWplY3RlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVhc3NpZ25lZCdcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlbG9jYXRlZCdcclxuXHRcdFx0XHRcdFx0anVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAnJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gXCJcIlxyXG5cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHBlbmRpbmdcIiwge30sIGxvY2FsZSlcclxuXHJcblx0XHRcdFx0YXBwcm92ZXMucHVzaFxyXG5cdFx0XHRcdFx0X2lkOiBhcHByb3ZlLl9pZFxyXG5cdFx0XHRcdFx0aGFuZGxlcjogYXBwcm92ZS51c2VyXHJcblx0XHRcdFx0XHRoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lXHJcblx0XHRcdFx0XHRoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcclxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXHJcblx0XHRcdFx0XHRmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0anVkZ2U6IGFwcHJvdmUuanVkZ2VcclxuXHRcdFx0XHRcdGp1ZGdlX25hbWU6IGp1ZGdlX25hbWVcclxuXHRcdFx0XHRcdGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uXHJcblx0XHRcdFx0XHRpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZFxyXG5cdFx0XHRcdFx0dHlwZTogYXBwcm92ZS50eXBlXHJcblx0XHRcdFx0XHRvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGVcclxuXHRcdFx0XHRcdHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRcdFx0c2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xyXG5cclxuXHJcblx0XHRcdGlmIHN0ZXBcclxuXHRcdFx0XHRpZiBzdGVwLm5hbWUgb2YgdHJhY2VzXHJcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IHRyYWNlc1tzdGVwLm5hbWVdLmNvbmNhdChhcHByb3ZlcylcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0cmFjZXNbc3RlcC5uYW1lXSA9IGFwcHJvdmVzXHJcblxyXG5cdFx0cmV0dXJuIHRyYWNlcztcclxuXHJcblxyXG5cclxuXHRkb2NfdmFsdWVzOiAtPlxyXG5cdFx0V29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xyXG5cclxuXHRpbnN0YW5jZV9ib3hfc3R5bGU6IC0+XHJcblx0XHRib3ggPSBTZXNzaW9uLmdldChcImJveFwiKVxyXG5cdFx0aWYgYm94ID09IFwiaW5ib3hcIiB8fCBib3ggPT0gXCJkcmFmdFwiXHJcblx0XHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxyXG5cdFx0XHRpZiBqdWRnZVxyXG5cdFx0XHRcdGlmIChqdWRnZSA9PSBcImFwcHJvdmVkXCIpXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRcdFx0ZWxzZSBpZiAoanVkZ2UgPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiYm94LWRhbmdlclwiXHJcblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmIGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb25cclxuXHRcdFx0aWYgaW5zLmZpbmFsX2RlY2lzaW9uID09IFwiYXBwcm92ZWRcIlxyXG5cdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcclxuXHRcdFx0ZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHJcbiNpc19kaXNhYmxlZDogLT5cclxuIyAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuIyAgICBpZiAhaW5zXHJcbiMgICAgICAgIHJldHVybjtcclxuIyAgICBpZiBpbnMuc3RhdGUhPVwiZHJhZnRcIlxyXG4jICAgICAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xyXG4jICAgIHJldHVybjtcclxuXHJcblx0dGFibGVfZmllbGRzOiAoaW5zdGFuY2UpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdGZpZWxkcyA9IF8uY2xvbmUoZm9ybV92ZXJzaW9uLmZpZWxkcyk7XHJcblxyXG5cdFx0XHRmaWVsZHMuZm9yRWFjaCAoZmllbGQsIGluZGV4KSAtPlxyXG5cdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcclxuXHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIlwiO1xyXG5cdFx0XHRcdHRkX2NvbHNwYW4gPSAxO1xyXG4jXHRcdFx0XHTlvLrliLborr7nva7moIflpLTlrZfmrrXkuLrlrr3lrZfmrrVcclxuXHRcdFx0XHRpZiBDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lID09IGZpZWxkLmNvZGVcclxuXHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlXHJcblxyXG5cdFx0XHRcdGlmIGZpZWxkLmZvcm11bGEgJiYgZmllbGQudHlwZSAhPSAnb2RhdGEnXHJcblx0XHRcdFx0XHRmaWVsZC5wZXJtaXNzaW9uID0gXCJyZWFkb25seVwiO1xyXG5cclxuXHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcclxuIyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcclxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gNDtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZmllbGQudGRfY29sc3BhbiA9IDM7XHJcblxyXG5cdFx0XHRcdFx0aWYgaW5kZXggIT0gMFxyXG5cdFx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xyXG5cdFx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0cHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XHJcblxyXG5cdFx0XHRcdFx0cHJlX3dpZGVfZmllbGRzID0gcHJlX2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XHJcblxyXG5cdFx0XHRcdFx0dHJfc3RhcnQgPSBcIlwiO1xyXG5cclxuXHRcdFx0XHRcdHRyX2VuZCA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdFx0IyDlhYjorqHnrpflvZPliY3lrZfmrrXmmK/lkKbkuLrlrr3lrZfmrrVcclxuXHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IG51bGw7XHJcblx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IG51bGw7XHJcblxyXG5cdFx0XHRcdFx0aWYgaW5kZXggPiAwXHJcblx0XHRcdFx0XHRcdGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdXHJcblxyXG5cdFx0XHRcdFx0aWYgaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMVxyXG5cdFx0XHRcdFx0XHRhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdXHJcblxyXG5cdFx0XHRcdFx0IyDlpoLmnpzlvZPliY3lrZfmrrXmmK/liIbnu4TjgIHooajmoLzjgIHlrr3lrZfmrrVcclxuXHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gNDtcclxuXHRcdFx0XHRcdGVsc2UgaWYgZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcclxuXHRcdFx0XHRcdGVsc2VcclxuIyDliY3lkI7pg73mmK/lrr3lrZfmrrVcclxuXHRcdFx0XHRcdFx0aWYgYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcclxuXHJcblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5ZCO6L6555qE5a2X5q615piv5a695a2X5q61XHJcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGVcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcclxuXHJcblx0XHRcdFx0XHRcdCMg5b2T5YmN5pivdHIg5LiL55qEIOesrOS4gOS4qnRkICYg5b2T5YmN5a2X5q615piv5pyA5ZCO5LiA5Liq5a2X5q61XHJcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwICYmIGFmdGVyX2ZpZWxkID09IG51bGxcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5pc193aWRlID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR0ZF9jb2xzcGFuID0gMztcclxuXHJcblx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcclxuXHJcblxyXG5cdFx0XHRcdFx0aWYgaW5kZXggPT0gMFxyXG4jIHRyX3N0YXJ0ID0gXCI8dHI+XCI7IOeUseS6jlRlbXBsYXRl55qE57yW6K+RYnVn77yM5a+86Ie05q+P5qyh57uZ5LiA5LiqdHLlvIDlp4vml7bvvIzkvJroh6rliqjooaXlpLTmiJbooaXlsL7jgILlm6DmraTlnKjnrKzkuIDooYzov5Tlm57kuIDkuKrnqbrlrZfnrKbkuLIuXHJcblx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHI+XCI7XHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PSAwIHx8IGZpZWxkLmlzX3dpZGVcclxuXHRcdFx0XHRcdFx0XHRpZiBmaWVsZC50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHRyX3N0YXJ0ID0gXCI8dHI+XCI7XHJcblxyXG5cdFx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcclxuXHJcblxyXG5cdFx0XHRcdFx0aWYgaW5kZXggKyAxID09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGVcclxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xyXG5cclxuXHRcdFx0XHRcdGlmIChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPSAwXHJcblx0XHRcdFx0XHRcdHRyX2VuZCA9IFwiPC90cj5cIjtcclxuXHJcblx0XHRcdFx0XHRmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XHJcblxyXG5cdFx0XHRyZXR1cm4gZmllbGRzO1xyXG5cclxuXHRzb3J0X2FwcHJvdmU6IChhcHByb3Zlcywgb3JkZXIpLT5cclxuXHRcdGlmICFhcHByb3Zlc1xyXG5cdFx0XHRyZXR1cm4gW11cclxuXHJcblx0XHRpZiAhYXBwcm92ZXMgaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRyZXR1cm4gW11cclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgb3JkZXIgPT0gJ2Rlc2MnXHJcblx0XHRcdFx0YXBwcm92ZXMuc29ydCAocDEsIHAyKSAtPlxyXG5cdFx0XHRcdFx0X3AxID0gMFxyXG5cdFx0XHRcdFx0X3AyID0gMFxyXG5cclxuXHRcdFx0XHRcdGlmIHAxLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRcdF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKVxyXG5cclxuXHRcdFx0XHRcdGlmIHAyLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRcdF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gX3AyIC0gX3AxXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XHJcblx0XHRcdFx0XHRfcDEgPSAwXHJcblx0XHRcdFx0XHRfcDIgPSAwXHJcblxyXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBfcDEgLSBfcDJcclxuXHRcdHJldHVybiBhcHByb3Zlc1xyXG5cclxuXHRfdDogKGtleSktPlxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cdGdldEZpZWxkOiAoY29kZSktPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpXHJcblxyXG5cdGdldFZhbHVlOiAoY29kZSktPlxyXG5cdFx0aW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2VcclxuXHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblxyXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cclxuXHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcclxuXHJcblx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cclxuXHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXHJcblxyXG5cdFx0cmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRWYWx1ZSB2YWx1ZXNbY29kZV0sIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSksIGxvY2FsZSwgdXRjT2Zmc2V0XHJcblxyXG5cdGdldExhYmVsOiAoY29kZSktPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGVcclxuXHJcblx0Z2V0Q2ZDbGFzczogKGZpZWxkKS0+XHJcblx0XHRpZiBmaWVsZD8udHlwZSA9PSBcImlucHV0XCIgJiYgZmllbGQ/LmlzX3RleHRhcmVhXHJcblx0XHRcdHJldHVybiBcImNmVGV4dGFyZWFcIlxyXG5cclxuXHRnZXRUYWJsZVRoZWFkOiAoZmllbGQpLT5cclxuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGhlYWQoZmllbGQsIGZhbHNlKVxyXG5cclxuXHRnZXRUYWJsZUJvZHk6IChmaWVsZCktPlxyXG5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxyXG5cdFx0XHR2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge31cclxuXHRcdGVsc2VcclxuXHRcdFx0dmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpXHJcblxyXG5cdFx0dGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcclxuXHRcdHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSlcclxuXHJcblx0c2hvd0xhYmVsOiAoZmllbGQpLT5cclxuXHRcdHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YVxyXG5cdFx0aWYgdGVtcGxhdGVEYXRhLmxhYmVsID09IGZhbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHJcbiNcdGFmRmllbGRMYWJlbFRleHQ6IChvcCktPlxyXG4jXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGFcclxuI1x0XHRcdHJldHVybiBBdXRvRm9ybS5nZXRMYWJlbEZvckZpZWxkKG9wLm5hbWUpXHJcbiNcdFx0ZWxzZVxyXG4jXHRcdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxyXG4jXHRcdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXHJcblxyXG5cdGlzT3BpbmlvbkZpZWxkOiAoZmllbGQpLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpXHJcblxyXG5cdGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiAoZmllbGRfZm9ybXVsYSktPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcclxuXHJcblx0aW5jbHVkZXNPcGluaW9uRmllbGQ6IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cclxuXHJcblx0XHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdGZpZWxkcyA9IGRiLmZvcm1fdmVyc2lvbnMuZmluZE9uZSh7X2lkOiBmb3JtX3ZlcnNpb24sIGZvcm06IGZvcm19KT8uZmllbGRzIHx8IFtdXHJcblxyXG5cdFx0ZmllbGRzLmZvckVhY2ggKGYpLT5cclxuXHRcdFx0aWYgZi50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXHJcblx0XHRcdGVsc2UgaWYgZi50eXBlID09ICdzZWN0aW9uJ1xyXG5cdFx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cclxuXHRcdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZjEuZm9ybXVsYVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmLmZvcm11bGFcclxuXHJcblx0XHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XHJcblx0XHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpXHJcblxyXG5cdGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3JkcyktPlxyXG5cclxuXHRcdG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcclxuI1x0XHRjb25zb2xlLmxvZyhcImZpZWxkX2Zvcm11bGFcIiwgZmllbGRfZm9ybXVsYSlcclxuXHRcdGlmIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcclxuXHRcdFx0aWYgZmllbGRfZm9ybXVsYVxyXG5cclxuI1x0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCIsXCIpXHJcblx0XHRcdFx0Zm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpXHJcblxyXG4jXHRcdFx0XHRpZiB0b3Bfa2V5d29yZHNcclxuI1x0XHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcclxuXHJcblx0XHRcdFx0Zm9vMS5mb3JFYWNoIChmb28pLT5cclxuXHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XHJcblxyXG5cdFx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIilcclxuXHRcdFx0XHRcdGNhdGNoXHJcblx0XHRcdFx0XHRcdGpzb25fZm9ybXVsYSA9IHt9XHJcblxyXG5cdFx0XHRcdFx0aWYganNvbl9mb3JtdWxhPy55aWppYW5sYW5cclxuXHRcdFx0XHRcdFx0c2YgPSB7fVxyXG5cclxuXHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXBcclxuXHJcblx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLmltYWdlX3NpZ24gfHwgZmFsc2VcclxuXHJcblx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZVxyXG5cclxuXHRcdFx0XHRcdFx0c2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uZGVmYXVsdFxyXG5cclxuXHRcdFx0XHRcdFx0c2Yub25seV9oYW5kbGVyID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2hhbmRsZXJcclxuXHJcblx0XHRcdFx0XHRcdHNmLnRvcF9rZXl3b3JkcyA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4udG9wX2tleXdvcmRzIHx8IHRvcF9rZXl3b3Jkc1xyXG5cclxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcclxuXHJcblx0XHRcdFx0XHRlbHNlIGlmKGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkX2Zvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMSlcclxuXHJcblx0XHRcdFx0XHRcdHNmID0ge29ubHlfY2Nfb3BpbmlvbjogZmFsc2UsIGltYWdlX3NpZ246IGZhbHNlLCB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc31cclxuXHJcblx0XHRcdFx0XHRcdGlmIGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMVxyXG5cdFx0XHRcdFx0XHRcdHNmLmltYWdlX3NpZ24gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0Zm9vID0gZm9vLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpO1xyXG5cclxuXHRcdFx0XHRcdFx0czEgPSBmb28ucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXHJcblx0XHRcdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAxXHJcblx0XHRcdFx0XHRcdFx0c2Yuc3RlcE5hbWUgPSBzMS5zcGxpdChcIi5cIilbMV1cclxuXHRcdFx0XHRcdFx0XHRpZiBvcGluaW9uRmllbGRzLmZpbHRlclByb3BlcnR5KFwic3RlcE5hbWVcIixzZi5zdGVwTmFtZSkubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpPy5vbmx5X2NjX29waW5pb24gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDJcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlXHJcblx0XHRcdFx0XHRcdG9waW5pb25GaWVsZHMucHVzaChzZik7XHJcblxyXG5cdFx0cmV0dXJuIG9waW5pb25GaWVsZHNcclxuXHJcblx0c2hvd0NDT3BpbmlvbjogKGZpZWxkKS0+XHJcblx0XHRpZiBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZC5mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTFcclxuXHRcdFx0czEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLFwiXCIpLnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxyXG5cdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMlxyXG5cdFx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKVsyXT8udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnY2MnXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cclxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXHJcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XHJcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoIGhyZWYsIHRpdGxlLCB0ZXh0ICkgLT5cclxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXHJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXHJcblxyXG5cdGZfbGFiZWw6ICh0aGF0KS0+XHJcblx0XHRyZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZVxyXG5cclxuaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5zdGVlZG9zX2Zvcm0gPSAtPlxyXG5cdFx0cmV0dXJuIHRoaXMuZm9ybV92ZXJzaW9uXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNTZWN0aW9uID0gKGNvZGUpLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uXHJcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKS50eXBlID09ICdzZWN0aW9uJ1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmRvY192YWx1ZXMgPSAtPlxyXG5cdFx0aW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xyXG5cdFx0cmV0dXJuIGluc3RhbmNlLnZhbHVlcztcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5hcHBsaWNhbnRDb250ZXh0ID0gLT5cclxuXHRcdGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcclxuXHRcdGRhdGEgPSB7XHJcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXHJcblx0XHRcdHZhbHVlOiBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cdFx0fVxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlID0gLT5cclxuXHRcdHJldHVybiB0aGlzLmluc3RhbmNlXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZmllbGRzID0gLT5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uXHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtX3R5cGVzID0gLT5cclxuXHRcdHJldHVybiBcImRpc2FibGVkXCJcclxuXHJcblx0VGVtcGxhdGUucmVnaXN0ZXJIZWxwZXIgXCJhZkZpZWxkTGFiZWxUZXh0XCIsIChvcCktPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvblxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsIGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wPy5oYXNoPy5uYW1lXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XHJcblx0XHRsb2NhbGUgPSB0aGlzLmxvY2FsZVxyXG5cclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IChfaWQsIGFic29sdXRlKS0+XHJcblx0XHRpZiBhYnNvbHV0ZVxyXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvI3tfaWR9P2Rvd25sb2FkPXRydWVcIik7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBcIi9hcGkvZmlsZXMvaW5zdGFuY2VzLyN7X2lkfT9kb3dubG9hZD10cnVlXCI7XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IChmaWVsZCktPlxyXG5cdFx0b3B0aW9ucyA9IGZpZWxkPy5vcHRpb25zPy5zcGxpdChcIlxcblwiKVxyXG5cdFx0cmV2ID0gW11cclxuXHRcdG9wdGlvbnM/LmZvckVhY2ggKGl0ZW0pLT5cclxuXHRcdFx0cmV2LnB1c2goe2xhYmVsOiBpdGVtLCB2YWx1ZTogaXRlbX0pXHJcblxyXG5cdFx0cmV0dXJuIHJldlxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldFBlcm1pc3Npb25zID0gKGNvZGUpLT5cclxuXHRcdGlmICFUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHM/LmluY2x1ZGVzKGNvZGUpXHJcblx0XHRcdHJldHVybiBcInJlYWRvbmx5IGRpc2FibGVkXCJcclxuXHRcdHJldHVybiBcIlwiXHJcblxyXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5ldmVudHMgPVxyXG5cdCdjaGFuZ2UgLmZvcm0tY29udHJvbCwuY2hlY2tib3ggaW5wdXQsLmFmLXJhZGlvLWdyb3VwIGlucHV0LC5hZi1jaGVja2JveC1ncm91cCBpbnB1dCc6IChldmVudCktPlxyXG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxyXG5cclxuXHQndHlwZWFoZWFkOmNoYW5nZSAuZm9ybS1jb250cm9sJzogKGV2ZW50KSAtPlxyXG5cdFx0SW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KVxyXG5cclxuXHQnY2xpY2sgLmNmVGV4dGFyZWEgYSc6IChldmVudCktPlxyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFN0ZWVkb3Mub3BlbldpbmRvdyhldmVudC50YXJnZXQuaHJlZik7XHJcblxyXG5cclxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25DcmVhdGVkID0gKCktPlxyXG5cdGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0aWYgIWluc3RhbmNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcclxuXHJcblx0dHJ5XHJcblx0XHRjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmxvZyBcIkluc3RhbmNlIFRlbXBsYXRlIEVycm9yXCIsIGVcclxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShcIlwiLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cclxuXHRyZW5kZXJGdW5jdGlvbiA9IGV2YWwoY29tcGlsZWQpO1xyXG5cclxuXHRpbnN0YW5jZVZpZXcgPSBuZXcgQmxhemUuVmlldyhcImN1c3RvbV9pbnN0YW5jZV90ZW1wbGF0ZVwiLCByZW5kZXJGdW5jdGlvbik7XHJcblxyXG5cdGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUgPSBuZXcgQmxhemUuVGVtcGxhdGUoaW5zdGFuY2VWaWV3Lm5hbWUsIHJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlID0gaW5zdGFuY2VDdXN0b21UZW1wbGF0ZVxyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUuaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5cclxuXHJcblxyXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vblJlbmRlcmVkID0gKCktPlxyXG5cdCMgdCA9IHRoaXM7XHJcblxyXG5cdCN0LnN1YnNjcmliZSBcImluc3RhbmNlX2RhdGFcIiwgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAtPlxyXG5cdCMgICAgVHJhY2tlci5hZnRlckZsdXNoIC0+XHJcblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRpZiAhaW5zdGFuY2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0IyQoXCIjaW5zX2FwcGxpY2FudFwiKS5zZWxlY3QyKCkudmFsKGluc3RhbmNlLmFwcGxpY2FudCkudHJpZ2dlcignY2hhbmdlJyk7XHJcblx0IyQoXCIjaW5zX2FwcGxpY2FudFwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50KTtcclxuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpWzBdPy5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcclxuXHQkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZSlcclxuXHJcblxyXG5cdEFwcHJvdmVNYW5hZ2VyLmVycm9yID0ge25leHRTdGVwczogJycsIG5leHRTdGVwVXNlcnM6ICcnfTtcclxuXHJcblx0IyBpbnN0YW5jZSBmcm9t57uR5a6a5LqL5Lu2XHJcblx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnZHJhZnQnXHJcblx0XHRJbnN0YW5jZUV2ZW50LmluaXRFdmVudHMoaW5zdGFuY2UuZmxvdyk7XHJcblxyXG5cdGlmICFBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcclxuXHJcblx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xyXG5cclxuXHJcblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSlcclxuXHJcblx0XHRpbnN0YW5jZU51bWJlckZpZWxkcy5lYWNoICgpLT5cclxuXHRcdFx0c2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleVxyXG5cdFx0XHRlbGVtZW50ID0gJCh0aGlzKVxyXG5cdFx0XHRpZiAhJCh0aGlzKS52YWwoKSAmJiBzY2hlbWFLZXkgJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpXHJcblx0XHRcdFx0TWV0ZW9yLmNhbGwgJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCAoZXJyb3IsIHJlc3VsdCktPlxyXG5cdFx0XHRcdFx0aWYgZXJyb3JcclxuXHRcdFx0XHRcdFx0dG9hc3RyLmVycm9yKGVycm9yLnJlYXNvbilcclxuXHJcblx0XHRcdFx0XHRpZiAhcmVzdWx0W3NjaGVtYUtleV1cclxuXHRcdFx0XHRcdFx0a2V5ID0gZWxlbWVudC5kYXRhKFwiZm9ybXVsYVwiKT8ucmVwbGFjZShcImF1dG9fbnVtYmVyKFwiLCBcIlwiKS5yZXBsYWNlKFwiKVwiLCBcIlwiKVxyXG5cclxuXHRcdFx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpXHJcblxyXG5cdFx0XHRcdFx0XHRpZiBrZXkuaW5kZXhPZihcIntcIikgPiAtMVxyXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcclxuXHRcdFx0XHRcdFx0XHRrZXkgPSBrZXkudHJpbSgpXHJcblx0XHRcdFx0XHRcdFx0a2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKVxyXG5cdFx0XHRcdFx0XHRJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlciBlbGVtZW50LCBrZXlcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZWxlbWVudD8udmFsKHJlc3VsdFtzY2hlbWFLZXldKS50cmlnZ2VyKFwiY2hhbmdlXCIpXHJcblxyXG5cdFx0anVkZ2UgPSBjdXJyZW50QXBwcm92ZS5qdWRnZVxyXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblxyXG5cdFx0Zm9ybXVsYV9maWVsZHMgPSBGb3JtX2Zvcm11bGEuZ2V0Rm9ybXVsYUZpZWxkVmFyaWFibGUoXCJGb3JtX2Zvcm11bGEuZmllbGRfdmFsdWVzXCIsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xyXG5cdFx0Rm9ybV9mb3JtdWxhLnJ1bihcIlwiLCBcIlwiLCBmb3JtdWxhX2ZpZWxkcywgQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2MsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xyXG5cdFx0I+WcqOatpOWkhOWIneWni+WMlnNlc3Npb24g5Lit55qEIGZvcm1fdmFsdWVzIOWPmOmHj++8jOeUqOS6juinpuWPkeS4i+S4gOatpeatpemqpOiuoeeul1xyXG5cdFx0U2Vzc2lvbi5zZXQoXCJpbnN0YW5jZV9mb3JtX3ZhbHVlc1wiLCB7aW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLCB2YWx1ZXM6IEF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJpbnN0YW5jZWZvcm1cIikuaW5zZXJ0RG9jfSk7XHJcblxyXG5cclxuXHJcbiIsIkluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IHN0ZWVkb3NfaW5zdGFuY2UuYXBwbGljYW50X25hbWVcbiAgICB9O1xuICAgIGlmICghc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWU7XG4gICAgfVxuICAgIHJldHVybiBkYXRhO1xuICB9LFxuICBpbnN0YW5jZUlkOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gJ2luc3RhbmNlZm9ybSc7XG4gIH0sXG4gIGZvcm1fdHlwZXM6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCkpIHtcbiAgICAgIHJldHVybiAnZGlzYWJsZWQnO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gJ21ldGhvZCc7XG4gICAgfVxuICB9LFxuICBzdGVlZG9zX2Zvcm06IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICAgIH1cbiAgfSxcbiAgaW5uZXJzdWJmb3JtQ29udGV4dDogZnVuY3Rpb24ob2JqKSB7XG4gICAgdmFyIGRvY192YWx1ZXM7XG4gICAgZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICBvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGRvY192YWx1ZXMgPyBkb2NfdmFsdWVzW29iai5jb2RlXSA6IFtdO1xuICAgIG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIGlmICh2YWwpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgdW5lcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gIShhID09PSBiKTtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBpbmNsdWRlOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcbiAgfSxcbiAgZmllbGRzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIWRhdGUpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBpZiAob3B0aW9ucyAmJiB0eXBlb2Ygb3B0aW9ucyA9PT0gJ3N0cmluZycpIHtcbiAgICAgIG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xuICAgIH1cbiAgICBpZiAoIW9wdGlvbnMuZm9ybWF0KSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gbW9tZW50KGRhdGUpLmZvcm1hdChvcHRpb25zLmZvcm1hdCk7XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZsb3csIGluc3RhbmNlLCBsb2NhbGUsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgc3RlZWRvc0RhdGEsIHN0ZXBzLCB0cmFjZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgc3RlZWRvc0RhdGEgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLnZpZXcpICE9IG51bGwgPyAocmVmMiA9IHJlZjEudGVtcGxhdGUpICE9IG51bGwgPyByZWYyLnN0ZWVkb3NEYXRhIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YSAhPSBudWxsID8gc3RlZWRvc0RhdGEuaW5zdGFuY2UgOiB2b2lkIDA7XG4gICAgICBmbG93ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEZsb3dWZXJzaW9uKGluc3RhbmNlKTtcbiAgICAgIGxvY2FsZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5sb2NhbGUgOiB2b2lkIDA7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKCk7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpZiAoIWluc3RhbmNlIHx8ICFmbG93KSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIHN0ZXBzID0gZmxvdy5zdGVwcztcbiAgICB0cmFjZXMgPSB7fTtcbiAgICBpZiAoKHJlZjMgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgIHJlZjMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgYXBwcm92ZXMsIHJlZjQsIHN0ZXA7XG4gICAgICAgIHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApO1xuICAgICAgICBhcHByb3ZlcyA9IFtdO1xuICAgICAgICBpZiAoKHJlZjQgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgIHJlZjQuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIganVkZ2VfbmFtZTtcbiAgICAgICAgICAgIGlmICh0cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ2FwcHJvdmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlamVjdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWFzc2lnbmVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVsb2NhdGVkJykge1xuICAgICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICcnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFwiXCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKHtcbiAgICAgICAgICAgICAgX2lkOiBhcHByb3ZlLl9pZCxcbiAgICAgICAgICAgICAgaGFuZGxlcjogYXBwcm92ZS51c2VyLFxuICAgICAgICAgICAgICBoYW5kbGVyX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9uYW1lLFxuICAgICAgICAgICAgICBoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lOiBhcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lLFxuICAgICAgICAgICAgICBmaW5pc2hfZGF0ZTogYXBwcm92ZS5maW5pc2hfZGF0ZSxcbiAgICAgICAgICAgICAganVkZ2U6IGFwcHJvdmUuanVkZ2UsXG4gICAgICAgICAgICAgIGp1ZGdlX25hbWU6IGp1ZGdlX25hbWUsXG4gICAgICAgICAgICAgIGRlc2NyaXB0aW9uOiBhcHByb3ZlLmRlc2NyaXB0aW9uLFxuICAgICAgICAgICAgICBpc19maW5pc2hlZDogYXBwcm92ZS5pc19maW5pc2hlZCxcbiAgICAgICAgICAgICAgdHlwZTogYXBwcm92ZS50eXBlLFxuICAgICAgICAgICAgICBvcGluaW9uX2ZpZWxkc19jb2RlOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXG4gICAgICAgICAgICAgIHNpZ25fZmllbGRfY29kZTogYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUsXG4gICAgICAgICAgICAgIGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcbiAgICAgICAgICAgICAgc2lnbl9zaG93OiBhcHByb3ZlLnNpZ25fc2hvd1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHN0ZXApIHtcbiAgICAgICAgICBpZiAoc3RlcC5uYW1lIGluIHRyYWNlcykge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXM7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIHRyYWNlcztcbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgdGFibGVfZmllbGRzOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciBmaWVsZHMsIGZvcm1fdmVyc2lvbjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIH0gZWxzZSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oaW5zdGFuY2UuZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICB9XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xuICAgICAgICB2YXIgYWZ0ZXJfZmllbGQsIGJlZm9yZV9maWVsZCwgcHJlX2ZpZWxkcywgcHJlX3dpZGVfZmllbGRzLCB0ZF9jb2xzcGFuLCB0cl9lbmQsIHRyX3N0YXJ0O1xuICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiXCI7XG4gICAgICAgIGZpZWxkLnRyX2VuZCA9IFwiXCI7XG4gICAgICAgIHRkX2NvbHNwYW4gPSAxO1xuICAgICAgICBpZiAoKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkgPT09IGZpZWxkLmNvZGUpIHtcbiAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9PSAnb2RhdGEnKSB7XG4gICAgICAgICAgZmllbGQucGVybWlzc2lvbiA9IFwicmVhZG9ubHlcIjtcbiAgICAgICAgfVxuICAgICAgICBpZiAoU3RlZWRvcy5pc01vYmlsZSgpKSB7XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmllbGQudGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCAhPT0gMCkge1xuICAgICAgICAgICAgZmllbGQudHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHByZV9maWVsZHMgPSBmaWVsZHMuc2xpY2UoMCwgaW5kZXgpO1xuICAgICAgICAgIHByZV93aWRlX2ZpZWxkcyA9IHByZV9maWVsZHMuZmlsdGVyUHJvcGVydHkoXCJpc193aWRlXCIsIHRydWUpO1xuICAgICAgICAgIHRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgICB0cl9lbmQgPSBcIlwiO1xuICAgICAgICAgIGJlZm9yZV9maWVsZCA9IG51bGw7XG4gICAgICAgICAgYWZ0ZXJfZmllbGQgPSBudWxsO1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIGJlZm9yZV9maWVsZCA9IGZpZWxkc1tpbmRleCAtIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoaW5kZXggPCBmaWVsZHMubGVuZ3RoIC0gMSkge1xuICAgICAgICAgICAgYWZ0ZXJfZmllbGQgPSBmaWVsZHNbaW5kZXggKyAxXTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICB0ZF9jb2xzcGFuID0gNDtcbiAgICAgICAgICB9IGVsc2UgaWYgKGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoYmVmb3JlX2ZpZWxkICYmIGFmdGVyX2ZpZWxkICYmIGJlZm9yZV9maWVsZC5pc193aWRlICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCAmJiBhZnRlcl9maWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICAgICAgICB0ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgJiYgYWZ0ZXJfZmllbGQgPT09IG51bGwpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gdGRfY29sc3BhbjtcbiAgICAgICAgICBpZiAoaW5kZXggPT09IDApIHtcbiAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmICgocHJlX2ZpZWxkcy5sZW5ndGggKyBwcmVfd2lkZV9maWVsZHMubGVuZ3RoKSAlIDIgPT09IDAgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHIgY2xhc3MgPSBcXFwidHItY2hpbGQtdGFibGVcXFwiPlwiO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRyX3N0YXJ0ID0gXCI8dHI+XCI7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgICAgZmllbGQudHJfc3RhcnQgPSB0cl9zdGFydDtcbiAgICAgICAgICBpZiAoaW5kZXggKyAxID09PSBmaWVsZHMubGVuZ3RoIHx8IGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09PSAndGFibGUnIHx8IGZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgIHRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiAhPT0gMCkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gZmllbGQudHJfZW5kID0gdHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9LFxuICBzb3J0X2FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmVzLCBvcmRlcikge1xuICAgIGlmICghYXBwcm92ZXMpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9XG4gICAgaWYgKCFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICByZXR1cm4gW107XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChvcmRlciA9PT0gJ2Rlc2MnKSB7XG4gICAgICAgIGFwcHJvdmVzLnNvcnQoZnVuY3Rpb24ocDEsIHAyKSB7XG4gICAgICAgICAgdmFyIF9wMSwgX3AyO1xuICAgICAgICAgIF9wMSA9IDA7XG4gICAgICAgICAgX3AyID0gMDtcbiAgICAgICAgICBpZiAocDEuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMSA9IHAxLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHAyLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBfcDIgLSBfcDE7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMSAtIF9wMjtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlcztcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIGdldEZpZWxkOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpO1xuICAgIH1cbiAgfSxcbiAgZ2V0VmFsdWU6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCBpbnN0YW5jZSwgbG9jYWxlLCB1dGNPZmZzZXQsIHZhbHVlcztcbiAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgdXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldDtcbiAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXQpO1xuICB9LFxuICBnZXRMYWJlbDogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIGNvZGUpO1xuICB9LFxuICBnZXRDZkNsYXNzOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIGlmICgoZmllbGQgIT0gbnVsbCA/IGZpZWxkLnR5cGUgOiB2b2lkIDApID09PSBcImlucHV0XCIgJiYgKGZpZWxkICE9IG51bGwgPyBmaWVsZC5pc190ZXh0YXJlYSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcImNmVGV4dGFyZWFcIjtcbiAgICB9XG4gIH0sXG4gIGdldFRhYmxlVGhlYWQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpO1xuICB9LFxuICBnZXRUYWJsZUJvZHk6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIGluc3RhbmNlLCB0YWJsZVZhbHVlLCB2YWx1ZXM7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XG4gICAgICB2YWx1ZXMgPSBpbnN0YW5jZS52YWx1ZXMgfHwge307XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgICB9XG4gICAgdGFibGVWYWx1ZSA9IHZhbHVlc1tmaWVsZC5jb2RlXTtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRib2R5KGZpZWxkLnNmaWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpLCBmaWVsZCwgdGFibGVWYWx1ZSwgZmFsc2UpO1xuICB9LFxuICBzaG93TGFiZWw6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHRlbXBsYXRlRGF0YTtcbiAgICB0ZW1wbGF0ZURhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGE7XG4gICAgaWYgKHRlbXBsYXRlRGF0YS5sYWJlbCA9PT0gZmFsc2UpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIHRydWU7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmaWVsZCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkLmZvcm11bGEpO1xuICB9LFxuICBpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZzogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgIHJldHVybiBJbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICB9LFxuICBpbmNsdWRlc09waW5pb25GaWVsZDogZnVuY3Rpb24oZm9ybSwgZm9ybV92ZXJzaW9uKSB7XG4gICAgdmFyIGZpZWxkX2Zvcm11bGFzLCBmaWVsZHMsIHJlZjtcbiAgICBmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xuICAgIGZpZWxkcyA9ICgocmVmID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pKSAhPSBudWxsID8gcmVmLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjE7XG4gICAgICBpZiAoZi50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICAgIH0gZWxzZSBpZiAoZi50eXBlID09PSAnc2VjdGlvbicpIHtcbiAgICAgICAgcmV0dXJuIGYgIT0gbnVsbCA/IChyZWYxID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYxLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmMS5mb3JtdWxhKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmllbGRfZm9ybXVsYXMucHVzaChmLmZvcm11bGEpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBfLnNvbWUoZmllbGRfZm9ybXVsYXMsIGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpO1xuICAgIH0pO1xuICB9LFxuICBnZXRPcGluaW9uRmllbGRTdGVwc05hbWU6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBmb28xLCBvcGluaW9uRmllbGRzO1xuICAgIG9waW5pb25GaWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKSkge1xuICAgICAgaWYgKGZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZm9vMSA9IGZpZWxkX2Zvcm11bGEuc3BsaXQoXCI7XCIpO1xuICAgICAgICBmb28xLmZvckVhY2goZnVuY3Rpb24oZm9vKSB7XG4gICAgICAgICAgdmFyIGpzb25fZm9ybXVsYSwgcmVmLCByZWYxLCBzMSwgc2Y7XG4gICAgICAgICAganNvbl9mb3JtdWxhID0ge307XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IGV2YWwoXCIoXCIgKyBmb28gKyBcIilcIik7XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IxKSB7XG4gICAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGpzb25fZm9ybXVsYSAhPSBudWxsID8ganNvbl9mb3JtdWxhLnlpamlhbmxhbiA6IHZvaWQgMCkge1xuICAgICAgICAgICAgc2YgPSB7fTtcbiAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5zdGVwO1xuICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9jYyB8fCBmYWxzZTtcbiAgICAgICAgICAgIHNmLmRlZmF1bHRfZGVzY3JpcHRpb24gPSBqc29uX2Zvcm11bGEueWlqaWFubGFuW1wiZGVmYXVsdFwiXTtcbiAgICAgICAgICAgIHNmLm9ubHlfaGFuZGxlciA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4ub25seV9oYW5kbGVyO1xuICAgICAgICAgICAgc2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzO1xuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfSBlbHNlIGlmICgoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgICAgICAgc2YgPSB7XG4gICAgICAgICAgICAgIG9ubHlfY2Nfb3BpbmlvbjogZmFsc2UsXG4gICAgICAgICAgICAgIGltYWdlX3NpZ246IGZhbHNlLFxuICAgICAgICAgICAgICB0b3Bfa2V5d29yZHM6IHRvcF9rZXl3b3Jkc1xuICAgICAgICAgICAgfTtcbiAgICAgICAgICAgIGlmIChmb28uaW5kZXhPZihcIntzaWduYXR1cmUuXCIpID4gLTEpIHtcbiAgICAgICAgICAgICAgc2YuaW1hZ2Vfc2lnbiA9IHRydWU7XG4gICAgICAgICAgICAgIGZvbyA9IGZvby5yZXBsYWNlKFwie3NpZ25hdHVyZS5cIiwgXCJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBzMSA9IGZvby5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMSkge1xuICAgICAgICAgICAgICBzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXTtcbiAgICAgICAgICAgICAgaWYgKG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICAgIGlmICgocmVmID0gb3BpbmlvbkZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcE5hbWVcIiwgc2Yuc3RlcE5hbWUpKSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgICByZWYub25seV9jY19vcGluaW9uID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKChyZWYxID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgICAgICAgICAgICBzZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG9waW5pb25GaWVsZHMucHVzaChzZik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG9waW5pb25GaWVsZHM7XG4gIH0sXG4gIHNob3dDQ09waW5pb246IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIHJlZiwgcmVmMSwgcmVmMiwgczE7XG4gICAgaWYgKCgocmVmID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZi5pbmRleE9mKFwie3RyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKChyZWYxID0gZmllbGQuZm9ybXVsYSkgIT0gbnVsbCA/IHJlZjEuaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSkge1xuICAgICAgczEgPSBmaWVsZC5mb3JtdWxhLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgIGlmIChzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMikge1xuICAgICAgICBpZiAoKChyZWYyID0gczEuc3BsaXQoXCIuXCIpWzJdKSAhPSBudWxsID8gcmVmMi50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwKSA9PT0gJ2NjJykge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIGZfbGFiZWw6IGZ1bmN0aW9uKHRoYXQpIHtcbiAgICByZXR1cm4gdGhhdC5uYW1lIHx8IHRoYXQuY29kZTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnN0ZWVkb3NfZm9ybSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc1NlY3Rpb24gPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSB0aGlzLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKS50eXBlID09PSAnc2VjdGlvbic7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZG9jX3ZhbHVlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnN0YW5jZTtcbiAgICBpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XG4gICAgcmV0dXJuIGluc3RhbmNlLnZhbHVlcztcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5hcHBsaWNhbnRDb250ZXh0ID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIGluc3RhbmNlO1xuICAgIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICByZXR1cm4gZGF0YSA9IHtcbiAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgIGF0dHM6IHtcbiAgICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBpZDogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgICBcImNsYXNzXCI6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J1xuICAgICAgfSxcbiAgICAgIHZhbHVlOiBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuICAgIH07XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gdGhpcy5pbnN0YW5jZTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5maWVsZHMgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XG4gICAgfVxuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1fdHlwZXMgPSBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gXCJkaXNhYmxlZFwiO1xuICB9O1xuICBUZW1wbGF0ZS5yZWdpc3RlckhlbHBlcihcImFmRmllbGRMYWJlbFRleHRcIiwgZnVuY3Rpb24ob3ApIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uLCByZWY7XG4gICAgZm9ybV92ZXJzaW9uID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmZvcm1fdmVyc2lvbjtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsKGZvcm1fdmVyc2lvbi5maWVsZHMsIG9wICE9IG51bGwgPyAocmVmID0gb3AuaGFzaCkgIT0gbnVsbCA/IHJlZi5uYW1lIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgfSk7XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IHRoaXMubG9jYWxlO1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zX2F0dGFjaF9kb3dubG9hZF91cmwgPSBmdW5jdGlvbihfaWQsIGFic29sdXRlKSB7XG4gICAgaWYgKGFic29sdXRlKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvXCIgKyBfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIjtcbiAgICB9XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMub3B0aW9ucyA9IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgdmFyIG9wdGlvbnMsIHJlZiwgcmV2O1xuICAgIG9wdGlvbnMgPSBmaWVsZCAhPSBudWxsID8gKHJlZiA9IGZpZWxkLm9wdGlvbnMpICE9IG51bGwgPyByZWYuc3BsaXQoXCJcXG5cIikgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgcmV2ID0gW107XG4gICAgaWYgKG9wdGlvbnMgIT0gbnVsbCkge1xuICAgICAgb3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uKGl0ZW0pIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKHtcbiAgICAgICAgICBsYWJlbDogaXRlbSxcbiAgICAgICAgICB2YWx1ZTogaXRlbVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gcmV2O1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldFBlcm1pc3Npb25zID0gZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCEoKHJlZiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhjb2RlKSA6IHZvaWQgMCkpIHtcbiAgICAgIHJldHVybiBcInJlYWRvbmx5IGRpc2FibGVkXCI7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9O1xufVxuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5ldmVudHMgPSB7XG4gICdjaGFuZ2UgLmZvcm0tY29udHJvbCwuY2hlY2tib3ggaW5wdXQsLmFmLXJhZGlvLWdyb3VwIGlucHV0LC5hZi1jaGVja2JveC1ncm91cCBpbnB1dCc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudCk7XG4gIH0sXG4gICd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiBmdW5jdGlvbihldmVudCkge1xuICAgIHJldHVybiBJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpO1xuICB9LFxuICAnY2xpY2sgLmNmVGV4dGFyZWEgYSc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KGV2ZW50LnRhcmdldC5ocmVmKTtcbiAgfVxufTtcblxuSW5zdGFuY2Vmb3JtVGVtcGxhdGUub25DcmVhdGVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjb21waWxlZCwgZSwgaW5zdGFuY2UsIGluc3RhbmNlQ3VzdG9tVGVtcGxhdGUsIGluc3RhbmNlVmlldywgcmVuZGVyRnVuY3Rpb24sIHRlbXBsYXRlO1xuICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlKTtcbiAgdHJ5IHtcbiAgICBjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodGVtcGxhdGUsIHtcbiAgICAgIGlzQm9keTogdHJ1ZVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICBlID0gZXJyb3IxO1xuICAgIGNvbnNvbGUubG9nKFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZSk7XG4gICAgY29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKFwiXCIsIHtcbiAgICAgIGlzQm9keTogdHJ1ZVxuICAgIH0pO1xuICB9XG4gIHJlbmRlckZ1bmN0aW9uID0gZXZhbChjb21waWxlZCk7XG4gIGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcbiAgaW5zdGFuY2VDdXN0b21UZW1wbGF0ZSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShpbnN0YW5jZVZpZXcubmFtZSwgcmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUgPSBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlLmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vblJlbmRlcmVkID0gZnVuY3Rpb24oKSB7XG4gIHZhciBjdXJyZW50QXBwcm92ZSwgY3VycmVudFN0ZXAsIGZvcm1fdmVyc2lvbiwgZm9ybXVsYV9maWVsZHMsIGluc3RhbmNlLCBpbnN0YW5jZU51bWJlckZpZWxkcywganVkZ2UsIHJlZjtcbiAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoKHJlZiA9ICQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0pICE9IG51bGwpIHtcbiAgICByZWYuZGF0YXNldC52YWx1ZXMgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gIH1cbiAgJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKS52YWwoaW5zdGFuY2UuYXBwbGljYW50X25hbWUpO1xuICBBcHByb3ZlTWFuYWdlci5lcnJvciA9IHtcbiAgICBuZXh0U3RlcHM6ICcnLFxuICAgIG5leHRTdGVwVXNlcnM6ICcnXG4gIH07XG4gIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2RyYWZ0Jykge1xuICAgIEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcbiAgfVxuICBpZiAoIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMgPSAkKFwiW2RhdGEtZm9ybXVsYV1cIiwgJChcIiNpbnN0YW5jZWZvcm1cIikpO1xuICAgIGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2goZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZWxlbWVudCwgc2NoZW1hS2V5O1xuICAgICAgc2NoZW1hS2V5ID0gdGhpcy5kYXRhc2V0LnNjaGVtYUtleTtcbiAgICAgIGVsZW1lbnQgPSAkKHRoaXMpO1xuICAgICAgaWYgKCEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5jYWxsKCdnZXRJbnN0YW5jZVZhbHVlcycsIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIHZhciBrZXksIHJlZjE7XG4gICAgICAgICAgaWYgKGVycm9yKSB7XG4gICAgICAgICAgICB0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKCFyZXN1bHRbc2NoZW1hS2V5XSkge1xuICAgICAgICAgICAga2V5ID0gKHJlZjEgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpKSAhPSBudWxsID8gcmVmMS5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpIDogdm9pZCAwO1xuICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoL1xcXCIvZywgXCJcIikucmVwbGFjZSgvXFwnL2csIFwiXCIpO1xuICAgICAgICAgICAgaWYgKGtleS5pbmRleE9mKFwie1wiKSA+IC0xKSB7XG4gICAgICAgICAgICAgIGtleSA9IGtleS5yZXBsYWNlKFwie1wiLCBcIlwiKS5yZXBsYWNlKFwifVwiLCBcIlwiKTtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnRyaW0oKTtcbiAgICAgICAgICAgICAga2V5ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShrZXksICdpbnN0YW5jZWZvcm0nKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBJbnN0YW5jZU51bWJlclJ1bGVzLmluc3RhbmNlTnVtYmVyQnVpbGRlcihlbGVtZW50LCBrZXkpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gZWxlbWVudCAhPSBudWxsID8gZWxlbWVudC52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIikgOiB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlO1xuICAgIGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgRm9ybV9mb3JtdWxhLnJ1bihcIlwiLCBcIlwiLCBmb3JtdWxhX2ZpZWxkcywgQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2MsIGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgIHJldHVybiBTZXNzaW9uLnNldChcImluc3RhbmNlX2Zvcm1fdmFsdWVzXCIsIHtcbiAgICAgIGluc3RhbmNlSWQ6IGluc3RhbmNlLl9pZCxcbiAgICAgIHZhbHVlczogQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2NcbiAgICB9KTtcbiAgfVxufTtcbiIsIkluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMgPSB7XHJcblxyXG5cdHNob3dNYWluVGl0bGU6IGZ1bmN0aW9uKCkge1xyXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkud29ya2Zsb3dNYWluQXR0YWNoVGl0bGUuZ2V0KCk7XHJcblx0fSxcclxuXHRlbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiZHJhZnRcIiAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImluYm94XCIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5bey57uP57uT5p2f55qE5Y2V5a2Q5LiN6IO95pS56ZmE5Lu2XHJcblx0XHRpZiAoaW5zLnN0YXRlID09IFwiY29tcGxldGVkXCIpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cclxuXHRcdGlmICghY3VycmVudF9zdGVwKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Ly8g5YiG5Y+R55qE5q2j5paH5oiW6ICF6ZmE5Lu25LiN5pi+56S66L2s5Li6cGRm5oyJ6ZKuXHJcblx0XHQvLyDlpoLmnpzmnInmraPmlofmnYPpmZDliJnkuLrmraPmlofvvIzlkKbliJnliIblj5HkuLrpmYTku7ZcclxuXHRcdC8vIOWIhuWPkeeahOmZhOS7tuS4jeWFgeiuuOS/ruaUuSDliKDpmaQg5paw5aKe54mI5pysXHJcblx0XHR2YXIgbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0fSkuY291bnQoKTtcclxuXHJcblx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IDA7XHJcblxyXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcclxuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XHJcblx0XHRcdGlmIChzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoKSB7XHJcblx0XHRcdFx0dmFyIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSxcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0XHRcdH0pLmNvdW50KCk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUgJiYgbWFpbl9hdHRhY2hfY291bnQgPCAxICYmIGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPCAxKSB7XHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5q2j5paH5pyA5aSa5Y+q6IO95pyJ5LiA5LiqXHJcblx0XHRpZiAobWFpbl9hdHRhY2hfY291bnQgPj0gMSB8fCBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID49IDEpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOW8gOWni+iKgueCueW5tuS4lOiuvue9ruS6huWPr+S7peS4iuS8oOato+aWh+aJjeaYvuekuuS4iuS8oOato+aWh+eahOaMiemSrlxyXG5cdFx0dmFyIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09IFwic3RhcnRcIiAmJiBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSlcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9LFxyXG5cclxuXHRlbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQ6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSlcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0dmFyIGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XHJcblx0XHRpZiAoIWZsb3cpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHJcblx0XHQvLyDliIblj5HlkI7nmoQg6ZmE5Lu277yM5LiN5Y+v5Lul57yW6L6RL+WIoOmZpO+8jOS5n+S4jeiuqeS4iuS8oOaWsOeahOmZhOS7tiwg5rWB56iL5YiX6KGo77ya5re75Yqg5bGe5oCnIOKAmOiiq+WIhuWPkeWQjuaYr+WQpuWFgeiuuOS4iuS8oOmZhOS7tuKAmSAjMTgzN1xyXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgIWZsb3cudXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7ZcclxuXHRcdGlmIChpbnMuc3RhdGUgPT0gXCJjb21wbGV0ZWRcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzQ0MoaW5zKSkge1xyXG5cdFx0XHR2YXIgc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDQ1N0ZXAoKTtcclxuXHRcdFx0aWYgKHN0ZXAgJiYgKHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IHN0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblx0XHRcdGlmIChjdXJyZW50X3N0ZXAgJiYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKSlcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdG1haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XHJcblxyXG5cdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V5bm25LiU5pyJ5L+u5pS55q2j5paH55qE5p2D6ZmQ77yM5YiZ5LyY5YWI5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2XHJcblx0XHR2YXIgbWFpbl9hdHRhY2ggPSBudWxsO1xyXG5cdFx0aWYgKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgJiYgc3RhcnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XHJcblx0XHRcdG1haW5fYXR0YWNoID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFtYWluX2F0dGFjaCkge1xyXG5cdFx0XHRtYWluX2F0dGFjaCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XHJcblx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zLl9pZCxcclxuXHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHRcdH0pO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBtYWluX2F0dGFjaDtcclxuXHR9LFxyXG5cclxuXHRub3JtYWxfYXR0YWNobWVudHM6IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgKCFpbnMpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdHZhciBzZWxlY3RvciA9IHtcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcclxuXHRcdFx0XHQkbmU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdH07XHJcblxyXG5cdFx0dmFyIGF0dHMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xyXG5cdFx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXvvIzliJnmmL7npLrljp/nlLPor7fljZXmlofku7YsIOWmguaenOmAieaLqeS6huWwhuWOn+ihqOWNleWtmOWCqOS4uumZhOS7tuS5n+imgeaYvuekuiwg5ZCM5pe25Lmf6KaB5pi+56S65paw5LiK5Lyg55qE6ZmE5Lu2XHJcblx0XHRcdHZhciBkZmlzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRcdGRmaXMucHVzaChpbnMuX2lkKTtcclxuXHRcdFx0c2VsZWN0b3JbJ21ldGFkYXRhLmluc3RhbmNlJ10gPSB7XHJcblx0XHRcdFx0JGluOiBkZmlzXHJcblx0XHRcdH07XHJcblxyXG5cclxuXHRcdFx0c2VsZWN0b3JbXCIkb3JcIl0gPSBbe1xyXG5cdFx0XHRcdFwibWV0YWRhdGEuaW5zdGFuY2VcIjogaW5zLl9pZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiB7XHJcblx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHRcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xyXG5cdFx0XHRcdFx0JG5lOiB0cnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XVxyXG5cclxuXHRcdFx0Ly8g5aaC5p6c5Y6f55Sz6K+35Y2V5pyJ5q2j5paH5L2G5piv5YiG5Y+R5ZCO5rKh5pyJ5q2j5paH5p2D6ZmQ77yM5YiZ5Y6f55Sz6K+35Y2V5q2j5paH5pi+56S65Zyo6ZmE5Lu25qCPXHJcblx0XHRcdHZhciBzdGFydF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldFN0YXJ0U3RlcCgpO1xyXG5cdFx0XHRpZiAoc3RhcnRfc3RlcCAmJiBzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoICE9IHRydWUpIHtcclxuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHRcdFx0JGluOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xyXG5cdFx0XHRcdFx0fSxcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZSxcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRpZiAoZGlzdHJpYnV0ZV9tYWluKSB7XHJcblx0XHRcdFx0XHR2YXIgZmlyc3RWZXJzaW9uTWFpbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShkaXN0cmlidXRlX21haW4ubWV0YWRhdGEucGFyZW50KTtcclxuXHRcdFx0XHRcdGRpc3RyaWJ1dGVfbWFpbi5hdHRhY2htZW50VXBsb2FkZWRBdCA9IGZpcnN0VmVyc2lvbk1haW4gPyBmaXJzdFZlcnNpb25NYWluLnVwbG9hZGVkQXQgOiBkaXN0cmlidXRlX21haW4udXBsb2FkZWRBdDtcclxuXHRcdFx0XHRcdGF0dHMucHVzaChkaXN0cmlidXRlX21haW4pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2VsZWN0b3JbJ21ldGFkYXRhLmluc3RhbmNlJ10gPSBpbnMuX2lkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGNmcy5pbnN0YW5jZXMuZmluZChzZWxlY3RvcikuZm9yRWFjaChmdW5jdGlvbihjKSB7XHJcblx0XHRcdHZhciBmaXJzdFZlcnNpb24gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoYy5tZXRhZGF0YS5wYXJlbnQpO1xyXG5cdFx0XHRjLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uID8gZmlyc3RWZXJzaW9uLnVwbG9hZGVkQXQgOiBjLnVwbG9hZGVkQXQ7XHJcblx0XHRcdGF0dHMucHVzaChjKTtcclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIF8uc29ydEJ5KGF0dHMsICdhdHRhY2htZW50VXBsb2FkZWRBdCcpO1xyXG5cdH0sXHJcblxyXG5cdHNob3dBdHRhY2htZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiDlkozliIblj5HlkI7nlLPor7fljZXmlofku7ZcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xyXG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnMuX2lkKTtcclxuXHRcdHZhciBhdHRhY2htZW50c19jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxyXG5cdFx0fSkuY291bnQoKTtcclxuXHJcblx0XHRpZiAoU2Vzc2lvbiAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXR0YWNobWVudHNfY291bnQgPCAxKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09IFwiaW5ib3hcIiB8fCBhdHRhY2htZW50c19jb3VudCA+IDApXHJcblx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fSxcclxuXHJcblx0X3Q6IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cdH0sXHJcblxyXG5cdF86IGZ1bmN0aW9uKGtleSkge1xyXG5cdFx0dmFyIGxvY2FsZTtcclxuXHRcdGlmIChNZXRlb3IuaXNDbGllbnQpIHtcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XHJcblx0XHR9XHJcblx0fSxcclxuXHJcbn1cclxuXHJcbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXHJcblx0fVxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9O1xyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHR9O1xyXG5cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm1haW5fYXR0YWNobWVudCA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xyXG5cdFx0dmFyIGF0dGFjaG1lbnQgPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnQ7XHJcblx0fTtcclxuXHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5ub3JtYWxfYXR0YWNobWVudHMgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBzdGVlZG9zRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxyXG5cdFx0dmFyIGluc3RhbmNlID0gc3RlZWRvc0RhdGEuaW5zdGFuY2U7XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xyXG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xyXG5cdFx0dmFyIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHtcclxuXHRcdFx0XHQkbmU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0JG9yOiBbe1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xyXG5cdFx0XHRcdFx0JG5lOiB0cnVlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLFxyXG5cdFx0XHRcdFwibWV0YWRhdGEub3duZXJcIjogc3RlZWRvc0RhdGEudXNlcklkXHJcblx0XHRcdH1dXHJcblx0XHR9KS5mZXRjaCgpO1xyXG5cclxuXHRcdHJldHVybiBhdHRhY2htZW50cztcclxuXHR9O1xyXG5cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dBdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdGluc3RhbmNlSWRzLnB1c2goaW5zdGFuY2UuX2lkKTtcclxuXHJcblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcclxuXHRcdH0pLmZldGNoKCk7XHJcblxyXG5cdFx0aWYgKGF0dGFjaG1lbnRzICYmIGF0dGFjaG1lbnRzLmxlbmd0aCA+IDApIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblx0fVxyXG5cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLnNob3dNYWluVGl0bGUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY29tcGFjdChbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLCBpbnN0YW5jZS5faWRdKTtcclxuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHR9KS5jb3VudCgpO1xyXG5cclxuXHRcdHJldHVybiBtYWluX2F0dGFjaF9jb3VudCA+IDBcclxuXHR9XHJcbn1cclxuIiwiSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzID1cclxuXHRzaG93OiAoc3RlcE5hbWUpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpZiBTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRcdGlmIEluc3RhbmNlTWFuYWdlci5pc0luYm94KClcclxuXHRcdFx0XHRteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxyXG5cdFx0XHRcdGlmIG15QXBwcm92ZVxyXG5cdFx0XHRcdFx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdFx0XHRcdG15VHJhY2UgPSBpbnN0YW5jZT8udHJhY2VzPy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIG15QXBwcm92ZS50cmFjZSlcclxuXHRcdFx0XHRcdHJldHVybiBteVRyYWNlPy5uYW1lID09IHN0ZXBOYW1lXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0ZGVmYXVsdERlc2NyaXB0aW9uOiAoKS0+XHJcbiNcdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIilcclxuXHRcdHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvblxyXG5cclxuXHR0cmFjZXM6ICgpLT5cclxuXHRcdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcclxuXHJcblx0dHJhY2U6IChzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpLT5cclxuXHRcdGluc3RhbmNlID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSgpXHJcblxyXG5cdFx0aXNfY29tcGxldGVkID0gaW5zdGFuY2U/LnN0YXRlID09IFwiY29tcGxldGVkXCJcclxuXHJcblx0XHRjb21wbGV0ZWRfZGF0ZSA9IGlmIGlzX2NvbXBsZXRlZCB0aGVuIF8ubGFzdChpbnN0YW5jZS50cmFjZXMpPy5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIGVsc2UgMFxyXG5cclxuXHRcdGlmIGlzX2NvbXBsZXRlZCAmJiBpbnN0YW5jZS5maW5pc2hfZGF0ZVxyXG5cdFx0XHRjb21wbGV0ZWRfZGF0ZSA9IGluc3RhbmNlLmZpbmlzaF9kYXRlPy5nZXRUaW1lKClcclxuXHJcblx0XHR0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpXHJcblxyXG5cdFx0YXBwcm92ZXMgPSBfLmNsb25lKHRyYWNlc1tzdGVwTmFtZV0pXHJcblxyXG5cdFx0YXBwcm92ZV9zb3J0ID0gKGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpLT5cclxuXHJcbiPlr7lBcHByb3Zlc+aOkuW6j++8jCDmjInnhafmj5DkuqTml7bpl7TmjpLlgJLluo/vvIzlpoLmnpzmsqHmnInmj5DkuqTliJnmmL7npLrlnKjmnIDkuIrovrlcclxuXHRcdFx0YXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkgYXBwcm92ZXMsIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0cmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKClcclxuXHJcblx0XHRcdCPpgJrov4flhbPplK7lrZfmjpLluo9cclxuXHRcdFx0aWYgdG9wX2tleXdvcmRzXHJcblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHRcdFx0dG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoIChrZXkpIC0+XHJcblx0XHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCAoYXBwcm92ZSktPlxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gYXBwcm92ZT8uaGFuZGxlcl9uYW1lPy5pbmRleE9mKGtleSkgPiAtMVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdCMg5a+5572u6aG25oSP6KeB5oyJ54Wn5aSE55CG5LqL5Lu25o6S5YCS5bqPXHJcblx0XHRcdFx0dG9wX2FwcHJvdmVzID0gXy5zb3J0QnkgdG9wX2FwcHJvdmVzLCAodG9wX2FwcHJvdmUpLT5cclxuXHRcdFx0XHRcdHJldHVybiAtKHRvcF9hcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxyXG5cclxuXHRcdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uIHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkXHJcblx0XHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW11cclxuXHJcblx0XHRhcHByb3ZlcyA9IF8uZmlsdGVyIGFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgXCJmb3J3YXJkXCIgYW5kIGEudHlwZSBpc250IFwiZGlzdHJpYnV0ZVwiIGFuZCBhLnR5cGUgaXNudCBcInRlcm1pbmF0ZWRcIlxyXG5cclxuXHRcdGlmIG9ubHlfY2Nfb3BpbmlvblxyXG5cdFx0XHRhcHByb3ZlcyA9IGFwcHJvdmVzPy5maWx0ZXJQcm9wZXJ0eShcInR5cGVcIiwgXCJjY1wiKVxyXG5cclxuXHRcdGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKVxyXG5cclxuXHRcdGFwcHJvdmVzR3JvdXAgPSBfLmdyb3VwQnkoYXBwcm92ZXMsIFwiaGFuZGxlclwiKTtcclxuXHJcblx0XHRoYXNOZXh0ID0gKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIC0+XHJcblx0XHRcdGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXVxyXG5cdFx0XHRyZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aFxyXG5cclxuXHRcdGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cclxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXHJcblxyXG5cdFx0XHRkZXNjcmlwdGlvbkFwcHJvdmVzID0gXy5maWx0ZXIgaGFuZGxlckFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdGlmIGEuZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0XHRpZiBkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHJcblx0XHRhcHByb3Zlc19zb3J0ZWQuZm9yRWFjaCAoYXBwcm92ZSkgLT5cclxuI1x0XHRcdOaciei+k+WFpeaEj+ingSDmiJYg5pyA5paw5LiA5p2h5bm25LiU55So5oi35rKh5pyJ6L6T5YWl6L+H5oSP6KeBXHJcbiNcdFx0XHRpZiAhYXBwcm92ZS5pc19maW5pc2hlZCB8fCBhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAmJiAhaGF2ZURlc2NyaXB0aW9uQXBwcm92ZShhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSlcclxuI1x0XHRcdGlmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApXHJcblx0XHRcdGlmIGFwcHJvdmUuc2lnbl9zaG93ICE9IGZhbHNlICYmIChhcHByb3ZlLmRlc2NyaXB0aW9uIHx8ICghYXBwcm92ZS5kZXNjcmlwdGlvbiAmJiAhaGFzTmV4dChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSkgKVxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcclxuXHRcdFx0XHRcdGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlXHJcblxyXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIgYXBwcm92ZXNfc29ydGVkLCAoYSkgLT5cclxuXHRcdFx0aWYgaXNfY29tcGxldGVkXHJcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZSAmJiBhLmlzX2ZpbmlzaGVkICYmIGEuZmluaXNoX2RhdGU/LmdldFRpbWUoKSA8PSBjb21wbGV0ZWRfZGF0ZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIGEuX2Rpc3BsYXkgPT0gdHJ1ZVxyXG5cclxuXHRcdHJldHVybiBhcHByb3Zlc19zb3J0ZWRcclxuXHJcblx0aW5jbHVkZTogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpXHJcblxyXG5cdHVuZW1wdHk6ICh2YWwpLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKVxyXG5cclxuXHRmb3JtYXREYXRlOiAoZGF0ZSwgb3B0aW9ucyktPlxyXG5cdFx0aWYgIW9wdGlvbnNcclxuXHRcdFx0b3B0aW9ucyA9IHtcImZvcm1hdFwiOiBcIllZWVktTU0tRERcIn1cclxuXHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpXHJcblxyXG5cdGlzTXlBcHByb3ZlOiAoYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuXHRcdFx0Y3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKVxyXG5cclxuXHRcdFx0aWYgIWFwcHJvdmU/Ll9pZFxyXG5cdFx0XHRcdGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZVxyXG5cclxuXHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gY3VycmVudEFwcHJvdmU/Ll9pZCAmJiBjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXHJcblx0XHRcdFx0aWYgXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlPy5vcGluaW9uX2ZpZWxkc19jb2RlLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMVxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRcdGlmICEoY3VycmVudEFwcHJvdmU/LnR5cGUgPT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uXHJcblx0XHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0XHRpZiBjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZS5faWRcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdG15QXBwcm92ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/Lm15QXBwcm92ZT8uZ2V0KClcclxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxyXG5cdFx0XHRcdFx0aWYgIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXHJcblx0XHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm4gbXlBcHByb3ZlPy5kZXNjcmlwdGlvbiB8fCBcIlwiXHJcblx0XHRcdFx0XHRcdHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcclxuXHJcblx0bm93OiAoKS0+XHJcblx0XHRyZXR1cm4gbmV3IERhdGUoKTtcclxuXHJcblx0aXNSZWFkT25seTogKCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KClcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRpc09waW5pb25PZkZpZWxkOiAoYXBwcm92ZSktPlxyXG5cdFx0aWYgYXBwcm92ZS50eXBlID09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZVxyXG5cdFx0XHRpZiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblxyXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cclxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXHJcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XHJcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoaHJlZiwgdGl0bGUsIHRleHQpIC0+XHJcblx0XHRcdFx0cmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9JyN7aHJlZn0nIHRpdGxlPScje3RpdGxlfSc+I3t0ZXh0fTwvYT5cIlxyXG5cdFx0XHRyZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtyZW5kZXJlcjogcmVuZGVyZXJ9KSlcclxuXHJcblx0c3RlcHM6IChmaWVsZF9mb3JtdWxhLCBzdGVwLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24pLT5cclxuXHRcdHN0ZXBzID0gW11cclxuXHRcdGlmICFzdGVwXHJcblx0XHRcdGlmICFmaWVsZF9mb3JtdWxhXHJcblx0XHRcdFx0ZmllbGRfZm9ybXVsYSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk/LmZpZWxkcz8uZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhXHJcblx0XHRcdHN0ZXBzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5nZXRPcGluaW9uRmllbGRTdGVwc05hbWUoZmllbGRfZm9ybXVsYSwgVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YS50b3Bfa2V5d29yZHMpXHJcblx0XHRlbHNlXHJcblx0XHRcdHN0ZXBzID0gW3tzdGVwTmFtZTogc3RlcCwgb25seV9jY19vcGluaW9uOiBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ246IGltYWdlX3NpZ259XVxyXG5cdFx0cmV0dXJuIHN0ZXBzXHJcblxyXG5cdGltYWdlU2lnbkRhdGE6IChoYW5kbGVyKSAtPlxyXG5cdFx0cmV0dXJuIHt1c2VyOiBoYW5kbGVyfVxyXG5cclxuXHRzaG93U2lnbkltYWdlOiAoaGFuZGxlciwgaW1hZ2Vfc2lnbikgLT5cclxuXHRcdHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xyXG5cclxuXHRcdGlmIHNwYWNlVXNlclNpZ24/LnNpZ24gJiYgaW1hZ2Vfc2lnblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0Z2V0TGFzdFNpZ25BcHByb3ZlOiAoKS0+XHJcblx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHJcblx0XHRyZXR1cm4gXy5sYXN0KFRyYWNlc01hbmFnZXIuZ2V0SGFuZGxlclNpZ25TaG93QXBwcm92ZXMgaW5zLCBNZXRlb3IudXNlcklkKCkpXHJcblxyXG5cclxuXHRsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246ICgpLT5cclxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcclxuXHRcdGN1cnJlbnRTdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKVxyXG5cclxuXHRcdGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSlcclxuXHJcblx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAxXHJcblx0XHRcdHJldHVybiBhcHByb3Zlc1thcHByb3Zlcy5sZW5ndGggLSAyXT8uZGVzY3JpcHRpb25cclxuXHJcblx0XHRyZXR1cm4gXCJcIjtcclxuXHJcblx0c2hvd0FwcHJvdmU6IChhcHByb3ZlKS0+XHJcblx0XHRpZiAhYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxyXG5cdFx0XHRpZiBhcHByb3ZlPy5pc19yZWFkXHJcblx0XHRcdFx0aWYgYXBwcm92ZS5pc19maW5pc2hlZFxyXG5cdFx0XHRcdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSlcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0anVkZ2VfZGVzY3JpcHRpb246IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIHQoanVkZ2UgKyBcIl9kZXNjcmlwdGlvblwiKVxyXG5cclxuXHRpc19hcHByb3ZlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gXCJhcHByb3ZlZFwiID09IGp1ZGdlXHJcblxyXG5cdGlzX3JlamVjdGVkOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiBcInJlamVjdGVkXCIgPT0ganVkZ2VcclxuXHJcblx0aXNfcmVhZGVkOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGp1ZGdlKVxyXG5cclxuXHRhZGRDbGFzczogKCktPlxyXG5cdFx0bmFtZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcclxuXHRcdHNldFRpbWVvdXQgKCkgLT5cclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0ZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKVxyXG5cdFx0XHRcdGlmIGVsZW1lbnQubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0aWYgZWxlbWVudD8uaXMoXCJ0ZFwiKVxyXG5cdFx0XHRcdFx0XHRlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdCQoXCIuaW5zdGFuY2Utc2lnblwiLCBlbGVtZW50KS5hZGRDbGFzcygnZmllbGQtZWRpdGFibGUnKVxyXG5cdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0Y29uc29sZS5sb2cgZVxyXG5cdFx0LCAxXHJcblx0XHRyZXR1cm4gJydcclxuXHJcbmlmIE1ldGVvci5pc1NlcnZlclxyXG5cdEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSAtPlxyXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSkiLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPSB7XG4gIHNob3c6IGZ1bmN0aW9uKHN0ZXBOYW1lKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15VHJhY2UsIHJlZjtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoJ2luc3RhbmNlUHJpbnQnKSkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKSkge1xuICAgICAgICBteUFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICAgICAgbXlUcmFjZSA9IGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICByZXR1cm4gKG15VHJhY2UgIT0gbnVsbCA/IG15VHJhY2UubmFtZSA6IHZvaWQgMCkgPT09IHN0ZXBOYW1lO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZGVmYXVsdERlc2NyaXB0aW9uOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb247XG4gIH0sXG4gIHRyYWNlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gIH0sXG4gIHRyYWNlOiBmdW5jdGlvbihzdGVwTmFtZSwgb25seV9jY19vcGluaW9uLCBpbWFnZV9zaWduLCB0b3Bfa2V5d29yZHMpIHtcbiAgICB2YXIgYXBwcm92ZV9zb3J0LCBhcHByb3ZlcywgYXBwcm92ZXNHcm91cCwgYXBwcm92ZXNfc29ydGVkLCBjb21wbGV0ZWRfZGF0ZSwgaGFzTmV4dCwgaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSwgaW5zdGFuY2UsIGlzX2NvbXBsZXRlZCwgcmVmLCByZWYxLCByZWYyLCB0cmFjZXM7XG4gICAgaW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKCk7XG4gICAgaXNfY29tcGxldGVkID0gKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCI7XG4gICAgY29tcGxldGVkX2RhdGUgPSBpc19jb21wbGV0ZWQgPyAocmVmID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcykpICE9IG51bGwgPyAocmVmMSA9IHJlZi5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0VGltZSgpIDogdm9pZCAwIDogdm9pZCAwIDogMDtcbiAgICBpZiAoaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlKSB7XG4gICAgICBjb21wbGV0ZWRfZGF0ZSA9IChyZWYyID0gaW5zdGFuY2UuZmluaXNoX2RhdGUpICE9IG51bGwgPyByZWYyLmdldFRpbWUoKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSk7XG4gICAgYXBwcm92ZV9zb3J0ID0gZnVuY3Rpb24oYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcykge1xuICAgICAgdmFyIGFwcHJvdmVzX3NvcnRlZCwgdG9wX2FwcHJvdmVzO1xuICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy5zb3J0QnkoYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIC0oYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICB9KTtcbiAgICAgIGlmICh0b3Bfa2V5d29yZHMpIHtcbiAgICAgICAgdG9wX2FwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIHRvcF9rZXl3b3Jkcy5zcGxpdChcIixcIikuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgICByZXR1cm4gdG9wX2FwcHJvdmVzID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICAgICAgdmFyIHJlZjM7XG4gICAgICAgICAgICByZXR1cm4gKGFwcHJvdmUgIT0gbnVsbCA/IChyZWYzID0gYXBwcm92ZS5oYW5kbGVyX25hbWUpICE9IG51bGwgPyByZWYzLmluZGV4T2Yoa2V5KSA6IHZvaWQgMCA6IHZvaWQgMCkgPiAtMTtcbiAgICAgICAgICB9KSk7XG4gICAgICAgIH0pO1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSh0b3BfYXBwcm92ZXMsIGZ1bmN0aW9uKHRvcF9hcHByb3ZlKSB7XG4gICAgICAgICAgcmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpO1xuICAgICAgICB9KTtcbiAgICAgICAgYXBwcm92ZXNfc29ydGVkID0gXy51bmlvbih0b3BfYXBwcm92ZXMsIGFwcHJvdmVzX3NvcnRlZCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gYXBwcm92ZXNfc29ydGVkIHx8IFtdO1xuICAgIH07XG4gICAgYXBwcm92ZXMgPSBfLmZpbHRlcihhcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgcmV0dXJuIGEudHlwZSAhPT0gXCJmb3J3YXJkXCIgJiYgYS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIiAmJiBhLnR5cGUgIT09IFwidGVybWluYXRlZFwiO1xuICAgIH0pO1xuICAgIGlmIChvbmx5X2NjX29waW5pb24pIHtcbiAgICAgIGFwcHJvdmVzID0gYXBwcm92ZXMgIT0gbnVsbCA/IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpIDogdm9pZCAwO1xuICAgIH1cbiAgICBhcHByb3Zlc19zb3J0ZWQgPSBhcHByb3ZlX3NvcnQoYXBwcm92ZXMsIHRvcF9rZXl3b3Jkcyk7XG4gICAgYXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xuICAgIGhhc05leHQgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgcmV0dXJuIF8uaW5kZXhPZihoYW5kbGVyQXBwcm92ZXMsIGFwcHJvdmUpICsgMSA8IGhhbmRsZXJBcHByb3Zlcy5sZW5ndGg7XG4gICAgfTtcbiAgICBoYXZlRGVzY3JpcHRpb25BcHByb3ZlID0gZnVuY3Rpb24oYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkge1xuICAgICAgdmFyIGRlc2NyaXB0aW9uQXBwcm92ZXMsIGhhbmRsZXJBcHByb3ZlcztcbiAgICAgIGhhbmRsZXJBcHByb3ZlcyA9IGFwcHJvdmVzR3JvdXBbYXBwcm92ZS5oYW5kbGVyXTtcbiAgICAgIGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlcihoYW5kbGVyQXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgaWYgKGEuZGVzY3JpcHRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9KTtcbiAgICAgIGlmIChkZXNjcmlwdGlvbkFwcHJvdmVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9O1xuICAgIGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgIGlmIChhcHByb3ZlLnNpZ25fc2hvdyAhPT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKSkpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuanVkZ2UgIT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgICAgIHJldHVybiBhcHByb3ZlLl9kaXNwbGF5ID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIGFwcHJvdmVzX3NvcnRlZCA9IF8uZmlsdGVyKGFwcHJvdmVzX3NvcnRlZCwgZnVuY3Rpb24oYSkge1xuICAgICAgdmFyIHJlZjM7XG4gICAgICBpZiAoaXNfY29tcGxldGVkKSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgKChyZWYzID0gYS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjMuZ2V0VGltZSgpIDogdm9pZCAwKSA8PSBjb21wbGV0ZWRfZGF0ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBhLl9kaXNwbGF5ID09PSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQ7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlKGEsIGIpO1xuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy51bmVtcHR5KHZhbCk7XG4gIH0sXG4gIGZvcm1hdERhdGU6IGZ1bmN0aW9uKGRhdGUsIG9wdGlvbnMpIHtcbiAgICBpZiAoIW9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIFwiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwiXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5mb3JtYXREYXRlKGRhdGUsIG9wdGlvbnMpO1xuICB9LFxuICBpc015QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSwgb25seV9jY19vcGluaW9uKSB7XG4gICAgdmFyIGN1cnJlbnRBcHByb3ZlLCBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgaWYgKCEoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5faWQgOiB2b2lkIDApKSB7XG4gICAgICAgIGFwcHJvdmUgPSBjdXJyZW50QXBwcm92ZTtcbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5faWQgOiB2b2lkIDApICYmIChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpIHtcbiAgICAgICAgaWYgKF8uaW5kZXhPZihjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSA6IHZvaWQgMCwgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpID4gLTEpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghKChjdXJyZW50QXBwcm92ZSAhPSBudWxsID8gY3VycmVudEFwcHJvdmUudHlwZSA6IHZvaWQgMCkgPT09ICdjYycpICYmIG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudEFwcHJvdmUgJiYgYXBwcm92ZS5faWQgPT09IGN1cnJlbnRBcHByb3ZlLl9pZCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxLCByZWYyLCByZWYzO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIW15QXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PT0gKChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYzID0gcmVmMi5kYXRhKSAhPSBudWxsID8gcmVmMy5uYW1lIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgaWYgKCFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIikpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiBTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBub3c6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBuZXcgRGF0ZSgpO1xuICB9LFxuICBpc1JlYWRPbmx5OiBmdW5jdGlvbigpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGlzT3Bpbmlvbk9mRmllbGQ6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWUpIHtcbiAgICAgIGlmIChUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSA9PT0gYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gZmFsc2U7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgbWFya0Rvd25Ub0h0bWw6IGZ1bmN0aW9uKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgdmFyIHJlbmRlcmVyO1xuICAgIGlmIChtYXJrRG93blN0cmluZykge1xuICAgICAgcmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcbiAgICAgIHJlbmRlcmVyLmxpbmsgPSBmdW5jdGlvbihocmVmLCB0aXRsZSwgdGV4dCkge1xuICAgICAgICByZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIgKyBocmVmICsgXCInIHRpdGxlPSdcIiArIHRpdGxlICsgXCInPlwiICsgdGV4dCArIFwiPC9hPlwiO1xuICAgICAgfTtcbiAgICAgIHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge1xuICAgICAgICByZW5kZXJlcjogcmVuZGVyZXJcbiAgICAgIH0pKTtcbiAgICB9XG4gIH0sXG4gIHN0ZXBzOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhLCBzdGVwLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24pIHtcbiAgICB2YXIgcmVmLCByZWYxLCByZWYyLCBzdGVwcztcbiAgICBzdGVwcyA9IFtdO1xuICAgIGlmICghc3RlcCkge1xuICAgICAgaWYgKCFmaWVsZF9mb3JtdWxhKSB7XG4gICAgICAgIGZpZWxkX2Zvcm11bGEgPSAocmVmID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmZpZWxkcykgIT0gbnVsbCA/IHJlZjEuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgdGhpcy5uYW1lKS5mb3JtdWxhIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfVxuICAgICAgc3RlcHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldE9waW5pb25GaWVsZFN0ZXBzTmFtZShmaWVsZF9mb3JtdWxhLCAocmVmMiA9IFRlbXBsYXRlLmluc3RhbmNlKCkpICE9IG51bGwgPyByZWYyLmRhdGEudG9wX2tleXdvcmRzIDogdm9pZCAwKTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3RlcHMgPSBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdGVwTmFtZTogc3RlcCxcbiAgICAgICAgICBvbmx5X2NjX29waW5pb246IG9ubHlfY2Nfb3BpbmlvbixcbiAgICAgICAgICBpbWFnZV9zaWduOiBpbWFnZV9zaWduXG4gICAgICAgIH1cbiAgICAgIF07XG4gICAgfVxuICAgIHJldHVybiBzdGVwcztcbiAgfSxcbiAgaW1hZ2VTaWduRGF0YTogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgIHJldHVybiB7XG4gICAgICB1c2VyOiBoYW5kbGVyXG4gICAgfTtcbiAgfSxcbiAgc2hvd1NpZ25JbWFnZTogZnVuY3Rpb24oaGFuZGxlciwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmICgoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSAmJiBpbWFnZV9zaWduKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgZ2V0TGFzdFNpZ25BcHByb3ZlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyhpbnMsIE1ldGVvci51c2VySWQoKSkpO1xuICB9LFxuICBsYXN0TXlBcHByb3ZlRGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHZhciBhcHByb3ZlcywgY3VycmVudFN0ZXAsIHJlZiwgdHJhY2VzO1xuICAgIHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKCk7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW2N1cnJlbnRTdGVwLm5hbWVdKTtcbiAgICBhcHByb3ZlcyA9IGFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCBNZXRlb3IudXNlcklkKCkpO1xuICAgIGlmIChhcHByb3Zlcy5sZW5ndGggPiAxKSB7XG4gICAgICByZXR1cm4gKHJlZiA9IGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdKSAhPSBudWxsID8gcmVmLmRlc2NyaXB0aW9uIDogdm9pZCAwO1xuICAgIH1cbiAgICByZXR1cm4gXCJcIjtcbiAgfSxcbiAgc2hvd0FwcHJvdmU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIGlmICghYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgfHwgYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUgPT09ICgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBpZiAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS5pc19yZWFkIDogdm9pZCAwKSB7XG4gICAgICAgIGlmIChhcHByb3ZlLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgcmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoYXBwcm92ZS5qdWRnZSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBqdWRnZV9kZXNjcmlwdGlvbjogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpO1xuICB9LFxuICBpc19hcHByb3ZlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJhcHByb3ZlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVqZWN0ZWQ6IGZ1bmN0aW9uKGp1ZGdlKSB7XG4gICAgcmV0dXJuIFwicmVqZWN0ZWRcIiA9PT0ganVkZ2U7XG4gIH0sXG4gIGlzX3JlYWRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhqdWRnZSk7XG4gIH0sXG4gIGFkZENsYXNzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgbmFtZSwgcmVmLCByZWYxO1xuICAgIG5hbWUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmRhdGEpICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgc2V0VGltZW91dChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlLCBlbGVtZW50O1xuICAgICAgdHJ5IHtcbiAgICAgICAgZWxlbWVudCA9ICQoXCIuYXV0b21hdGljLm9waW5pb24tZmllbGQtXCIgKyBuYW1lKTtcbiAgICAgICAgaWYgKGVsZW1lbnQubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmIChlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LmlzKFwidGRcIikgOiB2b2lkIDApIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50LmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coZSk7XG4gICAgICB9XG4gICAgfSwgMSk7XG4gICAgcmV0dXJuICcnO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlU2lnblRleHQuaGVscGVycy5kZWZhdWx0RGVzY3JpcHRpb24gPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uIHx8IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9kZWZhdWx0X29waW5pb25cIiwge30sIGxvY2FsZSk7XG4gIH07XG59XG4iLCJUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzID1cclxuXHRlcXVhbHM6IChhLCBiKSAtPlxyXG5cdFx0YSA9PSBiXHJcblx0ZW1wdHk6IChhKSAtPlxyXG5cdFx0aWYgYVxyXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA8IDFcclxuXHRcdGVsc2VcclxuXHRcdFx0dHJ1ZVxyXG5cdHVuZW1wdHk6IChhKSAtPlxyXG5cdFx0aWYgYVxyXG5cdFx0XHRhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDBcclxuXHRcdGVsc2VcclxuXHRcdFx0ZmFsc2VcclxuXHJcblx0YXBwZW5kOiAoYSwgYikgLT5cclxuXHRcdGEgKyBiXHJcblxyXG5cdGRhdGVGb3JtYXQ6IChkYXRlKSAtPlxyXG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKCkgJiYgZGF0ZT8uZ2V0RnVsbFllYXIoKSA9PSAobmV3IERhdGUpLmdldEZ1bGxZZWFyKClcclxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gJC5mb3JtYXQuZGF0ZSBuZXcgRGF0ZShkYXRlKSwgXCJ5eXl5LU1NLWRkIEhIOm1tXCJcclxuXHJcblx0Z2V0U3RlcE5hbWU6IChzdGVwSWQpIC0+XHJcblx0XHRzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpXHJcblx0XHRpZiBzdGVwXHJcblx0XHRcdHJldHVybiBzdGVwLm5hbWVcclxuXHRcdG51bGxcclxuXHRzaG93RGVsZXRlQnV0dG9uOiAoYXBwcm92ZWQpIC0+XHJcblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlZC5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCBhcHByb3ZlZC5pc19maW5pc2hlZCAhPSB0cnVlIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdGlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbjogKGFwcHJvdmVkKSAtPlxyXG5cdFx0YXBwcm92ZV9hZG1pbnMgPSBNZXRlb3Iuc2V0dGluZ3M/LnB1YmxpYz8ud29ya2Zsb3c/LmFwcHJvdmVfYWRtaW5zXHJcblx0XHRpZiBhcHByb3ZlX2FkbWlucz8ubGVuZ3RoXHJcblx0XHRcdGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zPy5jb250YWlucyBNZXRlb3IudXNlcklkKClcclxuXHRcdHVubGVzcyBpc1Nob3dcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRyZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PSBNZXRlb3IudXNlcklkKClcclxuXHRpc0VkaXRpbmc6ICgpIC0+XHJcblx0XHQgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuaXNfZWRpdGluZz8uZ2V0KClcclxuXHRpc1Nob3dEZXNjcmlwdGlvbjogKGFwcHJvdmVkKS0+XHJcblx0XHQjIGRlYnVnZ2VyXHJcblx0XHRpZiBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiBhcHByb3ZlZFxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0cmV0dXJuIGFwcHJvdmVkLmRlc2NyaXB0aW9uPy50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPiAwXHJcblx0aXNDQzogKGFwcHJvdmVkKSAtPlxyXG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2NjJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRnZXRBcHByb3ZlU3RhdHVzSWNvbjogKGFwcHJvdmVKdWRnZSkgLT5cclxuXHRcdCPlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt++8jOW5tuaYvuekuuWkhOeQhueKtuaAgeWbvuagh1xyXG5cdFx0YXBwcm92ZVN0YXR1c0ljb24gPSB1bmRlZmluZWRcclxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2VcclxuXHRcdFx0d2hlbiAnYXBwcm92ZWQnXHJcblx0XHRcdFx0IyDlt7LmoLjlh4ZcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNoZWNrbWFyay1yb3VuZCdcclxuXHRcdFx0d2hlbiAncmVqZWN0ZWQnXHJcblx0XHRcdFx0IyDlt7LpqbPlm55cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNsb3NlLXJvdW5kJ1xyXG5cdFx0XHR3aGVuICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdCMg5bey5Y+W5raIXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtYmFuJ1xyXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xyXG5cdFx0XHRcdCMg6L2s562+5qC4XHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hbmRyb2lkLWNvbnRhY3QnXHJcblx0XHRcdHdoZW4gJ3JlbG9jYXRlZCdcclxuXHRcdFx0XHQjIOmHjeWumuS9jVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYXJyb3ctc2hyaW5rJ1xyXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXHJcblx0XHRcdFx0IyDlt7Llj5blm55cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS11bmRvJ1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnJ1xyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRhcHByb3ZlU3RhdHVzSWNvblxyXG5cdGdldEFwcHJvdmVTdGF0dXNUZXh0OiAoYXBwcm92ZUp1ZGdlKSAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXHJcblx0XHQj5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7fvvIzlubbmmL7npLrlpITnkIbnirbmgIHlm77moIdcclxuXHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gdW5kZWZpbmVkXHJcblx0XHRzd2l0Y2ggYXBwcm92ZUp1ZGdlXHJcblx0XHRcdHdoZW4gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRcdCMg5bey5qC45YeGXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JlamVjdGVkJ1xyXG5cdFx0XHRcdCMg5bey6amz5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0IyDlt7Llj5bmtohcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWFzc2lnbmVkJ1xyXG5cdFx0XHRcdCMg6L2s562+5qC4XHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xyXG5cdFx0XHRcdCMg6YeN5a6a5L2NXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZXRyaWV2ZWQnXHJcblx0XHRcdFx0IyDlt7Llj5blm55cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JldHVybmVkJ1xyXG5cdFx0XHRcdCMg5bey6YCA5ZueXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JlYWRlZCdcclxuXHRcdFx0XHQjIOW3sumYhVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gJydcclxuXHRcdFx0XHRicmVha1xyXG5cdFx0YXBwcm92ZVN0YXR1c1RleHRcclxuXHRfdDogKGtleSktPlxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5KVxyXG5cclxuXHRteUFwcHJvdmVEZXNjcmlwdGlvbjogKGFwcHJvdmVJZCktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRteUFwcHJvdmUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5teUFwcHJvdmU/LmdldCgpXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlICYmIG15QXBwcm92ZS5pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmICFTZXNzaW9uLmdldChcImluc3RhbmNlX215X2FwcHJvdmVfZGVzY3JpcHRpb25cIilcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG15QXBwcm92ZT8uZGVzY3JpcHRpb24gfHwgXCJcIlxyXG5cdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxyXG5cdGlzRm9yd2FyZDogKGFwcHJvdmVkKSAtPlxyXG5cdFx0aWYgYXBwcm92ZWQgYW5kIGFwcHJvdmVkLnR5cGUgPT0gJ2ZvcndhcmQnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiAoYXBwcm92ZSkgLT5cclxuXHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdmb3J3YXJkJyBhbmQgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdG1hcmtEb3duVG9IdG1sOiAobWFya0Rvd25TdHJpbmcpLT5cclxuXHRcdGlmIG1hcmtEb3duU3RyaW5nXHJcblx0XHRcdHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XHJcblx0XHRcdHJlbmRlcmVyLmxpbmsgPSAoIGhyZWYsIHRpdGxlLCB0ZXh0ICkgLT5cclxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXHJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOnJlbmRlcmVyfSkpXHJcblx0aXNEaXN0cmlidXRlOiAoYXBwcm92ZSkgLT5cclxuXHRcdGlmIGFwcHJvdmUgYW5kIGFwcHJvdmUudHlwZSA9PSAnZGlzdHJpYnV0ZSdcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0c2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IChhcHByb3ZlKSAtPlxyXG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJyBhbmQgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSBhbmQgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJyBhbmQgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJyxcIndvcmtmbG93LmVudGVycHJpc2VcIilcclxuXHRcdFx0IyDmtYHnqIvnrqHnkIblkZjlkozns7vnu5/nrqHnkIblkZjvvIzlj6/ku6XmiafooYzku7vkvZXmg4XlhrXkuIvnmoTmlofku7blj5bmtojliIblj5FcclxuXHRcdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogYXBwcm92ZS5pbnN0YW5jZX0sIHtmaWVsZHM6IHtmbG93OiAxLCBzcGFjZTogMX19KVxyXG5cdFx0XHRpZiBpbnMgYW5kIGlucy5mbG93IGFuZCBpbnMuc3BhY2VcclxuXHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRcdFx0aWYgYXBwcm92ZS5mcm9tX3VzZXIgPT0gTWV0ZW9yLnVzZXJJZCgpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHJcblx0XHRmYWxzZVxyXG5cclxuXHRmaW5pc2hEYXRlU2NoZW1hOiAoKSAtPlxyXG5cdFx0aWYgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcclxuXHRcdFx0XHRmaW5pc2hfZGF0ZToge1xyXG5cdFx0XHRcdFx0YXV0b2Zvcm06IHtcclxuXHRcdFx0XHRcdFx0dHlwZTogXCJkYXRldGltZS1sb2NhbFwiXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxyXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xyXG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XHJcblx0XHRcdFx0XHRhdXRvZm9ybToge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiXHJcblx0XHRcdFx0XHRcdHJlYWRvbmx5OiB0cnVlXHJcblx0XHRcdFx0XHRcdGRhdGVUaW1lUGlja2VyT3B0aW9uczp7XHJcblx0XHRcdFx0XHRcdFx0Zm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcclxuXHRcdFx0XHRcdFx0XHRpZ25vcmVSZWFkb25seTp0cnVlLFxyXG5cdFx0XHRcdFx0XHRcdGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcclxuXHRcdFx0XHRcdFx0XHR3aWRnZXRQb3NpdGlvbmluZzp7XHJcblx0XHRcdFx0XHRcdFx0XHRob3Jpem9udGFsOiAncmlnaHQnXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0b3B0aW9uYWw6IGZhbHNlLFxyXG5cdFx0XHRcdFx0dHlwZTogRGF0ZVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0ZmluaXNoRGF0ZVZhbHVlczogKCkgLT5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGZpbmlzaF9kYXRlOnRoaXMuZmluaXNoX2RhdGVcclxuXHRcdH07XHJcblxyXG5cdCMjI1xyXG4gICAgXHTmraTlh73mlbDnlKjkuo7mjqfliLbmmK/lkKbmmL7npLp0cmFjZXMgdmlld1xyXG4gICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xyXG4gICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcclxuXHQjIyNcclxuXHRzaG93VHJhY2VzVmlldzogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG4jXHRcdHJldHVybiAhKEluc3RhbmNlTWFuYWdlci5pc1RhYmxlU3R5bGUoZm9ybSkgJiYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlc09waW5pb25GaWVsZChmb3JtLCBmb3JtX3ZlcnNpb24pKVxyXG5cclxuXHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHtzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwifSk/LnZhbHVlcyB8fCBmYWxzZVxyXG5cclxuXHRcdHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdFxyXG5cclxuXHRnZXRJbnN0YW5jZVN0YXRlVGV4dDogKGluc3RhbmNlX2lkKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXHJcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxyXG5cdFx0aWYgbm90IGluc1xyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXygnaW5zdGFuY2VfZGVsZXRlZCcsIHt9LCBsb2NhbGUpXHJcblxyXG5cdFx0dGV4dCA9ICcnXHJcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCdcclxuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZydcclxuXHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKVxyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xyXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxyXG5cdFx0XHRcdHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfbm90X3lldF9oYW5kbGVkJywge30sIGxvY2FsZSlcclxuXHJcblx0XHRyZXR1cm4gdGV4dFxyXG5cclxuXHRnZXRJbnN0YW5jZVN0YXRlQ29sb3I6IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWR9LCB7ZmllbGRzOiB7c3RhdGU6IDEsIGlzX3JlYWQ6IDF9fSlcclxuXHRcdGlmIG5vdCBpbnNcclxuXHRcdFx0cmV0dXJuIFwiXCJcclxuXHJcblx0XHRjbGEgPSAnJ1xyXG5cdFx0aWYgaW5zLnN0YXRlIGlzICdkcmFmdCdcclxuXHRcdFx0aWYgaW5zLmlzX3JlYWRcclxuXHRcdFx0XHRjbGEgPSAnYmx1ZSdcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGNsYSA9ICdyZWQnXHJcblx0XHRyZXR1cm4gY2xhXHJcblxyXG5cdGZpcnN0VHJhY2U6IChpbmRleCktPlxyXG5cdFx0cmV0dXJuIGluZGV4IGlzIDBcclxuXHJcblx0bGFzdF9kaXN0cmlidXRlX2Zyb206IChpbnN0YW5jZV9pZCktPlxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VfaWQsIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZTogeyRleGlzdHM6IHRydWV9fSx7ZmllbGRzOntjcmVhdGVkOiAxLCBjcmVhdGVkX2J5OiAxfX0pXHJcblx0XHRpZiBpbnNcclxuXHRcdFx0ZGlzX2luZm8gPSB7fVxyXG5cdFx0XHR1c2VyID0ge31cclxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdFx0dXNlciA9IFVVZmxvd19hcGkuZ2V0TmFtZUZvclVzZXIoaW5zLmNyZWF0ZWRfYnkpXHJcblx0XHRcdGVsc2UgaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdFx0dXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe19pZDogaW5zLmNyZWF0ZWRfYnl9LCB7ZmllbGRzOiB7bmFtZTogMX19KVxyXG5cclxuXHRcdFx0aWYgdXNlci5uYW1lXHJcblx0XHRcdFx0ZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWVcclxuXHRcdFx0XHRkaXNfaW5mby5jcmVhdGVkID0gaW5zLmNyZWF0ZWRcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoZGlzX2luZm8pXHJcblx0XHRcdFx0cmV0dXJuIGRpc19pbmZvXHJcblx0XHRyZXR1cm5cclxuXHJcblx0aXNDQ09yRGlzdHJpYnV0ZU9yRm9yd2FyZFRlcm1pbmF0ZWQ6IChhcHByb3ZlKS0+XHJcblx0XHRpZiAoYXBwcm92ZS50eXBlIGlzICdjYycgb3IgYXBwcm92ZS50eXBlIGlzICdkaXN0cmlidXRlJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2ZvcndhcmQnKSBhbmQgYXBwcm92ZS5qdWRnZSBpcyAndGVybWluYXRlZCdcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRqdWRnZVRlcm1pbmF0ZWQ6IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIGp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xyXG5cclxuXHRpbnN0YW5jZUV4aXN0czogKGluc3RhbmNlX2lkKS0+XHJcblx0XHRyZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKVxyXG5cclxuXHRhZ2VudERlc2NyaXB0aW9uOiAodXNlck5hbWUpLT5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcclxuXHRcdGVsc2VcclxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxyXG5cclxuXHRcdHJldHVybiBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IHVzZXJOYW1lfSwgbG9jYWxlKVxyXG5cdHRyYWNlTmFtZTogKGluc3RhbmNlX2lkLCB0cmFjZUlkKS0+XHJcblx0XHRyZXR1cm4gXy5maW5kKGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkLCB7ZmllbGRzOiB7dHJhY2VzOiAxfX0pPy50cmFjZXMsICh0cmFjZSktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLl9pZCA9PSAgdHJhY2VJZFxyXG5cdFx0KT8ubmFtZVxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmRhdGVGb3JtYXQgPSAoZGF0ZSktPlxyXG5cdFx0aWYgZGF0ZVxyXG5cdFx0XHR1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XHJcblx0XHRcdHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZShkYXRlLCB1dGNPZmZzZXQpO1xyXG5cclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gKGtleSktPlxyXG5cdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cclxuXHRUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLnNob3dEZWxldGVCdXR0b24gPSAoYXBwcm92ZWQpIC0+XHJcblx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPVxyXG5cdCdjbGljayAuY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0ZXZlbnQuc3RvcFByb3BhZ2F0aW9uKClcclxuXHRcdGlmIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPSAxXHJcblx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMVxyXG5cdFx0XHQkKFwiaVwiLGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKVxyXG5cdFx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxyXG5cdFx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXHJcblx0XHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXHJcblx0XHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRNZXRlb3IuY2FsbCAnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XHJcblx0XHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0XHR0b2FzdHIuZXJyb3IgZXJyXHJcblx0XHRcdFx0XHRldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyA9IDBcclxuXHRcdFx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkucmVtb3ZlQ2xhc3MoXCJmYS1zcGluXCIpXHJcblx0XHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHRcdHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XHJcblx0XHRcdFx0XHRpZiAkKFwiLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbFwiKS5sZW5ndGhcclxuXHRcdFx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXHJcblx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxyXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRNZXRlb3IuY2FsbCAnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCAoZXJyLCByZXN1bHQpIC0+XHJcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRpZiBlcnJcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgZXJyXHJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXHJcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcclxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcclxuXHRcdFx0cmV0dXJuXHJcblx0XHRyZXR1cm5cclxuXHJcblx0J2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXHJcblxyXG5cdCd0YXBob2xkIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0TW9kYWwuc2hvdyBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzXHJcblxyXG5cdCd0YXBlbmQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHQjIOS4iui/sOmVv+aMieaJk+W8gGFwcHJvdmXor6bnu4bnqpflj6PnmoTkuovku7Z0YXBob2xk5Lya6Kem5Y+R5omT5byA56qX5Y+j5ZCO55qEdG91Y2hlbmTkuovku7bvvIzpgKDmiJDplb/mjInmiZPlvIDnqpflj6PlkI7kuIDmlL7miYvnqpflj6PlsLHlj4jlhbPmjonkuoZcclxuXHRcdCMg6L+Z6YeM5Y+q6IO96YCa6L+H6Zi75q2idGFwZW5k5LqL5Lu2KOS4jeWPr+S7peeUqHRvdWNoZW5k5LqL5Lu277yM5Zug5Li65Lya5b2x5ZONdGFwaG9sZOWKn+iDve+8jOmAoOaIkOayoeaciemVv+aMieaViOaenOaXtuS5n+S8muinpuWPkXRhcGhvbGTkuovku7Yp5YaS5rOh5p2l6YG/5YWN6Zeu6aKY44CCXHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdFx0ZXZlbnQucHJldmVudERlZmF1bHQoKVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxyXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxyXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXHJcblx0XHQjIENBTEwg5Yig6ZmkYXBwcm92ZeWHveaVsOOAglxyXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRNZXRlb3IuY2FsbCAnZm9yd2FyZF9yZW1vdmUnLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cclxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXHJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXHJcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcImluc3RhbmNlX2FwcHJvdmVfZm9yd2FyZF9yZW1vdmVfc3VjY2Vzc1wiKSk7XHJcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXHJcblx0XHRcdHJldHVyblxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1pbnN0YW5jZS1sb29rJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2VcclxuXHRcdGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2VcclxuXHRcdFN0ZWVkb3Mub3BlbldpbmRvdyhTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBmb3J3YXJkX3NwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGZvcndhcmRfaW5zdGFuY2UpKVxyXG5cclxuXHQnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nXHQ6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHR0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XHJcblx0XHR1bmxlc3MgU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpXHJcblx0XHRcdFRyYWNrZXIuYWZ0ZXJGbHVzaCAtPlxyXG5cdFx0XHRcdCMg5pi+56S65pel5b+X55qE5pe25YCZ5oqK5rua5Yqo5p2h5b6A5LiL56e754K577yM6K6p5pel5pyf5o6n5Lu25pi+56S65Ye65LiA6YOo5YiG77yM5Lul6YG/5YWN55So5oi355yL5LiN5Yiw5pel5pyf5o6n5Lu2XHJcblx0XHRcdFx0JChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbiBcImRwLnNob3dcIiwgKCkgLT5cclxuXHRcdFx0XHRcdCQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKVxyXG5cclxuXHQnY2xpY2sgLmJ0bi1jYW5jZWxCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHJcblx0XHR0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XHJcblxyXG5cdCdjbGljayAuYnRuLXNhdmVCdXQnIDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdCMgdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpXHJcblxyXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZVxyXG5cdFx0b3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKClcclxuXHRcdGZpbmlzaF9pbnB1dCA9IEF1dG9Gb3JtLmdldEZpZWxkVmFsdWUoXCJmaW5pc2hfZGF0ZVwiLCBcImZpbmlzaERhdGVBdXRvRm9ybVwiKVxyXG5cclxuXHRcdCQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0TWV0ZW9yLmNhbGwgJ2NoYW5nZV9hcHByb3ZlX2luZm8nLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIG9waW5pb25faW5wdXQsIGZpbmlzaF9pbnB1dCwgKGVyciwgcmVzdWx0KS0+XHJcblx0XHRcdCQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKVxyXG5cdFx0XHRpZiBlcnJcclxuXHRcdFx0XHR0b2FzdHIuZXJyb3IgVEFQaTE4bi5fXyhlcnIucmVhc29uKVxyXG5cdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpXHJcblx0XHRcdFx0TW9kYWwuaGlkZSBcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWRpc3RyaWJ1dGUtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0TW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWVcclxuXHRcdE1vZGFsLnNob3cgJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJ1xyXG4iLCJUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzID0ge1xuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgZW1wdHk6IGZ1bmN0aW9uKGEpIHtcbiAgICBpZiAoYSkge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDwgMTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1bmVtcHR5OiBmdW5jdGlvbihhKSB7XG4gICAgaWYgKGEpIHtcbiAgICAgIHJldHVybiBhLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDA7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGFwcGVuZDogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhICsgYjtcbiAgfSxcbiAgZGF0ZUZvcm1hdDogZnVuY3Rpb24oZGF0ZSkge1xuICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkgJiYgKGRhdGUgIT0gbnVsbCA/IGRhdGUuZ2V0RnVsbFllYXIoKSA6IHZvaWQgMCkgPT09IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKSkge1xuICAgICAgcmV0dXJuICQuZm9ybWF0LmRhdGUobmV3IERhdGUoZGF0ZSksIFwiTU0tZGQgSEg6bW1cIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAkLmZvcm1hdC5kYXRlKG5ldyBEYXRlKGRhdGUpLCBcInl5eXktTU0tZGQgSEg6bW1cIik7XG4gICAgfVxuICB9LFxuICBnZXRTdGVwTmFtZTogZnVuY3Rpb24oc3RlcElkKSB7XG4gICAgdmFyIHN0ZXA7XG4gICAgc3RlcCA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZVN0ZXAoc3RlcElkKTtcbiAgICBpZiAoc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAubmFtZTtcbiAgICB9XG4gICAgcmV0dXJuIG51bGw7XG4gIH0sXG4gIHNob3dEZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdjYycgJiYgYXBwcm92ZWQuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkgJiYgYXBwcm92ZWQuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHZhciBhcHByb3ZlX2FkbWlucywgaXNTaG93LCByZWYsIHJlZjEsIHJlZjI7XG4gICAgYXBwcm92ZV9hZG1pbnMgPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzKSAhPSBudWxsID8gKHJlZjEgPSByZWZbXCJwdWJsaWNcIl0pICE9IG51bGwgPyAocmVmMiA9IHJlZjEud29ya2Zsb3cpICE9IG51bGwgPyByZWYyLmFwcHJvdmVfYWRtaW5zIDogdm9pZCAwIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmIChhcHByb3ZlX2FkbWlucyAhPSBudWxsID8gYXBwcm92ZV9hZG1pbnMubGVuZ3RoIDogdm9pZCAwKSB7XG4gICAgICBpc1Nob3cgPSBhcHByb3ZlX2FkbWlucyAhPSBudWxsID8gYXBwcm92ZV9hZG1pbnMuY29udGFpbnMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMDtcbiAgICB9XG4gICAgaWYgKCFpc1Nob3cpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVkLmhhbmRsZXIgPT09IE1ldGVvci51c2VySWQoKTtcbiAgfSxcbiAgaXNFZGl0aW5nOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgcmVmO1xuICAgIHJldHVybiAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5pc19lZGl0aW5nKSAhPSBudWxsID8gcmVmLmdldCgpIDogdm9pZCAwO1xuICB9LFxuICBpc1Nob3dEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmIChUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLmlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbihhcHByb3ZlZCkpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gKChyZWYgPSBhcHByb3ZlZC5kZXNjcmlwdGlvbikgIT0gbnVsbCA/IHJlZi50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggOiB2b2lkIDApID4gMDtcbiAgfSxcbiAgaXNDQzogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2NjJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZ2V0QXBwcm92ZVN0YXR1c0ljb246IGZ1bmN0aW9uKGFwcHJvdmVKdWRnZSkge1xuICAgIHZhciBhcHByb3ZlU3RhdHVzSWNvbjtcbiAgICBhcHByb3ZlU3RhdHVzSWNvbiA9IHZvaWQgMDtcbiAgICBzd2l0Y2ggKGFwcHJvdmVKdWRnZSkge1xuICAgICAgY2FzZSAnYXBwcm92ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNoZWNrbWFyay1yb3VuZCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVqZWN0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWNsb3NlLXJvdW5kJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXJtaW5hdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnZmEgZmEtYmFuJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFzc2lnbmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hbmRyb2lkLWNvbnRhY3QnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlbG9jYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tYXJyb3ctc2hyaW5rJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXRyaWV2ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS11bmRvJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBkZWZhdWx0OlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICcnO1xuICAgICAgICBicmVhaztcbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVTdGF0dXNJY29uO1xuICB9LFxuICBnZXRBcHByb3ZlU3RhdHVzVGV4dDogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlKSB7XG4gICAgdmFyIGFwcHJvdmVTdGF0dXNUZXh0LCBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoYXBwcm92ZUp1ZGdlKSB7XG4gICAgICBjYXNlICdhcHByb3ZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgYXBwcm92ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVqZWN0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICd0ZXJtaW5hdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSB0ZXJtaW5hdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVhc3NpZ25lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhc3NpZ25lZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlbG9jYXRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVsb2NhdGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmV0cmlldmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXRyaWV2ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXR1cm5lZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0dXJuZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFkZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYWRlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZVN0YXR1c1RleHQ7XG4gIH0sXG4gIF90OiBmdW5jdGlvbihrZXkpIHtcbiAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICB9LFxuICBteUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oYXBwcm92ZUlkKSB7XG4gICAgdmFyIG15QXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBteUFwcHJvdmUgPSAocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLm15QXBwcm92ZSkgIT0gbnVsbCA/IHJlZjEuZ2V0KCkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgcmV0dXJuIChteUFwcHJvdmUgIT0gbnVsbCA/IG15QXBwcm92ZS5kZXNjcmlwdGlvbiA6IHZvaWQgMCkgfHwgXCJcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgfSxcbiAgaXNGb3J3YXJkOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnZm9yd2FyZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dGb3J3YXJkRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdmb3J3YXJkJyAmJiBhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgaXNEaXN0cmlidXRlOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIHNob3dEaXN0cmlidXRlRGVsZXRlQnV0dG9uOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnICYmICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgJiYgYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnICYmIFN0ZWVkb3MuaXNMZWdhbFZlcnNpb24oJycsIFwid29ya2Zsb3cuZW50ZXJwcmlzZVwiKSkge1xuICAgICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGFwcHJvdmUuaW5zdGFuY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZmxvdzogMSxcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChpbnMgJiYgaW5zLmZsb3cgJiYgaW5zLnNwYWNlKSB7XG4gICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCBNZXRlb3IudXNlcklkKCkpKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmIChhcHByb3ZlLmZyb21fdXNlciA9PT0gTWV0ZW9yLnVzZXJJZCgpKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGZpbmlzaERhdGVTY2hlbWE6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKHtcbiAgICAgICAgZmluaXNoX2RhdGU6IHtcbiAgICAgICAgICBhdXRvZm9ybToge1xuICAgICAgICAgICAgdHlwZTogXCJkYXRldGltZS1sb2NhbFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBvcHRpb25hbDogZmFsc2UsXG4gICAgICAgICAgdHlwZTogRGF0ZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImJvb3RzdHJhcC1kYXRldGltZXBpY2tlclwiLFxuICAgICAgICAgICAgcmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICBkYXRlVGltZVBpY2tlck9wdGlvbnM6IHtcbiAgICAgICAgICAgICAgZm9ybWF0OiBcIllZWVktTU0tREQgSEg6bW1cIixcbiAgICAgICAgICAgICAgaWdub3JlUmVhZG9ubHk6IHRydWUsXG4gICAgICAgICAgICAgIGxvY2FsZTogU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKSxcbiAgICAgICAgICAgICAgd2lkZ2V0UG9zaXRpb25pbmc6IHtcbiAgICAgICAgICAgICAgICBob3Jpem9udGFsOiAncmlnaHQnXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgZmluaXNoRGF0ZVZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIGZpbmlzaF9kYXRlOiB0aGlzLmZpbmlzaF9kYXRlXG4gICAgfTtcbiAgfSxcblxuICAvKlxuICAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XG4gICAgIFx0dHJ1ZTog5pi+56S6dHJhY2VzIHZpZXcs562+5qC45Y6G56iL5oyJ6ZKu54K55Ye75ZCO5piv55u05o6l5a6a5L2N5YiwdHJhY2VzIHZpZXdcbiAgICAgXHRmYWxzZTog5LiN5pi+56S6dHJhY2VzIHZpZXfvvIznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI4s5LulTW9kYWwg5pa55byP5pi+56S6dHJhY2VzIHZpZXdcbiAgICovXG4gIHNob3dUcmFjZXNWaWV3OiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgcmVmLCBzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IFNlc3Npb24uZ2V0KFwic3BhY2VJZFwiKSxcbiAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgIHJldHVybiAhc2hvd19tb2RhbF90cmFjZXNfbGlzdDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZVRleHQ6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGlucywgbG9jYWxlLCB0ZXh0O1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfVxuICAgIHRleHQgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ2NvbXBsZXRlZCcsIHt9LCBsb2NhbGUpO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycpIHtcbiAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdwZW5kaW5nJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcpIHtcbiAgICAgIGlmIChpbnMuaXNfcmVhZCkge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9yZWFkJywge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRleHQ7XG4gIH0sXG4gIGdldEluc3RhbmNlU3RhdGVDb2xvcjogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgY2xhLCBpbnM7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfcmVhZDogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gXCJcIjtcbiAgICB9XG4gICAgY2xhID0gJyc7XG4gICAgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIGNsYSA9ICdibHVlJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNsYSA9ICdyZWQnO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gY2xhO1xuICB9LFxuICBmaXJzdFRyYWNlOiBmdW5jdGlvbihpbmRleCkge1xuICAgIHJldHVybiBpbmRleCA9PT0gMDtcbiAgfSxcbiAgbGFzdF9kaXN0cmlidXRlX2Zyb206IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgdmFyIGRpc19pbmZvLCBpbnMsIHVzZXI7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgIGRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZToge1xuICAgICAgICAkZXhpc3RzOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBkaXNfaW5mbyA9IHt9O1xuICAgICAgdXNlciA9IHt9O1xuICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgICB1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSk7XG4gICAgICB9IGVsc2UgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgX2lkOiBpbnMuY3JlYXRlZF9ieVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmICh1c2VyLm5hbWUpIHtcbiAgICAgICAgZGlzX2luZm8uZnJvbV91c2VyX25hbWUgPSB1c2VyLm5hbWU7XG4gICAgICAgIGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZDtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KGRpc19pbmZvKSkge1xuICAgICAgICByZXR1cm4gZGlzX2luZm87XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmICgoYXBwcm92ZS50eXBlID09PSAnY2MnIHx8IGFwcHJvdmUudHlwZSA9PT0gJ2Rpc3RyaWJ1dGUnIHx8IGFwcHJvdmUudHlwZSA9PT0gJ2ZvcndhcmQnKSAmJiBhcHByb3ZlLmp1ZGdlID09PSAndGVybWluYXRlZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGp1ZGdlVGVybWluYXRlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4ganVkZ2UgPT09ICd0ZXJtaW5hdGVkJztcbiAgfSxcbiAgaW5zdGFuY2VFeGlzdHM6IGZ1bmN0aW9uKGluc3RhbmNlX2lkKSB7XG4gICAgcmV0dXJuICEhZGIuaW5zdGFuY2VzLmZpbmQoaW5zdGFuY2VfaWQpLmNvdW50KCk7XG4gIH0sXG4gIGFnZW50RGVzY3JpcHRpb246IGZ1bmN0aW9uKHVzZXJOYW1lKSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgIHVzZXJOYW1lOiB1c2VyTmFtZVxuICAgIH0sIGxvY2FsZSk7XG4gIH0sXG4gIHRyYWNlTmFtZTogZnVuY3Rpb24oaW5zdGFuY2VfaWQsIHRyYWNlSWQpIHtcbiAgICB2YXIgcmVmLCByZWYxO1xuICAgIHJldHVybiAocmVmID0gXy5maW5kKChyZWYxID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZjEudHJhY2VzIDogdm9pZCAwLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgcmV0dXJuIHRyYWNlLl9pZCA9PT0gdHJhY2VJZDtcbiAgICB9KSkgIT0gbnVsbCA/IHJlZi5uYW1lIDogdm9pZCAwO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuZGF0ZUZvcm1hdCA9IGZ1bmN0aW9uKGRhdGUpIHtcbiAgICB2YXIgdXRjT2Zmc2V0O1xuICAgIGlmIChkYXRlKSB7XG4gICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0O1xuICAgICAgcmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKGRhdGUsIHV0Y09mZnNldCk7XG4gICAgfVxuICB9O1xuICBUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzLl90ID0gZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuc2hvd0RlbGV0ZUJ1dHRvbiA9IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9O1xufVxuXG5UcmFjZXNUZW1wbGF0ZS5ldmVudHMgPSB7XG4gICdjbGljayAuY2MtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBpbnN0YW5jZUlkO1xuICAgIGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpO1xuICAgIGlmIChldmVudC5jdXJyZW50VGFyZ2V0LmRhdGFzZXQuY2FsbGluZyAqIDEgIT09IDEpIHtcbiAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMTtcbiAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLmFkZENsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgIGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpO1xuICAgICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIE1ldGVvci5jYWxsKCdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIGZ1bmN0aW9uKGVyciwgcmVzdWx0KSB7XG4gICAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnIpO1xuICAgICAgICAgIGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMDtcbiAgICAgICAgICAkKFwiaVwiLCBldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcImZhLXNwaW5cIik7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG4gICAgICAgICAgaWYgKCQoXCIuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsXCIpLmxlbmd0aCkge1xuICAgICAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJyZW1vdmVfY2NfYXBwcm92ZVwiKSk7XG4gICAgICAgIE1vZGFsLmhpZGUoXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIik7XG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gICdjbGljayAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIiwgdGhpcyk7XG4gIH0sXG4gICd0YXBob2xkIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgfSxcbiAgJ3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgZXZlbnQucHJldmVudERlZmF1bHQoKTtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gICdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZm9yd2FyZC1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQsIHRyYWNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICB0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2U7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIE1ldGVvci5jYWxsKCdmb3J3YXJkX3JlbW92ZScsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKFRBUGkxOG4uX18oZXJyLnJlYXNvbikpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgZm9yd2FyZF9pbnN0YW5jZSwgZm9yd2FyZF9zcGFjZTtcbiAgICBmb3J3YXJkX3NwYWNlID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuZm9yd2FyZHNwYWNlO1xuICAgIGZvcndhcmRfaW5zdGFuY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkaW5zdGFuY2U7XG4gICAgcmV0dXJuIFN0ZWVkb3Mub3BlbldpbmRvdyhTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBmb3J3YXJkX3NwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGZvcndhcmRfaW5zdGFuY2UpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tbW9kaWZpY2F0aW9uJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdGVtcGxhdGUuaXNfZWRpdGluZy5zZXQoIXRlbXBsYXRlLmlzX2VkaXRpbmcuZ2V0KCkpO1xuICAgIGlmICghU3RlZWRvcy5pc0FuZHJvaWRPcklPUygpKSB7XG4gICAgICByZXR1cm4gVHJhY2tlci5hZnRlckZsdXNoKGZ1bmN0aW9uKCkge1xuICAgICAgICByZXR1cm4gJChcIiNpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWwgI2ZpbmlzaF9pbnB1dFwiKS5vbihcImRwLnNob3dcIiwgZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCIubW9kYWwtYm9keVwiKS5zY3JvbGxUb3AoMTAwKTtcbiAgICAgICAgfSk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gICdjbGljayAuYnRuLWNhbmNlbEJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gIH0sXG4gICdjbGljayAuYnRuLXNhdmVCdXQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB2YXIgYXBwcm92ZUlkLCBmaW5pc2hfaW5wdXQsIGluc3RhbmNlSWQsIG9waW5pb25faW5wdXQsIHRyYWNlSWQ7XG4gICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgYXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZTtcbiAgICB0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2U7XG4gICAgb3Bpbmlvbl9pbnB1dCA9ICQoJyNvcGluaW9uX2lucHV0JykudmFsKCk7XG4gICAgZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICByZXR1cm4gTWV0ZW9yLmNhbGwoJ2NoYW5nZV9hcHByb3ZlX2luZm8nLCBpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIG9waW5pb25faW5wdXQsIGZpbmlzaF9pbnB1dCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICQoXCJib2R5XCIpLnJlbW92ZUNsYXNzKFwibG9hZGluZ1wiKTtcbiAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgdG9hc3RyLmVycm9yKFRBUGkxOG4uX18oZXJyLnJlYXNvbikpO1xuICAgICAgfVxuICAgICAgaWYgKHJlc3VsdCA9PT0gdHJ1ZSkge1xuICAgICAgICB0b2FzdHIuc3VjY2Vzcyh0KFwiaW5zdGFuY2VfYXBwcm92ZV9tb2RhbF9tb2RpZmljYXRpb25zYXZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1kaXN0cmlidXRlLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgTW9kYWwuYWxsb3dNdWx0aXBsZSA9IHRydWU7XG4gICAgcmV0dXJuIE1vZGFsLnNob3coJ2NhbmNlbF9kaXN0cmlidXRlX21vZGFsJyk7XG4gIH1cbn07XG4iLCJSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMgPVxyXG5cdHNob3dSZWxhdGVkSW5zdGFjZXM6IC0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2VcclxuXHRcdGlmIGlucz8ucmVsYXRlZF9pbnN0YW5jZXMgJiYgXy5pc0FycmF5KGlucz8ucmVsYXRlZF9pbnN0YW5jZXMpXHJcblx0XHRcdGlmIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuY291bnQoKSA+IDBcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdHJlbGF0ZWRfaW5zdGFjZXM6IC0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2VcclxuXHRcdGlmIGlucz8ucmVsYXRlZF9pbnN0YW5jZXMgJiYgXy5pc0FycmF5KGlucz8ucmVsYXRlZF9pbnN0YW5jZXMpXHJcblx0XHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge3NwYWNlOiAxLCBuYW1lOiAxfX0pLmZldGNoKClcclxuXHJcblx0cmVsYXRlZF9pbnN0YWNlX3VybDogKGlucykgLT5cclxuXHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKVxyXG5cdFx0XHRyZXR1cm4gJydcclxuXHJcblx0XHRhYnNvbHV0ZSA9IGZhbHNlXHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZVxyXG5cdFx0aWYgYWJzb2x1dGVcclxuXHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2lucy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcclxuXHJcblx0X3Q6IChrZXkpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblx0XHRlbHNlXHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cclxuXHRzaG93X2RlbGV0ZTogKCktPlxyXG5cdFx0aWYgIU1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKVxyXG5cdFx0XHRcdGlmIGN1cnJlbnRfc3RlcFxyXG5cdFx0XHRcdFx0aWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB0cnVlIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZClcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHRydWUiLCJSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkSW5zdGFjZXM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICgoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApICYmIF8uaXNBcnJheShpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkpIHtcbiAgICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgcmVsYXRlZF9pbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VfdXJsOiBmdW5jdGlvbihpbnMpIHtcbiAgICB2YXIgYWJzb2x1dGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICByZXR1cm4gJyc7XG4gICAgfVxuICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBpbnMuc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgaW5zLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgIH1cbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSk7XG4gICAgfVxuICB9LFxuICBzaG93X2RlbGV0ZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGN1cnJlbnRfc3RlcDtcbiAgICBpZiAoIU1ldGVvci5pc0NsaWVudCkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09IFwiZHJhZnRcIiB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcCkge1xuICAgICAgICAgIGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT09IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9XG59O1xuIiwiUmVsYXRlZFJlY29yZHMuaGVscGVycyA9XHJcblx0c2hvd1JlbGF0ZWRSZWNvcmRzOiAoKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGlucyA9IHRoaXMuaW5zdGFuY2VcclxuXHRcdGlmICFpbnNcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRyZXR1cm4gIV8uaXNFbXB0eShpbnMucmVjb3JkX2lkcykiLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID0ge1xuICBzaG93UmVsYXRlZFJlY29yZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlucyA9IHRoaXMuaW5zdGFuY2U7XG4gICAgfVxuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKTtcbiAgfVxufTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0c2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZTogKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMX19KVxyXG5cclxuXHRcdGlmIGlucy5zdGF0ZSAhPSAnZHJhZnQnXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0X2tleXMxID0gXy5rZXlzKHN0ZXBfYXBwcm92ZSk7XHJcblx0XHRfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xyXG5cclxuXHRcdGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xyXG5cclxuXHRcdHN0ZXBzQXBwcm92ZXMgPSB7fTtcclxuXHJcblx0XHRfLmVhY2gga2V5cywgKHN0ZXBJZCktPlxyXG5cdFx0XHRzdGVwQXBwcm92ZXMgPSBzdGVwX2FwcHJvdmVbc3RlcElkXVxyXG5cdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXVxyXG5cdFx0XHRpZiBzdGVwQXBwcm92ZXNcclxuXHRcdFx0XHRzdGVwc0FwcHJvdmVzW3N0ZXBJZF0gPSBzdGVwQXBwcm92ZXNcclxuXHRcdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXHJcblx0XHRcdFx0XHRpZiBfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKVxyXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcEFwcHJvdmVzLmNvbmNhdChzdGVwc0FwcHJvdmVPcHRpb25zKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRzdGVwc0FwcHJvdmVPcHRpb25zLnB1c2goc3RlcEFwcHJvdmVzKVxyXG5cdFx0XHRpZiBzdGVwc0FwcHJvdmVPcHRpb25zXHJcblx0XHRcdFx0c3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKVxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHNldDoge3N0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc319XHJcblx0c2V0X2luc3RhbmNlX3NraXBfc3RlcHM6IChpbnNfaWQsIHN0ZXBJZCwgYWN0aW9uKS0+XHJcblx0XHRpZiBhY3Rpb24gPT0gJ3B1bGwnXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRwdWxsOiB7c2tpcF9zdGVwczogc3RlcElkfX1cclxuXHRcdGVsc2UgaWYgYWN0aW9uID09ICdwdXNoJ1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskcHVzaDoge3NraXBfc3RlcHM6IHN0ZXBJZH19IiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBfYXBwcm92ZSwgc3RlcHNBcHByb3Zlc09wdGlvbnMpIHtcbiAgICB2YXIgX2tleXMxLCBfa2V5czIsIGlucywga2V5cywgc3RlcHNBcHByb3ZlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcbiAgICBfa2V5czIgPSBfLmtleXMoc3RlcHNBcHByb3Zlc09wdGlvbnMpO1xuICAgIGtleXMgPSBfLmNvbXBhY3QoXy51bmlvbihfa2V5czEsIF9rZXlzMikpO1xuICAgIHN0ZXBzQXBwcm92ZXMgPSB7fTtcbiAgICBfLmVhY2goa2V5cywgZnVuY3Rpb24oc3RlcElkKSB7XG4gICAgICB2YXIgc3RlcEFwcHJvdmVzLCBzdGVwc0FwcHJvdmVPcHRpb25zO1xuICAgICAgc3RlcEFwcHJvdmVzID0gc3RlcF9hcHByb3ZlW3N0ZXBJZF07XG4gICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcHNBcHByb3Zlc09wdGlvbnNbc3RlcElkXTtcbiAgICAgIGlmIChzdGVwQXBwcm92ZXMpIHtcbiAgICAgICAgc3RlcHNBcHByb3Zlc1tzdGVwSWRdID0gc3RlcEFwcHJvdmVzO1xuICAgICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICAgIGlmIChfLmlzQXJyYXkoc3RlcEFwcHJvdmVzKSkge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucyA9IHN0ZXBBcHByb3Zlcy5jb25jYXQoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKHN0ZXBzQXBwcm92ZU9wdGlvbnMpIHtcbiAgICAgICAgcmV0dXJuIHN0ZXBzQXBwcm92ZXNbc3RlcElkICsgJ19vcHRpb25zJ10gPSBfLnVuaXEoc3RlcHNBcHByb3ZlT3B0aW9ucyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIHN0ZXBfYXBwcm92ZTogc3RlcHNBcHByb3Zlc1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICBzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogZnVuY3Rpb24oaW5zX2lkLCBzdGVwSWQsIGFjdGlvbikge1xuICAgIGlmIChhY3Rpb24gPT09ICdwdWxsJykge1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkcHVsbDoge1xuICAgICAgICAgIHNraXBfc3RlcHM6IHN0ZXBJZFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gJ3B1c2gnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdXNoOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kcyh7XHJcblxyXG5cdGdldF9pbnN0YW5jZV9kYXRhOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGZvcm1DYWNoZWQsIGZsb3dDYWNoZWQpIHtcclxuXHJcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGZvcm1DYWNoZWQsIEJvb2xlYW4pO1xyXG5cdFx0Y2hlY2soZmxvd0NhY2hlZCwgQm9vbGVhbik7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xyXG5cclxuXHRcdGlmICghaW5zdGFuY2UpXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0aW5zdGFuY2U6IG51bGxcclxuXHRcdFx0fTtcclxuXHJcblx0XHRpZiAoZm9ybUNhY2hlZCAmJiBmbG93Q2FjaGVkKVxyXG5cdFx0XHRyZXR1cm4ge1xyXG5cdFx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmICghZm9ybUNhY2hlZCkge1xyXG5cdFx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XHJcblx0XHRcdHZhciBmb3JtX3ZlcnNpb24gPSB7fTtcclxuXHRcdFx0aWYgKGZvcm0uY3VycmVudC5faWQgPT0gaW5zdGFuY2UuZm9ybV92ZXJzaW9uKSB7XHJcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdGVsc2Uge1xyXG5cdFx0XHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF07XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblxyXG5cdFx0aWYgKCFmbG93Q2FjaGVkKSB7XHJcblx0XHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcclxuXHRcdFx0dmFyIGZsb3dfdmVyc2lvbiA9IHt9O1xyXG5cdFx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mbG93X3ZlcnNpb259KVswXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB7XHJcblx0XHRcdGluc3RhbmNlOiBpbnN0YW5jZSxcclxuXHRcdFx0Zm9ybV92ZXJzaW9uOiBmb3JtX3ZlcnNpb24sXHJcblx0XHRcdGZsb3dfdmVyc2lvbjogZmxvd192ZXJzaW9uXHJcblx0XHR9XHJcblxyXG5cdH1cclxuXHJcbn0pO1xyXG4iLCJNZXRlb3IubWV0aG9kcyh7XHJcblxyXG5cdGRyYWZ0X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChpbnMpIHtcclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHZhciByZXN1bHQgPSB0cnVlO1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHRcdHZhciBpbnNfaWQgPSBpbnMuX2lkO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gaW5zLnRyYWNlc1swXS5faWQ7XHJcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uX2lkO1xyXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5kZXNjcmlwdGlvbjtcclxuXHRcdHZhciBuZXh0X3N0ZXBzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5uZXh0X3N0ZXBzO1xyXG5cdFx0dmFyIHZhbHVlcyA9IGlucy50cmFjZXNbMF0uYXBwcm92ZXNbMF0udmFsdWVzIHx8IHt9O1xyXG5cdFx0dmFyIGFwcGxpY2FudF9pZCA9IGlucy5hcHBsaWNhbnQ7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGFwcGxpY2FudDogMSxcclxuXHRcdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0XHRzdWJtaXR0ZXI6IDEsXHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGZvcm06IDEsXHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uOiAxLFxyXG5cdFx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRcdGZsb3c6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0dmFyIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XHJcblx0XHR2YXIgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHR2YXIgZm9ybV9pZCA9IGluc3RhbmNlLmZvcm07XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KTtcclxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHR2YXIga2V5X3N0ciA9ICd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLic7XHJcblxyXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrmi5/nqL/nirbmgIFcclxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcclxuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRsb2NhbGU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xyXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UsIGxhbmcpO1xyXG5cdFx0Ly8g5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIVcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlcihpbnN0YW5jZSwgdGhpcy51c2VySWQpO1xyXG5cclxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFwiY3VycmVudC5faWRcIjogMSxcclxuXHRcdFx0XHRcImN1cnJlbnQuZm9ybV92ZXJzaW9uXCI6IDEsXHJcblx0XHRcdFx0XCJuYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJjdXJyZW50LnN0ZXBzXCI6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkICE9IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xyXG5cdFx0XHRyZXN1bHQgPSBcInVwZ3JhZGVkXCI7XHJcblx0XHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHMpIHtcclxuXHRcdFx0XHRyZXR1cm4gcy5zdGVwX3R5cGUgPT0gXCJzdGFydFwiO1xyXG5cdFx0XHR9KTtcclxuXHRcdFx0Ly8g5rWB56iL5bey5Y2H57qnXHJcblx0XHRcdHNldE9iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xyXG5cdFx0XHRzZXRPYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcclxuXHRcdFx0Ly8g5a2Y5YWl5b2T5YmN5pyA5paw54mIZmxvd+S4reW8gOWni+iKgueCueeahHN0ZXBfaWRcclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuc3RlcFwiXSA9IHN0YXJ0X3N0ZXAuX2lkO1xyXG5cdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5uYW1lXCJdID0gc3RhcnRfc3RlcC5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChpbnN0YW5jZS5hcHBsaWNhbnQgIT0gYXBwbGljYW50X2lkKSB7XHJcblx0XHRcdC8vIOeUs+ivt+S6uuW3suWPmOaNolxyXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoYXBwbGljYW50X2lkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIGFwcGxpY2FudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHR1c2VyOiBhcHBsaWNhbnRfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIG9yZ19pZCA9IGFwcGxpY2FudC5mZXRjaCgpWzBdLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50ID0gYXBwbGljYW50X2lkO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X25hbWUgPSB1c2VyLm5hbWU7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uID0gb3JnX2lkO1xyXG5cdFx0XHRzZXRPYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lID0gb3JnYW5pemF0aW9uLm5hbWU7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xyXG5cclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAndXNlciddID0gYXBwbGljYW50X2lkO1xyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd1c2VyX25hbWUnXSA9IHVzZXIubmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHZhbHVlcztcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2Rlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSAnc3VibWl0dGVkJztcclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3JlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdGlmIChyZXN1bHQgIT0gXCJ1cGdyYWRlZFwiICYmIG5leHRfc3RlcHMpIHtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcclxuXHRcdH1cclxuXHJcblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcclxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XHJcblx0XHRcdF9pZDogZm9ybV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcImN1cnJlbnQubmFtZV9mb3J1bWxhXCI6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0Ly8gdmFyIGlzY3JpcHQgPSBuYW1lX2ZvcnVtbGEucmVwbGFjZSgvXFx7L2csIFwiKHZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcclxuXHRcdFx0Ly8gdmFyIHJldiA9IGV2YWwoaXNjcmlwdCk7XHJcblx0XHRcdHNldE9iai5uYW1lID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZU5hbWUoaW5zLCB2YWx1ZXMpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gcmVzdWx0O1xyXG5cdH0sXHJcblxyXG5cdGluYm94X3NhdmVfaW5zdGFuY2U6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluZGV4ID0gMDtcclxuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcclxuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5pZDtcclxuXHRcdHZhciB2YWx1ZXMgPSBhcHByb3ZlLnZhbHVlcztcclxuXHRcdHZhciBuZXh0X3N0ZXBzID0gYXBwcm92ZS5uZXh0X3N0ZXBzO1xyXG5cdFx0dmFyIGRlc2NyaXB0aW9uID0gYXBwcm92ZS5kZXNjcmlwdGlvbjtcclxuXHRcdHZhciBqdWRnZSA9IGFwcHJvdmUuanVkZ2U7XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXHJcblx0XHRcdFx0ZmxvdzogMSxcclxuXHRcdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0XHRmb3JtOiAxLFxyXG5cdFx0XHRcdGZvcm1fdmVyc2lvbjogMSxcclxuXHRcdFx0XHR2YWx1ZXM6IDEsXHJcblx0XHRcdFx0Y29kZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSk7XHJcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlID0gXy5maW5kKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdHJldHVybiBhLl9pZCA9PSBhcHByb3ZlX2lkO1xyXG5cdFx0fSk7XHJcblxyXG5cdFx0Ly8g5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdHZhciBjdXJyZW50X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcclxuXHRcdFx0X2lkOiB0aGlzLnVzZXJJZFxyXG5cdFx0fSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRsb2NhbGU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgbGFuZyA9IGN1cnJlbnRfdXNlci5sb2NhbGUgPT0gJ3poLWNuJyA/ICd6aC1DTicgOiAnZW4nO1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSwgbGFuZyk7XHJcblx0XHRcdC8vIOWIpOaWreS4gOS4qnRyYWNl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNUcmFjZU5vdEZpbmlzaGVkKGN1cnJlbnRfdHJhY2UpO1xyXG5cdFx0XHQvLyDliKTmlq3kuIDkuKphcHByb3Zl5piv5ZCm5Li65pyq5a6M5oiQ54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNBcHByb3ZlTm90RmluaXNoZWQoY3VycmVudF9hcHByb3ZlKTtcclxuXHRcdFx0Ly8g5Yik5pat5b2T5YmN55So5oi35piv5ZCmYXBwcm92ZSDlr7nlupTnmoTlpITnkIbkurrmiJbku6PnkIbkurpcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0hhbmRsZXJPckFnZW50KGN1cnJlbnRfYXBwcm92ZSwgdGhpcy51c2VySWQpO1xyXG5cdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRjb25zb2xlLmxvZyhlLnN0YWNrKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHR2YXIgZmxvd192ZXJzaW9uID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xyXG5cdFx0dmFyIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xyXG5cdFx0dmFyIHN0ZXBfaWQgPSBcIlwiO1xyXG5cdFx0c3RlcF9pZCA9IGN1cnJlbnRfdHJhY2Uuc3RlcDtcclxuXHRcdHZhciBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGN1cnJlbnQ6IDEsXHJcblx0XHRcdFx0aGlzdG9yeXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgc3RlcCA9IG51bGw7XHJcblx0XHRpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PSBmbG93X3ZlcnNpb24pIHtcclxuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuXHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcclxuXHRcdFx0XHRcdHN0ZXAgPSBzO1xyXG5cdFx0XHR9KVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zmxvdy5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XHJcblx0XHRcdFx0aC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uIChzKSB7XHJcblx0XHRcdFx0XHRpZiAocy5faWQgPT0gc3RlcF9pZClcclxuXHRcdFx0XHRcdFx0c3RlcCA9IHM7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fSlcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXN0ZXApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdHZhciBzdGVwX3R5cGUgPSBzdGVwLnN0ZXBfdHlwZTtcclxuXHJcblx0XHRjdXJyZW50X3RyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZV9pZCkge1xyXG5cdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuJztcclxuXHJcblx0XHR2YXIgcGVybWlzc2lvbnNfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzLCBzdGVwLnBlcm1pc3Npb25zLCBpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xyXG5cclxuXHRcdHZhciBjaGFuZ2VfdmFsdWVzID0gYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzKGluc3RhbmNlLnZhbHVlcywgcGVybWlzc2lvbnNfdmFsdWVzKTtcclxuXHJcblx0XHRzZXRPYmoudmFsdWVzID0gXy5leHRlbmQoKGluc3RhbmNlLnZhbHVlcyB8fCB7fSksIHBlcm1pc3Npb25zX3ZhbHVlcyk7XHJcblxyXG5cdFx0aWYgKCFfLmlzRW1wdHkoY2hhbmdlX3ZhbHVlcykpIHtcclxuXHJcblx0XHRcdHZhbHVlc19oaXN0b3J5ID0gY3VycmVudF9hcHByb3ZlLnZhbHVlc19oaXN0b3J5IHx8IFtdXHJcblxyXG5cdFx0XHR2YWx1ZXNfaGlzdG9yeS5wdXNoKHtcclxuXHRcdFx0XHR2YWx1ZXM6IGNoYW5nZV92YWx1ZXMsXHJcblx0XHRcdFx0Y3JlYXRlOiBuZXcgRGF0ZSgpXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXNfaGlzdG9yeSddID0gdmFsdWVzX2hpc3RvcnlcclxuXHRcdH1cclxuXHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdpc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAncmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAndmFsdWVzJ10gPSBzZXRPYmoudmFsdWVzO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnbmV4dF9zdGVwcyddID0gbmV4dF9zdGVwcztcclxuXHRcdGlmIChzdGVwX3R5cGUgPT0gXCJzdWJtaXRcIiB8fCBzdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ2p1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IGp1ZGdlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcclxuXHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRcdHZhciBmb3JtX3YgPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybV92Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnN0YW5jZSwgc2V0T2JqLnZhbHVlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxuXHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHMoe1xyXG5cdC8vID8/PyDog73lkKbkvKDpmIXnu5nlvZPliY3mraXpqqTlpITnkIbkurog5aaC5p6c5b2T5YmN5q2l6aqk5piv5Lya562+44CCXHJcblx0Y2NfZG86IGZ1bmN0aW9uIChhcHByb3ZlLCBjY191c2VyX2lkcywgZGVzY3JpcHRpb24pIHtcclxuXHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcclxuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XHJcblx0XHR2YXIgYXBwcm92ZV9pZCA9IGFwcHJvdmUuX2lkO1xyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMSxcclxuXHRcdFx0XHR2YWx1ZXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XHJcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcclxuXHRcdHZhciBuZXdfYXBwcm92ZXMgPSBbXTtcclxuXHJcblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pLm5hbWVcclxuXHJcblx0XHRjY191c2VyX2lkcy5mb3JFYWNoKGZ1bmN0aW9uICh1c2VySWQsIGlkeCkge1xyXG5cdFx0XHR2YXIgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcklkLCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0dXNlcjogdXNlcklkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBvcmdfaWQgPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0dmFyIG9yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShvcmdfaWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJJZCk7XHJcblx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcklkO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pbmZvID0gdXNlcjtcclxuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XHJcblx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gb3JnYW5pemF0aW9uO1xyXG5cdFx0XHRpZiAoYWdlbnQpIHtcclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnQ7XHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShhZ2VudCwge1xyXG5cdFx0XHRcdFx0ZmlsZWRzOiB7XHJcblx0XHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xyXG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcclxuXHRcdFx0XHRjY191c2VyX2lkc1tpZHhdID0gYWdlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGFwcHIgPSB7XHJcblx0XHRcdFx0J19pZCc6IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHIsXHJcblx0XHRcdFx0J2luc3RhbmNlJzogaW5zX2lkLFxyXG5cdFx0XHRcdCd0cmFjZSc6IHRyYWNlX2lkLFxyXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCd1c2VyJzogdXNlcklkLFxyXG5cdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXInOiBoYW5kbGVyX2lkLFxyXG5cdFx0XHRcdCdoYW5kbGVyX25hbWUnOiBoYW5kbGVyX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcl9vcmdhbml6YXRpb24nOiBoYW5kbGVyX3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogaGFuZGxlcl9vcmdfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IGhhbmRsZXJfb3JnX2luZm8uZnVsbG5hbWUsXHJcblx0XHRcdFx0J3R5cGUnOiAnY2MnLFxyXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcclxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXHJcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXHJcblx0XHRcdFx0J29waW5pb25fZmllbGRzX2NvZGUnOiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUsXHJcblx0XHRcdFx0J3NpZ25fZmllbGRfY29kZSc6IChhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUgJiYgYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlLmxlbmd0aCA9PSAxKSA/IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVswXSA6IFwiXCIsXHJcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGFwcHJvdmVfaWQsXHJcblx0XHRcdFx0J2NjX2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb25cclxuXHRcdFx0fTtcclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0YXBwci5hZ2VudCA9IGFnZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIGFwcHIpXHJcblx0XHRcdG5ld19hcHByb3Zlcy5wdXNoKGFwcHIpO1xyXG5cdFx0fSlcclxuXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmosXHJcblx0XHRcdCRhZGRUb1NldDoge1xyXG5cdFx0XHRcdCd0cmFjZXMuJC5hcHByb3Zlcyc6IHtcclxuXHRcdFx0XHRcdCRlYWNoOiBuZXdfYXBwcm92ZXNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdCRwdXNoOiB7XHJcblx0XHRcdFx0Y2NfdXNlcnM6IHtcclxuXHRcdFx0XHRcdCRlYWNoOiBjY191c2VyX2lkc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCk7XHJcblx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2NcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBjY191c2VyX2lkcyk7XHJcblxyXG5cdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHRhcHByb3ZlLmNjX3VzZXJfaWRzID0gY2NfdXNlcl9pZHM7IC8vIOiusOW9leS4i+acrOasoeS8oOmYheeahOS6uuWRmElE5L2c5Li6aG9va+aOpeWPo+S4reeahOWPguaVsFxyXG5cdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGFwcHJvdmUsICdjY19kbycsIGN1cnJlbnRfdXNlcl9pZCwgY2NfdXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19yZWFkOiBmdW5jdGlvbiAoYXBwcm92ZSkge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XHJcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcclxuXHRcdHZhciBjdXJyZW50X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0cmV0dXJuIHQuX2lkID09IHRyYWNlX2lkO1xyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdGlmIChhLnR5cGUgPT0gJ2NjJyAmJiBhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmICFhLmlzX3JlYWQpIHtcclxuXHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmlzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cclxuXHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXM7XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19zdWJtaXQ6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMSxcclxuXHRcdFx0XHRvdXRib3hfdXNlcnM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZTtcclxuXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYS50eXBlID09ICdjYycgJiYgYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGE7XHJcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJzdWJtaXR0ZWRcIjtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbmV3IERhdGUoKSAtIGEuc3RhcnRfZGF0ZTtcclxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFx0XHRcdFx0J3RyYWNlcy5faWQnOiB0Ll9pZFxyXG5cdFx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdFx0JHNldDogdXBvYmpcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSkge1xyXG5cdFx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXHJcblx0XHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XHJcblx0XHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0YS5kZXNjcmlwdGlvbiA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblxyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0JHNldDogc2V0T2JqLFxyXG5cdFx0XHRcdCRwdWxsOiB7XHJcblx0XHRcdFx0XHRjY191c2VyczogY3VycmVudF91c2VyX2lkXHJcblx0XHRcdFx0fSxcclxuXHRcdFx0XHQkYWRkVG9TZXQ6IHtcclxuXHRcdFx0XHRcdG91dGJveF91c2Vyczoge1xyXG5cdFx0XHRcdFx0XHQkZWFjaDogW2N1cnJlbnRfdXNlcl9pZCwgY3VycmVudF9hcHByb3ZlLnVzZXJdXHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKTtcclxuXHJcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXJfaWQpO1xyXG5cdFx0XHQvL+S8oOmYheaPkOS6pOS4jemAmuefpeS8oOmYheiAhVxyXG5cdFx0XHRpZiAoZmFsc2UgJiYgZGVzY3JpcHRpb24gJiYgY3VycmVudF9hcHByb3ZlICYmIGN1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXIpIHtcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInRyYWNlX2FwcHJvdmVfY2Nfc3VibWl0XCIsIGluc3RhbmNlLCBcIlwiLCBjdXJyZW50X3VzZXJfaW5mbywgW2N1cnJlbnRfYXBwcm92ZS5mcm9tX3VzZXJdKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcl9pZCk7XHJcblxyXG5cdFx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcclxuXHRcdFx0Ly8g5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnY2Nfc3VibWl0JywgY3VycmVudF91c2VyX2lkLCBbXSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2NfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VJZCwgYXBwcm92ZUlkKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Y2NfdXNlcnM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIHRyYWNlX2lkLCByZW1vdmVfdXNlcl9pZCwgbXVsdGkgPSBmYWxzZTtcclxuXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYS5faWQgPT0gYXBwcm92ZUlkKSB7XHJcblx0XHRcdFx0XHRcdHRyYWNlX2lkID0gYS50cmFjZTtcclxuXHRcdFx0XHRcdFx0cmVtb3ZlX3VzZXJfaWQgPSBhLmhhbmRsZXI7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRpZiAoIXRyYWNlX2lkIHx8ICFyZW1vdmVfdXNlcl9pZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdHZhciBtdWx0aSA9IDA7XHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSkge1xyXG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSByZW1vdmVfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdG11bHRpKys7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fSk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdGlmIChtdWx0aSA+IDEpIHtcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHR9KTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHQkc2V0OiBzZXRPYmosXHJcblx0XHRcdFx0JHB1bGw6IHtcclxuXHRcdFx0XHRcdGNjX3VzZXJzOiByZW1vdmVfdXNlcl9pZFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCByZW1vdmVfdXNlcl9pZCk7XHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19zYXZlOiBmdW5jdGlvbiAoaW5zX2lkLCBkZXNjcmlwdGlvbikge1xyXG5cdFx0dmFyIHNldE9iaiA9IHt9O1xyXG5cclxuXHRcdHZhciBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHR0cmFjZXM6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHR2YXIgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdHZhciBjdXJyZW50X2FwcHJvdmU7XHJcblxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR0LmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgYS50eXBlID09ICdjYycgJiYgYS5pc19maW5pc2hlZCA9PSBmYWxzZSkge1xyXG5cdFx0XHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBhO1xyXG5cdFx0XHRcdFx0XHR2YXIgdXBvYmogPSB7fTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXHJcblx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cclxuXHRcdC8v6K6+572u5oSP6KeB77yM5oSP6KeB5Y+q5re75Yqg5Yiw5pyA5ZCO5LiA5p2hYXBwcm92ZeS4rVxyXG5cdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKGN1cnJlbnRfYXBwcm92ZSAmJiB0Ll9pZCA9PT0gY3VycmVudF9hcHByb3ZlLnRyYWNlKSB7XHJcblx0XHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PT0gY3VycmVudF9hcHByb3ZlLl9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5kZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfYXBwcm92ZS50cmFjZVxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdH0pO1xyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH1cclxufSkiLCJNZXRlb3IubWV0aG9kcyh7XHJcblx0Ly8g5pS55Li66YCa6L+HYXBp6LCD55SoXHJcblx0Zm9yd2FyZF9pbnN0YW5jZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBzcGFjZV9pZCwgZmxvd19pZCwgaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBkZXNjcmlwdGlvbiwgaXNGb3J3YXJkQXR0YWNobWVudHMsIHNlbGVjdGVkVXNlcnMsIGFjdGlvbl90eXBlLCByZWxhdGVkLCBmcm9tX2FwcHJvdmVfaWQpIHtcclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vdC1hdXRob3JpemVkJyk7XHJcblxyXG5cdFx0cmV0dXJuO1xyXG5cdH0sXHJcblxyXG5cclxuXHRmb3J3YXJkX3JlbW92ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCB0cmFjZV9pZCwgYXBwcm92ZV9pZCkge1xyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGFwcHJvdmVfaWQsIFN0cmluZyk7XHJcblxyXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcclxuXHJcblx0XHRpZiAoIWlucykge1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgYXBwcm92ZSA9IF8uZmluZCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGFwcHIpIHtcclxuXHRcdFx0cmV0dXJuIGFwcHIuX2lkID09IGFwcHJvdmVfaWQ7XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBoYXNBZG1pblBlcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzRmxvd0FkbWluUGVybWlzc2lvbihpbnMuZmxvdywgaW5zLnNwYWNlLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRpZiAoIWFwcHJvdmUgfHwgIVsnZm9yd2FyZCcsICdkaXN0cmlidXRlJ10uaW5jbHVkZXMoYXBwcm92ZS50eXBlKSB8fCAhYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKSB7XHJcblx0XHRcdGlmICghaGFzQWRtaW5QZXJtaXNzaW9uKSB7XHJcblx0XHRcdFx0aWYgKGFwcHJvdmUuZnJvbV91c2VyICE9IHRoaXMudXNlcklkKVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgJ2luc3RhbmNlX2ZvcndhcmRfY2Fubm90X2NhbmNlbCcpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2U7XHJcblx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGZvcndhcmRfaW5zdGFuY2VfaWQpO1xyXG5cdFx0aWYgKGZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XHJcblx0XHRcdFx0aWYgKCFoYXNBZG1pblBlcm1pc3Npb24pXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9pbnN0YW5jZV9zdGF0ZV9jaGFuZ2VkJyk7XHJcblx0XHRcdH1cclxuXHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXTtcclxuXHJcblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHR2YXIgZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkID0gZGIuZGVsZXRlZF9pbnN0YW5jZXMuaW5zZXJ0KGZvcndhcmRfaW5zdGFuY2UpO1xyXG5cdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGZvcndhcmRfaW5zdGFuY2VfaWRcclxuXHRcdFx0XHR9KTtcclxuXHJcblx0XHRcdFx0Ly8g5Yig6Zmk55Sz6K+35Y2V5ZCO6YeN5paw6K6h566XaW5ib3hfdXNlcnPnmoRiYWRnZVxyXG5cdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1X2lkKTtcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0Xy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwciwgaWR4KSB7XHJcblx0XHRcdGlmIChhcHByLl9pZCA9PSBhcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJztcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldF9vYmpcclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fSxcclxuXHJcblx0Y2FuY2VsRGlzdHJpYnV0ZTogZnVuY3Rpb24gKGluc3RhbmNlX2lkLCBhcHByb3ZlX2lkcykge1xyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGFwcHJvdmVfaWRzLCBBcnJheSlcclxuXHJcblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpXHJcblxyXG5cdFx0aWYgKCFpbnMpIHtcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKVxyXG5cdFx0fVxyXG5cclxuXHRcdHVzZXJJZCA9IHRoaXMudXNlcklkXHJcblxyXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHVzZXJJZClcclxuXHJcblx0XHRfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0aWYgKHQuYXBwcm92ZXMpIHtcclxuXHRcdFx0XHR2YXIgZXhpc3RzID0gZmFsc2VcclxuXHRcdFx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdFx0aWYgKGFwcHJvdmVfaWRzLmluY2x1ZGVzKGEuX2lkKSAmJiAoYS5mcm9tX3VzZXIgPT0gdXNlcklkIHx8IGhhc0FkbWluUGVybWlzc2lvbikgJiYgJ2Rpc3RyaWJ1dGUnID09IGEudHlwZSAmJiBhLmZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2VfaWQgPSBhLmZvcndhcmRfaW5zdGFuY2VcclxuXHRcdFx0XHRcdFx0dmFyIGZvcndhcmRfaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShmb3J3YXJkX2luc3RhbmNlX2lkKVxyXG5cdFx0XHRcdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIikge1xyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdHZhciBpbmJveF91c2VycyA9IGZvcndhcmRfaW5zdGFuY2UuaW5ib3hfdXNlcnMgfHwgW11cclxuXHJcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdGZvcndhcmRfaW5zdGFuY2UuZGVsZXRlZF9ieSA9IHVzZXJJZFxyXG5cdFx0XHRcdFx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSlcclxuXHRcdFx0XHRcdFx0XHRpZiAoZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0X2lkOiBmb3J3YXJkX2luc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdC8vIOWIoOmZpOeUs+ivt+WNleWQjumHjeaWsOiuoeeul2luYm94X3VzZXJz55qEYmFkZ2VcclxuXHRcdFx0XHRcdFx0XHRcdF8uZWFjaChpbmJveF91c2VycywgZnVuY3Rpb24gKHVfaWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVfaWQpXHJcblx0XHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9ICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGV4aXN0cyA9IHRydWVcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRpZiAoIWV4aXN0cylcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB1c2VySWRcclxuXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHQuX2lkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogc2V0X29ialxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHR9XHJcblxyXG5cclxufSkiLCJNZXRlb3IubWV0aG9kcyh7XHJcbiAgICBjZnNfaW5zdGFuY2VzX3JlbW92ZTogZnVuY3Rpb24gKGZpbGVfaWQpIHtcclxuICAgICAgICBjaGVjayhmaWxlX2lkLCBTdHJpbmcpO1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMucmVtb3ZlKGZpbGVfaWQpO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjZnNfaW5zdGFuY2VzX3NldF9jdXJyZW50OiBmdW5jdGlvbiAoZmlsZV9pZCkge1xyXG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xyXG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIGNmc19pbnN0YW5jZXNfbG9jazogZnVuY3Rpb24gKGZpbGVfaWQsIHVzZXJfaWQsIHVzZXJfbmFtZSkge1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcclxuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAkc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogdXNlcl9pZCxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6IHVzZXJfbmFtZSxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6IG5ldyBEYXRlKClcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBjZnNfaW5zdGFuY2VzX3VubG9jazogZnVuY3Rpb24gKGZpbGVfaWQpIHtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgJHVuc2V0OiB7XHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5JzogJycsXHJcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEubG9ja2VkX2J5X25hbWUnOiAnJyxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfdGltZSc6ICcnXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogZnVuY3Rpb24gKHNwYWNlSWQsIGNmc1JlY29yZElkcykge1xyXG4gICAgICAgIGlmICghdGhpcy51c2VySWQpXHJcbiAgICAgICAgICAgIHJldHVybiBcIuS4jeespuWQiOaJp+ihjOadoeS7tlwiXHJcblxyXG4gICAgICAgIGlmIChNZXRlb3IudXNlcnMuZmluZCh7XHJcbiAgICAgICAgICAgICAgICBfaWQ6IHRoaXMudXNlcklkLFxyXG4gICAgICAgICAgICAgICAgaXNfY2xvdWRhZG1pbjogdHJ1ZVxyXG4gICAgICAgICAgICB9KS5jb3VudCgpIDwgMSlcclxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcclxuXHJcbiAgICAgICAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcclxuXHJcbiAgICAgICAgdmFyIHN0b3JlID0gXCJpbnN0YW5jZXNcIjtcclxuICAgICAgICB2YXIgZnMgPSByZXF1aXJlKCdmcycpO1xyXG4gICAgICAgIHZhciBwYXRoID0gcmVxdWlyZSgncGF0aCcpO1xyXG4gICAgICAgIHZhciBta2RpcnAgPSByZXF1aXJlKCdta2RpcnAnKTtcclxuICAgICAgICB2YXIgcGF0aG5hbWUgPSBwYXRoLmpvaW4oX19tZXRlb3JfYm9vdHN0cmFwX18uc2VydmVyRGlyLCAnLi4vLi4vLi4vY2ZzL3NwYWNlSW5zdGFuY2VBdHRhY2htZW50cycpO1xyXG4gICAgICAgIC8vIFNldCBhYnNvbHV0ZSBwYXRoXHJcbiAgICAgICAgdmFyIGFic29sdXRlUGF0aCA9IHBhdGgucmVzb2x2ZShwYXRobmFtZSk7XHJcbiAgICAgICAgLy8gRW5zdXJlIHRoZSBwYXRoIGV4aXN0c1xyXG4gICAgICAgIG1rZGlycC5zeW5jKGFic29sdXRlUGF0aCk7XHJcbiAgICAgICAgY29uc29sZS5sb2coJ2Fic29sdXRlUGF0aDogJywgYWJzb2x1dGVQYXRoKTtcclxuICAgICAgICBjb25zb2xlLnRpbWUoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2snKTtcclxuICAgICAgICB2YXIgcXVlcnkgPSB7XHJcbiAgICAgICAgICAgICdtZXRhZGF0YS5zcGFjZSc6IHNwYWNlSWRcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYgKGNmc1JlY29yZElkcykge1xyXG4gICAgICAgICAgICBxdWVyeS5faWQgPSB7XHJcbiAgICAgICAgICAgICAgICAkaW46IGNmc1JlY29yZElkc1xyXG4gICAgICAgICAgICB9O1xyXG4gICAgICAgIH1cclxuICAgICAgICB2YXIgZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMgPSBbXTtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmZvckVhY2goZnVuY3Rpb24gKGMpIHtcclxuICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlTmFtZSA9IHN0b3JlICsgJy0nICsgYy5faWQgKyAnLScgKyBjLm5hbWUoKTtcclxuICAgICAgICAgICAgICAgIHZhciBmaWxlUGF0aCA9IHBhdGguam9pbihhYnNvbHV0ZVBhdGgsIGZpbGVOYW1lKTtcclxuICAgICAgICAgICAgICAgIE1ldGVvci53cmFwQXN5bmMoZnVuY3Rpb24gKGNhbGxiYWNrKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHdyaXRlciA9IGZzLmNyZWF0ZVdyaXRlU3RyZWFtKGZpbGVQYXRoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd3JpdGVyLm9uKCdmaW5pc2gnLCBmdW5jdGlvbiAoKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciByZWFkZXIgPSBjLmNyZWF0ZVJlYWRTdHJlYW0oc3RvcmUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIub24oJ2Vycm9yJywgZnVuY3Rpb24gKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBkb3dubG9hZEZhaWxlZFJlY29yZElkcy5wdXNoKGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Iuc3RhY2spO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICByZWFkZXIucGlwZSh3cml0ZXIpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoJ2Rvd25sb2FkX3NwYWNlX2luc3RhbmNlX2F0dGFjaG1lbnRzX3RvX2Rpc2s6ICcsIGMuX2lkKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY2FsbGJhY2soKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KSgpXHJcblxyXG4gICAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xyXG4gICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XHJcbiAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgfSlcclxuXHJcbiAgICAgICAgaWYgKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM6ICcpO1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzKTtcclxuICAgICAgICB9XHJcblxyXG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xyXG5cclxuICAgICAgICByZXR1cm4gZG93bmxvYWRGYWlsZWRSZWNvcmRJZHM7XHJcbiAgICB9XHJcbn0pIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0c2VsZiA9IHRoaXNcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0c2V0T2JqID0ge1xyXG5cdFx0XHRcdG1vZGlmaWVkOiBuZXcgRGF0ZSxcclxuXHRcdFx0XHRtb2RpZmllZF9ieTogc2VsZi51c2VySWRcclxuXHRcdFx0fVxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XHJcblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkICYmICFhcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5pc19yZWFkXCJdID0gdHJ1ZVxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRjaGFuZ2VfYXBwcm92ZV9pbmZvOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBkZXNjcmlwdGlvbiwgZmluaXNoX2RhdGUpIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhhcHByb3ZlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXHJcblx0XHRjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSlcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0dHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF1cclxuXHRcdFx0c2V0T2JqID0ge31cclxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoc2V0T2JqKVxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHR1cGRhdGVfYXBwcm92ZV9zaWduOiAoaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSktPlxyXG5cdFx0Y2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2sodHJhY2VJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZylcclxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpXHJcblxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHNlc3Npb25fdXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHRpZiBsYXN0U2lnbkFwcHJvdmVcclxuXHJcblx0XHRcdGlmIGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93XHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGxhc3RTaWduQXBwcm92ZS50cmFjZVxyXG5cdFx0XHR9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdFx0bGFzdFRyYWNlID0gXy5maW5kIGluc3RhbmNlPy50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZVxyXG5cclxuXHRcdFx0aWYgbGFzdFRyYWNlXHJcblx0XHRcdFx0c2V0T2JqID0ge31cclxuXHRcdFx0XHRsYXN0VHJhY2U/LmFwcHJvdmVzLmZvckVhY2ggKGEsIGlkeCkgLT5cclxuXHRcdFx0XHRcdGlmIGEuX2lkID09IGxhc3RTaWduQXBwcm92ZS5faWRcclxuXHRcdFx0XHRcdFx0aWYgc2lnbl90eXBlID09IFwidXBkYXRlXCJcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWRcclxuXHJcblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogbGFzdFRyYWNlLl9pZFxyXG5cdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2VJZCwgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWQgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHJcblx0XHRpZiBpbnN0YW5jZT8udHJhY2VzPy5sZW5ndGggPiAwXHJcblxyXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHR1cE9iaiA9IHt9XHJcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cclxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWRcclxuXHRcdFx0XHRcdGlmIHNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGVcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fc2hvd1wiXSA9IHRydWVcclxuXHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9Lm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eSh1cE9iailcclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0JHNldDogdXBPYmpcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHJcblx0dXBkYXRlX3NpZ25fc2hvdzogKG9ianMsIG15QXBwcm92ZV9pZCkgLT5cclxuXHRcdG9ianMuZm9yRWFjaCAob2JqLCBpbmRleCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7IF9pZDogb2JqLmluc3RhbmNlLCBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblx0XHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHRcdHNldE9iaiA9IHt9XHJcblx0XHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gb2JqLl9pZFxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBteUFwcHJvdmVfaWRcclxuXHRcdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKClcclxuXHJcblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0X2lkOiBvYmouaW5zdGFuY2UsXHJcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcclxuXHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdHJldHVybiB0cnVlXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc2V0X2FwcHJvdmVfaGF2ZV9yZWFkOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2VsZiwgc2V0T2JqLCB0cmFjZTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlbGYgPSB0aGlzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgdHJhY2UgPSBpbnN0YW5jZS50cmFjZXNbMF07XG4gICAgICBzZXRPYmogPSB7XG4gICAgICAgIG1vZGlmaWVkOiBuZXcgRGF0ZSxcbiAgICAgICAgbW9kaWZpZWRfYnk6IHNlbGYudXNlcklkXG4gICAgICB9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuaXNfcmVhZFwiXSA9IHRydWU7XG4gICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBjaGFuZ2VfYXBwcm92ZV9pbmZvOiBmdW5jdGlvbihpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGRlc2NyaXB0aW9uLCBmaW5pc2hfZGF0ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBjaGVjayhmaW5pc2hfZGF0ZSwgRGF0ZSk7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBhcHByb3ZlSWQpIHtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5maW5pc2hfZGF0ZVwiXSA9IGZpbmlzaF9kYXRlO1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY29zdF90aW1lXCJdID0gbmV3IERhdGUoKSAtIGFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9hcHByb3ZlX3NpZ246IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgc2lnbl9maWVsZF9jb2RlLCBkZXNjcmlwdGlvbiwgc2lnbl90eXBlLCBsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIGxhc3RUcmFjZSwgcmVmLCBzZXNzaW9uX3VzZXJJZCwgc2V0T2JqLCB0cmFjZSwgdXBPYmo7XG4gICAgY2hlY2soaW5zdGFuY2VJZCwgU3RyaW5nKTtcbiAgICBjaGVjayh0cmFjZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKTtcbiAgICBjaGVjayhzaWduX2ZpZWxkX2NvZGUsIFN0cmluZyk7XG4gICAgY2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBzZXNzaW9uX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmIChsYXN0U2lnbkFwcHJvdmUpIHtcbiAgICAgIGlmIChsYXN0U2lnbkFwcHJvdmUuY3VzdG9tX3NpZ25fc2hvdykge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdFNpZ25BcHByb3ZlLnRyYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGxhc3RUcmFjZSA9IF8uZmluZChpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UudHJhY2VzIDogdm9pZCAwLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9IGxhc3RTaWduQXBwcm92ZS50cmFjZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RUcmFjZSkge1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgaWYgKGxhc3RUcmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgbGFzdFRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgICBpZiAoYS5faWQgPT09IGxhc3RTaWduQXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgICAgaWYgKHNpZ25fdHlwZSA9PT0gXCJ1cGRhdGVcIikge1xuICAgICAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0VHJhY2UuX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHVwT2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmIChzaWduX2ZpZWxkX2NvZGUpIHtcbiAgICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX2ZpZWxkX2NvZGVcIl0gPSBzaWduX2ZpZWxkX2NvZGU7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5kZXNjcmlwdGlvblwiXSA9IGRlc2NyaXB0aW9uO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSB0cnVlO1xuICAgICAgICAgIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkX2J5XCJdID0gc2Vzc2lvbl91c2VySWQ7XG4gICAgICAgICAgcmV0dXJuIHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHVwT2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHVwT2JqXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICB1cGRhdGVfc2lnbl9zaG93OiBmdW5jdGlvbihvYmpzLCBteUFwcHJvdmVfaWQpIHtcbiAgICBvYmpzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKChpbnN0YW5jZSAhPSBudWxsID8gKHJlZiA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgICAgc2V0T2JqID0ge307XG4gICAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSBvYmouX2lkKSB7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmN1c3RvbV9zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93O1xuICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG15QXBwcm92ZV9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShzZXRPYmopKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBvYmouaW5zdGFuY2UsXG4gICAgICAgICAgICBcInRyYWNlcy5faWRcIjogb2JqLnRyYWNlXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlX3JldHVybjogKGFwcHJvdmUsIHJlYXNvbiktPlxyXG5cdFx0Y2hlY2soYXBwcm92ZSwgT2JqZWN0KVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkXHJcblx0XHRpbnN0YW5jZV9pZCA9IGFwcHJvdmUuaW5zdGFuY2VcclxuXHJcblx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0c3BhY2VfaWQgPSBpbnMuc3BhY2VcclxuXHJcblx0XHQjIC0g5b6F5a6h5qC4566xXHJcblx0XHRpZiBpbnMuc3RhdGUgaXNudCBcInBlbmRpbmdcIiBvciAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g5paH5Lu25LiN5piv5Lyg6ZiFXHJcblx0XHRpZiBhcHByb3ZlLnR5cGUgaXMgXCJjY1wiIGFuZCBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdCMgLSDnrb7moLjljobnqIvkuK3lvZPliY3mraXpqqTkuIrkuIDmraXpqqTkuI3mmK/kvJrnrb5cclxuXHRcdGlmIGlucy50cmFjZXMubGVuZ3RoIDwgMlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdylcclxuXHRcdHByZV90cmFjZSA9IGlucy50cmFjZXNbaW5zLnRyYWNlcy5sZW5ndGggLSAyXVxyXG5cdFx0cHJlX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBwcmVfdHJhY2Uuc3RlcClcclxuXHRcdGlmIHByZV9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g5b2T5YmN5q2l6aqk5Li65aGr5YaZ5oiW6ICF5a6h5om5XHJcblx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpXHJcblx0XHRjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzdWJtaXRcIiBhbmQgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpc250IFwic2lnblwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJjb3VudGVyU2lnblwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0IyAtIOWPguaVsGFwcHJvdmXkuK10cmFjZeS4juW9k+WJjeiOt+WPlueahHRyYWNl5piv5ZCm5Yy56YWNXHJcblx0XHRpZiBhcHByb3ZlLnRyYWNlIGlzbnQgbGFzdF90cmFjZS5faWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHRuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCBwcmVfdHJhY2UuYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdGlmICghYS50eXBlIG9yIGEudHlwZSBpcyBcImRyYWZ0XCIgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKVxyXG5cclxuXHRcdGlmIF8uaXNFbXB0eShuZXdfaW5ib3hfdXNlcnMpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpXHJcblxyXG5cdFx0dHJhY2VzID0gaW5zLnRyYWNlc1xyXG5cclxuXHRcdGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKVxyXG5cclxuXHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRyZXN0X2NvdW50ZXJfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XHJcblx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcclxuXHRcdFx0XHRcdHQuYXBwcm92ZXMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEsIGlkeCktPlxyXG5cdFx0XHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwicmVhc3NpZ25cIikgYW5kICghYS5qdWRnZSBvciBhLmp1ZGdlIGlzIFwic3VibWl0dGVkXCIgb3IgYS5qdWRnZSBpcyBcImFwcHJvdmVkXCIgb3IgYS5qdWRnZSBpcyBcInJlamVjdGVkXCIgb3IgYS5qdWRnZSBpcyBcInJlYWRlZFwiKSBhbmQgYS5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbm93XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBub3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19yZWFkJ10gPSB0cnVlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnZhbHVlcyddID0gYXBwcm92ZV92YWx1ZXNcclxuXHRcdFx0XHRcdFx0aWYgYS5oYW5kbGVyIGlzIGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvblxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0cmVzdF9jb3VudGVyX3VzZXJzLnB1c2ggYS5oYW5kbGVyXHJcblxyXG5cdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlXHJcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5maW5pc2hfZGF0ZSddID0gdHJ1ZVxyXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuanVkZ2UnXSA9IFwicmV0dXJuZWRcIlxyXG5cclxuXHRcdGlucy52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zLnZhbHVlcyB8fCB7fSksIGFwcHJvdmVfdmFsdWVzKVxyXG5cclxuXHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxyXG5cdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0bmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwXHJcblx0XHRuZXdUcmFjZS5uYW1lID0gcHJlX3RyYWNlLm5hbWVcclxuXHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMpXHJcblx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXHJcblx0XHRfLmVhY2ggbmV3X2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxyXG5cdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXHJcblx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxyXG5cclxuXHRcdFx0dXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge2ZpZWxkczoge25hbWU6IDF9fSlcclxuXHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0aGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkXHJcblx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xyXG5cdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxyXG5cdFx0XHRpZiBhZ2VudFxyXG5cdFx0XHRcdG5ld19pbmJveF91c2Vyc1tpZHhdID0gYWdlbnRcclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnRcclxuXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0bmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZClcclxuXHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xyXG5cdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblxyXG5cdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSlcclxuXHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cclxuXHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ld19pbmJveF91c2Vyc1xyXG5cdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHJcblx0XHRpbnMub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKVxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzXHJcblxyXG5cdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJlX3RyYWNlLm5hbWVcclxuXHJcblx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZCwgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0YiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHB1c2g6IHt0cmFjZXM6IG5ld1RyYWNlfX0pXHJcblx0XHRpZiByICYmIGJcclxuXHRcdFx0IyDmlrBpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHQjIOWmguaenOaYr+S8muetvuWImee7meS8muetvuacquaPkOS6pOeahOS6uuWPkemAgXB1c2hcclxuXHRcdFx0Xy5lYWNoIHJlc3RfY291bnRlcl91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdHJldHVybiB0cnVlIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZXR1cm46IGZ1bmN0aW9uKGFwcHJvdmUsIHJlYXNvbikge1xuICAgIHZhciBhcHByb3ZlX3ZhbHVlcywgYiwgY3VycmVudF9zdGVwLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBmbG93LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbmV3VHJhY2UsIG5ld19pbmJveF91c2Vycywgbm93LCBwcmVfc3RlcCwgcHJlX3RyYWNlLCByLCByZXN0X2NvdW50ZXJfdXNlcnMsIHNldE9iaiwgc3BhY2VfaWQsIHRyYWNlcztcbiAgICBjaGVjayhhcHByb3ZlLCBPYmplY3QpO1xuICAgIGN1cnJlbnRfdXNlciA9IHRoaXMudXNlcklkO1xuICAgIGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcbiAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICBzcGFjZV9pZCA9IGlucy5zcGFjZTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSBcInBlbmRpbmdcIiB8fCAhaW5zLmluYm94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50eXBlID09PSBcImNjXCIgJiYgaW5zLmNjX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoaW5zLnRyYWNlcy5sZW5ndGggPCAyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnMuZmxvdyk7XG4gICAgcHJlX3RyYWNlID0gaW5zLnRyYWNlc1tpbnMudHJhY2VzLmxlbmd0aCAtIDJdO1xuICAgIHByZV9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgcHJlX3RyYWNlLnN0ZXApO1xuICAgIGlmIChwcmVfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSAhPT0gXCJzdWJtaXRcIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInNpZ25cIiAmJiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBpZiAoYXBwcm92ZS50cmFjZSAhPT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBuZXdfaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHByZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJkcmFmdFwiIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiKSkge1xuICAgICAgICByZXR1cm4gbmV3X2luYm94X3VzZXJzLnB1c2goYS51c2VyKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KG5ld19pbmJveF91c2VycykpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw5LiL5LiA5q2l5aSE55CG5Lq677yM6YCA5Zue5aSx6LSlXCIpO1xuICAgIH1cbiAgICB0cmFjZXMgPSBpbnMudHJhY2VzO1xuICAgIGFwcHJvdmVfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRBcHByb3ZlVmFsdWVzKGFwcHJvdmUudmFsdWVzIHx8IHt9LCBjdXJyZW50X3N0ZXAucGVybWlzc2lvbnMsIGlucy5mb3JtLCBpbnMuZm9ybV92ZXJzaW9uKTtcbiAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgIHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgIHQuYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgIH1cbiAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEsIGlkeCkge1xuICAgICAgICAgIGlmICgoIWEudHlwZSB8fCBhLnR5cGUgPT09IFwicmVhc3NpZ25cIikgJiYgKCFhLmp1ZGdlIHx8IGEuanVkZ2UgPT09IFwic3VibWl0dGVkXCIgfHwgYS5qdWRnZSA9PT0gXCJhcHByb3ZlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVqZWN0ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlYWRlZFwiKSAmJiBhLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLnJlYWRfZGF0ZSddID0gbm93O1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19lcnJvciddID0gZmFsc2U7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5jb3N0X3RpbWUnXSA9IG5vdyAtIGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcudmFsdWVzJ10gPSBhcHByb3ZlX3ZhbHVlcztcbiAgICAgICAgICAgIGlmIChhLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICAgICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmRlc2NyaXB0aW9uJ10gPSByZWFzb247XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICByZXR1cm4gcmVzdF9jb3VudGVyX3VzZXJzLnB1c2goYS5oYW5kbGVyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xuICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmZpbmlzaF9kYXRlJ10gPSB0cnVlO1xuICAgICAgICByZXR1cm4gc2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlucy52YWx1ZXMgPSBfLmV4dGVuZChpbnMudmFsdWVzIHx8IHt9LCBhcHByb3ZlX3ZhbHVlcyk7XG4gICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgbmV3VHJhY2Uuc3RlcCA9IHByZV90cmFjZS5zdGVwO1xuICAgIG5ld1RyYWNlLm5hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZV9zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgXy5lYWNoKG5ld19pbmJveF91c2VycywgZnVuY3Rpb24obmV4dF9zdGVwX3VzZXJfaWQsIGlkeCkge1xuICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICB1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgaGFuZGxlcl9pZCA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgbmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudDtcbiAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLmFnZW50ID0gYWdlbnQ7XG4gICAgICB9XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgIG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpO1xuICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGlucy52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgfSk7XG4gICAgc2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzO1xuICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgIGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zLm91dGJveF91c2Vycyk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICBzZXRPYmoudmFsdWVzID0gaW5zLnZhbHVlcztcbiAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZTtcbiAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBsYXN0X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIGIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICAkcHVzaDoge1xuICAgICAgICB0cmFjZXM6IG5ld1RyYWNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKHIgJiYgYikge1xuICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJldHVybl9wZW5kaW5nX2luYm94XCIsIGluc3RhbmNlLCByZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIF8uZWFjaChyZXN0X2NvdW50ZXJfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlX3JlbWluZDogKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKS0+XHJcblx0XHRjaGVjayByZW1pbmRfdXNlcnMsIEFycmF5XHJcblx0XHRjaGVjayByZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKVxyXG5cdFx0Y2hlY2sgcmVtaW5kX2RlYWRsaW5lLCBEYXRlXHJcblx0XHRjaGVjayBpbnN0YW5jZV9pZCwgU3RyaW5nXHJcblx0XHRjaGVjayBhY3Rpb25fdHlwZXMsIEFycmF5XHJcblx0XHRjaGVjayB0cmFjZV9pZCwgU3RyaW5nXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWRcclxuXHRcdGxhc3RfcmVtaW5kX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtuYW1lOiAxLCB0cmFjZXM6IDEsIHZhbHVlczogMSwgc3BhY2U6IDF9fSlcclxuXHRcdGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYWRtaW4nKVxyXG5cdFx0XHRpZiByZW1pbmRfY291bnQgaXMgJ3NpbmdsZSdcclxuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cclxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHRcdFx0ZWxzZSBpZiByZW1pbmRfY291bnQgaXMgJ211bHRpJ1xyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0cHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5XHJcblx0XHRcdFx0Xy5lYWNoIGlucy50cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXHJcblx0XHRcdFx0XHRcdFx0YXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0IyDvvIgx77yJ4oCc5pmu6YCa4oCd77ya5aaC5LiJ5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li65LqM5pel5YaF77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LqM5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77yM5Yqe57uT5pe26ZmQ5Li65LiA5pel5YaF44CCXHJcblx0XHRcdFx0XHRcdFx0aWYgcHJpb3JpdHkgaXMgXCLmma7pgJpcIiBvciBub3QgcHJpb3JpdHlcclxuXHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdCMg77yIMu+8ieKAnOWKnuaWh+KAne+8muWmguS4gOS4quW3peS9nOaXpeWGheacquWkhOeQhu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguS4gOaXpeWQjuS7jeacquWkhOeQhu+8jOezu+e7n+avj+WkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOi3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOWImeavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLlip7mlodcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg77yIM++8ieKAnOe0p+aApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuWkqeiHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i3neemu+WKnue7k+aXtumZkOS4uuWNiuaXpeaXtu+8jOavj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLntKfmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg77yINO+8ieKAnOeJueaApeKAne+8muWcqOWPkemAgeeahOWQjOaXtu+8jOezu+e7n+iHquWKqOWPkeefreS/oeaPkOmGku+8muWKnue7k+aXtumZkOS4uuihqOWNleS4iueahOKAnOWKnue7k+aXtumZkOKAne+8iOaWh+S5puW9leWFpeeahOaXtumXtO+8ie+8m1xyXG5cdFx0XHRcdFx0XHRcdCMgIOWmguWNiuaXpeWGheS7jeacquWkhOeQhu+8jOezu+e7n+avj+WNiuS4quW3peS9nOaXpeaPkOmGkuWbm+asoe+8muWKnue7k+aXtumZkOS4jeWPmO+8m+i2hei/h+WKnue7k+aXtumZkOWQjuS7jeeEtuaMieeFp+avj+WNiuaXpeWbm+asoeaPkOmGkuOAglxyXG5cdFx0XHRcdFx0XHRcdGVsc2UgaWYgcHJpb3JpdHkgaXMgXCLnibnmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lICMg6LaF6L+H5LqG5Yqe57uT5pe26ZmQ5oiW6ICF6Led56a75Yqe57uT5pe26ZmQ5Y2K5pel5YaFXHJcblx0XHRcdFx0XHRcdFx0XHRcdGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpXHJcblx0XHRcdFx0XHRcdFx0XHRlbHNlIGlmIFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUgPSAoYmFzZV9kYXRlKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0cGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZShub3cpXHJcblxyXG5cdFx0XHRcdGlmIG5vdCBfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpXHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHsndHJhY2VzJzogaW5zLnRyYWNlc319KVxyXG5cclxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhcHBsaWNhbnQnKVxyXG5cdFx0XHR0cmFjZSA9IF8uZmluZCBpbnMudHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyB0cmFjZV9pZFxyXG5cdFx0XHRfLmVhY2ggdHJhY2UuYXBwcm92ZXMsIChhcCktPlxyXG5cdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHJcblx0XHRlbHNlIGlmIGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKVxyXG5cdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYXAudHlwZSBpcyAnY2MnIGFuZCBhcC5mcm9tX3VzZXIgaXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxyXG5cclxuXHRcdHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyBpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZV9yZW1pbmQ6IGZ1bmN0aW9uKHJlbWluZF91c2VycywgcmVtaW5kX2NvdW50LCByZW1pbmRfZGVhZGxpbmUsIGluc3RhbmNlX2lkLCBhY3Rpb25fdHlwZXMsIHRyYWNlX2lkKSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pZCwgaW5zLCBsYXN0X3JlbWluZF91c2Vycywgbm93LCBwcmlvcml0eSwgdHJhY2U7XG4gICAgY2hlY2socmVtaW5kX3VzZXJzLCBBcnJheSk7XG4gICAgY2hlY2socmVtaW5kX2NvdW50LCBNYXRjaC5PbmVPZignc2luZ2xlJywgJ211bHRpJykpO1xuICAgIGNoZWNrKHJlbWluZF9kZWFkbGluZSwgRGF0ZSk7XG4gICAgY2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XG4gICAgY2hlY2soYWN0aW9uX3R5cGVzLCBBcnJheSk7XG4gICAgY2hlY2sodHJhY2VfaWQsIFN0cmluZyk7XG4gICAgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XG4gICAgbGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICB0cmFjZXM6IDEsXG4gICAgICAgIHZhbHVlczogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpKSB7XG4gICAgICBpZiAocmVtaW5kX2NvdW50ID09PSAnc2luZ2xlJykge1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmIChyZW1pbmRfY291bnQgPT09ICdtdWx0aScpIHtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIHByaW9yaXR5ID0gaW5zLnZhbHVlcy5wcmlvcml0eTtcbiAgICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgICB2YXIgY2FjdWxhdGVfZGF0ZTtcbiAgICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgICAgbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgICAgYXAubWFudWFsX2RlYWRsaW5lID0gcmVtaW5kX2RlYWRsaW5lO1xuICAgICAgICAgICAgICBpZiAocHJpb3JpdHkgPT09IFwi5pmu6YCaXCIgfHwgIXByaW9yaXR5KSB7XG5cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLlip7mlodcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIue0p+aApVwiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi54m55oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFfLmlzRW1wdHkobGFzdF9yZW1pbmRfdXNlcnMpKSB7XG4gICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAndHJhY2VzJzogaW5zLnRyYWNlc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpKSB7XG4gICAgICB0cmFjZSA9IF8uZmluZChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gdHJhY2VfaWQ7XG4gICAgICB9KTtcbiAgICAgIF8uZWFjaCh0cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgIHJldHVybiBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnY2MnKSkge1xuICAgICAgXy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgIGlmIChyZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgJiYgYXAuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYXAudHlwZSA9PT0gJ2NjJyAmJiBhcC5mcm9tX3VzZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLnNlbmRSZW1pbmRTTVMoaW5zLm5hbWUsIHJlbWluZF9kZWFkbGluZSwgbGFzdF9yZW1pbmRfdXNlcnMsIGlucy5zcGFjZSwgaW5zLl9pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiAoZGVhbF90eXBlLCBzdGVwX25hbWUsIHBhcmFtcykgLT5cclxuXHRcdGNoZWNrIGRlYWxfdHlwZSwgU3RyaW5nXHJcblx0XHRjaGVjayBzdGVwX25hbWUsIFN0cmluZ1xyXG5cdFx0Y2hlY2sgcGFyYW1zLCBPYmplY3RcclxuXHJcblx0XHRzdHIgPSBcIlwiXHJcblx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdGhpcy51c2VySWQgfSwgeyBmaWVsZHM6IHsgbG9jYWxlOiAxIH0gfSlcclxuXHRcdCPorr7nva7lvZPliY3or63oqIDnjq/looNcclxuXHRcdGxhbmcgPSAnZW4nXHJcblx0XHRpZiB1c2VyLmxvY2FsZSBpcyAnemgtY24nXHJcblx0XHRcdGxhbmcgPSAnemgtQ04nXHJcblxyXG5cdFx0IyDmjIflrprlrqHmibnlspfkvY1cclxuXHRcdGlmIGRlYWxfdHlwZSBpcyAnYXBwbGljYW50Um9sZSdcclxuXHRcdFx0YXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXNcclxuXHRcdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IHsgJGluOiBhcHByb3Zlcl9yb2xlcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXHJcblx0XHRcdHJvbGVzX25hbWUgPSBfLnBsdWNrKHJvbGVzLCAnbmFtZScpLnRvU3RyaW5nKClcclxuXHRcdFx0c3RyID0gVEFQaTE4bi5fXyAnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHsgc3RlcF9uYW1lOiBzdGVwX25hbWUsIHJvbGVfbmFtZTogcm9sZXNfbmFtZSB9LCBsYW5nXHJcblxyXG5cclxuXHRcdHJldHVybiBzdHJcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBuZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kOiBmdW5jdGlvbihkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSB7XG4gICAgdmFyIGFwcHJvdmVyX3JvbGVzLCBsYW5nLCByb2xlcywgcm9sZXNfbmFtZSwgc3RyLCB1c2VyO1xuICAgIGNoZWNrKGRlYWxfdHlwZSwgU3RyaW5nKTtcbiAgICBjaGVjayhzdGVwX25hbWUsIFN0cmluZyk7XG4gICAgY2hlY2socGFyYW1zLCBPYmplY3QpO1xuICAgIHN0ciA9IFwiXCI7XG4gICAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBsb2NhbGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsYW5nID0gJ2VuJztcbiAgICBpZiAodXNlci5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgIGxhbmcgPSAnemgtQ04nO1xuICAgIH1cbiAgICBpZiAoZGVhbF90eXBlID09PSAnYXBwbGljYW50Um9sZScpIHtcbiAgICAgIGFwcHJvdmVyX3JvbGVzID0gcGFyYW1zLmFwcHJvdmVyX3JvbGVzO1xuICAgICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGFwcHJvdmVyX3JvbGVzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKTtcbiAgICAgIHN0ciA9IFRBUGkxOG4uX18oJ25leHRfc3RlcF91c2Vyc19ub3RfZm91bmQuYXBwbGljYW50X3JvbGUnLCB7XG4gICAgICAgIHN0ZXBfbmFtZTogc3RlcF9uYW1lLFxuICAgICAgICByb2xlX25hbWU6IHJvbGVzX25hbWVcbiAgICAgIH0sIGxhbmcpO1xuICAgIH1cbiAgICByZXR1cm4gc3RyO1xuICB9XG59KTtcbiIsIl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpXHJcblxyXG5NZXRlb3IubWV0aG9kc1xyXG5cdGluc3RhbmNlTnVtYmVyQnVpbGRlcjogKHNwYWNlSWQsIG5hbWUpLT5cclxuXHJcblx0XHRudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtzcGFjZTogc3BhY2VJZCwgbmFtZTogbmFtZX0pXHJcblxyXG5cdFx0aWYgIW51bWJlclJ1bGVzXHJcblx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIiN7bmFtZX1cIilcclxuXHJcblx0XHRkYXRlID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdGNvbnRleHQgPSB7fVxyXG5cclxuXHRcdGNvbnRleHQuXyA9IF9cclxuXHJcblx0XHRfWVlZWSA9IGRhdGUuZ2V0RnVsbFllYXIoKVxyXG5cclxuXHRcdF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMVxyXG5cclxuXHRcdGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpXHJcblxyXG5cdFx0Y29udGV4dC5NTSA9IGRhdGUuZ2V0TW9udGgoKSArIDFcclxuXHJcblx0XHRjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMVxyXG5cclxuXHRcdGlmIGNvbnRleHQuTU0gPCAxMFxyXG5cdFx0XHRjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NXHJcblxyXG5cdFx0Y29udGV4dC5ERCA9IGRhdGUuZ2V0RGF0ZSgpXHJcblxyXG5cdFx0Y29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpXHJcblxyXG5cdFx0aWYgY29udGV4dC5ERCA8IDEwXHJcblx0XHRcdGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuRERcclxuXHJcblx0XHRpZiBjb250ZXh0LllZWVkgIT0gbnVtYmVyUnVsZXMueWVhclxyXG5cdFx0XHRfTlVNQkVSID0gbnVtYmVyUnVsZXMuZmlyc3RfbnVtYmVyIHx8IDFcclxuXHJcblx0XHRjb250ZXh0Lk5VTUJFUiA9IF8uY2xvbmUoX05VTUJFUilcclxuXHJcblx0XHRydWxlcyA9IG51bWJlclJ1bGVzLnJ1bGVzLnJlcGxhY2UoXCJ7WVlZWX1cIiwgXCInICsgWVlZWSArICdcIikucmVwbGFjZShcIntNTX1cIiwgXCInICsgTU0gKyAnXCIpLnJlcGxhY2UoXCJ7TlVNQkVSfVwiLCBcIicgKyBOVU1CRVIgKyAnXCIpXHJcblxyXG5cdFx0c2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnI3tydWxlc30nOyBleHBvcnRzLm5ld05vID0gbmV3Tm9cIjtcclxuXHJcblx0XHR0cnlcclxuXHRcdFx0cmVzID0gX2V2YWwoc2NyaXB0LCBcIm5ld05vXCIsIGNvbnRleHQsIGZhbHNlKS5uZXdOb1xyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLnVwZGF0ZSh7X2lkOiBudW1iZXJSdWxlcy5faWR9LCB7JHNldDoge3llYXI6IF9ZWVlZLCBudW1iZXI6IF9OVU1CRVJ9fSlcclxuXHJcblx0XHRcdGNvbnNvbGUubG9nIHRoaXMudXNlcklkLCByZXNcclxuXHJcblx0XHRjYXRjaCBlXHJcblx0XHRcdHJlcyA9IHtfZXJyb3I6IGV9XHJcblxyXG5cdFx0cmV0dXJuIHJlcztcclxuIiwidmFyIF9ldmFsO1xuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICBpbnN0YW5jZU51bWJlckJ1aWxkZXI6IGZ1bmN0aW9uKHNwYWNlSWQsIG5hbWUpIHtcbiAgICB2YXIgX05VTUJFUiwgX1lZWVksIGNvbnRleHQsIGRhdGUsIGUsIG51bWJlclJ1bGVzLCByZXMsIHJ1bGVzLCBzY3JpcHQ7XG4gICAgbnVtYmVyUnVsZXMgPSBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIG5hbWU6IG5hbWVcbiAgICB9KTtcbiAgICBpZiAoIW51bWJlclJ1bGVzKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIlwiICsgbmFtZSk7XG4gICAgfVxuICAgIGRhdGUgPSBuZXcgRGF0ZSgpO1xuICAgIGNvbnRleHQgPSB7fTtcbiAgICBjb250ZXh0Ll8gPSBfO1xuICAgIF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpO1xuICAgIF9OVU1CRVIgPSAobnVtYmVyUnVsZXMubnVtYmVyIHx8IDApICsgMTtcbiAgICBjb250ZXh0LllZWVkgPSBfLmNsb25lKF9ZWVlZKTtcbiAgICBjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBjb250ZXh0Lm1tID0gZGF0ZS5nZXRNb250aCgpICsgMTtcbiAgICBpZiAoY29udGV4dC5NTSA8IDEwKSB7XG4gICAgICBjb250ZXh0Lk1NID0gXCIwXCIgKyBjb250ZXh0Lk1NO1xuICAgIH1cbiAgICBjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgY29udGV4dC5kZCA9IGRhdGUuZ2V0RGF0ZSgpO1xuICAgIGlmIChjb250ZXh0LkREIDwgMTApIHtcbiAgICAgIGNvbnRleHQuREQgPSBcIjBcIiArIGNvbnRleHQuREQ7XG4gICAgfVxuICAgIGlmIChjb250ZXh0LllZWVkgIT09IG51bWJlclJ1bGVzLnllYXIpIHtcbiAgICAgIF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMTtcbiAgICB9XG4gICAgY29udGV4dC5OVU1CRVIgPSBfLmNsb25lKF9OVU1CRVIpO1xuICAgIHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIik7XG4gICAgc2NyaXB0ID0gXCJ2YXIgbmV3Tm8gPSAnXCIgKyBydWxlcyArIFwiJzsgZXhwb3J0cy5uZXdObyA9IG5ld05vXCI7XG4gICAgdHJ5IHtcbiAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJuZXdOb1wiLCBjb250ZXh0LCBmYWxzZSkubmV3Tm87XG4gICAgICBkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBudW1iZXJSdWxlcy5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgIHllYXI6IF9ZWVlZLFxuICAgICAgICAgIG51bWJlcjogX05VTUJFUlxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKHRoaXMudXNlcklkLCByZXMpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICByZXMgPSB7XG4gICAgICAgIF9lcnJvcjogZVxuICAgICAgfTtcbiAgICB9XG4gICAgcmV0dXJuIHJlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGNoZWNrX21haW5fYXR0YWNoOiAoaW5zX2lkLCBuYW1lKS0+XHJcblx0XHRjaGVjayBpbnNfaWQsIFN0cmluZ1xyXG5cdFx0dXVmbG93TWFuYWdlci5jaGVja01haW5BdHRhY2goaW5zX2lkLCBuYW1lKVxyXG5cdFx0cmV0dXJuICdzdWNjZXNzJ1xyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRyZW1vdmVfcmVsYXRlZDogKGluc19pZCwgcmVfaW5zX2lkKS0+XHJcblx0XHRjaGVjayhpbnNfaWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHJlX2luc19pZCwgU3RyaW5nKVxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZH0sIHtmaWVsZHM6IHtyZWxhdGVkX2luc3RhbmNlczogMX19KVxyXG5cclxuXHRcdGlmIGluc1xyXG5cdFx0XHRyZXMgPSBpbnMucmVsYXRlZF9pbnN0YW5jZXMgfHwgW11cclxuXHJcblx0XHRcdGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKVxyXG5cclxuXHRcdFx0aWYgaW5kZXggPiAtMVxyXG5cdFx0XHRcdHJlcy5yZW1vdmUoaW5kZXgpXHJcblxyXG5cdFx0XHRzZXRfb2JqID0gbmV3IE9iamVjdDtcclxuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0c2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlc1xyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnNfaWR9LCB7JHNldDogc2V0X29ian0pXHJcblxyXG5cdHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiAoaW5zX2lkLCByZWxhdGVkX2luc3RhbmNlcyktPlxyXG5cdFx0Y2hlY2soaW5zX2lkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpXHJcblxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc19pZCwgJG9yOiBbe3N1Ym1pdHRlcjogdGhpcy51c2VySWR9LCB7YXBwbGljYW50OiB0aGlzLnVzZXJJZH0sIHtpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV19LCB7ZmllbGRzOiB7c3RhdGU6IDF9fSlcclxuXHJcblx0XHRpZiBpbnNcclxuXHRcdFx0c2V0X29iaiA9IG5ldyBPYmplY3Q7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlc1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc19pZH0sIHskc2V0OiBzZXRfb2JqfSlcclxuXHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogIHJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIHZhbHVlczogMX19KS5mZXRjaCgpXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgcmVtb3ZlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVfaW5zX2lkKSB7XG4gICAgdmFyIGluZGV4LCBpbnMsIHJlcywgc2V0X29iajtcbiAgICBjaGVjayhpbnNfaWQsIFN0cmluZyk7XG4gICAgY2hlY2socmVfaW5zX2lkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICByZXMgPSBpbnMucmVsYXRlZF9pbnN0YW5jZXMgfHwgW107XG4gICAgICBpbmRleCA9IHJlcy5pbmRleE9mKHJlX2luc19pZCk7XG4gICAgICBpZiAoaW5kZXggPiAtMSkge1xuICAgICAgICByZXMucmVtb3ZlKGluZGV4KTtcbiAgICAgIH1cbiAgICAgIHNldF9vYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XG4gICAgICBzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzO1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRfb2JqXG4gICAgICB9KTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9pbnN0YW5jZV9yZWxhdGVkOiBmdW5jdGlvbihpbnNfaWQsIHJlbGF0ZWRfaW5zdGFuY2VzKSB7XG4gICAgdmFyIGlucywgc2V0X29iajtcbiAgICBjaGVjayhpbnNfaWQsIFN0cmluZyk7XG4gICAgY2hlY2socmVsYXRlZF9pbnN0YW5jZXMsIEFycmF5KTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJG9yOiBbXG4gICAgICAgIHtcbiAgICAgICAgICBzdWJtaXR0ZXI6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBhcHBsaWNhbnQ6IHRoaXMudXNlcklkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBpbmJveF91c2VyczogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGlucykge1xuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZWxhdGVkX2luc3RhbmNlcztcbiAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc19pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiBzZXRfb2JqXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHVwZGF0ZUZsb3dQb3NpdGlvbjogKGRhdGEpIC0+XHJcblx0XHRkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUgeyBfaWQ6IGRhdGEuX2lkIH0sICRzZXQ6XHJcblx0XHRcdHJvbGU6IGRhdGEucm9sZVxyXG5cdFx0XHR1c2VyczogZGF0YS51c2Vyc1xyXG5cdFx0XHRvcmc6IGRhdGEub3JnXHJcblxyXG5cdHVwZGF0ZUZsb3dSb2xlOiAoZGF0YSkgLT5cclxuXHRcdGNvbnNvbGUubG9nIGRhdGEuX2lkXHJcblx0XHRjb25zb2xlLmxvZyBkYXRhLm5hbWVcclxuXHRcdGRiLmZsb3dfcm9sZXMudXBkYXRlIHsgX2lkOiBkYXRhLl9pZCB9LCAkc2V0OlxyXG5cdFx0XHRuYW1lOiBkYXRhLm5hbWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIHVwZGF0ZUZsb3dQb3NpdGlvbjogZnVuY3Rpb24oZGF0YSkge1xuICAgIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy51cGRhdGUoe1xuICAgICAgX2lkOiBkYXRhLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgcm9sZTogZGF0YS5yb2xlLFxuICAgICAgICB1c2VyczogZGF0YS51c2VycyxcbiAgICAgICAgb3JnOiBkYXRhLm9yZ1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICB1cGRhdGVGbG93Um9sZTogZnVuY3Rpb24oZGF0YSkge1xuICAgIGNvbnNvbGUubG9nKGRhdGEuX2lkKTtcbiAgICBjb25zb2xlLmxvZyhkYXRhLm5hbWUpO1xuICAgIHJldHVybiBkYi5mbG93X3JvbGVzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGRhdGEuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICBuYW1lOiBkYXRhLm5hbWVcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHN0YXJ0X2Zsb3c6IChzcGFjZSwgZmxvd0lkLCBzdGFydCkgLT5cclxuXHJcblx0XHRrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2UsIHVzZXI6IHRoaXMudXNlcklkLCBrZXk6ICdzdGFydF9mbG93cycgfSwgeyBmaWVsZHM6IHsgdmFsdWU6IDEgfSB9KVxyXG5cclxuXHRcdHN0YXJ0X2Zsb3dzID0ga2V5VmFsdWU/LnZhbHVlIHx8IFtdXHJcblxyXG5cdFx0aWYgc3RhcnRcclxuXHRcdFx0c3RhcnRfZmxvd3MucHVzaChmbG93SWQpXHJcblxyXG5cdFx0XHRzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cylcclxuXHRcdGVsc2VcclxuXHRcdFx0c3RhcnRfZmxvd3MucmVtb3ZlKHN0YXJ0X2Zsb3dzLmluZGV4T2YoZmxvd0lkKSlcclxuXHJcblx0XHRpZiBrZXlWYWx1ZVxyXG5cdFx0XHRkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoeyBfaWQ6IGtleVZhbHVlLl9pZCB9LCB7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXHJcblx0XHRlbHNlXHJcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmluc2VydCh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJywgdmFsdWU6IHN0YXJ0X2Zsb3dzIH0pXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHN0YXJ0X2Zsb3c6IGZ1bmN0aW9uKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSB7XG4gICAgdmFyIGtleVZhbHVlLCBzdGFydF9mbG93cztcbiAgICBrZXlWYWx1ZSA9IGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdGhpcy51c2VySWQsXG4gICAgICBrZXk6ICdzdGFydF9mbG93cydcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBzdGFydF9mbG93cyA9IChrZXlWYWx1ZSAhPSBudWxsID8ga2V5VmFsdWUudmFsdWUgOiB2b2lkIDApIHx8IFtdO1xuICAgIGlmIChzdGFydCkge1xuICAgICAgc3RhcnRfZmxvd3MucHVzaChmbG93SWQpO1xuICAgICAgc3RhcnRfZmxvd3MgPSBfLnVuaXEoc3RhcnRfZmxvd3MpO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGFydF9mbG93cy5yZW1vdmUoc3RhcnRfZmxvd3MuaW5kZXhPZihmbG93SWQpKTtcbiAgICB9XG4gICAgaWYgKGtleVZhbHVlKSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBrZXlWYWx1ZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZGIuc3RlZWRvc19rZXl2YWx1ZXMuaW5zZXJ0KHtcbiAgICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgICAga2V5OiAnc3RhcnRfZmxvd3MnLFxuICAgICAgICB2YWx1ZTogc3RhcnRfZmxvd3NcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGdldF9pbnN0YW5jZV90cmFjZXM6IChpbnNfaWQpLT5cclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLFxyXG5cdFx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXVxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lIHtfaWQ6IGluc19pZH0sIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5zdGVwXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLm5hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5maW5pc2hfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmp1ZGdlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZmluaXNoZWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfbmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnN0YXJ0X2RhdGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5qdWRnZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9zcGFjZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgIWluc1xyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRyZXR1cm4gaW5zPy50cmFjZXNcclxuXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgZ2V0X2luc3RhbmNlX3RyYWNlczogZnVuY3Rpb24oaW5zX2lkKSB7XG4gICAgdmFyIGlucywgbWluaUFwcHJvdmVGaWVsZHM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJywgJ2lzX3JlYWQnLCAnanVkZ2UnLCAnZmluaXNoX2RhdGUnLCAnZnJvbV91c2VyX25hbWUnLCAnZnJvbV91c2VyJywgJ2NjX2Rlc2NyaXB0aW9uJ107XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLl9pZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19maW5pc2hlZFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy51c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnR5cGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuc3RhcnRfZGF0ZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19yZWFkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmp1ZGdlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZpbmlzaF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlcl9uYW1lXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5jY19kZXNjcmlwdGlvblwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy50cmFjZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX3NwYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfaW5zdGFuY2VcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiBpbnMgIT0gbnVsbCA/IGlucy50cmFjZXMgOiB2b2lkIDA7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHQnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmICFzcGFjZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xyXG5cclxuXHQnZ2V0X2JhdGNoX2luc3RhbmNlc19jb3VudCc6IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcyktPlxyXG5cdFx0aWYgIXRoaXMudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmICFzcGFjZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZClcclxuXHJcblx0XHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlcz8ubGVuZ3RoIHx8IDBcclxuXHJcblx0J2dldF9teV9hcHByb3Zlcyc6IChpbnN0YW5jZUlkcyktPlxyXG5cclxuXHRcdHRoYXQgPSB0aGlzXHJcblxyXG5cdFx0aWYgIXRoYXQudXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdG15QXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdGluc3RhbmNlSWRzLmZvckVhY2ggKGluc0lkKS0+XHJcblx0XHRcdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGluc0lkLCB0aGF0LnVzZXJJZClcclxuXHRcdFx0aWYgbXlfYXBwcm92ZVxyXG5cdFx0XHRcdG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKVxyXG5cclxuXHRcdHJldHVybiBteUFwcHJvdmVzXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICAnZ2V0X2JhdGNoX2luc3RhbmNlcyc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbiAgfSxcbiAgJ2dldF9iYXRjaF9pbnN0YW5jZXNfY291bnQnOiBmdW5jdGlvbihzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcykge1xuICAgIHZhciBfYmF0Y2hfaW5zdGFuY2VzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBfYmF0Y2hfaW5zdGFuY2VzID0gSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCB0aGlzLnVzZXJJZCk7XG4gICAgcmV0dXJuIChfYmF0Y2hfaW5zdGFuY2VzICE9IG51bGwgPyBfYmF0Y2hfaW5zdGFuY2VzLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgfSxcbiAgJ2dldF9teV9hcHByb3Zlcyc6IGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gICAgdmFyIG15QXBwcm92ZXMsIHRoYXQ7XG4gICAgdGhhdCA9IHRoaXM7XG4gICAgaWYgKCF0aGF0LnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgaW5zdGFuY2VJZHMuZm9yRWFjaChmdW5jdGlvbihpbnNJZCkge1xuICAgICAgdmFyIG15X2FwcHJvdmU7XG4gICAgICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnNJZCwgdGhhdC51c2VySWQpO1xuICAgICAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICAgICAgcmV0dXJuIG15QXBwcm92ZXMucHVzaChteV9hcHByb3ZlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbXlBcHByb3ZlcztcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGNoYW5nZV9mbG93X3N0YXRlOiAoZmxvd3MpIC0+XHJcblx0XHRjaGVjayBmbG93cywgQXJyYXlcclxuXHJcblx0XHRfdXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHRpZiAhX3VzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRmbG93cy5mb3JFYWNoIChmbG93KSAtPlxyXG5cdFx0XHRzcGFjZUlkID0gZmxvdy5zcGFjZVxyXG5cdFx0XHRmb3JtSWQgPSBmbG93LmZvcm1cclxuXHRcdFx0Zmxvd0lkID0gZmxvdy5pZFxyXG5cdFx0XHRzdGF0ZSA9IGZsb3cuc3RhdGVcclxuXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKVxyXG5cdFx0XHRcdHRocm93ICBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIilcclxuXHJcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmb3JtSWQgfSwgeyBmaWVsZHM6IHsgaGlzdG9yeXM6IDAgfSB9KVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dJZCB9LCB7IGZpZWxkczogeyBoaXN0b3J5czogMCB9IH0pXHJcblxyXG5cdFx0XHRpZiBzdGF0ZSAhPSAnZW5hYmxlZCcgJiYgc3RhdGUgIT0gJ2Rpc2FibGVkJ1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpXHJcblxyXG5cdFx0XHRpZiAhZm9ybVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIilcclxuXHJcblx0XHRcdGlmICFmbG93XHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKVxyXG5cclxuXHRcdFx0aWYgIWZvcm0uaXNfdmFsaWRcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbI3tmb3JtLm5hbWV9XemqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpeihqOWNleiuvue9rlwiKVxyXG5cclxuXHRcdFx0aWYgIWZsb3cuaXNfdmFsaWRcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XmtYHnqIvorr7nva5cIilcclxuXHJcblx0XHRcdGlmICFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSlcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIxmbG93dHlwZeWAvOW/hemhu+aYr25ld+OAgW1vZGlmeeOAgWRlbGV0ZeWFtuS4reS5i+S4gFwiKVxyXG5cclxuXHRcdFx0aWYgIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5rWB56iL55qE5q2l6aqk5LiN6IO95Li656m6XCIpXHJcblxyXG5cdFx0XHRpZiBfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPSBmbG93LmN1cnJlbnQuc3RlcHMubGVuZ3RoXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5ZCM5LiA5Liq5rWB56iL5LiL55qE5q2l6aqk55qE5ZCN56ew5LiN6IO96YeN5aSNXCIpXHJcblxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cclxuXHRcdFx0aWYgc3RhdGUgPT0gJ2VuYWJsZWQnXHJcblx0XHRcdFx0I+a1geeoi+WQr+eUqOWJje+8jOagoemqjOWFtuKAnOaMh+WumuWOhuWPsuatpemqpOKAneWxnuaAp+S4reiiq+W8leeUqOeahOatpemqpOaYr+WQpuWtmOWcqOS4lOiDveiiq+aJvuWIsO+8iOS7hemZkOS6jua1geeoi+eahOacgOaWsOeJiO+8iVxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxyXG5cdFx0XHRcdFx0aWYgWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpXHJcblx0XHRcdFx0XHRcdGlmICFzdGVwLmFwcHJvdmVyX3N0ZXBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbI3tzdGVwLm5hbWV9XeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKVxyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0c3BlY2lmeVN0ZXAgPSBfLmZpbmQgZmxvdy5jdXJyZW50LnN0ZXBzLCAoX3N0ZXApIC0+XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm4gc3RlcC5hcHByb3Zlcl9zdGVwID09IF9zdGVwLl9pZFxyXG5cclxuXHRcdFx0XHRcdFx0XHRpZiAhc3BlY2lmeVN0ZXBcclxuXHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXHJcblxyXG5cdFx0XHRcdGZvcm1fY3VycmVudF9maWVsZHNfY29kZSA9IGZvcm0uY3VycmVudC5maWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpXHJcblxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoIChzdGVwKSAtPlxyXG5cdFx0XHRcdFx0c3RlcC5maWVsZHNfbW9kaWZpYWJsZSA9IF8uaW50ZXJzZWN0aW9uKHN0ZXAuZmllbGRzX21vZGlmaWFibGUsIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSlcclxuXHJcblx0XHRcdFx0I+WmguaenCDmtYHnqIvlr7nlupTooajljZUg5piv5YGc55So55qEIOWImeWQr+eUqFxyXG5cdFx0XHRcdGlmIGZvcm0uc3RhdGUgPT0gJ2Rpc2FibGVkJ1xyXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZFwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXHJcblxyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5ID0gX3VzZXJJZFxyXG5cclxuXHRcdFx0XHRkYi5mbG93cy51cGRhdGUoeyBfaWQ6IGZsb3cuX2lkIH0sIHsgJHNldDogeyBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLCBcImN1cnJlbnRcIjogZmxvdy5jdXJyZW50IH0gfSlcclxuXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQj56aB55So5rWB56iLXHJcblx0XHRcdFx0ZGIuZmxvd3MudXBkYXRlKHtfaWQ6IGZsb3cuX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxyXG5cclxuXHRcdFx0XHQjIOWIpOaWreihqOWNleaJgOaciea1geeoi+aYr+WQpuW3sue7j+WFqOmDqOWBnOeUqCDlpoLmnpzlt7Llhajpg6jlgZznlKgg5YiZ5L+u5pS56KGo5Y2V54q25oCB5Li65YGc55SoXHJcblx0XHRcdFx0X2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7IGZvcm06IGZvcm0uX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSwgc3RhdGU6IDEgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0XHRcdF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpXHJcblxyXG5cdFx0XHRcdGlmICFfZmxvd3Nfc3RhdGUuaW5jbHVkZXMoJ2VuYWJsZWQnKVxyXG5cdFx0XHRcdFx0ZGIuZm9ybXMudXBkYXRlKHtfaWQ6IGZvcm0uX2lkfSwgeyRzZXQ6IHtcInN0YXRlXCI6IFwiZGlzYWJsZWRcIiwgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LCBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZH19KVxyXG5cclxuXHJcblxyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBjaGFuZ2VfZmxvd19zdGF0ZTogZnVuY3Rpb24oZmxvd3MpIHtcbiAgICB2YXIgX3VzZXJJZDtcbiAgICBjaGVjayhmbG93cywgQXJyYXkpO1xuICAgIF91c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpZiAoIV91c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmxvdykge1xuICAgICAgdmFyIF9mbG93cywgX2Zsb3dzX3N0YXRlLCBmbG93SWQsIGZvcm0sIGZvcm1JZCwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlLCBub3csIHNwYWNlSWQsIHN0YXRlO1xuICAgICAgc3BhY2VJZCA9IGZsb3cuc3BhY2U7XG4gICAgICBmb3JtSWQgPSBmbG93LmZvcm07XG4gICAgICBmbG93SWQgPSBmbG93LmlkO1xuICAgICAgc3RhdGUgPSBmbG93LnN0YXRlO1xuICAgICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCBfdXNlcklkKSkge1xuICAgICAgICB0aHJvdyBNZXRlb3IuRXJyb3IoNDAxLCBcIk5vIHBlcm1pc3Npb25cIik7XG4gICAgICB9XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZm9ybUlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGhpc3RvcnlzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3dJZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBoaXN0b3J5czogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChzdGF0ZSAhPT0gJ2VuYWJsZWQnICYmIHN0YXRlICE9PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcInN0YXRl5peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcImZvcm3ml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZmxvd+aXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZm9ybS5pc192YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvlvJXnlKjnmoTooajljZVbXCIgKyBmb3JtLm5hbWUgKyBcIl3pqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XooajljZXorr7nva5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZsb3cuaXNfdmFsaWQpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l5rWB56iL6K6+572uXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFbJ25ldycsICdtb2RpZnknLCAnZGVsZXRlJ10uaW5jbHVkZXMoZmxvdy5mbG93dHlwZSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yMZmxvd3R5cGXlgLzlv4XpobvmmK9uZXfjgIFtb2RpZnnjgIFkZWxldGXlhbbkuK3kuYvkuIBcIik7XG4gICAgICB9XG4gICAgICBpZiAoIV8uaXNBcnJheShmbG93LmN1cnJlbnQuc3RlcHMpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOa1geeoi+eahOatpemqpOS4jeiDveS4uuepulwiKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLnVuaXEoZmxvdy5jdXJyZW50LnN0ZXBzLCAnbmFtZScpLmxlbmd0aCAhPT0gZmxvdy5jdXJyZW50LnN0ZXBzLmxlbmd0aCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIik7XG4gICAgICB9XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGlmIChzdGF0ZSA9PT0gJ2VuYWJsZWQnKSB7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGVwcy5mb3JFYWNoKGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgICAgICB2YXIgc3BlY2lmeVN0ZXA7XG4gICAgICAgICAgaWYgKFsnc3BlY2lmeVN0ZXBVc2VyJywgJ3NwZWNpZnlTdGVwUm9sZSddLmluY2x1ZGVzKHN0ZXAuZGVhbF90eXBlKSkge1xuICAgICAgICAgICAgaWYgKCFzdGVwLmFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkW1wiICsgc3RlcC5uYW1lICsgXCJd5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3BlY2lmeVN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbihfc3RlcCkge1xuICAgICAgICAgICAgICAgIHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT09IF9zdGVwLl9pZDtcbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmICghc3BlY2lmeVN0ZXApIHtcbiAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbXCIgKyBzdGVwLm5hbWUgKyBcIl3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIik7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUgPSBmb3JtLmN1cnJlbnQuZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKTtcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiBzdGVwLmZpZWxkc19tb2RpZmlhYmxlID0gXy5pbnRlcnNlY3Rpb24oc3RlcC5maWVsZHNfbW9kaWZpYWJsZSwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlKTtcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChmb3JtLnN0YXRlID09PSAnZGlzYWJsZWQnKSB7XG4gICAgICAgICAgZGIuZm9ybXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZm9ybS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgIFwic3RhdGVcIjogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIGZsb3cuY3VycmVudC5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBmbG93LmN1cnJlbnQubW9kaWZpZWRfYnkgPSBfdXNlcklkO1xuICAgICAgICByZXR1cm4gZGIuZmxvd3MudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGZsb3cuX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBcInN0YXRlXCI6IFwiZW5hYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50XCI6IGZsb3cuY3VycmVudFxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBkYi5mbG93cy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogZmxvdy5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIFwic3RhdGVcIjogXCJkaXNhYmxlZFwiLFxuICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdyxcbiAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX2Zsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgZm9ybTogZm9ybS5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgc3RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgIF9mbG93c19zdGF0ZSA9IF9mbG93cy5nZXRQcm9wZXJ0eShcInN0YXRlXCIpO1xuICAgICAgICBpZiAoIV9mbG93c19zdGF0ZS5pbmNsdWRlcygnZW5hYmxlZCcpKSB7XG4gICAgICAgICAgcmV0dXJuIGRiLmZvcm1zLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IGZvcm0uX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICBcInN0YXRlXCI6IFwiZGlzYWJsZWRcIixcbiAgICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdyxcbiAgICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHJcblx0aGlkZV9pbnN0YW5jZTogKGluc0lkLCBpc19oaWRkZW4pIC0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0Y2hlY2soaW5zSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbilcclxuXHJcblx0XHR1c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zSWQsIHsgZmllbGRzOiB7IHN0YXRlOiAxLCBmbG93OiAxLCBzcGFjZTogMSB9IH0pXHJcblxyXG5cdFx0aWYgbm90IGluc3RhbmNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpXHJcblxyXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCAnY29tcGxldGVkJ1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKVxyXG5cclxuXHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKVxyXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKHVzZXJJZCkpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnNJZCwgeyAkc2V0OiB7IGlzX2hpZGRlbjogaXNfaGlkZGVuIH0gfSlcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBoaWRlX2luc3RhbmNlOiBmdW5jdGlvbihpbnNJZCwgaXNfaGlkZGVuKSB7XG4gICAgdmFyIGluc3RhbmNlLCBwZXJtaXNzaW9ucywgc3BhY2UsIHVzZXJJZDtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGNoZWNrKGluc0lkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGlzX2hpZGRlbiwgQm9vbGVhbik7XG4gICAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2VXCIpO1xuICAgIH1cbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeKtuaAgeS4jeaYr+W3sue7k+adn1wiKTtcbiAgICB9XG4gICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgdXNlcklkKTtcbiAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWRtaW5zOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgIH1cbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIGlzX2hpZGRlbjogaXNfaGlkZGVuXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRnZXRJbnN0YW5jZVZhbHVlczogKGluc0lkKS0+XHJcblx0XHRpZiAoIXRoaXMudXNlcklkKVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zSWR9LCB7ZmllbGRzOiB7dmFsdWVzOiAxfX0pPy52YWx1ZXMiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGdldEluc3RhbmNlVmFsdWVzOiBmdW5jdGlvbihpbnNJZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gKHJlZiA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgdmFsdWVzOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxyXG5cclxuZ2V0SW5zdGFuY2VSZWFkT25seSA9IChyZXEsIHJlcywgbmV4dCwgb3B0aW9ucykgLT5cclxuXHJcblx0dXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKVxyXG5cclxuXHRpZiByZXE/LnF1ZXJ5Py5hY2Nlc3NfdG9rZW5cclxuXHRcdHVzZXJJZCA9IFN0ZWVkb3MuZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuKHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW4pXHJcblx0XHRpZiB1c2VySWRcclxuXHRcdFx0dXNlciA9IE1ldGVvci51c2Vycy5maW5kT25lKHtfaWQ6IHVzZXJJZH0pXHJcblxyXG5cdHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlXHJcblxyXG5cdGluc3RhbmNlSWQgPSByZXEucGFyYW1zLmluc3RhbmNlX2lkXHJcblxyXG5cdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0pO1xyXG5cclxuXHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtfaWQ6IHNwYWNlSWR9KTtcclxuXHJcblx0aGlkZV90cmFjZXMgPSByZXEucXVlcnk/LmhpZGVfdHJhY2VzXHJcblxyXG5cdGlmICFvcHRpb25zXHJcblx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogdHJ1ZX1cclxuXHRlbHNlXHJcblx0XHRvcHRpb25zLnNob3dUcmFjZSA9IHRydWVcclxuXHJcblx0aWYgaGlkZV90cmFjZXMgaXMgXCIxXCJcclxuXHRcdGlmIG9wdGlvbnNcclxuXHRcdFx0b3B0aW9ucy5zaG93VHJhY2UgPSBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRvcHRpb25zID0ge3Nob3dUcmFjZTogZmFsc2V9XHJcblxyXG5cdGlmICFvcHRpb25zLnNob3dBdHRhY2htZW50c1xyXG5cdFx0b3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlXHJcblxyXG5cdGlmICFzcGFjZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgICFpbnN0YW5jZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgIXVzZXJcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlbixYLVVzZXItSWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aWYgaW5zdGFuY2Uuc3BhY2UgIT0gc3BhY2VJZFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblxyXG5cclxuXHRzcGFjZVVzZXJDb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyB1c2VyOiB1c2VyLl9pZCwgc3BhY2U6IHNwYWNlSWQgfSkuY291bnQoKVxyXG5cclxuXHRpZiBzcGFjZVVzZXJDb3VudCBpcyAwXHJcblx0XHRpZiAhc3BhY2VcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc2FwY2VVc2VyXCIsXHJcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0cmV0dXJuO1xyXG5cclxuXHQj5qCh6aqMdXNlcuaYr+WQpuWvuWluc3RhbmNl5pyJ5p+l55yL5p2D6ZmQXHJcblx0X2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSlcclxuXHJcblx0aWYgIV9oYXNQZXJtaXNzaW9uICAmJiBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VcclxuXHRcdF9wYXJlbnRfaW5zdGFuY2VzID0gXy51bmlvbihbaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlXSwgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyB8fCBbXSlcclxuXHJcblx0XHRfaGFzUGVybWlzc2lvbiA9IF8uZmluZCBfcGFyZW50X2luc3RhbmNlcywgKF9wYXJlbnRfaWQpLT5cclxuXHRcdFx0X3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOl9wYXJlbnRfaWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pXHJcblxyXG5cdFx0XHRyZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpXHJcblxyXG5cdGlmICFfaGFzUGVybWlzc2lvblxyXG5cdFx0X2xvY2FsZSA9IFN0ZWVkb3MubG9jYWxlKHVzZXIuX2lkLCB0cnVlKVxyXG5cdFx0ZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpXHJcblx0XHRyZXMuY2hhcnNldCA9IFwidXRmLThcIlxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogZXJyb3IsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHRkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcclxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxyXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtI3tkYXRhQnVmLmxlbmd0aCAtIDF9LyN7ZGF0YUJ1Zi5sZW5ndGh9XCIpXHJcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcclxuXHRyZXMuZW5kKGh0bWwpXHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seVxyXG5cclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIChyZXEsIHJlcywgbmV4dCktPlxyXG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcclxuXHRyZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JytlbmNvZGVVUkkocmVxLnBhcmFtcy5pbnN0YW5jZV9uYW1lKSk7XHJcblx0cmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJylcclxuXHJcblx0b3B0aW9ucyA9IHthYnNvbHV0ZTogdHJ1ZX1cclxuXHJcblx0cmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpXHJcbiMjI1xyXG5cdOiOt+WPlueUs+ivt+WNleWIl+ihqO+8mlxyXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcclxuICAgIHN0YXRlOiDnlLPor7fljZXnirbmgIFcclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cclxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0cmV0dXJuIDtcclxuXHJcblx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0c3BhY2VJZCA9IHJlcS5oZWFkZXJzW1wieC1zcGFjZS1pZFwiXVxyXG5cclxuXHRpZiBub3Qgc3BhY2VJZFxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1TcGFjZS1JZFwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRmbG93SWQgPSByZXEucXVlcnk/LmZsb3dJZFxyXG5cclxuXHRpZiAhZmxvd0lkXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDAsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0cXVlcnkgPSB7fVxyXG5cclxuXHRyZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpXHJcblxyXG5cdGZsb3dJZHMgPSBmbG93SWQuc3BsaXQoXCIsXCIpXHJcblxyXG5cclxuXHRmbG93cyA9IGRiLmZsb3dzLmZpbmQoe19pZDogeyRpbjogZmxvd0lkc319KS5mZXRjaCgpXHJcblxyXG5cdGkgPSAwXHJcblx0d2hpbGUgaSA8IGZsb3dzLmxlbmd0aFxyXG5cdFx0ZiA9IGZsb3dzW2ldXHJcblx0XHRzcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtzcGFjZTogZi5zcGFjZSwgdXNlcjogdXNlcl9pZH0pXHJcblx0XHRpZiAhc3BhY2VVc2VyXHJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXHJcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0ZWxzZVxyXG5cclxuXHQjXHTmmK/lkKblt6XkvZzljLrnrqHnkIblkZhcclxuXHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKVxyXG5cdFx0XHRzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcclxuXHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdCRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZldGNoKCk7XHJcblxyXG5cdFx0XHRpZiAhV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyAje2YuX2lkfVwiLFxyXG5cdFx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0XHRyZXR1cm47XHJcblx0XHRpKytcclxuXHJcblxyXG5cdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxyXG5cclxuXHRxdWVyeS5zcGFjZSA9IHNwYWNlSWRcclxuXHJcblx0aWYgcmVxLnF1ZXJ5Py5zeW5jX3Rva2VuXHJcblx0XHRzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSlcclxuXHRcdHF1ZXJ5Lm1vZGlmaWVkID0geyRndDogc3luY190b2tlbn1cclxuXHJcblx0aWYgcmVxLnF1ZXJ5Py5maW5hbF9kZWNpc2lvblxyXG5cdFx0cXVlcnkuZmluYWxfZGVjaXNpb24gPSB7JGluIDogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKX1cclxuXHRlbHNlXHJcblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl19XHJcblxyXG5cdGlmIHJlcS5xdWVyeT8uc3RhdGVcclxuXHRcdHF1ZXJ5LnN0YXRlID0geyRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKX1cclxuXHRlbHNlXHJcblx0XHRxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHJcbiNcdOacgOWkmui/lOWbnjUwMOadoeaVsOaNrlxyXG5cdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5mZXRjaCgpXHJcblx0aW5zdGFuY2VzLmZvckVhY2ggKGluc3RhbmNlKS0+XHJcblxyXG5cdFx0YXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gYXR0YWNobWVudHNcclxuXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcdFx0XHRcInN5bmNfdG9rZW5cIjogcmV0X3N5bmNfdG9rZW5cclxuXHRcdFx0XHRcImRhdGFcIjogaW5zdGFuY2VzXHJcblx0cmV0dXJuO1xyXG4iLCJ2YXIgQ29va2llcywgZ2V0SW5zdGFuY2VSZWFkT25seTtcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gZnVuY3Rpb24ocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpIHtcbiAgdmFyIF9oYXNQZXJtaXNzaW9uLCBfbG9jYWxlLCBfcGFyZW50X2luc3RhbmNlcywgZGF0YUJ1ZiwgZXJyb3IsIGhpZGVfdHJhY2VzLCBodG1sLCBpbnN0YW5jZSwgaW5zdGFuY2VJZCwgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZCwgc3BhY2VVc2VyQ291bnQsIHVzZXIsIHVzZXJJZDtcbiAgdXNlciA9IFN0ZWVkb3MuZ2V0QVBJTG9naW5Vc2VyKHJlcSwgcmVzKTtcbiAgaWYgKHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5hY2Nlc3NfdG9rZW4gOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICB1c2VySWQgPSBTdGVlZG9zLmdldFVzZXJJZEZyb21BY2Nlc3NUb2tlbihyZXEucXVlcnkuYWNjZXNzX3Rva2VuKTtcbiAgICBpZiAodXNlcklkKSB7XG4gICAgICB1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHVzZXJJZFxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBpbnN0YW5jZUlkID0gcmVxLnBhcmFtcy5pbnN0YW5jZV9pZDtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICBfaWQ6IHNwYWNlSWRcbiAgfSk7XG4gIGhpZGVfdHJhY2VzID0gKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLmhpZGVfdHJhY2VzIDogdm9pZCAwO1xuICBpZiAoIW9wdGlvbnMpIHtcbiAgICBvcHRpb25zID0ge1xuICAgICAgc2hvd1RyYWNlOiB0cnVlXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zLnNob3dUcmFjZSA9IHRydWU7XG4gIH1cbiAgaWYgKGhpZGVfdHJhY2VzID09PSBcIjFcIikge1xuICAgIGlmIChvcHRpb25zKSB7XG4gICAgICBvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICBvcHRpb25zID0ge1xuICAgICAgICBzaG93VHJhY2U6IGZhbHNlXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzKSB7XG4gICAgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPSB0cnVlO1xuICB9XG4gIGlmICghc3BhY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICghdXNlcikge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW4sWC1Vc2VyLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBpZiAoaW5zdGFuY2Uuc3BhY2UgIT09IHNwYWNlSWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc3BhY2Ugb3IgaW5zdGFuY2VcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgdXNlcjogdXNlci5faWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSkuY291bnQoKTtcbiAgaWYgKHNwYWNlVXNlckNvdW50ID09PSAwKSB7XG4gICAgaWYgKCFzcGFjZSkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIHNhcGNlVXNlclwiLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gIH1cbiAgX2hhc1Blcm1pc3Npb24gPSBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBpbnN0YW5jZSk7XG4gIGlmICghX2hhc1Blcm1pc3Npb24gJiYgaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XG4gICAgX3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKTtcbiAgICBfaGFzUGVybWlzc2lvbiA9IF8uZmluZChfcGFyZW50X2luc3RhbmNlcywgZnVuY3Rpb24oX3BhcmVudF9pZCkge1xuICAgICAgdmFyIF9wYXJlbnRfaW5zO1xuICAgICAgX3BhcmVudF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogX3BhcmVudF9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB0cmFjZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyLmhhc0luc3RhbmNlUGVybWlzc2lvbnModXNlciwgX3BhcmVudF9pbnMpO1xuICAgIH0pO1xuICB9XG4gIGlmICghX2hhc1Blcm1pc3Npb24pIHtcbiAgICBfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpO1xuICAgIGVycm9yID0gVEFQaTE4bi5fXyhcImluc3RhbmNlX3Blcm1pc3Npb25zX2Vycm9yXCIsIHt9LCBfbG9jYWxlKTtcbiAgICByZXMuY2hhcnNldCA9IFwidXRmLThcIjtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDEsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogZXJyb3IsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBodG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICBkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtcmFuZ2UnLCBcImJ5dGVzIDAtXCIgKyAoZGF0YUJ1Zi5sZW5ndGggLSAxKSArIFwiL1wiICsgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoaHRtbCk7XG59O1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWRcIiwgZ2V0SW5zdGFuY2VSZWFkT25seSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZC86aW5zdGFuY2VfbmFtZVwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgb3B0aW9ucztcbiAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcbiAgcmVzLnNldEhlYWRlcignVHJhbnNmZXItRW5jb2RpbmcnLCAnJyk7XG4gIG9wdGlvbnMgPSB7XG4gICAgYWJzb2x1dGU6IHRydWVcbiAgfTtcbiAgcmV0dXJuIGdldEluc3RhbmNlUmVhZE9ubHkocmVxLCByZXMsIG5leHQsIG9wdGlvbnMpO1xufSk7XG5cblxuLypcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXG4gICAgZmluYWxfZGVjaXNpb27vvJrlrqHmibnnu5PmnpxcbiAgICBzdGF0ZTog55Sz6K+35Y2V54q25oCBXG4gKi9cblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZiwgZmxvd0lkLCBmbG93SWRzLCBmbG93cywgaSwgaW5zdGFuY2VzLCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZXRfc3luY190b2tlbiwgc3BhY2VJZCwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzeW5jX3Rva2VuLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHNwYWNlSWQgPSByZXEuaGVhZGVyc1tcIngtc3BhY2UtaWRcIl07XG4gIGlmICghc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3dJZCA6IHZvaWQgMDtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiA0MDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgZmxvd0lkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybjtcbiAgfVxuICBxdWVyeSA9IHt9O1xuICByZXRfc3luY190b2tlbiA9IG5ldyBEYXRlKCkuZ2V0VGltZSgpO1xuICBmbG93SWRzID0gZmxvd0lkLnNwbGl0KFwiLFwiKTtcbiAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd0lkc1xuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgaSA9IDA7XG4gIHdoaWxlIChpIDwgZmxvd3MubGVuZ3RoKSB7XG4gICAgZiA9IGZsb3dzW2ldO1xuICAgIHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IGYuc3BhY2UsXG4gICAgICB1c2VyOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgaWYgKCFzcGFjZVVzZXIpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogNDAxLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybjtcbiAgICB9IGVsc2Uge1xuXG4gICAgfVxuICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oc3BhY2VJZCwgdXNlcl9pZCkpIHtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlVXNlci5vcmdhbml6YXRpb25zXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBpZiAoIVdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpKSB7XG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvbiwgZmxvdyBpcyBcIiArIGYuX2lkLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBpKys7XG4gIH1cbiAgcXVlcnkuZmxvdyA9IHtcbiAgICAkaW46IGZsb3dJZHNcbiAgfTtcbiAgcXVlcnkuc3BhY2UgPSBzcGFjZUlkO1xuICBpZiAoKHJlZjEgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxLnN5bmNfdG9rZW4gOiB2b2lkIDApIHtcbiAgICBzeW5jX3Rva2VuID0gbmV3IERhdGUoTnVtYmVyKHJlcS5xdWVyeS5zeW5jX3Rva2VuKSk7XG4gICAgcXVlcnkubW9kaWZpZWQgPSB7XG4gICAgICAkZ3Q6IHN5bmNfdG9rZW5cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuZmluYWxfZGVjaXNpb24gOiB2b2lkIDApIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LmZpbmFsX2RlY2lzaW9uLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuZmluYWxfZGVjaXNpb24gPSB7XG4gICAgICAkbmluOiBbXCJ0ZXJtaW5hdGVkXCIsIFwicmVqZWN0ZWRcIl1cbiAgICB9O1xuICB9XG4gIGlmICgocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc3RhdGUgOiB2b2lkIDApIHtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogcmVxLnF1ZXJ5LnN0YXRlLnNwbGl0KFwiLFwiKVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICB9XG4gIGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBpbmJveF91ZXJzOiAwLFxuICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICB0cmFjZXM6IDAsXG4gICAgICBhdHRhY2htZW50czogMFxuICAgIH0sXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogNTAwXG4gIH0pLmZldGNoKCk7XG4gIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGF0dGFjaG1lbnRzO1xuICAgIGF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGF0dGFjaG1lbnRzO1xuICB9KTtcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICAgIFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlbixcbiAgICAgIFwiZGF0YVwiOiBpbnN0YW5jZXNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJcclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvc3RlZWRvcy1jc3NcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XHJcblxyXG5cdGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpXHJcblxyXG5cdGFsbENzc0xpbmsgPSBcIlwiXHJcblxyXG5cdGFsbENzcy5mb3JFYWNoIChjc3MpIC0+XHJcblx0XHRpZiBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYXHJcblx0XHRcdHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMXHJcblx0XHRcdGlmIHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpXHJcblx0XHRcdFx0Y3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYICsgXCIvXCIsIFwiXCIpICsgY3NzLnVybFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0Y3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYLCBcIlwiKSArIGNzcy51cmxcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKVxyXG5cdFx0YWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKCN7Y3NzSHJlZn0pO1wiXHJcblxyXG5cdHJlcy5zdGF0dXNDb2RlID0gMjAwXHJcblx0cmVzLmVuZChhbGxDc3NMaW5rKSIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3N0ZWVkb3MtY3NzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhbGxDc3MsIGFsbENzc0xpbms7XG4gIGFsbENzcyA9IFdlYkFwcC5nZXRSZWZyZXNoYWJsZUFzc2V0cygpO1xuICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgYWxsQ3NzLmZvckVhY2goZnVuY3Rpb24oY3NzKSB7XG4gICAgdmFyIGNzc0hyZWYsIHJvb3RVcmw7XG4gICAgaWYgKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgpIHtcbiAgICAgIHJvb3RVcmwgPSBfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMO1xuICAgICAgaWYgKHJvb3RVcmwuZW5kc1dpdGgoXCIvXCIpKSB7XG4gICAgICAgIGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCArIFwiL1wiLCBcIlwiKSArIGNzcy51cmw7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgsIFwiXCIpICsgY3NzLnVybDtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgY3NzSHJlZiA9IE1ldGVvci5hYnNvbHV0ZVVybChjc3MudXJsKTtcbiAgICB9XG4gICAgcmV0dXJuIGFsbENzc0xpbmsgKz0gXCJAaW1wb3J0IHVybChcIiArIGNzc0hyZWYgKyBcIik7XCI7XG4gIH0pO1xuICByZXMuc3RhdHVzQ29kZSA9IDIwMDtcbiAgcmV0dXJuIHJlcy5lbmQoYWxsQ3NzTGluayk7XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9kcmFmdC86Zmxvd1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdHJldHVyblxyXG5cclxuXHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxyXG5cclxuXHRzcGFjZUlkID0gcmVxLnBhcmFtcy5zcGFjZVxyXG5cclxuXHRmbG93SWQgPSByZXEucGFyYW1zLmZsb3dcclxuXHJcblx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VJZCB9KVxyXG5cclxuXHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEsICdjdXJyZW50Ll9pZCc6IDEsIGZvcm06IDEgfSB9KVxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdy5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxyXG5cclxuXHRvcHRpb25zID0ge1xyXG5cdFx0c2hvd1RyYWNlOiBmYWxzZSxcclxuXHRcdHNob3dBdHRhY2htZW50czogZmFsc2UsXHJcblx0XHR0ZW1wbGF0ZU5hbWU6IFwiZGVmYXVsdFwiLFxyXG5cdFx0ZWRpdGFibGU6IHRydWUsXHJcblx0XHR3aWR0aDogXCIxMDAlXCIsXHJcblx0XHRpbnN0YW5jZV9zdHlsZTogXCJpbnN0YW5jZS1kZWZhdWx0XCIsXHJcblx0XHRwbHVnaW5zOiBcIlwiXCJcclxuXHJcblx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJYLVVBLUNvbXBhdGlibGVcIiBjb250ZW50PVwiSUU9ZWRnZSxjaHJvbWU9MVwiIC8+XHJcblx0XHRcdDxtZXRhIG5hbWU9XCJmb3JtYXQtZGV0ZWN0aW9uXCIgY29udGVudD1cInRlbGVwaG9uZT1ub1wiPlxyXG5cdFx0XHQ8bWV0YSBodHRwLWVxdWl2PVwieC1yaW0tYXV0by1tYXRjaFwiIGNvbnRlbnQ9XCJub25lXCI+XHJcblx0XHRcdDx0aXRsZT4je2Zsb3cubmFtZX08L3RpdGxlPlxyXG5cdFx0XHQ8bWV0YSBjb250ZW50PSd3aWR0aD1kZXZpY2Utd2lkdGgsIGluaXRpYWwtc2NhbGU9MS4wLCBtYXhpbXVtLXNjYWxlPTEuMCwgdXNlci1zY2FsYWJsZT0wJyBuYW1lPSd2aWV3cG9ydCcgLz5cclxuXHRcdFx0PG1ldGEgbmFtZT1cInZpZXdwb3J0XCIgY29udGVudD1cIndpZHRoPWRldmljZS13aWR0aFwiIC8+XHJcblxyXG5cdFx0XHQ8bGluayByZWw9XCJzdHlsZXNoZWV0XCIgdHlwZT1cInRleHQvY3NzXCIgaHJlZj1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9jc3MvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5jc3NcIj5cclxuXHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblxyXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIiBjaGFyc2V0PVwiVVRGLThcIj48L3NjcmlwdD5cclxuXHJcblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uY3NzXCI+XHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL2pzL3dvcmtmbG93X2NsaWVudC5jc3NcIj5cclxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvanMvd29ya2Zsb3dfY2xpZW50LmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XCJcIlwiXHJcblx0fVxyXG5cclxuXHRpbnN0YW5jZSA9IHtcclxuXHRcdGZsb3c6IGZsb3cuX2lkLFxyXG5cdFx0Zmxvd192ZXJzaW9uOiBmbG93LmN1cnJlbnQuX2lkLFxyXG5cdFx0Zm9ybTogZm9ybS5faWQsXHJcblx0XHRmb3JtX3ZlcnNpb246IGZvcm0uY3VycmVudC5faWQsXHJcblx0XHR2YWx1ZXM6IHt9LFxyXG5cdFx0bmFtZTogZmxvdy5uYW1lLFxyXG5cdFx0c3BhY2U6IHNwYWNlSWRcclxuXHR9XHJcblxyXG5cdGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHJcblx0ZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbClcclxuXHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1sZW5ndGgnLCBkYXRhQnVmLmxlbmd0aClcclxuXHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC0je2RhdGFCdWYubGVuZ3RoIC0gMX0vI3tkYXRhQnVmLmxlbmd0aH1cIilcclxuXHJcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcclxuXHJcblx0cmVzLmVuZChodG1sKVxyXG4iLCJKc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvZHJhZnQvOmZsb3dcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGRhdGFCdWYsIGZsb3csIGZsb3dJZCwgZm9ybSwgaHRtbCwgaW5zdGFuY2UsIG9wdGlvbnMsIHNwYWNlLCBzcGFjZUlkLCB1c2VyLCB1c2VyX2lkO1xuICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICBfaWQ6IHVzZXJfaWRcbiAgfSk7XG4gIHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlO1xuICBmbG93SWQgPSByZXEucGFyYW1zLmZsb3c7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvd0lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICAnY3VycmVudC5faWQnOiAxLFxuICAgICAgZm9ybTogMVxuICAgIH1cbiAgfSk7XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICBfaWQ6IGZsb3cuZm9ybVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgfVxuICB9KTtcbiAgb3B0aW9ucyA9IHtcbiAgICBzaG93VHJhY2U6IGZhbHNlLFxuICAgIHNob3dBdHRhY2htZW50czogZmFsc2UsXG4gICAgdGVtcGxhdGVOYW1lOiBcImRlZmF1bHRcIixcbiAgICBlZGl0YWJsZTogdHJ1ZSxcbiAgICB3aWR0aDogXCIxMDAlXCIsXG4gICAgaW5zdGFuY2Vfc3R5bGU6IFwiaW5zdGFuY2UtZGVmYXVsdFwiLFxuICAgIHBsdWdpbnM6IFwiXFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwiWC1VQS1Db21wYXRpYmxlXFxcIiBjb250ZW50PVxcXCJJRT1lZGdlLGNocm9tZT0xXFxcIiAvPlxcbjxtZXRhIG5hbWU9XFxcImZvcm1hdC1kZXRlY3Rpb25cXFwiIGNvbnRlbnQ9XFxcInRlbGVwaG9uZT1ub1xcXCI+XFxuPG1ldGEgaHR0cC1lcXVpdj1cXFwieC1yaW0tYXV0by1tYXRjaFxcXCIgY29udGVudD1cXFwibm9uZVxcXCI+XFxuPHRpdGxlPlwiICsgZmxvdy5uYW1lICsgXCI8L3RpdGxlPlxcbjxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxcbjxtZXRhIG5hbWU9XFxcInZpZXdwb3J0XFxcIiBjb250ZW50PVxcXCJ3aWR0aD1kZXZpY2Utd2lkdGhcXFwiIC8+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1xcXCI+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcblxcbjxzY3JpcHQgc3JjPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvbG9jYWxlcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIuemgtQ04uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCIgY2hhcnNldD1cXFwiVVRGLThcXFwiPjwvc2NyaXB0PlxcblxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmNzc1xcXCI+XFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL3RvYXN0ci90b2FzdHIubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlxcbjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGhyZWY9XFxcIi9qcy93b3JrZmxvd19jbGllbnQuY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIj48L3NjcmlwdD5cIlxuICB9O1xuICBpbnN0YW5jZSA9IHtcbiAgICBmbG93OiBmbG93Ll9pZCxcbiAgICBmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXG4gICAgZm9ybTogZm9ybS5faWQsXG4gICAgZm9ybV92ZXJzaW9uOiBmb3JtLmN1cnJlbnQuX2lkLFxuICAgIHZhbHVlczoge30sXG4gICAgbmFtZTogZmxvdy5uYW1lLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn0pO1xuIiwiQXJyYXkucHJvdG90eXBlLmZpbHRlclByb3BlcnR5ID0gZnVuY3Rpb24oaCwgbCl7XHJcbiAgICB2YXIgZyA9IFtdO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xyXG4gICAgICAgIHZhciBtID0gdD8gdFtoXTpudWxsO1xyXG4gICAgICAgIHZhciBkID0gZmFsc2U7XHJcbiAgICAgICAgaWYobSBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICAgICAgZCA9IG0uaW5jbHVkZXMobCk7XHJcbiAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgIGQgPSAobCA9PT0gdW5kZWZpbmVkKT8gZmFsc2U6bT09bDtcclxuICAgICAgICB9XHJcbiAgICAgICAgaWYoZCl7XHJcbiAgICAgICAgICAgIGcucHVzaCh0KTtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBnO1xyXG59O1xyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldFByb3BlcnR5ID0gZnVuY3Rpb24oayl7XHJcbiAgICB2YXIgdiA9IG5ldyBBcnJheSgpO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKHQpe1xyXG4gICAgICAgIHZhciBtID0gdD8gdFtrXTpudWxsO1xyXG4gICAgICAgIHYucHVzaChtKTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHY7XHJcbn1cclxuXHJcbkFycmF5LnByb3RvdHlwZS5nZXRFYWNoID0gZnVuY3Rpb24oY29kZSl7XHJcbiAgICB2YXIgcmV2ID0gW107XHJcbiAgICBmb3IodmFyIGkgPSAwIDsgaSA8IHRoaXMubGVuZ3RoIDsgaSsrKXtcclxuICAgICAgICByZXYucHVzaCh0aGlzW2ldW2NvZGVdKTtcclxuICAgIH1cclxuICAgIHJldHVybiByZXY7XHJcbn07XHJcblxyXG5BcnJheS5wcm90b3R5cGUudW5pcSA9IGZ1bmN0aW9uKCl7XHJcbiAgICB2YXIgYSA9IFtdO1xyXG4gICAgdGhpcy5mb3JFYWNoKGZ1bmN0aW9uKGIpeyBcclxuICAgICAgICBpZihhLmluZGV4T2YoYikgPCAwKVxyXG4gICAgICAgICAgICB7YVthLmxlbmd0aF0gPSBifVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gYTtcclxufTtcclxuXHJcbkZvcm1fZm9ybXVsYSA9IHt9O1xyXG5cclxuXHJcbkZvcm1fZm9ybXVsYS5taXhpbiA9IGZ1bmN0aW9uKGRlc3QsIHNyYyl7XHJcbiAgICBmb3IodmFyIGtleSBpbiBzcmMpe1xyXG4gICAgICAgIGRlc3Rba2V5XSA9IHNyY1trZXldO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIGRlc3Q7XHJcbn07XHJcblxyXG5cclxuRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QgPSBmdW5jdGlvbih1KXtcclxuXHJcbiAgICBpZih1IGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgIHZhciB1c2VyID0ge307XHJcblxyXG4gICAgICAgIHVzZXIubmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJuYW1lXCIpXHJcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24gPSB7fTtcclxuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm9yZ2FuaXphdGlvblwiKS5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XHJcbiAgICAgICAgdXNlci5vcmdhbml6YXRpb24uZnVsbG5hbWUgPSB1LmdldFByb3BlcnR5KFwib3JnYW5pemF0aW9uXCIpLmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIik7XHJcblxyXG4gICAgICAgIHVzZXIuaHIgPSB1LmdldFByb3BlcnR5KFwiaHJcIilcclxuXHJcbiAgICAgICAgdXNlci5zb3J0X25vID0gdS5nZXRQcm9wZXJ0eShcInNvcnRfbm9cIilcclxuXHJcblx0XHR1c2VyLm1vYmlsZSA9IHUuZ2V0UHJvcGVydHkoXCJtb2JpbGVcIilcclxuXHJcblx0XHR1c2VyLndvcmtfcGhvbmUgPSB1LmdldFByb3BlcnR5KFwid29ya19waG9uZVwiKVxyXG5cclxuXHRcdHVzZXIucG9zaXRpb24gPSB1LmdldFByb3BlcnR5KFwicG9zaXRpb25cIilcclxuXHJcbiAgICAgICAgdmFyIHVzZXJSb2xlcyA9IHUuZ2V0UHJvcGVydHkoXCJyb2xlc1wiKTtcclxuICAgICAgICB2YXIgcm9sZXMgPSBuZXcgQXJyYXkoKTtcclxuICAgICAgICB1c2VyUm9sZXMuZm9yRWFjaChmdW5jdGlvbihpKXtcclxuICAgICAgICAgICAgcm9sZXMgPSByb2xlcy5jb25jYXQoaSk7XHJcbiAgICAgICAgfSk7IFxyXG4gICAgICAgIHJvbGVzLnVuaXEoKTtcclxuICAgICAgICB1c2VyLnJvbGVzID0gcm9sZXM7XHJcbiAgICAgICAgcmV0dXJuIHVzZXI7XHJcbiAgICB9ZWxzZXtcclxuICAgICAgICByZXR1cm4gdTtcclxuICAgIH1cclxufVxyXG5cclxuRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdCA9IGZ1bmN0aW9uKG8pe1xyXG5cclxuICAgIGlmKG8gaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgdmFyIG9yZyA9IHt9O1xyXG5cdFx0b3JnLmlkID0gby5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcclxuICAgICAgICBvcmcubmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpO1xyXG4gICAgICAgIG9yZy5mdWxsbmFtZSA9IG8uZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcclxuXHJcbiAgICAgICAgcmV0dXJuIG9yZztcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiBvO1xyXG4gICAgfVxyXG59XHJcblxyXG5cclxuXHJcbi8qKlxyXG4gICAgKiDojrflvpflhazlvI/pnIDopoHnlKjliLDnmoTliJ3lp4vlgLxcclxuICAgICog6L6T5YWl77yaZmllbGRzLCB2YWx1ZXMsIGFwcGxpY2FudFxyXG4gICAgKiDovpPlh7rvvJpfX3ZhbHVlc1xyXG4qKi9cclxuRm9ybV9mb3JtdWxhLmluaXRfZm9ybXVsYV92YWx1ZXMgPSBmdW5jdGlvbihmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKXtcclxuICAgIHZhciBfX3ZhbHVlcyA9IHt9O1xyXG4gICAgLy/nlLPor7fljZXkuK3loavnmoTlgLzlpITnkIZcclxuICAgIGlmKGZpZWxkcyAmJiBmaWVsZHMubGVuZ3RoICYmIGF1dG9Gb3JtRG9jKSB7XHJcbiAgICAgICAgLy9kZWJ1Z2dlcjtcclxuICAgICAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmaWVsZCl7XHJcbiAgICAgICAgICAgIHZhciB0eXBlID0gZmllbGQudHlwZTtcclxuICAgICAgICAgICAgaWYodHlwZSkge1xyXG4gICAgICAgICAgICAgICAgaWYodHlwZSA9PT0gJ3RhYmxlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIC8qXHJcbiAgICAgICAgICAgICAgICAgICAgKiDlsIbooajmoLzlrZfmrrXnmoTlgLzov5vooYzovazmjaLlkI7kvKDlhaVfX3ZhbHVlc+S4rVxyXG4gICAgICAgICAgICAgICAgICAgICogdmFsdWVz5Lit6KGo5qC855qE5YC85qC85byP5Li6XHJcbiAgICAgICAgICAgICAgICAgICAgKiBbe1wiYVwiOjEsXCJiXCI6NH0se1wiYVwiOjIsXCJiXCI6NX0se1wiYVwiOjMsXCJiXCI6Nn1dXHJcbiAgICAgICAgICAgICAgICAgICAgKiBfX3ZhbHVlc+mcgOimgei9rOWMluS4uuS4i+mdouagvOW8j+S4lOWSjOS4u+ihqOeahOWAvOS4gOagt+aUvuWIsOesrOS4gOWxglxyXG4gICAgICAgICAgICAgICAgICAgICoge1wiYVwiOlsxLDIsM10sXCJiXCI6WzQsNSw2XX1cclxuICAgICAgICAgICAgICAgICAgICAqKi9cclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGFibGVGaWVsZHMgPSBmaWVsZC5zZmllbGRzLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB0YWJsZVZhbHVlcyA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMgPSBbXSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgX190YWJsZVZhbHVlcyA9IHt9O1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5oyJ5YWs5byP55qE5qC85byP6L2s5o2i5YC85Li6X190YWJsZVZhbHVlc1xyXG4gICAgICAgICAgICAgICAgICAgIGlmKHRhYmxlRmllbGRzICYmIHRhYmxlRmllbGRzLmxlbmd0aCAmJiB0YWJsZVZhbHVlcyAmJiB0YWJsZVZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzLmZvckVhY2goZnVuY3Rpb24odGFibGVWYWx1ZSl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3JtdWxhVGFibGVWYWx1ZXMucHVzaChGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyh0YWJsZUZpZWxkcywgdGFibGVWYWx1ZSkpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9LCB0aGlzKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgLy/mjInkuLvooajnmoTmoLzlvI/ovazmjaJfX3RhYmxlVmFsdWVz5Yqg5YiwXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlRmllbGRzLmZvckVhY2goZnVuY3Rpb24odGFibGVmaWVsZCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzW3RhYmxlZmllbGQuY29kZV0gPSBmb3JtdWxhVGFibGVWYWx1ZXMuZ2V0RWFjaCh0YWJsZWZpZWxkLmNvZGUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgX192YWx1ZXMgPSBGb3JtX2Zvcm11bGEubWl4aW4oX192YWx1ZXMsIF9fdGFibGVWYWx1ZXMpO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAndXNlcicpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlclVzZXJPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSkpO1xyXG5cclxuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAodHlwZSA9PSAnZ3JvdXAnKXtcclxuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IEZvcm1fZm9ybXVsYS5oYW5kZXJPcmdPYmplY3QoV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdvZGF0YScpe1xyXG5cdFx0XHRcdFx0X192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXSB8fCB7fVxyXG5cclxuXHRcdFx0XHR9IGVsc2Uge1xyXG4gICAgICAgICAgICAgICAgICAgIC8v5q2k5aSE5Lygc3BhY2VJZOe7memAieS6uuaOp+S7tueahOaXp+aVsOaNruiuoeeul3JvbGVz5ZKMb3JnYW5pemF0aW9uXHJcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBhdXRvRm9ybURvY1tmaWVsZC5jb2RlXTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sIHRoaXMpO1xyXG4gICAgfVxyXG4gICAgLy/lvZPliY3lpITnkIbkurpcclxuICAgIF9fdmFsdWVzW1wiYXBwcm92ZXJcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwcm92ZXIpO1xyXG4gICAgLy/nlLPor7fkurpcclxuICAgIF9fdmFsdWVzW1wiYXBwbGljYW50XCJdID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0KHNwYWNlSWQsIGFwcGxpY2FudCk7XHJcblxyXG4gICAgcmV0dXJuIF9fdmFsdWVzO1xyXG59O1xyXG5cclxuIiwiZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge31cclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9ICh1c2VyX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XHJcblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaCh1c2VyX2lkcywgKHVzZXJfaWQpLT5cclxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoe19pZDogdXNlcl9pZH0pLmNvdW50KCkgPiAwXHJcblx0XHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXModXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKVxyXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdFx0YXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInVzZXJfaWTkuI3lkIjms5XkuI3lkIjms5VcIilcclxuXHQpXHJcblx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxyXG5cdHJldHVybiBhcHByb3ZlX3VzZXJzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyA9ICh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChyb2xlX2lkcywgKHJvbGVfaWQpLT5cclxuXHRcdGlmIGRiLmZsb3dfcm9sZXMuZmluZCh7X2lkOiByb2xlX2lkfSkuY291bnQoKSA+IDBcclxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxyXG5cdFx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwicm9sZV9pZOW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdClcclxuXHRpZiB1c2VyX2lkcy5sZW5ndGggPiAwXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdHJldHVybiB1c2VyX2lkc1xyXG5cdGVsc2VcclxuXHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSAtPlxyXG5cdG9yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pLmZldGNoKClcclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdF8uZWFjaChvcmdzLCAob3JnKSAtPlxyXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXHJcblx0XHRpZiB1c2Vycy5sZW5ndGggPiAwXHJcblx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKVxyXG5cdClcclxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRyZXR1cm4gdXNlcl9pZHNcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzID0gKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpLT5cclxuXHRcdHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZClcclxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0KVxyXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdHJldHVybiB1c2VyX2lkc1xyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IChvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKHJvbGVfaWRzLCAocm9sZV9pZCktPlxyXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcclxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0KVxyXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHVzZXJfaWRzXHJcblx0ZWxzZVxyXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKVxyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XHJcblx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgcGFyZW50czogMSB9IH0pXHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBvcmc6IG9yZ19pZCwgcm9sZTogcm9sZV9pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRfLmVhY2gocG9zaXRpb25zLCAocG9zaXRpb24pIC0+XHJcblx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2VycylcclxuXHQpXHJcblx0aWYgdXNlcl9pZHMubGVuZ3RoIGlzIDBcclxuXHRcdHBhcmVudHMgPSBvcmcucGFyZW50c1xyXG5cdFx0Xy5lYWNoKHBhcmVudHMsIChwYXJlbnRfaWQpIC0+XHJcblx0XHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIG9yZzogcGFyZW50X2lkLCByb2xlOiByb2xlX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRpZiBwb3NpdGlvbnMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cclxuXHRcdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxyXG5cdFx0XHRcdClcclxuXHRcdClcclxuXHJcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0cmV0dXJuIHVzZXJfaWRzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMgPSAoaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIC0+XHJcblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcclxuXHJcblx0IyDmi5/nqL/ml7YsIOWPr+S7peiuvuWumuWQjue7reavj+S4quatpemqpOeahOWkhOeQhuS6uiAjMTkyNlxyXG5cdGlmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cclxuXHRcdHJldHVybiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF1cclxuXHJcblx0YXBwcm92ZV91c2VycyA9IG5ldyBBcnJheVxyXG5cdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRmbG93X2lkID0gaW5zdGFuY2UuZmxvd1xyXG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0Y3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKVxyXG5cdGN1cnJlbnRfc3RlcCA9IG51bGxcclxuXHRjdXJyZW50X3N0ZXBzID0gbmV3IEFycmF5XHJcblxyXG5cdGlmIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzXHJcblx0ZWxzZVxyXG5cdFx0Y3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChoaXN0b3J5KSAtPlxyXG5cdFx0XHRyZXR1cm4gaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdClcclxuXHRcdGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzXHJcblxyXG5cdCMg5LuO6I635Y+W55qEc3RlcHPkuK3moLnmja46c3RlcF9pZOaPkOWPluWvueW6lOeahHN0ZXDlr7nosaFcclxuXHRjdXJyZW50X3N0ZXAgPSBfLmZpbmQoY3VycmVudF9zdGVwcywgKHN0ZXApIC0+XHJcblx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxyXG5cdClcclxuXHQjIOWIpOaWrXN0ZXBfdHlwZVxyXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb25kaXRpb25cIlxyXG5cdFx0dW5maW5pc2hlZF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cclxuXHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpXHJcblxyXG5cdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXMgXCJzdGFydFwiXHJcblx0XHRoYW5kbGVycyA9IG5ldyBBcnJheVxyXG5cdFx0aGFuZGxlcnMucHVzaChpbnN0YW5jZS5hcHBsaWNhbnQpXHJcblx0XHRoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcilcclxuXHRcdGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKVxyXG5cdFx0cmV0dXJuIGhhbmRsZXJzXHJcblx0IyDlvpfliLBzdGVw55qEXCJkZWFsX3R5cGVcIu+8jOW5tui/m+ihjOmAu+i+keWIpOaWreaJvuWIsOWvueW6lOeahOWkhOeQhuS6ulxyXG5cdGRlYWxfdHlwZSA9IGN1cnJlbnRfc3RlcC5kZWFsX3R5cGVcclxuXHR1c2VycyA9IG5ldyBBcnJheVxyXG5cdGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFJvbGVcIlxyXG5cdFx0IyAxLioqKioqKioqKioq55Sz6K+35Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudFxyXG5cdFx0aWYgYXBwbGljYW50XHJcblx0XHRcdHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzcGFjZV91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXHJcblxyXG5cdFx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKGFwcGxpY2FudCwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJoclJvbGVcIlxyXG5cdFx0YXBwcm92ZUhyUm9sZUlkcyA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9ocl9yb2xlcztcclxuXHRcdGlmIChhcHByb3ZlSHJSb2xlSWRzKVxyXG5cdFx0XHRyZXR1cm4gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFwiXHJcblx0XHQjIDIuKioqKioqKioqKirnlLPor7fkuroqKioqKioqKioqKlxyXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XHJcblx0XHRzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50IH0pLmNvdW50KClcclxuXHRcdGlmIHNwYWNlX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwib3JnRmllbGRSb2xlXCJcclxuXHRcdCMgMy4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxyXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXHJcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxyXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXHJcblxyXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5VcclxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxyXG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXHJcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgYW5kIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwXHJcblx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdClcclxuXHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3Jnc0FuZFJvbGVzKG9yZ19pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFwiXHJcblx0XHQjIDQuKioqKioqKioqKirpg6jpl6jlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTkurrlkZgqKioqKioqKioqKlxyXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXHJcblx0XHRmb3JtX3JldiA9IG51bGxcclxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdClcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxyXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxyXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcclxuXHRcdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRcdFx0ZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZVxyXG5cdFx0KVxyXG5cclxuXHRcdCMg5Y+W5b6X5pyA5paw55qEdmFsdWVzXHJcblx0XHRuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKVxyXG5cclxuXHRcdG9yZ19pZHMgPSBuZXcgQXJyYXlcclxuXHRcdG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXlcclxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMb3JnX2lk5pWw57uE5Litb3JnX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHRfLmVhY2gob3JnX2lkc19uYW1lcywgKG9yZykgLT5cclxuXHRcdFx0Y2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBvcmdbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX29yZ19jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKVxyXG5cdFx0XHRvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0IyDmoKHpqoxvcmfkuIvlrZjlnKjlpITnkIbkurpcclxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cclxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHsgX2lkOiBvcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KVxyXG5cdFx0XHRvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHBhcmVudHM6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pLmZldGNoKClcclxuXHRcdFx0b3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKVxyXG5cdFx0XHRjaGVja19vcmdzID0gb3JnX2NoaWxkcmVuXHJcblx0XHRcdG9yZ191c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRfLmVhY2goY2hlY2tfb3JncywgKGNoZWNrX29yZ191c2VyKSAtPlxyXG5cdFx0XHRcdGlmIGNoZWNrX29yZ191c2VyLnVzZXJzXHJcblx0XHRcdFx0XHRfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIChvcmdfdXNlcikgLT5cclxuXHRcdFx0XHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXIgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIilcclxuXHRcdFx0XHRcdClcclxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2VycylcclxuXHRcdFx0XHRvcmdfdXNlcnMgPSBvcmdfdXNlcnMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHRpZiBvcmdfdXNlcnMubGVuZ3RoIGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIilcclxuXHJcblx0XHQpXHJcblxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInVzZXJGaWVsZFJvbGVcIlxyXG5cdFx0IyA1LioqKioqKioqKioq5Lq65ZGY5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxyXG5cdFx0Zm9ybV9yZXYgPSBudWxsXHJcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHQpXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcclxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcclxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XHJcblx0XHRcdClcclxuXHJcblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpIC0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4RcclxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XHJcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5VcclxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxyXG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxyXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0KVxyXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkXCJcclxuXHRcdCMgNi4qKioqKioqKioqKuihqOWNleS6uuWRmOWtl+autSoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkXHJcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcclxuXHRcdGZpZWxkX2NvZGUgPSBudWxsXHJcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKS0+XHJcblx0XHRcdGlmIGZvcm1fZmllbGQuX2lkIGlzIGFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblxyXG5cdFx0IyDojrflj5Z1c2VyX2lk5pWw57uEXHJcblx0XHR1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcclxuXHJcblx0XHQjIOagoemqjHVzZXJfaWTmlbDnu4TkuK11c2VyX2lk5piv5ZCm5ZCI5rOVXHJcblx0XHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKHVzZXJfaWRzX25hbWVzLCAodXNlcikgLT5cclxuXHRcdFx0Y2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHVzZXJbXCJpZFwiXSB9KS5jb3VudCgpXHJcblx0XHRcdGlmIGNoZWNrX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIilcclxuXHRcdFx0dXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pXHJcblx0XHQpXHJcblxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlTdGVwUm9sZVwiXHJcblx0XHQjIDcuKioqKioqKioqKirmjIflrprmraXpqqTlpITnkIblrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0YXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwXHJcblx0XHRmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSkgLT5cclxuXHRcdFx0aWYgdHJhY2Uuc3RlcCBpcyBhcHByb3Zlcl9zdGVwXHJcblx0XHRcdFx0ZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpXHJcblx0XHQpXHJcblx0XHQjIOagueaNrnN0YXJ0X2RhdGXlj5bmnIDmlrDnmoR0cmFjZVxyXG5cdFx0bWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgKHQpIC0+XHJcblx0XHRcdHJldHVybiB0LnN0YXJ0X2RhdGVcclxuXHRcdClcclxuXHJcblx0XHRhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIilcclxuXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXNcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXHJcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlcikgLT5cclxuXHRcdFx0aWYgZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyhhcHByb3ZlX3VzZXJzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBVc2VyXCJcclxuXHRcdCMgOC4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuS6uioqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcclxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxyXG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcclxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcclxuXHRcdClcclxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXHJcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cclxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxyXG5cdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxyXG5cclxuXHRcdCMg6aqM6K+B5p+l5Yiw55qEdXNlcuaYr+WQpumDveWQiOazlVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVfdXNlcnMsIChhcHByb3ZlX3VzZXIpLT5cclxuXHRcdFx0Y2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZV91c2VyIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKVxyXG5cdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2VycylcclxuXHRcdHJldHVybiBhcHByb3ZlX3VzZXJzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJSb2xlXCJcclxuXHRcdCMgOS4qKioqKioqKioqKuWhq+WNleS6uuaJgOWxnue7hOe7h+S4reeahOWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcclxuXHRcdGlmIG5vdCBzdWJtaXR0ZXJcclxuXHRcdFx0IyDliKTmlq3mj5DkuqTkurrmmK/lkKblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzdWJtaXR0ZXJfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIilcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdCMg5qOA5p+lYXBwcm92ZXJfcm9sZXPkuK1yb2xl5piv5ZCm5LiN5a2Y5Zyo5oiW5bey57uP6KKr5Yig6ZmkXHJcblx0XHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0XHRcdGlmIHJvbGVfY291bnQgaXMgMFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdFx0cmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZClcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3VibWl0dGVyXCJcclxuXHRcdCMgMTAuKioqKioqKioqKirmj5DkuqTkuroqKioqKioqKioqKlxyXG5cdFx0c3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyXHJcblx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxyXG5cdFx0c3VibWl0dGVyX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBzdWJtaXR0ZXIgfSkuY291bnQoKVxyXG5cdFx0aWYgc3VibWl0dGVyX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlPcmdcIlxyXG5cdFx0IyAxMS4qKioqKioqKioqKuafkOmDqOmXqOWGheeahOaJgOacieS6uioqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3NcclxuXHRcdGlmIG5vdCBhcHByb3Zlcl9vcmdfaWRzIG9yIGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrlrprkuYnnlKjkuo7mn6Xmib7kuIvkuIDmraXlpITnkIbkurrnmoTpg6jpl6jvvIzor7fogZTns7vnrqHnkIblkZjosIPmn6XmtYHnqIvlm77nmoTphY3nva7mmK/lkKbmraPnoa5cIilcclxuXHJcblx0XHQjIOmqjOivgeaJgOaMh+WumueahG9yZ2FuaXphdGlvbl9pZOmDveWtmOWcqFxyXG5cdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVyX29yZ19pZHMsIChhcHByb3Zlcl9vcmdfaWQpIC0+XHJcblx0XHRcdGlmIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogYXBwcm92ZXJfb3JnX2lkIH0pLmNvdW50KCkgPiAwXHJcblx0XHRcdFx0dmFsaWRfYXBwcm92ZXJfb3JnX2lkcy51bnNoaWZ0KGFwcHJvdmVyX29yZ19pZClcclxuXHRcdClcclxuXHJcblx0XHRvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCh2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLCAodmFsaWRfYXBwcm92ZXJfb3JnX2lkKSAtPlxyXG5cdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IHZhbGlkX2FwcHJvdmVyX29yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXHJcblx0XHRcdGlmIHZhbGlkX2FwcHJvdmVyX29yZy51c2Vyc1xyXG5cdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKVxyXG5cclxuXHRcdFx0Y2hpbGRfb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRfLmVhY2goY2hpbGRfb3JncywgKGNoaWxkX29yZykgLT5cclxuXHRcdFx0XHRpZiBjaGlsZF9vcmcudXNlcnNcclxuXHRcdFx0XHRcdG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQoY2hpbGRfb3JnLnVzZXJzKVxyXG5cdFx0XHQpXHJcblx0XHQpXHJcblxyXG5cdFx0b3JnX3VzZXJfaWRzID0gXy51bmlxKG9yZ191c2VyX2lkcylcclxuXHRcdG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChvcmdfdXNlcl9pZHMsIChvcmdfdXNlcl9pZCkgLT5cclxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogb3JnX3VzZXJfaWQgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBzcGFjZV91c2VyX2luZm9fY291bnQgPiAwXHJcblx0XHRcdFx0bmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBuZXdfb3JnX3VzZXJfaWRzXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5VXNlclwiXHJcblx0XHQjIDEyLioqKioqKioqKioq5oyH5a6a55qE5Lq65ZGYKioqKioqKioqKipcclxuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzXHJcblx0XHRhcHByb3Zlcl91c2VyX2lkcyA9IF8udW5pcShhcHByb3Zlcl91c2VyX2lkcylcclxuXHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCAoYXBwcm92ZXJfdXNlcl9pZCkgLT5cclxuXHRcdFx0c3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwcm92ZXJfdXNlcl9pZCB9KS5jb3VudCgpXHJcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcclxuXHRcdFx0XHRuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKVxyXG5cdFx0KVxyXG5cclxuXHRcdHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInBpY2t1cEF0UnVudGltZVwiXHJcblx0XHQjIDEzLioqKioqKioqKioq5a6h5om55pe25oyH5a6aKioqKioqKioqKipcclxuXHRcdG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0X3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKF90cikgLT5cclxuXHRcdFx0cmV0dXJuIF90ci5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0KVxyXG5cdFx0X2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCAoX2FwcCkgLT5cclxuXHRcdFx0cmV0dXJuIF9hcHAuaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIF9hcHAudHlwZSBpc250ICdjYydcclxuXHRcdClcclxuXHJcblx0XHRpZiBfYXBwcm92ZS5uZXh0X3N0ZXBzXHJcblx0XHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxyXG5cdFx0XHRcdG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXVxyXG5cclxuXHRcdHJldHVybiBuZXh0X3N0ZXBfdXNlcnNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImFwcGxpY2FudFN1cGVyaW9yXCJcclxuXHRcdCMgMTQuKioqKioqKioqKirnlLPor7fkurrkuIrnuqfkuLvnrqEqKioqKioqKioqKlxyXG5cdFx0YXBwbGljYW50U3VwZXJpb3JzID0gbmV3IEFycmF5XHJcblx0XHRfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudCB9LCB7IGZpZWxkczogeyBtYW5hZ2VyOiAxIH0gfSlcclxuXHRcdGlmIF9zcGFjZV91c2VyLm1hbmFnZXJcclxuXHRcdFx0YXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcilcclxuXHJcblx0XHRyZXR1cm4gYXBwbGljYW50U3VwZXJpb3JzIiwiICAgICAgICAgICAgICAgICAgICAgICBcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyID0ge307XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyA9IGZ1bmN0aW9uKHVzZXJfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIGFwcHJvdmVfdXNlcnM7XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID4gMCkge1xuICAgICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIGFwcHJvdmVfdXNlcnMgPSBhcHByb3ZlX3VzZXJzLmNvbmNhdCh1c2Vycyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKTtcbiAgICB9XG4gIH0pO1xuICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICByZXR1cm4gYXBwcm92ZV91c2Vycztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICBpZiAoZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgIF9pZDogcm9sZV9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJyb2xlX2lk5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrnVzZXJfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSA9IGZ1bmN0aW9uKHVzZXJfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmdzLCB1c2VyX2lkcztcbiAgb3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChvcmdzLCBmdW5jdGlvbihvcmcpIHtcbiAgICB2YXIgdXNlcnM7XG4gICAgdXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUob3JnLl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMgPSBmdW5jdGlvbihvcmdfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZXMob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKSB7XG4gIHZhciB1c2VyX2lkcztcbiAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gIF8uZWFjaChyb2xlX2lkcywgZnVuY3Rpb24ocm9sZV9pZCkge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKTtcbiAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHVzZXJzKTtcbiAgICB9XG4gIH0pO1xuICBpZiAodXNlcl9pZHMubGVuZ3RoID4gMCkge1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICByZXR1cm4gdXNlcl9pZHM7XG4gIH0gZWxzZSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja5vcmdfaWTlkoxyb2xlX2lkc+ayoeafpeWIsOWvueW6lOeahOWkhOeQhuS6ulwiKTtcbiAgfVxufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkge1xuICB2YXIgb3JnLCBwYXJlbnRzLCBwb3NpdGlvbnMsIHVzZXJfaWRzO1xuICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgIF9pZDogb3JnX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIG9yZzogb3JnX2lkLFxuICAgIHJvbGU6IHJvbGVfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgdXNlcnM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChwb3NpdGlvbnMsIGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgcmV0dXJuIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKTtcbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICBwYXJlbnRzID0gb3JnLnBhcmVudHM7XG4gICAgXy5lYWNoKHBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgb3JnOiBwYXJlbnRfaWQsXG4gICAgICAgIHJvbGU6IHJvbGVfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmIChwb3NpdGlvbnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gIHJldHVybiB1c2VyX2lkcztcbn07XG5cbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IGZ1bmN0aW9uKGluc3RhbmNlX2lkLCBzdGVwX2lkKSB7XG4gIHZhciBfYXBwcm92ZSwgX3NwYWNlX3VzZXIsIF90cmFjZSwgYXBwbGljYW50LCBhcHBsaWNhbnRTdXBlcmlvcnMsIGFwcHJvdmVIclJvbGVJZHMsIGFwcHJvdmVfdXNlcnMsIGFwcHJvdmVyX29yZ19maWVsZCwgYXBwcm92ZXJfb3JnX2lkcywgYXBwcm92ZXJfc3RlcCwgYXBwcm92ZXJfdXNlcl9maWVsZCwgYXBwcm92ZXJfdXNlcl9pZHMsIGN1cnJlbnQsIGN1cnJlbnRfZmxvdywgY3VycmVudF9mbG93X3ZlcnNpb24sIGN1cnJlbnRfZm9ybSwgY3VycmVudF9zdGVwLCBjdXJyZW50X3N0ZXBzLCBkZWFsX3R5cGUsIGZpZWxkX2NvZGUsIGZpbmlzaGVkX3RyYWNlcywgZmxvd19pZCwgZmxvd19yZXYsIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX2lkLCBmb3JtX3JldiwgaGFuZGxlcnMsIGluc3RhbmNlLCBtYXhfc3RhcnREYXRlX3RyYWNlLCBuZXdfYXBwcm92ZXJfdXNlcl9pZHMsIG5ld19vcmdfdXNlcl9pZHMsIG5ld2VzdF92YWx1ZXMsIG5leHRfc3RlcF91c2Vycywgb3JnX2lkcywgb3JnX2lkc19uYW1lcywgb3JnX3VzZXJfaWRzLCBzcGFjZV9pZCwgc3BhY2VfdXNlcl9jb3VudCwgc3VibWl0dGVyLCBzdWJtaXR0ZXJfdXNlcl9jb3VudCwgdW5maW5pc2hlZF90cmFjZSwgdXNlcl9pZHMsIHVzZXJfaWRzX25hbWVzLCB1c2VycywgdmFsaWRfYXBwcm92ZXJfb3JnX2lkcztcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XG4gIGlmIChpbnN0YW5jZS5zdGVwX2FwcHJvdmUgJiYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdKSB7XG4gICAgcmV0dXJuIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXTtcbiAgfVxuICBhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5O1xuICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgZmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gIGN1cnJlbnRfZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XG4gIGN1cnJlbnRfc3RlcCA9IG51bGw7XG4gIGN1cnJlbnRfc3RlcHMgPSBuZXcgQXJyYXk7XG4gIGlmIChjdXJyZW50X2Zsb3cuY3VycmVudC5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LnN0ZXBzO1xuICB9IGVsc2Uge1xuICAgIGN1cnJlbnQgPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICByZXR1cm4gaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgIH0pO1xuICAgIGN1cnJlbnRfc3RlcHMgPSBjdXJyZW50LnN0ZXBzO1xuICB9XG4gIGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICB9KTtcbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY29uZGl0aW9uXCIpIHtcbiAgICB1bmZpbmlzaGVkX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIHJldHVybiB0cmFjZS5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgcmV0dXJuIG5ldyBBcnJheSh1bmZpbmlzaGVkX3RyYWNlLmFwcHJvdmVzWzBdLnVzZXIpO1xuICB9XG4gIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcInN0YXJ0XCIpIHtcbiAgICBoYW5kbGVycyA9IG5ldyBBcnJheTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaGFuZGxlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGhhbmRsZXJzID0gXy51bmlxKGhhbmRsZXJzKTtcbiAgICByZXR1cm4gaGFuZGxlcnM7XG4gIH1cbiAgZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZTtcbiAgdXNlcnMgPSBuZXcgQXJyYXk7XG4gIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50Um9sZVwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIGlmIChhcHBsaWNhbnQpIHtcbiAgICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgICAgfVxuICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIkluc3RhbmNl55qE5o+Q5Lqk5Lq65Li656m6XCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiaHJSb2xlXCIpIHtcbiAgICBhcHByb3ZlSHJSb2xlSWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX2hyX3JvbGVzO1xuICAgIGlmIChhcHByb3ZlSHJSb2xlSWRzKSB7XG4gICAgICByZXR1cm4gXy5wbHVjayhXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlX2lkLCBhcHByb3ZlSHJSb2xlSWRzKSwgJ3VzZXInKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLmnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRcIikge1xuICAgIGFwcGxpY2FudCA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgICBzcGFjZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBhcHBsaWNhbnRcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjXNwYWNlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5KGFwcGxpY2FudCk7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFJvbGVcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl9vcmdfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBfLmVhY2gob3JnX2lkc19uYW1lcywgZnVuY3Rpb24ob3JnKSB7XG4gICAgICB2YXIgY2hlY2tfb3JnX2NvdW50O1xuICAgICAgY2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBvcmdbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19vcmdfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMob3JnX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwib3JnRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX29yZ19maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9vcmdfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl9vcmdfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICBfLmVhY2gob3JnX2lkc19uYW1lcywgZnVuY3Rpb24ob3JnKSB7XG4gICAgICB2YXIgY2hlY2tfb3JnX2NvdW50O1xuICAgICAgY2hlY2tfb3JnX2NvdW50ID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBvcmdbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19vcmdfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnu4Tnu4dJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBvcmdfaWRzLnB1c2gob3JnW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgIHZhciBjaGVja19vcmdzLCBvcmcsIG9yZ19jaGlsZHJlbiwgb3JnX3VzZXJzO1xuICAgICAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBvcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBvcmdfY2hpbGRyZW4gPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgb3JnX2NoaWxkcmVuLnVuc2hpZnQob3JnKTtcbiAgICAgIGNoZWNrX29yZ3MgPSBvcmdfY2hpbGRyZW47XG4gICAgICBvcmdfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goY2hlY2tfb3JncywgZnVuY3Rpb24oY2hlY2tfb3JnX3VzZXIpIHtcbiAgICAgICAgaWYgKGNoZWNrX29yZ191c2VyLnVzZXJzKSB7XG4gICAgICAgICAgXy5lYWNoKGNoZWNrX29yZ191c2VyLnVzZXJzLCBmdW5jdGlvbihvcmdfdXNlcikge1xuICAgICAgICAgICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgICAgIHVzZXI6IG9yZ191c2VyXG4gICAgICAgICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwic3BhY2XkuIvkuI3lrZjlnKjmraR1c2VyXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKTtcbiAgICAgICAgcmV0dXJuIG9yZ191c2VycyA9IG9yZ191c2Vycy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgfSk7XG4gICAgICBpZiAob3JnX3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h1wiICsgb3JnX2lkICsgXCLkuI3lrZjlnKjlpITnkIbkurpcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwidXNlckZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfdXNlcl9maWVsZCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl91c2VyX2ZpZWxkO1xuICAgIGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkcztcbiAgICBmaWVsZF9jb2RlID0gbnVsbDtcbiAgICBfLmVhY2goZm9ybV9maWVsZHMsIGZ1bmN0aW9uKGZvcm1fZmllbGQpIHtcbiAgICAgIGlmIChmb3JtX2ZpZWxkLl9pZCA9PT0gYXBwcm92ZXJfdXNlcl9maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICB1c2VyX2lkc19uYW1lcyA9IG5ldyBBcnJheTtcbiAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSkge1xuICAgICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheSkge1xuICAgICAgICB1c2VyX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pO1xuICAgICAgfVxuICAgIH1cbiAgICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godXNlcl9pZHNfbmFtZXMsIGZ1bmN0aW9uKHVzZXIpIHtcbiAgICAgIHZhciBjaGVja191c2VyX2NvdW50O1xuICAgICAgY2hlY2tfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHVzZXJbXCJpZFwiXVxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja191c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5Lq65ZGYSUTkuI3lkIjms5VcIik7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXNlcl9pZHMucHVzaCh1c2VyW1wiaWRcIl0pO1xuICAgIH0pO1xuICAgIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlcnNBbmRSb2xlcyh1c2VyX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpO1xuICAgIH1cbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwidXNlckZpZWxkXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVN0ZXBSb2xlXCIpIHtcbiAgICBhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXA7XG4gICAgZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICBpZiAodHJhY2Uuc3RlcCA9PT0gYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICByZXR1cm4gZmluaXNoZWRfdHJhY2VzLnB1c2godHJhY2UpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIHJldHVybiB0LnN0YXJ0X2RhdGU7XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMpIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgXy5lYWNoKGFwcHJvdmVfdXNlcnMsIGZ1bmN0aW9uKGFwcHJvdmVfdXNlcikge1xuICAgICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVfdXNlclxuICAgICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFVzZXJcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgXy5lYWNoKGFwcHJvdmVfdXNlcnMsIGZ1bmN0aW9uKGFwcHJvdmVfdXNlcikge1xuICAgICAgdmFyIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcHJvdmVfdXNlclxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIik7XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKTtcbiAgICByZXR1cm4gYXBwcm92ZV91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3VibWl0dGVyUm9sZVwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICBzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IHN1Ym1pdHRlclxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICBfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBmdW5jdGlvbihhcHByb3Zlcl9yb2xlKSB7XG4gICAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmVyX3JvbGVcbiAgICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuIGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHN1Ym1pdHRlciwgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlLPor7fljZXnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJcIikge1xuICAgIHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICBzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgfSkuY291bnQoKTtcbiAgICBpZiAoc3VibWl0dGVyX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IEFycmF5KHN1Ym1pdHRlcik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5T3JnXCIpIHtcbiAgICBhcHByb3Zlcl9vcmdfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ3M7XG4gICAgaWYgKCFhcHByb3Zlcl9vcmdfaWRzIHx8IGFwcHJvdmVyX29yZ19pZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquWumuS5ieeUqOS6juafpeaJvuS4i+S4gOatpeWkhOeQhuS6uueahOmDqOmXqO+8jOivt+iBlOezu+euoeeQhuWRmOiwg+afpea1geeoi+WbvueahOmFjee9ruaYr+WQpuato+ehrlwiKTtcbiAgICB9XG4gICAgdmFsaWRfYXBwcm92ZXJfb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24oYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICBpZiAoZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiBhcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICAgIHJldHVybiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLnVuc2hpZnQoYXBwcm92ZXJfb3JnX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBvcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHZhbGlkX2FwcHJvdmVyX29yZ19pZHMsIGZ1bmN0aW9uKHZhbGlkX2FwcHJvdmVyX29yZ19pZCkge1xuICAgICAgdmFyIGNoaWxkX29yZ3MsIHZhbGlkX2FwcHJvdmVyX29yZztcbiAgICAgIHZhbGlkX2FwcHJvdmVyX29yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogdmFsaWRfYXBwcm92ZXJfb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHZhbGlkX2FwcHJvdmVyX29yZy51c2Vycykge1xuICAgICAgICBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KHZhbGlkX2FwcHJvdmVyX29yZy51c2Vycyk7XG4gICAgICB9XG4gICAgICBjaGlsZF9vcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBwYXJlbnRzOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIHJldHVybiBfLmVhY2goY2hpbGRfb3JncywgZnVuY3Rpb24oY2hpbGRfb3JnKSB7XG4gICAgICAgIGlmIChjaGlsZF9vcmcudXNlcnMpIHtcbiAgICAgICAgICByZXR1cm4gb3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdChjaGlsZF9vcmcudXNlcnMpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgICBvcmdfdXNlcl9pZHMgPSBfLnVuaXEob3JnX3VzZXJfaWRzKTtcbiAgICBuZXdfb3JnX3VzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChvcmdfdXNlcl9pZHMsIGZ1bmN0aW9uKG9yZ191c2VyX2lkKSB7XG4gICAgICB2YXIgc3BhY2VfdXNlcl9pbmZvX2NvdW50O1xuICAgICAgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogb3JnX3VzZXJfaWRcbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMCkge1xuICAgICAgICByZXR1cm4gbmV3X29yZ191c2VyX2lkcy5wdXNoKG9yZ191c2VyX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3X29yZ191c2VyX2lkcztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwic3BlY2lmeVVzZXJcIikge1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJzO1xuICAgIGFwcHJvdmVyX3VzZXJfaWRzID0gXy51bmlxKGFwcHJvdmVyX3VzZXJfaWRzKTtcbiAgICBuZXdfYXBwcm92ZXJfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGFwcHJvdmVyX3VzZXJfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl91c2VyX2lkKSB7XG4gICAgICB2YXIgc3BhY2VfdXNlcl9pbmZvX2NvdW50O1xuICAgICAgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZXJfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHMucHVzaChhcHByb3Zlcl91c2VyX2lkKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gbmV3X2FwcHJvdmVyX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJwaWNrdXBBdFJ1bnRpbWVcIikge1xuICAgIG5leHRfc3RlcF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbihfdHIpIHtcbiAgICAgIHJldHVybiBfdHIuaXNfZmluaXNoZWQgPT09IGZhbHNlO1xuICAgIH0pO1xuICAgIF9hcHByb3ZlID0gXy5maW5kKF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oX2FwcCkge1xuICAgICAgcmV0dXJuIF9hcHAuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIF9hcHAudHlwZSAhPT0gJ2NjJztcbiAgICB9KTtcbiAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwcykge1xuICAgICAgaWYgKF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXSkge1xuICAgICAgICBuZXh0X3N0ZXBfdXNlcnMgPSBfYXBwcm92ZS5uZXh0X3N0ZXBzWzBdW1widXNlcnNcIl07XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBuZXh0X3N0ZXBfdXNlcnM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFN1cGVyaW9yXCIpIHtcbiAgICBhcHBsaWNhbnRTdXBlcmlvcnMgPSBuZXcgQXJyYXk7XG4gICAgX3NwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGluc3RhbmNlLmFwcGxpY2FudFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBtYW5hZ2VyOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF9zcGFjZV91c2VyLm1hbmFnZXIpIHtcbiAgICAgIGFwcGxpY2FudFN1cGVyaW9ycy5wdXNoKF9zcGFjZV91c2VyLm1hbmFnZXIpO1xuICAgIH1cbiAgICByZXR1cm4gYXBwbGljYW50U3VwZXJpb3JzO1xuICB9XG59O1xuIiwicGVybWlzc2lvbk1hbmFnZXIgPSB7fVxyXG5cclxucGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zID0gKGZsb3dfaWQsIHVzZXJfaWQpIC0+XHJcblx0IyDmoLnmja46Zmxvd19pZOafpeWIsOWvueW6lOeahGZsb3dcclxuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXHJcblx0c3BhY2VfaWQgPSBmbG93LnNwYWNlXHJcblx0IyDmoLnmja5zcGFjZV9pZOWSjDp1c2VyX2lk5Yiwb3JnYW5pemF0aW9uc+ihqOS4reafpeWIsOeUqOaIt+aJgOWxnuaJgOacieeahG9yZ19pZO+8iOWMheaLrOS4iue6p+e7hElE77yJXHJcblx0b3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xyXG5cdFx0c3BhY2U6IHNwYWNlX2lkLCB1c2VyczogdXNlcl9pZCB9LCB7IGZpZWxkczogeyBwYXJlbnRzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdF8uZWFjaChvcmdhbml6YXRpb25zLCAob3JnKSAtPlxyXG5cdFx0b3JnX2lkcy5wdXNoKG9yZy5faWQpXHJcblx0XHRpZiBvcmcucGFyZW50c1xyXG5cdFx0XHRfLmVhY2gob3JnLnBhcmVudHMsIChwYXJlbnRfaWQpIC0+XHJcblx0XHRcdFx0b3JnX2lkcy5wdXNoKHBhcmVudF9pZClcclxuXHRcdFx0KVxyXG5cdClcclxuXHRvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpXHJcblx0bXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXlcclxuXHRpZiBmbG93LnBlcm1zXHJcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXHJcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRk5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxyXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZGRcclxuXHRcdGlmIGZsb3cucGVybXMudXNlcnNfY2FuX2FkZFxyXG5cdFx0XHR1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkXHJcblx0XHRcdGlmIHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpXHJcblxyXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcclxuXHRcdFx0b3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGRcclxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRkLmluY2x1ZGVzKG9yZ19pZClcclxuXHRcdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcclxuXHRcdFx0KVxyXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9y5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXHJcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcuaYr+WQpuWMheWQqzTmraXlvpfliLDnmoRvcmdfaWTmlbDnu4TkuK3nmoTku7vkvZXkuIDkuKrvvIxcclxuXHRcdCMg6Iul5piv77yM5YiZ5Zyo6L+U5Zue55qE5pWw57uE5Lit5Yqg5LiKbW9uaXRvclxyXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxyXG5cdFx0XHR1c2Vyc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3JcclxuXHRcdFx0aWYgdXNlcnNfY2FuX21vbml0b3IuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxyXG5cclxuXHRcdGlmIGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvclxyXG5cdFx0XHRvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXHJcblx0XHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxyXG5cdFx0XHRcdGlmIG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKVxyXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcIm1vbml0b3JcIilcclxuXHRcdFx0KVxyXG5cdFx0IyDliKTmlq1mbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbuS4reaYr+WQpuWMheWQq+W9k+WJjeeUqOaIt++8jFxyXG5cdFx0IyDmiJbogIVmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWlu5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxyXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIphZG1pblxyXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cclxuXHRcdFx0dXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW5cclxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpXHJcblx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpXHJcblxyXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxyXG5cdFx0XHRvcmdzX2Nhbl9hZG1pbiA9IGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW5cclxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdFx0aWYgb3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKVxyXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpXHJcblx0XHRcdClcclxuXHJcblx0bXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpXHJcblx0cmV0dXJuIG15X3Blcm1pc3Npb25zIiwiICAgICAgICAgICAgICAgICAgICAgIFxuXG5wZXJtaXNzaW9uTWFuYWdlciA9IHt9O1xuXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSBmdW5jdGlvbihmbG93X2lkLCB1c2VyX2lkKSB7XG4gIHZhciBmbG93LCBteV9wZXJtaXNzaW9ucywgb3JnX2lkcywgb3JnYW5pemF0aW9ucywgb3Jnc19jYW5fYWRkLCBvcmdzX2Nhbl9hZG1pbiwgb3Jnc19jYW5fbW9uaXRvciwgc3BhY2VfaWQsIHVzZXJzX2Nhbl9hZGQsIHVzZXJzX2Nhbl9hZG1pbiwgdXNlcnNfY2FuX21vbml0b3I7XG4gIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZCk7XG4gIHNwYWNlX2lkID0gZmxvdy5zcGFjZTtcbiAgb3JnX2lkcyA9IG5ldyBBcnJheTtcbiAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgIHVzZXJzOiB1c2VyX2lkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHBhcmVudHM6IDFcbiAgICB9XG4gIH0pLmZldGNoKCk7XG4gIF8uZWFjaChvcmdhbml6YXRpb25zLCBmdW5jdGlvbihvcmcpIHtcbiAgICBvcmdfaWRzLnB1c2gob3JnLl9pZCk7XG4gICAgaWYgKG9yZy5wYXJlbnRzKSB7XG4gICAgICByZXR1cm4gXy5lYWNoKG9yZy5wYXJlbnRzLCBmdW5jdGlvbihwYXJlbnRfaWQpIHtcbiAgICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChwYXJlbnRfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbiAgb3JnX2lkcyA9IF8udW5pcShvcmdfaWRzKTtcbiAgbXlfcGVybWlzc2lvbnMgPSBuZXcgQXJyYXk7XG4gIGlmIChmbG93LnBlcm1zKSB7XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkZCkge1xuICAgICAgdXNlcnNfY2FuX2FkZCA9IGZsb3cucGVybXMudXNlcnNfY2FuX2FkZDtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRkLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZCkge1xuICAgICAgb3Jnc19jYW5fYWRkID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGQ7XG4gICAgICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgICAgIGlmIChvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3IpIHtcbiAgICAgIHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcjtcbiAgICAgIGlmICh1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgICBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcikge1xuICAgICAgb3Jnc19jYW5fbW9uaXRvciA9IGZsb3cucGVybXMub3Jnc19jYW5fbW9uaXRvcjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX21vbml0b3IuaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIGlmIChmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbikge1xuICAgICAgdXNlcnNfY2FuX2FkbWluID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW47XG4gICAgICBpZiAodXNlcnNfY2FuX2FkbWluLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZG1pblwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRtaW4pIHtcbiAgICAgIG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbjtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkbWluLmluY2x1ZGVzKG9yZ19pZCkpIHtcbiAgICAgICAgICByZXR1cm4gbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgbXlfcGVybWlzc2lvbnMgPSBfLnVuaXEobXlfcGVybWlzc2lvbnMpO1xuICByZXR1cm4gbXlfcGVybWlzc2lvbnM7XG59O1xuIiwiYXBwcm92ZU1hbmFnZXIgPSB7fVxyXG5cclxuXHJcbiMjI1xyXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxyXG4jIyNcclxuYXBwcm92ZU1hbmFnZXIuZ2V0Q2hhbmdlVmFsdWVzID0gKGxhc3RfdmFsdWVzLGFwcHJvdmVfdmFsdWVzKSAtPlxyXG5cclxuXHRjaGFuZ2VWYWx1ZXMgPSB7fVxyXG5cclxuXHRsYXN0X3ZhbHVlc19rZXlzID0gXy5rZXlzKGxhc3RfdmFsdWVzKVxyXG5cclxuXHRhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKVxyXG5cclxuI1x0Y29uc29sZS5sb2coXCJsYXN0X3ZhbHVlc19rZXlzXCIsIGxhc3RfdmFsdWVzX2tleXMpXHJcbiNcclxuI1x0Y29uc29sZS5sb2coXCJhcHByb3ZlX3ZhbHVlc19rZXlzXCIsIGFwcHJvdmVfdmFsdWVzX2tleXMpXHJcblxyXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMuZm9yRWFjaCAoa2V5KS0+XHJcblx0XHRpZiBfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSlcclxuXHRcdFx0aWYgIV8uaXNFcXVhbChsYXN0X3ZhbHVlc1trZXldLCBhcHByb3ZlX3ZhbHVlc1trZXldKVxyXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBhcHByb3ZlX3ZhbHVlc1trZXldICE9ICcnXHJcbiNcdFx0XHRcdGNvbnNvbGUubG9nKGtleSxhcHByb3ZlX3ZhbHVlc1trZXldKVxyXG5cdFx0XHRcdGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XVxyXG5cclxuXHRyZXR1cm4gY2hhbmdlVmFsdWVzXHJcbiIsIiAgICAgICAgICAgICAgICAgICBcblxuYXBwcm92ZU1hbmFnZXIgPSB7fTtcblxuXG4vKlxuICAgIOWvueavlGFwcHJvdmVfdmFsdWVz5LiObGFzdF92YWx1ZXMg5a+56LGh77yMIOi/lOWbnmFwcHJvdmVfdmFsdWVz5q+UbGFzdF92YWx1ZXPlpJrlh7rnmoTmiJbogIXmlLnlj5jnmoTpg6jliIZcbiAqL1xuXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSBmdW5jdGlvbihsYXN0X3ZhbHVlcywgYXBwcm92ZV92YWx1ZXMpIHtcbiAgdmFyIGFwcHJvdmVfdmFsdWVzX2tleXMsIGNoYW5nZVZhbHVlcywgbGFzdF92YWx1ZXNfa2V5cztcbiAgY2hhbmdlVmFsdWVzID0ge307XG4gIGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzID0gXy5rZXlzKGFwcHJvdmVfdmFsdWVzKTtcbiAgYXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgIGlmIChfLmNvbnRhaW5zKGxhc3RfdmFsdWVzX2tleXMsIGtleSkpIHtcbiAgICAgIGlmICghXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChhcHByb3ZlX3ZhbHVlc1trZXldICE9PSAnJykge1xuICAgICAgICByZXR1cm4gY2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiBjaGFuZ2VWYWx1ZXM7XG59O1xuIiwiZmxvd01hbmFnZXIgPSB7fVxyXG5cclxuZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cclxuXHJcblx0Y2F0ZWdvcmllc0Zvcm1zID0gZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IGNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxyXG5cclxuZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgZmllbGRzKS0+XHJcblxyXG5cdHVuQ2F0ZWdvcmllc0Zvcm1zID0gZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwge19pZDogMX0pLmZldGNoKClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe2Zvcm06IHskaW4gOiB1bkNhdGVnb3JpZXNGb3Jtcy5nZXRQcm9wZXJ0eShcIl9pZFwiKX19KVxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuIiwiZm9ybU1hbmFnZXIgPSB7fVxyXG5cclxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpLT5cclxuXHRpZiBmaWVsZHNcclxuXHRcdF9maWVsZHMgPSB7ZmllbGRzOiBmaWVsZHN9XHJcblxyXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IGNhdGVnb3JpZUlkLCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxyXG5cclxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgZmllbGRzKSAtPlxyXG5cdGlmIGZpZWxkc1xyXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cclxuXHRyZXR1cm4gZGIuZm9ybXMuZmluZCh7c3BhY2U6IHNwYWNlSWQsIGNhdGVnb3J5OiB7JGluOiBbbnVsbCwgXCJcIl19LCBzdGF0ZTogXCJlbmFibGVkXCJ9LCBfZmllbGRzKVxyXG4iLCIgICAgICAgICAgICAgICAgXG5cbmZvcm1NYW5hZ2VyID0ge307XG5cbmZvcm1NYW5hZ2VyLmdldENhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGNhdGVnb3JpZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeTogY2F0ZWdvcmllSWQsXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcblxuZm9ybU1hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRm9ybXMgPSBmdW5jdGlvbihzcGFjZUlkLCBmaWVsZHMpIHtcbiAgdmFyIF9maWVsZHM7XG4gIGlmIChmaWVsZHMpIHtcbiAgICBfZmllbGRzID0ge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9O1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBjYXRlZ29yeToge1xuICAgICAgJGluOiBbbnVsbCwgXCJcIl1cbiAgICB9LFxuICAgIHN0YXRlOiBcImVuYWJsZWRcIlxuICB9LCBfZmllbGRzKTtcbn07XG4iLCJzdGVwTWFuYWdlciA9IHt9XHJcblxyXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gKHN0ZXApLT5cclxuXHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ2NvdW50ZXJTaWduJyAmJiBzdGVwLmFsbG93QmF0Y2hcclxuXHJcbnN0ZXBNYW5hZ2VyLmdldFN0ZXAgPSAoaW5zdGFuY2UsIGZsb3csIHN0ZXBfaWQpLT5cclxuXHRmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvblxyXG5cdGlzRXhpc3RTdGVwID0gbnVsbFxyXG5cdGlmIGZsb3cuY3VycmVudC5faWQgaXMgZmxvd19yZXZcclxuXHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgKHN0ZXApLT5cclxuXHRcdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcclxuXHRcdClcclxuXHRlbHNlXHJcblx0XHRfLmVhY2goZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpLT5cclxuXHRcdFx0aWYgaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0XHRpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCAoc3RlcCktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIHN0ZXAuX2lkIGlzIHN0ZXBfaWRcclxuXHRcdFx0XHQpXHJcblx0XHQpXHJcblxyXG5cdGlmIG5vdCBpc0V4aXN0U3RlcFxyXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpXHJcblxyXG5cdHJldHVybiBpc0V4aXN0U3RlcCIsIiAgICAgICAgICAgICAgICBcblxuc3RlcE1hbmFnZXIgPSB7fTtcblxuc3RlcE1hbmFnZXIuYWxsb3dCYXRjaCA9IGZ1bmN0aW9uKHN0ZXApIHtcbiAgcmV0dXJuIHN0ZXAuc3RlcF90eXBlID09PSAnY291bnRlclNpZ24nICYmIHN0ZXAuYWxsb3dCYXRjaDtcbn07XG5cbnN0ZXBNYW5hZ2VyLmdldFN0ZXAgPSBmdW5jdGlvbihpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCkge1xuICB2YXIgZmxvd19yZXYsIGlzRXhpc3RTdGVwO1xuICBmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgaXNFeGlzdFN0ZXAgPSBudWxsO1xuICBpZiAoZmxvdy5jdXJyZW50Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICBpc0V4aXN0U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICBfLmVhY2goZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oaGlzdG9yeSkge1xuICAgICAgaWYgKGhpc3RvcnkuX2lkID09PSBmbG93X3Jldikge1xuICAgICAgICByZXR1cm4gaXNFeGlzdFN0ZXAgPSBfLmZpbmQoaGlzdG9yeS5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHJldHVybiBzdGVwLl9pZCA9PT0gc3RlcF9pZDtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFpc0V4aXN0U3RlcCkge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN6IO96I635Y+Wc3RlcFwiKTtcbiAgfVxuICByZXR1cm4gaXNFeGlzdFN0ZXA7XG59O1xuIiwiX2V2YWwgPSByZXF1aXJlKCdldmFsJylcclxuXHJcbkluc3RhbmNlTWFuYWdlciA9IHt9XHJcblxyXG5sb2dnZXIgPSBuZXcgTG9nZ2VyICdXb3JrZmxvdyAtPiBJbnN0YW5jZU1hbmFnZXInXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCA9IChpbnMsIGZpZWxkX21hcCkgLT5cclxuXHRyZXMgPSBpbnNcclxuXHRpZiBpbnNcclxuXHRcdGlmICFmaWVsZF9tYXBcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBpbnMuZmxvdyB9LCB7IGZpZWxkczogeyBmaWVsZF9tYXA6IDEgfSB9KVxyXG5cclxuXHRcdFx0aWYgZmxvdz8uZmllbGRfbWFwXHJcblx0XHRcdFx0ZmllbGRfbWFwID0gZmxvdy5maWVsZF9tYXBcclxuXHJcblx0XHRpZiBmaWVsZF9tYXBcclxuXHRcdFx0Y29udGV4dCA9IF8uY2xvbmUoaW5zKVxyXG5cclxuXHRcdFx0Y29udGV4dC5fID0gX1xyXG5cclxuXHRcdFx0c2NyaXB0ID0gXCJ2YXIgaW5zdGFuY2VzID0gI3tmaWVsZF9tYXB9OyBleHBvcnRzLmluc3RhbmNlcyA9IGluc3RhbmNlc1wiXHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwXCIsIGNvbnRleHQsIGZhbHNlKS5pbnN0YW5jZXNcclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdHJlcyA9IHsgX2Vycm9yOiBlIH1cclxuXHRcdFx0XHRsb2dnZXIuZXJyb3IgZVxyXG5cdHJldHVybiByZXNcclxuXHJcbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSA9IChpbnN0YW5jZSwgaGFuZGxlciktPlxyXG5cclxuXHRpZiAhaW5zdGFuY2Ugb3IgIWluc3RhbmNlLnRyYWNlcyBvciBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpXHJcblxyXG5cdGlmIGN1cnJlbnRUcmFjZXMubGVuZ3RoXHJcblx0XHRjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpXHJcblx0XHRjdXJyZW50QXBwcm92ZSA9IGlmIGN1cnJlbnRBcHByb3Zlcy5sZW5ndGggPiAwIHRoZW4gY3VycmVudEFwcHJvdmVzWzBdIGVsc2UgbnVsbFxyXG5cclxuXHQj5Lyg6ZiF55qEYXBwcm92Zei/lOWbnuacgOaWsOS4gOadoVxyXG5cdGlmICFjdXJyZW50QXBwcm92ZSBvciBjdXJyZW50QXBwcm92ZS50eXBlID09ICdjYydcclxuXHRcdCMg5b2T5YmN5piv5Lyg6ZiFXHJcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cclxuXHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxyXG5cdFx0XHRcdGlmIGEudHlwZSA9PSAnY2MnIGFuZCBhLnVzZXIgPT0gaGFuZGxlciBhbmQgYS5pc19maW5pc2hlZCA9PSBmYWxzZVxyXG5cdFx0XHRcdFx0Y3VycmVudEFwcHJvdmUgPSBhXHJcblx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRpZiAhY3VycmVudEFwcHJvdmVcclxuXHRcdHJldHVyblxyXG5cclxuXHRyZXR1cm4gY3VycmVudEFwcHJvdmVcclxuXHJcbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSAoaW5zdGFuY2UsIHRyYWNlSWQpLT5cclxuXHRyZXR1cm4gaW5zdGFuY2UudHJhY2VzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2VJZClcclxuXHJcbkluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUgPSAoaW5zdGFuY2VJZCwgdXNlcklkKS0+XHJcblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSlcclxuXHJcblx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cclxuXHRteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKGluc3RhbmNlLCB1c2VySWQpXHJcblxyXG5cdGlmIG15X2FwcHJvdmVcclxuXHJcbiNcdFx0bGFuZyA9IFN0ZWVkb3MubG9jYWxlKHRoYXQudXNlcklkLCB0cnVlKVxyXG5cclxuXHRcdHRyYWNlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZShpbnN0YW5jZSwgbXlfYXBwcm92ZS50cmFjZSlcclxuXHJcblx0XHRzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCB0cmFjZS5zdGVwKVxyXG5cclxuXHRcdG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcIlwiKVxyXG5cclxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPT0gMVxyXG5cdFx0XHRuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCAsIG5leHRTdGVwc1swXSlcclxuXHRcdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPT0gMVxyXG5cdFx0XHRcdG15X2FwcHJvdmUubmV4dF9zdGVwcyA9IFt7c3RlcDogbmV4dFN0ZXBzWzBdLCB1c2VyczogbmV4dF91c2VyX2lkc31dXHJcblx0XHRcdFx0cmV0dXJuIG15X2FwcHJvdmVcclxuI1x0XHRcdGVsc2VcclxuI1x0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgVEFQaTE4bi5fXygnd29ya2Zsb3dfZXJyb3JfbXVsdGlwbGVfbmV4dF9zdGVwX3VzZXJzJywge2luc25hbWU6IGluc3RhbmNlLm5hbWV9LCBsYW5nKSlcclxuI1x0XHRlbHNlXHJcbiNcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXAnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxyXG5cclxuXHRyZXR1cm5cclxuXHJcblxyXG5JbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMgPSAoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpLT5cclxuXHRfYmF0Y2hfaW5zdGFuY2VzID0gbmV3IEFycmF5KClcclxuXHJcblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlLCBpbmJveF91c2VyczogaW5ib3hfdXNlcn1cclxuXHJcblx0RklFTERTID0ge25hbWU6IDEsIGFwcGxpY2FudF9uYW1lOiAxLCBzdWJtaXRfZGF0ZTogMSwgZmxvd192ZXJzaW9uOiAxLCBcInRyYWNlcy5zdGVwXCI6IDEsIGZsb3c6IDF9XHJcblxyXG5cdGlmIGNhdGVnb3J5SWRcclxuXHJcblx0XHRpZiBjYXRlZ29yeUlkID09ICctMSdcclxuXHRcdFx0dW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXHJcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiB1bkNhdGVnb3J5Rmxvd3N9XHJcblx0XHRlbHNlXHJcblx0XHRcdGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtfaWQ6IDF9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpXHJcblx0XHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBjYXRlZ29yeUZsb3dzfVxyXG5cclxuXHRpZiBmbG93SWRzXHJcblx0XHRxdWVyeS5mbG93ID0geyRpbjogZmxvd0lkc31cclxuXHJcbiNcdGNvbnNvbGUubG9nKFwicXVlcnlcIiwgSlNPTi5zdHJpbmdpZnkocXVlcnkpKVxyXG5cclxuXHRpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczogRklFTERTLCBza2lwOiAwLCBsaW1pdDogMTAwfSlcclxuXHJcblx0aW5ib3hfaW5zdGFuY2VzLmZvckVhY2ggKGlucyktPlxyXG5cdFx0Y3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwICNUT0RPIOatpOS7o+eggeS4jemAgueUqOS8oOmYheaJueWkhOeQhlxyXG5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGlucy5mbG93fSlcclxuXHJcblx0XHRjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKVxyXG5cclxuXHRcdGlmIHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcilcclxuXHJcblx0XHRcdGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0XHRkZWxldGUgaW5zLnRyYWNlc1xyXG5cclxuXHRcdFx0ZGVsZXRlIGlucy5mbG93XHJcblxyXG5cdFx0XHRfYmF0Y2hfaW5zdGFuY2VzLnB1c2goaW5zKVxyXG4jXHRcdGVsc2VcclxuI1x0XHRcdGNvbnNvbGUubG9nKFwi5om56YeP5a6h5om5LeW8guW4uOaVsOaNrlwiLCBpbnMuX2lkKVxyXG5cclxuXHRyZXR1cm4gX2JhdGNoX2luc3RhbmNlc1xyXG4iLCJ2YXIgX2V2YWwsIGxvZ2dlcjsgICAgICAgICAgICAgICAgIFxuXG5fZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKTtcblxuSW5zdGFuY2VNYW5hZ2VyID0ge307XG5cbmxvZ2dlciA9IG5ldyBMb2dnZXIoJ1dvcmtmbG93IC0+IEluc3RhbmNlTWFuYWdlcicpO1xuXG5JbnN0YW5jZU1hbmFnZXIuaGFuZGxlckluc3RhbmNlQnlGaWVsZE1hcCA9IGZ1bmN0aW9uKGlucywgZmllbGRfbWFwKSB7XG4gIHZhciBjb250ZXh0LCBlLCBmbG93LCByZXMsIHNjcmlwdDtcbiAgcmVzID0gaW5zO1xuICBpZiAoaW5zKSB7XG4gICAgaWYgKCFmaWVsZF9tYXApIHtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnMuZmxvd1xuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmaWVsZF9tYXA6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoZmxvdyAhPSBudWxsID8gZmxvdy5maWVsZF9tYXAgOiB2b2lkIDApIHtcbiAgICAgICAgZmllbGRfbWFwID0gZmxvdy5maWVsZF9tYXA7XG4gICAgICB9XG4gICAgfVxuICAgIGlmIChmaWVsZF9tYXApIHtcbiAgICAgIGNvbnRleHQgPSBfLmNsb25lKGlucyk7XG4gICAgICBjb250ZXh0Ll8gPSBfO1xuICAgICAgc2NyaXB0ID0gXCJ2YXIgaW5zdGFuY2VzID0gXCIgKyBmaWVsZF9tYXAgKyBcIjsgZXhwb3J0cy5pbnN0YW5jZXMgPSBpbnN0YW5jZXNcIjtcbiAgICAgIHRyeSB7XG4gICAgICAgIHJlcyA9IF9ldmFsKHNjcmlwdCwgXCJoYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwXCIsIGNvbnRleHQsIGZhbHNlKS5pbnN0YW5jZXM7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIHJlcyA9IHtcbiAgICAgICAgICBfZXJyb3I6IGVcbiAgICAgICAgfTtcbiAgICAgICAgbG9nZ2VyLmVycm9yKGUpO1xuICAgICAgfVxuICAgIH1cbiAgfVxuICByZXR1cm4gcmVzO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2UsIGhhbmRsZXIpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50QXBwcm92ZXMsIGN1cnJlbnRUcmFjZXM7XG4gIGlmICghaW5zdGFuY2UgfHwgIWluc3RhbmNlLnRyYWNlcyB8fCBpbnN0YW5jZS50cmFjZXMubGVuZ3RoIDwgMSkge1xuICAgIHJldHVybjtcbiAgfVxuICBjdXJyZW50VHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKTtcbiAgaWYgKGN1cnJlbnRUcmFjZXMubGVuZ3RoKSB7XG4gICAgY3VycmVudEFwcHJvdmVzID0gY3VycmVudFRyYWNlc1swXS5hcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoJ2hhbmRsZXInLCBoYW5kbGVyKTtcbiAgICBjdXJyZW50QXBwcm92ZSA9IGN1cnJlbnRBcHByb3Zlcy5sZW5ndGggPiAwID8gY3VycmVudEFwcHJvdmVzWzBdIDogbnVsbDtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlIHx8IGN1cnJlbnRBcHByb3ZlLnR5cGUgPT09ICdjYycpIHtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEudXNlciA9PT0gaGFuZGxlciAmJiBhLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgIGN1cnJlbnRBcHByb3ZlID0gYTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFjdXJyZW50QXBwcm92ZSkge1xuICAgIHJldHVybjtcbiAgfVxuICByZXR1cm4gY3VycmVudEFwcHJvdmU7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlID0gZnVuY3Rpb24oaW5zdGFuY2UsIHRyYWNlSWQpIHtcbiAgcmV0dXJuIGluc3RhbmNlLnRyYWNlcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlSWQpO1xufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZSA9IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHVzZXJJZCkge1xuICB2YXIgZmxvdywgaW5zdGFuY2UsIG15X2FwcHJvdmUsIG5leHRTdGVwcywgbmV4dF91c2VyX2lkcywgc3RlcCwgdHJhY2U7XG4gIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KTtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgbXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZShpbnN0YW5jZSwgdXNlcklkKTtcbiAgaWYgKG15X2FwcHJvdmUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UoaW5zdGFuY2UsIG15X2FwcHJvdmUudHJhY2UpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHRyYWNlLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcIlwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnN0YW5jZS5faWQsIG5leHRTdGVwc1swXSk7XG4gICAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPT09IDEpIHtcbiAgICAgICAgbXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIHN0ZXA6IG5leHRTdGVwc1swXSxcbiAgICAgICAgICAgIHVzZXJzOiBuZXh0X3VzZXJfaWRzXG4gICAgICAgICAgfVxuICAgICAgICBdO1xuICAgICAgICByZXR1cm4gbXlfYXBwcm92ZTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzLCBpbmJveF91c2VyKSB7XG4gIHZhciBGSUVMRFMsIF9iYXRjaF9pbnN0YW5jZXMsIGNhdGVnb3J5Rmxvd3MsIGluYm94X2luc3RhbmNlcywgcXVlcnksIHVuQ2F0ZWdvcnlGbG93cztcbiAgX2JhdGNoX2luc3RhbmNlcyA9IG5ldyBBcnJheSgpO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2UsXG4gICAgaW5ib3hfdXNlcnM6IGluYm94X3VzZXJcbiAgfTtcbiAgRklFTERTID0ge1xuICAgIG5hbWU6IDEsXG4gICAgYXBwbGljYW50X25hbWU6IDEsXG4gICAgc3VibWl0X2RhdGU6IDEsXG4gICAgZmxvd192ZXJzaW9uOiAxLFxuICAgIFwidHJhY2VzLnN0ZXBcIjogMSxcbiAgICBmbG93OiAxXG4gIH07XG4gIGlmIChjYXRlZ29yeUlkKSB7XG4gICAgaWYgKGNhdGVnb3J5SWQgPT09ICctMScpIHtcbiAgICAgIHVuQ2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldFVuQ2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogdW5DYXRlZ29yeUZsb3dzXG4gICAgICB9O1xuICAgIH0gZWxzZSB7XG4gICAgICBjYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zsb3dzKHNwYWNlLCBjYXRlZ29yeUlkLCB7XG4gICAgICAgIF9pZDogMVxuICAgICAgfSkuZmV0Y2goKS5nZXRQcm9wZXJ0eShcIl9pZFwiKTtcbiAgICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAgICRpbjogY2F0ZWdvcnlGbG93c1xuICAgICAgfTtcbiAgICB9XG4gIH1cbiAgaWYgKGZsb3dJZHMpIHtcbiAgICBxdWVyeS5mbG93ID0ge1xuICAgICAgJGluOiBmbG93SWRzXG4gICAgfTtcbiAgfVxuICBpbmJveF9pbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczogRklFTERTLFxuICAgIHNraXA6IDAsXG4gICAgbGltaXQ6IDEwMFxuICB9KTtcbiAgaW5ib3hfaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zKSB7XG4gICAgdmFyIGN1cnJlbnRTdGVwLCBjdXJyZW50U3RlcElkLCBmbG93O1xuICAgIGN1cnJlbnRTdGVwSWQgPSBfLmxhc3QoaW5zLnRyYWNlcykuc3RlcDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlucy5mbG93XG4gICAgfSk7XG4gICAgY3VycmVudFN0ZXAgPSBzdGVwTWFuYWdlci5nZXRTdGVwKGlucywgZmxvdywgY3VycmVudFN0ZXBJZCk7XG4gICAgaWYgKHN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2goY3VycmVudFN0ZXApICYmIEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zLl9pZCwgaW5ib3hfdXNlcikpIHtcbiAgICAgIGRlbGV0ZSBpbnMuZmxvd192ZXJzaW9uO1xuICAgICAgZGVsZXRlIGlucy50cmFjZXM7XG4gICAgICBkZWxldGUgaW5zLmZsb3c7XG4gICAgICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcy5wdXNoKGlucyk7XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIF9iYXRjaF9pbnN0YW5jZXM7XG59O1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2NhdGVnb3JpZXMnLCAoc3BhY2VJZCkgLT5cclxuXHRjaGVjayBzcGFjZUlkLCBTdHJpbmdcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRyZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgc3BhY2U6IDEsIHNvcnRfbm86IDEsIGFwcDogMSB9IH0pIiwiTWV0ZW9yLnB1Ymxpc2goJ2NhdGVnb3JpZXMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgc29ydF9ubzogMSxcbiAgICAgIGFwcDogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIlxyXG5NZXRlb3IucHVibGlzaCAnY2ZzX2luc3RhbmNlcycsIChpbnN0YW5jZUlkcyktPlxyXG5cdGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSlcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBpbnN0YW5jZUlkc1xyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IHskaW46IGluc3RhbmNlSWRzfSAsICRvcjogW3snbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHskbmU6IHRydWV9fSx7J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB0cnVlLCBcIm1ldGFkYXRhLm93bmVyXCI6IHRoaXMudXNlcklkfV19KVxyXG4iLCJNZXRlb3IucHVibGlzaCgnY2ZzX2luc3RhbmNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWRzKSB7XG4gIGNoZWNrKGluc3RhbmNlSWRzLCBBcnJheSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcbiAgICAgICRpbjogaW5zdGFuY2VJZHNcbiAgICB9LFxuICAgICRvcjogW1xuICAgICAge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICAnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXG4gICAgICAgIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWRcbiAgICAgIH1cbiAgICBdXG4gIH0pO1xufSk7XG4iLCJcclxuXHJcbk1ldGVvci5wdWJsaXNoICdmbG93X3Bvc2l0aW9ucycsIChzcGFjZUlkKS0+XHJcblx0XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblx0XHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge3JvbGU6MSwgdXNlcnM6IDEsIG9yZzogMX19KTtcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfcG9zaXRpb25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByb2xlOiAxLFxuICAgICAgdXNlcnM6IDEsXG4gICAgICBvcmc6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaENvbXBvc2l0ZSAnZmxvd19wb3NpdGlvbnNfdGFidWxhcicsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XHJcblx0Y2hlY2sodGFibGVOYW1lLCBTdHJpbmcpO1xyXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xyXG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR0aGlzLnVuYmxvY2soKVxyXG5cclxuXHRmaW5kOiAtPlxyXG5cdFx0dGhpcy51bmJsb2NrKClcclxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLmZpbmQge19pZDogeyRpbjogaWRzfX0sIGZpZWxkczogZmllbGRzXHJcblxyXG5cdGNoaWxkcmVuOiBbXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIGZsb3dfcm9sZXNcclxuXHRcdFx0XHRkYi5mbG93X3JvbGVzLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLnJvbGUgfSwgZmllbGRzOiBuYW1lOiAxXHJcblx0XHR9XHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIG9yZ2FuaXphdGlvbnNcclxuXHRcdFx0XHRkYi5vcmdhbml6YXRpb25zLmZpbmQgeyBfaWQ6IHBvc2l0aW9uLm9yZyB9LCBmaWVsZHM6IGZ1bGxuYW1lOiAxXHJcblx0XHR9XHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChwb3NpdGlvbikgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcclxuXHRcdFx0XHRcdHNwYWNlOiBwb3NpdGlvbi5zcGFjZVxyXG5cdFx0XHRcdFx0dXNlcjogJGluOiBwb3NpdGlvbi51c2Vyc1xyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHR1c2VyOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHR9XHJcblx0XSIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLnJvbGVcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHBvc2l0aW9uLm9yZ1xuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKHBvc2l0aW9uKSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IHBvc2l0aW9uLnNwYWNlLFxuICAgICAgICAgICAgdXNlcjoge1xuICAgICAgICAgICAgICAkaW46IHBvc2l0aW9uLnVzZXJzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIlxyXG5cclxuXHRNZXRlb3IucHVibGlzaCAnZmxvd19yb2xlcycsIChzcGFjZUlkKS0+XHJcblx0XHRcclxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblx0XHRcclxuXHRcdHVubGVzcyBzcGFjZUlkXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdFx0cmV0dXJuIGRiLmZsb3dfcm9sZXMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7bmFtZToxfX0pO1xyXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19yb2xlcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dzJywgKHNwYWNlSWQpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0IyDnrKzkuIDmrKHorqLpmIXml7bliJ3lp4vljJblt6XkvZzljLpcclxuXHRpZiBkYi5mbG93cy5maW5kKHtzcGFjZTogc3BhY2VJZH0pLmNvdW50KCkgPT0gMFxyXG5cdFx0ZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZClcclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge1xyXG5cdFx0ZmllbGRzOiB7XHJcblx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdGZvcm06IDEsXHJcblx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRwZXJtczogMSxcclxuXHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXHJcblx0XHRcdHNvcnRfbm86IDFcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuXHJcbk1ldGVvci5wdWJsaXNoICdmbG93X3ZlcnNpb24nLCAoc3BhY2VJZCwgZmxvd0lkLCB2ZXJzaW9uSWQpIC0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBmbG93SWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHZlcnNpb25JZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdGdldEZsb3dWZXJzaW9uID0gKGlkICwgdmVyc2lvbklkKS0+XHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkIDogaWR9KTtcclxuXHRcdGlmIGZsb3dcclxuXHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50XHJcblx0XHRcdGZsb3dfdmVyc2lvbi5sYXRlc3QgPSB0cnVlXHJcblxyXG5cdFx0XHRpZiBmbG93X3ZlcnNpb24uX2lkICE9IHZlcnNpb25JZFxyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IGZhbHNlXHJcblxyXG5cdFx0XHRyZXR1cm4gZmxvd192ZXJzaW9uXHJcblx0aGFuZGxlID0gZGIuZmxvd3MuZmluZCh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcclxuXHR9XHJcblxyXG5cclxuXHRzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKClcclxuXHJcbk1ldGVvci5wdWJsaXNoICdkaXN0cmlidXRlX29wdGlvbmFsX2Zsb3dzJywgKGZsb3dfaWRzKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBmbG93X2lkc1xyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93X2lkc319LCB7XHJcblx0XHRmaWVsZHM6IHtcclxuXHRcdFx0bmFtZTogMSxcclxuXHRcdFx0Zm9ybTogMSxcclxuXHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdHBlcm1zOiAxLFxyXG5cdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXHJcblx0XHRcdGNvbXBhbnlfaWQ6IDFcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3cnLCAoc3BhY2VJZCwgZmxvd0lkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBmbG93SWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtfaWQ6IGZsb3dJZCwgc3BhY2U6IHNwYWNlSWR9LCB7XHJcblx0XHRmaWVsZHM6IHtcclxuXHRcdFx0cHJpbnRfdGVtcGxhdGU6IDEsXHJcblx0XHRcdGluc3RhbmNlX3RlbXBsYXRlOiAxLFxyXG5cdFx0XHRldmVudHM6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcclxuXHRcdFx0dXBsb2FkX2FmdGVyX2JlaW5nX2Rpc3RyaWJ1dGVkOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXHJcblx0XHRcdGNvbXBhbnlfaWQ6IDEsXHJcblx0XHRcdGFsbG93X3NlbGVjdF9zdGVwOiAxXHJcblx0XHR9XHJcblx0fSlcclxuXHJcbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93c190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblx0Y2hlY2soaWRzLCBBcnJheSk7XHJcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHRoaXMudW5ibG9jaygpXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHR0aGlzLnVuYmxvY2soKVxyXG5cdFx0ZGIuZmxvd3MuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcclxuXHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGZsb3cpIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXHJcblx0XHRcdFx0ZGIuc3BhY2VfdXNlcnMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZSxcclxuXHRcdFx0XHRcdHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHR1c2VyOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHR9LFxyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcclxuXHRcdFx0XHRkYi5mb3Jtcy5maW5kIHtcclxuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxyXG5cdFx0XHRcdFx0X2lkOiBmbG93LmZvcm1cclxuXHRcdFx0XHR9LCBmaWVsZHM6XHJcblx0XHRcdFx0XHRzcGFjZTogMVxyXG5cdFx0XHRcdFx0X2lkOiAxXHJcblx0XHRcdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRcdFx0Y2F0ZWdvcnk6IDFcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLmNhdGVnb3JpZXMuZmluZCB7XHJcblx0XHRcdFx0XHRzcGFjZTogZmxvdy5zcGFjZVxyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHRfaWQ6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdH1cclxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChkYi5mbG93cy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgZGIuc3BhY2VzLmNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3coc3BhY2VJZCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgY29tcGFueV9pZDogMSxcbiAgICAgIHNvcnRfbm86IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93X3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rmxvd1ZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGbG93VmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoZmxvdykge1xuICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5jdXJyZW50O1xuICAgICAgZmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWU7XG4gICAgICBpZiAoZmxvd192ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICAgIGZsb3dfdmVyc2lvbiA9IGZsb3cuaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2U7XG4gICAgICB9XG4gICAgICByZXR1cm4gZmxvd192ZXJzaW9uO1xuICAgIH1cbiAgfTtcbiAgaGFuZGxlID0gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGbG93VmVyc2lvbihmbG93SWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCBmdW5jdGlvbihmbG93X2lkcykge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZsb3dfaWRzKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiB7XG4gICAgICAkaW46IGZsb3dfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgcGVybXM6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZmxvdycsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgX2lkOiBmbG93SWQsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcHJpbnRfdGVtcGxhdGU6IDEsXG4gICAgICBpbnN0YW5jZV90ZW1wbGF0ZTogMSxcbiAgICAgIGV2ZW50czogMSxcbiAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICBkaXN0cmlidXRlX3RvX3NlbGY6IDEsXG4gICAgICB1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXG4gICAgICBkaXN0cmlidXRlX2VuZF9ub3RpZmljYXRpb246IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgYWxsb3dfc2VsZWN0X3N0ZXA6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlKCdmbG93c190YWJ1bGFyJywgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICB0aGlzLnVuYmxvY2soKTtcbiAgcmV0dXJuIHtcbiAgICBmaW5kOiBmdW5jdGlvbigpIHtcbiAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgcmV0dXJuIGRiLmZsb3dzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlkc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoaWxkcmVuOiBbXG4gICAgICB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIHVzZXI6IGZsb3cuY3VycmVudC5tb2RpZmllZF9ieVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgdXNlcjogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpbmQ6IGZ1bmN0aW9uKGZsb3cpIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZSxcbiAgICAgICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGNhdGVnb3J5OiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgICAgICAgc3BhY2U6IGZsb3cuc3BhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXVxuICB9O1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZm9ybXMnLCAoc3BhY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge25hbWU6IDEsIGNhdGVnb3J5OiAxLCBzdGF0ZTogMSwgZGVzY3JpcHRpb246IDEsIGluc3RhbmNlX3N0eWxlOiAxfX0pXHJcblxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zvcm1fdmVyc2lvbicsIChzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkgLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGZvcm1JZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgdmVyc2lvbklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0Z2V0Rm9ybVZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQgOiBpZH0pO1xyXG5cdFx0aWYgIWZvcm1cclxuXHRcdFx0cmV0dXJuIHt9XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlXHJcblx0XHRpZiBmb3JtX3ZlcnNpb24uX2lkICE9IHZlcnNpb25JZFxyXG5cdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKVxyXG5cdFx0XHRmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2VcclxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb25cclxuXHJcblx0aGFuZGxlID0gZGIuZm9ybXMuZmluZCh7X2lkOiBmb3JtSWR9LCB7ZmllbGRzOiB7X2lkOiAxLCBcImN1cnJlbnQubW9kaWZpZWRcIjogMX19KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcclxuXHR9XHJcblxyXG5cdHNlbGYuYWRkZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oZm9ybUlkLCB2ZXJzaW9uSWQpKTtcclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdmb3JtcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuZm9ybXMuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgIGluc3RhbmNlX3N0eWxlOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZm9ybV92ZXJzaW9uJywgZnVuY3Rpb24oc3BhY2VJZCwgZm9ybUlkLCB2ZXJzaW9uSWQpIHtcbiAgdmFyIGdldEZvcm1WZXJzaW9uLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmb3JtSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghdmVyc2lvbklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0Rm9ybVZlcnNpb24gPSBmdW5jdGlvbihpZCwgdmVyc2lvbklkKSB7XG4gICAgdmFyIGZvcm0sIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSk7XG4gICAgaWYgKCFmb3JtKSB7XG4gICAgICByZXR1cm4ge307XG4gICAgfVxuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgICBmb3JtX3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uLl9pZCAhPT0gdmVyc2lvbklkKSB7XG4gICAgICBmb3JtX3ZlcnNpb24gPSBmb3JtLmhpc3RvcnlzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdmVyc2lvbklkKTtcbiAgICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgfTtcbiAgaGFuZGxlID0gZGIuZm9ybXMuZmluZCh7XG4gICAgX2lkOiBmb3JtSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IDFcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihpZCwgdmVyc2lvbklkKSk7XG4gICAgfVxuICB9KTtcbiAgc2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZV9kYXRhJywgKGluc3RhbmNlSWQsIGJveCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXHJcblx0XHQnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXVxyXG5cclxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXVxyXG5cclxuXHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzID0ge31cclxuXHJcblx0aW5zdGFuY2VfZmllbGRzXzAgPSB7XHJcblx0XHRcInJlY29yZF9zeW5jZWRcIjogMCxcclxuXHJcbiNcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcclxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5yZWFkX2RhdGVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmlzX2Vycm9yXCI6IDAsXHJcblx0XHQjIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJfbmFtZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZGVhZGxpbmVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRfYnlcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuY2NfdXNlcnNcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxyXG5cdH1cclxuXHJcblx0Z2V0TXlhcHByb3ZlTW9kaWZpZWQgPSAodHJhY2VzKS0+XHJcblx0XHRteUFwcHJvdmVNb2RpZmllZHMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdHRyYWNlcz8uZm9yRWFjaCAodHJhY2UpLT5cclxuXHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0aWYgKGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQpXHJcblx0XHRcdFx0IyAmJiAhYXBwcm92ZS5pc19maW5pc2hlZFxyXG4jXHRcdFx0XHRcdGNvbnNvbGUubG9nKFwiYXBwcm92ZVwiLCBhcHByb3ZlLl9pZCwgYXBwcm92ZS5yZWFkX2RhdGUpXHJcblxyXG5cdFx0XHRcdFx0bXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpXHJcblxyXG5cdFx0cmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkc1xyXG5cclxuXHJcblx0Z2V0TWluaUluc3RhbmNlID0gKF9pbnN0YW5jZUlkKS0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnN0YW5jZUlkfSwge2ZpZWxkczogaW5zdGFuY2VfZmllbGRzXzB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlXHJcblxyXG5cdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2ggKGtleSktPlxyXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcclxuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcylcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldXHJcblxyXG4jXHRcdFx0aGFzT3BpbmlvbkZpZWxkID0gSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZChpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdFx0XHRzaG93X21vZGFsX3RyYWNlc19saXN0ID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7IHNwYWNlOiBpbnN0YW5jZS5zcGFjZSwga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIiB9LCB7IGZpZWxkczogeyB2YWx1ZXM6IDEgfSB9KT8udmFsdWVzIHx8IGZhbHNlXHJcblxyXG5cdFx0XHRpZiBzaG93X21vZGFsX3RyYWNlc19saXN0XHJcblxyXG5cdFx0XHRcdHRyYWNlcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdFx0XHRpbnN0YW5jZT8udHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxyXG5cdFx0XHRcdFx0X3RyYWNlID0gXy5jbG9uZSh0cmFjZSlcclxuXHJcblx0XHRcdFx0XHRhcHByb3ZlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdFx0dHJhY2U/LmFwcHJvdmVzPy5mb3JFYWNoIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSAhPSAnY2MnIHx8IGFwcHJvdmUudXNlciA9PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKVxyXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVzLnB1c2goYXBwcm92ZSlcclxuXHJcblx0XHRcdFx0XHRfdHJhY2UuYXBwcm92ZXMgPSBhcHByb3Zlc1xyXG5cclxuXHRcdFx0XHRcdHRyYWNlcy5wdXNoKF90cmFjZSlcclxuXHJcblx0XHRcdFx0aW5zdGFuY2UudHJhY2VzID0gdHJhY2VzO1xyXG5cclxuXHRcdHJldHVybiBpbnN0YW5jZVxyXG5cclxuXHJcblx0bmVlZENoYW5nZSA9IChjaGFuZ2VGaWVsZHMpLT5cclxuXHRcdGlmIGNoYW5nZUZpZWxkc1xyXG5cclxuXHRcdFx0X2NoYW5nZSA9IGZhbHNlXHJcblxyXG5cdFx0XHRfcmV2ID0gXy5maW5kIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIChrZXkpLT5cclxuXHRcdFx0XHRfa2V5ID0ga2V5XHJcblxyXG5cdFx0XHRcdGlmIGtleSA9PSAnX215X2FwcHJvdmVfcmVhZF9kYXRlcydcclxuXHRcdFx0XHRcdF9rZXkgPSAndHJhY2VzJ1xyXG5cclxuXHRcdFx0XHRpZiBfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpXHJcblxyXG5cdFx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xyXG5cclxuXHRcdFx0XHRcdFx0X215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcylcclxuXHJcbiNcdFx0XHRcdFx0XHRjb25zb2xlLmxvZyh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcylcclxuXHJcblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIGNoYW5nZUZpZWxkc1trZXldKVxyXG5cclxuXHRcdFx0aWYgX3JldlxyXG5cdFx0XHRcdF9jaGFuZ2UgPSB0cnVlXHJcblxyXG4jXHRcdFx0Y29uc29sZS5sb2coX3JldiwgX2NoYW5nZSlcclxuXHJcblx0XHRcdHJldHVybiBfY2hhbmdlXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHQj5q2k5aSE5LiN6IO95re75YqgZmllbGRz6ZmQ5Yi277yM5ZCm5YiZ5Lya5a+86Ie05pWw5o2u5LiN5a6e5pe2XHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XHJcblx0XHRcdGlmKGJveCAhPSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSlcclxuXHRcdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGdldE1pbmlJbnN0YW5jZShpZCkpO1xyXG5cdFx0cmVtb3ZlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XHJcblx0fVxyXG5cclxuXHRpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKVxyXG5cclxuXHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGluc3RhbmNlPy5faWQsIGluc3RhbmNlKTtcclxuXHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcblxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX3RyYWNlcycsIChpbnN0YW5jZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBpbnN0YW5jZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzXHJcblxyXG5cdGdldEluc3RhbmNlVHJhY2VzID0gKF9pbnNJZCktPlxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IF9pbnNJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIHRyYWNlczogMX19KVxyXG5cclxuXHJcblx0aGFuZGxlID0gIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IGluc3RhbmNlSWR9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRjaGFuZ2VkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcclxuXHR9XHJcblxyXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZV9kYXRhJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgYm94KSB7XG4gIHZhciBnZXRNaW5pSW5zdGFuY2UsIGdldE15YXBwcm92ZU1vZGlmaWVkLCBoYW5kbGUsIGluc3RhbmNlLCBpbnN0YW5jZV9maWVsZHNfMCwgbWluaUFwcHJvdmVGaWVsZHMsIG5lZWRDaGFuZ2UsIHNlbGYsIHRyaWdnZXJDaGFuZ2VGaWVsZHMsIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nLCAnYXV0b19zdWJtaXR0ZWQnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkcyA9IFsnZm9ybV92ZXJzaW9uJywgJ2Zsb3dfdmVyc2lvbicsICdyZWxhdGVkX2luc3RhbmNlcycsICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ107XG4gIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fTtcbiAgaW5zdGFuY2VfZmllbGRzXzAgPSB7XG4gICAgXCJyZWNvcmRfc3luY2VkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmhhbmRsZXJfb3JnYW5pemF0aW9uXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuY29zdF90aW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZF9kYXRlXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kZWRfY291bnRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZ2VvbG9jYXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmZyb21fYXBwcm92ZV9pZFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLnZhbHVlc19oaXN0b3J5XCI6IDBcbiAgfTtcbiAgZ2V0TXlhcHByb3ZlTW9kaWZpZWQgPSBmdW5jdGlvbih0cmFjZXMpIHtcbiAgICB2YXIgbXlBcHByb3ZlTW9kaWZpZWRzO1xuICAgIG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmICh0cmFjZXMgIT0gbnVsbCkge1xuICAgICAgdHJhY2VzLmZvckVhY2goZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgcmV0dXJuIHRyYWNlICE9IG51bGwgPyAocmVmID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgaWYgKGFwcHJvdmUudXNlciA9PT0gc2VsZi51c2VySWQgfHwgYXBwcm92ZS5oYW5kbGVyID09PSBzZWxmLnVzZXJJZCkge1xuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcy5wdXNoKGFwcHJvdmUucmVhZF9kYXRlKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBteUFwcHJvdmVNb2RpZmllZHM7XG4gIH07XG4gIGdldE1pbmlJbnN0YW5jZSA9IGZ1bmN0aW9uKF9pbnN0YW5jZUlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHJlZjEsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IGluc3RhbmNlX2ZpZWxkc18wXG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICB0cmlnZ2VyQ2hhbmdlRmllbGRzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBnZXRNeWFwcHJvdmVNb2RpZmllZChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiB0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0gPSBpbnN0YW5jZVtrZXldO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSAoKHJlZiA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICAgIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdmFsdWVzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgICBpZiAoc2hvd19tb2RhbF90cmFjZXNfbGlzdCkge1xuICAgICAgICB0cmFjZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgaWYgKGluc3RhbmNlICE9IG51bGwpIHtcbiAgICAgICAgICBpZiAoKHJlZjEgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgIHJlZjEuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgICAgICB2YXIgX3RyYWNlLCBhcHByb3ZlcywgcmVmMjtcbiAgICAgICAgICAgICAgX3RyYWNlID0gXy5jbG9uZSh0cmFjZSk7XG4gICAgICAgICAgICAgIGFwcHJvdmVzID0gbmV3IEFycmF5KCk7XG4gICAgICAgICAgICAgIGlmICh0cmFjZSAhPSBudWxsKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYyID0gdHJhY2UuYXBwcm92ZXMpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZjIuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhcHByb3ZlLnR5cGUgIT09ICdjYycgfHwgYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkIHx8ICghXy5pc0VtcHR5KGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlKSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzO1xuICAgICAgICAgICAgICByZXR1cm4gdHJhY2VzLnB1c2goX3RyYWNlKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBpbnN0YW5jZTtcbiAgfTtcbiAgbmVlZENoYW5nZSA9IGZ1bmN0aW9uKGNoYW5nZUZpZWxkcykge1xuICAgIHZhciBfY2hhbmdlLCBfcmV2O1xuICAgIGlmIChjaGFuZ2VGaWVsZHMpIHtcbiAgICAgIF9jaGFuZ2UgPSBmYWxzZTtcbiAgICAgIF9yZXYgPSBfLmZpbmQodHJpZ2dlckNoYW5nZUZpZWxkcywgZnVuY3Rpb24oa2V5KSB7XG4gICAgICAgIHZhciBfa2V5LCBfbXlfYXBwcm92ZV9tb2RpZmllZHM7XG4gICAgICAgIF9rZXkgPSBrZXk7XG4gICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgIF9rZXkgPSAndHJhY2VzJztcbiAgICAgICAgfVxuICAgICAgICBpZiAoXy5oYXMoY2hhbmdlRmllbGRzLCBfa2V5KSkge1xuICAgICAgICAgIGlmIChrZXkgPT09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJykge1xuICAgICAgICAgICAgX215X2FwcHJvdmVfbW9kaWZpZWRzID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoY2hhbmdlRmllbGRzLnRyYWNlcyk7XG4gICAgICAgICAgICByZXR1cm4gIV8uaXNFcXVhbCh0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzW2tleV0sIF9teV9hcHByb3ZlX21vZGlmaWVkcyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoX3Jldikge1xuICAgICAgICBfY2hhbmdlID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBfY2hhbmdlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgaWYgKGJveCAhPT0gJ2luYm94JyB8fCBuZWVkQ2hhbmdlKGZpZWxkcykpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaW5zdGFuY2UgPSBnZXRNaW5pSW5zdGFuY2UoaW5zdGFuY2VJZCk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLl9pZCA6IHZvaWQgMCwgaW5zdGFuY2UpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX3RyYWNlcycsIGZ1bmN0aW9uKGluc3RhbmNlSWQpIHtcbiAgdmFyIGdldEluc3RhbmNlVHJhY2VzLCBoYW5kbGUsIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEluc3RhbmNlVHJhY2VzID0gZnVuY3Rpb24oX2luc0lkKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogX2luc0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgdHJhY2VzOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiaW5zdGFuY2VfdHJhY2VzXCIsIGluc3RhbmNlSWQsIGdldEluc3RhbmNlVHJhY2VzKGluc3RhbmNlSWQpKTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJcclxuXHRNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2xpc3QnLCAoc3BhY2VJZCwgYm94LCBmbG93SWQpLT5cclxuXHJcblx0XHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cdFx0XHJcblx0XHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdFx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XHJcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiXHJcblx0XHRcdHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XHJcblx0XHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXHJcblx0XHRcdHF1ZXJ5Lm91dGJveF91c2VycyA9IHRoaXMudXNlcklkO1xyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJkcmFmdFwiXHJcblx0XHRcdHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIlxyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJwZW5kaW5nXCJcclxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHRcdGVsc2UgaWYgYm94ID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJtb25pdG9yXCJcclxuXHRcdFx0cXVlcnkuZmxvdyA9IGZsb3dJZDtcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSB7JGluOiBbXCJwZW5kaW5nXCIsXCJjb21wbGV0ZWRcIl19O1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IFwibm9uZVwiXHJcblxyXG5cdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7bmFtZToxLCBjcmVhdGVkOjEsIGZvcm06MSwgZmxvdzogMSwgc3BhY2U6MSwgbW9kaWZpZWQ6MSwgYXBwbGljYW50OiAxLCBpc19hcmNoaXZlZDoxLCBmb3JtX3ZlcnNpb246IDEsIGZsb3dfdmVyc2lvbjogMX19KVxyXG5cclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19saXN0JywgZnVuY3Rpb24oc3BhY2VJZCwgYm94LCBmbG93SWQpIHtcbiAgdmFyIHF1ZXJ5O1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH07XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIHF1ZXJ5LmluYm94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm91dGJveFwiKSB7XG4gICAgcXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcImRyYWZ0XCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiZHJhZnRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwicGVuZGluZ1wiKSB7XG4gICAgcXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XG4gICAgcXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH0gZWxzZSBpZiAoYm94ID09PSBcIm1vbml0b3JcIikge1xuICAgIHF1ZXJ5LmZsb3cgPSBmbG93SWQ7XG4gICAgcXVlcnkuc3RhdGUgPSB7XG4gICAgICAkaW46IFtcInBlbmRpbmdcIiwgXCJjb21wbGV0ZWRcIl1cbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJub25lXCI7XG4gIH1cbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY3JlYXRlZDogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBmbG93OiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBtb2RpZmllZDogMSxcbiAgICAgIGFwcGxpY2FudDogMSxcbiAgICAgIGlzX2FyY2hpdmVkOiAxLFxuICAgICAgZm9ybV92ZXJzaW9uOiAxLFxuICAgICAgZmxvd192ZXJzaW9uOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IChpbnN0YW5jZWlkLCB1c2VySWQsIGRhdGFNYXAsIGNhbGxiYWNrKS0+XHJcblx0b3BlcmF0aW9uID0gW3tcclxuXHRcdFwiJG1hdGNoXCI6IHtcclxuXHRcdFx0XCJfaWRcIjogaW5zdGFuY2VpZFxyXG5cdFx0fVxyXG5cdH0sIHtcIiRwcm9qZWN0XCI6IHtcIm5hbWVcIjogMSwgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIn19LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LCB7XCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJ9LFxyXG5cdFx0e1wiJG1hdGNoXCI6IHtcIl9hcHByb3ZlLmlzX2ZpbmlzaGVkXCI6IHRydWUsICRvcjpbe1wiX2FwcHJvdmUuaGFuZGxlclwiOiB1c2VySWR9LHtcIl9hcHByb3ZlLnVzZXJcIjogdXNlcklkfV19fSxcclxuXHRcdHtcIiRncm91cFwiOiB7XCJfaWRcIjogXCIkX2lkXCIsIFwiZmluaXNoX2RhdGVcIjoge1wiJGxhc3RcIjogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19fVxyXG5cdF1cclxuXHJcblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUob3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpLT5cclxuXHRcdGlmIGVyclxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cclxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRkYXRhTWFwLnB1c2ggZG9jXHJcblxyXG5cdFx0aWYgY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKVxyXG5cdFx0XHRjYWxsYmFjaygpXHJcblx0XHRyZXR1cm5cclxuXHJcbmFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSA9IE1ldGVvci53cmFwQXN5bmMobGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSlcclxuXHJcbk1ldGVvci5wdWJsaXNoIFwiaW5zdGFuY2VfdGFidWxhclwiLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblxyXG5cdGNoZWNrKGlkcywgQXJyYXkpO1xyXG5cclxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpXHJcblxyXG5cdGZpZWxkcy5jY191c2VycyA9IDFcclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZSA9ICh1c2VySWQsIGluc3RhbmNlSWQpLT5cclxuXHRcdGRhdGEgPSBbXVxyXG5cdFx0YXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlKGluc3RhbmNlSWQsIHVzZXJJZCwgZGF0YSlcclxuXHRcdGlmIGRhdGEubGVuZ3RoID4gMFxyXG5cdFx0XHRyZXR1cm4gZGF0YVswXVxyXG5cclxuXHJcblx0Z2V0TXlBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSwge2ZpZWxkczoge3RyYWNlczogMX19KVxyXG5cdFx0bXlBcHByb3ZlID0gbnVsbFxyXG5cclxuXHRcdGlmICFpbnN0YW5jZVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRpZiAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdG5vdEZpbmlzaGVkVHJhY2VzID0gaW5zdGFuY2UudHJhY2VzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpXHJcblxyXG5cdFx0aWYgbm90RmluaXNoZWRUcmFjZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRhcHByb3ZlcyA9IG5vdEZpbmlzaGVkVHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KFwiaXNfZmluaXNoZWRcIiwgZmFsc2UpLmZpbHRlclByb3BlcnR5KFwiaGFuZGxlclwiLCB1c2VySWQpO1xyXG5cclxuXHRcdFx0aWYgYXBwcm92ZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdGFwcHJvdmUgPSBhcHByb3Zlc1swXVxyXG5cdFx0XHRcdG15QXBwcm92ZSA9IHtcclxuXHRcdFx0XHRcdGlkOiBhcHByb3ZlLl9pZCxcclxuXHRcdFx0XHRcdGluc3RhbmNlOiBhcHByb3ZlLmluc3RhbmNlLFxyXG5cdFx0XHRcdFx0dHJhY2U6IGFwcHJvdmUudHJhY2UsXHJcblx0XHRcdFx0XHRpc19yZWFkOiBhcHByb3ZlLmlzX3JlYWQsXHJcblx0XHRcdFx0XHRzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdGFnZW50OiBhcHByb3ZlLmFnZW50XHJcblx0XHRcdFx0XHR1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdGlmICFteUFwcHJvdmVcclxuXHRcdFx0aXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdGluc3RhbmNlLnRyYWNlcy5mb3JFYWNoICh0cmFjZSkgLT5cclxuXHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpIC0+XHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gJ2NjJyBhbmQgYXBwcm92ZS51c2VyID09IHVzZXJJZCBhbmQgYXBwcm92ZS5pc19maW5pc2hlZCA9PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRpZiBhcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRcdFx0XHRpc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRteUFwcHJvdmUgPSB7aWQ6IGFwcHJvdmUuX2lkLCBpc19yZWFkOiBpc19yZWFkLCBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsIGFnZW50OiBhcHByb3ZlLmFnZW50LCB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lfVxyXG5cclxuXHRcdHJldHVybiBteUFwcHJvdmVcclxuXHJcblx0Z2V0U3RlcEN1cnJlbnROYW1lID0gKGluc3RhbmNlSWQpIC0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7XCJ0cmFjZXMubmFtZVwiOiAxLCBcInRyYWNlc1wiOiB7JHNsaWNlOiAtMX19fSlcclxuXHRcdGlmIGluc3RhbmNlXHJcblx0XHRcdHN0ZXBDdXJyZW50TmFtZSA9IGluc3RhbmNlLnRyYWNlcz9bMF0/Lm5hbWVcclxuXHJcblx0XHRyZXR1cm4gc3RlcEN1cnJlbnROYW1lXHJcblxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlkc319LCB7ZmllbGRzOiB7dHJhY2VzOiAwfX0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHRteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0XHRpZiBteUFwcHJvdmVcclxuXHRcdFx0XHRpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWRcclxuXHRcdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRpZiBteUFwcHJvdmUuYWdlbnRcclxuXHRcdFx0XHRcdGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXHJcblxyXG5cdFx0XHRpZiBteUxhc3RGaW5pc2hlZEFwcHJvdmVcclxuXHRcdFx0XHRpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZVxyXG5cclxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRcdGluc3RhbmNlLmNjX2NvdW50ID0gaW5zdGFuY2UuY2NfdXNlcnM/Lmxlbmd0aCB8fCAwXHJcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcclxuXHRcdHJlbW92ZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xyXG5cdH1cclxuXHJcblx0aWRzLmZvckVhY2ggKGlkKS0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXHJcblx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0aWYgbXlBcHByb3ZlXHJcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XHJcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXHJcblx0XHRlbHNlXHJcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXHJcblxyXG5cdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXHJcblx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXHJcblxyXG5cdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxyXG5cdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwidmFyIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSwgbGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZTtcblxubGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wZXJhdGlvbjtcbiAgb3BlcmF0aW9uID0gW1xuICAgIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfaWRcIjogaW5zdGFuY2VpZFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHByb2plY3RcIjoge1xuICAgICAgICBcIm5hbWVcIjogMSxcbiAgICAgICAgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUudXNlclwiOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRncm91cFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IFwiJF9pZFwiLFxuICAgICAgICBcImZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICBcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXTtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIGRhdGFNYXAucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaChcImluc3RhbmNlX3RhYnVsYXJcIiwgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICB2YXIgZ2V0TXlBcHByb3ZlLCBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUsIGdldFN0ZXBDdXJyZW50TmFtZSwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBmaWVsZHMuY2NfdXNlcnMgPSAxO1xuICBzZWxmID0gdGhpcztcbiAgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9IFtdO1xuICAgIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpO1xuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkYXRhWzBdO1xuICAgIH1cbiAgfTtcbiAgZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGFwcHJvdmUsIGFwcHJvdmVzLCBpbnN0YW5jZSwgaXNfcmVhZCwgbXlBcHByb3ZlLCBub3RGaW5pc2hlZFRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBteUFwcHJvdmUgPSBudWxsO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSk7XG4gICAgaWYgKG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG4gICAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhcHByb3ZlID0gYXBwcm92ZXNbMF07XG4gICAgICAgIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgaW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG4gICAgICAgICAgdHJhY2U6IGFwcHJvdmUudHJhY2UsXG4gICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbXlBcHByb3ZlKSB7XG4gICAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS50cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlID09PSAnY2MnICYmIGFwcHJvdmUudXNlciA9PT0gdXNlcklkICYmIGFwcHJvdmUuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgICAgIGlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBpc19yZWFkOiBpc19yZWFkLFxuICAgICAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZTtcbiAgfTtcbiAgZ2V0U3RlcEN1cnJlbnROYW1lID0gZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzdGVwQ3VycmVudE5hbWU7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlc1wiOiB7XG4gICAgICAgICAgJHNsaWNlOiAtMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBzdGVwQ3VycmVudE5hbWUgPSAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWZbMF0pICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBzdGVwQ3VycmVudE5hbWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0cmFjZXM6IDBcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgICAgaWYgKG15QXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgaWYgKG15QXBwcm92ZS5hZ2VudCkge1xuICAgICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgfVxuICAgICAgaWYgKG15TGFzdEZpbmlzaGVkQXBwcm92ZSkge1xuICAgICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLmlzX2NjID0gKChyZWYgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgOiB2b2lkIDApIHx8IGZhbHNlO1xuICAgICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuICAgIH1cbiAgfSk7XG4gIGlkcy5mb3JFYWNoKGZ1bmN0aW9uKGlkKSB7XG4gICAgdmFyIGluc3RhbmNlLCBteUFwcHJvdmUsIG15TGFzdEZpbmlzaGVkQXBwcm92ZSwgcmVmLCByZWYxO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogZmllbGRzXG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBteUFwcHJvdmUgPSBnZXRNeUFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5pc19yZWFkID0gbXlBcHByb3ZlLmlzX3JlYWQ7XG4gICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICBpZiAobXlBcHByb3ZlLmFnZW50KSB7XG4gICAgICAgIGluc3RhbmNlLmFnZW50X3VzZXJfbmFtZSA9IG15QXBwcm92ZS51c2VyX25hbWU7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlO1xuICAgIH1cbiAgICBpZiAobXlMYXN0RmluaXNoZWRBcHByb3ZlKSB7XG4gICAgICBpbnN0YW5jZS5teV9maW5pc2hfZGF0ZSA9IG15TGFzdEZpbmlzaGVkQXBwcm92ZS5maW5pc2hfZGF0ZTtcbiAgICB9XG4gICAgaW5zdGFuY2UuaXNfY2MgPSAoKHJlZiA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKHNlbGYudXNlcklkKSA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgaW5zdGFuY2UuY2NfY291bnQgPSAoKHJlZjEgPSBpbnN0YW5jZS5jY191c2VycykgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICByZXR1cm4gc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xuICB9KTtcbiAgc2VsZi5yZWFkeSgpO1xuICByZXR1cm4gc2VsZi5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnaW5zdGFuY2VzX2RyYWZ0JywgKHNwYWNlSWQpIC0+XHJcblx0Y2hlY2sgc3BhY2VJZCwgU3RyaW5nXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7c3RhdGU6XCJkcmFmdFwiLHNwYWNlOnNwYWNlSWQsc3VibWl0dGVyOnVzZXJJZCwkb3I6W3tpbmJveF91c2VyczogeyRleGlzdHM6ZmFsc2V9fSwge2luYm94X3VzZXJzOiBbXX1dfSwge2ZpZWxkczoge19pZDogMSwgc3RhdGU6IDEsIHNwYWNlOiAxLCBzdWJtaXR0ZXI6IDEsIGluYm94X3VzZXJzOiAxLCBtb2RpZmllZDogMSwgbmFtZTogMX0sIHNvcnQ6e21vZGlmaWVkOiAtMX19KSIsIk1ldGVvci5wdWJsaXNoKCdpbnN0YW5jZXNfZHJhZnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciB1c2VySWQ7XG4gIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHVzZXJJZCA9IHRoaXMudXNlcklkO1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIHN0YXRlOiBcImRyYWZ0XCIsXG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgc3VibWl0dGVyOiB1c2VySWQsXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgIGluYm94X3VzZXJzOiB7XG4gICAgICAgICAgJGV4aXN0czogZmFsc2VcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBpbmJveF91c2VyczogW11cbiAgICAgIH1cbiAgICBdXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMSxcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzdWJtaXR0ZXI6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgbmFtZTogMVxuICAgIH0sXG4gICAgc29ydDoge1xuICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVkX2luc3RhbmNlc19zdGF0ZV9ieV9pZHMnLCAoaW5zdGFuY2VfaWRzKS0+XHJcblx0Y2hlY2soaW5zdGFuY2VfaWRzLCBBcnJheSlcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblx0XHJcblx0dW5sZXNzIGluc3RhbmNlX2lkc1xyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRpZiBfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKVxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRzZWxmID0gdGhpc1xyXG5cclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiBpbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge3N0YXRlOiAxLCB0cmFjZXM6eyRzbGljZTogMX0gfSB9KS5vYnNlcnZlQ2hhbmdlcyB7XHJcblx0XHRhZGRlZDogKGlkLCBmaWVsZHMpLT5cclxuXHRcdFx0c2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlLCBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxyXG5cclxuXHRcdGNoYW5nZWQ6IChpZCwgZmllbGRzKS0+XHJcblx0XHRcdGlmIGZpZWxkcy5zdGF0ZVxyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtzdGF0ZTogZmllbGRzLnN0YXRlfSlcclxuXHRcdFx0aWYgZmllbGRzLnRyYWNlc1xyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWR9KVxyXG5cdH1cclxuXHJcblx0dGhpcy5yZWFkeSgpXHJcblx0dGhpcy5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG4iLCJNZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIGZ1bmN0aW9uKGluc3RhbmNlX2lkcykge1xuICB2YXIgaGFuZGxlLCBzZWxmO1xuICBjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZV9pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmIChfLmlzRW1wdHkoaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaW5zdGFuY2VfaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkc2xpY2U6IDFcbiAgICAgIH1cbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oaWQsIGZpZWxkcykge1xuICAgICAgcmV0dXJuIHNlbGYuYWRkZWQoJ2luc3RhbmNlcycsIGlkLCB7XG4gICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGUsXG4gICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgfSk7XG4gICAgfSxcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoZmllbGRzLnN0YXRlKSB7XG4gICAgICAgIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBzdGF0ZTogZmllbGRzLnN0YXRlXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKGZpZWxkcy50cmFjZXMpIHtcbiAgICAgICAgcmV0dXJuIHNlbGYuY2hhbmdlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgICBpc19yZWFkOiBmaWVsZHMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmlzX3JlYWRcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGhpcy5yZWFkeSgpO1xuICByZXR1cm4gdGhpcy5vblN0b3AoZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIGhhbmRsZS5zdG9wKCk7XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAncmVsYXRlZF9pbnN0YWNlcycsIChpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcyktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgaW5zdGFuY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZWxhdGVkX2luc3RhbmNlX2lkcyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlSWQse2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pPy5yZWxhdGVkX2luc3RhbmNlc1xyXG5cclxuXHRpZiByZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpXHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbiA6IHJlbGF0ZWRfaW5zdGFuY2VfaWRzfX0sIHtmaWVsZHM6IHtfaWQ6IDEsIG5hbWU6IDEsIHNwYWNlOiAxfX0pXHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKSIsIk1ldGVvci5wdWJsaXNoKCdyZWxhdGVkX2luc3RhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgdmFyIHJlZiwgcmVsYXRlZF9pbnN0YW5jZV9pZHM7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghaW5zdGFuY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmVsYXRlZF9pbnN0YW5jZV9pZHMgPSAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCwge1xuICAgIGZpZWxkczoge1xuICAgICAgcmVsYXRlZF9pbnN0YW5jZXM6IDFcbiAgICB9XG4gIH0pKSAhPSBudWxsID8gcmVmLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwO1xuICBpZiAocmVsYXRlZF9pbnN0YW5jZV9pZHMgJiYgXy5pc0FycmF5KHJlbGF0ZWRfaW5zdGFuY2VfaWRzKSkge1xuICAgIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBfaWQ6IHtcbiAgICAgICAgJGluOiByZWxhdGVkX2luc3RhbmNlX2lkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBfaWQ6IDEsXG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuICAgIE1ldGVvci5wdWJsaXNoICdzcGFjZV91c2VyX3NpZ25zJywgKHNwYWNlSWQpIC0+XHJcbiAgICAgICAgY2hlY2sgc3BhY2VJZCwgU3RyaW5nXHJcblxyXG4gICAgICAgIHVubGVzcyB0aGlzLnVzZXJJZFxyXG4gICAgICAgICAgICByZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG4gICAgICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7ZmllbGRzOiB7Y3JlYXRlZF9ieTogMCwgY3JlYXRlZDogMCwgbW9kaWZpZWRfYnk6IDB9fSlcclxuIiwiaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IucHVibGlzaCgnc3BhY2VfdXNlcl9zaWducycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gICAgfVxuICAgIHJldHVybiBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZF9ieTogMCxcbiAgICAgICAgY3JlYXRlZDogMCxcbiAgICAgICAgbW9kaWZpZWRfYnk6IDBcbiAgICAgIH1cbiAgICB9KTtcbiAgfSk7XG59XG4iLCIjIyNcclxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XHJcblx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcclxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcclxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XHJcblx0cXVlcnkgPSB7c3BhY2U6IHskaW46IHVzZXJTcGFjZUlkc319XHJcblxyXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcclxuXHRcdFx0XHRmbG93OiAxLFxyXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxyXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxyXG5cdFx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXHJcblx0XHRcdFx0Zm9ybTogMVxyXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxyXG5cdFx0fSk7XHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XHJcblx0XHRcdFx0ZGIuZmxvd3MuZmluZCh7X2lkOiBpbnN0YW5jZS5mbG93fSwge2ZpZWxkczoge25hbWU6IDEsIHNwYWNlOiAxfX0pO1xyXG5cdFx0fVxyXG5cdF1cclxuIyMjXHJcblxyXG4jIyNcclxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHQjXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcclxuXHQjXHRcdHVzZXI6IHRoaXMudXNlcklkLFxyXG5cdCNcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxyXG5cdCNcdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcclxuXHJcblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XHJcblxyXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXHJcblxyXG5cdGZpZWxkcyA9IHtcclxuXHRcdHNwYWNlOiAxLFxyXG4jXHRcdGFwcGxpY2FudF9uYW1lOiAxLFxyXG5cdFx0ZmxvdzogMSxcclxuXHRcdGluYm94X3VzZXJzOiAxLFxyXG5cdFx0Y2NfdXNlcnM6IDEsXHJcblx0XHRzdGF0ZTogMSxcclxuI1x0XHRuYW1lOiAxLFxyXG4jXHRcdG1vZGlmaWVkOiAxLFxyXG5cdFx0Zm9ybTogMVxyXG5cdH1cclxuXHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGFkZGVkOiAoaWQpLT5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXHJcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSlcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2VcclxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xyXG5cdFx0cmVtb3ZlZDogKGlkKS0+XHJcblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XHJcblx0fVxyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG4jIyNcclxuXHJcbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjayktPlxyXG5cdGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKFtcclxuXHRcdHtcclxuXHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlSWQsXHJcblx0XHRcdFx0JG9yOiBbe2luYm94X3VzZXJzOiB1c2VySWR9LCB7Y2NfdXNlcnM6IHVzZXJJZH1dXHJcblx0XHRcdH1cclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdCRncm91cDoge1xyXG5cdFx0XHRcdF9pZDoge2Zsb3c6IFwiJGZsb3dcIiwgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJ9LCBjb3VudDogeyRzdW06IDF9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHRdKS50b0FycmF5IChlcnIsIGRhdGEpLT5cclxuXHRcdGlmIGVyclxyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoZXJyKVxyXG5cclxuXHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRfaXRlbXMucHVzaCBkb2NcclxuXHJcblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdHJldHVyblxyXG5cclxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgKHNwYWNlSWQpLT5cclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cclxuXHJcblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cclxuXHJcblx0ZGF0YSA9IFtdICAj5pWw5o2u5qC85byP77yaW3tfaWQ6Zmxvd0lkLCBjb3VudDog5b6F5Yqe5pWw6YePfSwge19pZDpmbG93SWQyLCBjb3VudDog5b6F5Yqe5pWw6YePMn1dXHJcblx0X2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUoc3BhY2VJZCwgc2VsZi51c2VySWQsIGRhdGEpXHJcblxyXG5cdF9mbG93c0RhdGEgPSBbXVxyXG5cclxuXHRfLmVhY2ggZGF0YSwgKGRhdGFJdGVtKS0+XHJcblx0XHRfZmxvd3NEYXRhLnB1c2goe19pZDogZGF0YUl0ZW0uX2lkLmZsb3csIGNhdGVnb3J5OiBkYXRhSXRlbS5faWQuY2F0ZWdvcnksIGNvdW50OiBkYXRhSXRlbS5jb3VudH0pXHJcblxyXG5cdHNlbGYuYWRkZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7Zmxvd3M6IF9mbG93c0RhdGF9KTtcclxuXHJcblx0X2NoYW5nZURhdGEgPSAoZG9jLCBhY3Rpb24pLT5cclxuXHRcdGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQgX2Zsb3dzRGF0YSwgKGYpLT5cclxuXHRcdFx0cmV0dXJuIGYuX2lkID09IGRvYy5mbG93XHJcblx0XHRpZiBmbG93X2luc3RhbmNlXHJcblx0XHRcdGlmIGFjdGlvbiA9PSBcImFkZGVkXCJcclxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50KytcclxuXHRcdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJyZW1vdmVkXCJcclxuXHRcdFx0XHRmbG93X2luc3RhbmNlLmNvdW50LS1cclxuXHRcdGVsc2UgaWYgYWN0aW9uID09IFwiYWRkZWRcIlxyXG5cdFx0XHRfZmxvd3NEYXRhLnB1c2gge19pZDogZG9jLmZsb3csIGNhdGVnb3J5OiBkb2MuY2F0ZWdvcnksIGNvdW50OiAxfVxyXG5cclxuXHRcdHNlbGYuY2hhbmdlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xyXG5cclxuXHRfaW5pdCA9IHRydWVcclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge2ZpZWxkczoge19pZDogMSwgaW5ib3hfdXNlcnM6IDEsIGNjX3VzZXJzOiAxLCBmbG93OiAxLCBjYXRlZ29yeTogMX19KS5vYnNlcnZlIHtcclxuXHRcdGFkZGVkOiAoZG9jKS0+XHJcblx0XHRcdGlmICFfaW5pdFxyXG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJhZGRlZFwiKVxyXG5cdFx0cmVtb3ZlZDogKGRvYyktPlxyXG5cdFx0XHRpZiAhX2luaXRcclxuXHRcdFx0XHRfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKVxyXG5cdH1cclxuXHRfaW5pdCA9IGZhbHNlXHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwiXG4vKlxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgXCJ1c2VyX2luYm94X2luc3RhbmNlXCIsICgpLT5cblx0dW5sZXNzIHRoaXMudXNlcklkXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxuXG5cdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHRcdHVzZXJfYWNjZXB0ZWQ6IHRydWVcblx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cblxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxuXG5cdGZpbmQ6IC0+XG5cdFx0ZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcblx0XHRcdGZpZWxkczoge1xuXHRcdFx0XHRzcGFjZTogMSxcblx0XHRcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0XHRcdGZsb3c6IDEsXG5cdFx0XHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdFx0XHRjY191c2VyczogMSxcblx0XHRcdFx0c3RhdGU6IDEsXG5cdFx0XHRcdG5hbWU6IDEsXG5cdFx0XHRcdG1vZGlmaWVkOiAxLFxuXHRcdFx0XHRmb3JtOiAxXG5cdFx0XHR9LCBzb3J0OiB7bW9kaWZpZWQ6IC0xfSwgc2tpcDogMCwgbGltaXQ6IDIwMFxuXHRcdH0pO1xuXHRjaGlsZHJlbjogW1xuXHRcdHtcblx0XHRcdGZpbmQ6IChpbnN0YW5jZSwgcG9zdCktPlxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XG5cdFx0fVxuXHRdXG4gKi9cblxuLypcbk1ldGVvci5wdWJsaXNoICdteV9pbmJveF9pbnN0YW5jZXMnLCAoc3BhY2VJZCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0c2VsZiA9IHRoaXM7XG5cblx0ICpcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuXHQgKlx0XHR1c2VyOiB0aGlzLnVzZXJJZCxcblx0ICpcdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHQgKlx0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xuXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmllbGRzID0ge1xuXHRcdHNwYWNlOiAxLFxuICpcdFx0YXBwbGljYW50X25hbWU6IDEsXG5cdFx0ZmxvdzogMSxcblx0XHRpbmJveF91c2VyczogMSxcblx0XHRjY191c2VyczogMSxcblx0XHRzdGF0ZTogMSxcbiAqXHRcdG5hbWU6IDEsXG4gKlx0XHRtb2RpZmllZDogMSxcblx0XHRmb3JtOiAxXG5cdH1cblxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xuXHRcdGFkZGVkOiAoaWQpLT5cblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxuXHRcdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxuXHRcdGNoYW5nZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG5cdFx0cmVtb3ZlZDogKGlkKS0+XG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xuXHR9XG5cblx0c2VsZi5yZWFkeSgpO1xuXHRzZWxmLm9uU3RvcCAoKS0+XG5cdFx0aGFuZGxlLnN0b3AoKVxuICovXG52YXIgX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUsIF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlO1xuXG5fZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHNwYWNlSWQsIHVzZXJJZCwgX2l0ZW1zLCBjYWxsYmFjaykge1xuICByZXR1cm4gZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xuICAgIHtcbiAgICAgICRtYXRjaDoge1xuICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICAkZ3JvdXA6IHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgZmxvdzogXCIkZmxvd1wiLFxuICAgICAgICAgIGNhdGVnb3J5OiBcIiRjYXRlZ29yeVwiXG4gICAgICAgIH0sXG4gICAgICAgIGNvdW50OiB7XG4gICAgICAgICAgJHN1bTogMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICBdKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgIGlmIChlcnIpIHtcbiAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgIH1cbiAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICByZXR1cm4gX2l0ZW1zLnB1c2goZG9jKTtcbiAgICB9KTtcbiAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSkge1xuICAgICAgY2FsbGJhY2soKTtcbiAgICB9XG4gIH0pO1xufTtcblxuX2FzeW5jX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKF9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKTtcblxuTWV0ZW9yLnB1Ymxpc2goJ215X2luYm94X2Zsb3dfaW5zdGFuY2VzX2NvdW50JywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICB2YXIgX2NoYW5nZURhdGEsIF9mbG93c0RhdGEsIF9pbml0LCBkYXRhLCBoYW5kbGUsIHF1ZXJ5LCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgcXVlcnkuJG9yID0gW1xuICAgIHtcbiAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH0sIHtcbiAgICAgIGNjX3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgIH1cbiAgXTtcbiAgZGF0YSA9IFtdO1xuICBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSk7XG4gIF9mbG93c0RhdGEgPSBbXTtcbiAgXy5lYWNoKGRhdGEsIGZ1bmN0aW9uKGRhdGFJdGVtKSB7XG4gICAgcmV0dXJuIF9mbG93c0RhdGEucHVzaCh7XG4gICAgICBfaWQ6IGRhdGFJdGVtLl9pZC5mbG93LFxuICAgICAgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSxcbiAgICAgIGNvdW50OiBkYXRhSXRlbS5jb3VudFxuICAgIH0pO1xuICB9KTtcbiAgc2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtcbiAgICBmbG93czogX2Zsb3dzRGF0YVxuICB9KTtcbiAgX2NoYW5nZURhdGEgPSBmdW5jdGlvbihkb2MsIGFjdGlvbikge1xuICAgIHZhciBmbG93X2luc3RhbmNlO1xuICAgIGZsb3dfaW5zdGFuY2UgPSBfLmZpbmQoX2Zsb3dzRGF0YSwgZnVuY3Rpb24oZikge1xuICAgICAgcmV0dXJuIGYuX2lkID09PSBkb2MuZmxvdztcbiAgICB9KTtcbiAgICBpZiAoZmxvd19pbnN0YW5jZSkge1xuICAgICAgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQrKztcbiAgICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSBcInJlbW92ZWRcIikge1xuICAgICAgICBmbG93X2luc3RhbmNlLmNvdW50LS07XG4gICAgICB9XG4gICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwiYWRkZWRcIikge1xuICAgICAgX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgICAgX2lkOiBkb2MuZmxvdyxcbiAgICAgICAgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSxcbiAgICAgICAgY291bnQ6IDFcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgICAgZmxvd3M6IF9mbG93c0RhdGFcbiAgICB9KTtcbiAgfTtcbiAgX2luaXQgPSB0cnVlO1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICBjY191c2VyczogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBjYXRlZ29yeTogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZSh7XG4gICAgYWRkZWQ6IGZ1bmN0aW9uKGRvYykge1xuICAgICAgaWYgKCFfaW5pdCkge1xuICAgICAgICByZXR1cm4gX2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpO1xuICAgICAgfVxuICAgIH0sXG4gICAgcmVtb3ZlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwicmVtb3ZlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICBfaW5pdCA9IGZhbHNlO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxyXG5NZXRlb3IucHVibGlzaCAnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIChzcGFjZUlkLCBmbG93SWQpLT5cclxuXHRjaGVjayhzcGFjZUlkLCBTdHJpbmcpXHJcblx0Y2hlY2soZmxvd0lkLCBTdHJpbmcpXHJcblxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZCAmJiBmbG93SWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7IHNwYWNlOiBzcGFjZUlkLCAncGFyZW50Lm8nOiAnZmxvd3MnLCAncGFyZW50Lmlkcyc6IGZsb3dJZCwgIG5hbWU6ICfmraPmlocuZG9jeCcgfSlcclxuIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfbWFpbl9hdHRhY2hfdGVtcGxhdGUnLCBmdW5jdGlvbihzcGFjZUlkLCBmbG93SWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgY2hlY2soZmxvd0lkLCBTdHJpbmcpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIShzcGFjZUlkICYmIGZsb3dJZCkpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBDcmVhdG9yLmdldENvbGxlY3Rpb24oJ2Ntc19maWxlcycpLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICdwYXJlbnQubyc6ICdmbG93cycsXG4gICAgJ3BhcmVudC5pZHMnOiBmbG93SWQsXG4gICAgbmFtZTogJ+ato+aWhy5kb2N4J1xuICB9KTtcbn0pO1xuIiwid29ya2Zsb3dUZW1wbGF0ZSA9IHt9XHJcblxyXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXHJcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaVGbG93TW9kdWxlc++8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xyXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxyXG53b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0gPVtdXHJcblxyXG4j5Y+v55So5q2k6ISa5pys5LuO5qih5p2/5bel5L2c5Yy65YGa5om56YeP5a+85Ye677yaXHJcbiPkvb/nlKjnrqHnkIblkZjotKbmiLfnmbvlvZXlkI7vvIzov5vlhaXmqKHmnb/kuJPljLrvvIzlnKjmjqfliLblj7DmiafooYzku6XkuIvohJrmnKzljbPlj69cclxuI2RiLmZvcm1zLmZpbmQoe3N0YXRlOlwiZW5hYmxlZFwifSkuZm9yRWFjaChmdW5jdGlvbihmb3JtKXt3aW5kb3cub3BlbihNZXRlb3IuYWJzb2x1dGVVcmwoXCJhcGkvd29ya2Zsb3cvZXhwb3J0L2Zvcm0/Zm9ybT1cIitmb3JtLl9pZCkpfSlcclxud29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdID1bXVxyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdGZzID0gcmVxdWlyZSgnZnMnKVxyXG5cdHBhdGggPSByZXF1aXJlKCdwYXRoJylcclxuXHRtaW1lID0gcmVxdWlyZSgnbWltZScpXHJcblx0cmVhZEZpbGVMaXN0ID0gKHBhdGhEaXIsIGZpbGVzTGlzdCktPlxyXG5cdFx0ZmlsZXMgPSBmcy5yZWFkZGlyU3luYyhwYXRoRGlyKVxyXG5cdFx0ZmlsZXMuZm9yRWFjaCAobmFtZSwgaW5kZXgpLT5cclxuXHRcdFx0c3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSlcclxuXHRcdFx0aWYgc3RhdC5pc0RpcmVjdG9yeSgpXHJcblx0XHRcdFx0IyDpgJLlvZLor7vlj5bmlofku7ZcclxuXHRcdFx0XHRyZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRvYmogPSB7fVxyXG5cdFx0XHRcdG9iai5wYXRoID0gcGF0aERpclxyXG5cdFx0XHRcdG9iai5uYW1lID0gbmFtZVxyXG5cdFx0XHRcdGZpbGVzTGlzdC5wdXNoKG9iailcclxuXHJcblx0I+iOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XHJcblx0ZmlsZXNMaXN0X2NuID0gW11cclxuXHRwYXRoX2NuID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX2NuXHJcblx0aWYgcGF0aF9jblxyXG5cdFx0YWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKVxyXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX2NuXCIsIGFic29sdXRlX3BhdGhfY25cclxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbilcclxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbilcclxuXHRcdFx0ZmlsZXNMaXN0X2NuLmZvckVhY2ggKGZpbGUpLT5cclxuXHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXHJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxyXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxyXG5cdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHJcblx0I+iOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XHJcblx0ZmlsZXNMaXN0X3VzID0gW11cclxuXHRwYXRoX3VzID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzPy5wYXRoX3VzXHJcblx0aWYgcGF0aF91c1xyXG5cdFx0YWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKVxyXG5cdFx0Y29uc29sZS5sb2cgXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXNcclxuXHRcdGlmIGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cylcclxuXHRcdFx0cmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF91cylcclxuXHRcdFx0ZmlsZXNMaXN0X3VzLmZvckVhY2ggKGZpbGUpLT5cclxuXHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdGlmIG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpIGlzIFwiYXBwbGljYXRpb24vanNvblwiXHJcblx0XHRcdFx0XHRcdGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKVxyXG5cdFx0XHRcdFx0XHR3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKVxyXG5cdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpXHJcblx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0XHRcclxuXHRcdFx0XHRcdFxyXG5cclxuXHJcbiIsIiAgICAgICAgICAgICAgICAgICAgIFxuXG53b3JrZmxvd1RlbXBsYXRlID0ge307XG5cbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9IFtdO1xuXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPSBbXTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBhYnNvbHV0ZV9wYXRoX2NuLCBhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfY24sIGZpbGVzTGlzdF91cywgZnMsIG1pbWUsIHBhdGgsIHBhdGhfY24sIHBhdGhfdXMsIHJlYWRGaWxlTGlzdCwgcmVmLCByZWYxO1xuICBmcyA9IHJlcXVpcmUoJ2ZzJyk7XG4gIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XG4gIG1pbWUgPSByZXF1aXJlKCdtaW1lJyk7XG4gIHJlYWRGaWxlTGlzdCA9IGZ1bmN0aW9uKHBhdGhEaXIsIGZpbGVzTGlzdCkge1xuICAgIHZhciBmaWxlcztcbiAgICBmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpO1xuICAgIHJldHVybiBmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uKG5hbWUsIGluZGV4KSB7XG4gICAgICB2YXIgb2JqLCBzdGF0O1xuICAgICAgc3RhdCA9IGZzLnN0YXRTeW5jKHBhdGguam9pbihwYXRoRGlyLCBuYW1lKSk7XG4gICAgICBpZiAoc3RhdC5pc0RpcmVjdG9yeSgpKSB7XG4gICAgICAgIHJldHVybiByZWFkRmlsZUxpc3QocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpLCBmaWxlc0xpc3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgb2JqID0ge307XG4gICAgICAgIG9iai5wYXRoID0gcGF0aERpcjtcbiAgICAgICAgb2JqLm5hbWUgPSBuYW1lO1xuICAgICAgICByZXR1cm4gZmlsZXNMaXN0LnB1c2gob2JqKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgZmlsZXNMaXN0X2NuID0gW107XG4gIHBhdGhfY24gPSAocmVmID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmLnBhdGhfY24gOiB2b2lkIDA7XG4gIGlmIChwYXRoX2NuKSB7XG4gICAgYWJzb2x1dGVfcGF0aF9jbiA9IHBhdGgucmVzb2x2ZShwYXRoX2NuKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jbik7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF9jbikpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX2NuLCBmaWxlc0xpc3RfY24pO1xuICAgICAgZmlsZXNMaXN0X2NuLmZvckVhY2goZnVuY3Rpb24oZmlsZSkge1xuICAgICAgICB2YXIgZGF0YSwgZTtcbiAgICAgICAgdHJ5IHtcbiAgICAgICAgICBpZiAobWltZS5nZXRUeXBlKGZpbGUubmFtZSkgPT09IFwiYXBwbGljYXRpb24vanNvblwiKSB7XG4gICAgICAgICAgICBkYXRhID0gZnMucmVhZEZpbGVTeW5jKHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSksICd1dGY4Jyk7XG4gICAgICAgICAgICByZXR1cm4gd29ya2Zsb3dUZW1wbGF0ZVtcInpoLUNOXCJdLnB1c2goSlNPTi5wYXJzZShkYXRhKSk7XG4gICAgICAgICAgfVxuICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICBjb25zb2xlLmVycm9yKFwi6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcIiwgcGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSk7XG4gICAgICAgICAgcmV0dXJuIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBmaWxlc0xpc3RfdXMgPSBbXTtcbiAgcGF0aF91cyA9IChyZWYxID0gTWV0ZW9yLnNldHRpbmdzLndvcmtmbG93VGVtcGxhdGVzKSAhPSBudWxsID8gcmVmMS5wYXRoX3VzIDogdm9pZCAwO1xuICBpZiAocGF0aF91cykge1xuICAgIGFic29sdXRlX3BhdGhfdXMgPSBwYXRoLnJlc29sdmUocGF0aF91cyk7XG4gICAgY29uc29sZS5sb2coXCJhYnNvbHV0ZV9wYXRoX3VzXCIsIGFic29sdXRlX3BhdGhfdXMpO1xuICAgIGlmIChmcy5leGlzdHNTeW5jKGFic29sdXRlX3BhdGhfdXMpKSB7XG4gICAgICByZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKTtcbiAgICAgIHJldHVybiBmaWxlc0xpc3RfdXMuZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiZW5cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Zlbi11c+aWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIiMjI1xyXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxyXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXHJcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcclxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcclxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcclxuIyMjXHJcbk1ldGVvci5zdGFydHVwIC0+XHJcblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvblxyXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcclxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXHJcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXHJcblx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cdFx0c2NoZWR1bGUuc2NoZWR1bGVKb2IgcnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudCAoKS0+XHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdGlmICFnb19uZXh0XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRnb19uZXh0ID0gZmFsc2VcclxuXHRcdFx0XHRjb25zb2xlLnRpbWUgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcclxuXHJcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHJcblx0XHRcdFx0IyDlsIblp5TmiZjop4TliJnorr7nva7kuLrkuI3lj6/nlKhcclxuXHRcdFx0XHRkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHsgZW5hYmxlZDogdHJ1ZSwgZW5kX3RpbWU6IHsgJGx0ZTogbm93IH0gfSwgeyAkc2V0OiB7IGVuYWJsZWQ6IGZhbHNlIH0gfSwgeyBtdWx0aSA6dHJ1ZSB9KVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLnRpbWVFbmQgJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbidcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdCwgKCktPlxyXG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnXHJcbiIsIlxuLypcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICB8XG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxu4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGRheSBvZiBtb250aCAoMSAtIDMxKVxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcbuKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBzZWNvbmQgKDAgLSA1OSwgT1BUSU9OQUwpXG4gKi9cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICB2YXIgZ29fbmV4dCwgcmVmLCBydWxlLCBzY2hlZHVsZTtcbiAgaWYgKChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MuY3JvbikgIT0gbnVsbCA/IHJlZi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24gOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uO1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIG5vdztcbiAgICAgIHRyeSB7XG4gICAgICAgIGlmICghZ29fbmV4dCkge1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBnb19uZXh0ID0gZmFsc2U7XG4gICAgICAgIGNvbnNvbGUudGltZSgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBkYi5wcm9jZXNzX2RlbGVnYXRpb25fcnVsZXMudXBkYXRlKHtcbiAgICAgICAgICBlbmFibGVkOiB0cnVlLFxuICAgICAgICAgIGVuZF90aW1lOiB7XG4gICAgICAgICAgICAkbHRlOiBub3dcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICBlbmFibGVkOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIG11bHRpOiB0cnVlXG4gICAgICAgIH0pO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbicpO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJBVVRPIEFVVE9fRklOSVNIX1BST0NFU1NfREVMRUdBVElPTiBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50Jyk7XG4gICAgfSkpO1xuICB9XG59KTtcbiIsIiMjI1xyXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxyXG7ilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcclxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgCBtb250aCAoMSAtIDEyKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXHJcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcclxu4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBtaW51dGUgKDAgLSA1OSlcclxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcclxuIyMjXHJcbk1ldGVvci5zdGFydHVwIC0+XHJcblx0aWYgTWV0ZW9yLnNldHRpbmdzLmNyb24/LnRpbWVvdXRfYXV0b19zdWJtaXRcclxuXHRcdHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpXHJcblx0XHQjIOWumuaXtuaJp+ihjOWQjOatpVxyXG5cdFx0cnVsZSA9IE1ldGVvci5zZXR0aW5ncy5jcm9uLnRpbWVvdXRfYXV0b19zdWJtaXRcclxuXHRcdGdvX25leHQgPSB0cnVlXHJcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0aWYgIWdvX25leHRcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxyXG5cdFx0XHRcdGNvbnNvbGUudGltZSAndGltZW91dF9hdXRvX3N1Ym1pdCdcclxuXHJcblx0XHRcdFx0dXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpXHJcblxyXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAndGltZW91dF9hdXRvX3N1Ym1pdCdcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCJBVVRPIFRJTUVPVVRfQVVUT19TVUJNSVQgRVJST1I6IFwiXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRcdFx0Z29fbmV4dCA9IHRydWVcclxuXHJcblx0XHQsICgpLT5cclxuXHRcdFx0Y29uc29sZS5sb2cgJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50J1xyXG5cclxuTWV0ZW9yLm1ldGhvZHNcclxuXHR0aW1lb3V0X2F1dG9fc3VibWl0OiAoaW5zX2lkKS0+XHJcblx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZClcclxuXHRcdHJldHVybiB0cnVlXHJcblxyXG5cclxuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLnRpbWVvdXRfYXV0b19zdWJtaXQgOiB2b2lkIDApIHtcbiAgICBzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKTtcbiAgICBydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdDtcbiAgICBnb19uZXh0ID0gdHJ1ZTtcbiAgICByZXR1cm4gc2NoZWR1bGUuc2NoZWR1bGVKb2IocnVsZSwgTWV0ZW9yLmJpbmRFbnZpcm9ubWVudChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlO1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoKTtcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCd0aW1lb3V0X2F1dG9fc3VibWl0Jyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICByZXR1cm4gZ29fbmV4dCA9IHRydWU7XG4gICAgICB9XG4gICAgfSwgZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gY29uc29sZS5sb2coJ0ZhaWxlZCB0byBiaW5kIGVudmlyb25tZW50Jyk7XG4gICAgfSkpO1xuICB9XG59KTtcblxuTWV0ZW9yLm1ldGhvZHMoe1xuICB0aW1lb3V0X2F1dG9fc3VibWl0OiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KGluc19pZCk7XG4gICAgcmV0dXJuIHRydWU7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9uZXh0U3RlcFVzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcblx0dmFyXHJcblx0XHRkZWFsX3R5cGUgPSByZXEucXVlcnkuZGVhbF90eXBlLFxyXG5cdFx0c3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG5cdFx0ZXJyb3IgPSBcIlwiO1xyXG5cclxuXHRpZiAoIWRlYWxfdHlwZSB8fCAhc3BhY2VJZCkge1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0fVxyXG5cclxuXHR2YXJcclxuXHRcdGJvZHkgPSByZXEuYm9keSxcclxuXHRcdG5leHRTdGVwVXNlcnMgPSBbXTtcclxuXHJcblxyXG5cdHN3aXRjaCAoZGVhbF90eXBlKSB7XHJcblx0XHRjYXNlICdzcGVjaWZ5VXNlcic6XHJcblx0XHRcdHZhciBzcGVjaWZ5VXNlcklkcyA9IGJvZHkuc3BlY2lmeVVzZXJJZHM7XHJcblxyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHNwZWNpZnlVc2VySWRzKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdhcHBsaWNhbnRSb2xlJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0YXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkLFxyXG5cdFx0XHRcdGFwcHJvdmVSb2xlSWRzID0gYm9keS5hcHByb3ZlUm9sZUlkcztcclxuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcclxuXHJcblx0XHRcdGlmIChhcHBsaWNhbnQpXHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBhcHBsaWNhbnQub3JnYW5pemF0aW9ucywgYXBwcm92ZVJvbGVJZHMpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ2hyUm9sZSc6XHJcblx0XHRcdHZhciBhcHByb3ZlSHJSb2xlSWRzID0gYm9keS5hcHByb3ZlSHJSb2xlSWRzO1xyXG5cdFx0XHRpZiAoYXBwcm92ZUhyUm9sZUlkcylcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEhyUm9sZXNVc2VycyhzcGFjZUlkLCBhcHByb3ZlSHJSb2xlSWRzKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdhcHBsaWNhbnRTdXBlcmlvcic6XHJcblx0XHRcdHZhciBhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQ7XHJcblx0XHRcdHZhciBhcHBsaWNhbnQgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XHJcblx0XHRcdGlmIChhcHBsaWNhbnQubWFuYWdlcikge1xyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgYXBwbGljYW50Lm1hbmFnZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnYXBwbGljYW50JzpcclxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcclxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnRJZCk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAndXNlckZpZWxkJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXHJcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlO1xyXG5cdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMucHVzaChXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcihzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSkpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnb3JnRmllbGQnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHRvcmdzLFxyXG5cdFx0XHRcdG9yZ0NoaWxkcmVucyxcclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXHJcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZTtcclxuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcclxuXHRcdFx0XHRcdG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhvcmdGaWVsZFZhbHVlKTtcclxuXHRcdFx0XHRcdG9yZ0NoaWxkcmVucyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRvcmdzID0gW1dvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb24ob3JnRmllbGRWYWx1ZSldO1xyXG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyhzcGFjZUlkLCBvcmdGaWVsZFZhbHVlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3JnQ2hpbGRyZW5zKTtcclxuXHJcblx0XHRcdFx0b3JnRmllbGRVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgb3Jncyk7XHJcblxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChvcmdGaWVsZFVzZXJzKTtcclxuXHJcblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSBcIk9SR19OT19NRU1CRVJTXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ3NwZWNpZnlPcmcnOlxyXG5cdFx0XHR2YXIgc3BlY2lmeU9yZ0lkcyA9IGJvZHkuc3BlY2lmeU9yZ0lkcztcclxuXHRcdFx0dmFyIHNwZWNpZnlPcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnMoc3BlY2lmeU9yZ0lkcyk7XHJcblx0XHRcdHZhciBzcGVjaWZ5T3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNDaGlsZHJlbnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0lkcyk7XHJcblxyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBzcGVjaWZ5T3Jncyk7XHJcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBuZXh0U3RlcFVzZXJzLmNvbmNhdChXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIHNwZWNpZnlPcmdDaGlsZHJlbnMpKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICd1c2VyRmllbGRSb2xlJzpcclxuXHRcdFx0dmFyXHJcblx0XHRcdFx0dXNlckZpZWxkID0gYm9keS51c2VyRmllbGQsXHJcblx0XHRcdFx0dXNlckZpZWxkVmFsdWUgPSBib2R5LnVzZXJGaWVsZFZhbHVlLFxyXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xyXG5cdFx0XHRpZiAodXNlckZpZWxkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAodXNlckZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5LuldXNlckZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMoc3BhY2VJZCwgdXNlckZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzKHNwYWNlSWQsIFt1c2VyRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XHJcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xyXG5cdFx0XHR9XHJcblxyXG5cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdvcmdGaWVsZFJvbGUnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHRvcmdGaWVsZCA9IGJvZHkub3JnRmllbGQsXHJcblx0XHRcdFx0b3JnRmllbGRWYWx1ZSA9IGJvZHkub3JnRmllbGRWYWx1ZSxcclxuXHRcdFx0XHRhcHByb3ZlclJvbGVJZHMgPSBib2R5LmFwcHJvdmVyUm9sZUlkcztcclxuXHJcblx0XHRcdGlmIChvcmdGaWVsZFZhbHVlKSB7XHJcblx0XHRcdFx0aWYgKG9yZ0ZpZWxkLmlzX211bHRpc2VsZWN0KSB7IC8v5aaC5p6c5aSa6YCJ77yM5Lulb3JnRmllbGRWYWx1ZeWAvOS4ukFycmF5XHJcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUsIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgW29yZ0ZpZWxkVmFsdWVdLCBhcHByb3ZlclJvbGVJZHMpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCFuZXh0U3RlcFVzZXJzIHx8IG5leHRTdGVwVXNlcnMubGVuZ3RoIDwgMSkge1xyXG5cdFx0XHRcdFx0ZXJyb3IgPSBcIlJPTEVfTk9fTUVNQkVSU1wiO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRlcnJvciA9IFwiRklFTERfVkFMVUVfRU1QVFlcIjtcclxuXHRcdFx0fVxyXG5cdFx0XHRicmVhaztcclxuXHRcdGRlZmF1bHQ6XHJcblx0XHRcdGJyZWFrO1xyXG5cdH1cclxuXHJcblx0dmFyIHJlc3VsdCA9IFtdO1xyXG5cclxuXHRuZXh0U3RlcFVzZXJzLmZvckVhY2goZnVuY3Rpb24oc3UpIHtcclxuXHRcdHZhciBvID0ge1xyXG5cdFx0XHRpZDogc3UuaWQsXHJcblx0XHRcdG5hbWU6IHN1Lm5hbWVcclxuXHRcdH07XHJcblx0XHRyZXN1bHQucHVzaChvKTtcclxuXHR9KVxyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRjb2RlOiAyMDAsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdCduZXh0U3RlcFVzZXJzJzogV29ya2Zsb3dNYW5hZ2VyLnVuaXFVc2VycyhyZXN1bHQpLFxyXG5cdFx0XHQnZXJyb3InOiBlcnJvclxyXG5cdFx0fVxyXG5cdH0pO1xyXG59KSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0U3BhY2VVc2Vyc1wiLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuICB2YXJcclxuICAgIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzLFxyXG4gICAgc3BhY2VJZCA9IHJlcS5xdWVyeS5zcGFjZUlkLFxyXG4gICAgc3BhY2VVc2VycyA9IFtdXHJcbiAgO1xyXG5cclxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcclxuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgICAgY29kZTogMjAwLFxyXG4gICAgICBkYXRhOiB7XHJcbiAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcbiAgICAgIH1cclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc3BhY2VVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VySWRzKTtcclxuXHJcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG4gICAgY29kZTogMjAwLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcclxuICAgIH1cclxuICB9KTtcclxufSlcclxuXHJcblxyXG4gIFxyXG4gICIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0Rm9ybXVsYVVzZXJPYmplY3RzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xyXG4gIHZhclxyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXHJcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXHJcbiAgICBzcGFjZVVzZXJzID0gW11cclxuICA7XHJcblxyXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xyXG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICB2YXIgdXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgdXNlcklkcyk7XHJcblxyXG4gIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuICAgIGNvZGU6IDIwMCxcclxuICAgIGRhdGE6IHtcclxuICAgICAgJ3NwYWNlVXNlcnMnOiB1c2Vyc1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbiAgXHJcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9pbml0X2Zvcm11bGFfdmFsdWVzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XHJcblx0dmFyXHJcblx0XHRmaWVsZHMgPSByZXEuYm9keS5maWVsZHMsXHJcblx0XHRhdXRvRm9ybURvYyA9IHJlcS5ib2R5LmF1dG9Gb3JtRG9jLFxyXG5cdFx0YXBwcm92ZXIgPSByZXEuYm9keS5hcHByb3ZlcixcclxuXHRcdGFwcGxpY2FudCA9IHJlcS5ib2R5LmFwcGxpY2FudCxcclxuXHJcblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXHJcblxyXG5cdFx0c3BhY2VVc2VycyA9IFtdO1xyXG5cclxuXHRpZiAoIWZpZWxkcyB8fCAhc3BhY2VJZCB8fCAhYXV0b0Zvcm1Eb2MgfHwgIWFwcHJvdmVyIHx8ICFhcHBsaWNhbnQpIHtcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuO1xyXG5cdH1cclxuXHJcblx0Zm9ybXVsYV92YWx1ZXMgPSBGb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyhmaWVsZHMsIGF1dG9Gb3JtRG9jLCBhcHByb3ZlciwgYXBwbGljYW50LCBzcGFjZUlkKTtcclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0Y29kZTogMjAwLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHQnZm9ybXVsYV92YWx1ZXMnOiBmb3JtdWxhX3ZhbHVlc1xyXG5cdFx0fVxyXG5cdH0pO1xyXG59KVxyXG4iLCJKc29uUm91dGVzLmFkZCBcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2dldE5hbWVGb3JVc2VyXCIsICAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHR1c2VySWQgPSByZXEuYm9keS51c2VySWRcclxuXHJcblx0XHRpZiBub3QgdXNlcklkIFxyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCBcclxuXHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHt1c2VyOiB1c2VyfVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG5cdFxyXG5cdFx0XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGUsIHVzZXIsIHVzZXJJZDtcbiAgdHJ5IHtcbiAgICB1c2VySWQgPSByZXEuYm9keS51c2VySWQ7XG4gICAgaWYgKCF1c2VySWQpIHtcbiAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICB1c2VyID0gV29ya2Zsb3dNYW5hZ2VyLmdldE5hbWVGb3JVc2VyKHVzZXJJZCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgdXNlcjogdXNlclxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL2Rlc2lnbmVyL3N0YXJ0dXAnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRjb21wYW55SWQgPSByZXEucXVlcnk/LmNvbXBhbnlJZCB8fCAnJ1xyXG5cclxuXHRcdHNwYWNlc1F1ZXJ5ID0geyBhZG1pbnM6IGN1cnJlbnRfdXNlciB9XHJcblxyXG5cdFx0aWYgY29tcGFueUlkXHJcblx0XHRcdG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHsgZmllbGRzOiB7IHNwYWNlOjEgfSB9KVxyXG5cdFx0XHRpZiBub3Qgb3JnXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY29tcGFueUlkIGlzIGludmFsaWQnKVxyXG5cclxuXHRcdFx0c3BhY2VzUXVlcnkgPSB7IF9pZDogb3JnLnNwYWNlIH1cclxuXHJcblx0XHRzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdHNwYWNlSWRzID0gXy5wbHVjayBzcGFjZXMsICdfaWQnXHJcblxyXG5cdFx0cXVlcnkgPSB7IHNwYWNlOiB7ICRpbjogc3BhY2VJZHMgfSB9XHJcblx0XHRpZiBjb21wYW55SWRcclxuXHRcdFx0cXVlcnkuY29tcGFueV9pZCA9IGNvbXBhbnlJZFxyXG5cclxuXHRcdHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0Zm9ybXMgPSBkYi5mb3Jtcy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIHN0YXRlOjEsIGlzX2RlbGV0ZWQ6MSwgaXNfdmFsaWQ6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaGVscF90ZXh0OjEsXHJcblx0XHRjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgY3VycmVudDoxLCBjYXRlZ29yeToxLCBpbnN0YW5jZV9zdHlsZToxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7IGZpZWxkczogeyBuYW1lOjEsIG5hbWVfZm9ybXVsYToxLCBjb2RlX2Zvcm11bGE6MSwgc3BhY2U6MSwgZGVzY3JpcHRpb246MSwgaXNfdmFsaWQ6MSwgZm9ybToxLFxyXG5cdFx0Zmxvd3R5cGU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBjcmVhdGVkOjEsIGNyZWF0ZWRfYnk6MSwgaGVscF90ZXh0OjEsIGN1cnJlbnRfbm86MSwgY3VycmVudDoxLCBwZXJtczoxLCBlcnJvcl9tZXNzYWdlOjEsIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6MSwgY29tcGFueV9pZDoxIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQocXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH0pLmZldGNoKClcclxuXHJcblx0XHR1c2VySWRzID0gXy5wbHVjayBzcGFjZVVzZXJzLCAndXNlcidcclxuXHRcdHVzZXJzID0gZGIudXNlcnMuZmluZCh7IF9pZDogeyAkaW46IHVzZXJJZHMgfSB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdHJlc3VsdCA9IHt9XHJcblx0XHRyZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnNcclxuXHRcdHJlc3VsdC5Vc2VycyA9IHVzZXJzXHJcblx0XHRyZXN1bHQuRm9ybXMgPSBmb3Jtc1xyXG5cdFx0cmVzdWx0LkZsb3dzID0gZmxvd3NcclxuXHRcdHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9uc1xyXG5cdFx0cmVzdWx0LlBvc2l0aW9ucyA9IHBvc2l0aW9uc1xyXG5cdFx0cmVzdWx0LlJvbGVzID0gcm9sZXNcclxuXHRcdHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllc1xyXG5cdFx0cmVzdWx0LlNwYWNlcyA9IHNwYWNlc1xyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YTogcmVzdWx0XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcblxyXG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjYXRlZ29yaWVzLCBjb21wYW55SWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3dzLCBmb3Jtcywgb3JnLCBvcmdhbml6YXRpb25zLCBwb3NpdGlvbnMsIHF1ZXJ5LCByZWYsIHJlc3VsdCwgcm9sZXMsIHNwYWNlSWRzLCBzcGFjZVVzZXJzLCBzcGFjZXMsIHNwYWNlc1F1ZXJ5LCB1c2VySWRzLCB1c2VycztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBjb21wYW55SWQgPSAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5jb21wYW55SWQgOiB2b2lkIDApIHx8ICcnO1xuICAgIHNwYWNlc1F1ZXJ5ID0ge1xuICAgICAgYWRtaW5zOiBjdXJyZW50X3VzZXJcbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjb21wYW55SWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIW9yZykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpO1xuICAgICAgfVxuICAgICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICAgIF9pZDogb3JnLnNwYWNlXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZXMgPSBkYi5zcGFjZXMuZmluZChzcGFjZXNRdWVyeSkuZmV0Y2goKTtcbiAgICBzcGFjZUlkcyA9IF8ucGx1Y2soc3BhY2VzLCAnX2lkJyk7XG4gICAgcXVlcnkgPSB7XG4gICAgICBzcGFjZToge1xuICAgICAgICAkaW46IHNwYWNlSWRzXG4gICAgICB9XG4gICAgfTtcbiAgICBpZiAoY29tcGFueUlkKSB7XG4gICAgICBxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkO1xuICAgIH1cbiAgICBzcGFjZVVzZXJzID0gZGIuc3BhY2VfdXNlcnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjcmVhdGVkOiAxLFxuICAgICAgICBjcmVhdGVkX2J5OiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBjYXRlZ29yeTogMSxcbiAgICAgICAgaW5zdGFuY2Vfc3R5bGU6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIG5hbWVfZm9ybXVsYTogMSxcbiAgICAgICAgY29kZV9mb3JtdWxhOiAxLFxuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZGVzY3JpcHRpb246IDEsXG4gICAgICAgIGlzX3ZhbGlkOiAxLFxuICAgICAgICBmb3JtOiAxLFxuICAgICAgICBmbG93dHlwZTogMSxcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX2RlbGV0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGhlbHBfdGV4dDogMSxcbiAgICAgICAgY3VycmVudF9ubzogMSxcbiAgICAgICAgY3VycmVudDogMSxcbiAgICAgICAgcGVybXM6IDEsXG4gICAgICAgIGVycm9yX21lc3NhZ2U6IDEsXG4gICAgICAgIGRpc3RyaWJ1dGVfb3B0aW9uYWxfdXNlcnM6IDEsXG4gICAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJvbGVzID0gZGIuZmxvd19yb2xlcy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgcG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBjYXRlZ29yaWVzID0gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHVzZXJJZHMgPSBfLnBsdWNrKHNwYWNlVXNlcnMsICd1c2VyJyk7XG4gICAgdXNlcnMgPSBkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHVzZXJJZHNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmVzdWx0ID0ge307XG4gICAgcmVzdWx0LlNwYWNlVXNlcnMgPSBzcGFjZVVzZXJzO1xuICAgIHJlc3VsdC5Vc2VycyA9IHVzZXJzO1xuICAgIHJlc3VsdC5Gb3JtcyA9IGZvcm1zO1xuICAgIHJlc3VsdC5GbG93cyA9IGZsb3dzO1xuICAgIHJlc3VsdC5Pcmdhbml6YXRpb25zID0gb3JnYW5pemF0aW9ucztcbiAgICByZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zO1xuICAgIHJlc3VsdC5Sb2xlcyA9IHJvbGVzO1xuICAgIHJlc3VsdC5DYXRlZ29yaWVzID0gY2F0ZWdvcmllcztcbiAgICByZXN1bHQuU3BhY2VzID0gc3BhY2VzO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiByZXN1bHRcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnQXBwcm92YWxzJ10sIChhcHByb3ZlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLndvcmtmbG93X2VuZ2luZShhcHByb3ZlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbywgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZW5naW5lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgZnVuY3Rpb24oYXBwcm92ZV9mcm9tX2NsaWVudCkge1xuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7fVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5XHJcblxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBuZXdfaW5zX2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCBmbG93OiAxLCBmbG93X3ZlcnNpb246IDEsIGZvcm06IDEsIGZvcm1fdmVyc2lvbjogMSB9IH0pXHJcblxyXG5cdFx0XHRpbnNlcnRlZF9pbnN0YW5jZXMucHVzaChuZXdfaW5zKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzIH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcblxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgbmV3X2lucywgbmV3X2luc19pZDtcbiAgICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBuZXdfaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIGZsb3c6IDEsXG4gICAgICAgICAgZmxvd192ZXJzaW9uOiAxLFxuICAgICAgICAgIGZvcm06IDEsXG4gICAgICAgICAgZm9ybV92ZXJzaW9uOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0aW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5XHJcblxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXHJcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mbG93fSlcclxuXHJcblx0XHRcdHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xyXG5cdFx0XHRcdF9pZDoge1xyXG5cdFx0XHRcdFx0JGluOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbnNcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pLmZldGNoKCk7XHJcblxyXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICF5oiW6ICF55Sz6K+35Lq6IOaIllNwYWNlQWRtaW5cclxuXHRcdFx0aWYgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlcikgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzIGN1cnJlbnRfdXNlcikgYW5kICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucylcclxuXHRcdFx0XHR0aHJvdyBuZXcgIE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmgqjkuI3og73liKDpmaTmraTnlLPor7fljZXjgIJcIilcclxuXHJcblx0XHRcdGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcclxuXHRcdFx0ZGVsZXRlX29iai5kZWxldGVkID0gbmV3IERhdGVcclxuXHRcdFx0ZGVsZXRlX29iai5kZWxldGVkX2J5ID0gY3VycmVudF91c2VyXHJcblxyXG5cdFx0XHRkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZGVsZXRlX29iailcclxuXHJcblx0XHRcdCMg5Yig6ZmkaW5zdGFuY2VcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnJlbW92ZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcclxuXHJcblx0XHRcdGlmIGRlbGV0ZV9vYmouc3RhdGUgaXNudCBcImRyYWZ0XCJcclxuXHRcdFx0XHQj5Y+R6YCB57uZ5b6F5aSE55CG5Lq6LCAj5Y+R6YCB57uZ6KKr5Lyg6ZiF5Lq6XHJcblx0XHRcdFx0aW5ib3hfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmluYm94X3VzZXJzIHRoZW4gZGVsZXRlX29iai5pbmJveF91c2VycyBlbHNlIFtdXHJcblx0XHRcdFx0Y2NfdXNlcnMgPSBpZiBkZWxldGVfb2JqLmNjX3VzZXJzIHRoZW4gZGVsZXRlX29iai5jY191c2VycyBlbHNlIFtdXHJcblx0XHRcdFx0dXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSlcclxuXHRcdFx0XHRfLmVhY2ggdXNlcl9pZHMsICh1X2lkKS0+XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZClcclxuXHJcblx0XHRcdFx0IyDlj5HpgIHliKDpmaTpgJrnn6Xpgq7ku7bnu5npgJrov4fmoKHpqoznmoTnlLPor7fkurov5aGr5Y2V5Lq677yM5a+555Sz6K+35Lq6L+Whq+WNleS6uuWQhOeUn+aIkOS4gOadoXNtdHAgbWVzc2FnZVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG5cdFxyXG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZW1vdmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIGluc2VydGVkX2luc3RhbmNlcztcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGluc2VydGVkX2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGNjX3VzZXJzLCBkZWxldGVfb2JqLCBmbG93LCBpbmJveF91c2VycywgaW5zdGFuY2UsIHNwYWNlLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdXNlcl9pZHM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzcGFjZVVzZXJPcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmICgoaW5zdGFuY2Uuc3VibWl0dGVyICE9PSBjdXJyZW50X3VzZXIpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmxvdywgc3BhY2VfdXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmgqjkuI3og73liKDpmaTmraTnlLPor7fljZXjgIJcIik7XG4gICAgICB9XG4gICAgICBkZWxldGVfb2JqID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgZGVsZXRlX29iai5kZWxldGVkID0gbmV3IERhdGU7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZGVsZXRlX29iaik7XG4gICAgICBkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGlmIChkZWxldGVfb2JqLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgICAgaW5ib3hfdXNlcnMgPSBkZWxldGVfb2JqLmluYm94X3VzZXJzID8gZGVsZXRlX29iai5pbmJveF91c2VycyA6IFtdO1xuICAgICAgICBjY191c2VycyA9IGRlbGV0ZV9vYmouY2NfdXNlcnMgPyBkZWxldGVfb2JqLmNjX3VzZXJzIDogW107XG4gICAgICAgIHVzZXJfaWRzID0gXy51bmlxKGluYm94X3VzZXJzLmNvbmNhdChjY191c2VycykpO1xuICAgICAgICBfLmVhY2godXNlcl9pZHMsIGZ1bmN0aW9uKHVfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwibW9uaXRvcl9kZWxldGVfYXBwbGljYW50XCIsIGRlbGV0ZV9vYmosIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0cmVzdWx0ID0gW11cclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0ciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0aWYgci5hbGVydHNcclxuXHRcdFx0XHRyZXN1bHQucHVzaChyKVxyXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KGluc3RhbmNlX2Zyb21fY2xpZW50WydpbmJveF91c2VycyddKVxyXG5cdFx0XHRcdCMg5aaC5p6c5piv6L2s5Y+R5bCx6ZyA6KaB57uZ5b2T5YmN55So5oi35Y+R6YCBcHVzaCDph43mlrDorqHnrpdiYWRnZVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xyXG5cclxuXHRcdFx0aWYgXy5pc0VtcHR5KHIuYWxlcnRzKVxyXG5cdFx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKVxyXG5cdFx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XHJcblx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdXHJcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2RyYWZ0X3N1Ym1pdCcsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0XHQjIOWIpOaWreeUs+ivt+WNleaYr+WQpuWIhuWPke+8jOWIhuWPkeaWh+S7tue7k+adn+aPkOmGkuWPkei1t+S6ulxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmRpc3RyaWJ1dGVkSW5zdGFuY2VzUmVtaW5kKGluc3RhbmNlX2Zyb21fY2xpZW50KVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YTogeyByZXN1bHQ6IHJlc3VsdCB9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvc3VibWl0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCByZXN1bHQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICByZXN1bHQgPSBbXTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIGN1cnJlbnRfYXBwcm92ZSwgZmxvd19pZCwgaW5zdGFuY2UsIHI7XG4gICAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgIGlmIChyLmFsZXJ0cykge1xuICAgICAgICByZXN1bHQucHVzaChyKTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0VtcHR5KGluc3RhbmNlX2Zyb21fY2xpZW50WydpbmJveF91c2VycyddKSkge1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcbiAgICAgIH1cbiAgICAgIGlmIChfLmlzRW1wdHkoci5hbGVydHMpKSB7XG4gICAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfZnJvbV9jbGllbnQuX2lkKTtcbiAgICAgICAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gICAgICAgIGN1cnJlbnRfYXBwcm92ZSA9IGluc3RhbmNlX2Zyb21fY2xpZW50LnRyYWNlc1swXS5hcHByb3Zlc1swXTtcbiAgICAgICAgcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soZmxvd19pZCwgaW5zdGFuY2UsIGN1cnJlbnRfYXBwcm92ZSwgJ2RyYWZ0X3N1Ym1pdCcsIGN1cnJlbnRfdXNlciwgaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHJlc3VsdDogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3Rlcm1pbmF0ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0dGVybWluYXRlX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1widGVybWluYXRlX3JlYXNvblwiXVxyXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2VcclxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcclxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKVxyXG5cdFx0XHQjIOWIpOaWreS4gOS4qmluc3RhbmNl5piv5ZCm5Li65a6h5qC45Lit54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXHJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHQjIOiOt+WPlnNwYWNlX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxyXG5cdFx0XHQjIOiOt+WPlue7k+adn+iKgueCuVxyXG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IG51bGxcclxuXHRcdFx0Zmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsXHJcblx0XHRcdGZsb3dfdmVycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRmbG93X3ZlcnMucHVzaChmbG93LmN1cnJlbnQpXHJcblx0XHRcdGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cylcclxuXHRcdFx0aW5zdGFuY2VfZmxvd192ZXIgPSBfLmZpbmQoZmxvd192ZXJzLCAoZl92ZXIpLT5cclxuXHRcdFx0XHRyZXR1cm4gZl92ZXIuX2lkIGlzIGluc3RhbmNlLmZsb3dfdmVyc2lvblxyXG5cdFx0XHQpXHJcblx0XHRcdGlmIG5vdCBpbnN0YW5jZV9mbG93X3ZlclxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5om+5Yiw55Sz6K+35Y2V5a+55bqU5rWB56iL54mI5pysXCIpXHJcblx0XHRcdGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCAoZl9zdGVwKS0+XHJcblx0XHRcdFx0cmV0dXJuIGZfc3RlcC5zdGVwX3R5cGUgaXMgXCJlbmRcIlxyXG5cdFx0XHQpXHJcblx0XHRcdCMg6LCD55SoZ2V0Rmxvd1Blcm1pc3Npb25z5pa55rOV77yM55yL6L+U5Zue55qE57uT5p6c5Lit5piv5ZCm5pyJYWRtaW5cclxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdCMgc3BhY2XnmoRhZG1pbiwg5aGr5Y2V5Lq6IOeUs+ivt+S6uiDmnInmnYPpmZAg5Y+W5raI55Sz6K+3XHJcblx0XHRcdGlmIHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikgb3Igc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikgb3IgaW5zdGFuY2Uuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlciBvciBpbnN0YW5jZS5hcHBsaWNhbnQgaXMgY3VycmVudF91c2VyXHJcblx0XHRcdFx0aWYgbm90IHRlcm1pbmF0ZV9yZWFzb25cclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsXCLov5jmnKrloavlhpnlvLrliLbnu5PmnZ/nlLPor7fljZXnmoTnkIbnlLHvvIzmk43kvZzlpLHotKVcIilcclxuXHJcblx0XHRcdFx0aW5zdGFuY2VfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpLT5cclxuXHRcdFx0XHRcdHJldHVybiB0cmFjZS5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXHJcblx0XHRcdFx0aSA9IDBcclxuXHRcdFx0XHR3aGlsZSBpIDwgdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2XorrDlvZVcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0aCA9IDBcclxuXHRcdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZGVzY3JpcHRpb24gPSBudWxsXHJcblx0XHRcdFx0XHRcdFx0aCsrXHJcblx0XHRcdFx0XHRcdCMg5o+S5YWl5b2T5YmNVHJhY2UgdHJhY2UuYXBwcm92ZeiusOW9le+8muW9k3RyYWNlLnR5cGXkuLrlj5blm57jgIHlvLrliLbnu5PmnZ/ml7bvvIxpc19yZWFkPXRydWXkuJRyZWFkX2RhdGXkuLrlvZPliY3ml7bpl7TjgIJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IGluc3RhbmNlX3RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXHJcblx0XHRcdFx0XHRpKytcclxuXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2luc3RhbmNlX3RyYWNlLl9pZF1cclxuXHRcdFx0XHQjIHR5cGUtLS3lgZznlKhcclxuXHRcdFx0XHQjIG5ld1RyYWNlLnR5cGUgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWRcclxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRcdHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0b2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0XHRvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRcdG9sZF9vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnNcclxuXHRcdFx0XHR0ZW1wVXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIChuZnRfYXBwcm92ZSktPlxyXG5cdFx0XHRcdFx0dGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUudXNlcilcclxuXHRcdFx0XHRcdHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdCh0ZW1wVXNlcnMpKVxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxyXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcclxuXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZVxyXG5cclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0XHQj6YCa55+l5aGr5Y2V5Lq644CB55Sz6K+35Lq6XHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInN1Ym1pdF90ZXJtaW5hdGVfYXBwbGljYW50XCIsIGlucywgdGVybWluYXRlX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdFx0I+WPkemAgee7meW+heWkhOeQhuS6uiDooqvkvKDpmIXkurpcclxuXHRcdFx0XHRcdGlmIG9sZF9pbmJveF91c2Vyc1xyXG5cdFx0XHRcdFx0XHRfLmVhY2goXy51bmlxKG9sZF9pbmJveF91c2Vycy5jb25jYXQob2xkX2NjX3VzZXJzKSksICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0XHRcdClcclxuXHJcblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAndGVybWluYXRlJywgY3VycmVudF91c2VyLCBbXSlcclxuXHJcblx0XHQj5Y+R6YCB5raI5oGv57uZ5b2T5YmN55So5oi3XHJcblx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRkYXRhOiB7fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3Rlcm1pbmF0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgZmxvdywgZmxvd19pZCwgZmxvd192ZXJfZW5kX3N0ZXAsIGZsb3dfdmVycywgaCwgaSwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfZmxvd192ZXIsIGluc3RhbmNlX2lkLCBpbnN0YW5jZV90cmFjZSwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2NjX3VzZXJzLCBvbGRfaW5ib3hfdXNlcnMsIG9sZF9vdXRib3hfdXNlcnMsIHBlcm1pc3Npb25zLCByLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgc3BhY2VfdXNlcl9vcmdfaW5mbywgdGVtcFVzZXJzLCB0ZXJtaW5hdGVfcmVhc29uLCB0cmFjZXM7XG4gICAgICB0ZXJtaW5hdGVfcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0ZXJtaW5hdGVfcmVhc29uXCJdO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XG4gICAgICBzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpO1xuICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgIGluc3RhbmNlX2Zsb3dfdmVyID0gbnVsbDtcbiAgICAgIGZsb3dfdmVyX2VuZF9zdGVwID0gbnVsbDtcbiAgICAgIGZsb3dfdmVycyA9IG5ldyBBcnJheTtcbiAgICAgIGZsb3dfdmVycy5wdXNoKGZsb3cuY3VycmVudCk7XG4gICAgICBmbG93X3ZlcnMgPSBmbG93X3ZlcnMuY29uY2F0KGZsb3cuaGlzdG9yeXMpO1xuICAgICAgaW5zdGFuY2VfZmxvd192ZXIgPSBfLmZpbmQoZmxvd192ZXJzLCBmdW5jdGlvbihmX3Zlcikge1xuICAgICAgICByZXR1cm4gZl92ZXIuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2VfZmxvd192ZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZXlr7nlupTmtYHnqIvniYjmnKxcIik7XG4gICAgICB9XG4gICAgICBmbG93X3Zlcl9lbmRfc3RlcCA9IF8uZmluZChpbnN0YW5jZV9mbG93X3Zlci5zdGVwcywgZnVuY3Rpb24oZl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmX3N0ZXAuc3RlcF90eXBlID09PSBcImVuZFwiO1xuICAgICAgfSk7XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgaWYgKHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikgfHwgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikgfHwgaW5zdGFuY2Uuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXIgfHwgaW5zdGFuY2UuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgaWYgKCF0ZXJtaW5hdGVfcmVhc29uKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLov5jmnKrloavlhpnlvLrliLbnu5PmnZ/nlLPor7fljZXnmoTnkIbnlLHvvIzmk43kvZzlpLHotKVcIik7XG4gICAgICAgIH1cbiAgICAgICAgaW5zdGFuY2VfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICAgIHJldHVybiB0cmFjZS5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgICAgIH0pO1xuICAgICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICAgIGkgPSAwO1xuICAgICAgICB3aGlsZSAoaSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICBpZiAodHJhY2VzW2ldLmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGggPSAwO1xuICAgICAgICAgICAgd2hpbGUgKGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgIGlmICh0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gbnVsbDtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZGVzY3JpcHRpb24gPSBudWxsO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIGgrKztcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IGluc3RhbmNlX3RyYWNlLl9pZDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmR1ZV9kYXRlID0gaW5zdGFuY2VfdHJhY2UuZHVlX2RhdGU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmRlc2NyaXB0aW9uID0gdGVybWluYXRlX3JlYXNvbjtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuY29zdF90aW1lID0gbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSAtIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpKys7XG4gICAgICAgIH1cbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbaW5zdGFuY2VfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gZmxvd192ZXJfZW5kX3N0ZXAuX2lkO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gICAgICAgIHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgICAgb2xkX2NjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICAgIG9sZF9vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnM7XG4gICAgICAgIHRlbXBVc2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgXy5lYWNoKGluc3RhbmNlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihuZnRfYXBwcm92ZSkge1xuICAgICAgICAgIHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLnVzZXIpO1xuICAgICAgICAgIHJldHVybiB0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS5oYW5kbGVyKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdCh0ZW1wVXNlcnMpKTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IGZsb3dfdmVyX2VuZF9zdGVwLm5hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInN1Ym1pdF90ZXJtaW5hdGVfYXBwbGljYW50XCIsIGlucywgdGVybWluYXRlX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICAgIGlmIChvbGRfaW5ib3hfdXNlcnMpIHtcbiAgICAgICAgICAgIF8uZWFjaChfLnVuaXEob2xkX2luYm94X3VzZXJzLmNvbmNhdChvbGRfY2NfdXNlcnMpKSwgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwidGVybWluYXRlX2FwcHJvdmFsXCIsIHVzZXJfaWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3Rlcm1pbmF0ZScsIGN1cnJlbnRfdXNlciwgW10pO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlYXNzaWduJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxyXG5cdFx0XHQjIOmqjOivgeW9k+WJjeaJp+ihjOi9rOetvuaguOeahHRyYWNl5pyq57uT5p2fXHJcblx0XHRcdGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pXHJcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAodCkgLT5cclxuXHRcdFx0XHRyZXR1cm4gdC5faWQgaXMgbGFzdF90cmFjZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxyXG5cdFx0XHQpXHJcblx0XHRcdGlmIGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgaXMgdHJ1ZVxyXG5cdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXHJcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogc3BhY2VfaWQgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxyXG5cclxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xyXG5cdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl1cclxuXHRcdFx0cmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl1cclxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudClcclxuXHRcdFx0bmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbmJveF91c2VycylcclxuXHRcdFx0IyDoi6Vhc3NpZ25lZT3ljp9pbmJveF91c2Vyc++8jOivtOaYjuS4jemcgOimgeaJp+ihjOi9rOetvuaguO+8jOezu+e7n+S7gOS5iOmDveS4jeWBmlxyXG5cdFx0XHRyZXR1cm4gaWYgbm90X2luX2luYm94X3VzZXJzLmxlbmd0aCBpcyAwIGFuZCBuZXdfaW5ib3hfdXNlcnMubGVuZ3RoIGlzIDBcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRpID0gMFxyXG5cdFx0XHRhcHByb3ZlX3VzZXJzX2hhbmRsZXJzID0gW11cclxuXHRcdFx0d2hpbGUgaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgbm90X2luX2luYm94X3VzZXJzLmluY2x1ZGVzKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcclxuXHRcdFx0XHRcdGlmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgaXMgZmFsc2UgYW5kIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSBpc250IFwiY2NcIiBhbmQgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCJcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5kZXNjcmlwdGlvbiA9IFwiXCJcclxuXHRcdFx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnVzZXIpXHJcblx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpXHJcblx0XHRcdFx0aSsrXHJcblx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXovaznrb7moLjmk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXHJcblx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0YXNzaWduZWVfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2VcclxuXHRcdFx0YXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0YXNzaWduZWVfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0YXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvblxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0YXNzaWduZWVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZVxyXG5cdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcilcclxuXHRcdFx0IyDlr7nmlrDlop7nmoTmr4/kvY3lvoXlrqHmoLjkurrvvIzlkITlop7liqDkuIDmnaHmlrDnmoRhcHByb3ZlXHJcblx0XHRcdF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsICh1c2VyX2lkKSAtPlxyXG5cdFx0XHRcdG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIHVzZXJfaWQpXHJcblx0XHRcdFx0dXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRuZXdfYXBwciA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlXHJcblx0XHRcdFx0bmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRcdG5ld19hcHByLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdfYXBwci51c2VyID0gdXNlcl9pZFxyXG5cdFx0XHRcdG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWVcclxuXHJcblx0XHRcdFx0aGFuZGxlcl9pZCA9IHVzZXJfaWRcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBuZXdfdXNlclxyXG5cdFx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZClcclxuXHRcdFx0XHRpZiBhZ2VudFxyXG5cdFx0XHRcdFx0aW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudFxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50XHJcblx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRcdG5ld19hcHByLmFnZW50ID0gYWdlbnRcclxuXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWRcclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZVxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiXHJcblx0XHRcdFx0bmV3X2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld19hcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpXHJcblx0XHRcdFx0bGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKVxyXG5cdFx0XHQpXHJcblxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXHJcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoYXBwcm92ZV91c2Vyc19oYW5kbGVycylcclxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXHJcblx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50XHJcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzXHJcblx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHsgX2lkOiBpbnN0YW5jZV9pZCwgXCJ0cmFjZXMuX2lkXCI6IGxhc3RfdHJhY2UuX2lkIH0sIHsgJHNldDogc2V0T2JqIH0pXHJcblx0XHRcdGlmIHJcclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0XHRfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCAodXNlcl9pZCkgLT5cclxuXHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdCMg5o+Q5Y+WaW5zdGFuY2VzLm91dGJveF91c2Vyc+aVsOe7hOWSjOWhq+WNleS6uuOAgeeUs+ivt+S6ulxyXG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXHJcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcilcclxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcclxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCkgLT5cclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0IyDnu5nmlrDliqDlhaXnmoRpbmJveF91c2Vyc+WPkemAgXB1c2ggbWVzc2FnZVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVhc3NpZ25fcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0XHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3sgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2UgfV0gfVxyXG5cdFx0fVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlYXNzaWduJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBfdXNlcnMsIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMsIGFzc2lnbmVlX2FwcHIsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgaSwgaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50LCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9mcm9tX2NsaWVudCwgbmV3X2luYm94X3VzZXJzLCBub3RfaW5faW5ib3hfdXNlcnMsIG5vdywgcGVybWlzc2lvbnMsIHIsIHJlYXNzaWduX3JlYXNvbiwgc2V0T2JqLCBzcGFjZSwgc3BhY2VfaWQ7XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydfaWQnXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBsYXN0X3RyYWNlX2Zyb21fY2xpZW50ID0gXy5sYXN0KGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgIHJldHVybiB0Ll9pZCA9PT0gbGFzdF90cmFjZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGxhc3RfdHJhY2UuaXNfZmluaXNoZWQgPT09IHRydWUpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IHNwYWNlX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgIGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXTtcbiAgICAgIHJlYXNzaWduX3JlYXNvbiA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVhc3NpZ25fcmVhc29uXCJdO1xuICAgICAgbm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCBpbmJveF91c2Vyc19mcm9tX2NsaWVudCk7XG4gICAgICBuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKTtcbiAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMubGVuZ3RoID09PSAwICYmIG5ld19pbmJveF91c2Vycy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaSA9IDA7XG4gICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzID0gW107XG4gICAgICB3aGlsZSAoaSA8IGxhc3RfdHJhY2UuYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmIChub3RfaW5faW5ib3hfdXNlcnMuaW5jbHVkZXMobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKSkge1xuICAgICAgICAgIGlmIChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiY2NcIiAmJiBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiKSB7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uY29zdF90aW1lID0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSAtIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMucHVzaChsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnVzZXIpO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcik7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvblxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgYXNzaWduZWVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICBhc3NpZ25lZV9hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5qdWRnZSA9IFwicmVhc3NpZ25lZFwiO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuZGVzY3JpcHRpb24gPSByZWFzc2lnbl9yZWFzb247XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICBhc3NpZ25lZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICBhc3NpZ25lZV9hcHByLmNvc3RfdGltZSA9IGFzc2lnbmVlX2FwcHIuZmluaXNoX2RhdGUgLSBhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2goYXNzaWduZWVfYXBwcik7XG4gICAgICBfLmVhY2gobmV3X2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdfYXBwciwgbmV3X3VzZXIsIHNwYWNlX3VzZXIsIHVzZXJfb3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgdXNlcl9pZCk7XG4gICAgICAgIHVzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld19hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld19hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgICAgbmV3X2FwcHIudHJhY2UgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgICAgbmV3X2FwcHIuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudXNlciA9IHVzZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLnVzZXJfbmFtZSA9IG5ld191c2VyLm5hbWU7XG4gICAgICAgIGhhbmRsZXJfaWQgPSB1c2VyX2lkO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBuZXdfdXNlcjtcbiAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnRbaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQuaW5kZXhPZih1c2VyX2lkKV0gPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgICBfaWQ6IGFnZW50XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdfYXBwci5hZ2VudCA9IGFnZW50O1xuICAgICAgICB9XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHVzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgIG5ld19hcHByLmZyb21fdXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci50eXBlID0gXCJyZWFzc2lnblwiO1xuICAgICAgICBuZXdfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdfYXBwci5kdWVfZGF0ZSA9IGxhc3RfdHJhY2UuZHVlX2RhdGU7XG4gICAgICAgIG5ld19hcHByLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3X2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3X2FwcHIpO1xuICAgICAgICByZXR1cm4gbGFzdF90cmFjZS5hcHByb3Zlcy5wdXNoKG5ld19hcHByKTtcbiAgICAgIH0pO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoYXBwcm92ZV91c2Vyc19oYW5kbGVycyk7XG4gICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBpbmJveF91c2Vyc19mcm9tX2NsaWVudDtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gbGFzdF90cmFjZS5hcHByb3ZlcztcbiAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RfdHJhY2UuX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgfSk7XG4gICAgICBpZiAocikge1xuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIF91c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudCk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpO1xuICAgICAgICBfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaChfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICB9KTtcbiAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVhc3NpZ24nLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbG9jYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pXHJcblxyXG5cdFx0XHRsYXN0X3RyYWNlID0gXy5sYXN0KGluc3RhbmNlLnRyYWNlcylcclxuXHJcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcclxuXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBsYXN0X3RyYWNlLmluc3RhbmNlXHJcblx0XHRcdGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0cmVsb2NhdGVfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2luYm94X3VzZXJzXCJdXHJcblx0XHRcdHJlbG9jYXRlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2NvbW1lbnRcIl1cclxuXHRcdFx0cmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl1cclxuXHRcdFx0bm90X2luX2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKGluYm94X3VzZXJzLCByZWxvY2F0ZV9pbmJveF91c2VycylcclxuXHRcdFx0bmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKHJlbG9jYXRlX2luYm94X3VzZXJzLCBpbmJveF91c2VycylcclxuXHJcblx0XHRcdGFwcHJvdmVfdXNlcnMgPSBbXVxyXG5cclxuXHRcdFx0IyDojrflj5bkuIDkuKpmbG93XHJcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHRcdFx0bmV4dF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCByZWxvY2F0ZV9uZXh0X3N0ZXApXHJcblx0XHRcdG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZVxyXG5cdFx0XHRuZXh0X3N0ZXBfbmFtZSA9IG5leHRfc3RlcC5uYW1lXHJcblx0XHRcdGN1cnJlbnRfc2V0cCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgbGFzdF90cmFjZS5zdGVwKVxyXG5cdFx0XHRjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGVcclxuXHJcblx0XHRcdHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlc1xyXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdCMg6YeN5a6a5L2N55qE5pe25YCZ5L2/55SoYXBwcm92ZS52YWx1ZXPlkIjlubYgaW5zdGFuY2UudmFsdWVz55Sf5oiQ5paw55qEaW5zdGFuY2UudmFsdWVzICMxMzI4XHJcblx0XHRcdHNldE9iai52YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdGkgPSAwXHJcblx0XHRcdHdoaWxlIGkgPCB0cmFjZXMubGVuZ3RoXHJcblx0XHRcdFx0aWYgdHJhY2VzW2ldLl9pZCBpcyBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRcdFx0aWYgbm90IHRyYWNlc1tpXS5hcHByb3Zlc1xyXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0aCA9IDBcclxuXHRcdFx0XHRcdHdoaWxlIGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgaXNudCBcImNjXCIgYW5kIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCJcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmVfdXNlcnMucHVzaCh0cmFjZXNbaV0uYXBwcm92ZXNbaF0udXNlcilcclxuXHJcblx0XHRcdFx0XHRcdFx0IyBiZWdpbiDooqvph43lrprkvY3nu5lB77yM5YaN6KKr6YeN5a6a5L2N6LWw77yM5LmL5YmNQeeahOaEj+ingeWcqOaEj+ingeagj+S4reaYvuekuuS4jeWHuuadpeS6huOAgiAjMTkyMVxyXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0dGEgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF1cclxuXHRcdFx0XHRcdFx0XHRcdHNhbWVUcmFjZXMgPSBfLmZpbHRlciB0cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybiB0LnN0ZXAgPT0gdHJhY2VzW2ldLnN0ZXBcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxXHJcblx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IG51bGxcclxuXHJcblx0XHRcdFx0XHRcdFx0XHR3aGlsZSBsID4gLTFcclxuXHRcdFx0XHRcdFx0XHRcdFx0Xy5lYWNoIHNhbWVUcmFjZXNbbF0uYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgYS51c2VyID09IHRhLnVzZXIgJiYgYS5qdWRnZSAhPSBcInRlcm1pbmF0ZWRcIiAmJiBhLmRlc2NyaXB0aW9uICYmICFzaWduU2hvd0FwcHJvdmVJZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0c2lnblNob3dBcHByb3ZlSWQgPSBhLl9pZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRsLS1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBzaWduU2hvd0FwcHJvdmVJZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aSA9IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgdGkgPCB0cmFjZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0YWggPSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0d2hpbGUgYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uX2lkID09IHNpZ25TaG93QXBwcm92ZUlkXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLnNpZ25fc2hvdyA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhaCsrXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dGkrK1xyXG5cdFx0XHRcdFx0XHRcdCMgZW5kIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXHJcblxyXG5cdFx0XHRcdFx0XHRoKytcclxuXHJcblx0XHRcdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl6YeN5a6a5L2N5pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSAsIGZ1bGxuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci50cmFjZSA9IHRyYWNlc1tpXS5faWRcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIlxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5kZXNjcmlwdGlvbiA9IHJlbG9jYXRlX2NvbW1lbnRcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmNvc3RfdGltZSA9IHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgLSByZWxvY2F0ZV9hcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKHJlbG9jYXRlX2FwcHIpXHJcblxyXG5cdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxyXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHR0cmFjZXNbaV0uanVkZ2UgPSBcInJlbG9jYXRlZFwiXHJcblxyXG5cdFx0XHRcdGkrK1xyXG5cclxuXHRcdFx0aWYgbmV4dF9zdGVwX3R5cGUgaXMgXCJlbmRcIlxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cclxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMgPSBbXVxyXG5cdFx0XHRcdCMg5pu05pawaW5zdGFuY2XorrDlvZVcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gW11cclxuXHRcdFx0XHRzZXRPYmouZmluYWxfZGVjaXNpb24gPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdHNldE9iai5maW5pc2hfZGF0ZSA9IG5ldyBEYXRlXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gZmFsc2VcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF1cclxuXHRcdFx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcFxyXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBuZXh0X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShuZXh0X3N0ZXAudGltZW91dF9ob3VycylcclxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXHJcblx0XHRcdFx0Xy5lYWNoKHJlbG9jYXRlX2luYm94X3VzZXJzLCAobmV4dF9zdGVwX3VzZXJfaWQsIGlkeCktPlxyXG5cdFx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWRcclxuXHJcblx0XHRcdFx0XHR1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWVcclxuXHJcblx0XHRcdFx0XHRoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWRcclxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mb1xyXG5cdFx0XHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZClcclxuXHRcdFx0XHRcdGlmIGFnZW50XHJcblx0XHRcdFx0XHRcdHJlbG9jYXRlX2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxyXG5cdFx0XHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcclxuXHRcdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYWdlbnQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxyXG5cclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWRcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHJcblx0XHRcdFx0XHRuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKVxyXG5cdFx0XHRcdFx0IyDojrflj5ZuZXh0X3N0ZXBfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xyXG5cdFx0XHRcdFx0bmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxyXG5cclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpXHJcblx0XHRcdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IHJlbG9jYXRlX2luYm94X3VzZXJzXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSB1dWZsb3dNYW5hZ2VyLmdldEN1cnJlbnRTdGVwQXV0b1N1Ym1pdChmbG93LnRpbWVvdXRfYXV0b19zdWJtaXQsIG5leHRfc3RlcC5saW5lcylcclxuXHJcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChpbmJveF91c2VycykuY29uY2F0KGFwcHJvdmVfdXNlcnMpXHJcblx0XHRcdHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXHJcblx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxyXG5cdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXHJcblxyXG5cdFx0XHRpZiBzZXRPYmouc3RhdGUgPT0gJ2NvbXBsZXRlZCdcclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqLCAkdW5zZXQ6IHtmaW5pc2hfZGF0ZTogMX19KVxyXG5cclxuXHRcdFx0aWYgclxyXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHRcdF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0XHRpZiB1c2VyX2lkIGlzbnQgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdClcclxuXHRcdFx0XHQjIOaPkOWPlmluc3RhbmNlcy5vdXRib3hfdXNlcnPmlbDnu4TlkozloavljZXkurrjgIHnlLPor7fkurpcclxuXHRcdFx0XHRfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KVxyXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5zdWJtaXR0ZXIpXHJcblx0XHRcdFx0X3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpXHJcblx0XHRcdFx0Xy5lYWNoKF91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdClcclxuXHJcblx0XHRcdFx0IyDnu5nmlrDliqDlhaXnmoRpbmJveF91c2Vyc+WPkemAgXB1c2ggbWVzc2FnZVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVsb2NhdGUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7ZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYWgsIGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc2V0cCwgY3VycmVudF9zZXRwX3R5cGUsIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgZmxvdywgaCwgaSwgaW5ib3hfdXNlcnMsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBuZXh0X3N0ZXAsIG5leHRfc3RlcF9uYW1lLCBuZXh0X3N0ZXBfdHlwZSwgbm90X2luX2luYm94X3VzZXJzLCBub3csIHBlcm1pc3Npb25zLCByLCByZWxvY2F0ZV9hcHByLCByZWxvY2F0ZV9jb21tZW50LCByZWxvY2F0ZV9pbmJveF91c2VycywgcmVsb2NhdGVfbmV4dF9zdGVwLCBzYW1lVHJhY2VzLCBzZXRPYmosIHNpZ25TaG93QXBwcm92ZUlkLCBzcGFjZSwgc3BhY2VfaWQsIHRhLCB0aSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpO1xuICAgICAgfVxuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIGluc3RhbmNlX2lkID0gbGFzdF90cmFjZS5pbnN0YW5jZTtcbiAgICAgIGluYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICByZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl07XG4gICAgICByZWxvY2F0ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9jb21tZW50XCJdO1xuICAgICAgcmVsb2NhdGVfbmV4dF9zdGVwID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9uZXh0X3N0ZXBcIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShyZWxvY2F0ZV9pbmJveF91c2VycywgaW5ib3hfdXNlcnMpO1xuICAgICAgYXBwcm92ZV91c2VycyA9IFtdO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIG5leHRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcmVsb2NhdGVfbmV4dF9zdGVwKTtcbiAgICAgIG5leHRfc3RlcF90eXBlID0gbmV4dF9zdGVwLnN0ZXBfdHlwZTtcbiAgICAgIG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWU7XG4gICAgICBjdXJyZW50X3NldHAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcCk7XG4gICAgICBjdXJyZW50X3NldHBfdHlwZSA9IGN1cnJlbnRfc2V0cC5zdGVwX3R5cGU7XG4gICAgICB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIGkgPSAwO1xuICAgICAgd2hpbGUgKGkgPCB0cmFjZXMubGVuZ3RoKSB7XG4gICAgICAgIGlmICh0cmFjZXNbaV0uX2lkID09PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgICAgIGlmICghdHJhY2VzW2ldLmFwcHJvdmVzKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMgPSBuZXcgQXJyYXk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGggPSAwO1xuICAgICAgICAgIHdoaWxlIChoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgIT09IFwiY2NcIiAmJiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5jb3N0X3RpbWUgPSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgLSB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgYXBwcm92ZV91c2Vycy5wdXNoKHRyYWNlc1tpXS5hcHByb3Zlc1toXS51c2VyKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zaWduX3Nob3cgPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICB0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXTtcbiAgICAgICAgICAgICAgICBzYW1lVHJhY2VzID0gXy5maWx0ZXIodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gdC5zdGVwID09PSB0cmFjZXNbaV0uc3RlcDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBsID0gc2FtZVRyYWNlcy5sZW5ndGggLSAxO1xuICAgICAgICAgICAgICAgIHNpZ25TaG93QXBwcm92ZUlkID0gbnVsbDtcbiAgICAgICAgICAgICAgICB3aGlsZSAobCA+IC0xKSB7XG4gICAgICAgICAgICAgICAgICBfLmVhY2goc2FtZVRyYWNlc1tsXS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB0YS51c2VyICYmIGEuanVkZ2UgIT09IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHNpZ25TaG93QXBwcm92ZUlkID0gYS5faWQ7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgbC0tO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgIHRpID0gMDtcbiAgICAgICAgICAgICAgICAgIHdoaWxlICh0aSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgICAgICAgYWggPSAwO1xuICAgICAgICAgICAgICAgICAgICB3aGlsZSAoYWggPCB0cmFjZXNbdGldLmFwcHJvdmVzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICh0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT09IHNpZ25TaG93QXBwcm92ZUlkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5zaWduX3Nob3cgPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9IGZhbHNlO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgICBhaCsrO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIHRpKys7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBoKys7XG4gICAgICAgICAgfVxuICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZHVlX2RhdGUgPSB0cmFjZXNbaV0uZHVlX2RhdGU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5qdWRnZSA9IFwicmVsb2NhdGVkXCI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXMucHVzaChyZWxvY2F0ZV9hcHByKTtcbiAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICB0cmFjZXNbaV0uanVkZ2UgPSBcInJlbG9jYXRlZFwiO1xuICAgICAgICB9XG4gICAgICAgIGkrKztcbiAgICAgIH1cbiAgICAgIGlmIChuZXh0X3N0ZXBfdHlwZSA9PT0gXCJlbmRcIikge1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW107XG4gICAgICAgIHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICBzZXRPYmouZmluaXNoX2RhdGUgPSBuZXcgRGF0ZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHJlbG9jYXRlX25leHRfc3RlcDtcbiAgICAgICAgbmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShuZXh0X3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgICAgIG5ld1RyYWNlLmFwcHJvdmVzID0gW107XG4gICAgICAgIF8uZWFjaChyZWxvY2F0ZV9pbmJveF91c2VycywgZnVuY3Rpb24obmV4dF9zdGVwX3VzZXJfaWQsIGlkeCkge1xuICAgICAgICAgIHZhciBhZ2VudCwgaGFuZGxlcl9pZCwgaGFuZGxlcl9pbmZvLCBuZXdBcHByb3ZlLCBuZXh0X3N0ZXBfc3BhY2VfdXNlciwgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8sIHVzZXJfaW5mbztcbiAgICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkO1xuICAgICAgICAgIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgbmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICBoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICAgICAgaGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvO1xuICAgICAgICAgIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpO1xuICAgICAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICAgICAgcmVsb2NhdGVfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50O1xuICAgICAgICAgICAgaGFuZGxlcl9pZCA9IGFnZW50O1xuICAgICAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudDtcbiAgICAgICAgICB9XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICAgIG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpO1xuICAgICAgICAgIG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICAgIHJldHVybiBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gcmVsb2NhdGVfaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgbmV4dF9zdGVwLmxpbmVzKTtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGluYm94X3VzZXJzKS5jb25jYXQoYXBwcm92ZV91c2Vycyk7XG4gICAgICBzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICBpZiAoc2V0T2JqLnN0YXRlID09PSAnY29tcGxldGVkJykge1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9iaixcbiAgICAgICAgICAkdW5zZXQ6IHtcbiAgICAgICAgICAgIGZpbmlzaF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlbG9jYXRlX2NvbW1lbnQsIGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmVsb2NhdGUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2FyY2hpdmUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cclxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxyXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrozmiJDlubbkuJTmnKrlvZLmoaPnirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQoaW5zdGFuY2UpXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2XkuIvnmoTkuIDkuKp1c2VyXHJcblx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHQjIOWIpOaWreS4gOS4queUqOaIt+aYr+WQpuaYr+S4gOS4qmluc3RhbmNl55qE5o+Q5Lqk6ICFIOaIluiAhXNwYWNl55qE566h55CG5ZGYXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKVxyXG5cdFx0XHRcclxuXHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlXHJcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlXHJcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0ZGF0YToge31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuXHRcclxuXHRcdCIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZCwgc3BhY2VfdXNlcjtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl07XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZChpbnN0YW5jZSk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VTdWJtaXR0ZXJPckFwcGxpY2FudE9yU3BhY2VBZG1pbihpbnN0YW5jZSwgY3VycmVudF91c2VyLCBzcGFjZSk7XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgc2V0T2JqLmlzX2FyY2hpdmVkID0gdHJ1ZTtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgcmV0dXJuIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgfSk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3Iuc3RhcnR1cCAtPlxyXG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHRcdHRyeVxyXG5cdFx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblxyXG5cdFx0XHRxdWVyeSA9IHJlcS5xdWVyeVxyXG5cdFx0XHRzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkXHJcblx0XHRcdGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkXHJcblx0XHRcdHR5cGUgPSBwYXJzZUludChxdWVyeS50eXBlKVxyXG5cdFx0XHR0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgZm9ybTogMSB9IH0pXHJcblx0XHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgJ2N1cnJlbnQuZmllbGRzJzogMSB9IH0pXHJcblxyXG5cdFx0XHRmb3JtX25hbWUgPSBmb3JtLm5hbWVcclxuXHRcdFx0ZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkc1xyXG5cdFx0XHR0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXlcclxuXHRcdFx0Xy5lYWNoIGZvcm0uY3VycmVudC5maWVsZHMsIChmaWVsZCkgLT5cclxuXHRcdFx0XHRpZiBmaWVsZC50eXBlIGlzIFwidGFibGVcIlxyXG5cdFx0XHRcdFx0dGFibGVfZmllbGRzLnB1c2goZmllbGQpXHJcblxyXG5cdFx0XHRpbnNfdG9feGxzID0gbmV3IEFycmF5XHJcblx0XHRcdHN0YXJ0X2RhdGUgPSBudWxsXHJcblx0XHRcdGVuZF9kYXRlID0gbnVsbFxyXG5cdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHQjIDAt5pys5pyIXHJcblx0XHRcdGlmIHR5cGUgaXMgMFxyXG5cdFx0XHRcdHN0YXJ0X2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpXHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXHJcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxyXG5cdFx0XHRcdFx0c3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XHJcblx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cdFx0XHQjIDEt5LiK5pyIXHJcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAxXHJcblx0XHRcdFx0bGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpXHJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKGxhc3RfbW9udGhfZGF0ZS5nZXRGdWxsWWVhcigpLCBsYXN0X21vbnRoX2RhdGUuZ2V0TW9udGgoKSwgMSlcclxuXHRcdFx0XHRlbmRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcclxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcclxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXHJcblx0XHRcdFx0XHQkYW5kOiBbeyBzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH0gfSwgeyBzdWJtaXRfZGF0ZTogeyAkbHRlOiBlbmRfZGF0ZSB9IH1dXHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XHJcblx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cdFx0XHQjIDIt5pW05Liq5bm05bqmXHJcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAyXHJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKVxyXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxyXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcclxuXHRcdFx0XHRcdHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxyXG5cdFx0XHRcdH0pLmZldGNoKClcclxuXHRcdFx0IyAzLeaJgOaciVxyXG5cdFx0XHRlbHNlIGlmIHR5cGUgaXMgM1xyXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxyXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfVxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdHNvcnQ6IHsgc3VibWl0X2RhdGU6IDEgfVxyXG5cdFx0XHRcdH0pLmZldGNoKClcclxuXHJcblx0XHRcdGVqcyA9IHJlcXVpcmUoJ2VqcycpXHJcblx0XHRcdHN0ciA9IEFzc2V0cy5nZXRUZXh0KCdzZXJ2ZXIvZWpzL2V4cG9ydF9pbnN0YW5jZXMuZWpzJylcclxuXHJcblx0XHRcdCMg5qOA5rWL5piv5ZCm5pyJ6K+t5rOV6ZSZ6K+vXHJcblx0XHRcdGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpXHJcblx0XHRcdGVycm9yX29iaiA9IGVqc0xpbnQubGludChzdHIsIHt9KVxyXG5cdFx0XHRpZiBlcnJvcl9vYmpcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGVycm9yX29ialxyXG5cclxuXHRcdFx0dGVtcGxhdGUgPSBlanMuY29tcGlsZShzdHIpXHJcblxyXG5cdFx0XHRsYW5nID0gJ2VuJ1xyXG5cdFx0XHRpZiBjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgaXMgJ3poLWNuJ1xyXG5cdFx0XHRcdGxhbmcgPSAnemgtQ04nXHJcblxyXG5cdFx0XHRyZXQgPSB0ZW1wbGF0ZSh7XHJcblx0XHRcdFx0bGFuZzogbGFuZyxcclxuXHRcdFx0XHR0aW1lem9uZW9mZnNldDogdGltZXpvbmVvZmZzZXQsXHJcblx0XHRcdFx0Zm9ybV9uYW1lOiBmb3JtX25hbWUsXHJcblx0XHRcdFx0ZmllbGRzOiBmaWVsZHMsXHJcblx0XHRcdFx0dGFibGVfZmllbGRzOiB0YWJsZV9maWVsZHMsXHJcblx0XHRcdFx0aW5zX3RvX3hsczogaW5zX3RvX3hsc1xyXG5cdFx0XHR9KVxyXG5cclxuXHRcdFx0ZmlsZU5hbWUgPSBcIlN0ZWVkT1NXb3JrZmxvd19cIiArIG1vbWVudCgpLmZvcm1hdCgnWVlZWU1NRERISG1tJykgKyBcIi54bHNcIlxyXG5cdFx0XHRyZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpXHJcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpXHJcblx0XHRcdHJlcy5lbmQocmV0KVxyXG5cdFx0Y2F0Y2ggZVxyXG5cdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0cmVzLmVuZChlLm1lc3NhZ2UpIiwiTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L2luc3RhbmNlc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBjdXJyZW50X3VzZXJfaW5mbywgZSwgZWpzLCBlanNMaW50LCBlbmRfZGF0ZSwgZXJyb3Jfb2JqLCBmaWVsZHMsIGZpbGVOYW1lLCBmbG93LCBmbG93X2lkLCBmb3JtLCBmb3JtX25hbWUsIGluc190b194bHMsIGxhbmcsIGxhc3RfbW9udGhfZGF0ZSwgbm93LCBxdWVyeSwgcmV0LCBzcGFjZV9pZCwgc3RhcnRfZGF0ZSwgc3RyLCB0YWJsZV9maWVsZHMsIHRlbXBsYXRlLCB0aW1lem9uZW9mZnNldCwgdHlwZTtcbiAgICB0cnkge1xuICAgICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgICAgc3BhY2VfaWQgPSBxdWVyeS5zcGFjZV9pZDtcbiAgICAgIGZsb3dfaWQgPSBxdWVyeS5mbG93X2lkO1xuICAgICAgdHlwZSA9IHBhcnNlSW50KHF1ZXJ5LnR5cGUpO1xuICAgICAgdGltZXpvbmVvZmZzZXQgPSBwYXJzZUludChxdWVyeS50aW1lem9uZW9mZnNldCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmb3JtOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtX25hbWUgPSBmb3JtLm5hbWU7XG4gICAgICBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzO1xuICAgICAgdGFibGVfZmllbGRzID0gbmV3IEFycmF5O1xuICAgICAgXy5lYWNoKGZvcm0uY3VycmVudC5maWVsZHMsIGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgICAgIGlmIChmaWVsZC50eXBlID09PSBcInRhYmxlXCIpIHtcbiAgICAgICAgICByZXR1cm4gdGFibGVfZmllbGRzLnB1c2goZmllbGQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGluc190b194bHMgPSBuZXcgQXJyYXk7XG4gICAgICBzdGFydF9kYXRlID0gbnVsbDtcbiAgICAgIGVuZF9kYXRlID0gbnVsbDtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaWYgKHR5cGUgPT09IDApIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAgIGZsb3c6IGZsb3dfaWQsXG4gICAgICAgICAgc3RhdGU6IHtcbiAgICAgICAgICAgICRuZTogXCJkcmFmdFwiXG4gICAgICAgICAgfSxcbiAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgJGd0ZTogc3RhcnRfZGF0ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfSBlbHNlIGlmICh0eXBlID09PSAxKSB7XG4gICAgICAgIGxhc3RfbW9udGhfZGF0ZSA9IG5ldyBEYXRlKG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSkgLSAxMDAwICogNjAgKiA2MCAqIDI0KTtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKGxhc3RfbW9udGhfZGF0ZS5nZXRGdWxsWWVhcigpLCBsYXN0X21vbnRoX2RhdGUuZ2V0TW9udGgoKSwgMSk7XG4gICAgICAgIGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgICRhbmQ6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICAgICAkbHRlOiBlbmRfZGF0ZVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDIpIHtcbiAgICAgICAgc3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCAwLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDMpIHtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH1cbiAgICAgIGVqcyA9IHJlcXVpcmUoJ2VqcycpO1xuICAgICAgc3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKTtcbiAgICAgIGVqc0xpbnQgPSByZXF1aXJlKCdlanMtbGludCcpO1xuICAgICAgZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pO1xuICAgICAgaWYgKGVycm9yX29iaikge1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiPT09L2FwaS93b3JrZmxvdy9leHBvcnQ6XCIpO1xuICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yX29iaik7XG4gICAgICB9XG4gICAgICB0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cik7XG4gICAgICBsYW5nID0gJ2VuJztcbiAgICAgIGlmIChjdXJyZW50X3VzZXJfaW5mby5sb2NhbGUgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgICB9XG4gICAgICByZXQgPSB0ZW1wbGF0ZSh7XG4gICAgICAgIGxhbmc6IGxhbmcsXG4gICAgICAgIHRpbWV6b25lb2Zmc2V0OiB0aW1lem9uZW9mZnNldCxcbiAgICAgICAgZm9ybV9uYW1lOiBmb3JtX25hbWUsXG4gICAgICAgIGZpZWxkczogZmllbGRzLFxuICAgICAgICB0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcbiAgICAgICAgaW5zX3RvX3hsczogaW5zX3RvX3hsc1xuICAgICAgfSk7XG4gICAgICBmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtdHlwZVwiLCBcImFwcGxpY2F0aW9uL29jdGV0LXN0cmVhbVwiKTtcbiAgICAgIHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LURpc3Bvc2l0aW9uXCIsIFwiYXR0YWNobWVudDtmaWxlbmFtZT1cIiArIGVuY29kZVVSSShmaWxlTmFtZSkpO1xuICAgICAgcmV0dXJuIHJlcy5lbmQocmV0KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiByZXMuZW5kKGUubWVzc2FnZSk7XG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0cXVlcnkgPSByZXEucXVlcnlcclxuXHRcdGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHthdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VufSlcclxuXHJcblx0XHRpZiAobm90IGF1dGhfdG9rZW4pIG9yIChub3QgYXV0aF90b2tlbi5lbmFibGVkKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yIDQwMSwgJ1VuYXV0aG9yaXplZCdcclxuXHJcblx0XHRzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdXHJcblx0XHRmb3JtaWRzID0gcXVlcnlbXCJmb3JtaWRzXCJdICMg6YCX5Y+36ZqU5byA5a2X56ym5LiyXHJcblx0XHRpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl1cclxuXHJcblx0XHRkYXRhID0gdXVmbG93TWFuYWdlci5nZXRfU3BhY2VDaGFuZ2VTZXQoZm9ybWlkcywgaXNfYWRtaW4sIHN5bmNfdG9rZW4pXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRkYXRhOiBkYXRhXHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvdWYvc3BhY2UvY2hhbmdlc2V0JywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF1dGhfdG9rZW4sIGRhdGEsIGUsIGZvcm1pZHMsIGlzX2FkbWluLCBxdWVyeSwgc3luY190b2tlbjtcbiAgdHJ5IHtcbiAgICBxdWVyeSA9IHJlcS5xdWVyeTtcbiAgICBhdXRoX3Rva2VuID0gZGIuYXV0aF90b2tlbnMuZmluZE9uZSh7XG4gICAgICBhdXRoX3Rva2VuOiBxdWVyeS5hdXRoX3Rva2VuXG4gICAgfSk7XG4gICAgaWYgKCghYXV0aF90b2tlbikgfHwgKCFhdXRoX3Rva2VuLmVuYWJsZWQpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDQwMSwgJ1VuYXV0aG9yaXplZCcpO1xuICAgIH1cbiAgICBzeW5jX3Rva2VuID0gcXVlcnlbXCJzeW5jX3Rva2VuXCJdO1xuICAgIGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl07XG4gICAgaXNfYWRtaW4gPSBxdWVyeVtcImlzX2FkbWluXCJdO1xuICAgIGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IGRhdGFcbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmV0cmlldmUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcclxuXHRcdFx0cmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J11cclxuXHJcblx0XHRcdCMg6aqM6K+BaW5zdGFuY2XkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdFx0IyB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKVxyXG5cdFx0XHQjIOagoemqjOeUs+ivt+WNleaYr+W9k+WJjeeUqOaIt+W3suWuoeaguOi/h+eahOWNleWtkOaIluiAheW9k+WJjeeUqOaIt+aYr+aPkOS6pOS6uuaIlueUs+ivt+S6ulxyXG5cdFx0XHRpZiAobm90IGluc3RhbmNlLm91dGJveF91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKGluc3RhbmNlLnN1Ym1pdHRlciBpc250IGN1cnJlbnRfdXNlciBhbmQgaW5zdGFuY2UuYXBwbGljYW50IGlzbnQgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+W9k+WJjeeUqOaIt+S4jeespuWQiOWPluWbnuadoeS7ticpXHJcblxyXG5cdFx0XHRyZXRyaWV2ZV90eXBlID0gXCJcIlxyXG5cclxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXHJcblxyXG5cdFx0XHQj6I635Y+W5pyA5paw55qEdHJhY2XvvIwg5Y2z5Y+W5Zue5q2l6aqkXHJcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKVxyXG5cdFx0XHRsYXN0X3RyYWNlX2lkID0gbGFzdF90cmFjZS5faWRcclxuXHRcdFx0cHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcclxuXHRcdFx0cHJldmlvdXNfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBwcmV2aW91c190cmFjZV9pZFxyXG5cdFx0XHQpXHJcblx0XHRcdHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQgPSBwcmV2aW91c190cmFjZS5zdGVwXHJcblx0XHRcdHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lXHJcblx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcclxuXHRcdFx0aWYgcHJldmlvdXNfc3RlcC5zdGVwX3R5cGUgaXMgXCJjb3VudGVyU2lnblwiXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJylcclxuXHJcblx0XHRcdCMg5Y+W5Zue5q2l6aqk55qE5YmN5LiA5Liq5q2l6aqk5aSE55CG5Lq65ZSv5LiA77yI5Y2z5o6S6Zmk5o6J5Lyg6ZiF5ZKM6L2s5Y+R55qEYXBwcm92ZeWQju+8jOWJqeS9meeahGFwcHJvdmXlj6rmnInkuIDkuKrvvInlubbkuJTmmK/lvZPliY3nlKjmiLdcclxuXHRcdFx0cHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlciBwcmV2aW91c190cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRyZXR1cm4gYS50eXBlIGlzbnQgJ2NjJyBhbmQgYS50eXBlIGlzbnQgJ2Rpc3RyaWJ1dGUnIGFuZCBhLnR5cGUgaXNudCAnZm9yd2FyZCcgYW5kIFsnYXBwcm92ZWQnLCdzdWJtaXR0ZWQnLCdyZWplY3RlZCddLmluY2x1ZGVzKGEuanVkZ2UpXHJcblxyXG5cdFx0XHRpZiBwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggaXMgMSBhbmQgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgaXMgY3VycmVudF91c2VyIG9yIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgaXMgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJyAjIOeUs+ivt+WNleato+W4uOa1gei9rOeahOWPluWbnu+8jOWNs+mdnuS8oOmYheWPluWbnlxyXG5cclxuXHRcdFx0aSA9IHRyYWNlcy5sZW5ndGhcclxuXHRcdFx0cmV0cmlldmVfYXBwcm92ZSA9IHt9XHJcblx0XHRcdHdoaWxlIGkgPiAwXHJcblx0XHRcdFx0Xy5lYWNoIHRyYWNlc1tpLTFdLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdFx0aWYgYS50eXBlIGlzICdjYycgYW5kIGEuaXNfZmluaXNoZWQgaXMgdHJ1ZSBhbmQgYS51c2VyIGlzIGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV90eXBlID0gJ2NjJ1xyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0gYVxyXG5cclxuXHRcdFx0XHRpZiByZXRyaWV2ZV90eXBlIGlzICdjYydcclxuXHRcdFx0XHRcdGJyZWFrXHJcblxyXG5cdFx0XHRcdGktLVxyXG5cclxuXHJcblx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ25vcm1hbCdcclxuXHRcdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcclxuXHRcdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblx0XHRcdFx0cHJldmlvdXNfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZClcclxuXHRcdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcclxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xyXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdF8uZWFjaCB0cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0XHRpZiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2lkXHJcblx0XHRcdFx0XHRcdGlmIG5vdCB0LmFwcHJvdmVzXHJcblx0XHRcdFx0XHRcdFx0dC5hcHByb3ZlcyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcHByKS0+XHJcblx0XHRcdFx0XHRcdFx0aWYgYXBwci5pc19maW5pc2hlZCA9PSBmYWxzZSBhbmQgYXBwci50eXBlIGlzbnQgXCJjY1wiXHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRhcHByLmp1ZGdlID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuY29zdF90aW1lID0gYXBwci5maW5pc2hfZGF0ZSAtIGFwcHIuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHQjIOWcqOWQjOS4gHRyYWNl5LiL5o+S5YWl5Y+W5Zue5pON5L2c6ICF55qEYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdFx0XHRjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHsgZmllbGRzOiB7IG5hbWU6IDEsIGZ1bGxuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwciA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnRyYWNlID0gdC5faWRcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIlxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZGVzY3JpcHRpb24gPSByZXRyaWV2ZV9jb21tZW50XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5jb3N0X3RpbWUgPSByZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmV0cmlldmVfYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKVxyXG5cclxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxyXG5cdFx0XHRcdFx0XHR0LmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHR0LmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHQuanVkZ2UgPSBcInJldHJpZXZlZFwiXHJcblxyXG5cdFx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2XorrDlvZVcclxuXHRcdFx0XHRuZXdUcmFjZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRcdFx0bmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXVxyXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcHJldmlvdXNfdHJhY2Vfc3RlcF9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKHByZXZpb3VzX3N0ZXAudGltZW91dF9ob3VycylcclxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0bmV3QXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXHJcblxyXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyLCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXHJcblx0XHRcdFx0b3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcilcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblxyXG5cdFx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpXHJcblxyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXVxyXG5cclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHR0cmFjZXMucHVzaChuZXdUcmFjZSlcclxuXHRcdFx0XHRzZXRPYmoudHJhY2VzID0gdHJhY2VzXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxyXG5cclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcylcclxuXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0XHRpZiByXHJcblx0XHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbylcclxuXHRcdFx0XHRcdF8uZWFjaChvbGRfaW5ib3hfdXNlcnMsICh1c2VyX2lkKS0+XHJcblx0XHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHRcdClcclxuXHJcblx0XHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0XHRlbHNlIGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xyXG5cdFx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cdFx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkXHJcblx0XHRcdFx0dGhlX3RyYWNlID0gXy5maW5kIHRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdHJldHVybiB0Ll9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXHJcblxyXG5cdFx0XHRcdF8uZWFjaCB0aGVfdHJhY2UuYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0XHRpZiBhLl9pZCBpcyByZXRyaWV2ZV9hcHByb3ZlLl9pZFxyXG5cdFx0XHRcdFx0XHRhLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0YS5maW5pc2hfZGF0ZSA9IHVuZGVmaW5lZFxyXG5cdFx0XHRcdFx0XHRhLmp1ZGdlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdGEuY29zdF90aW1lID0gdW5kZWZpbmVkXHJcblxyXG5cdFx0XHRcdGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnNcclxuXHRcdFx0XHRjY191c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0c2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCJcclxuXHRcdFx0XHRzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZVxyXG5cdFx0XHRcdHNldE9iai5jY191c2VycyA9IGNjX3VzZXJzXHJcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzXHJcblxyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2V9LCB7JHNldDogc2V0T2JqfSlcclxuXHRcdFx0XHRpZiByXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHRpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKVxyXG5cdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGZsb3csIGhhbmRsZXJfaW5mbywgaSwgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGxhc3RfdHJhY2UsIGxhc3RfdHJhY2VfaWQsIG5ld0FwcHJvdmUsIG5ld1RyYWNlLCBub3csIG9sZF9pbmJveF91c2Vycywgb3JnX2luZm8sIHByZXZpb3VzX3N0ZXAsIHByZXZpb3VzX3RyYWNlLCBwcmV2aW91c190cmFjZV9hcHByb3ZlcywgcHJldmlvdXNfdHJhY2VfaWQsIHByZXZpb3VzX3RyYWNlX25hbWUsIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQsIHIsIHJldHJpZXZlX2FwcHJvdmUsIHJldHJpZXZlX2NvbW1lbnQsIHJldHJpZXZlX3R5cGUsIHNldE9iaiwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHRoZV90cmFjZSwgdHJhY2VzO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKTtcbiAgICAgIHJldHJpZXZlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFsncmV0cmlldmVfY29tbWVudCddO1xuICAgICAgaWYgKCghaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmIChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlciAmJiBpbnN0YW5jZS5hcHBsaWNhbnQgIT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2Jyk7XG4gICAgICB9XG4gICAgICByZXRyaWV2ZV90eXBlID0gXCJcIjtcbiAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgIGxhc3RfdHJhY2UgPSBfLmxhc3QodHJhY2VzKTtcbiAgICAgIGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX2lkID0gbGFzdF90cmFjZS5wcmV2aW91c190cmFjZV9pZHNbMF07XG4gICAgICBwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBwcmV2aW91c190cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXA7XG4gICAgICBwcmV2aW91c190cmFjZV9uYW1lID0gcHJldmlvdXNfdHJhY2UubmFtZTtcbiAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgIGlmIChwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuS4jeiDveWPluWbnicpO1xuICAgICAgfVxuICAgICAgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXMgPSBfLmZpbHRlcihwcmV2aW91c190cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICByZXR1cm4gYS50eXBlICE9PSAnY2MnICYmIGEudHlwZSAhPT0gJ2Rpc3RyaWJ1dGUnICYmIGEudHlwZSAhPT0gJ2ZvcndhcmQnICYmIFsnYXBwcm92ZWQnLCAnc3VibWl0dGVkJywgJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSk7XG4gICAgICB9KTtcbiAgICAgIGlmIChwcmV2aW91c190cmFjZV9hcHByb3Zlcy5sZW5ndGggPT09IDEgJiYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLnVzZXIgPT09IGN1cnJlbnRfdXNlciB8fCBwcmV2aW91c190cmFjZV9hcHByb3Zlc1swXS5oYW5kbGVyID09PSBjdXJyZW50X3VzZXIpKSB7XG4gICAgICAgIHJldHJpZXZlX3R5cGUgPSAnbm9ybWFsJztcbiAgICAgIH1cbiAgICAgIGkgPSB0cmFjZXMubGVuZ3RoO1xuICAgICAgcmV0cmlldmVfYXBwcm92ZSA9IHt9O1xuICAgICAgd2hpbGUgKGkgPiAwKSB7XG4gICAgICAgIF8uZWFjaCh0cmFjZXNbaSAtIDFdLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEudHlwZSA9PT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09PSB0cnVlICYmIGEudXNlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICByZXRyaWV2ZV90eXBlID0gJ2NjJztcbiAgICAgICAgICAgIHJldHVybiByZXRyaWV2ZV9hcHByb3ZlID0gYTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIGktLTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnbm9ybWFsJykge1xuICAgICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgICBwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKTtcbiAgICAgICAgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgXy5lYWNoKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHZhciBjdXJyZW50X3NwYWNlX3VzZXIsIGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24sIHJldHJpZXZlX2FwcHI7XG4gICAgICAgICAgaWYgKHQuX2lkID09PSBsYXN0X3RyYWNlX2lkKSB7XG4gICAgICAgICAgICBpZiAoIXQuYXBwcm92ZXMpIHtcbiAgICAgICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcHByKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiBhcHByLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICAgICAgICAgIGFwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICBhcHByLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBhcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgICAgICByZXR1cm4gYXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmR1ZV9kYXRlID0gdC5kdWVfZGF0ZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnQ7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICB0LmFwcHJvdmVzLnB1c2gocmV0cmlldmVfYXBwcik7XG4gICAgICAgICAgICB0LmlzX2ZpbmlzaGVkID0gdHJ1ZTtcbiAgICAgICAgICAgIHQuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXR1cm4gdC5qdWRnZSA9IFwicmV0cmlldmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZV9pZF07XG4gICAgICAgIG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gbmV3VHJhY2UuX2lkO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgaGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgICAgb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oc3BhY2VfdXNlcik7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBuZXdUcmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdBcHByb3ZlKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICAgICAgc2V0T2JqLmluYm94X3VzZXJzID0gW2N1cnJlbnRfdXNlcl07XG4gICAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgICB0cmFjZXMucHVzaChuZXdUcmFjZSk7XG4gICAgICAgIHNldE9iai50cmFjZXMgPSB0cmFjZXM7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gcHJldmlvdXNfdHJhY2VfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgcHJldmlvdXNfc3RlcC5saW5lcyk7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgXy5lYWNoKG9sZF9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdjYycpIHtcbiAgICAgICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2UuX2lkO1xuICAgICAgICB0aGVfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIHQuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlO1xuICAgICAgICB9KTtcbiAgICAgICAgXy5lYWNoKHRoZV90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgIGlmIChhLl9pZCA9PT0gcmV0cmlldmVfYXBwcm92ZS5faWQpIHtcbiAgICAgICAgICAgIGEuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgICAgIGEuZmluaXNoX2RhdGUgPSB2b2lkIDA7XG4gICAgICAgICAgICBhLmp1ZGdlID0gdm9pZCAwO1xuICAgICAgICAgICAgcmV0dXJuIGEuY29zdF90aW1lID0gdm9pZCAwO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGNjX3VzZXJzID0gaW5zdGFuY2UuY2NfdXNlcnM7XG4gICAgICAgIGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHNldE9iai5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICAgICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcbiAgICAgICAgc2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnM7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMnXSA9IHRoZV90cmFjZS5hcHByb3ZlcztcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAgICAgJ3RyYWNlcy5faWQnOiByZXRyaWV2ZV9hcHByb3ZlLnRyYWNlXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlcihjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgIH1cbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHJldHVybiBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JldHJpZXZlJywgY3VycmVudF91c2VyLCBbY3VycmVudF91c2VyXSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L2ZvcndhcmQnLCBmdW5jdGlvbiAocmVxLCByZXMsIG5leHQpIHtcclxuXHR0cnkge1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xyXG5cclxuXHRcdHZhciBoYXNoRGF0YSA9IHJlcS5ib2R5O1xyXG5cdFx0dmFyIGluc3RhbmNlX2lkID0gaGFzaERhdGEuaW5zdGFuY2VfaWQ7XHJcblx0XHR2YXIgc3BhY2VfaWQgPSBoYXNoRGF0YS5zcGFjZV9pZDtcclxuXHRcdHZhciBmbG93X2lkID0gaGFzaERhdGEuZmxvd19pZDtcclxuXHRcdHZhciBoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQgPSBoYXNoRGF0YS5oYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQ7XHJcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBoYXNoRGF0YS5kZXNjcmlwdGlvbjtcclxuXHRcdHZhciBpc0ZvcndhcmRBdHRhY2htZW50cyA9IGhhc2hEYXRhLmlzRm9yd2FyZEF0dGFjaG1lbnRzO1xyXG5cdFx0dmFyIHNlbGVjdGVkVXNlcnMgPSBoYXNoRGF0YS5zZWxlY3RlZFVzZXJzO1xyXG5cdFx0dmFyIGFjdGlvbl90eXBlID0gaGFzaERhdGEuYWN0aW9uX3R5cGU7XHJcblx0XHR2YXIgcmVsYXRlZCA9IGhhc2hEYXRhLnJlbGF0ZWQ7XHJcblx0XHR2YXIgZnJvbV9hcHByb3ZlX2lkID0gaGFzaERhdGEuZnJvbV9hcHByb3ZlX2lkO1xyXG5cclxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soc3BhY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhmbG93X2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50LCBCb29sZWFuKTtcclxuXHRcdGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soaXNGb3J3YXJkQXR0YWNobWVudHMsIEJvb2xlYW4pO1xyXG5cdFx0Y2hlY2soc2VsZWN0ZWRVc2VycywgQXJyYXkpO1xyXG5cdFx0Y2hlY2soYWN0aW9uX3R5cGUsIE1hdGNoLk9uZU9mKCdmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnKSk7XHJcblxyXG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKVxyXG5cdFx0XHRjaGVjayhmcm9tX2FwcHJvdmVfaWQsIFN0cmluZyk7XHJcblxyXG5cdFx0dmFyIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcclxuXHRcdHZhciBvbGRfc3BhY2VfaWQgPSBpbnMuc3BhY2U7XHJcblxyXG5cdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpO1xyXG5cclxuXHRcdHZhciBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlX2lkKTtcclxuXHJcblx0XHRpZiAoIWlucyB8fCAhZmxvdyB8fCAhc3BhY2UpIHtcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcigncGFyYW1zIGVycm9yIScsICdyZWNvcmQgbm90IGV4aXN0cyEnKTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZm9yd2FyZF91c2VycyA9IG5ldyBBcnJheTtcclxuXHRcdGlmIChfLmlzRW1wdHkoc2VsZWN0ZWRVc2VycykpIHtcclxuXHRcdFx0Zm9yd2FyZF91c2VycyA9IFtjdXJyZW50X3VzZXJfaWRdO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zm9yd2FyZF91c2VycyA9IHNlbGVjdGVkVXNlcnM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5qCh6aqM5YiG5Y+R5a+56LGh5piv5ZCm5pyJ5YiG5Y+R5rWB56iL55qE5o+Q5Lqk5p2D6ZmQXHJcblx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2VyX2lkcyA9IG5ldyBBcnJheSgpO1xyXG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1aWQpIHtcclxuXHRcdFx0dmFyIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIHVpZCk7XHJcblx0XHRcdGlmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZGRcIikpIHtcclxuXHRcdFx0XHQvLyB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuivpeeUs+ivt+S6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiKVxyXG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcl9pZHMucHVzaCh1aWQpO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdFx0aWYgKCFfLmlzRW1wdHkobm9fcGVybWlzc2lvbl91c2VyX2lkcykpIHtcclxuXHRcdFx0dmFyIG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZSA9IG5ldyBBcnJheSgpO1xyXG5cdFx0XHRkYi51c2Vycy5maW5kKHtcclxuXHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdCRpbjogbm9fcGVybWlzc2lvbl91c2VyX2lkc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuZm9yRWFjaChmdW5jdGlvbiAodSkge1xyXG5cdFx0XHRcdG5vX3Blcm1pc3Npb25fdXNlcnNfbmFtZS5wdXNoKHUubmFtZSk7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdub19wZXJtaXNzaW9uJywgXCLor6Xmj5DkuqTkurrmsqHmnInmj5DkuqTmraTnlLPor7fljZXnmoTmnYPpmZDjgIJcIiwgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLmpvaW4oJywnKSlcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbmV3X2luc19pZHMgPSBuZXcgQXJyYXk7XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xyXG5cdFx0aWYgKGFjdGlvbl90eXBlID09IFwiZGlzdHJpYnV0ZVwiKSB7XHJcblx0XHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xyXG5cdFx0XHRcdFx0Xy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdFx0XHRcdGlmICghY3VycmVudF90cmFjZSkge1xyXG5cdFx0XHRcdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpXHJcblx0XHRcdFx0XHRcdFx0XHRjdXJyZW50X3RyYWNlID0gdDtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRjdXJyZW50X3RyYWNlID0gXy5sYXN0KGlucy50cmFjZXMpO1xyXG5cdFx0fVxyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2VfaWQgPSBjdXJyZW50X3RyYWNlLl9pZDtcclxuXHRcdHZhciBmb3J3YXJkX2FwcHJvdmVzID0gW107XHJcblx0XHR2YXIgZnJvbV91c2VyX25hbWUgPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pLm5hbWVcclxuXHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdDtcclxuXHJcblx0XHQvLyDorqHnrpd2YWx1ZXNcclxuXHRcdHZhciBvbGRfdmFsdWVzID0gaW5zLnZhbHVlcyxcclxuXHRcdFx0bmV3X3ZhbHVlcyA9IHt9O1xyXG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZsb3cuZm9ybSk7XHJcblx0XHR2YXIgZmllbGRzID0gZm9ybS5jdXJyZW50LmZpZWxkcyB8fCBbXTtcclxuXHJcblx0XHR2YXIgb2xkX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGlucy5mb3JtKTtcclxuXHRcdHZhciBvbGRfZm9ybV92ZXJzaW9uID0gaW5zLmZvcm1fdmVyc2lvbixcclxuXHRcdFx0b2xkX2ZpZWxkcyA9IFtdLFxyXG5cdFx0XHRjb21tb25fZmllbGRzID0gW107XHJcblxyXG5cdFx0dmFyIHNlbGVjdF90b19pbnB1dF9maWVsZHMgPSBbXTtcclxuXHJcblx0XHRpZiAob2xkX2Zvcm0uY3VycmVudC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbikge1xyXG5cdFx0XHRvbGRfZmllbGRzID0gb2xkX2Zvcm0uY3VycmVudC5maWVsZHM7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRpZiAob2xkX2Zvcm0uaGlzdG9yeXMpIHtcclxuXHRcdFx0XHRvbGRfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uIChoKSB7XHJcblx0XHRcdFx0XHRpZiAoaC5faWQgPT0gb2xkX2Zvcm1fdmVyc2lvbilcclxuXHRcdFx0XHRcdFx0b2xkX2ZpZWxkcyA9IGguZmllbGRzO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRmaWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0dmFyIGV4aXN0c19maWVsZCA9IF8uZmluZChvbGRfZmllbGRzLCBmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdHJldHVybiBmLnR5cGUgPT0gZmllbGQudHlwZSAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcclxuXHRcdFx0fSlcclxuXHRcdFx0aWYgKGV4aXN0c19maWVsZClcclxuXHRcdFx0XHRjb21tb25fZmllbGRzLnB1c2goZmllbGQpO1xyXG5cdFx0XHR2YXIgc2VsZWN0X2lucHV0X2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSAnc2VsZWN0JyAmJiBmaWVsZC50eXBlID09ICdpbnB1dCcgJiYgZi5jb2RlID09IGZpZWxkLmNvZGU7XHJcblx0XHRcdH0pXHJcblx0XHRcdGlmIChzZWxlY3RfaW5wdXRfZmllbGQpXHJcblx0XHRcdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5wdXNoKHNlbGVjdF9pbnB1dF9maWVsZCk7XHJcblx0XHR9KVxyXG5cclxuXHRcdHNlbGVjdF90b19pbnB1dF9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKG9sZF92YWx1ZXNbZmllbGQuY29kZV0pIHtcclxuXHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gb2xkX3ZhbHVlc1tmaWVsZC5jb2RlXTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRjb21tb25fZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGZpZWxkKSB7XHJcblx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWN0aW9uJykge1xyXG5cdFx0XHRcdGlmIChmaWVsZC5maWVsZHMpIHtcclxuXHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxyXG5cdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcclxuXHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xyXG5cdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcclxuXHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxyXG5cdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ3NlbGVjdCcgfHwgZi50eXBlID09ICdyYWRpbycpIHtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXHJcblx0XHRcdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcclxuXHRcdFx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT0gJ3RhYmxlJykge1xyXG5cdFx0XHRcdGlmICghXy5pc0VtcHR5KG9sZF92YWx1ZXNbZmllbGQuY29kZV0pKSB7XHJcblx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdID0gbmV3IEFycmF5O1xyXG5cdFx0XHRcdFx0b2xkX3ZhbHVlc1tmaWVsZC5jb2RlXS5mb3JFYWNoKGZ1bmN0aW9uIChvbGRfdGFibGVfcm93X3ZhbHVlcykge1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3X3RhYmxlX3Jvd192YWx1ZXMgPSB7fTtcclxuXHJcblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KGZpZWxkLmZpZWxkcykpIHtcclxuXHRcdFx0XHRcdFx0XHRmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZikge1xyXG5cdFx0XHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXHJcblx0XHRcdFx0XHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZi50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIGtleSA9IGYuY29kZTtcclxuXHRcdFx0XHRcdFx0XHRcdHZhciBvbGRfdiA9IG9sZF90YWJsZV9yb3dfdmFsdWVzW2tleV07XHJcblx0XHRcdFx0XHRcdFx0XHRpZiAob2xkX3YpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdtdWx0aVNlbGVjdCcpIHtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF9tdWx0aVNlbGVjdGVkID0gb2xkX3Yuc3BsaXQoJywnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdG5ld190YWJsZV9yb3dfdmFsdWVzW2tleV0gPSBvbGRfdjtcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiAoIV8uaXNFbXB0eShuZXdfdGFibGVfcm93X3ZhbHVlcykpIHtcclxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2ZpZWxkLmNvZGVdLnB1c2gobmV3X3RhYmxlX3Jvd192YWx1ZXMpO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4RcclxuXHRcdFx0XHRpZiAoWydncm91cCcsICd1c2VyJ10uaW5jbHVkZXMoZmllbGQudHlwZSkgJiYgb2xkX3NwYWNlX2lkICE9IHNwYWNlX2lkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdHZhciBrZXkgPSBmaWVsZC5jb2RlO1xyXG5cdFx0XHRcdHZhciBvbGRfdiA9IG9sZF92YWx1ZXNba2V5XTtcclxuXHRcdFx0XHRpZiAob2xkX3YpIHtcclxuXHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXHJcblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnc2VsZWN0JyB8fCBmaWVsZC50eXBlID09ICdyYWRpbycpIHtcclxuXHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmaWVsZC5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHR2YXIgbmV3X211bHRpU2VsZWN0ZWQgPSBfLmludGVyc2VjdGlvbihvcHRpb25zLCBvbGRfbXVsdGlTZWxlY3RlZCk7XHJcblx0XHRcdFx0XHRcdG9sZF92ID0gbmV3X211bHRpU2VsZWN0ZWQuam9pbignLCcpO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdG5ld192YWx1ZXNba2V5XSA9IG9sZF92O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdH0pXHJcblxyXG5cdFx0Ly/lpoLmnpzmmK/liIblj5HvvIzliJl2YWx1ZeS4reeahHJlY29yZF9uZWVk44CBRk9ORFNJROS4jemcgOimgeWIhuWPkeWIsOaWsOeUs+ivt+WNleS4rVxyXG5cdFx0aWYgKGFjdGlvbl90eXBlID09PSAnZGlzdHJpYnV0ZScpIHtcclxuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMucmVjb3JkX25lZWQ7XHJcblx0XHRcdGRlbGV0ZSBuZXdfdmFsdWVzLkZPTkRTSUQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g6K6h566X55Sz6K+35Y2V5qCH6aKYXHJcblx0XHR2YXIgaW5zdGFuY2VfbmFtZSA9IFwiXCI7XHJcblx0XHR2YXIgbmFtZV9mb3J1bWxhID0gZm9ybS5jdXJyZW50Lm5hbWVfZm9ydW1sYTtcclxuXHRcdGlmIChuYW1lX2ZvcnVtbGEpIHtcclxuXHRcdFx0dHJ5IHtcclxuXHRcdFx0XHR2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIobmV3X3ZhbHVlc1snXCIpLnJlcGxhY2UoL1xcfS9nLCBcIiddIHx8ICcnKVwiKTtcclxuXHRcdFx0XHR2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcclxuXHRcdFx0XHRpbnN0YW5jZV9uYW1lID0gcmV2IHx8IGZsb3cubmFtZTtcclxuXHRcdFx0fSBjYXRjaCAoZXJyb3IpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdjYWN1bGF0ZV9pbnN0YW5jZV9uYW1lJywgXCLorqHnrpfnlLPor7fljZXmoIfpopjlh7rplJnor7fmo4Dmn6XooajljZXmoIfpopjohJrmnKzjgIJcIik7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGluc3RhbmNlX25hbWUgPSBmbG93Lm5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gaW5zdGFuY2XkuK3orrDlvZXlvZPliY3mraXpqqTlkI3np7AgIzEzMTRcclxuXHRcdHZhciBzdGFydF9zdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24gKHN0ZXApIHtcclxuXHRcdFx0cmV0dXJuIHN0ZXAuc3RlcF90eXBlID09ICdzdGFydCc7XHJcblx0XHR9KVxyXG5cclxuXHRcdC8vIOaWsOW7uueUs+ivt+WNleaXtu+8jGluc3RhbmNlc+iusOW9lea1geeoi+WQjeensOOAgea1geeoi+WIhuexu+WQjeensCAjMTMxM1xyXG5cdFx0dmFyIGNhdGVnb3J5X25hbWUgPSBcIlwiO1xyXG5cdFx0aWYgKGZvcm0uY2F0ZWdvcnkpIHtcclxuXHRcdFx0dmFyIGNhdGVnb3J5ID0gdXVmbG93TWFuYWdlci5nZXRDYXRlZ29yeShmb3JtLmNhdGVnb3J5KTtcclxuXHRcdFx0aWYgKGNhdGVnb3J5KVxyXG5cdFx0XHRcdGNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdF8uZWFjaChmb3J3YXJkX3VzZXJzLCBmdW5jdGlvbiAodXNlcl9pZCkge1xyXG5cclxuXHRcdFx0dmFyIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUodXNlcl9pZCk7XHJcblxyXG5cdFx0XHR2YXIgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHR1c2VyOiB1c2VyX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbjogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblx0XHRcdHZhciBzcGFjZV91c2VyX29yZ19pbmZvID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcclxuXHRcdFx0XHRfaWQ6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRmdWxsbmFtZTogMVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgbm93ID0gbmV3IERhdGUoKTtcclxuXHRcdFx0dmFyIGluc19vYmogPSB7fTtcclxuXHJcblx0XHRcdHZhciBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XHJcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XHJcblx0XHRcdHZhciBoYW5kbGVyX3NwYWNlX3VzZXIgPSBzcGFjZV91c2VyO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9vcmdfaW5mbyA9IHNwYWNlX3VzZXJfb3JnX2luZm87XHJcblx0XHRcdGlmIChhZ2VudCkge1xyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudDtcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50KTtcclxuXHRcdFx0XHRoYW5kbGVyX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgYWdlbnQpO1xyXG5cdFx0XHRcdGhhbmRsZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8oaGFuZGxlcl9zcGFjZV91c2VyKTtcclxuXHRcdFx0fVxyXG5cdFx0XHRpbnNfb2JqLl9pZCA9IGRiLmluc3RhbmNlcy5fbWFrZU5ld0lEKCk7XHJcblx0XHRcdGluc19vYmouc3BhY2UgPSBzcGFjZV9pZDtcclxuXHRcdFx0aW5zX29iai5mbG93ID0gZmxvd19pZDtcclxuXHRcdFx0aW5zX29iai5mbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmZvcm0gPSBmbG93LmZvcm07XHJcblx0XHRcdGluc19vYmouZm9ybV92ZXJzaW9uID0gZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcclxuXHRcdFx0aW5zX29iai5uYW1lID0gaW5zdGFuY2VfbmFtZTtcclxuXHRcdFx0aW5zX29iai5zdWJtaXR0ZXIgPSBoYW5kbGVyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50ID0gdXNlcl9pZDtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWU7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWU7XHJcblx0XHRcdGluc19vYmouc3RhdGUgPSBcImRyYWZ0XCI7XHJcblx0XHRcdGluc19vYmouY29kZSA9IFwiXCI7XHJcblx0XHRcdGluc19vYmouaXNfYXJjaGl2ZWQgPSBmYWxzZTtcclxuXHRcdFx0aW5zX29iai5pc19kZWxldGVkID0gZmFsc2U7XHJcblx0XHRcdGluc19vYmouY3JlYXRlZCA9IG5vdztcclxuXHRcdFx0aW5zX29iai5jcmVhdGVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkID0gbm93O1xyXG5cdFx0XHRpbnNfb2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmluYm94X3VzZXJzID0gW2hhbmRsZXJfaWRdO1xyXG5cdFx0XHRpbnNfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XHJcblx0XHRcdGlmIChhY3Rpb25fdHlwZSA9PSAnZGlzdHJpYnV0ZScpIHtcclxuXHRcdFx0XHQvLyDop6PlhrPlpJrmrKHliIblj5HnnIvkuI3liLDmraPmlofjgIHpmYTku7bpl67pophcclxuXHRcdFx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0aW5zX29iai5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UgPSBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMucHVzaChpbnN0YW5jZV9pZCk7XHJcblxyXG5cdFx0XHRcdGlmIChyZWxhdGVkKSB7XHJcblx0XHRcdFx0XHRpbnNfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gW2luc3RhbmNlX2lkXVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdH0gZWxzZSBpZiAoYWN0aW9uX3R5cGUgPT0gJ2ZvcndhcmQnKSB7XHJcblx0XHRcdFx0aW5zX29iai5mb3J3YXJkX2Zyb21faW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyDmlrDlu7pUcmFjZVxyXG5cdFx0XHR2YXIgdHJhY2Vfb2JqID0ge307XHJcblx0XHRcdHRyYWNlX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xyXG5cdFx0XHR0cmFjZV9vYmouaW5zdGFuY2UgPSBpbnNfb2JqLl9pZDtcclxuXHRcdFx0dHJhY2Vfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XHJcblxyXG5cdFx0XHQvLyDlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxyXG5cdFx0XHR2YXIgc3RlcF9pZCwgc3RlcF9uYW1lLCBjYW5fZWRpdF9tYWluX2F0dGFjaCwgY2FuX2VkaXRfbm9ybWFsX2F0dGFjaDtcclxuXHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHN0ZXApIHtcclxuXHRcdFx0XHRpZiAoc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiKSB7XHJcblx0XHRcdFx0XHRzdGVwX2lkID0gc3RlcC5faWQ7XHJcblx0XHRcdFx0XHRzdGVwX25hbWUgPSBzdGVwLm5hbWU7XHJcblx0XHRcdFx0XHRjYW5fZWRpdF9tYWluX2F0dGFjaCA9IHN0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2g7XHJcblx0XHRcdFx0XHRjYW5fZWRpdF9ub3JtYWxfYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdFx0dHJhY2Vfb2JqLnN0ZXAgPSBzdGVwX2lkO1xyXG5cdFx0XHR0cmFjZV9vYmouc3RhcnRfZGF0ZSA9IG5vdztcclxuXHRcdFx0dHJhY2Vfb2JqLm5hbWUgPSBzdGVwX25hbWU7XHJcblxyXG5cdFx0XHQvLyDmlrDlu7pBcHByb3ZlXHJcblx0XHRcdHZhciBhcHByX29iaiA9IHt9O1xyXG5cdFx0XHRhcHByX29iai5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xyXG5cdFx0XHRhcHByX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xyXG5cdFx0XHRhcHByX29iai50cmFjZSA9IHRyYWNlX29iai5faWQ7XHJcblx0XHRcdGFwcHJfb2JqLmlzX2ZpbmlzaGVkID0gZmFsc2U7XHJcblx0XHRcdGFwcHJfb2JqLnVzZXIgPSB1c2VyX2lkO1xyXG5cdFx0XHRhcHByX29iai51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZTtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlciA9IGhhbmRsZXJfaWQ7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb247XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBoYW5kbGVyX29yZ19pbmZvLm5hbWU7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gaGFuZGxlcl9vcmdfaW5mby5mdWxsbmFtZTtcclxuXHRcdFx0YXBwcl9vYmoudHlwZSA9IFwiZHJhZnRcIjtcclxuXHRcdFx0YXBwcl9vYmouc3RhcnRfZGF0ZSA9IG5vdztcclxuXHRcdFx0YXBwcl9vYmoucmVhZF9kYXRlID0gbm93O1xyXG5cdFx0XHRhcHByX29iai5pc19yZWFkID0gZmFsc2U7XHJcblx0XHRcdGFwcHJfb2JqLmlzX2Vycm9yID0gZmFsc2U7XHJcblxyXG5cdFx0XHRhcHByX29iai52YWx1ZXMgPSBuZXdfdmFsdWVzO1xyXG5cclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0YXBwcl9vYmouYWdlbnQgPSBhZ2VudDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dHJhY2Vfb2JqLmFwcHJvdmVzID0gW2FwcHJfb2JqXTtcclxuXHRcdFx0aW5zX29iai50cmFjZXMgPSBbdHJhY2Vfb2JqXTtcclxuXHJcblx0XHRcdGlmIChmbG93LmF1dG9fcmVtaW5kID09IHRydWUpXHJcblx0XHRcdFx0aW5zX29iai5hdXRvX3JlbWluZCA9IHRydWU7XHJcblxyXG5cdFx0XHRpbnNfb2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gc3RhcnRfc3RlcC5uYW1lO1xyXG5cclxuXHRcdFx0aW5zX29iai5mbG93X25hbWUgPSBmbG93Lm5hbWU7XHJcblx0XHRcdGlmIChjYXRlZ29yeV9uYW1lKSB7XHJcblx0XHRcdFx0aW5zX29iai5jYXRlZ29yeV9uYW1lID0gY2F0ZWdvcnkubmFtZTtcclxuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5ID0gY2F0ZWdvcnkuX2lkO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRuZXdfaW5zX2lkID0gZGIuaW5zdGFuY2VzLmluc2VydChpbnNfb2JqKTtcclxuXHJcblx0XHRcdC8vIOWkjeWItumZhOS7tlxyXG5cdFx0XHR2YXIgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XHJcblxyXG5cdFx0XHQvL+WwhuWOn+ihqOWNleWGheWuueWtmOWCqOS4uuesrOS4gOS4qumZhOS7tlxyXG5cdFx0XHRpZiAoaGFzU2F2ZUluc3RhbmNlVG9BdHRhY2htZW50KSB7XHJcblx0XHRcdFx0Ly8gdHJ5IHtcclxuXHJcblx0XHRcdFx0aW5zdGFuY2VIdG1sID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCh1c2VyX2luZm8sIHNwYWNlX2lkLCBpbnMsIHtcclxuXHRcdFx0XHRcdGFic29sdXRlOiB0cnVlXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHR2YXIgaW5zdGFuY2VGaWxlID0gbmV3IEZTLkZpbGUoKTtcclxuXHRcdFx0XHRpbnN0YW5jZUZpbGUuYXR0YWNoRGF0YShCdWZmZXIuZnJvbShpbnN0YW5jZUh0bWwsIFwidXRmLThcIiksIHtcclxuXHRcdFx0XHRcdHR5cGU6IFwidGV4dC9odG1sXCJcclxuXHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuXHRcdFx0XHRcdGlmIChlcnJvcikge1xyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVycm9yLmVycm9yLCBlcnJvci5yZWFzb24pO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5uYW1lKGlucy5uYW1lICsgXCIuaHRtbFwiKTtcclxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5zaXplKGluc3RhbmNlSHRtbC5sZW5ndGgpO1xyXG5cclxuXHRcdFx0XHRcdHZhciBtZXRhZGF0YSA9IHtcclxuXHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXHJcblx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxyXG5cdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXHJcblx0XHRcdFx0XHRcdGN1cnJlbnQ6IHRydWVcclxuXHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRpbnN0YW5jZUZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuXHRcdFx0XHRcdHZhciBmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQoaW5zdGFuY2VGaWxlKTtcclxuXHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0JHNldDoge1xyXG5cdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdC8vIH0gY2F0Y2ggKGUpIHtcclxuXHRcdFx0XHQvLyAgICAgY29uc29sZS5lcnJvcihlKTtcclxuXHRcdFx0XHQvLyB9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChpc0ZvcndhcmRBdHRhY2htZW50cyAmJiBhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcclxuXHRcdFx0XHR2YXIgZmlsZXMgPSBjb2xsZWN0aW9uLmZpbmQoe1xyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0XHRmaWxlcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0XHQvLyDliKTmlq3mlrDnmoTmtYHnqIvlvIDlp4voioLngrnmmK/lkKbmnInnvJbovpHmraPmloflkoznvJbovpHpmYTku7bmnYPpmZBcclxuXHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSAmJiBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoICE9IHRydWUpXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdFx0aWYgKGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0dmFyIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xyXG5cdFx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhKGYuY3JlYXRlUmVhZFN0cmVhbSgnaW5zdGFuY2VzJyksIHtcclxuXHRcdFx0XHRcdFx0dHlwZTogZi5vcmlnaW5hbC50eXBlXHJcblx0XHRcdFx0XHR9LCBmdW5jdGlvbiAoZXJyKSB7XHJcblx0XHRcdFx0XHRcdGlmIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKGVyci5lcnJvciwgZXJyLnJlYXNvbik7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGYubmFtZSgpKTtcclxuXHRcdFx0XHRcdFx0bmV3RmlsZS5zaXplKGYuc2l6ZSgpKTtcclxuXHRcdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xyXG5cdFx0XHRcdFx0XHRcdG93bmVyOiB1c2VyX2lkLFxyXG5cdFx0XHRcdFx0XHRcdG93bmVyX25hbWU6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdFx0XHRpbnN0YW5jZTogbmV3X2luc19pZCxcclxuXHRcdFx0XHRcdFx0XHRhcHByb3ZlOiBhcHByX29iai5faWQsXHJcblx0XHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxyXG5cdFx0XHRcdFx0XHR9O1xyXG5cdFx0XHRcdFx0XHRpZiAoZi5tZXRhZGF0YS5tYWluID09IHRydWUgJiYgY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSkge1xyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcclxuXHRcdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcclxuXHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHtcclxuXHRcdFx0XHRcdFx0XHRcdCdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIOe7meW9k+WJjeeahOeUs+ivt+WNleWinuWKoOi9rOWPkeiusOW9lVxyXG5cdFx0XHR2YXIgYXBwciA9IHtcclxuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcclxuXHRcdFx0XHQnaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XHQndHJhY2UnOiBjdXJyZW50X3RyYWNlX2lkLFxyXG5cdFx0XHRcdCdpc19maW5pc2hlZCc6IHRydWUsXHJcblx0XHRcdFx0J3VzZXInOiB1c2VyX2lkLFxyXG5cdFx0XHRcdCd1c2VyX25hbWUnOiB1c2VyX2luZm8ubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcic6IHVzZXJfaWQsXHJcblx0XHRcdFx0J2hhbmRsZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSc6IHNwYWNlX3VzZXJfb3JnX2luZm8uZnVsbG5hbWUsXHJcblx0XHRcdFx0J3R5cGUnOiBhY3Rpb25fdHlwZSxcclxuXHRcdFx0XHQnc3RhcnRfZGF0ZSc6IG5ldyBEYXRlKCksXHJcblx0XHRcdFx0J2ZpbmlzaF9kYXRlJzogbmV3IERhdGUoKSxcclxuXHRcdFx0XHQnaXNfcmVhZCc6IGZhbHNlLFxyXG5cdFx0XHRcdCdqdWRnZSc6ICdzdWJtaXR0ZWQnLFxyXG5cdFx0XHRcdCdmcm9tX3VzZXInOiBjdXJyZW50X3VzZXJfaWQsXHJcblx0XHRcdFx0J2Zyb21fdXNlcl9uYW1lJzogZnJvbV91c2VyX25hbWUsXHJcblx0XHRcdFx0J2ZvcndhcmRfc3BhY2UnOiBzcGFjZV9pZCxcclxuXHRcdFx0XHQnZm9yd2FyZF9pbnN0YW5jZSc6IG5ld19pbnNfaWQsXHJcblx0XHRcdFx0J2Rlc2NyaXB0aW9uJzogZGVzY3JpcHRpb24sXHJcblx0XHRcdFx0J2Zyb21fYXBwcm92ZV9pZCc6IGZyb21fYXBwcm92ZV9pZFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0Zm9yd2FyZF9hcHByb3Zlcy5wdXNoKGFwcHIpO1xyXG5cclxuXHRcdFx0bmV3X2luc19pZHMucHVzaChuZXdfaW5zX2lkKTtcclxuXHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xyXG5cdFx0fSlcclxuXHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XHJcblx0XHR2YXIgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogY3VycmVudF90cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRfb2JqLFxyXG5cdFx0XHQkYWRkVG9TZXQ6IHtcclxuXHRcdFx0XHQndHJhY2VzLiQuYXBwcm92ZXMnOiB7XHJcblx0XHRcdFx0XHQkZWFjaDogZm9yd2FyZF9hcHByb3Zlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0aWYgKHIpIHtcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRpZiAoYS5faWQgPT0gZnJvbV9hcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0XHR2YXIgdXBkYXRlX3JlYWQgPSB7fTtcclxuXHRcdFx0XHRcdHVwZGF0ZV9yZWFkW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXHJcblx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdCRzZXQ6IHVwZGF0ZV9yZWFkXHJcblx0XHRcdFx0XHR9KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pXHJcblxyXG5cdFx0fVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7IG5ld19pbnNfaWRzOiBuZXdfaW5zX2lkcyB9XHJcblx0XHR9KVxyXG5cdH0gY2F0Y2ggKGUpIHtcclxuXHRcdGNvbnNvbGUuZXJyb3IoZS5zdGFjaylcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0ZXJyb3JzOiBbZV1cclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHR9XHJcblxyXG59KSIsIkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9pbnN0YW5jZS86aW5zdGFuY2VJZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKVxyXG5cdFx0Y3VycmVudF91c2VyX2lkID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblx0XHRyZXFfYXN5bmMgPSBfLmhhcyhyZXEucXVlcnksICdhc3luYycpO1xyXG5cdFx0aW5zSWQgPSByZXEucGFyYW1zLmluc3RhbmNlSWRcclxuXHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIHN0YXRlOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIG91dGJveF91c2VyczogMSwgc3VibWl0dGVyOiAxLCBhcHBsaWNhbnQ6IDEgfSB9KVxyXG5cclxuXHRcdGlmIG5vdCBpbnNcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpXHJcblxyXG5cdFx0c3BhY2VJZCA9IGlucy5zcGFjZVxyXG5cdFx0Zmxvd0lkID0gaW5zLmZsb3dcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlSWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJylcclxuXHJcblx0XHRib3ggPSAnJ1xyXG5cclxuXHRcdGlmIChpbnMuaW5ib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZCkgb3IgKGlucy5jY191c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKVxyXG5cdFx0XHRib3ggPSAnaW5ib3gnXHJcblx0XHRlbHNlIGlmIGlucy5vdXRib3hfdXNlcnM/LmluY2x1ZGVzIGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRib3ggPSAnb3V0Ym94J1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0JyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0Ym94ID0gJ2RyYWZ0J1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ3BlbmRpbmcnIGFuZCAoaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWQgb3IgaW5zLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJfaWQpXHJcblx0XHRcdGJveCA9ICdwZW5kaW5nJ1xyXG5cdFx0ZWxzZSBpZiBpbnMuc3RhdGUgaXMgJ2NvbXBsZXRlZCcgYW5kIGlucy5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdGJveCA9ICdjb21wbGV0ZWQnXHJcblx0XHRlbHNlXHJcblx0XHRcdCMg6aqM6K+BbG9naW4gdXNlcl9pZOWvueivpea1geeoi+acieeuoeeQhueUs+ivt+WNleeahOadg+mZkFxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93SWQsIGN1cnJlbnRfdXNlcl9pZClcclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKVxyXG5cdFx0XHRib3ggPSAnbW9uaXRvcidcclxuXHJcblx0XHRyZWRpcmVjdFRvID0gXCJ3b3JrZmxvdy9zcGFjZS8je3NwYWNlSWR9LyN7Ym94fS8je2luc0lkfVwiXHJcblx0XHRyZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pXHJcblx0XHRpZiByZXFfYXN5bmMgIyB8fCByZXEuZ2V0KFwiWC1SZXF1ZXN0ZWQtV2l0aFwiKSA9PT0gJ1hNTEh0dHBSZXF1ZXN0J1xyXG5cdFx0XHRyZXR1cm4gcmVzLnN0YXR1cygyMDApLnNlbmQoe1xyXG5cdFx0XHRcdFwic3RhdHVzXCI6IDMwMixcclxuXHRcdFx0XHRcInJlZGlyZWN0XCI6IHJlZGlyZWN0VG9cclxuXHRcdFx0fSk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCByZWRpcmVjdFRvVXJsXHJcblx0XHRcdHJlcy53cml0ZUhlYWQgMzAyXHJcblx0XHRcdHJlcy5lbmQoKVxyXG5cdFx0XHRyZXR1cm5cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGJveCwgY3VycmVudF91c2VyX2lkLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd0lkLCBpbnMsIGluc0lkLCBwZXJtaXNzaW9ucywgcmVkaXJlY3RUbywgcmVkaXJlY3RUb1VybCwgcmVmLCByZWYxLCByZWYyLCByZXFfYXN5bmMsIHNwYWNlLCBzcGFjZUlkO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSwgcmVzKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgcmVxX2FzeW5jID0gXy5oYXMocmVxLnF1ZXJ5LCAnYXN5bmMnKTtcbiAgICBpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZDtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBmbG93OiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaW5ib3hfdXNlcnM6IDEsXG4gICAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDEsXG4gICAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgICAgYXBwbGljYW50OiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2luc3RhbmNlSWQgaXMgd3Jvbmcgb3IgaW5zdGFuY2Ugbm90IGV4aXN0cy4nKTtcbiAgICB9XG4gICAgc3BhY2VJZCA9IGlucy5zcGFjZTtcbiAgICBmbG93SWQgPSBpbnMuZmxvdztcbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ3VzZXIgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlLicpO1xuICAgIH1cbiAgICBib3ggPSAnJztcbiAgICBpZiAoKChyZWYgPSBpbnMuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkgfHwgKChyZWYxID0gaW5zLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSkge1xuICAgICAgYm94ID0gJ2luYm94JztcbiAgICB9IGVsc2UgaWYgKChyZWYyID0gaW5zLm91dGJveF91c2VycykgIT0gbnVsbCA/IHJlZjIuaW5jbHVkZXMoY3VycmVudF91c2VyX2lkKSA6IHZvaWQgMCkge1xuICAgICAgYm94ID0gJ291dGJveCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdkcmFmdCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnZHJhZnQnO1xuICAgIH0gZWxzZSBpZiAoaW5zLnN0YXRlID09PSAncGVuZGluZycgJiYgKGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCB8fCBpbnMuYXBwbGljYW50ID09PSBjdXJyZW50X3VzZXJfaWQpKSB7XG4gICAgICBib3ggPSAncGVuZGluZyc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnICYmIGlucy5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlcl9pZCkge1xuICAgICAgYm94ID0gJ2NvbXBsZXRlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBhZG1pbnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwibm8gcGVybWlzc2lvbi5cIik7XG4gICAgICB9XG4gICAgICBib3ggPSAnbW9uaXRvcic7XG4gICAgfVxuICAgIHJlZGlyZWN0VG8gPSBcIndvcmtmbG93L3NwYWNlL1wiICsgc3BhY2VJZCArIFwiL1wiICsgYm94ICsgXCIvXCIgKyBpbnNJZDtcbiAgICByZWRpcmVjdFRvVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKHJlZGlyZWN0VG8pO1xuICAgIGlmIChyZXFfYXN5bmMpIHtcbiAgICAgIHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XG4gICAgICAgIFwic3RhdHVzXCI6IDMwMixcbiAgICAgICAgXCJyZWRpcmVjdFwiOiByZWRpcmVjdFRvXG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9VcmwpO1xuICAgICAgcmVzLndyaXRlSGVhZCgzMDIpO1xuICAgICAgcmVzLmVuZCgpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nIOiOt+WPluW+heWKnuaWh+S7tlxyXG5cclxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxyXG5cclxuQGFwaU5hbWUgZ2V0SW5ib3hcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG5cdHtcclxuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxuXHR9XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcblx0e1xyXG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcImRhdGFcIjogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXHJcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXHJcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlofmtYHnqItcIixcclxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxyXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogbnVsbCxcclxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxyXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcclxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxyXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxyXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcclxuXHRcdFx0XHRcImlzX3JlYWRcIjogZmFsc2UsXHJcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxyXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxyXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paHXFxuXCIsXHJcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXHJcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcclxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IFwi5q635Lqu6L6JXCIsXHJcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXHJcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcclxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcclxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXHJcblx0XHRcdFx0XCJpc19yZWFkXCI6IHRydWUsXHJcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdH1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8IHJlcS5xdWVyeT8uc3BhY2VJZFxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJylcclxuXHJcblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdGlmICF1c2VyX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ05vdCBsb2dnZWQgaW4nKVxyXG5cclxuXHRcdGlmIGRiLnVzZXJzLmZpbmQoeyBfaWQ6IHVzZXJfaWQgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHRsaW1pdCA9IHJlcS5xdWVyeT8ubGltaXQgfHwgNTAwXHJcblxyXG5cdFx0bGltaXQgPSBwYXJzZUludChsaW1pdClcclxuXHJcblx0XHR1c2VybmFtZSA9IHJlcS5xdWVyeT8udXNlcm5hbWVcclxuXHJcblx0XHR1c2VyaWQgPSByZXEucXVlcnk/LnVzZXJpZFxyXG5cclxuXHRcdGF0dGFjaCA9IHJlcS5xdWVyeT8uYXR0YWNoXHJcblxyXG5cdFx0d29ya2Zsb3dfY2F0ZWdvcmllcyA9IHJlcS5xdWVyeT8ud29ya2Zsb3dfY2F0ZWdvcmllc1xyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHJcblx0XHQjIOWmguaenOW9k+WJjeeUqOaIt+aYr+W3peS9nOWMuueuoeeQhuWRmO+8jOWImemAmui/h+afpeeci3VybOS4iuaYr+WQpuaciXVzZXJuYW1lXFx1c2VyaWQg77yMXHJcblx0XHQjIOWmguaenOacie+8jOWImei/lOWbnnVzZXJuYW1lXFx1c2VyaWTlr7nlupTnmoTnlKjmiLfvvIzlkKbliJnov5Tlm57lvZPliY3nlKjmiLflvoXlip7jgIJcclxuXHRcdCMgdXNlcm5hbWVcXHVzZXJpZOmDveWtmOWcqOaXtu+8jHVzZXJpZOS8mOWFiFxyXG5cdFx0c3BlY2lhbF91c2VyX2lkXHJcblx0XHRpZiBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0aWYgdXNlcmlkXHJcblx0XHRcdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcmlkIH0pLmNvdW50KCkgPCAxXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiAje3VzZXJpZH1cIilcclxuXHJcblx0XHRcdFx0c3BlY2lhbF91c2VyX2lkID0gdXNlcmlkXHJcblx0XHRcdGVsc2UgaWYgdXNlcm5hbWVcclxuXHRcdFx0XHR1ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiB1c2VybmFtZSB9LCB7IGZpZWxkczogeyBfaWQ6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIF8uaXNFbXB0eSh1KVxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiAje3VzZXJuYW1lfVwiKVxyXG5cclxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZFxyXG5cclxuXHRcdHJlc3VsdF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcclxuXHJcblx0XHRpc19yZWFkID0gZmFsc2VcclxuXHRcdHN0YXJ0X2RhdGUgPSAnJ1xyXG5cdFx0dWlkID0gdXNlcl9pZFxyXG5cdFx0cXVlcnkgPSB7XHJcblx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHVzZXJfaWQgfSwgeyBjY191c2VyczogdXNlcl9pZCB9XVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIHNwZWNpYWxfdXNlcl9pZFxyXG5cdFx0XHR1aWQgPSBzcGVjaWFsX3VzZXJfaWRcclxuXHRcdFx0cXVlcnkgPSB7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdCRvcjogW3sgaW5ib3hfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiBzcGVjaWFsX3VzZXJfaWQgfV1cclxuXHRcdFx0fVxyXG5cclxuXHRcdGlmIHdvcmtmbG93X2NhdGVnb3JpZXNcclxuXHRcdFx0cXVlcnkuY2F0ZWdvcnkgPSB7ICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpIH1cclxuXHJcblx0XHRzcGFjZV9uYW1lcyA9IHt9XHJcblx0XHRzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZVxyXG5cclxuXHRcdGlmIGxpbWl0ID4gMFxyXG5cdFx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwgeyBzb3J0OiB7IG1vZGlmaWVkOiAtMSB9LCBsaW1pdDogbGltaXQgfSkuZm9yRWFjaCAoaSkgLT5cclxuXHJcblx0XHRcdFx0aWYgaS5pbmJveF91c2Vycz8uaW5jbHVkZXModWlkKVxyXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cclxuXHRcdFx0XHRcdFx0aWYgdC5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSkgLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpc250ICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdF8uZWFjaCBpLnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0XHRcdGlmIG5vdCBzdGFydF9kYXRlIGFuZCB0LmFwcHJvdmVzXHJcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIGEudXNlciBpcyB1aWQgYW5kIGEudHlwZSBpcyAnY2MnIGFuZCBub3QgYS5pc19maW5pc2hlZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpc19yZWFkID0gYS5pc19yZWFkXHJcblx0XHRcdFx0XHRcdFx0XHRcdHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGVcclxuXHJcblx0XHRcdFx0aWYgbm90IHNwYWNlX25hbWVzW2kuc3BhY2VdXHJcblx0XHRcdFx0XHRzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KT8ubmFtZVxyXG5cclxuXHRcdFx0XHRoID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdGhbXCJpZFwiXSA9IGlbXCJfaWRcIl1cclxuXHRcdFx0XHRoW1wic3RhcnRfZGF0ZVwiXSA9IHN0YXJ0X2RhdGVcclxuXHRcdFx0XHRoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWVcclxuXHRcdFx0XHRoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdXHJcblx0XHRcdFx0aFtcIm5hbWVcIl0gPSBpW1wibmFtZVwiXVxyXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXVxyXG5cdFx0XHRcdGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdXHJcblx0XHRcdFx0aFtcInN1Ym1pdF9kYXRlXCJdID0gaVtcInN1Ym1pdF9kYXRlXCJdXHJcblx0XHRcdFx0aFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWVcclxuXHRcdFx0XHRoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlXHJcblx0XHRcdFx0aFtcIm1vZGlmaWVkXCJdID0gaVtcIm1vZGlmaWVkXCJdXHJcblx0XHRcdFx0aFtcImlzX3JlYWRcIl0gPSBpc19yZWFkXHJcblx0XHRcdFx0aFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl1cclxuXHJcblx0XHRcdFx0aWYgYXR0YWNoIGlzICd0cnVlJ1xyXG5cdFx0XHRcdFx0aC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7ICdtZXRhZGF0YS5pbnN0YW5jZSc6IGkuX2lkLCAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7ICRuZTogdHJ1ZSB9IH0sIHsgZmllbGRzOiB7IGNvcGllczogMCB9IH0pLmZldGNoKClcclxuXHJcblx0XHRcdFx0cmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpXHJcblxyXG5cdFx0bm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0X2luc3RhbmNlcywgY291bnQ6IG5vX2xpbWl0X2NvdW50IH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUucmVhc29uIH1dIH1cclxuXHRcdH1cclxuXHJcbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XG5cbkBhcGlEZXNjcmlwdGlvbiDojrflj5blvZPliY3nlKjmiLfnmoTlvoXlip7kuovpobnliJfooahcblxuQGFwaU5hbWUgZ2V0SW5ib3hcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG5cdHtcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG5cdH1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxuXHR7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IFtcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcImc3d29rWE5rUjl5eEh2QTREXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paH5rWB56iLIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNy0yNVQwNjozNjo0OC40OTJaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH0sXG5cdFx0XHR7XG5cdFx0XHRcdFwiaWRcIjogXCJXcUtTcldRb3l3Z0phTXA5a1wiLFxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMFpcIixcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcblx0XHRcdFx0XCJzcGFjZV9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh1xcbiAxXCIsXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDYtMjdUMTA6MjY6MTkuNDY4WlwiLFxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxuXHRcdFx0XHRcInNwYWNlX2lkXCI6IFwia2ZEc012N2dCZXdtR1hHRUxcIixcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIxWlwiLFxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcblx0XHRcdFx0XCJ2YWx1ZXNcIjoge31cblx0XHRcdH1cblx0XHRdXG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2gsIGUsIGlzX3JlYWQsIGxpbWl0LCBub19saW1pdF9jb3VudCwgcXVlcnksIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVzdWx0X2luc3RhbmNlcywgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV9uYW1lcywgc3BlY2lhbF91c2VyX2lkLCBzdGFydF9kYXRlLCB1LCB1aWQsIHVzZXJfaWQsIHVzZXJpZCwgdXNlcm5hbWUsIHdvcmtmbG93X2NhdGVnb3JpZXM7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXSB8fCAoKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zcGFjZUlkIDogdm9pZCAwKTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHNwYWNlX2lkJyk7XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGlmICghdXNlcl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpO1xuICAgIH1cbiAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBsaW1pdCA9ICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEubGltaXQgOiB2b2lkIDApIHx8IDUwMDtcbiAgICBsaW1pdCA9IHBhcnNlSW50KGxpbWl0KTtcbiAgICB1c2VybmFtZSA9IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi51c2VybmFtZSA6IHZvaWQgMDtcbiAgICB1c2VyaWQgPSAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMudXNlcmlkIDogdm9pZCAwO1xuICAgIGF0dGFjaCA9IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5hdHRhY2ggOiB2b2lkIDA7XG4gICAgd29ya2Zsb3dfY2F0ZWdvcmllcyA9IChyZWY1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNS53b3JrZmxvd19jYXRlZ29yaWVzIDogdm9pZCAwO1xuICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgc3BlY2lhbF91c2VyX2lkO1xuICAgIGlmIChzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgIGlmICh1c2VyaWQpIHtcbiAgICAgICAgaWYgKGRiLnVzZXJzLmZpbmQoe1xuICAgICAgICAgIF9pZDogdXNlcmlkXG4gICAgICAgIH0pLmNvdW50KCkgPCAxKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJpZDogXCIgKyB1c2VyaWQpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHVzZXJpZDtcbiAgICAgIH0gZWxzZSBpZiAodXNlcm5hbWUpIHtcbiAgICAgICAgdSA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHVzZXJuYW1lOiB1c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoXy5pc0VtcHR5KHUpKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcImNhbiBub3QgZmluZCB1c2VyIGJ5IHVzZXJuYW1lOiBcIiArIHVzZXJuYW1lKTtcbiAgICAgICAgfVxuICAgICAgICBzcGVjaWFsX3VzZXJfaWQgPSB1Ll9pZDtcbiAgICAgIH1cbiAgICB9XG4gICAgcmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheTtcbiAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgc3RhcnRfZGF0ZSA9ICcnO1xuICAgIHVpZCA9IHVzZXJfaWQ7XG4gICAgcXVlcnkgPSB7XG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBjY191c2VyczogdXNlcl9pZFxuICAgICAgICB9XG4gICAgICBdXG4gICAgfTtcbiAgICBpZiAoc3BlY2lhbF91c2VyX2lkKSB7XG4gICAgICB1aWQgPSBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgICBxdWVyeSA9IHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfTtcbiAgICB9XG4gICAgaWYgKHdvcmtmbG93X2NhdGVnb3JpZXMpIHtcbiAgICAgIHF1ZXJ5LmNhdGVnb3J5ID0ge1xuICAgICAgICAkaW46IHdvcmtmbG93X2NhdGVnb3JpZXMuc3BsaXQoJywnKVxuICAgICAgfTtcbiAgICB9XG4gICAgc3BhY2VfbmFtZXMgPSB7fTtcbiAgICBzcGFjZV9uYW1lc1tzcGFjZS5faWRdID0gc3BhY2UubmFtZTtcbiAgICBpZiAobGltaXQgPiAwKSB7XG4gICAgICBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgbW9kaWZpZWQ6IC0xXG4gICAgICAgIH0sXG4gICAgICAgIGxpbWl0OiBsaW1pdFxuICAgICAgfSkuZm9yRWFjaChmdW5jdGlvbihpKSB7XG4gICAgICAgIHZhciBoLCByZWY2LCByZWY3O1xuICAgICAgICBpZiAoKHJlZjYgPSBpLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmNi5pbmNsdWRlcyh1aWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAodC5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgaWYgKGEudXNlciA9PT0gdWlkICYmIGEudHlwZSAhPT0gJ2NjJyAmJiAhYS5pc19maW5pc2hlZCkge1xuICAgICAgICAgICAgICAgICAgaXNfcmVhZCA9IGEuaXNfcmVhZDtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgXy5lYWNoKGkudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoIXN0YXJ0X2RhdGUgJiYgYS51c2VyID09PSB1aWQgJiYgYS50eXBlID09PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoIXNwYWNlX25hbWVzW2kuc3BhY2VdKSB7XG4gICAgICAgICAgc3BhY2VfbmFtZXNbaS5zcGFjZV0gPSAocmVmNyA9IGRiLnNwYWNlcy5maW5kT25lKGkuc3BhY2UsIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkpICE9IG51bGwgPyByZWY3Lm5hbWUgOiB2b2lkIDA7XG4gICAgICAgIH1cbiAgICAgICAgaCA9IG5ldyBPYmplY3Q7XG4gICAgICAgIGhbXCJpZFwiXSA9IGlbXCJfaWRcIl07XG4gICAgICAgIGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZTtcbiAgICAgICAgaFtcImZsb3dfbmFtZVwiXSA9IGkuZmxvd19uYW1lO1xuICAgICAgICBoW1wic3BhY2VfbmFtZVwiXSA9IHNwYWNlX25hbWVzW2kuc3BhY2VdO1xuICAgICAgICBoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdO1xuICAgICAgICBoW1wiYXBwbGljYW50X25hbWVcIl0gPSBpW1wiYXBwbGljYW50X25hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBpW1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl07XG4gICAgICAgIGhbXCJzdGVwX25hbWVcIl0gPSBpLmN1cnJlbnRfc3RlcF9uYW1lO1xuICAgICAgICBoW1wic3BhY2VfaWRcIl0gPSBpLnNwYWNlO1xuICAgICAgICBoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl07XG4gICAgICAgIGhbXCJpc19yZWFkXCJdID0gaXNfcmVhZDtcbiAgICAgICAgaFtcInZhbHVlc1wiXSA9IGlbXCJ2YWx1ZXNcIl07XG4gICAgICAgIGlmIChhdHRhY2ggPT09ICd0cnVlJykge1xuICAgICAgICAgIGguYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsXG4gICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgfVxuICAgICAgICByZXR1cm4gcmVzdWx0X2luc3RhbmNlcy5wdXNoKGgpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIG5vX2xpbWl0X2NvdW50ID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnkpLmNvdW50KCk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0X2luc3RhbmNlcyxcbiAgICAgICAgY291bnQ6IG5vX2xpbWl0X2NvdW50XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLnJlYXNvblxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKVxyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZSBcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIChyZXEsIHJlcywgbmV4dCktPlxyXG5cdFx0Y29va2llcyA9IG5ldyBDb29raWVzKCByZXEsIHJlcyApO1xyXG5cdFx0IyBmaXJzdCBjaGVjayByZXF1ZXN0IGJvZHlcclxuXHRcdGlmIHJlcS5ib2R5XHJcblx0XHRcdHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdXHJcblx0XHRcdGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdXHJcblxyXG5cdFx0IyB0aGVuIGNoZWNrIGNvb2tpZVxyXG5cdFx0aWYgIXVzZXJJZCBvciAhYXV0aFRva2VuXHJcblx0XHRcdHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpXHJcblx0XHRcdGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpXHJcblxyXG5cdFx0aWYgISh1c2VySWQgYW5kIGF1dGhUb2tlbilcclxuXHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xyXG5cdFx0XHRyZXMuZW5kIEpTT04uc3RyaW5naWZ5KHtcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlblwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHR9KVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvdztcclxuXHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7c3BhY2U6IDEsIGZvcm06IDEsIG5hbWU6IDF9fSlcclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBmbG93LmZvcm19LCB7ZmllbGRzOiB7c3BhY2U6IDEsIFwiY3VycmVudC5faWRcIjogMX19KVxyXG5cclxuXHRcdGlmIF8uaXNFbXB0eShmbG93KVxyXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XHJcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdHJldHVybiA7XHJcblx0XHRlbHNlXHJcblx0XHRcdGlmICFTdGVlZG9zLmlzU3BhY2VBZG1pbihmbG93LnNwYWNlLCB1c2VySWQpXHJcblx0XHRcdFx0cmVzLndyaXRlSGVhZCg0MDEpO1xyXG5cdFx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm8gcGVybWlzc2lvblwiLFxyXG5cdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHsgZmllbGRzOiB7IGlzX3BhaWQ6IDEgfSB9KVxyXG5cdFx0XHRpZiAhc3BhY2U/LmlzX3BhaWRcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0Y29kZTogNDA0LFxyXG5cdFx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTm9uLXBhaWQgc3BhY2UuXCIsXHJcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe2Zvcm06IGZsb3cuZm9ybSwgZm9ybV92ZXJzaW9uOiBmb3JtPy5jdXJyZW50Py5faWR9LCB0cnVlKTtcclxuXHJcblx0XHRmaWxlTmFtZSA9IGZsb3cubmFtZVxyXG5cclxuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcclxuXHRcdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShmaWxlTmFtZSkrJy5odG1sJyk7XHJcblx0XHRyZXMuZW5kKGRhdGEpIiwidmFyIENvb2tpZXM7XG5cbkNvb2tpZXMgPSByZXF1aXJlKFwiY29va2llc1wiKTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBXZWJBcHAuY29ubmVjdEhhbmRsZXJzLnVzZShcIi9hcGkvd29ya2Zsb3cvZXhwb3J0L3RhbGJlX3RlbXBsYXRlXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGF1dGhUb2tlbiwgY29va2llcywgZGF0YSwgZmlsZU5hbWUsIGZsb3csIGZsb3dJZCwgZm9ybSwgcmVmLCByZWYxLCBzcGFjZSwgdXNlcklkO1xuICAgIGNvb2tpZXMgPSBuZXcgQ29va2llcyhyZXEsIHJlcyk7XG4gICAgaWYgKHJlcS5ib2R5KSB7XG4gICAgICB1c2VySWQgPSByZXEuYm9keVtcIlgtVXNlci1JZFwiXTtcbiAgICAgIGF1dGhUb2tlbiA9IHJlcS5ib2R5W1wiWC1BdXRoLVRva2VuXCJdO1xuICAgIH1cbiAgICBpZiAoIXVzZXJJZCB8fCAhYXV0aFRva2VuKSB7XG4gICAgICB1c2VySWQgPSBjb29raWVzLmdldChcIlgtVXNlci1JZFwiKTtcbiAgICAgIGF1dGhUb2tlbiA9IGNvb2tpZXMuZ2V0KFwiWC1BdXRoLVRva2VuXCIpO1xuICAgIH1cbiAgICBpZiAoISh1c2VySWQgJiYgYXV0aFRva2VuKSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBmbG93SWQgPSAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmZsb3cgOiB2b2lkIDA7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93SWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIG5hbWU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cuZm9ybVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgXCJjdXJyZW50Ll9pZFwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKF8uaXNFbXB0eShmbG93KSkge1xuICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgcmVzLmVuZChKU09OLnN0cmluZ2lmeSh7XG4gICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIEludmFsaWQgZm9ybUlkXCIsXG4gICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgfSkpO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZCkpIHtcbiAgICAgICAgcmVzLndyaXRlSGVhZCg0MDEpO1xuICAgICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH0pKTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShmbG93LnNwYWNlLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGlzX3BhaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIShzcGFjZSAhPSBudWxsID8gc3BhY2UuaXNfcGFpZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDQwNCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcbiAgICAgICAgICAgIFwic3VjY2Vzc1wiOiBmYWxzZVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICB9XG4gICAgZGF0YSA9IFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKHtcbiAgICAgIGZvcm06IGZsb3cuZm9ybSxcbiAgICAgIGZvcm1fdmVyc2lvbjogZm9ybSAhPSBudWxsID8gKHJlZjEgPSBmb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLl9pZCA6IHZvaWQgMCA6IHZvaWQgMFxuICAgIH0sIHRydWUpO1xuICAgIGZpbGVOYW1lID0gZmxvdy5uYW1lO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtdHlwZScsICdhcHBsaWNhdGlvbi94LW1zZG93bmxvYWQnKTtcbiAgICByZXMuc2V0SGVhZGVyKCdDb250ZW50LURpc3Bvc2l0aW9uJywgJ2F0dGFjaG1lbnQ7ZmlsZW5hbWU9JyArIGVuY29kZVVSSShmaWxlTmFtZSkgKyAnLmh0bWwnKTtcbiAgICByZXR1cm4gcmVzLmVuZChkYXRhKTtcbiAgfSk7XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZHJhZnRzIOaWsOW7uueUs+ivt+WNlVxyXG5cclxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbntcclxuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcbn1cclxuXHJcbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcclxue1xyXG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxyXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXHJcbiAgICBcInZhbHVlc1wiOiB7XHJcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXHJcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXHJcbiAgICAgICAgLi4uXHJcbiAgICB9XHJcbn1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxue1xyXG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxyXG59XHJcblxyXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcclxue1xyXG4gICAgXCJzdGF0dXNcIjogXCJlcnJvclwiLFxyXG4gICAgXCJkYXRhXCI6IHsuLi59XHJcbn1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0dXNlcl9pZCA9IHJlcS51c2VySWRcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IHVzZXJfaWQgfSlcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXJfaW5mby5faWQpXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cclxuXHRcdGlmIG5vdCBoYXNoRGF0YVtcImZsb3dcIl1cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJylcclxuXHJcblx0XHRmbG93X2lkICAgICAgPSBoYXNoRGF0YVtcImZsb3dcIl1cclxuXHRcdGFwcGxpY2FudF9pZCA9IGhhc2hEYXRhW1wiYXBwbGljYW50XCJdXHJcblx0XHRhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXVxyXG5cclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50ID0gbmV3IE9iamVjdFxyXG5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93X2lkIH0sIHsgZmllbGRzOiB7IHNwYWNlOiAxLCAnY3VycmVudC5faWQnOiAxIH0gfSlcclxuXHRcdGlmIG5vdCBmbG93XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGV4aXN0cycpXHJcblxyXG5cdFx0aWYgc3BhY2VfaWQgaXNudCBmbG93LnNwYWNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2Zsb3cgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWQgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgbm90IGEgbWVtYmVyIG9mIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZFxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZFxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93X3ZlcnNpb25cIl0gPSBmbG93LmN1cnJlbnQuX2lkXHJcblxyXG5cdFx0YXBwbGljYW50ID0gbnVsbFxyXG5cdFx0aWYgYXBwbGljYW50X2lkIG9yIGFwcGxpY2FudF91c2VybmFtZVxyXG5cclxuXHRcdFx0aWYgYXBwbGljYW50X2lkXHJcblx0XHRcdFx0YXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogYXBwbGljYW50X2lkIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpXHJcblxyXG5cdFx0XHRlbHNlIGlmIGFwcGxpY2FudF91c2VybmFtZVxyXG5cdFx0XHRcdGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoeyB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lIH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdGlmIG5vdCBhcHBsaWNhbnRcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpXHJcblxyXG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogYXBwbGljYW50Ll9pZCB9KVxyXG5cdFx0XHRpZiBub3Qgc3BhY2VfdXNlclxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0XHRpZiBzcGFjZV91c2VyLnVzZXJfYWNjZXB0ZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIGRpc2FibGVkIGluIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdFx0c3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudFwiXSA9IGFwcGxpY2FudC5faWRcclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9ICBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHJcblx0XHRhcHBsaWNhbnRJbmZvID0gYXBwbGljYW50IHx8IGN1cnJlbnRfdXNlcl9pbmZvXHJcblxyXG5cdFx0dHJhY2VzID0gW11cclxuXHRcdHRyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0YXBwcm92ZXMgPSBbXVxyXG5cdFx0YXBwcm92ZSA9IG5ldyBPYmplY3RcclxuXHRcdGFwcHJvdmVbXCJ2YWx1ZXNcIl0gPSBoYXNoRGF0YVtcInZhbHVlc1wiXVxyXG5cdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxyXG5cdFx0dHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzXHJcblx0XHR0cmFjZXMucHVzaCh0cmFjZSlcclxuXHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzXHJcblxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXSA9IFthcHBsaWNhbnRJbmZvLl9pZF1cclxuXHJcblx0XHRuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pXHJcblxyXG5cdFx0bmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiBuZXdfaW5zIH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXG5cbkBhcGlOYW1lIGNyZWF0ZUluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwiYXBwbGljYW50XCI6IOeUs+ivt+S6uklkLFxuICAgIFwidmFsdWVzXCI6IHtcbiAgICAgICAgXCJmaWVsZHMxXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIFwiZmllbGRzMlwiIDog5a2X5q615YC8LFxuICAgICAgICAuLi5cbiAgICB9XG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuXG5AYXBpRXJyb3JFeGFtcGxlIHtqc29ufSBlcnJvci1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXG4gICAgXCJkYXRhXCI6IHsuLi59XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwbGljYW50LCBhcHBsaWNhbnRJbmZvLCBhcHBsaWNhbnRfaWQsIGFwcGxpY2FudF91c2VybmFtZSwgYXBwcm92ZSwgYXBwcm92ZXMsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmbG93X2lkLCBoYXNoRGF0YSwgaW5zdGFuY2VfZnJvbV9jbGllbnQsIG5ld19pbnMsIG5ld19pbnNfaWQsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0cmFjZSwgdHJhY2VzLCB1c2VyX2lkO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgX2lkOiB1c2VyX2lkXG4gICAgfSk7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIHhfc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLl9pZCk7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpZiAoIWhhc2hEYXRhW1wiZmxvd1wiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBudWxsJyk7XG4gICAgfVxuICAgIGZsb3dfaWQgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgYXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl07XG4gICAgYXBwbGljYW50X3VzZXJuYW1lID0gaGFzaERhdGFbXCJhcHBsaWNhbnRfdXNlcm5hbWVcIl07XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0O1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgJ2N1cnJlbnQuX2lkJzogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICghZmxvdykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgZXhpc3RzJyk7XG4gICAgfVxuICAgIGlmIChzcGFjZV9pZCAhPT0gZmxvdy5zcGFjZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgaWYgKGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2luZm8uX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInNwYWNlXCJdID0gc3BhY2VfaWQ7XG4gICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJmbG93XCJdID0gZmxvd19pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWQ7XG4gICAgYXBwbGljYW50ID0gbnVsbDtcbiAgICBpZiAoYXBwbGljYW50X2lkIHx8IGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgaWYgKGFwcGxpY2FudF9pZCkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGFwcGxpY2FudF9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIGlmIChhcHBsaWNhbnRfdXNlcm5hbWUpIHtcbiAgICAgICAgYXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IGFwcGxpY2FudF91c2VybmFtZVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKCFhcHBsaWNhbnQpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnRfdXNlcm5hbWUgaXMgd3JvbmcnKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudC5faWRcbiAgICAgIH0pO1xuICAgICAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgaWYgKHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCAhPT0gdHJ1ZSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgZGlzYWJsZWQgaW4gdGhpcyBzcGFjZScpO1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50XCJdID0gYXBwbGljYW50Ll9pZDtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X25hbWVcIl0gPSBhcHBsaWNhbnQubmFtZTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvblwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl0gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgfVxuICAgIGFwcGxpY2FudEluZm8gPSBhcHBsaWNhbnQgfHwgY3VycmVudF91c2VyX2luZm87XG4gICAgdHJhY2VzID0gW107XG4gICAgdHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgIGFwcHJvdmVzID0gW107XG4gICAgYXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZVtcInZhbHVlc1wiXSA9IGhhc2hEYXRhW1widmFsdWVzXCJdO1xuICAgIGFwcHJvdmVzLnB1c2goYXBwcm92ZSk7XG4gICAgdHJhY2VbXCJhcHByb3Zlc1wiXSA9IGFwcHJvdmVzO1xuICAgIHRyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSA9IHRyYWNlcztcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdID0gW2FwcGxpY2FudEluZm8uX2lkXTtcbiAgICBuZXdfaW5zX2lkID0gdXVmbG93TWFuYWdlci5jcmVhdGVfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGFwcGxpY2FudEluZm8pO1xuICAgIG5ld19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShuZXdfaW5zX2lkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBuZXdfaW5zXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQg5p+l55yL55Sz6K+35Y2V6K+m5oOFXHJcblxyXG5AYXBpTmFtZSBnZXRJbnN0YW5jZVxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnmoTnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBpbnNfaWQg55Sz6K+35Y2VSWRcclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG57XHJcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG59XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbntcclxuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG4gICAgXCJkYXRhXCI6IHtpbnN0YW5jZX1cclxufVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0LzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXHJcblx0XHRpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJylcclxuXHJcblx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCB1c2VyOiBjdXJyZW50X3VzZXIgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKVxyXG5cclxuXHRcdCMg5p2D6ZmQ77ya5LuF5Lul5LiL5Lq65ZGY5Y+v5Lul5p+l55yL55Sz6K+35Y2V6K+m5oOF77ya5o+Q5Lqk6ICF44CB55Sz6K+36ICF44CB57uP5omL6ICF44CB5pys5rWB56iL55qE566h55CG5ZGY44CB5pys5rWB56iL55qE6KeC5a+f5ZGY44CB5pys5bel5L2c5Yy655qE566h55CG5ZGY44CB5pys5bel5L2c5Yy655qE5omA5pyJ6ICF44CCXHJcblx0XHRwZXJtX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxyXG5cdFx0cGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudClcclxuXHRcdGlmIGluc3RhbmNlLm91dGJveF91c2Vyc1xyXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKVxyXG5cdFx0aWYgaW5zdGFuY2UuaW5ib3hfdXNlcnNcclxuXHRcdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKVxyXG5cdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7IF9pZDogaW5zdGFuY2Uuc3BhY2UgfSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpXHJcblxyXG5cdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIChub3QgcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSBhbmQgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcIm1vbml0b3JcIikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25vIHBlcm1pc3Npb24nKVxyXG5cclxuXHRcdGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLCBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjogeyRuZTogdHJ1ZX19LCB7ZmllbGRzOiB7Y29waWVzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlIH1cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcblxyXG4iLCJcbi8qXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gaW5zX2lkIOeUs+ivt+WNlUlkXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxufVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGUsIGluc19pZCwgaW5zdGFuY2UsIHBlcm1fdXNlcnMsIHBlcm1pc3Npb25zLCBzcGFjZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBpbnN0YW5jZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIHdyb25nJyk7XG4gICAgfVxuICAgIHBlcm1fdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgcGVybV91c2Vycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudCk7XG4gICAgaWYgKGluc3RhbmNlLm91dGJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLm91dGJveF91c2Vycyk7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5pbmJveF91c2Vycykge1xuICAgICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KGluc3RhbmNlLmluYm94X3VzZXJzKTtcbiAgICB9XG4gICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlLnNwYWNlXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGFkbWluczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChzcGFjZS5hZG1pbnMpO1xuICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCghcGVybV91c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgJiYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpO1xuICAgIH1cbiAgICBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAkbmU6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY29waWVzOiAwXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZVxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxyXG5cclxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxyXG5cclxuQGFwaU5hbWUgc3VibWl0SW5zdGFuY2VcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbiAgICB7XHJcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcblx0fVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gICAge1xyXG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxyXG5cdH1cclxuIyMjXHJcblxyXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cclxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V54q25oCB5Li66I2J56i/XHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSlcclxuXHJcblx0XHRpZiBzcGFjZV9pZCBpc250IGluc3RhbmNlW1wic3BhY2VcIl1cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJylcclxuXHJcblx0XHQjIOagoemqjOeUs+ivt+WNleW/heWhq+Wtl+auteaYr+WQpuacieWAvFxyXG5cdFx0dmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXNcclxuXHJcblx0XHRmb3JtID0gdXVmbG93TWFuYWdlci5nZXRGb3JtKGluc3RhbmNlLmZvcm0pXHJcblxyXG5cdFx0cmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHJcblx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMFxyXG5cdFx0XHRpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkcyA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGFyZSByZXF1aXJlZCcpXHJcblx0XHRcdGVsc2UgaWYgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDFcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZCA8JyArIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5qb2luKFwiLFwiKSArICc+IGlzIHJlcXVpcmVkJylcclxuXHJcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblxyXG5cdFx0c3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF0uc3RlcClcclxuXHJcblx0XHQjIOiuoeeul+S4i+S4gOatpemqpOmAiemhuVxyXG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwic3VibWl0dGVkXCIpXHJcblxyXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA8IDFcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIG5leHQgc3RlcHMnKVxyXG5cclxuXHRcdGlmIG5leHRTdGVwcy5sZW5ndGggPiAxXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpXHJcblxyXG5cdFx0bmV4dF9zdGVwX2lkID0gbmV4dFN0ZXBzWzBdXHJcblxyXG5cdFx0IyDorqHnrpfkuIvkuIDmraXlpITnkIbkurrpgInpoblcclxuXHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zX2lkLCBuZXh0X3N0ZXBfaWQpIHx8IFtdXHJcblxyXG5cdFx0aWYgbmV4dF91c2VyX2lkcy5sZW5ndGggPiAxXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBoYW5kbGVyIG5vdCB1bmlxJylcclxuXHJcblx0XHRpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFt7J3N0ZXAnOiBuZXh0X3N0ZXBfaWQsICd1c2Vycyc6IG5leHRfdXNlcl9pZHN9XVxyXG5cclxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRzdWJtaXR0ZXIgPSBkYi51c2Vycy5maW5kT25lKGluc3RhbmNlLnN1Ym1pdHRlcilcclxuXHJcblx0XHRpZiBub3Qgc3VibWl0dGVyXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBzdWJtaXR0ZXInKVxyXG5cclxuXHRcdHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKVxyXG5cclxuXHRcdGlmIHIuYWxlcnRzXHJcblx0XHRcdHJlc3VsdCA9IHJcclxuXHRcdGVsc2VcclxuXHRcdFx0cmVzdWx0ID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkKVxyXG5cdFx0XHRpZiByZXN1bHRcclxuXHRcdFx0XHRyZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCDmj5DkuqTnlLPor7fljZVcblxuQGFwaURlc2NyaXB0aW9uIOaaguS4jeaUr+aMgeW8gOWni+iKgueCueS4i+S4gOiKgueCueS4uuadoeS7tueahOaDheWGtVxuXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgZm9ybSwgaW5zX2lkLCBpbnN0YW5jZSwgbmV4dFN0ZXBzLCBuZXh0X3N0ZXBfaWQsIG5leHRfdXNlcl9pZHMsIHIsIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcywgcmVzdWx0LCBzcGFjZV9pZCwgc3RlcCwgc3VibWl0dGVyLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlRHJhZnQoaW5zdGFuY2UpO1xuICAgIGlmIChzcGFjZV9pZCAhPT0gaW5zdGFuY2VbXCJzcGFjZVwiXSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2UgaXMgbm90IGJlbG9uZyB0byB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIHZhbHVlcyA9IGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF0udmFsdWVzO1xuICAgIGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSk7XG4gICAgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzID0gdXVmbG93TWFuYWdlci5jaGVja1ZhbHVlRmllbGRzUmVxdWlyZSh2YWx1ZXMsIGZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XG4gICAgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwKSB7XG4gICAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJyk7XG4gICAgICB9IGVsc2UgaWYgKHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPSAxKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKTtcbiAgICAgIH1cbiAgICB9XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKTtcbiAgICBuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIik7XG4gICAgaWYgKG5leHRTdGVwcy5sZW5ndGggPCAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpO1xuICAgIH1cbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25leHQgc3RlcCBub3QgdW5pcScpO1xuICAgIH1cbiAgICBuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF07XG4gICAgbmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW107XG4gICAgaWYgKG5leHRfdXNlcl9pZHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXVtcIm5leHRfc3RlcHNcIl0gPSBbXG4gICAgICB7XG4gICAgICAgICdzdGVwJzogbmV4dF9zdGVwX2lkLFxuICAgICAgICAndXNlcnMnOiBuZXh0X3VzZXJfaWRzXG4gICAgICB9XG4gICAgXTtcbiAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgIHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBpZiAoIXN1Ym1pdHRlcikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpO1xuICAgIH1cbiAgICByID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2UsIHN1Ym1pdHRlcik7XG4gICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICByZXN1bHQgPSByO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xuICAgICAgaWYgKHJlc3VsdCkge1xuICAgICAgICByZXN1bHQuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZCxcbiAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXG4gICAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgY29waWVzOiAwXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwdXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQg5pqC5a2Y55Sz6K+35Y2VXHJcblxyXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxyXG5cclxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxyXG5cclxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxyXG4gICAge1xyXG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG5cdH1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuICAgIHtcclxuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cclxuXHR9XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0dmFsdWVzID0gcmVxLmJvZHlcclxuXHJcblx0XHRpZiBub3QgdmFsdWVzXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJylcclxuXHJcblx0XHRjdXJyZW50X3RyYWNlID0gbnVsbFxyXG5cdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcclxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHJcblx0XHRfLmVhY2ggaW5zdGFuY2UudHJhY2VzLCAodCktPlxyXG5cdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0XHJcblxyXG5cdFx0Y3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApXHJcblxyXG5cdFx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8JylcclxuXHJcblx0XHRfLmVhY2ggY3VycmVudF90cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0aWYgYS5pc19maW5pc2hlZCBpc250IHRydWUgYW5kIGEudHlwZSBpc250IFwiY2NcIlxyXG5cdFx0XHRcdGEudmFsdWVzID0gdmFsdWVzXHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcclxuXHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3Zlc1xyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUge1xyXG5cdFx0XHRfaWQ6IGluc19pZFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXHJcblx0XHR9LCAkc2V0OiBzZXRPYmpcclxuXHJcblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcblxuQGFwaU5hbWUgc2F2ZUluc3RhbmNlc1xuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG4gICAge1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG4gICAge1xuXHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XG5cdH1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3B1dCcsICcvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfc3RlcCwgY3VycmVudF90cmFjZSwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzZXRPYmosIHNwYWNlX2lkLCB2YWx1ZXM7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgdmFsdWVzID0gcmVxLmJvZHk7XG4gICAgaWYgKCF2YWx1ZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgdmFsdWVzJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdHJhY2UgPSBudWxsO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICBpZiAodC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF90cmFjZSA9IHQ7XG4gICAgICB9XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBjdXJyZW50X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+S8muetvuatpemqpOS4jeiDveS/ruaUueihqOWNleWAvCcpO1xuICAgIH1cbiAgICBfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgaWYgKGEuaXNfZmluaXNoZWQgIT09IHRydWUgJiYgYS50eXBlICE9PSBcImNjXCIpIHtcbiAgICAgICAgcmV0dXJuIGEudmFsdWVzID0gdmFsdWVzO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHNldE9iai5tb2RpZmllZCA9IG5ldyBEYXRlO1xuICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzXCJdID0gY3VycmVudF90cmFjZS5hcHByb3ZlcztcbiAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zX2lkLFxuICAgICAgJ3RyYWNlcy5faWQnOiBjdXJyZW50X3RyYWNlLl9pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHNldE9ialxuICAgIH0pO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUg5qC55o2u5q2l6aqk5ZCN56ew6I635Y+W55Sz6K+35Y2VXHJcblxyXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbntcclxuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcbn1cclxuXHJcbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcclxue1xyXG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxyXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7BcclxufVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG57XHJcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XCJkYXRhXCI6IFtcclxuXHRcdHtcclxuXHRcdFx0aW5zdGFuY2VcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGluc3RhbmNlXHJcblx0XHR9XHJcblx0XVxyXG59XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXVxyXG5cdFx0ZmxvdyA9IGhhc2hEYXRhW1wiZmxvd1wiXVxyXG5cclxuXHRcdGlmIG5vdCBzdGVwbmFtZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIHN0ZXBuYW1lJylcclxuXHJcblx0XHRpZiBub3QgZmxvd1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKVxyXG5cclxuXHRcdCMg5Y675o6Je2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIHRyYWNlczogMCwgYXR0YWNobWVudHM6IDB9XHJcblx0XHRpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7c3BhY2U6IHNwYWNlX2lkLCBmbG93OiBmbG93LCBzdGF0ZToncGVuZGluZycsIHRyYWNlczp7JGVsZW1NYXRjaDoge2lzX2ZpbmlzaGVkOiBmYWxzZSwgbmFtZTogc3RlcG5hbWV9fX0sIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCBhdHRhY2htZW50czogMCwgdHJhY2VzOiAwfX0pLmZldGNoKClcclxuXHJcblx0XHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cclxuXHRcdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IGluc3RhbmNlc31cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJcbi8qXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcblxuQGFwaU5hbWUgZ2V0SW5zdGFuY2VCeVN0ZXBOYW1lXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbntcblx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxufVxuXG5AYXBpUGFyYW1FeGFtcGxlIHtqc29ufSBSZXF1ZXN0IFBheWxvYWQ6XG57XG4gICAgXCJmbG93XCI6IOa1geeoi0lkLFxuICAgIFwic3RlcG5hbWVcIjog5q2l6aqk5ZCN56ewXG59XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbntcblx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFwiZGF0YVwiOiBbXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9LFxuXHRcdHtcblx0XHRcdGluc3RhbmNlXG5cdFx0fVxuXHRdXG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGhhc2hEYXRhLCBpbnN0YW5jZXMsIHNwYWNlX2lkLCBzdGVwbmFtZTtcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHN0ZXBuYW1lID0gaGFzaERhdGFbXCJzdGVwbmFtZVwiXTtcbiAgICBmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdO1xuICAgIGlmICghc3RlcG5hbWUpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKTtcbiAgICB9XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGZsb3cnKTtcbiAgICB9XG4gICAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgZmxvdzogZmxvdyxcbiAgICAgIHN0YXRlOiAncGVuZGluZycsXG4gICAgICB0cmFjZXM6IHtcbiAgICAgICAgJGVsZW1NYXRjaDoge1xuICAgICAgICAgIGlzX2ZpbmlzaGVkOiBmYWxzZSxcbiAgICAgICAgICBuYW1lOiBzdGVwbmFtZVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICAgIGNjX3VzZXJzOiAwLFxuICAgICAgICBvdXRib3hfdXNlcnM6IDAsXG4gICAgICAgIGF0dGFjaG1lbnRzOiAwLFxuICAgICAgICB0cmFjZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIGluc3RhbmNlcy5mb3JFYWNoKGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgICByZXR1cm4gaW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZS5faWQsXG4gICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiBpbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5Db250ZW50LVR5cGXvvJphcHBsaWNhdGlvbi9qc29uXHJcbmZvcm0tZGF0YSDmoLzlvI86XHJcbmZkID0gbmV3IEZvcm1EYXRhO1xyXG5mZC5hcHBlbmQoXCJmaWxlXCIsIGZpbGUpO1xyXG5cclxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XHJcblxyXG5pZiAoaXNBZGRWZXJzaW9uKSB7XHJcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XHJcblx0ZmQuYXBwZW5kKFwicGFyZW50XCIsIGF0dGFjaF9wYXJlbnRfaWQpO1xyXG59XHJcblxyXG5pZiAoaXNNYWluQXR0YWNoKSB7XHJcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcclxufVxyXG4jIyNcclxuXHJcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cclxuXHRcdGlmIGluc3RhbmNlLnN0YXRlIGlzbnQgXCJkcmFmdFwiXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpXHJcblxyXG5cdFx0YXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWRcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRKc29uUm91dGVzLnBhcnNlRmlsZXMgcmVxLCByZXMsICgpLT5cclxuXHRcdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcclxuXHJcblx0XHRcdGlmIHJlcS5maWxlcyBhbmQgcmVxLmZpbGVzWzBdXHJcblx0XHRcdFx0IyDpmYTku7bkuIrkvKDmjqXlj6PvvIzpmZDliLbpmYTku7blpKflsI/vvIzmnIDlpKfkuLoxMDBNXHJcblx0XHRcdFx0aWYgcmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCoxMDI0KjEwMjQpXHJcblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwifV19XHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0bmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XHJcblx0XHRcdFx0bmV3RmlsZS5hdHRhY2hEYXRhIHJlcS5maWxlc1swXS5kYXRhLCB7dHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlfSwgKGVycikgLT5cclxuXHRcdFx0XHRcdGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lXHJcblxyXG5cdFx0XHRcdFx0aWYgW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKVxyXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpXHJcblxyXG5cdFx0XHRcdFx0Ym9keSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlclxyXG5cdFx0XHRcdFx0Ym9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWVcclxuXHRcdFx0XHRcdGJvZHlbJ3NwYWNlJ10gPSBzcGFjZV9pZFxyXG5cdFx0XHRcdFx0Ym9keVsnaW5zdGFuY2UnXSA9IGluc19pZFxyXG5cdFx0XHRcdFx0Ym9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZFxyXG5cclxuXHRcdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0XHRpZiBib2R5ICYmIChib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwiSUVcIiBvciBib2R5Wyd1cGxvYWRfZnJvbSddIGlzIFwibm9kZVwiKVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVuYW1lID0gZGVjb2RlVVJJQ29tcG9uZW50KGZpbGVuYW1lKVxyXG5cdFx0XHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yKGZpbGVuYW1lKVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmVycm9yIGVcclxuXHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBmaWxlbmFtZS5yZXBsYWNlKC8lL2csIFwiLVwiKVxyXG5cclxuXHRcdFx0XHRcdG5ld0ZpbGUubmFtZShmaWxlbmFtZSlcclxuXHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0aWYgYm9keSAmJiBib2R5Wydvd25lciddICYmIGJvZHlbJ293bmVyX25hbWUnXSAmJiBib2R5WydzcGFjZSddICYmIGJvZHlbJ2luc3RhbmNlJ10gICYmIGJvZHlbJ2FwcHJvdmUnXVxyXG5cdFx0XHRcdFx0XHRwYXJlbnQgPSAnJ1xyXG5cdFx0XHRcdFx0XHRtZXRhZGF0YSA9IHtvd25lcjpib2R5Wydvd25lciddLCBvd25lcl9uYW1lOmJvZHlbJ293bmVyX25hbWUnXSwgc3BhY2U6Ym9keVsnc3BhY2UnXSwgaW5zdGFuY2U6Ym9keVsnaW5zdGFuY2UnXSwgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLCBjdXJyZW50OiB0cnVlfVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2VcclxuXHJcblx0XHRcdFx0XHRcdGlmIGJvZHlbJ21haW4nXSA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLm1haW4gPSB0cnVlXHJcblxyXG5cdFx0XHRcdFx0XHRpZiBib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXVxyXG5cdFx0XHRcdFx0XHRcdHBhcmVudCA9IGJvZHlbJ3BhcmVudCddXHJcblx0XHRcdFx0XHRcdCMgZWxzZVxyXG5cdFx0XHRcdFx0XHQjICAgY29sbGVjdGlvbi5maW5kKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSkuZm9yRWFjaCAoYykgLT5cclxuXHRcdFx0XHRcdFx0IyAgICAgaWYgYy5uYW1lKCkgPT0gZmlsZW5hbWVcclxuXHRcdFx0XHRcdFx0IyAgICAgICBwYXJlbnQgPSBjLm1ldGFkYXRhLnBhcmVudFxyXG5cclxuXHRcdFx0XHRcdFx0aWYgcGFyZW50XHJcblx0XHRcdFx0XHRcdFx0ciA9IGNvbGxlY3Rpb24udXBkYXRlKHsnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEuY3VycmVudCcgOiB0cnVlfSwgeyR1bnNldCA6IHsnbWV0YWRhdGEuY3VycmVudCcgOiAnJ319KVxyXG5cdFx0XHRcdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLnBhcmVudCA9IHBhcmVudFxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVsnbG9ja2VkX2J5J10gJiYgYm9keVsnbG9ja2VkX2J5X25hbWUnXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSA9IGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ11cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcclxuXHRcdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0IyDliKDpmaTlkIzkuIDkuKrnlLPor7fljZXlkIzkuIDkuKrmraXpqqTlkIzkuIDkuKrkurrkuIrkvKDnmoTph43lpI3nmoTmlofku7ZcclxuXHRcdFx0XHRcdFx0XHRcdGlmIGJvZHlbXCJvdmVyd3JpdGVcIl0gJiYgYm9keVtcIm92ZXJ3cml0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvbGxlY3Rpb24ucmVtb3ZlKHsnbWV0YWRhdGEuaW5zdGFuY2UnOiBib2R5WydpbnN0YW5jZSddLCAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LCAnbWV0YWRhdGEub3duZXInOiBib2R5Wydvd25lciddLCAnbWV0YWRhdGEuYXBwcm92ZSc6IGJvZHlbJ2FwcHJvdmUnXSwgJ21ldGFkYXRhLmN1cnJlbnQnOiB7JG5lOiB0cnVlfX0pXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGFcclxuXHRcdFx0XHRcdFx0XHRmaWxlT2JqID0gY29sbGVjdGlvbi5pbnNlcnQgbmV3RmlsZVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmoudXBkYXRlKHskc2V0OiB7J21ldGFkYXRhLnBhcmVudCcgOiBmaWxlT2JqLl9pZH19KVxyXG5cclxuXHRcdFx0XHRcdCMg5YW85a656ICB54mI5pysXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXHJcblxyXG5cdFx0XHRcdFx0c2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZVxyXG5cdFx0XHRcdFx0aWYgIXNpemVcclxuXHRcdFx0XHRcdFx0c2l6ZSA9IDEwMjRcclxuXHJcblx0XHRcdFx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRyZXN1bHQgPVxyXG5cdFx0XHRcdFx0XHRhdHRhY2hfaWQ6IGZpbGVPYmouX2lkLFxyXG5cdFx0XHRcdFx0XHRzaXplOiBzaXplXHJcblxyXG5cdFx0XHRcdFx0cmVzLnNldEhlYWRlcihcIngtYW16LXZlcnNpb24taWRcIixmaWxlT2JqLl9pZCk7XHJcblxyXG5cdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwifV19XHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCAgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXHJcblxyXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2JylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9XHJcblx0XHRhdHRhY2hfaWQgPSBoYXNoRGF0YVtcImF0dGFjaF9pZFwiXVxyXG5cclxuXHRcdGlmIG5vdCBhdHRhY2hfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGF0dGFjaF9pZCcpXHJcblxyXG5cdFx0Y29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXNcclxuXHJcblx0XHRmaWxlID0gY29sbGVjdGlvbi5maW5kT25lKHsgX2lkOiBhdHRhY2hfaWQsICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZH0pXHJcblx0XHRpZiBmaWxlXHJcblx0XHRcdGZpbGUucmVtb3ZlKClcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJylcclxuXHJcblx0XHRyZXN1bHQgPSBuZXcgT2JqZWN0XHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRhdHRhY2hfaWQgPSByZXEucGFyYW1zLmF0dGFjaF9pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0cmVzLnN0YXR1c0NvZGUgPSAzMDJcclxuXHRcdHJlcy5zZXRIZWFkZXIgXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCJcclxuXHRcdHJlcy5lbmQoKVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cbmZvcm0tZGF0YSDmoLzlvI86XG5mZCA9IG5ldyBGb3JtRGF0YTtcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XG5cbmZkLmFwcGVuZChcImlzX3ByaXZhdGVcIiwgZmFsc2UpO1xuXG5pZiAoaXNBZGRWZXJzaW9uKSB7XG5cdGZkLmFwcGVuZChcImlzQWRkVmVyc2lvblwiLCBpc0FkZFZlcnNpb24pO1xuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XG59XG5cbmlmIChpc01haW5BdHRhY2gpIHtcblx0ZmQuYXBwZW5kKFwibWFpblwiLCB0cnVlKTtcbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmVfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGluc19pZCwgaW5zdGFuY2UsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpO1xuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gXCJkcmFmdFwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73kuIrkvKAnKTtcbiAgICB9XG4gICAgYXBwcm92ZV9pZCA9IGluc3RhbmNlLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMucGFyc2VGaWxlcyhyZXEsIHJlcywgZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgY29sbGVjdGlvbiwgbmV3RmlsZTtcbiAgICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgICAgaWYgKHJlcS5maWxlcyAmJiByZXEuZmlsZXNbMF0pIHtcbiAgICAgICAgaWYgKHJlcS5maWxlc1swXS5kYXRhLmxlbmd0aCA+ICgxMDAgKiAxMDI0ICogMTAyNCkpIHtcbiAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCLotoXov4fkuIrkvKDpmYTku7blpKflsI/pmZDliLYoMTAwTSlcIlxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgXVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybjtcbiAgICAgICAgfVxuICAgICAgICBuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcbiAgICAgICAgcmV0dXJuIG5ld0ZpbGUuYXR0YWNoRGF0YShyZXEuZmlsZXNbMF0uZGF0YSwge1xuICAgICAgICAgIHR5cGU6IHJlcS5maWxlc1swXS5taW1lVHlwZVxuICAgICAgICB9LCBmdW5jdGlvbihlcnIpIHtcbiAgICAgICAgICB2YXIgYm9keSwgZSwgZmlsZU9iaiwgZmlsZW5hbWUsIG1ldGFkYXRhLCBwYXJlbnQsIHIsIHJlc3VsdCwgc2l6ZTtcbiAgICAgICAgICBmaWxlbmFtZSA9IHJlcS5maWxlc1swXS5maWxlbmFtZTtcbiAgICAgICAgICBpZiAoW1wiaW1hZ2UuanBnXCIsIFwiaW1hZ2UuZ2lmXCIsIFwiaW1hZ2UuanBlZ1wiLCBcImltYWdlLnBuZ1wiXS5pbmNsdWRlcyhmaWxlbmFtZS50b0xvd2VyQ2FzZSgpKSkge1xuICAgICAgICAgICAgZmlsZW5hbWUgPSBcImltYWdlLVwiICsgbW9tZW50KG5ldyBEYXRlKCkpLmZvcm1hdCgnWVlZWU1NRERISG1tc3MnKSArIFwiLlwiICsgZmlsZW5hbWUuc3BsaXQoJy4nKS5wb3AoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgYm9keSA9IHJlcS5ib2R5O1xuICAgICAgICAgIGJvZHlbJ293bmVyJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgICAgICAgYm9keVsnb3duZXJfbmFtZSddID0gaW5zdGFuY2Uuc3VibWl0dGVyX25hbWU7XG4gICAgICAgICAgYm9keVsnc3BhY2UnXSA9IHNwYWNlX2lkO1xuICAgICAgICAgIGJvZHlbJ2luc3RhbmNlJ10gPSBpbnNfaWQ7XG4gICAgICAgICAgYm9keVsnYXBwcm92ZSddID0gYXBwcm92ZV9pZDtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAgaWYgKGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwiSUVcIiB8fCBib2R5Wyd1cGxvYWRfZnJvbSddID09PSBcIm5vZGVcIikpIHtcbiAgICAgICAgICAgICAgZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKGZpbGVuYW1lKTtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZSk7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdGaWxlLm5hbWUoZmlsZW5hbWUpO1xuICAgICAgICAgIGlmIChib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAmJiBib2R5WydhcHByb3ZlJ10pIHtcbiAgICAgICAgICAgIHBhcmVudCA9ICcnO1xuICAgICAgICAgICAgbWV0YWRhdGEgPSB7XG4gICAgICAgICAgICAgIG93bmVyOiBib2R5Wydvd25lciddLFxuICAgICAgICAgICAgICBvd25lcl9uYW1lOiBib2R5Wydvd25lcl9uYW1lJ10sXG4gICAgICAgICAgICAgIHNwYWNlOiBib2R5WydzcGFjZSddLFxuICAgICAgICAgICAgICBpbnN0YW5jZTogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgYXBwcm92ZTogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICBjdXJyZW50OiB0cnVlXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGJvZHlbXCJpc19wcml2YXRlXCJdICYmIGJvZHlbXCJpc19wcml2YXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgIG1ldGFkYXRhLmlzX3ByaXZhdGUgPSB0cnVlO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IGZhbHNlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGJvZHlbJ21haW4nXSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEubWFpbiA9IHRydWU7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnaXNBZGRWZXJzaW9uJ10gJiYgYm9keVsncGFyZW50J10pIHtcbiAgICAgICAgICAgICAgcGFyZW50ID0gYm9keVsncGFyZW50J107XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAocGFyZW50KSB7XG4gICAgICAgICAgICAgIHIgPSBjb2xsZWN0aW9uLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHRydWVcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiAnJ1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIGlmIChyKSB7XG4gICAgICAgICAgICAgICAgbWV0YWRhdGEucGFyZW50ID0gcGFyZW50O1xuICAgICAgICAgICAgICAgIGlmIChib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddKSB7XG4gICAgICAgICAgICAgICAgICBtZXRhZGF0YS5sb2NrZWRfYnkgPSBib2R5Wydsb2NrZWRfYnknXTtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgbmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xuICAgICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgICBpZiAoYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICAgICAgICBjb2xsZWN0aW9uLnJlbW92ZSh7XG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLFxuICAgICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6IHtcbiAgICAgICAgICAgICAgICAgICAgICAkbmU6IHRydWVcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICAgICAgZmlsZU9iai51cGRhdGUoe1xuICAgICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5wYXJlbnQnOiBmaWxlT2JqLl9pZFxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChuZXdGaWxlKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgc2l6ZSA9IGZpbGVPYmoub3JpZ2luYWwuc2l6ZTtcbiAgICAgICAgICBpZiAoIXNpemUpIHtcbiAgICAgICAgICAgIHNpemUgPSAxMDI0O1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXN1bHQgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIHJlc3VsdCA9IHtcbiAgICAgICAgICAgIGF0dGFjaF9pZDogZmlsZU9iai5faWQsXG4gICAgICAgICAgICBzaXplOiBzaXplXG4gICAgICAgICAgfTtcbiAgICAgICAgICByZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLCBmaWxlT2JqLl9pZCk7XG4gICAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIGVycm9yTWVzc2FnZTogXCJuZWVkIGZpbGVcIlxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJkZWxldGVcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY29sbGVjdGlvbiwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmlsZSwgaGFzaERhdGEsIGluc19pZCwgaW5zdGFuY2UsIHJlc3VsdCwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveWIoOmZpOmZhOS7ticpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5IHx8IHt9O1xuICAgIGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdO1xuICAgIGlmICghYXR0YWNoX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJyk7XG4gICAgfVxuICAgIGNvbGxlY3Rpb24gPSBjZnMuaW5zdGFuY2VzO1xuICAgIGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoe1xuICAgICAgX2lkOiBhdHRhY2hfaWQsXG4gICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnNfaWRcbiAgICB9KTtcbiAgICBpZiAoZmlsZSkge1xuICAgICAgZmlsZS5yZW1vdmUoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5q2k6ZmE5Lu25LiN5bGe5LqO5q2k55Sz6K+35Y2V77yM5oiW5bey6KKr5Yig6ZmkJyk7XG4gICAgfVxuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgc3RhdHVzOiBcInN1Y2Nlc3NcIixcbiAgICAgICAgZGF0YTogcmVzdWx0XG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86YXR0YWNoX2lkXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhdHRhY2hfaWQsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIHNwYWNlX2lkO1xuICB0cnkge1xuICAgIGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkO1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIHJlcy5zdGF0dXNDb2RlID0gMzAyO1xuICAgIHJlcy5zZXRIZWFkZXIoXCJMb2NhdGlvblwiLCBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2luc3RhbmNlcy9cIikgKyBhdHRhY2hfaWQgKyBcIj9kb3dubG9hZD10cnVlXCIpO1xuICAgIHJldHVybiByZXMuZW5kKCk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIlxyXG5cdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiXHJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIixyZXE/LnF1ZXJ5Py5jb2x1bW5cclxuXHJcblx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LmNvbHVtbi5zcGxpdCgnOycpXHJcblx0Y29uc29sZS5sb2cgXCJjb2x1bW5zXCIsY29sdW1uc1xyXG5cclxuXHJcblx0IyDliIblj5HnmoTnlLPor7fljZVcclxuXHRmb3J3YXJkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcclxuXHJcblx0c3ViVGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG5cclxuXHRpZiBmb3J3YXJkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIiAmJiBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcz8ubGVuZ3RoPjAgJiYgc3ViVGFibGUgJiYgY29sdW1uc1xyXG5cdFx0XHJcblx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxyXG5cdFx0Zm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnM/LnZhbHVlc1xyXG5cclxuXHRcdCMgIyDljp/nlLPor7fljZXlrZfmrrVcclxuXHRcdG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdCBmb3J3YXJkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xyXG5cdFx0b3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKVxyXG5cdFx0b3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucz8uZm9ybSlcclxuXHJcblx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gW11cclxuXHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXHJcblxyXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXCIsb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxyXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvblwiLG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXHJcblxyXG5cdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcclxuXHRcdGlmIG9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uID09IG9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19mb3JtLmN1cnJlbnQ/LmZpZWxkc1xyXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2ggKG9yaWdpbmFsX2luc19maWVsZCktPlxyXG5cdFx0XHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlXHJcblx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBvcmlnaW5hbF9pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChvaCktPlxyXG5cdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBvaD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0aWYgb3JpZ2luYWxfaW5zX2ZpZWxkPy5jb2RlID09IHN1YlRhYmxlICYmIG9yaWdpbmFsX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdFx0XHRvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQ/LmZpZWxkc1xyXG5cclxuXHRcdGNvbnNvbGUubG9nIFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsb3JpZ2luYWxfc3VidGFibGVfZmllbGRzPy5sZW5ndGhcclxuXHJcblx0XHRpZiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcclxuXHRcdFx0IyAjIOabtOaWsOatpemqpOeahOWAvFxyXG5cdFx0XHQjIDEu5om+5Yiw5b2T5YmN55qE5q2l6aqkXHJcblx0XHRcdCMgMi7lvZPliY3mraXpqqTkuK1hcHByb3Zlc+S4reeahHZhbHVlc1xyXG5cdFx0XHQjIDMu5ZyodmFsdWVz5Lit5om+5Yiw6KGo5qC8XHJcblx0XHRcdCMgNC7moLnmja7ooajmoLznmoRmaWVsZHPlsZ7mgKfvvIzkuIDkuKrkuKrnmoTotYvlgLxcclxuXHRcdFx0IyA1LuaKiuWkjeWItueahHB1c2jliLDooajmoLzmlbDnu4TnmoTlkI7pnaJcclxuXHRcdFx0dHJhY2VzID0gb3JpZ2luYWxfaW5zPy50cmFjZXNcclxuXHJcblx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cclxuXHJcblx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cclxuXHJcblx0XHRcdHRhYmxlX2RhdGEgPSBhcHByb3ZlPy52YWx1ZXNbc3ViVGFibGVdIHx8IFtdXHJcblxyXG5cdFx0XHRyb3dfZGF0YSA9IHt9XHJcblxyXG5cdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxyXG5cdFx0XHRcdHJvd19kYXRhW2NvbHVtbl0gPSBmb3J3YXJkX2luc192YWx1ZXNbY29sdW1uXSB8fCBcIlwiXHJcblx0XHRcdFxyXG5cdFx0XHRcclxuXHRcdFx0aWYgcm93X2RhdGEgJiYgcm93X2RhdGEgIT0ge31cclxuXHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcclxuXHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YVxyXG5cclxuXHRcdFx0XHRjb25zb2xlLmxvZyB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdXHJcblxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob3JpZ2luYWxfaW5zX2lkLHtcclxuXHRcdFx0XHRcdCRzZXQ6e1xyXG5cdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdCdzdWNjZXNzJzogJ+WbnuWhq+aIkOWKnydcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdCdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdCdlcnJvcic6ICfljp/nlLPor7fljZXml6Dnm7jlhbPlrZDooagnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0ZWxzZVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnc3VjY2Vzcyc6ICfnlLPor7fljZXmnKrnu5PmnZ8nXHJcblx0XHRcdH1cclxuXHRcdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFwcHJvdmUsIGNvbHVtbnMsIGZvcndhcmRfaW5zLCBmb3J3YXJkX2luc192YWx1ZXMsIG9yaWdpbmFsX2lucywgb3JpZ2luYWxfaW5zX2ZpZWxkcywgb3JpZ2luYWxfaW5zX2Zvcm0sIG9yaWdpbmFsX2luc19pZCwgb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHJvd19kYXRhLCBzdWJUYWJsZSwgdGFibGVfZGF0YSwgdHJhY2UsIHRyYWNlcztcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3lm57loavlrZDooag9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gIGNvbnNvbGUubG9nKFwiPT09PT09PT095YiG5Y+R5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5jb2x1bW5cIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuY29sdW1uIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29sdW1ucyA9IHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLmNvbHVtbi5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwO1xuICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gIGZvcndhcmRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmMy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgc3ViVGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgaWYgKChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiICYmIChmb3J3YXJkX2lucyAhPSBudWxsID8gKHJlZjUgPSBmb3J3YXJkX2lucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSAhPSBudWxsID8gcmVmNS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zKSB7XG4gICAgZm9yd2FyZF9pbnNfdmFsdWVzID0gZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLnZhbHVlcyA6IHZvaWQgMDtcbiAgICBvcmlnaW5hbF9pbnNfaWQgPSBfLmxhc3QoZm9yd2FyZF9pbnMgIT0gbnVsbCA/IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9yaWdpbmFsX2luc19pZCk7XG4gICAgb3JpZ2luYWxfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm0gOiB2b2lkIDApO1xuICAgIG9yaWdpbmFsX2luc19maWVsZHMgPSBbXTtcbiAgICBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIiwgb3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY2ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjYuX2lkIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsIG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCk7XG4gICAgaWYgKChvcmlnaW5hbF9pbnMgIT0gbnVsbCA/IG9yaWdpbmFsX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY3ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjcuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IChyZWY4ID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjguZmllbGRzIDogdm9pZCAwO1xuICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX2luc19maWVsZFwiLCBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKTtcbiAgICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gc3ViVGFibGUgJiYgKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICAgICAgcmV0dXJuIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICgob3JpZ2luYWxfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWY5ID0gb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWY5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24ob2gpIHtcbiAgICAgICAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IG9oLl9pZCkge1xuICAgICAgICAgICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9yaWdpbmFsX2luc19maWVsZCkge1xuICAgICAgICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLmxvZyhcIm9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1wiLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgIT0gbnVsbCA/IG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggOiB2b2lkIDApO1xuICAgIGlmIChvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMpIHtcbiAgICAgIHRyYWNlcyA9IG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgICAgIHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXTtcbiAgICAgIGFwcHJvdmUgPSB0cmFjZSAhPSBudWxsID8gdHJhY2UuYXBwcm92ZXNbMF0gOiB2b2lkIDA7XG4gICAgICB0YWJsZV9kYXRhID0gKGFwcHJvdmUgIT0gbnVsbCA/IGFwcHJvdmUudmFsdWVzW3N1YlRhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICByZXR1cm4gcm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCI7XG4gICAgICB9KTtcbiAgICAgIGlmIChyb3dfZGF0YSAmJiByb3dfZGF0YSAhPT0ge30pIHtcbiAgICAgICAgdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdID0gdGFibGVfZGF0YTtcbiAgICAgICAgY29uc29sZS5sb2codHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbc3ViVGFibGVdKTtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQsIHtcbiAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnaW5mbyc6ICflm57loavmlbDmja7kuLrnqbonXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2ZvcndhcmRfdGFibGVfcmVmaWxsXCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLHJlcT8ucXVlcnk/Lm9UYWJsZVxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajlrZDooag9PT09PT09PT09XCJcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZFRhYmxlXCIscmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIlxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIixyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLHJlcT8ucXVlcnk/LmRNYXRjaENvbFxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3pnIDopoHlm57loavnmoTliJc9PT09PT09PT09XCJcdFxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIixyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcclxuXHJcblx0XHQjIOWIhuWPkeeahOeUs+ivt+WNlVxyXG5cdFx0ZF9pbnMgPSByZXE/LmJvZHk/Lmluc3RhbmNlXHJcblxyXG5cdFx0XHJcblx0XHRpZiBkX2lucz8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRpZiByZXE/LnF1ZXJ5Py5vVGFibGVcclxuXHRcdFx0XHRvX3RhYmxlID0gcmVxPy5xdWVyeT8ub1RhYmxlXHJcblx0XHRcdFx0aWYgcmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRcdFx0XHRkX3RhYmxlID0gcmVxPy5xdWVyeT8uZFRhYmxlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0ZF90YWJsZSA9IG9fdGFibGVcclxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5hVGFibGVcclxuXHRcdFx0XHRcdGFfdGFibGUgPSByZXE/LnF1ZXJ5Py5hVGFibGVcclxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcclxuXHRcdFx0XHRcdG9fbWF0Y2hfY29sID0gcmVxPy5xdWVyeT8ub01hdGNoQ29sXHJcblx0XHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbFxyXG5cdFx0XHRcdFx0Y29sdW1ucyA9IHJlcT8ucXVlcnk/LnJlZmlsbENvbC5zcGxpdCgnOycpIHx8IFtdXHJcblx0XHRcdFx0XHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdGlmIGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGg8MVxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PT09PT09PT09PT09PT1cIlxyXG5cdFx0XHRcdFx0XHRjb25zb2xlLmxvZyBkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1uc1xyXG5cclxuXHRcdFx0XHRcdFx0IyDliIblj5Hlm57mnaXnmoTlgLxcclxuXHRcdFx0XHRcdFx0ZF9pbnNfdmFsdWVzID0gZF9pbnM/LnZhbHVlc1xyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZUgZm9ybSDooajlrZfmrrVcclxuXHRcdFx0XHRcdFx0b19pbnNfaWQgPSBfLmxhc3QgZF9pbnM/LmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdFx0XHRcdFx0b19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZClcclxuXHRcdFx0XHRcdFx0b19pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob19pbnM/LmZvcm0pXHJcblxyXG5cdFx0XHRcdFx0XHRkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucz8uZm9ybSlcclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIGZpZWxkc1xyXG5cdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/lrZDooajlrZfmrrVcclxuXHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDliIblj5HnlLPor7fljZXnmoQgZmllbGRzXHJcblx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IFtdXHJcblx0XHRcdFx0XHRcdCMg546w55Sz6K+35Y2V5a2X6KGo5a2X5q61XHJcblx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gW11cclxuXHJcblx0XHRcdFx0XHRcdCMg6LWL5YC85a+55bqU55qE5a2X5q61XHJcblx0XHRcdFx0XHRcdGNvbHVtbl9saXN0ID0gW11cclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWQjueUs+ivt+WNleeahCDlrZDooajlgLxcclxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDmn6XnnIvljp/nlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZDooahcclxuXHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMuZm9yRWFjaCAob19pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgb19pbnNfZmllbGQ/LmNvZGUgPT0gb190YWJsZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdGlmIG9faW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRcdFx0XHRvX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIG9faW5zPy5mb3JtX3ZlcnNpb24gPT0gb2guX2lkXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzID0gb2g/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IyDmn6XnnIvliIblj5HnmoTnlLPor7fljZXmmK/lkKbmnInlr7nlupTnmoTlrZfooahcclxuXHRcdFx0XHRcdFx0aWYgZF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBkX2luc19mb3JtPy5jdXJyZW50Py5faWRcclxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMgPSBkX2luc19mb3JtPy5jdXJyZW50Py5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRpZiBkX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoIChkaCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRoLl9pZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRoPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRkX2luc19maWVsZHMuZm9yRWFjaCAoZF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGlmKChkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGRfdGFibGUpfHwoYV90YWJsZSAmJiBkX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIGRfaW5zX2ZpZWxkPy5jb2RlID09IGFfdGFibGUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdCBkX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFxyXG5cclxuXHRcdFx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwib19zdWJ0YWJsZV9maWVsZHNcIixvX3N1YnRhYmxlX2ZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdGlmIGRfc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xyXG5cclxuXHRcdFx0XHRcdFx0ZF90YWJsZV92YWx1ZXMgPSBkX2lucz8udmFsdWVzW2RfdGFibGVdIHx8IFtdXHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgYV90YWJsZVxyXG5cdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzID0gIGRfaW5zPy52YWx1ZXNbYV90YWJsZV0gfHwgW11cclxuXHRcdFx0XHRcdFx0XHRpZiBhX3RhYmxlX3ZhbHVlcyAmJiBhX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoPT1kX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0XHRhX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChhX3JvdyxpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlc1tpbmRleF1ba2V5XSA9IHZhbHVlIGZvciBrZXksdmFsdWUgb2YgYV9yb3dcclxuXHJcblx0XHRcdFx0XHRcdGlmIGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19tYXRjaF9jb2wpXHJcblx0XHRcdFx0XHRcdGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfbWF0Y2hfY29sKVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljLnphY3liJfliKTmlq1cclxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWMuemFjeWIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7RcclxuXHRcdFx0XHRcdFx0b19tYXRjaF9jb2xfZmllbGQgPSBvX21hdGNoX2NvbF9maWVsZHNbMF1cclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF1cclxuXHJcblx0XHRcdFx0XHRcdGlmIG9fbWF0Y2hfY29sX2ZpZWxkPy50eXBlICE9IGRfbWF0Y2hfY29sX2ZpZWxkPy50eXBlXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlm57loavliJfliKTmlq1cclxuXHRcdFx0XHRcdFx0Y29sdW1ucy5mb3JFYWNoIChjb2x1bW4pLT5cclxuXHRcdFx0XHRcdFx0XHRjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW11cclxuXHRcdFx0XHRcdFx0XHRpZiBjb2xzLmxlbmd0aCA9PSAyXHJcblx0XHRcdFx0XHRcdFx0XHRvX2NvbCA9IGNvbHNbMF1cclxuXHRcdFx0XHRcdFx0XHRcdGRfY29sID0gY29sc1sxXVxyXG5cdFx0XHRcdFx0XHRcdFx0b19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09b19jb2wpXHJcblx0XHRcdFx0XHRcdFx0XHRkX2NvbF9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1kX2NvbClcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQjIOWIpOaWreaYr+WQpuacieWvueW6lOeahOWbnuWhq+WIl1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19jb2xfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTlm57loavliJcnKTtcclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBkX2NvbF9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5Yy56YWN5YiX5a2X5q6155qE5YC857G75Z6L5piv5ZCm5LiA6Ie0XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHM/LnR5cGUgIT0gZF9jb2xfZmllbGRzPy50eXBlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sID0ge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRvX2NvbDogb19jb2wsXHJcblx0XHRcdFx0XHRcdFx0XHRcdGRfY29sOiBkX2NvbFxyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QucHVzaCBjb2xcclxuXHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0IyDotYvlgLxcclxuXHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyAgJz09PT09PWNvbHVtbl9saXN0PT09PT09PScsY29sdW1uX2xpc3RcclxuXHJcblx0XHRcdFx0XHRcdHRyYWNlcyA9IG9faW5zPy50cmFjZXNcclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qEIHN0ZXAgXHJcblx0XHRcdFx0XHRcdHRyYWNlID0gdHJhY2VzW3RyYWNlcy5sZW5ndGgtMV1cclxuXHJcblx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5b2T5YmN5q2l6aqkXHJcblx0XHRcdFx0XHRcdGFwcHJvdmUgPSB0cmFjZT8uYXBwcm92ZXNbMF1cclxuXHJcblx0XHRcdFx0XHRcdCMg5YWD55Sz6K+35Y2V55qE5b2T5YmNIHZhbHVlIOeahCDlrZDooahcclxuXHRcdFx0XHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tvX3RhYmxlXSB8fCBbXVxyXG5cclxuXHJcblx0XHRcdFx0XHRcdCMg5qC55o2uIGNvbHVtbl9saXN0IOi1i+WAvOWvueW6lOWtl+autei/m+ihjOi1i+WAvFxyXG5cdFx0XHRcdFx0XHQjIOW+queOr+WIhuWPkeeUs+ivt+WNleeahOavj+ihjFxyXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoIChkX3JvdyktPlxyXG5cdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJkX3Jvd1wiLGRfcm93XHJcblx0XHRcdFx0XHRcdFx0IyDmn6Xmib7ljLnphY3nmoTliJfmmK/lkKbkuI7lvZPliY3nmoTljLnphY3liJfkuIDoh7RcclxuXHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRjb3VudCA9IC0xXHJcblx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0IyDnnIvljp/lrZDooajmmK/lkKbmnInor6XljLnphY3liJdcclxuXHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLmZvckVhY2ggKG9fcm93LCBpbmRleCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93XCIsIG9fcm93XHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaW5kZXhcIixpbmRleFxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93W2RfbWF0Y2hfY29sXVwiLGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcIm9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cIixvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRoYXNfb2JqID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjb3VudCA9IGluZGV4XHJcblxyXG5cdFx0XHRcdFx0XHRcdCMg5Y6f55Sz6K+35Y2V55qE5Yy56YWN5a2X5q615pyJ5YC8XHJcblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImhhc19vYmpcIixoYXNfb2JqXHJcblx0XHRcdFx0XHRcdFx0aWYgaGFzX29iaj09dHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGFbY291bnRdW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YSA9IHt9XHJcblx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdGNvbHVtbl9saXN0LmZvckVhY2ggKGNvbCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRyb3dfZGF0YVtjb2w/Lm9fY29sXSA9IGRfcm93W2NvbD8uZF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHR0YWJsZV9kYXRhLnB1c2ggcm93X2RhdGFcclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucz8udmFsdWVzXHJcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGFcclxuXHJcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUob19pbnNfaWQse1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6e1xyXG5cdFx0XHRcdFx0XHRcdFx0J3RyYWNlcyc6dHJhY2VzXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0XHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcclxuXHRjYXRjaCBlXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdGVycm9yczogW2VdXHJcblx0XHRcdH1cclxuXHRcdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFfdGFibGUsIGFfdGFibGVfdmFsdWVzLCBhcHByb3ZlLCBjb2x1bW5fbGlzdCwgY29sdW1ucywgZF9pbnMsIGRfaW5zX2ZpZWxkcywgZF9pbnNfZm9ybSwgZF9pbnNfdmFsdWVzLCBkX21hdGNoX2NvbCwgZF9tYXRjaF9jb2xfZmllbGQsIGRfbWF0Y2hfY29sX2ZpZWxkcywgZF9zdWJ0YWJsZV9maWVsZHMsIGRfdGFibGUsIGRfdGFibGVfdmFsdWVzLCBlLCBvX2lucywgb19pbnNfZmllbGRzLCBvX2luc19mb3JtLCBvX2luc19pZCwgb19tYXRjaF9jb2wsIG9fbWF0Y2hfY29sX2ZpZWxkLCBvX21hdGNoX2NvbF9maWVsZHMsIG9fc3VidGFibGVfZmllbGRzLCBvX3RhYmxlLCByZWYsIHJlZjEsIHJlZjEwLCByZWYxMSwgcmVmMTIsIHJlZjEzLCByZWYxNCwgcmVmMTUsIHJlZjE2LCByZWYxNywgcmVmMTgsIHJlZjE5LCByZWYyLCByZWYyMCwgcmVmMjEsIHJlZjIyLCByZWYzLCByZWY0LCByZWY1LCByZWY2LCByZWY3LCByZWY4LCByZWY5LCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICB0cnkge1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9UYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWOn+ihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeeOsOihqOWNleeahOWtkOihqOWMuemFjeWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5kTWF0Y2hDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5yZWZpbGxDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQucmVmaWxsQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBkX2lucyA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEuYm9keSkgIT0gbnVsbCA/IHJlZjUuaW5zdGFuY2UgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuc3RhdGUgOiB2b2lkIDApID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYub1RhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgIG9fdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNy5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY4ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOC5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBkX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmOSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjkuZFRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIGRfdGFibGUgPSBvX3RhYmxlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEwLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGFfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWYxMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjExLmFUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVxICE9IG51bGwgPyAocmVmMTIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgICBvX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjEzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTMub01hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE0LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSByZXEgIT0gbnVsbCA/IChyZWYxNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE1LmRNYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZF9tYXRjaF9jb2wgPSBvX21hdGNoX2NvbDtcbiAgICAgICAgICB9XG4gICAgICAgICAgY29sdW1ucyA9IChyZXEgIT0gbnVsbCA/IChyZWYxNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjE2LnJlZmlsbENvbC5zcGxpdCgnOycpIDogdm9pZCAwIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICBjb25zb2xlLmxvZyhcImNvbHVtbnNcIiwgY29sdW1ucyk7XG4gICAgICAgICAgaWYgKGNvbHVtbnMgfHwgY29sdW1ucy5sZW5ndGggPCAxKSB7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PT09PT09PT09PT09PT1cIik7XG4gICAgICAgICAgICBjb25zb2xlLmxvZyhkX3RhYmxlLCBvX21hdGNoX2NvbCwgY29sdW1ucyk7XG4gICAgICAgICAgICBkX2luc192YWx1ZXMgPSBkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgb19pbnNfaWQgPSBfLmxhc3QoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgOiB2b2lkIDApO1xuICAgICAgICAgICAgb19pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvX2luc19pZCk7XG4gICAgICAgICAgICBvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBkX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIG9fc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBkX2luc19maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfc3VidGFibGVfZmllbGRzID0gW107XG4gICAgICAgICAgICBjb2x1bW5fbGlzdCA9IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSBbXTtcbiAgICAgICAgICAgIGlmICgob19pbnMgIT0gbnVsbCA/IG9faW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvX2luc19mb3JtICE9IG51bGwgPyAocmVmMTcgPSBvX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYxNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOCA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE4LmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob19pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICBpZiAoKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBvX3RhYmxlKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gb19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBpZiAoKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxOSA9IG9faW5zX2Zvcm0uaGlzdG9yeXMpICE9IG51bGwgPyByZWYxOS5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgICAgICAgIG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IG9oICE9IG51bGwgPyBvaC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChkX2lucyAhPSBudWxsID8gZF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKGRfaW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYyMCA9IGRfaW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjIwLl9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIxID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihkX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgoKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBkX3RhYmxlKSB8fCAoYV90YWJsZSAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGFfdGFibGUpKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gZF9zdWJ0YWJsZV9maWVsZHMgPSBkX3N1YnRhYmxlX2ZpZWxkcy5jb25jYXQoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIyID0gZF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjIyLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgZF9pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKGRoKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBkaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgZF9pbnNfZmllbGRzID0gZGggIT0gbnVsbCA/IGRoLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAob19zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIGNvbnNvbGUubG9nKFwib19zdWJ0YWJsZV9maWVsZHNcIiwgb19zdWJ0YWJsZV9maWVsZHMpO1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRfdGFibGVfdmFsdWVzID0gKGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXNbZF90YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgaWYgKGFfdGFibGUpIHtcbiAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1thX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICAgIGlmIChhX3RhYmxlX3ZhbHVlcyAmJiAoYV90YWJsZV92YWx1ZXMgIT0gbnVsbCA/IGFfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPT09IChkX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gZF90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgIGFfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24oYV9yb3csIGluZGV4KSB7XG4gICAgICAgICAgICAgICAgICB2YXIga2V5LCByZXN1bHRzLCB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgIHJlc3VsdHMgPSBbXTtcbiAgICAgICAgICAgICAgICAgIGZvciAoa2V5IGluIGFfcm93KSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gYV9yb3dba2V5XTtcbiAgICAgICAgICAgICAgICAgICAgcmVzdWx0cy5wdXNoKGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUpO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJlc3VsdHM7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3RhYmxlX3ZhbHVlcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaVsOaNruS4uuepuicpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgb19tYXRjaF9jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfbWF0Y2hfY29sO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAob19tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoZF9tYXRjaF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXTtcbiAgICAgICAgICAgIGRfbWF0Y2hfY29sX2ZpZWxkID0gZF9tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgaWYgKChvX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gb19tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkgIT09IChkX21hdGNoX2NvbF9maWVsZCAhPSBudWxsID8gZF9tYXRjaF9jb2xfZmllbGQudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWSjOWOn+eUs+ivt+WNleWtkOihqOeahOWMuemFjeWIl+Wtl+auteS4jeS4gOiHtCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY29sdW1ucy5mb3JFYWNoKGZ1bmN0aW9uKGNvbHVtbikge1xuICAgICAgICAgICAgICB2YXIgY29sLCBjb2xzLCBkX2NvbCwgZF9jb2xfZmllbGRzLCBvX2NvbCwgb19jb2xfZmllbGRzO1xuICAgICAgICAgICAgICBjb2xzID0gY29sdW1uLnNwbGl0KCctJykgfHwgW107XG4gICAgICAgICAgICAgIGlmIChjb2xzLmxlbmd0aCA9PT0gMikge1xuICAgICAgICAgICAgICAgIG9fY29sID0gY29sc1swXTtcbiAgICAgICAgICAgICAgICBkX2NvbCA9IGNvbHNbMV07XG4gICAgICAgICAgICAgICAgb19jb2xfZmllbGRzID0gb19zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IG9fY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcihmdW5jdGlvbihtKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBkX2NvbDtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICBpZiAob19jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoZF9jb2xfZmllbGRzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBpZiAoKG9fY29sX2ZpZWxkcyAhPSBudWxsID8gb19jb2xfZmllbGRzLnR5cGUgOiB2b2lkIDApICE9PSAoZF9jb2xfZmllbGRzICE9IG51bGwgPyBkX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJflrZfmrrXnsbvlnovkuI3kuIDoh7QnKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgY29sID0ge1xuICAgICAgICAgICAgICAgICAgb19jb2w6IG9fY29sLFxuICAgICAgICAgICAgICAgICAgZF9jb2w6IGRfY29sXG4gICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QucHVzaChjb2wpO1xuICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICflm57loavliJfkuI3ljLnphY0nKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgICAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbb190YWJsZV0gOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihkX3Jvdykge1xuICAgICAgICAgICAgICB2YXIgY291bnQsIGhhc19vYmosIHJvd19kYXRhO1xuICAgICAgICAgICAgICBoYXNfb2JqID0gZmFsc2U7XG4gICAgICAgICAgICAgIGNvdW50ID0gLTE7XG4gICAgICAgICAgICAgIHRhYmxlX2RhdGEuZm9yRWFjaChmdW5jdGlvbihvX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICBpZiAob19yb3dbb19tYXRjaF9jb2xdID09PSBkX3Jvd1tkX21hdGNoX2NvbF0pIHtcbiAgICAgICAgICAgICAgICAgIGhhc19vYmogPSB0cnVlO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNvdW50ID0gaW5kZXg7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKGhhc19vYmogPT09IHRydWUpIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0YWJsZV9kYXRhW2NvdW50XVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgcm93X2RhdGEgPSB7fTtcbiAgICAgICAgICAgICAgICByb3dfZGF0YVtvX21hdGNoX2NvbF0gPSBkX3Jvd1tkX21hdGNoX2NvbF07XG4gICAgICAgICAgICAgICAgY29sdW1uX2xpc3QuZm9yRWFjaChmdW5jdGlvbihjb2wpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiByb3dfZGF0YVtjb2wgIT0gbnVsbCA/IGNvbC5vX2NvbCA6IHZvaWQgMF0gPSBkX3Jvd1tjb2wgIT0gbnVsbCA/IGNvbC5kX2NvbCA6IHZvaWQgMF07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGEucHVzaChyb3dfZGF0YSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXMgPSBvX2lucyAhPSBudWxsID8gb19pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgICAgICAgICAgdHJhY2VzW3RyYWNlcy5sZW5ndGggLSAxXS5hcHByb3Zlc1swXS52YWx1ZXNbb190YWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCwge1xuICAgICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICAgJ3RyYWNlcyc6IHRyYWNlc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAgICAgJ3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7lrZDooajlm57loavliJflrZfmrrUgY29sdW1ucyDlgLwnKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ3dlYmhvb2vmnKrphY3nva7ljLnphY3liJflrZfmrrUgb01hdGNoQ29sIOWAvCcpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWOn+ihqOWNleWtkOihqCBvVGFibGUg5YC8Jyk7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfnlLPor7fljZXmnKrnu5PmnZ8nKTtcbiAgICB9XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW2VdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnN1YlRhYmxlXCIscmVxPy5xdWVyeT8uc3ViVGFibGVcclxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIlxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3VtQ29sXCIscmVxPy5xdWVyeT8uc3VtQ29sXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajmjpLluo/liJc9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNvcnRDb2xcIixyZXE/LnF1ZXJ5Py5zb3J0Q29sXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCJcclxuICAgICAgICBjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIixyZXE/LnF1ZXJ5Py5zaW5nbGVDb2xzXHJcbiAgICAgICAgXHJcbiAgICAgICAgXHJcbiAgICAgICAgc3ViX3RhYmxlID0gcmVxPy5xdWVyeT8uc3ViVGFibGVcclxuICAgICAgICBpZiAhc3ViX3RhYmxlXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdWJfdGFibGU9PT09PT1cIlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgc3VtX2NvbCA9IHJlcT8ucXVlcnk/LnN1bUNvbFxyXG4gICAgICAgIGlmICFzdW1fY29sXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zdW1fY29sPT09PT09XCJcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScgKTtcclxuICAgICAgICBcclxuICAgICAgICBzb3J0X2NvbCA9IHJlcT8ucXVlcnk/LnNvcnRDb2xcclxuICAgICAgICBpZiAhc29ydF9jb2xcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXNvcnRfY29sPT09PT09XCJcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgIyBzaW5nbGVfY29scyA9IHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcclxuICAgICAgICAjIGlmICFzaW5nbGVfY29sc1xyXG4gICAgICAgICMgICAgIGNvbnNvbGUubG9nIFwiPT09PT1zaW5nbGVfY29scz09PT09PVwiXHJcblxyXG4gICAgICAgICMgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHNpbmdsZUNvbHMg5a2X5q61JyApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIGlucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcclxuICAgICAgICBcclxuICAgICAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdXHJcbiAgICAgICAgXHJcbiAgICAgICAgaWYgc3ViX3RhYmxlX3ZhbHVlcz8ubGVuZ3RoID4gMCBcclxuICAgICAgICAgICAgIyAjIOagueaNriBzdWJfdGFibGVfdmFsdWVzIOi/m+ihjOaOkuW6j1xyXG4gICAgICAgICAgICAjID09PT09PT09PT09PT09PT09PT09PT1cclxuICAgICAgICAgICAgIyDmjpLluo/lrZfmrrXvvIzlhbPplK7lrZfvvIzmraPluo8odHJ1ZSkv5YCS5bqPKGZhbHNlKVxyXG4gICAgICAgICAgICBgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xyXG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XHJcbiAgICAgICAgICAgICAgICAgICAgdmFyIHRlbXAgPSBqc29uQXJyW2pdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYoYXNjPT10cnVlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKTx2YWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcclxuICAgICAgICAgICAgfWBcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLHN1bV9jb2wsZmFsc2UpXHJcblxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIm5ld190YWJsZV92YWx1ZXNcIixuZXdfdGFibGVfdmFsdWVzXHJcblxyXG4gICAgICAgICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2ggKG9iaiwgaW5kZXgpLT5cclxuICAgICAgICAgICAgICAgIGlmIHNvcnRfY29sIGFuZCBvYmpbc3VtX2NvbF1cclxuICAgICAgICAgICAgICAgICAgICBvYmpbc29ydF9jb2xdID0gKGluZGV4KzEpLnRvU3RyaW5nKClcclxuICAgICAgICAgICAgXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcclxuXHJcbiAgICAgICAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXNcclxuXHJcbiAgICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zLl9pZCx7XHJcbiAgICAgICAgICAgICAgICAkc2V0OntcclxuICAgICAgICAgICAgICAgICAgICAndmFsdWVzJzppbnMudmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSlcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwic3VjY2Vzc1wiXHJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICforqHnrpfmjpLluo/miJDlip8nXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICBlbHNlXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xyXG4gICAgY2F0Y2ggZVxyXG4gICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICBkYXRhOiB7XHJcbiAgICAgICAgICAgICAgICBlcnJvcnM6IFtlXVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfVxyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9zdWJfdGFibGVfc29ydFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgaW5zLCBuZXdfdGFibGVfdmFsdWVzLCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHNvcnRfY29sLCBzdWJfdGFibGUsIHN1Yl90YWJsZV92YWx1ZXMsIHN1bV9jb2w7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaAu+WIhuWIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIiwgcmVxICE9IG51bGwgPyAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zb3J0Q29sXCIsIHJlcSAhPSBudWxsID8gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5Y2V5YiX6ZyA6KaB6K6h566X55qE5ZKMPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcIiwgcmVxICE9IG51bGwgPyAocmVmMyA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjMuc2luZ2xlQ29scyA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgc3ViX3RhYmxlID0gcmVxICE9IG51bGwgPyAocmVmNCA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjQuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzdWJfdGFibGUpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdWJfdGFibGU9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdWJUYWJsZSDlrZfmrrUnKTtcbiAgICB9XG4gICAgc3VtX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LnN1bUNvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1bV9jb2wpIHtcbiAgICAgIGNvbnNvbGUubG9nKFwiPT09PT1zdW1fY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc3VtQ29sIOWtl+autScpO1xuICAgIH1cbiAgICBzb3J0X2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY2LnNvcnRDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKCFzb3J0X2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXNvcnRfY29sPT09PT09XCIpO1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc29ydENvbCDlrZfmrrUnKTtcbiAgICB9XG4gICAgaW5zID0gcmVxICE9IG51bGwgPyAocmVmNyA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNy5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzdWJfdGFibGVfdmFsdWVzID0gaW5zLnZhbHVlc1tzdWJfdGFibGVdO1xuICAgIGlmICgoc3ViX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gc3ViX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApID4gMCkge1xuICAgICAgZnVuY3Rpb24gSnNvblNvcnQoanNvbkFyciwga2V5LCBhc2Mpe1xuICAgICAgICAgICAgICAgIGZvcih2YXIgaj0xLGpsPWpzb25BcnIubGVuZ3RoO2ogPCBqbDtqKyspe1xuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWwgID0gTnVtYmVyKHRlbXBba2V5XSksXG4gICAgICAgICAgICAgICAgICAgICAgICBpICAgID0gai0xO1xuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk+dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpID0gaS0xOyAgICBcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSB0ZW1wO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICByZXR1cm4ganNvbkFycjtcbiAgICAgICAgICAgIH07XG4gICAgICBuZXdfdGFibGVfdmFsdWVzID0gSnNvblNvcnQoc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbCwgZmFsc2UpO1xuICAgICAgY29uc29sZS5sb2coXCJuZXdfdGFibGVfdmFsdWVzXCIsIG5ld190YWJsZV92YWx1ZXMpO1xuICAgICAgbmV3X3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKG9iaiwgaW5kZXgpIHtcbiAgICAgICAgaWYgKHNvcnRfY29sICYmIG9ialtzdW1fY29sXSkge1xuICAgICAgICAgIHJldHVybiBvYmpbc29ydF9jb2xdID0gKGluZGV4ICsgMSkudG9TdHJpbmcoKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBpbnMudmFsdWVzW3N1Yl90YWJsZV0gPSBuZXdfdGFibGVfdmFsdWVzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLCB7XG4gICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAndmFsdWVzJzogaW5zLnZhbHVlc1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwic3VjY2Vzc1wiKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ+WtkOihqOaVsOaNruS4uuepuicpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJpZiBNZXRlb3IuaXNEZXZlbG9wbWVudFxyXG4gICAgSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL3Rlc3Qvd2ViaG9vaycsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuICAgICAgICB0cnlcclxuXHJcbiAgICAgICAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHlcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2FjdGlvbjogJywgaGFzaERhdGEuYWN0aW9uXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICdmcm9tX3VzZXI6ICcsIGhhc2hEYXRhLmZyb21fdXNlclxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAndG9fdXNlcnM6ICcsIGhhc2hEYXRhLnRvX3VzZXJzXHJcblxyXG5cclxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuICAgICAgICAgICAgICAgICAgICBjb2RlOiAyMDBcclxuICAgICAgICAgICAgICAgICAgICBkYXRhOiB7fVxyXG4gICAgICAgIGNhdGNoIGVcclxuICAgICAgICAgICAgY29uc29sZS5lcnJvciBlLnN0YWNrXHJcbiAgICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcbiAgICAgICAgICAgICAgICBjb2RlOiAyMDBcclxuICAgICAgICAgICAgICAgIGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfSIsImlmIChNZXRlb3IuaXNEZXZlbG9wbWVudCkge1xuICBKc29uUm91dGVzLmFkZCgncG9zdCcsICcvdGVzdC93ZWJob29rJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgZSwgaGFzaERhdGE7XG4gICAgdHJ5IHtcbiAgICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgICBjb25zb2xlLmxvZygnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb24pO1xuICAgICAgY29uc29sZS5sb2coJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyKTtcbiAgICAgIGNvbnNvbGUubG9nKCd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnMpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7fVxuICAgICAgfSk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfSk7XG59XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvdXNlcnNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cclxuXHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzXHJcblx0c3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWRcclxuXHRzcGFjZVVzZXJzID0gW107XHJcblxyXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxyXG5cdGlmICFzcGFjZV91c2VyXHJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdGlmICghdXNlcklkcyB8fCAhc3BhY2VJZClcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKVxyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRjb2RlOiAyMDAsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdCdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xyXG5cdFx0fVxyXG5cdH1cclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgc3BhY2VJZCwgc3BhY2VVc2Vycywgc3BhY2VfdXNlciwgdXNlcklkcztcbiAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlVXNlcnMgPSBbXTtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIXVzZXJJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFVc2VyT2JqZWN0cyhzcGFjZUlkLCB1c2VySWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL29yZ3NcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHRvcmdJZHMgPSByZXEuYm9keS5vcmdJZHNcclxuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxyXG5cclxuXHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogY3VycmVudF91c2VyLCBzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcclxuXHRpZiAhc3BhY2VfdXNlclxyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfml6DmnYPpmZAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZClcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhT3JnT2JqZWN0cyhvcmdJZHMpXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J29yZ3MnOiBvcmdzXHJcblx0XHR9XHJcblx0fSk7XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgb3JnSWRzLCBvcmdzLCBzcGFjZUlkLCBzcGFjZV91c2VyO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkcztcbiAgc3BhY2VJZCA9IHJlcS5ib2R5LnNwYWNlSWQ7XG4gIHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICB1c2VyOiBjdXJyZW50X3VzZXIsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KTtcbiAgaWYgKCFzcGFjZV91c2VyKSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ2Vycm9ycyc6ICfml6DmnYPpmZAnXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFvcmdJZHMgfHwgIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcyk7XG4gIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgICdvcmdzJzogb3Jnc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIgPSBuZXcgVGFidWxhci5UYWJsZVxyXG5cdFx0bmFtZTogXCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyXCJcclxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlc1xyXG5cdFx0Y29sdW1uczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcclxuXHRcdFx0XHR0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZSxcclxuXHRcdFx0XHR3aWR0aDogJzFweCcsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpbnB1dCA9ICc8aW5wdXQgdHlwZT1cImNoZWNrYm94XCIgY2xhc3M9XCJyZWxhdGVkLWluc3RhbmNlcy1saXN0LWNoZWNrYm94XCIgbmFtZT1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIGlkPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgdmFsdWU9XCInICsgZG9jLl9pZCArICdcIidcclxuXHJcblx0XHRcdFx0XHRpZiBUYWJ1bGFyVGFibGVzLnJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIucmVsYXRlZF9pbnN0YW5jZXM/LmluY2x1ZGVzKGRvYy5faWQpXHJcblx0XHRcdFx0XHRcdGlucHV0ICs9IFwiIGNoZWNrZWQgXCJcclxuXHJcblx0XHRcdFx0XHRpbnB1dCArPSBcIj5cIlxyXG5cdFx0XHRcdFx0cmV0dXJuIGlucHV0XHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxyXG5cdFx0XHRcdHdpZHRoOiAnNDUlJyxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGhyZWYgPSAnJztcclxuXHRcdFx0XHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpXHJcblx0XHRcdFx0XHRcdGhyZWYgPSAnJ1xyXG5cclxuXHRcdFx0XHRcdGFic29sdXRlID0gZmFsc2VcclxuXHJcblx0XHRcdFx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0XHRcdFx0YWJzb2x1dGUgPSB0aGlzLmFic29sdXRlXHJcblx0XHRcdFx0XHRpZiBhYnNvbHV0ZVxyXG5cdFx0XHRcdFx0XHRocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIrZG9jLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aHJlZiA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiPGEgZGF0YS1pZD0nI3tkb2MuX2lkfScgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiK2hyZWYrXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiZmxvd19uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxyXG5cclxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnXHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cclxuXHRcdGRvbTogXCJ0cFwiLFxyXG5cdFx0bGVuZ3RoQ2hhbmdlOiBmYWxzZSxcclxuXHRcdGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcclxuXHRcdHBhZ2VMZW5ndGg6IDEwLFxyXG5cdFx0aW5mbzogZmFsc2UsXHJcblx0XHRzZWFyY2hpbmc6IHRydWUsXHJcblx0XHRyZXNwb25zaXZlOlxyXG5cdFx0XHRkZXRhaWxzOiBmYWxzZVxyXG5cdFx0YXV0b1dpZHRoOiBmYWxzZSxcclxuXHRcdGNoYW5nZVNlbGVjdG9yOiAoc2VsZWN0b3IsIHVzZXJJZCkgLT5cclxuXHRcdFx0dW5sZXNzIHVzZXJJZFxyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cclxuXHJcblx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRzcGFjZUlkID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0XHRcdHJldHVybiB7X2lkOiAtMX1cclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkKVxyXG5cdFx0XHRpZiAhc3BhY2VcclxuXHRcdFx0XHRzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiXHJcblx0XHRcdGlmICFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKVxyXG5cclxuXHRcdFx0XHRmbG93X2lkcyA9IFtdXHJcblx0XHRcdFx0Y3VyU3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XHJcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcclxuXHRcdFx0XHRcdCd1c2VyJzogdXNlcklkXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0XHRpZiBjdXJTcGFjZVVzZXJcclxuXHRcdFx0XHRcdG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xyXG5cdFx0XHRcdFx0XHRfaWQ6IHtcclxuXHRcdFx0XHRcdFx0XHQkaW46IGN1clNwYWNlVXNlci5vcmdhbml6YXRpb25zXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pLmZldGNoKClcclxuXHRcdFx0XHRcdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0pXHJcblx0XHRcdFx0XHRmbG93cy5mb3JFYWNoIChmbCktPlxyXG5cdFx0XHRcdFx0XHRpZiBXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucylcclxuXHRcdFx0XHRcdFx0XHRmbG93X2lkcy5wdXNoKGZsLl9pZClcclxuXHJcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdHNlbGVjdG9yLiRhbmRbMF0uJG9yID0gW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcclxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRfLmV4dGVuZCBzZWxlY3Rvciwge1xyXG5cdFx0XHRcdFx0XHQkb3I6IFt7c3VibWl0dGVyOiB1c2VySWR9LCB7YXBwbGljYW50OiB1c2VySWR9LCB7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtvdXRib3hfdXNlcnM6IHVzZXJJZH0sXHJcblx0XHRcdFx0XHRcdFx0e2NjX3VzZXJzOiB1c2VySWR9LCB7IGZsb3c6IHsgJGluOiBmbG93X2lkcyB9IH1dXHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2VsZWN0b3IiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlKHtcbiAgICBuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICB0aXRsZTogJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBuYW1lPVwicmV2ZXJzZVwiIGlkPVwicmV2ZXJzZVwiPicsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnMXB4JyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBpbnB1dCwgcmVmO1xuICAgICAgICAgIGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJztcbiAgICAgICAgICBpZiAoKHJlZiA9IFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhkb2MuX2lkKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgaW5wdXQgKz0gXCIgY2hlY2tlZCBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQgKz0gXCI+XCI7XG4gICAgICAgICAgcmV0dXJuIGlucHV0O1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibmFtZVwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICB3aWR0aDogJzQ1JScsXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWJzb2x1dGUsIGhyZWY7XG4gICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgKFN0ZWVkb3MuaXNNb2JpbGUoKSB8fCBTdGVlZG9zLmlzQ29yZG92YSgpKSkge1xuICAgICAgICAgICAgaHJlZiA9ICcnO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgICAgICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgICAgICAgIGFic29sdXRlID0gdGhpcy5hYnNvbHV0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGFic29sdXRlKSB7XG4gICAgICAgICAgICBocmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgZG9jLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIChcIjxhIGRhdGEtaWQ9J1wiICsgZG9jLl9pZCArIFwiJyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIpICsgaHJlZiArIFwiJz5cIiArIGRvYy5uYW1lICsgXCI8L2E+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfbmFtZVwiKSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfZmxvd1wiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF0sXG4gICAgZG9tOiBcInRwXCIsXG4gICAgbGVuZ3RoQ2hhbmdlOiBmYWxzZSxcbiAgICBleHRyYUZpZWxkczogW1wic3RhdGVcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcInNwYWNlXCIsIFwia2V5d29yZHNcIl0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgY3VyU3BhY2VVc2VyLCBmbG93X2lkcywgZmxvd3MsIG9yZ2FuaXphdGlvbnMsIHJlZiwgcmVmMSwgc3BhY2UsIHNwYWNlSWQ7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgICAgICAgIHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlSWQpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpO1xuICAgICAgaWYgKCFzcGFjZSkge1xuICAgICAgICBzZWxlY3Rvci5zdGF0ZSA9IFwibm9uZVwiO1xuICAgICAgfVxuICAgICAgaWYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSkge1xuICAgICAgICBmbG93X2lkcyA9IFtdO1xuICAgICAgICBjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VJZCxcbiAgICAgICAgICAndXNlcic6IHVzZXJJZFxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGN1clNwYWNlVXNlcikge1xuICAgICAgICAgIG9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICAgICAgX2lkOiB7XG4gICAgICAgICAgICAgICRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICAgIGZsb3dzID0gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogc3BhY2VJZFxuICAgICAgICAgIH0pO1xuICAgICAgICAgIGZsb3dzLmZvckVhY2goZnVuY3Rpb24oZmwpIHtcbiAgICAgICAgICAgIGlmIChXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSB8fCBXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZmwsIGN1clNwYWNlVXNlciwgb3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgICAgICAgcmV0dXJuIGZsb3dfaWRzLnB1c2goZmwuX2lkKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoKHNlbGVjdG9yICE9IG51bGwgPyAocmVmMSA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGFwcGxpY2FudDogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgJGluOiBmbG93X2lkc1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgXTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmV4dGVuZChzZWxlY3Rvciwge1xuICAgICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICBzdWJtaXR0ZXI6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGluYm94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIG91dGJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBmbG93OiB7XG4gICAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICBdXG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJTdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKVxyXG5cclxuXHJcbl9oYW5kbGVMaXN0RmllbGRzID0gKGZpZWxkcykgLT5cclxuXHRpbnNfZmllbGRzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdGZpZWxkcz8uZm9yRWFjaCAoZiktPlxyXG5cdFx0aWYgZi50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0Y29uc29sZS5sb2cgJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJ1xyXG5cdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdGY/LmZpZWxkcz8uZm9yRWFjaCAoZjEpLT5cclxuXHRcdFx0XHRpbnNfZmllbGRzLnB1c2ggZjFcclxuXHRcdGVsc2VcclxuXHRcdFx0aW5zX2ZpZWxkcy5wdXNoIGZcclxuXHJcblx0cmV0dXJuIGluc19maWVsZHNcclxuXHJcblxyXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSAoKS0+XHJcblxyXG4jIOWmguaenGNvbHVtbnPmnInliqDlh4/vvIzor7fkv67mlLlUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMg5Ye95pWwXHJcbmluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIgPSAoZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRvcHRpb25zID0ge1xyXG5cdFx0bmFtZTogXCJpbnN0YW5jZXNcIixcclxuXHRcdGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcclxuXHRcdHB1YjogXCJpbnN0YW5jZV90YWJ1bGFyXCIsXHJcblx0XHRvblVubG9hZDogKCktPlxyXG5cdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcclxuXHJcblx0XHRkcmF3Q2FsbGJhY2s6IChzZXR0aW5ncyktPlxyXG5cdFx0XHRlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpXHJcblx0XHRcdGlmIGVtcHR5VGQubGVuZ3RoXHJcblx0XHRcdFx0ZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCJcclxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpXHJcblx0XHRcdFx0TWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApXHJcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeSAtPlxyXG5cdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIilcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdCQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMClcclxuXHJcblx0XHRcdHRpdGxlID0gdCBcInBhZ2VyX2lucHV0X2hpbnRcIlxyXG5cdFx0XHRlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJylcclxuXHRcdFx0ZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayAtPlxyXG5cdFx0XHRcdGlmICEkKHRoaXMpLmZpbmQoJ2lucHV0JykubGVuZ3RoXHJcblx0XHRcdFx0XHRpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpXHJcblx0XHRcdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcclxuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxyXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIyMHB4XCJcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aW5wdXQuY3NzKHtcclxuXHRcdFx0XHRcdFx0XHR3aWR0aDpcIjUycHhcIlxyXG5cdFx0XHRcdFx0XHRcdGhlaWdodDogXCIxNnB4XCJcclxuXHRcdFx0XHRcdFx0fSlcclxuXHRcdFx0XHRcdGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKVxyXG5cdFx0XHRcdFx0JCh0aGlzKS5lbXB0eSgpLmFwcGVuZCBpbnB1dFxyXG5cdFx0XHRcdFx0Z29QYWdlID0gKGluZGV4KS0+XHJcblx0XHRcdFx0XHRcdGlmIGluZGV4ID4gMFxyXG5cdFx0XHRcdFx0XHRcdHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aClcclxuXHRcdFx0XHRcdFx0XHRpZiBpbmRleCA+IHBhZ2VzXHJcblx0XHRcdFx0XHRcdFx0XHQjIOmhteeggei2heWHuue0ouW8leaXtui3s+i9rOWIsOacgOWQjuS4gOmhtVxyXG5cdFx0XHRcdFx0XHRcdFx0aW5kZXggPSBwYWdlc1xyXG5cdFx0XHRcdFx0XHRcdGluZGV4LS1cclxuXHRcdFx0XHRcdFx0XHRzZXR0aW5ncy5vSW5zdGFuY2UuRGF0YVRhYmxlKCkucGFnZShpbmRleCkuZHJhdygncGFnZScpXHJcblx0XHRcdFx0XHRpbnB1dC5ibHVyIChlKS0+XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxyXG5cdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2VcclxuXHRcdFx0XHRcdFx0JCh0aGlzKS5wYXJlbnQoKS5odG1sICcuLi4nXHJcblx0XHRcdFx0XHRpbnB1dC5rZXlkb3duIChlKS0+XHJcblx0XHRcdFx0XHRcdGlmKGUua2V5Q29kZS50b1N0cmluZygpID09IFwiMTNcIilcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKClcclxuXHRcdFx0XHRcdFx0XHRnb1BhZ2UgY3VycmVudFBhZ2VcclxuXHJcblx0XHRjcmVhdGVkUm93OiAocm93LCBkYXRhLCBkYXRhSW5kZXgpIC0+XHJcblx0XHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRcdGlmIGRhdGEuX2lkID09IEZsb3dSb3V0ZXIuY3VycmVudCgpLnBhcmFtcy5pbnN0YW5jZUlkXHJcblx0XHRcdFx0XHRyb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKVxyXG5cdFx0Y29sdW1uczogW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJfaWRcIixcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xyXG5cclxuXHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkXHJcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPSAnZHJhZnQnXHJcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkXHJcblxyXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InXHJcblx0XHRcdFx0XHRcdG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZVxyXG5cclxuXHRcdFx0XHRcdG1vZGlmaWVkRnJvbU5vdyA9IFN0ZWVkb3MubW9tZW50UmVhY3RpdmVGcm9tTm93KG1vZGlmaWVkKTtcclxuXHRcdFx0XHRcdGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWVcclxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXHJcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXHJcblx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWVcclxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTxzcGFuPigje2RvYy5jdXJyZW50X3N0ZXBfbmFtZX0pPC9zcGFuPjwvZGl2PlwiXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPiN7Zmxvd19uYW1lfTwvZGl2PlwiXHJcblxyXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXHJcblxyXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcclxuXHJcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXHJcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXHJcblxyXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uID0gXCJcIlxyXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXHJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcclxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXHJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xyXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSAje2luc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3N9Jz4je2RvYy5uYW1lfSN7Y2Nfdmlld30je2FnZW50X3ZpZXd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuPiN7ZG9jLmFwcGxpY2FudF9uYW1lfTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz4je3N0ZXBfY3VycmVudF9uYW1lX3ZpZXd9XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPSdpbnN0YW5jZS1tb2RpZmllZCcgdGl0bGU9JyN7bW9kaWZpZWRTdHJpbmd9Jz4je21vZGlmaWVkRnJvbU5vd308L3NwYW4+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJuYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfbmFtZVwiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGNjX3ZpZXcgPSBcIlwiO1xyXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHQjIOW9k+WJjeeUqOaIt+WcqGNjIHVzZXLkuK3vvIzkvYbmmK/kuI3lnKhpbmJveCB1c2Vyc+aXtuaJjeaYvuekuifkvKDpmIUn5paH5a2XXHJcblx0XHRcdFx0XHRpZiBkb2MuaXNfY2MgJiYgIWRvYy5pbmJveF91c2Vycz8uaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0XHRcdGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiXHJcblxyXG5cdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHRpZiBkb2MuYWdlbnRfdXNlcl9uYW1lXHJcblx0XHRcdFx0XHRcdGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZX0pICsgXCIpPC9sYWJlbD5cIlxyXG5cclxuXHRcdFx0XHRcdHVucmVhZCA9ICcnXHJcblxyXG5cdFx0XHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PSBmYWxzZVxyXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+J1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PSB0cnVlXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+J1xyXG5cclxuXHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIlxyXG5cdFx0XHRcdFx0cHJpb3JpdHlWYWx1ZSA9IGRvYy52YWx1ZXM/LnByaW9yaXR5XHJcblx0XHRcdFx0XHRzd2l0Y2ggcHJpb3JpdHlWYWx1ZVxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi54m55oClXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCJcclxuXHRcdFx0XHRcdFx0d2hlbiBcIue0p+aApVwiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIlxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi5Yqe5paHXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIlxyXG5cdFx0XHRcdFx0aWYgcHJpb3JpdHlJY29uQ2xhc3NcclxuXHRcdFx0XHRcdFx0aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktI3twcmlvcml0eUljb25DbGFzc31cIlxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz4je3VucmVhZH08L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld308L2Rpdj5cclxuXHRcdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwic3VibWl0X2RhdGVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdWJtaXRfZGF0ZVwiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYy5zdWJtaXRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdWJtaXRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XHJcblx0XHRcdFx0LFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJmbG93X25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGVwX2N1cnJlbnRfbmFtZVwiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlmIGRvYy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdFx0XHRcdGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIlxyXG5cclxuXHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnXHJcblxyXG5cdFx0XHRcdFx0Y2NfdGFnID0gJydcclxuXHJcblx0XHRcdFx0XHRpZiBkb2MuY2NfY291bnQgPiAwXHJcblx0XHRcdFx0XHRcdGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpXHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIFwiXCJcIlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlcC1jdXJyZW50LXN0YXRlICN7anVkZ2V9XCI+I3tzdGVwX2N1cnJlbnRfbmFtZX0je2NjX3RhZ308L2Rpdj5cclxuXHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcInN0YXJ0X2RhdGVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XHJcblx0XHRcdFx0LFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJteV9maW5pc2hfZGF0ZVwiLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLm15X2ZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm1vZGlmaWVkXCIsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwia2V5d29yZHNcIixcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJpc19hcmNoaXZlZFwiLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jPy52YWx1ZXM/LnJlY29yZF9uZWVkICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT0gXCJ0cnVlXCJcclxuXHRcdFx0XHRcdFx0aWYgZG9jPy5pc19hcmNoaXZlZFxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiB0KFwiWUVTXCIpXHJcblx0XHRcdFx0XHRcdHJldHVybiB0KFwiTk9cIilcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fVxyXG5cdFx0XSxcclxuXHRcdGRvbTogZG8gLT5cclxuXHRcdFx0IyDmiYvmnLrkuIrkuI3mmL7npLrkuIDpobXmmL7npLrlpJrlsJHmnaHorrDlvZXpgInpoblcclxuXHRcdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdFx0J3RwJ1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0J3RwbCdcclxuXHRcdG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXHJcblx0XHRleHRyYUZpZWxkczogW1wiZm9ybVwiLCBcImZsb3dcIiwgXCJpbmJveF91c2Vyc1wiLCBcInN0YXRlXCIsIFwic3BhY2VcIiwgXCJhcHBsaWNhbnRcIiwgXCJmb3JtX3ZlcnNpb25cIixcclxuXHRcdFx0XCJmbG93X3ZlcnNpb25cIiwgXCJpc19jY1wiLCBcImNjX2NvdW50XCIsIFwiaXNfcmVhZFwiLCBcImN1cnJlbnRfc3RlcF9uYW1lXCIsIFwidmFsdWVzXCIsIFwia2V5d29yZHNcIiwgXCJmaW5hbF9kZWNpc2lvblwiLCBcImZsb3dfbmFtZVwiLCBcImlzX2hpZGRlblwiLCBcImFnZW50X3VzZXJfbmFtZVwiXSxcclxuXHRcdGxlbmd0aENoYW5nZTogdHJ1ZSxcclxuXHRcdGxlbmd0aE1lbnU6IFsxMCwxNSwyMCwyNSw1MCwxMDBdLFxyXG5cdFx0cGFnZUxlbmd0aDogMTAsXHJcblx0XHRpbmZvOiBmYWxzZSxcclxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcclxuXHRcdHJlc3BvbnNpdmU6XHJcblx0XHRcdGRldGFpbHM6IGZhbHNlXHJcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxyXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxyXG5cdFx0XHR1bmxlc3MgdXNlcklkXHJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxyXG5cdFx0XHRzcGFjZSA9IHNlbGVjdG9yLnNwYWNlXHJcblx0XHRcdHVubGVzcyBzcGFjZVxyXG5cdFx0XHRcdGlmIHNlbGVjdG9yPy4kYW5kPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF1cclxuXHRcdFx0dW5sZXNzIHNwYWNlXHJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxyXG5cdFx0XHRzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7dXNlcjogdXNlcklkLCBzcGFjZTogc3BhY2V9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXHJcblx0XHRcdHVubGVzcyBzcGFjZV91c2VyXHJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxyXG5cdFx0XHRyZXR1cm4gc2VsZWN0b3JcclxuXHRcdHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXHJcblxyXG5cdH1cclxuXHJcblx0aWYgZmxvd0lkXHJcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkXHJcblxyXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XHJcblxyXG5cdFx0VGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzXHJcblxyXG5cdFx0aW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkc1xyXG5cclxuXHRcdGluc19maWVsZHMuZm9yRWFjaCAoZiktPlxyXG5cdFx0XHRpZiBmLnR5cGUgIT0gJ3RhYmxlJyAmJiBmLmlzX2xpc3RfZGlzcGxheVxyXG5cdFx0XHRcdG9wdGlvbnMuY29sdW1ucy5wdXNoXHJcblx0XHRcdFx0XHRkYXRhOiAoZi5uYW1lIHx8IGYuY29kZSksXHJcblx0XHRcdFx0XHR0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcclxuXHRcdFx0XHRcdHZpc2libGU6IGZhbHNlLFxyXG5cdFx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblxyXG5cdFx0XHRcdFx0XHR2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9XHJcblxyXG5cdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlc1tmLmNvZGVdXHJcblxyXG5cdFx0XHRcdFx0XHRzd2l0Y2ggZi50eXBlXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAndXNlcidcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdncm91cCdcclxuXHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWU/LmZ1bGxuYW1lXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZSdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gbW9tZW50KHZhbHVlKS5mb3JtYXQoJ1lZWVktTU0tREQnKVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2RhdGVUaW1lJ1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnY2hlY2tib3gnXHJcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZSA9PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdvZGF0YSdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIF8uaXNBcnJheSh2YWx1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IF8ucGx1Y2sodmFsdWUsICdAbGFiZWwnKS50b1N0cmluZygpXHJcblx0XHRcdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuIHZhbHVlXHJcblxyXG5cclxuXHRyZXR1cm4gb3B0aW9ucztcclxuXHJcbk1ldGVvci5zdGFydHVwICgpLT5cclxuXHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKVxyXG5cclxuXHJcbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkXHJcblx0aWYgYm94ID09IFwiaW5ib3hcIlxyXG5cdFx0b3B0aW9ucyA9IF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcclxuXHRlbHNlIGlmIGJveCA9PSBcIm91dGJveFwiXHJcblx0XHRvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcylcclxuXHRlbHNlXHJcblx0XHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcclxuXHRcdGlmICFmbG93SWRcclxuXHRcdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxyXG5cdGlmIGZsb3dJZFxyXG5cdFx0b3B0aW9ucy5uYW1lID0ga2V5XHJcblx0cmV0dXJuIG9wdGlvbnNcclxuXHJcblxyXG5cclxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gKGZsb3dJZCwgZmllbGRzKS0+XHJcblx0b3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpXHJcblxyXG5cdGlmICFmbG93SWRcclxuXHRcdG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCJcclxuXHJcblx0b3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXVxyXG5cdG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSAodGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKS0+XHJcblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiBzZWxlY3RvclxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHByb2plY3Q6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRtYXRjaDoge1xyXG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogZmFsc2VcclxuXHRcdFx0XHRcdCdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkLFxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdFx0aWYgc29ydCBhbmQgc29ydC5sZW5ndGggPiAwXHJcblx0XHRcdHMxID0gc29ydFswXVxyXG5cdFx0XHRzMV8wID0gczFbMF1cclxuXHRcdFx0czFfMSA9IHMxWzFdXHJcblx0XHRcdGlmIHMxXzAgPT0gJ3N0YXJ0X2RhdGUnXHJcblxyXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGdyb3VwOiB7X2lkOiBcIiRfaWRcIiwgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjogeyRmaXJzdDogXCIkX2FwcHJvdmUuc3RhcnRfZGF0ZVwifX1cclxuXHJcblx0XHRcdFx0YWdfc29ydCA9ICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc29ydDogYWdfc29ydFxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XHJcblx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cclxuXHRcdFx0XHRcdHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpIC0+XHJcblx0XHRcdFx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXHJcblx0XHRcdFx0XHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxyXG5cdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRpZiBjYlxyXG5cdFx0XHRcdFx0XHRcdGNiKClcclxuXHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXHJcblxyXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcclxuXHJcblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRyZXR1cm4gb3B0aW9uc1xyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKVxyXG5cclxuXHJcbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcclxuXHJcblx0aWYgIWZsb3dJZFxyXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCJcclxuXHJcblx0b3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXVxyXG5cdG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSAodGFibGUsIHNlbGVjdG9yLCBzb3J0LCBza2lwLCBsaW1pdCwgb2xkX2ZpbHRlcmVkUmVjb3JkSWRzLCB1c2VySWQsIGZpbmRPcHRpb25zKS0+XHJcblx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiBzZWxlY3RvclxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHByb2plY3Q6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdCRtYXRjaDoge1xyXG5cdFx0XHRcdFx0J19hcHByb3ZlLmlzX2ZpbmlzaGVkJzogdHJ1ZVxyXG5cdFx0XHRcdFx0JG9yOiBbeydfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkfSx7J19hcHByb3ZlLnVzZXInOiB1c2VySWR9XVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0XVxyXG5cdFx0aWYgc29ydCBhbmQgc29ydC5sZW5ndGggPiAwXHJcblx0XHRcdHMxID0gc29ydFswXVxyXG5cdFx0XHRzMV8wID0gczFbMF1cclxuXHRcdFx0czFfMSA9IHMxWzFdXHJcblx0XHRcdGlmIHMxXzAgPT0gJ215X2ZpbmlzaF9kYXRlJ1xyXG5cclxuXHRcdFx0XHRmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV1cclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRncm91cDoge19pZDogXCIkX2lkXCIsIFwiYXBwcm92ZV9maW5pc2hfZGF0ZVwiOiB7JGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJ9fVxyXG5cclxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBpZiBzMV8xID09ICdhc2MnIHRoZW4gMSBlbHNlIC0xXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc29ydDogYWdfc29ydFxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkc2tpcDogc2tpcFxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkbGltaXQ6IGxpbWl0XHJcblx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGUgPSAodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikgLT5cclxuXHRcdFx0XHRcdHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5IChlcnIsIGRhdGEpIC0+XHJcblx0XHRcdFx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXHJcblx0XHRcdFx0XHRcdGRhdGEuZm9yRWFjaCAoZG9jKSAtPlxyXG5cdFx0XHRcdFx0XHRcdGZpbHRlcmVkUmVjb3JkSWRzLnB1c2ggZG9jLl9pZFxyXG5cdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRpZiBjYlxyXG5cdFx0XHRcdFx0XHRcdGNiKClcclxuXHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpXHJcblxyXG5cdFx0XHRcdGFzeW5jX2FnZ3JlZ2F0ZSB0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHNcclxuXHJcblx0XHRcdFx0cmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRyZXR1cm4gb3B0aW9uc1xyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRhYnVsYXJUYWJsZXMub3V0Ym94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwib3V0Ym94XCIpXHJcblxyXG5pZiBNZXRlb3IuaXNDbGllbnRcclxuXHRUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKVxyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRyYWNrZXIuYXV0b3J1biAoYykgLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAhU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9ICdkcmFmdCdcclxuXHRcdFx0XHRNZXRlb3IuY2FsbCBcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgKGVycm9yLCByZXN1bHQpIC0+XHJcblx0XHRcdFx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhciBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdFxyXG5cdFx0XHRcdFx0VGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKVxyXG5cclxuXHJcbm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyID0gKGJveCwgZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRpZiAhZmllbGRzXHJcblx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxyXG5cdFx0ZmllbGRzID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdz8uZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5maWVsZHMnOiAxIH0gfSk/LmN1cnJlbnQ/LmZpZWxkc1xyXG5cclxuXHRmaWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyBmaWVsZHNcclxuXHJcblx0aWYgZmllbGRzPy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKT8ubGVuZ3RoID4gMFxyXG5cdFx0a2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGJveCArIGZsb3dJZFxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpXHJcblx0XHRlbHNlXHJcblx0XHRcdG5ldyBUYWJ1bGFyLlRhYmxlIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKGJveCwgZmxvd0lkLCBmaWVsZHMpXHJcblx0XHRjb25zb2xlLmxvZyBcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXlcclxuXHJcbmlmIE1ldGVvci5pc1NlcnZlclxyXG5cdE1ldGVvci5tZXRob2RzXHJcblx0XHRuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogKGJveCwgZmxvd0lkKS0+XHJcblx0XHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKVxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogZmxvd0lkfSwge2ZpZWxkczoge2Zvcm06IDF9fSlcclxuXHRcdFx0ZmllbGRzID0gZGIuZm9ybXMuZmluZE9uZSh7IF9pZDogZmxvdz8uZm9ybSB9LCB7IGZpZWxkczogeyAnY3VycmVudC5maWVsZHMnOiAxIH0gfSk/LmN1cnJlbnQ/LmZpZWxkc1xyXG5cdFx0XHRyZXR1cm4gZmllbGRzXHJcblxyXG5cclxuIiwidmFyIEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zLCBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMsIF9oYW5kbGVMaXN0RmllbGRzLCBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyLCBuZXdJbnN0YW5jZXNMaXN0VGFidWxhciwgdXBkYXRlVGFidWxhclRpdGxlO1xuXG5TdGVlZG9zLnN1YnNbXCJJbnN0YW5jZVRhYnVsYXJcIl0gPSBuZXcgU3Vic01hbmFnZXIoKTtcblxuX2hhbmRsZUxpc3RGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHM7XG4gIGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcbiAgaWYgKGZpZWxkcyAhPSBudWxsKSB7XG4gICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xuICAgICAgdmFyIHJlZjtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYxKTtcbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gaW5zX2ZpZWxkcy5wdXNoKGYpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBpbnNfZmllbGRzO1xufTtcblxudXBkYXRlVGFidWxhclRpdGxlID0gZnVuY3Rpb24oKSB7fTtcblxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBpbnNfZmllbGRzLCBrZXksIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSB7XG4gICAgbmFtZTogXCJpbnN0YW5jZXNcIixcbiAgICBjb2xsZWN0aW9uOiBkYi5pbnN0YW5jZXMsXG4gICAgcHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcbiAgICBvblVubG9hZDogZnVuY3Rpb24oKSB7XG4gICAgICByZXR1cm4gTWV0ZW9yLnNldFRpbWVvdXQoVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fdGFibGVDb2x1bW5zLCAxNTApO1xuICAgIH0sXG4gICAgZHJhd0NhbGxiYWNrOiBmdW5jdGlvbihzZXR0aW5ncykge1xuICAgICAgdmFyIGVsbGlwc2lzTGluaywgZW1wdHlUZCwgdGl0bGU7XG4gICAgICBlbXB0eVRkID0gJChcIi5kYXRhVGFibGVzX2VtcHR5XCIpO1xuICAgICAgaWYgKGVtcHR5VGQubGVuZ3RoKSB7XG4gICAgICAgIGVtcHR5VGRbMF0uY29sU3BhbiA9IFwiNlwiO1xuICAgICAgfVxuICAgICAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkgJiYgIVN0ZWVkb3MuaXNQYWQoKSkge1xuICAgICAgICBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCkucmVhZHkoZnVuY3Rpb24oKSB7XG4gICAgICAgICAgcmV0dXJuICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5wZXJmZWN0U2Nyb2xsYmFyKFwidXBkYXRlXCIpO1xuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgICQoXCIuaW5zdGFuY2UtbGlzdFwiKS5zY3JvbGxUb3AoMCk7XG4gICAgICB9XG4gICAgICB0aXRsZSA9IHQoXCJwYWdlcl9pbnB1dF9oaW50XCIpO1xuICAgICAgZWxsaXBzaXNMaW5rID0gc2V0dGluZ3Mub0luc3RhbmNlLnBhcmVudCgpLmZpbmQoJy5wYWdpbmdfbnVtYmVycyAucGFnaW5hdGlvbiAuZGlzYWJsZWQgYScpO1xuICAgICAgcmV0dXJuIGVsbGlwc2lzTGluay5hdHRyKFwidGl0bGVcIiwgdGl0bGUpLmNzcyhcImN1cnNvclwiLCBcInBvaW50ZXJcIikuY2xpY2soZnVuY3Rpb24oKSB7XG4gICAgICAgIHZhciBnb1BhZ2UsIGlucHV0O1xuICAgICAgICBpZiAoISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGgpIHtcbiAgICAgICAgICBpbnB1dCA9ICQoJzxpbnB1dCBjbGFzcz1cInBhZ2luYXRlX2lucHV0IGZvcm0tY29udHJvbCBpbnB1dC1zbVwiIHR5cGU9XCJ0ZXh0XCIgc3R5bGU9XCJib3JkZXI6IG5vbmU7IHBhZGRpbmc6MCAycHg7XCIvPicpO1xuICAgICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjIwcHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlucHV0LmNzcyh7XG4gICAgICAgICAgICAgIHdpZHRoOiBcIjUycHhcIixcbiAgICAgICAgICAgICAgaGVpZ2h0OiBcIjE2cHhcIlxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlucHV0LmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuYXR0cihcInBsYWNlaG9sZGVyXCIsIHRpdGxlKTtcbiAgICAgICAgICAkKHRoaXMpLmVtcHR5KCkuYXBwZW5kKGlucHV0KTtcbiAgICAgICAgICBnb1BhZ2UgPSBmdW5jdGlvbihpbmRleCkge1xuICAgICAgICAgICAgdmFyIHBhZ2VzO1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICBwYWdlcyA9IE1hdGguY2VpbChzZXR0aW5ncy5mblJlY29yZHNEaXNwbGF5KCkgLyBzZXR0aW5ncy5faURpc3BsYXlMZW5ndGgpO1xuICAgICAgICAgICAgICBpZiAoaW5kZXggPiBwYWdlcykge1xuICAgICAgICAgICAgICAgIGluZGV4ID0gcGFnZXM7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaW5kZXgtLTtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfTtcbiAgICAgICAgICBpbnB1dC5ibHVyKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICByZXR1cm4gJCh0aGlzKS5wYXJlbnQoKS5odG1sKCcuLi4nKTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gaW5wdXQua2V5ZG93bihmdW5jdGlvbihlKSB7XG4gICAgICAgICAgICB2YXIgY3VycmVudFBhZ2U7XG4gICAgICAgICAgICBpZiAoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT09IFwiMTNcIikge1xuICAgICAgICAgICAgICBjdXJyZW50UGFnZSA9ICQodGhpcykudmFsKCk7XG4gICAgICAgICAgICAgIHJldHVybiBnb1BhZ2UoY3VycmVudFBhZ2UpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNyZWF0ZWRSb3c6IGZ1bmN0aW9uKHJvdywgZGF0YSwgZGF0YUluZGV4KSB7XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIGlmIChkYXRhLl9pZCA9PT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWQpIHtcbiAgICAgICAgICByZXR1cm4gcm93LnNldEF0dHJpYnV0ZShcImNsYXNzXCIsIFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LFxuICAgIGNvbHVtbnM6IFtcbiAgICAgIHtcbiAgICAgICAgZGF0YTogXCJfaWRcIixcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBmbG93X25hbWUsIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MsIG1vZGlmaWVkLCBtb2RpZmllZEZyb21Ob3csIG1vZGlmaWVkU3RyaW5nLCBwcmlvcml0eUljb24sIHByaW9yaXR5SWNvbkNsYXNzLCBwcmlvcml0eVZhbHVlLCByZWYsIHJlZjEsIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcsIHVucmVhZDtcbiAgICAgICAgICBtb2RpZmllZFN0cmluZyA9IG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgIG1vZGlmaWVkID0gZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2Muc3RhdGUgIT09ICdkcmFmdCcpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN0YXJ0X2RhdGUgfHwgZG9jLm1vZGlmaWVkO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdvdXRib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicpIHtcbiAgICAgICAgICAgIG1vZGlmaWVkID0gZG9jLnN1Ym1pdF9kYXRlIHx8IGRvYy5zdWJtaXRfZGF0ZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgbW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xuICAgICAgICAgIGZsb3dfbmFtZSA9IGRvYy5mbG93X25hbWU7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT09ICdkcmFmdCcgJiYgZG9jLmN1cnJlbnRfc3RlcF9uYW1lKSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjxzcGFuPihcIiArIGRvYy5jdXJyZW50X3N0ZXBfbmFtZSArIFwiKTwvc3Bhbj48L2Rpdj5cIjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+XCIgKyBmbG93X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb24gPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJcIjtcbiAgICAgICAgICBwcmlvcml0eVZhbHVlID0gKHJlZjEgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmMS5wcmlvcml0eSA6IHZvaWQgMDtcbiAgICAgICAgICBzd2l0Y2ggKHByaW9yaXR5VmFsdWUpIHtcbiAgICAgICAgICAgIGNhc2UgXCLnibnmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLntKfmgKVcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIndhcm5pbmdcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi5Yqe5paHXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocHJpb3JpdHlJY29uQ2xhc3MpIHtcbiAgICAgICAgICAgIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LVwiICsgcHJpb3JpdHlJY29uQ2xhc3M7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXJlYWQtYmFyJz5cIiArIHVucmVhZCArIFwiPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtbmFtZSBcIiArIGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgKyBcIic+XCIgKyBkb2MubmFtZSArIGNjX3ZpZXcgKyBhZ2VudF92aWV3ICsgXCJcXG5cdDxzcGFuPlwiICsgZG9jLmFwcGxpY2FudF9uYW1lICsgXCI8L3NwYW4+XFxuPC9kaXY+XFxuPGRpdiBjbGFzcz0naW5zdGFuY2UtZGV0YWlsJz5cIiArIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgKyBcIlxcblx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nXCIgKyBtb2RpZmllZFN0cmluZyArIFwiJz5cIiArIG1vZGlmaWVkRnJvbU5vdyArIFwiPC9zcGFuPlxcbjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiKSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgYWdlbnRfdmlldywgY2NfdmlldywgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIGNjX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuaXNfY2MgJiYgISgocmVmID0gZG9jLmluYm94X3VzZXJzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKE1ldGVvci51c2VySWQoKSkgOiB2b2lkIDApICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBjY192aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKFwiaW5zdGFuY2VfY2NfdGl0bGVcIikgKyBcIik8L2xhYmVsPiBcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgYWdlbnRfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5hZ2VudF91c2VyX25hbWUpIHtcbiAgICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHtcbiAgICAgICAgICAgICAgdXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWVcbiAgICAgICAgICAgIH0pICsgXCIpPC9sYWJlbD5cIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgdW5yZWFkID0gJyc7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPic7XG4gICAgICAgICAgfSBlbHNlIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT09IHRydWUpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImZhIGZhLWxvY2tcIj48L2k+JztcbiAgICAgICAgICB9XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN1Ym1pdF9kYXRlXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdWJtaXRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3VibWl0X2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImZsb3dfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImN1cnJlbnRfc3RlcF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGNjX3RhZywganVkZ2UsIHN0ZXBfY3VycmVudF9uYW1lO1xuICAgICAgICAgIGlmIChkb2Muc3RhdGUgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgICAgICAgIGp1ZGdlID0gZG9jLmZpbmFsX2RlY2lzaW9uIHx8IFwiYXBwcm92ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJyc7XG4gICAgICAgICAgY2NfdGFnID0gJyc7XG4gICAgICAgICAgaWYgKGRvYy5jY19jb3VudCA+IDApIHtcbiAgICAgICAgICAgIGNjX3RhZyA9IFRBUGkxOG4uX18oJ2NjX3RhZycpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPVxcXCJzdGVwLWN1cnJlbnQtc3RhdGUgXCIgKyBqdWRnZSArIFwiXFxcIj5cIiArIHN0ZXBfY3VycmVudF9uYW1lICsgY2NfdGFnICsgXCI8L2Rpdj5cIjtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19tb2RpZmllZFwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm1vZGlmaWVkKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcInN0YXJ0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RhcnRfZGF0ZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2Muc3RhcnRfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2Muc3RhcnRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwibXlfZmluaXNoX2RhdGVcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIGlmIChkb2MubXlfZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIHJldHVybiBtb21lbnQoZG9jLm15X2ZpbmlzaF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJtb2RpZmllZFwiLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImtleXdvcmRzXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiaXNfYXJjaGl2ZWRcIixcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciByZWY7XG4gICAgICAgICAgaWYgKChkb2MgIT0gbnVsbCA/IChyZWYgPSBkb2MudmFsdWVzKSAhPSBudWxsID8gcmVmLnJlY29yZF9uZWVkIDogdm9pZCAwIDogdm9pZCAwKSAmJiBkb2MudmFsdWVzLnJlY29yZF9uZWVkID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgaWYgKGRvYyAhPSBudWxsID8gZG9jLmlzX2FyY2hpdmVkIDogdm9pZCAwKSB7XG4gICAgICAgICAgICAgIHJldHVybiB0KFwiWUVTXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIHQoXCJOT1wiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IChmdW5jdGlvbigpIHtcbiAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgcmV0dXJuICd0cCc7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gJ3RwbCc7XG4gICAgICB9XG4gICAgfSkoKSxcbiAgICBvcmRlcjogW1s0LCBcImRlc2NcIl1dLFxuICAgIGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLCBcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxuICAgIGxlbmd0aENoYW5nZTogdHJ1ZSxcbiAgICBsZW5ndGhNZW51OiBbMTAsIDE1LCAyMCwgMjUsIDUwLCAxMDBdLFxuICAgIHBhZ2VMZW5ndGg6IDEwLFxuICAgIGluZm86IGZhbHNlLFxuICAgIHNlYXJjaGluZzogdHJ1ZSxcbiAgICByZXNwb25zaXZlOiB7XG4gICAgICBkZXRhaWxzOiBmYWxzZVxuICAgIH0sXG4gICAgYXV0b1dpZHRoOiBmYWxzZSxcbiAgICBjaGFuZ2VTZWxlY3RvcjogZnVuY3Rpb24oc2VsZWN0b3IsIHVzZXJJZCkge1xuICAgICAgdmFyIHJlZiwgc3BhY2UsIHNwYWNlX3VzZXI7XG4gICAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gc2VsZWN0b3Iuc3BhY2U7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2UgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICB1c2VyOiB1c2VySWQsXG4gICAgICAgIHNwYWNlOiBzcGFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBfaWQ6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICByZXR1cm4gc2VsZWN0b3I7XG4gICAgfSxcbiAgICBwYWdpbmdUeXBlOiBcIm51bWJlcnNcIlxuICB9O1xuICBpZiAoZmxvd0lkKSB7XG4gICAga2V5ID0gXCJpbnN0YW5jZUZsb3dcIiArIGZsb3dJZDtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gICAgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzID0gZmllbGRzO1xuICAgIGluc19maWVsZHMgPSBfaGFuZGxlTGlzdEZpZWxkcyhUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMpO1xuICAgIGluc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICBpZiAoZi50eXBlICE9PSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5KSB7XG4gICAgICAgIHJldHVybiBvcHRpb25zLmNvbHVtbnMucHVzaCh7XG4gICAgICAgICAgZGF0YTogZi5uYW1lIHx8IGYuY29kZSxcbiAgICAgICAgICB0aXRsZTogdChmLm5hbWUgfHwgZi5jb2RlKSxcbiAgICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICAgIHZhciB2YWx1ZSwgdmFsdWVzO1xuICAgICAgICAgICAgdmFsdWVzID0gZG9jLnZhbHVlcyB8fCB7fTtcbiAgICAgICAgICAgIHZhbHVlID0gdmFsdWVzW2YuY29kZV07XG4gICAgICAgICAgICBzd2l0Y2ggKGYudHlwZSkge1xuICAgICAgICAgICAgICBjYXNlICd1c2VyJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5uYW1lIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdncm91cCc6XG4gICAgICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUuZnVsbG5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2RhdGUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSA9PT0gdHJ1ZSB8fCB2YWx1ZSA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X3llc1wiKTtcbiAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF9ub1wiKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ29kYXRhJzpcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgICAgICAgICAgIGlmIChfLmlzQXJyYXkodmFsdWUpKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKCk7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlWydAbGFiZWwnXTtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdmFsdWU7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKCkpO1xufSk7XG5cbkdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zID0gZnVuY3Rpb24oYm94LCBmbG93SWQsIGZpZWxkcykge1xuICB2YXIga2V5LCBvcHRpb25zO1xuICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICBpZiAoYm94ID09PSBcImluYm94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBvcHRpb25zID0gX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyhmbG93SWQsIGZpZWxkcyk7XG4gIH0gZWxzZSB7XG4gICAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICAgIGlmICghZmxvd0lkKSB7XG4gICAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICAgIH1cbiAgfVxuICBpZiAoZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0ga2V5O1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIG9wdGlvbnM7XG4gIG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKTtcbiAgaWYgKCFmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzgsIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZSxcbiAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnc3RhcnRfZGF0ZScpIHtcbiAgICAgICAgZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRncm91cDoge1xuICAgICAgICAgICAgX2lkOiBcIiRfaWRcIixcbiAgICAgICAgICAgIFwiYXBwcm92ZV9zdGFydF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX3N0YXJ0X2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluYm94X2luc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKEdldEJveEluc3RhbmNlc1RhYnVsYXJPcHRpb25zKFwiaW5ib3hcIikpO1xufSk7XG5cbl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwib3V0Ym94X2luc3RhbmNlc1wiO1xuICB9XG4gIG9wdGlvbnMub3JkZXIgPSBbWzksIFwiZGVzY1wiXV07XG4gIG9wdGlvbnMuZmlsdGVyZWRSZWNvcmRJZHMgPSBmdW5jdGlvbih0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpIHtcbiAgICB2YXIgYWdfc29ydCwgYWdncmVnYXRlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBhc3luY19hZ2dyZWdhdGUsIGZpbHRlcmVkUmVjb3JkSWRzLCBzMSwgczFfMCwgczFfMTtcbiAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uID0gW1xuICAgICAge1xuICAgICAgICAkbWF0Y2g6IHNlbGVjdG9yXG4gICAgICB9LCB7XG4gICAgICAgICRwcm9qZWN0OiB7XG4gICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICBcIl9hcHByb3ZlXCI6ICckdHJhY2VzLmFwcHJvdmVzJ1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICR1bndpbmQ6IFwiJF9hcHByb3ZlXCJcbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkbWF0Y2g6IHtcbiAgICAgICAgICAnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlLFxuICAgICAgICAgICRvcjogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUuaGFuZGxlcic6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAnX2FwcHJvdmUudXNlcic6IHVzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfVxuICAgIF07XG4gICAgaWYgKHNvcnQgJiYgc29ydC5sZW5ndGggPiAwKSB7XG4gICAgICBzMSA9IHNvcnRbMF07XG4gICAgICBzMV8wID0gczFbMF07XG4gICAgICBzMV8xID0gczFbMV07XG4gICAgICBpZiAoczFfMCA9PT0gJ215X2ZpbmlzaF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICAgICAgJGxhc3Q6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBhZ19zb3J0ID0ge1xuICAgICAgICAgICdhcHByb3ZlX2ZpbmlzaF9kYXRlJzogczFfMSA9PT0gJ2FzYycgPyAxIDogLTFcbiAgICAgICAgfTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc29ydDogYWdfc29ydFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkc2tpcDogc2tpcFxuICAgICAgICB9KTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkbGltaXQ6IGxpbWl0XG4gICAgICAgIH0pO1xuICAgICAgICBmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBhZ2dyZWdhdGUgPSBmdW5jdGlvbih0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSB7XG4gICAgICAgICAgdGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBFcnJvcihlcnIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgICAgICAgICBmaWx0ZXJlZFJlY29yZElkcy5wdXNoKGRvYy5faWQpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICBpZiAoY2IpIHtcbiAgICAgICAgICAgICAgY2IoKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlID0gTWV0ZW9yLndyYXBBc3luYyhhZ2dyZWdhdGUpO1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUodGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzKTtcbiAgICAgICAgcmV0dXJuIGZpbHRlcmVkUmVjb3JkSWRzLnVuaXEoKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBvbGRfZmlsdGVyZWRSZWNvcmRJZHM7XG4gICAgICB9XG4gICAgfVxuICB9O1xuICByZXR1cm4gb3B0aW9ucztcbn07XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIikpO1xufSk7XG5cbmlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzID0gbmV3IFJlYWN0aXZlVmFyKCk7XG59XG5cbk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVHJhY2tlci5hdXRvcnVuKGZ1bmN0aW9uKGMpIHtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImZsb3dJZFwiKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoXCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhclwiLCBTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIGZ1bmN0aW9uKGVycm9yLCByZXN1bHQpIHtcbiAgICAgICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihTZXNzaW9uLmdldChcImJveFwiKSwgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIiksIHJlc3VsdCk7XG4gICAgICAgICAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX2NoYW5nZU9yZGVyKCk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG59KTtcblxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBmbG93LCBrZXksIHJlZiwgcmVmMSwgcmVmMjtcbiAgaWYgKCFmaWVsZHMpIHtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBmb3JtOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgZmllbGRzID0gKHJlZiA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gKHJlZjEgPSByZWYuY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICB9XG4gIGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKGZpZWxkcyk7XG4gIGlmICgoZmllbGRzICE9IG51bGwgPyAocmVmMiA9IGZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX2xpc3RfZGlzcGxheVwiLCB0cnVlKSkgIT0gbnVsbCA/IHJlZjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcy5zZXQobmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpKTtcbiAgICB9IGVsc2Uge1xuICAgICAgbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcykpO1xuICAgIH1cbiAgICByZXR1cm4gY29uc29sZS5sb2coXCJuZXcgVGFidWxhclRhYmxlcyBcIiwga2V5KTtcbiAgfVxufTtcblxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICBNZXRlb3IubWV0aG9kcyh7XG4gICAgbmV3SW5zdGFuY2VzTGlzdFRhYnVsYXI6IGZ1bmN0aW9uKGJveCwgZmxvd0lkKSB7XG4gICAgICB2YXIgZmllbGRzLCBmbG93LCByZWYsIHJlZjE7XG4gICAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcihib3gsIGZsb3dJZCk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdyAhPSBudWxsID8gZmxvdy5mb3JtIDogdm9pZCAwXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICdjdXJyZW50LmZpZWxkcyc6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICByZXR1cm4gZmllbGRzO1xuICAgIH1cbiAgfSk7XG59XG4iXX0=
