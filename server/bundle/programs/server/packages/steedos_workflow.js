(function () {

/* Imports */
var Meteor = Package.meteor.Meteor;
var global = Package.meteor.global;
var meteorEnv = Package.meteor.meteorEnv;
var ReactiveVar = Package['reactive-var'].ReactiveVar;
var ReactiveDict = Package['reactive-dict'].ReactiveDict;
var ECMAScript = Package.ecmascript.ECMAScript;
var Random = Package.random.Random;
var DDP = Package['ddp-client'].DDP;
var DDPServer = Package['ddp-server'].DDPServer;
var check = Package.check.check;
var Match = Package.check.Match;
var DDPRateLimiter = Package['ddp-rate-limiter'].DDPRateLimiter;
var _ = Package.underscore._;
var Tracker = Package.tracker.Tracker;
var Deps = Package.tracker.Deps;
var Blaze = Package.blaze.Blaze;
var UI = Package.blaze.UI;
var Handlebars = Package.blaze.Handlebars;
var JsonRoutes = Package['simple:json-routes'].JsonRoutes;
var RestMiddleware = Package['simple:json-routes'].RestMiddleware;
var Restivus = Package['nimble:restivus'].Restivus;
var SimpleSchema = Package['aldeed:simple-schema'].SimpleSchema;
var MongoObject = Package['aldeed:simple-schema'].MongoObject;
var Tabular = Package['aldeed:tabular'].Tabular;
var CollectionHooks = Package['matb33:collection-hooks'].CollectionHooks;
var BlazeLayout = Package['kadira:blaze-layout'].BlazeLayout;
var FlowRouter = Package['kadira:flow-router'].FlowRouter;
var WorkflowManager = Package['steedos:app-workflow'].WorkflowManager;
var uuflowManager = Package['steedos:app-workflow'].uuflowManager;
var pushManager = Package['steedos:app-workflow'].pushManager;
var steedosExport = Package['steedos:app-workflow'].steedosExport;
var steedosImport = Package['steedos:app-workflow'].steedosImport;
var Template = Package['meteorhacks:ssr'].Template;
var SSR = Package['meteorhacks:ssr'].SSR;
var SubsManager = Package['meteorhacks:subs-manager'].SubsManager;
var WebApp = Package.webapp.WebApp;
var WebAppInternals = Package.webapp.WebAppInternals;
var main = Package.webapp.main;
var moment = Package['momentjs:moment'].moment;
var CFDataManager = Package['steedos:autoform'].CFDataManager;
var Selector = Package['steedos:base'].Selector;
var Steedos = Package['steedos:base'].Steedos;
var AjaxCollection = Package['steedos:base'].AjaxCollection;
var SteedosDataManager = Package['steedos:base'].SteedosDataManager;
var SteedosOffice = Package['steedos:base'].SteedosOffice;
var billingManager = Package['steedos:base'].billingManager;
var MailQueue = Package['steedos:mailqueue'].MailQueue;
var WebhookQueue = Package['steedos:webhookqueue'].WebhookQueue;
var _i18n = Package['universe:i18n']._i18n;
var i18n = Package['universe:i18n'].i18n;
var meteorBabelHelpers = Package['babel-runtime'].meteorBabelHelpers;
var Promise = Package.promise.Promise;
var meteorInstall = Package.modules.meteorInstall;
var HTML = Package.htmljs.HTML;
var Collection2 = Package['aldeed:collection2-core'].Collection2;
var FS = Package['steedos:cfs-base-package'].FS;
var MongoInternals = Package.mongo.MongoInternals;
var Mongo = Package.mongo.Mongo;

/* Package-scope variables */
var __coffeescriptShare, Workflow, InstanceReadOnlyTemplate, TemplateManager, SteedosTable, year, month, date, hours, seconds, locale, utcOffset, str, addItemTr, values_history, current_user_info, flow_id, userId, orgFieldUsers, formula_values, new_ins_id, instanceHtml, Form_formula, getHandlersManager, permissionManager, approveManager, flowManager, formManager, stepManager, workflowTemplate, InstanceManager, WorkflowManager_format, CoreForm, InstanceNumberRules;

var require = meteorInstall({"node_modules":{"meteor":{"steedos:workflow":{"i18n":{"en.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/en.i18n.json.js                                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('en','',{"Steedos Workflow":"Workflow","inbox":"Inbox","outbox":"Outbox","draft":"Draft","pending":"In Progress","completed":"Finished","monitor":"Monitor","FlowName":"Workflow Name","Search":"Search","My Approval":"My Approval","My Applications":"My Applications","Submit":"Submit","steedos_desktop":"Steedos Desktop","menu_navigation":"Navigation","Workflow":"Workflow","form_new":"New","instances":"Request","instances_name":"Title","instances_applicant_name":"Applicant","instances_modified":"Modified","instances_applicant_organization_name":"Organization","instances_submit_date":"Submit Date","instances_flow":"Workflow","instances_step_current_name":"Current step","instances_flow_name":"Workflow","instances_current_step_name":"Current step","instance_approve":"Approve","instance_reject":"Reject","instance_readed":"Read","instance_next_step":"Next Step","instance_next_step_users":"Next Step User(s)","instance_initiator":"Initiator","instance_approval_history":"Approval History","instance_in_progress":"In Progress","instance_submit":"Submit","instance_save":"Save","instance_delete":"Delete","instance_attachment":"Attachments","instance_cancel":"Cancel Request","instance_reassign":"Reassign","instance_relocate":"Relocate","instance_print":"Print","flow_roles":"Workflow Positions","flow_roles_name":"Position Name","flow_positions":"Positions Users","flow_positions_role":"Position","flow_positions_org":"Organization","flow_positions_users":"Users","flow_positions_role_name()":"Position","flow_positions_org_name()":"Organization","flow_positions_users_name()":"Users","workflow_table_confirm":"OK","workflow_table_delete":"Delete","Attachment deleted successfully":"Attachment deleted successfully!","Attachment was added successfully":"Attachment was added successfully!","Saved successfully":"Saved successfully!","Added successfully":"Added successfully!","Deleted successfully":"Deleted successfully!","Submitted successfully":"Submitted successfully!","Canceled successfully":"Canceled successfully!","Reassigned successfully":"Reassigned successfully!","Relocated successfully":"Relocated successfully!","Attachments":"Attachments","Versions":"Versions","Current Version":"（Current Version）","workflow_attachment_free_size_limit":"Sorry, Attachment larger than 1M is not accepted for free version.","workflow_attachment_paid_size_limit":"Failed to upload, because attachment size is over ","workflow_attachment_download":"Download","workflow_attachment_view":"View","workflow_attachment_isReadOnly":"ReadOnly-","workflow_attachment_versions":"Versions","workflow_attachment_uploading":"Uploading ","workflow_attachment_downloading":"Downloading %s...","workflow_attachment_creating":"Creating a new file: %s...","workflow_attachment_officeOnline":"Edit","workflow_attachment_save":"Save","workflow_attachment_close":"Close","workflow_attachment_delete":"Delete","workflow_attachment_convert_to_pdf":"Converting '%s' to pdf format...","workflow_attachment_wordToPdf":"Convert To Pdf","workflow_attachment_wordToPdf_failed":"Convert to PDF failed!","workflow_attachment_locked_tip":"Unlock the file, then submit","Instance State approved":"Approved","Instance State rejected":"Rejected","Instance State terminated":"Cancelled","Instance State finished":"Completed","Instance State pending":"In Progress","Instance State reassigned":"Reassigned","Instance State relocated":"Relocated","Instance Relocate Hint":"Enter your comments here.","Instance Relocate Title":"Relocate","Instance Relocate Reason":"Comments are required.","Instance Relocate NewInboxUsers":"Please select a user.","Instance Relocate Ok":"Relocated successfully.","Instance Relocate CurStep":"Current Step: ","instance_reassign_title":"Reassign","instance_reassign_curstep":"Current Step: ","instance_reassign_reason":"Enter your comments here.","instance_reassign_ok":"Reassigned successfully.","instance_reassign_user":"Select User(s)","instance_cancel_title":"Cancel Request","instance_cancel_reason":"Enter your comments here","instance_reassign_error_reason_required":"Comments are required.","instance_reassign_error_users_required":"Please select a user.","instance_cancel_error_reason_required":"Comments are required.","instance_select_next_step":"Please select next step","instance_multi_next_step_tips":"Multi next steps，please select next step，and send the request by click the bottom Send button","instance_next_step_user":"Please select next step user(s)","instance_reasons_reject":"Reasons necessary when reject the application","instance_field":"The field","instance_is_required":"is required","instance_email_format_error":"Format error of the email address","node_office_edit_online":"Edit Online","node_office_message":"You are editing document, please save and exit Office software when done.","node_office_warning":"The file has been modified, do you want to save it as a new version?","node_office_upload":"Upload ","node_office_confirm":"Confirm","node_office_cancel":"Cancel","node_office_uploaded":"The attachment has been uploaded","node_office_filePath":"File: ","node_office_exists_message":"File already exists, replace it?","node_office_workflow":"Workflow","node_pdf_error":"Pdf signature failed, please re-sign!","node_pdf_sign_online":"Sign Online","node_pdf_message":"You are signing pdf file.","node_pdf_filePath":"File: ","workflow_export_thismonth":"Export requests this month","workflow_export_lastmonth":"Export requests last month","workflow_export_thisyear":"Export requests this year","workflow_export_all":"Export all requests","workflow_export_filter":"Filter by process","workflow_export_search":"Search for requests according to the workflow","workflow_export_data":"Export to Excel","spaces_isarrearageSpace":"your space is arrearage","cc_help":"https://www.steedos.com/us/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/us/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/us/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/us/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/us/help/workflow/instance_search.html","new_help":"https://www.steedos.com/us/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"Next step: ","Inbox Suggestion NextSteps Handler Label":"Assignee: ","Workflow Designer":"Workflow Designer","User Management":"User Management","All flows":"All workflows","Select a flow":"Select a workflow","Fill in form":"New Request","Flow upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","Are you sure?":"Are you sure?","Select placeholder":"Please select","workflow_no_category":"No category","space_users_error_space_required":"Space required","flow_roles_error_positions_exists":"Users exised in the role","workflow_left_parenthesis":"(","workflow_right_parenthesis":")","instance_cc_description":"Carbon Description","instance_cc_from":"Carbon Form","instance_cc_title":"Carbon Copy","instance_cc_done":"Carbon copied!","instance_curstep":"Current Step: ","instance_cc_user":"Carbon Copy To","instance_cc_error_users_required":"Please select user.","workflow_form_edit":"Workflow List","flows_template":"Request Template","flows_name":"Workflow Name","flows_print_template":"Print Template","flows_instance_template":"Form Template","flows_description":"Flow Description","workflow_attach_unlock":"Unlock","workflow_attach_locked_by":"%s is editing","workflow_attach_confirm_delete":"Are you sure?","workflow_attach_confirm_delete_messages":"You will not be able to recover this imaginary file!","workflow_attach_confirm":"Delete","workflow_attach_cancel":"Cancel","workflow_attach_to_pdf":"Convert to PDF","workflow_attach_to_pdf_message":"Convert '%s' to pdf format?","workflow_attach_upload":"Upload","workflow_attach_new":"New","workflow_attachment_signature":"Signature","workflow_select_an_app":"Steedos Apps","workflow_suggestion_placeholder":"Please fill in comments.","instance_opinion_title":"Opinions","instance_opinion_btn":"Opinions","instance_opinion_input":"Add a opinion","instance_opinion_add_success":"Add successfully!","instance_opinion_remove_success":"Remove successfully!","instance_opinion_error":"Error","instance_opinion_exists":"Opinion exists","instance_opinion_add_tip":"You have not set up common comments yet.","instance_forward_title":"Request Forward","form_field_checkbox_yes":"YES","form_field_checkbox_no":"NO","flows_events":"Events","flows_events_error":"Workflow Script Error: ","instance_search_advanced_search":"Advanced search","instance_search_flow":"Workflow","instance_search_name":"Request Title","instance_search_file":"Request Title","instance_search_applicant_name":"Applicant Name","instance_search_applicant_organization_name":"Applicant Organization","instance_search_submit_date":"Submit Date","instance_search_start":"Start","instance_search_end":"End","instance_search_result_tip":"Filtered Result","instance_search_state":"Request State","instance_search_state_options":{"pending":"Pending","completed":"Completed"},"instance":{"formatter":{"date":{"simple_date":"bb DD, YYYY","simple_datetime":"bb DD, YYYY HH:MM","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:MM"},"checkbox":{"checked":"YES","unchecked":"NO"}},"instance_view":"<br/><br/>Following are the contents of the request:<br/>Space : {$space_name};<br/>Initiator : {$applicant_name};<br/>Submit Date : {$submit_date};","push":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"Request for {$instance_name} has been deleted","submit_completed_applicant":"Request for {$instance_name} has been approved","submit_completed_approve":"","approved_completed_applicant":"Request for {$instance_name} has been approved","approved_completed_approve":"","rejected_completed_applicant":"Request for {$instance_name} has been rejected","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","remind":"Remind：{$instance_name}, Deadline：{$deadline}","trace_approve_cc_submit":"I have submitted a cc {$instance_name}","distribute_remind":"My {$instance_name} has been end","auto_submit_pending_inbox":"Your {$instance_name} auto submitted to {$current_step_name}","return_pending_inbox":"Request for {$instance_name} has been returned"}},"email":{"final_decision_approved":"Approved","final_decision_rejected":"Rejected","final_decision_nil":"","inscribed":"<br/><br/>Sincerely,<br/>","footnote":"This is an automatically generated email, please do not reply to it.","title":{"input":"input","approval":"approval","first_submit_applicant":"I have submitted a {$instance_name} request for you","first_submit_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_rejected_applicant_inbox":"Request for {$instance_name} has been rejected","submit_pending_rejected_applicant":"Request for {$instance_name} has been rejected to {$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"My {$instance_name} request needs your {$approve_type}","submit_pending_inbox":"My {$instance_name} request needs your {$approve_type}","submit_terminate_applicant":"Request for {$instance_name} has been cancelled","submit_terminate_approve":"","monitor_delete_applicant":"{$instance_name} has been deleted","submit_completed_applicant":"I have approved your request for {$instance_name}","submit_completed_approve":"","approved_completed_applicant":"I have approved your request for {$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"I have rejected your request for {$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"My {$instance_name} request needs your {$approve_type}","trace_approve_cc":"My {$instance_name} request needs your {$approve_type}","auto_submit_pending_inbox":"Your {$instance_name} has been submitted automatically","return_pending_inbox":"I have returned your request for {$instance_name}"},"body":{"url_input":"input","url_approval":"approval","input":"input","approval":"approval","judge_approved":"approved","judge_submitted":"provided his input for","email_description":"Comments : {$description}.","first_submit_applicant":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>I have submitted a {$instance_name} request on behalf of you, and attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","first_submit_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. He / she has attached the following comments with the request.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been rejected by {$lastApprove_usersname}.He / She has attached the following comments with the request, and has sent it to {$nextApprove_usersname}<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"Hi {$to_username},<br/><br/>{$applicant_name}'s request for {$instance_name} needs your {$approve_type}, which has been rejected by {$lastApprove_usersname} with the following comments.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request.<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has {$last_approve_judge} this request with the following comments.<br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_pending_inbox_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>{$applicant_name} has submitted a {$instance_name} request, which needs your {$approve_type}. {$lastApprove_usersname} has provided their input for this request with the following comments.<br/>Comments : <br/>","submit_terminate_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been cancelled by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}.","submit_terminate_approve":"","monitor_delete_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been deleted.","submit_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","submit_completed_applicant_beApproveDescription_counterSign":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been completed by {$lastApprove_usersname}. They has attached the following comments with the request. <br/>Comments :<br/>","submit_completed_approve":"","approved_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}.<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_applicant_beApproveDescription":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final approved by {$lastApprove_usersname}. He / she has attached the following comments with the request. <br/>Comments : {$approves_description}<br/><a href = {$href}>Please click here to view this request.</a>","approved_completed_approve":"","rejected_completed_applicant":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been final rejected by {$lastApprove_usersname}. He / She has attached the following comments with the request.<br/>{$description}<br/><a href = {$href}>Please click here to view this request.</a>","rejected_completed_approve":"","reassign_new_inbox_users":"Hi {$to_username},<br/><br/>{$current_user_name} has transferred {$applicant_name}'s {$instance_name} to you with the following comments. <br/>Comments : {$description}<br/><a href = {$href}>Please click here to view this request.</a>。","trace_approve_cc":"Hi {$to_username},<br/><br/>{$applicant_name} has cc a {$instance_name} request, which needs your {$approve_type}.<br/><a href = {$href}>Please click here to view this request.</a>","auto_submit_pending_inbox":"Hi {$to_username},<br/><br/>Your {$instance_name} has been submitted to {$current_step_name} automatically.","return_pending_inbox":"Hi {$to_username},<br/><br/>Your request for {$instance_name} has been returned by {$current_username}.He / She has attached the following comments with the request.<br/>Comments : {$description}."}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"Requested action not taken, because this request has been updated.","has_deleted":"This report has been deleted."},"judge":{"approved":"approved","rejected":"rejected"}},"flow":{"point_upgraded":"The workflow has been upgraded. Please make sure this request meet the requirements of the new version.","print_select_template_alert":"Please upgraded to Professional Version.","print_select_title":"Select Template","print_default_print_title":"Default","print_custom_print_title":"Custom","print_button_title":"Print","print_html_title":"SteedOS"},"help":{"href":"<a href = {$href}>Please click here to view this request.</a>","approves":"Approval History","initiator":"Initiator : ","attachment":"Attachment"},"export":{"code":"Code","name":"Name","initiator":"Initiator","initiator_org":"Initiator's Organization","submit_date":"Submit Time","status":"Status","current_step_name":"Current Step Name","current_step_start_date":"Current Step Start Time","state":{"pending":"In Progress","approved":"Approved","rejected":"Rejected","terminated":"Cancelled","finished":"Completed","reassigned":"Reassigned","inhand":"In Progress","relocated":"Relocated"}},"steedos":"Steedos","cc":"cc","saveInstanceToAttachment":"Save request form as an attachment.","forwardFlowText":"Forward description","instanceForwardNote":"Forward the currently selected request to a new workflow and proceed with the approval process.","button_preview":"Preview","remove_cc_approve":"Deleted success","forward_instance_success":"Forward success","isForwardAttachments":"Is forward attachments.","instance_retrieve":"Retrieve","instance_retrieve_reason":"Remarks","instance_retrieve_rules_title":"Retrieve failed","instance_retrieve_rules_content":"You can not retrive a request if user in next step has read the request, or you are in a concurrent signed step.","Retrieved successfully":"Retrieved successfully!","Instance State retrieved":"Retrieved","instance_chrome_print_warning":"Please use the Chrome browser to print.","instance_sign":"Sign","instance_default_opinion":"Already read","instance_submit_date":"Submit date","instance_opinion_edit":"Edit the opinion","instance_opinion_edit_success":"Edit successfully!","instance_opinion_field":"Sign field","instance_cc_error_opinion_field_required":"Please select the sign field","instance_suggestion_toggle":"Sign","instance_approve_read":"Read","instance_approve_from_user_name_label":"cc from","instance_approve_status_text_label":"status","instance_approve_description_label":"suggestion","instance_approve_start_date_label":"start date","instance_approve_finish_date_label":"finish date","instance_approve_read_yes":"yes","instance_approve_read_no":"no","instance_approve_cc_remove":"cancel cc","instance_approve_close_modal":"close","instance_approve_title_label":"Handler:","instance_forward_users":"Forward To","instance_forward_error_users_required":"Users required!","instance_approve_from_user_name_label_forward":"Forward from","instance_approve_forward_remove":"Cancel forward","instance_approve_forward_remove_success":"Request cancelled successfully!","instance_forward_instance_look":"Look the forwarded request","instance_forward_cannot_cancel":"Can not cancel!","instance_forward_instance_state_changed":"Request state has hanged, can not cancel.","webhooks":"Webhooks","webhooks_flow":"Workflow","webhooks_payload_url":"URL","webhooks_content_type":"Content type","webhooks_active":"Active","webhooks_flow_name()":"Workflow","webhooks_description":"Description","workflow_list":"Workflow List","workflow_import_flow":"Import Workflow","workflow_import_flow_success":"Import success","workflow_import_flow_error":"Import failed","workflow_import_flow_info":"Please select the workflow you want to import","flows":"Workflow","instance_readonly_view_url_copy":"Copy Link","instance_readonly_view_url_copy_success":"Tableau Web Data Connector copy successful","instance_related_instances":"Related requests","instance_related_instances_title":"Linked requests","instance_related_instances_placeholder":"Please enter the file name to search for the associated file","workflow_install_desktop":"Install Desktop","workflow_chart":"Workflow Chart","instance_return":"Return","instance_return_success":"Return successfully","instance_return_confirm":"Return the request to {$step_name}({$handlers_name})?","Instance State returned":"Returned","instance_main_attachment":"Main attach","flows_field_map":"Field Map","Instance State readed":"Read","instance_distribute_title":"Distribute","instance_distribute_users":"Users","instance_distribute_error_users_required":"Users required!","instance_distribute_approve_from_user_name_label":"Distribute from","instance_distribute_approve_remove":"Cancel distribute","instance_distribute_instance_look":"Look the distributed request","instance_distribute_note":"Distribute the currently selected request to a new workflow and proceed with the approval process.","instance_distribute_attachments":"Is distribute attachments.","instance_distribute_success":"Distribute success","instance_no_add_permission":"{$actiontype} failed, users no create permission: {$usernames}","instance_workflow_chart_ie_warning":"Do not support viewing the workflow chart in IE, please do this on client software or chrome.","instance_remind_title":"Remind","instance_remind_select_users":"Users","instance_remind_count":"Mode","instance_remind_deadline":"Deadline","instance_remind_success":"Remind successfully","instance_remind_need_remind_users":"Need users","instance_remind_need_remind_count":"Need mode","instance_remind_need_remind_deadline":"Need deadline","instance_remind_count_options":{"single":"single","multi":"multi"},"instance_opinion_title_select":"Select opinions","categories":"Workflow categories","categories_name":"Name","categories_sort_no":"Sort no","not_found_user":"Not Found User","next_step_users_not_found":{"aplicant_superior":"The applicant's superior is not configured, please contact the Administrator.","applicant_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","hr_role":"The <{$role_name}> you are looking for have not configured,Please contact the administrator.","field_value_empty":"Please enter the value of the <{$field_name}>field","org_no_members":"The next step need <{$org_name}> processing,Please contact the administrator."},"instanc_admin_role_text":"<a href='%s' target='_blank'> configuration in position</a>","instanc_user_role_text":" configuration in position","instanc_set_applicant_role_text":"set positions users","instance_sign_read":"Read","instance_sign_done":"Done","instance_sign_agree":"Agree","instance_sign_period":"。","instance_cc_alert":"Please confirm whether it need to circulate","instance_cc_must_finished":"The cc users：{$not_finished_users_name} had not deal with this request, so you can not submitt this instance to next step","instance_number_rules":"Request number rules","instance_number_rules_name":"Name","instance_number_rules_year":"Year","instance_number_rules_first_number":"Start sequence","instance_number_rules_number":"Sequence","instance_number_rules_rules":"Rules","instance_number_rules_number_builder_error_title":"Builder number error","instance_number_rules_number_builder_error_not_exist":"The number rule does not exist: ","ConfirmDeletion?":"Are you sure?","instance_number_rules_name_only":"The name can not be repeated","flows_btn_export_title":"Export Flow","flows_btn_copylink_title":"Copy Link","instance_distribute_related_instances_title":"Automatically create associated requests","instance_next_step_users_placeholder":"Please select the approver","instance_distribute_to_self":"Also distributed to yourself","my_instances":"My Requests","workflow_import_export_flows":"Workflow import or export","workflow_history_approve_counts":"Show %s history descriptions","workflow_history_approve_description":"History description","instances_start_date":"Receiving time","instances_is_archived":"Archived","instances_archive":"Archive","instances_archived":"Archived","instances_not_archived":"Not archived","workflow_more_inbox":"More Inbox","instance_back":"Back","steedos_tableau_statistical_analysis":"Statistical analysis","steedos_tableau_copy_link":"Copy link","tableau_introduction_modal_close":"Close","ERROR":"Error","steedos_table_add_item":"Add item","approved_description":"Approved","rejected_description":"Rejected","copy":"Copy and Create","from":"From","admin_flow_roles_create":"Create","flow_roles_delete_success":"Delete successfully","add_positions":"Add","save_role":"Save","delete_role":"Delete","flow_roles_update_success":"Update successfully","flow_roles_necessary":"Please fill in role's name","flow_positions_add_suceess":"Add successfully","flow_positions_add_failed":"Be failed to add","flow_positions_update_suceess":"Update successfully","flow_positions_update_failed":"Be failed to update","flow_positions_delete_suceess":"Delete successfully","instance_role_set_is_complete":"Flow Role set up?","instance_hr_role_set_is_complete":"Role set up?","instance_set_is_complete":"set up?","flow_roles_help":"Help","set_org_members":"Set department members","set_applicant_manager":"Set the applicant supervisor","instance_permissions_error":"You do not have permission to view this request","start_flows":"Start flows","chart_traces":"Chart Traces","cc_tag":"(Carbon Copying)","workflow_batch_approval":"Batch approval","workflow_batch_approval_btn":"Batch<br/>approval","workflow_batch_approval_processing":"Processing","workflow_batch_approval_message":"This processing file %s","workflow_error_multiple_next_step_users":"'{$insname}' the next person can not handle more than one","workflow_error_multiple_next_step":"'{$insname}' can not have more than one next step","workflow_batch_instances_empty":"There is no data for batch approval","workflow_sign_opinion_to_completed_instance":"This document is over and the signed opinion will not be displayed on the application","workflow_copy_flow":"Copy flow","workflow_copy_flow_text":"Please fill in the new flow name","workflow_copy_flow_success":"The copy flow is successful","workflow_copy_flow_error_reason_required":"Comments are required.","workflow_enabled":"Enabled","workflow_disabled":"Disabled","flows_state":"State","flows_current_modified":"Modified","flows_modified_by_name()":"Editor","flows_category_name()":"Categories","flow_list_title_set_template":"Set Template","flow_list_title_set_script":"Set Script","flow_list_title_set_fieldsMap":"Set Archive relationship","distribute_edit_flow_select_users":"users options","distribute_edit_flow_select_flows":"flows options","flow_list_title_set_distribute":"Set Distribute","distribute_to_self":"can distribute to self","distribute_end_notification":"notificate user after distributed end","instance_deleted":"Deleted","workflow_flow_state_disabled":"The state of flow({$name}) is disabled, Administrator can enable flow.","flow_roles_error_flows_used":"Role has been used by flows: {$names}","instance_approve_not_yet_handled":"Not yet handled","instance_approve_distribute_date_label":"Distribute date","flows_auto_remind":"Auto remind","flows_upload_after_being_distributed":"Allow upload after being distributed","instances_my_finish_date":"Modified","pager_input_hint":"Click and input page number, then press Enter to jump to the specified page","instance_hide_title":"Hide","instance_hide_success":"Hide Success","instance_reopen_title":"Unhide","instance_reopen_success":"Unhide Success","workflow_design_flow":"Design flow","process_delegation_rules":"Process Delegation","process_delegation_rules_from":"From","process_delegation_rules_to":"To","process_delegation_rules_enabled":"Enabled","process_delegation_rules_start_time":"Strat Time","process_delegation_rules_end_time":"End Time","process_delegation_rules_from_name":"From","process_delegation_rules_to_name":"To","process_delegation_rules_start_must_lt_end":"Strat time must less than end time","process_delegation_rules_description":"{$userName} delegated","instance_handler_name":"Handler","instance_handler_organization_fullname":"Organization","url_invalid":"Invalid link","instance_approve_timeout_auto_submitted":"Timeout auto submitted"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"zh-CN.i18n.json.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/i18n/zh-CN.i18n.json.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Package['universe:i18n'].i18n.addTranslations('zh-CN','',{"Steedos Workflow":"审批","inbox":"待审核","outbox":"已审核","draft":"草稿","pending":"进行中","completed":"已完成","monitor":"监控箱","FlowName":"名称","Search":"搜索","My Approval":"审核","My Applications":"我的申请单","Submit":"提交","steedos_desktop":"华炎云","menu_navigation":"导航","Workflow":"审批","form_new":"新建表单","instances":"审批","instances_name":"标题","instances_applicant_name":"提交人","instances_modified":"处理时间","instances_applicant_organization_name":"部门","instances_submit_date":"提交时间","instances_flow":"流程","instances_step_current_name":"当前步骤","instances_flow_name":"流程","instances_current_step_name":"当前步骤","instance_approve":"核准","instance_reject":"驳回","instance_readed":"已阅","instance_next_step":"下一步","instance_next_step_users":"处理人","instance_initiator":"提交人","instance_approval_history":"签核历程","instance_in_progress":"处理中","instance_submit":"提交","instance_save":"保存","instance_delete":"删除","instance_attachment":"附件","instance_cancel":"取消申请","instance_reassign":"转签核","instance_relocate":"重定位","instance_print":"打印","flow_roles":"审批岗位","flow_roles_name":"岗位名称","flow_positions":"岗位成员","flow_positions_role":"岗位","flow_positions_org":"审批范围","flow_positions_users":"岗位成员","flow_positions_role_name()":"岗位","flow_positions_org_name()":"审批范围","flow_positions_users_name()":"岗位成员","workflow_table_confirm":"确认","workflow_table_delete":"删除","Attachment deleted successfully":"文件删除成功!","Attachment was added successfully":"文件添加成功!","Saved successfully":"申请单已暂存.","Added successfully":"创建成功!","Deleted successfully":"删除成功!","Submitted successfully":"提交成功!","Canceled successfully":"取消申请成功!","Reasigned successfully":"转签核成功!","Relocated successfully":"重定位成功!","Attachments":"附件","Versions":"版本","Current Version":"（最新版本）","workflow_attachment_free_size_limit":"抱歉，免费版工作区只能上传1M以内的文件。","workflow_attachment_paid_size_limit":"您上传的文件大小不得超过","workflow_attachment_download":"下载","workflow_attachment_view":"查看","workflow_attachment_isReadOnly":"只读-","workflow_attachment_versions":"历史版本","workflow_attachment_uploading":"正在上传 ","workflow_attachment_downloading":"正在下载 %s...","workflow_attachment_creating":"正在新建word文档 %s...","workflow_attachment_officeOnline":"编辑","workflow_attachment_save":"保存","workflow_attachment_close":"关闭","workflow_attachment_delete":"删除","workflow_attachment_convert_to_pdf":"正在将 '%s' 转换为pdf格式文件...","workflow_attachment_wordToPdf":"转为pdf","workflow_attachment_wordToPdf_failed":"未转换成功，请重新尝试！","workflow_attachment_locked_tip":"您有文件正在编辑，请解锁后提交","Instance State approved":"已核准","Instance State rejected":"已驳回","Instance State terminated":"被取回","Instance State finished":"已完成","Instance State pending":"审核中","Instance State reassigned":"转签核","Instance State relocated":"重定位","Instance Relocate Hint":"请填写重定位的理由。","Instance Relocate Title":"重定位","Instance Relocate Reason":"请填写重定位的理由。","Instance Relocate NewInboxUsers":"请选择重定位审核人。","Instance Relocate Ok":"重定位提交成功。","Instance Relocate CurStep":"当前步骤: ","instance_reassign_title":"转签核","instance_reassign_curstep":"当前步骤: ","instance_reassign_reason":"请填写转签核的理由。","instance_reassign_ok":"转签核提交成功。","instance_reassign_user":"变更处理人","instance_cancel_title":"取消申请","instance_cancel_reason":"请填写取消申请的理由","instance_reassign_error_reason_required":"请填写转签核的理由。","instance_reassign_error_users_required":"请指定处理人。","instance_cancel_error_reason_required":"请填写取消申请的理由。","instance_select_next_step":"请选择下一步步骤","instance_multi_next_step_tips":"步骤选项有多个，请选择下一步步骤，并使用底部发送按钮提交文件","instance_next_step_user":"请选择下一步处理人","instance_reasons_reject":"驳回时必须填写意见","instance_field":"字段","instance_is_required":"为必填","instance_email_format_error":"邮件地址格式错误","node_office_edit_online":"在线编辑","node_office_message":"您正在使用在线编辑功能，编辑完成后请关闭Office软件。","node_office_warning":"文件已修改，请确认是否保存为新版本？","node_office_upload":"上传 ","node_office_confirm":"确定","node_office_cancel":"取消","node_office_uploaded":"文件已上传","node_office_filePath":"文件：","node_office_exists_message":"文件已存在，是否替换？","node_office_workflow":"审批王","node_pdf_error":"pdf签章失败，请重新进行签章！","node_pdf_sign_online":"在线签章","node_pdf_message":"您正在使用在线签章功能。","node_pdf_filePath":"文件：","workflow_export_thismonth":"导出当月申请单","workflow_export_lastmonth":"导出上月申请单","workflow_export_thisyear":"导出当年申请单","workflow_export_all":"导出所有申请单","workflow_export_filter":"按流程过滤","workflow_export_search":"按流程查看申请单","workflow_export_data":"导出申请单","spaces_isarrearageSpace":"您的工作区已欠费","cc_help":"https://www.steedos.com/cn/help/workflow/instance_carboncopy.html","relocate_help":"https://www.steedos.com/cn/help/workflow/instance_relocate.html","reassign_help":"https://www.steedos.com/cn/help/workflow/instance_reassign.html","forward_help":"https://www.steedos.com/cn/help/workflow/instance_forward.html","export_filter_help":"https://www.steedos.com/cn/help/workflow/instance_search.html","new_help":"https://www.steedos.com/cn/help/workflow/instance_add.html","Inbox Suggestion NextSteps Label":"下一步骤: ","Inbox Suggestion NextSteps Handler Label":"处理人: ","Workflow Designer":"流程设计器","User Management":"用户管理","All flows":"所有流程","Select a flow":"请点击流程分类选择相应流程","Fill in form":"填写表单","Flow upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","Are you sure?":"确认删除吗？","Select placeholder":"请选择","workflow_no_category":"未分类","space_users_error_space_required":"工作区必填","flow_roles_error_positions_exists":"已有用户担任该角色","workflow_left_parenthesis":"（","workflow_right_parenthesis":"）","instance_cc_description":"传阅说明","instance_cc_from":"传阅自","instance_cc_title":"传阅","instance_cc_done":"已传阅","instance_curstep":"当前步骤: ","instance_cc_user":"传阅对象","instance_cc_error_users_required":"请选择传阅对象。","workflow_form_edit":"流程列表","flows_template":"申请单模板","flows_name":"流程名称","flows_print_template":"打印模板","flows_instance_template":"表单模板","flows_description":"流程描述","workflow_attach_unlock":"解锁","workflow_attach_locked_by":"%s 正在编辑","workflow_attach_confirm_delete":"确认删除","workflow_attach_confirm_delete_messages":"你确定删除'%s'吗？","workflow_attach_confirm":"删除","workflow_attach_cancel":"取消","workflow_attach_to_pdf":"转为pdf","workflow_attach_to_pdf_message":"是否将'%s'转为pdf格式文件？","workflow_attach_upload":"上传","workflow_attach_new":"新建","workflow_attachment_signature":"签章","workflow_select_an_app":"应用","workflow_suggestion_placeholder":"请填写意见。","instance_opinion_title":"常用意见","instance_opinion_btn":"常用</br>意见","instance_opinion_input":"请输入常用意见","instance_opinion_add_success":"添加成功!","instance_opinion_remove_success":"移除成功!","instance_opinion_error":"出错了","instance_opinion_exists":"常用意见已存在","instance_opinion_add_tip":"您还没有设置常用意见。","instance_forward_title":"转发","form_field_checkbox_yes":"是","form_field_checkbox_no":"否","flows_events":"自定义脚本","flows_events_error":"自定义脚本错误: ","instance_search_advanced_search":"高级搜索","instance_search_flow":"流程","instance_search_name":"申请单标题","instance_search_file":"文件标题","instance_search_applicant_name":"提交人姓名","instance_search_applicant_organization_name":"提交人所属部门名称","instance_search_submit_date":"提交日期","instance_search_start":"起","instance_search_end":"至","instance_search_result_tip":"过滤的结果","instance_search_state":"申请单状态","instance_search_state_options":{"pending":"流转中","completed":"已结束"},"instance":{"formatter":{"date":{"simple_date":"YYYY年MM月DD日","simple_datetime":"YYYY年MM月DD日 HH:mm","export_date":"YYYY-MM-DD","export_datetime":"YYYY-MM-DD HH:mm"},"checkbox":{"checked":"是","unchecked":"否"}},"instance_view":"<br/><br/>申请单内容摘要如下:<br/>工作区 : {$space_name};<br/>提交 : {$applicant_name};<br/>提交日期 : {$submit_date};","push":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","title":{"first_submit_applicant":"{$from_username}","first_submit_inbox":"{$from_username}","submit_pending_rejected_applicant_inbox":"{$from_username}","submit_pending_rejected_applicant":"{$from_username}","submit_pending_rejected_approve":"{$from_username}","submit_pending_rejected_inbox":"{$from_username}","submit_pending_inbox":"{$from_username}","submit_terminate_applicant":"{$from_username}","submit_terminate_approve":"{$from_username}","monitor_delete_applicant":"{$applicant_name}","submit_completed_applicant":"{$applicant_name}","submit_completed_approve":"{$from_username}","approved_completed_applicant":"{$applicant_name}","approved_completed_approve":"{$from_username}","rejected_completed_applicant":"{$applicant_name}","rejected_completed_approve":"{$from_username}","reassign_new_inbox_users":"{$from_username}","trace_approve_cc":"{$from_username}","trace_approve_cc_submit":"{$from_username}","auto_submit_pending_inbox":"{$from_username}","return_pending_inbox":"{$from_username}"},"body":{"input":"确认","approval":"审批","first_submit_applicant":"请确认:我已代您提交了{$instance_name}","first_submit_inbox":"{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$instance_name}","submit_pending_inbox":"{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"您的{$instance_name}已被删除","submit_completed_applicant":"您的{$instance_name}已被确认","submit_completed_approve":"","approved_completed_applicant":"您的{$instance_name}已被核准","approved_completed_approve":"","rejected_completed_applicant":"您的{$instance_name}已被驳回","rejected_completed_approve":"","reassign_new_inbox_users":"{$instance_name}","trace_approve_cc":"{$instance_name}","remind":"催办通知：{$instance_name}，办结时限：{$deadline}。","trace_approve_cc_submit":"我已提交了传阅的申请单{$instance_name}","distribute_remind":"您分发的{$instance_name}申请单已结束。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"您的{$instance_name}已被退回"}},"email":{"final_decision_approved":"被核准，","final_decision_rejected":"被驳回，","final_decision_nil":"","inscribed":"<br/><br/>","footnote":"这是由审批王自动发送的邮件, 请不要直接回复。","title":{"input":"确认","approval":"审批","first_submit_applicant":"{$from_username}代您提交了{$instance_name}","first_submit_inbox":"请{$approve_type}:{$instance_name}","submit_pending_rejected_applicant_inbox":"请修改:{$instance_name}","submit_pending_rejected_applicant":"您的{$instance_name}已驳回给{$nextApprove_usersname}","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"请重新{$approve_type}:{$instance_name}","submit_pending_inbox":"请{$approve_type}:{$instance_name}","submit_terminate_applicant":"{$instance_name}被我取消申请了","submit_terminate_approve":"","monitor_delete_applicant":"删除了您的{$instance_name}","submit_completed_applicant":"确认了您的{$instance_name}","submit_completed_approve":"","approved_completed_applicant":"核准了您的{$instance_name}","approved_completed_approve":"","rejected_completed_applicant":"驳回了您的{$instance_name}","rejected_completed_approve":"","reassign_new_inbox_users":"请{$approve_type}:{$instance_name}","trace_approve_cc":"请{$approve_type}:{$instance_name}","auto_submit_pending_inbox":"您的{$instance_name}已超时自动流转","return_pending_inbox":"退回了您的{$instance_name}"},"body":{"url_input":"查看并确认","url_approval":"进行审批","input":"确认","approval":"审批","judge_approved":"核准","judge_submitted":"确认","email_description":"驳回理由是:{$description} 。","first_submit_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/><a href = {$href}>请点击查看</a>。","first_submit_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>我已代您提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","first_submit_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","first_submit_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}提交了{$instance_name}。<br/>备注是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_rejected_applicant_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的申请单被{$lastApprove_usersname}驳回，请确认是否要修改。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被{$lastApprove_usersname}驳回, 目前{$nextApprove_usersname}正在处理中。<br/>{$description} <br/><a href = {$href}>请点击查看</a>。","submit_pending_rejected_approve":"","submit_pending_rejected_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请重新{$approve_type} : {$applicant_name}的{$instance_name}, 此申请单被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已{$last_approve_judge}此申请单。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","submit_pending_inbox_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>请{$approve_type} : {$applicant_name}的{$instance_name}。{$lastApprove_usersname}已确认此申请单。<br/>他/她们的意见是 : <br/>","submit_terminate_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被取消申请。<br/>取消申请的理由是：{$description}。","submit_terminate_approve":"","monitor_delete_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被删除。","submit_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","submit_completed_applicant_beApproveDescription_counterSign":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}确认, 完成审核。<br/>他/她们的意见是 :<br/> ","submit_completed_approve":"","approved_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/><a href = {$href}>请点击查看</a>。","approved_completed_applicant_beApproveDescription":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}核准, 完成审核。<br/>他/她的意见是 : {$approves_description}<br/><a href = {$href}>请点击查看</a>。","approved_completed_approve":"","rejected_completed_applicant":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}已被{$lastApprove_usersname}驳回。<br/>{$description}<br/><a href = {$href}>请点击查看</a>。","rejected_completed_approve":"","reassign_new_inbox_users":"{$to_username}:<br/><br/>您好！<br/><br/>{$current_user_name}将{$applicant_name}的{$instance_name}转发给您{$approve_type}。<br/>转发的理由是：{$description}<br/><a href = {$href}>请点击{$url_approve_type}</a>。","trace_approve_cc":"{$to_username}:<br/><br/>您好！<br/><br/>{$applicant_name}传阅了{$instance_name}。<br/><a href = {$href}>请点击{$url_approve_type}</a>。","auto_submit_pending_inbox":"您的申请单{$instance_name}处理已超时，现已自动发送至{$current_step_name}","return_pending_inbox":"{$to_username}:<br/><br/>您好！<br/><br/>您的{$instance_name}被退回。<br/>退回的理由是：{$description}。"}},"sms":{"submit_pending_inbox":"您有新的待审核：{$instance_name}，提交人：{$applicant_name}"},"remindMessage":{"update_failed":"申请单状态已更新，您的操作未能执行。","has_deleted":"申请单已删除。"},"judge":{"approved":"核准","rejected":"驳回"}},"flow":{"point_upgraded":"流程已升级，请检查您填写的内容是否符合修改后的要求。","print_select_template_alert":"只有专业版才有自定义模板功能，如有需要请升级到专业版或联系客服","print_select_title":"打印样式","print_default_print_title":"默认","print_custom_print_title":"自定义","print_button_title":"打印","print_html_title":"审批王"},"help":{"href":"<a href = {$href}>请点击查看</a>。","approves":"签核历程","initiator":"提交人 : ","attachment":"附件"},"export":{"code":"编号","name":"名称","initiator":"提交人","initiator_org":"提交人所属部门","submit_date":"提交日期","status":"状态","current_step_name":"当前步骤","current_step_start_date":"当前步骤开始日期","state":{"pending":"审核中","approved":"已核准","rejected":"已驳回","terminated":"被取回","finished":"已完成","reassigned":"转签核","inhand":"处理中","relocated":"重定位"}},"steedos":"华炎云","cc":"传阅","saveInstanceToAttachment":"将原表单存储为附件","forwardFlowText":"备注","instanceForwardNote":"将当前选中的文件转发到新的流程，继续执行审批操作","isForwardAttachments":"同时转发原表单附件","button_preview":"预览","remove_cc_approve":"传阅删除成功","forward_instance_success":"文件转发成功","instance_retrieve":"取回","instance_retrieve_reason":"备注","instance_retrieve_rules_title":"无法取回","instance_retrieve_rules_content":"下一步处理人已读无法取回；会签节点无法取回。","Retrieved successfully":"取回成功!","Instance State retrieved":"取回","instance_chrome_print_warning":"请使用Chrome浏览器进行打印","instance_sign":"签批","instance_default_opinion":"已阅","instance_submit_date":"提交日期","instance_opinion_edit":"请修改常用意见","instance_opinion_edit_success":"修改成功","instance_opinion_field":"签批字段","instance_cc_error_opinion_field_required":"请选择签批字段","instance_suggestion_toggle":"签批","instance_approve_read":"已读","instance_approve_from_user_name_label":"传阅自","instance_approve_status_text_label":"操作","instance_approve_description_label":"处理意见","instance_approve_start_date_label":"开始时间","instance_approve_finish_date_label":"结束时间","instance_approve_read_yes":"是","instance_approve_read_no":"否","instance_approve_cc_remove":"取消传阅","instance_approve_close_modal":"关闭","instance_approve_title_label":"处理人：","instance_forward_users":"转发对象","instance_forward_error_users_required":"请选择对象!","instance_approve_from_user_name_label_forward":"转发自","instance_approve_forward_remove":"取消转发","instance_approve_forward_remove_success":"取消成功","instance_forward_instance_look":"查看转发后申请单","instance_forward_cannot_cancel":"不符合取消条件！","instance_forward_instance_state_changed":"申请单状态已更新，不能取消！","instance_approve_modal_modification":"修改","instance_approve_modal_save":"保存","instance_approve_moda_back":"取消","instance_approve_modal_modificationsave":"您的修改保存成功","webhooks":"Webhooks","webhooks_flow":"流程","webhooks_payload_url":"URL","webhooks_active":"激活","webhooks_content_type":"传输数据类型","edit":"编辑","flow_list":"流程列表","import_flow":"导入流程","import_flow_success":"导入成功","import_flow_error":"导入失败","import_flow_info":"请选择需要导入的流程","webhooks_flow_name()":"流程","webhooks_description":"描述","workflow_list":"流程列表","workflow_import_flow":"导入流程","workflow_import_flow_success":"导入成功","workflow_import_flow_error":"导入失败","workflow_import_flow_info":"请选择需要导入的流程","flows":"流程","instance_readonly_view_url_copy":"复制链接","instance_readonly_view_url_copy_success":"Tableau Web 数据连接器已复制","instance_related_instances":"相关文件","instance_related_instances_title":"关联文件","instance_related_instances_placeholder":"请输入文件名称搜索关联文件","workflow_install_desktop":"安装客户端","workflow_chart":"流程图","instance_return":"退回","instance_return_success":"退回成功","instance_return_confirm":"确认退回至{$step_name}({$handlers_name})?","Instance State returned":"已退回","instance_main_attachment":"正文","flows_field_map":"归档关系","Instance State readed":"已阅","instance_distribute_title":"分发","instance_distribute_users":"分发对象","instance_distribute_error_users_required":"请选择分发对象!","instance_distribute_approve_from_user_name_label":"分发自","instance_distribute_approve_remove":"取消分发","instance_distribute_instance_look":"查看分发后申请单","instance_distribute_note":"将当前选中的文件分发到新的流程，继续执行审批操作","instance_distribute_attachments":"同时分发原表单附件","instance_distribute_success":"文件分发成功","instance_no_add_permission":"{$actiontype}未成功。以下用户没有新建此申请单的权限：{$usernames}","instance_workflow_chart_ie_warning":"暂不支持在IE中查看流程图，请在客户端软件或chrome上执行该操作。","instance_remind_title":"催办","instance_remind_select_users":"催办对象","instance_remind_count":"催办方式","instance_remind_deadline":"办结时限","instance_remind_success":"催办成功","instance_remind_need_remind_users":"缺少催办对象","instance_remind_need_remind_count":"缺少催办方式","instance_remind_need_remind_deadline":"缺少办结时限","instance_remind_count_options":{"single":"单次提醒","multi":"多次提醒"},"instance_opinion_title_select":"其他常用意见","categories":"流程分类","categories_name":"名称","categories_sort_no":"排序号","not_found_user":"未找到处理人","next_step_users_not_found":{"aplicant_superior":"申请人上级未配置，请联系管理员。","applicant_role":"您要找的「{$role_name}」还未配置，请联系管理员。","hr_role":"您要找的「{$role_name}」角色还未配置，请联系管理员。","field_value_empty":"获取处理人，请先填写「{$field_name}」。","org_no_members":"下一步需「{$org_name}」处理，请联系管理员。"},"instanc_admin_role_text":"<a href='%s' target='_blank'>岗位中进行配置。</a>","instanc_user_role_text":"岗位中进行配置","instanc_set_applicant_role_text":"设置","instance_sign_read":"已阅","instance_sign_done":"已办","instance_sign_agree":"同意","instance_sign_period":"。","instance_cc_alert":"还需传阅给其他人员吗？","instance_cc_must_finished":"当前步骤被传阅人员：{$not_finished_users_name} 还未处理，故不能提交至下一步","instance_number_rules":"流程编号规则","instance_number_rules_name":"名称","instance_number_rules_year":"年份","instance_number_rules_first_number":"起始序号","instance_number_rules_number":"序号","instance_number_rules_rules":"编号规则","instance_number_rules_number_builder_error_title":"文件编号生成失败","instance_number_rules_number_builder_error_not_exist":"流程编号规则不存在: ","ConfirmDeletion?":"确认删除?","instance_number_rules_name_only":"名称已存在","flows_btn_export_title":"导出流程","flows_btn_copylink_title":"复制链接","instance_distribute_related_instances_title":"自动创建关联文件","instance_next_step_users_placeholder":"请选择下一步处理人","instance_distribute_to_self":"同时分发给自己","my_instances":"我的文件","workflow_import_export_flows":"流程导入导出","workflow_history_approve_counts":"已显示%s条历史意见","workflow_history_approve_description":"历史意见","instances_start_date":"接收时间","instances_is_archived":"已归档","instances_archive":"归档","instances_archived":"已归档","instances_not_archived":"未归档","workflow_more_inbox":"更多待审核","instance_back":"返回","steedos_tableau_statistical_analysis":"统计分析","steedos_tableau_copy_link":"复制链接","tableau_introduction_modal_close":"关闭","ERROR":"错误","steedos_table_add_item":"新增一行","approved_description":"同意","rejected_description":"不同意","copy":"复制并新建","from":"来自","admin_flow_roles_create":"新建","flow_roles_delete_success":"删除成功","add_positions":"新增","save_role":"保存","delete_role":"删除","flow_roles_update_success":"更新成功","flow_roles_necessary":"请填写岗位名称","flow_positions_add_suceess":"添加成功","flow_positions_add_failed":"添加失败","flow_positions_update_suceess":"更新成功","flow_positions_update_failed":"更新失败","flow_positions_delete_suceess":"删除成功","instance_role_set_is_complete":"岗位设置完成？","instance_hr_role_set_is_complete":"角色设置完成？","instance_set_is_complete":"设置完成？","flow_roles_help":"帮助","set_org_members":"设置部门成员","set_applicant_manager":"设置申请人上级主管","instance_permissions_error":"您没有权限查看此申请单","start_flows":"星标流程","chart_traces":"图形化历程","cc_tag":"（传阅中）","workflow_batch_approval":"批量审批","workflow_batch_approval_btn":"批量<br/>审批","workflow_batch_approval_processing":"处理中","workflow_batch_approval_message":"本次处理文件%s份","workflow_error_multiple_next_step_users":"「{$insname}」的下一步处理人有多个","workflow_error_multiple_next_step":"「{$insname}」的下一步步骤有多个","workflow_batch_instances_empty":"没有可批量审批的数据","workflow_sign_opinion_to_completed_instance":"此文件已结束，签署的意见不会显示在申请单上","workflow_copy_flow":"复制流程","workflow_copy_flow_text":"请填写新流程名称","workflow_copy_flow_success":"复制流程成功","workflow_copy_flow_error_reason_required":"请填写新流程名称","workflow_enabled":"启用","workflow_disabled":"停用","flows_state":"状态","flows_current_modified":"修改时间","flows_modified_by_name()":"修改者","flows_category_name()":"流程分类","flow_list_title_set_template":"设置模版","flow_list_title_set_script":"设置脚本","flow_list_title_set_fieldsMap":"设置归档关系","distribute_edit_flow_select_users":"流程被分发时分发对象选择范围","distribute_edit_flow_select_flows":"搜索此步骤可分发流程","flow_list_title_set_distribute":"设置分发","distribute_to_self":"分发时可分发给自己","distribute_end_notification":"分发结束后提醒发起人","instance_deleted":"已删除","workflow_flow_state_disabled":"此申请单对应流程\"{$name}\"已被禁用，如想正常修改及提交请联系管理员启用流程","flow_roles_error_flows_used":"已有以下流程使用此角色：{$names}","instance_approve_not_yet_handled":"未处理","instance_approve_distribute_date_label":"分发时间","flows_auto_remind":"自动催办","flows_upload_after_being_distributed":"被分发后是否允许上传附件","instances_my_finish_date":"处理时间","pager_input_hint":"点击输入页码，然后按回车可跳转到指定页","instance_hide_title":"隐藏","instance_hide_success":"隐藏成功","instance_reopen_title":"取消隐藏","instance_reopen_success":"取消隐藏成功","workflow_design_flow":"设计流程","process_delegation_rules":"流程委托","process_delegation_rules_from":"委托人","process_delegation_rules_to":"被委托人","process_delegation_rules_enabled":"启用","process_delegation_rules_start_time":"委托开始","process_delegation_rules_end_time":"委托结束","process_delegation_rules_from_name":"委托人","process_delegation_rules_to_name":"被委托人","process_delegation_rules_start_must_lt_end":"开始时间应小于结束时间","process_delegation_rules_description":"{$userName}委托","instance_handler_name":"处理人","instance_handler_organization_fullname":"部门","url_invalid":"无效的链接","instance_approve_timeout_auto_submitted":"超时通过"});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"checkNpm.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/checkNpm.js                                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
let checkNpmVersions;
module.link("meteor/tmeasday:check-npm-versions", {
  checkNpmVersions(v) {
    checkNpmVersions = v;
  }

}, 0);
checkNpmVersions({
  "node-schedule": "^1.3.1",
  cookies: "^0.6.2",
  "xml2js": "^0.4.19",
  mkdirp: "^0.3.5",
  "sprintf-js": "^1.0.3"
}, 'steedos:workflow');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"lib":{"URI.js":function(require,exports,module){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/URI.js                                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/*!
 * URI.js - Mutating URLs
 *
 * Version: 1.17.0
 *
 * Author: Rodney Rehm
 * Web: http://medialize.github.io/URI.js/
 *
 * Licensed under
 *   MIT License http://www.opensource.org/licenses/mit-license
 *   GPL v3 http://opensource.org/licenses/GPL-3.0
 *
 */
(function (root, factory) {
  'use strict'; // https://github.com/umdjs/umd/blob/master/returnExports.js
  // if (typeof exports === 'object') {
  //   // Node
  //   module.exports = factory(require('./punycode'), require('./IPv6'), require('./SecondLevelDomains'));
  // } else

  if (typeof define === 'function' && define.amd) {
    // AMD. Register as an anonymous module.
    define(['./punycode', './IPv6', './SecondLevelDomains'], factory);
  } else {
    // Browser globals (root is window)
    root.URI = factory(root.punycode, root.IPv6, root.SecondLevelDomains, root);
  }
})(this, function (punycode, IPv6, SLD, root) {
  'use strict';
  /*global location, escape, unescape */
  // FIXME: v2.0.0 renamce non-camelCase properties to uppercase

  /*jshint camelcase: false */
  // save current URI variable, if any

  var _URI = root && root.URI;

  function URI(url, base) {
    var _urlSupplied = arguments.length >= 1;

    var _baseSupplied = arguments.length >= 2; // Allow instantiation without the 'new' keyword


    if (!(this instanceof URI)) {
      if (_urlSupplied) {
        if (_baseSupplied) {
          return new URI(url, base);
        }

        return new URI(url);
      }

      return new URI();
    }

    if (url === undefined) {
      if (_urlSupplied) {
        throw new TypeError('undefined is not a valid argument for URI');
      }

      if (typeof location !== 'undefined') {
        url = location.href + '';
      } else {
        url = '';
      }
    }

    this.href(url); // resolve to base according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#constructor

    if (base !== undefined) {
      return this.absoluteTo(base);
    }

    return this;
  }

  URI.version = '1.17.0';
  var p = URI.prototype;
  var hasOwn = Object.prototype.hasOwnProperty;

  function escapeRegEx(string) {
    // https://github.com/medialize/URI.js/commit/85ac21783c11f8ccab06106dba9735a31a86924d#commitcomment-821963
    return string.replace(/([.*+?^=!:${}()|[\]\/\\])/g, '\\$1');
  }

  function getType(value) {
    // IE8 doesn't return [Object Undefined] but [Object Object] for undefined value
    if (value === undefined) {
      return 'Undefined';
    }

    return String(Object.prototype.toString.call(value)).slice(8, -1);
  }

  function isArray(obj) {
    return getType(obj) === 'Array';
  }

  function filterArrayValues(data, value) {
    var lookup = {};
    var i, length;

    if (getType(value) === 'RegExp') {
      lookup = null;
    } else if (isArray(value)) {
      for (i = 0, length = value.length; i < length; i++) {
        lookup[value[i]] = true;
      }
    } else {
      lookup[value] = true;
    }

    for (i = 0, length = data.length; i < length; i++) {
      /*jshint laxbreak: true */
      var _match = lookup && lookup[data[i]] !== undefined || !lookup && value.test(data[i]);
      /*jshint laxbreak: false */


      if (_match) {
        data.splice(i, 1);
        length--;
        i--;
      }
    }

    return data;
  }

  function arrayContains(list, value) {
    var i, length; // value may be string, number, array, regexp

    if (isArray(value)) {
      // Note: this can be optimized to O(n) (instead of current O(m * n))
      for (i = 0, length = value.length; i < length; i++) {
        if (!arrayContains(list, value[i])) {
          return false;
        }
      }

      return true;
    }

    var _type = getType(value);

    for (i = 0, length = list.length; i < length; i++) {
      if (_type === 'RegExp') {
        if (typeof list[i] === 'string' && list[i].match(value)) {
          return true;
        }
      } else if (list[i] === value) {
        return true;
      }
    }

    return false;
  }

  function arraysEqual(one, two) {
    if (!isArray(one) || !isArray(two)) {
      return false;
    } // arrays can't be equal if they have different amount of content


    if (one.length !== two.length) {
      return false;
    }

    one.sort();
    two.sort();

    for (var i = 0, l = one.length; i < l; i++) {
      if (one[i] !== two[i]) {
        return false;
      }
    }

    return true;
  }

  function trimSlashes(text) {
    var trim_expression = /^\/+|\/+$/g;
    return text.replace(trim_expression, '');
  }

  URI._parts = function () {
    return {
      protocol: null,
      username: null,
      password: null,
      hostname: null,
      urn: null,
      port: null,
      path: null,
      query: null,
      fragment: null,
      // state
      duplicateQueryParameters: URI.duplicateQueryParameters,
      escapeQuerySpace: URI.escapeQuerySpace
    };
  }; // state: allow duplicate query parameters (a=1&a=1)


  URI.duplicateQueryParameters = false; // state: replaces + with %20 (space in query strings)

  URI.escapeQuerySpace = true; // static properties

  URI.protocol_expression = /^[a-z][a-z0-9.+-]*$/i;
  URI.idn_expression = /[^a-z0-9\.-]/i;
  URI.punycode_expression = /(xn--)/i; // well, 333.444.555.666 matches, but it sure ain't no IPv4 - do we care?

  URI.ip4_expression = /^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/; // credits to Rich Brown
  // source: http://forums.intermapper.com/viewtopic.php?p=1096#1096
  // specification: http://www.ietf.org/rfc/rfc4291.txt

  URI.ip6_expression = /^\s*((([0-9A-Fa-f]{1,4}:){7}([0-9A-Fa-f]{1,4}|:))|(([0-9A-Fa-f]{1,4}:){6}(:[0-9A-Fa-f]{1,4}|((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){5}(((:[0-9A-Fa-f]{1,4}){1,2})|:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3})|:))|(([0-9A-Fa-f]{1,4}:){4}(((:[0-9A-Fa-f]{1,4}){1,3})|((:[0-9A-Fa-f]{1,4})?:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){3}(((:[0-9A-Fa-f]{1,4}){1,4})|((:[0-9A-Fa-f]{1,4}){0,2}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){2}(((:[0-9A-Fa-f]{1,4}){1,5})|((:[0-9A-Fa-f]{1,4}){0,3}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(([0-9A-Fa-f]{1,4}:){1}(((:[0-9A-Fa-f]{1,4}){1,6})|((:[0-9A-Fa-f]{1,4}){0,4}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:))|(:(((:[0-9A-Fa-f]{1,4}){1,7})|((:[0-9A-Fa-f]{1,4}){0,5}:((25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}))|:)))(%.+)?\s*$/; // expression used is "gruber revised" (@gruber v2) determined to be the
  // best solution in a regex-golf we did a couple of ages ago at
  // * http://mathiasbynens.be/demo/url-regex
  // * http://rodneyrehm.de/t/url-regex.html

  URI.find_uri_expression = /\b((?:[a-z][\w-]+:(?:\/{1,3}|[a-z0-9%])|www\d{0,3}[.]|[a-z0-9.\-]+[.][a-z]{2,4}\/)(?:[^\s()<>]+|\(([^\s()<>]+|(\([^\s()<>]+\)))*\))+(?:\(([^\s()<>]+|(\([^\s()<>]+\)))*\)|[^\s`!()\[\]{};:'".,<>?«»“”‘’]))/ig;
  URI.findUri = {
    // valid "scheme://" or "www."
    start: /\b(?:([a-z][a-z0-9.+-]*:\/\/)|www\.)/gi,
    // everything up to the next whitespace
    end: /[\s\r\n]|$/,
    // trim trailing punctuation captured by end RegExp
    trim: /[`!()\[\]{};:'".,<>?«»“”„‘’]+$/
  }; // http://www.iana.org/assignments/uri-schemes.html
  // http://en.wikipedia.org/wiki/List_of_TCP_and_UDP_port_numbers#Well-known_ports

  URI.defaultPorts = {
    http: '80',
    https: '443',
    ftp: '21',
    gopher: '70',
    ws: '80',
    wss: '443'
  }; // allowed hostname characters according to RFC 3986
  // ALPHA DIGIT "-" "." "_" "~" "!" "$" "&" "'" "(" ")" "*" "+" "," ";" "=" %encoded
  // I've never seen a (non-IDN) hostname other than: ALPHA DIGIT . -

  URI.invalid_hostname_characters = /[^a-zA-Z0-9\.-]/; // map DOM Elements to their URI attribute

  URI.domAttributes = {
    'a': 'href',
    'blockquote': 'cite',
    'link': 'href',
    'base': 'href',
    'script': 'src',
    'form': 'action',
    'img': 'src',
    'area': 'href',
    'iframe': 'src',
    'embed': 'src',
    'source': 'src',
    'track': 'src',
    'input': 'src',
    // but only if type="image"
    'audio': 'src',
    'video': 'src'
  };

  URI.getDomAttribute = function (node) {
    if (!node || !node.nodeName) {
      return undefined;
    }

    var nodeName = node.nodeName.toLowerCase(); // <input> should only expose src for type="image"

    if (nodeName === 'input' && node.type !== 'image') {
      return undefined;
    }

    return URI.domAttributes[nodeName];
  };

  function escapeForDumbFirefox36(value) {
    // https://github.com/medialize/URI.js/issues/91
    return escape(value);
  } // encoding / decoding according to RFC3986


  function strictEncodeURIComponent(string) {
    // see https://developer.mozilla.org/en-US/docs/JavaScript/Reference/Global_Objects/encodeURIComponent
    return encodeURIComponent(string).replace(/[!'()*]/g, escapeForDumbFirefox36).replace(/\*/g, '%2A');
  }

  URI.encode = strictEncodeURIComponent;
  URI.decode = decodeURIComponent;

  URI.iso8859 = function () {
    URI.encode = escape;
    URI.decode = unescape;
  };

  URI.unicode = function () {
    URI.encode = strictEncodeURIComponent;
    URI.decode = decodeURIComponent;
  };

  URI.characters = {
    pathname: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(24|26|2B|2C|3B|3D|3A|40)/ig,
        map: {
          // -._~!'()*
          '%24': '$',
          '%26': '&',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%3A': ':',
          '%40': '@'
        }
      },
      decode: {
        expression: /[\/\?#]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23'
        }
      }
    },
    reserved: {
      encode: {
        // RFC3986 2.1: For consistency, URI producers and normalizers should
        // use uppercase hexadecimal digits for all percent-encodings.
        expression: /%(21|23|24|26|27|28|29|2A|2B|2C|2F|3A|3B|3D|3F|40|5B|5D)/ig,
        map: {
          // gen-delims
          '%3A': ':',
          '%2F': '/',
          '%3F': '?',
          '%23': '#',
          '%5B': '[',
          '%5D': ']',
          '%40': '@',
          // sub-delims
          '%21': '!',
          '%24': '$',
          '%26': '&',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '='
        }
      }
    },
    urnpath: {
      // The characters under `encode` are the characters called out by RFC 2141 as being acceptable
      // for usage in a URN. RFC2141 also calls out "-", ".", and "_" as acceptable characters, but
      // these aren't encoded by encodeURIComponent, so we don't have to call them out here. Also
      // note that the colon character is not featured in the encoding map; this is because URI.js
      // gives the colons in URNs semantic meaning as the delimiters of path segements, and so it
      // should not appear unencoded in a segment itself.
      // See also the note above about RFC3986 and capitalalized hex digits.
      encode: {
        expression: /%(21|24|27|28|29|2A|2B|2C|3B|3D|40)/ig,
        map: {
          '%21': '!',
          '%24': '$',
          '%27': '\'',
          '%28': '(',
          '%29': ')',
          '%2A': '*',
          '%2B': '+',
          '%2C': ',',
          '%3B': ';',
          '%3D': '=',
          '%40': '@'
        }
      },
      // These characters are the characters called out by RFC2141 as "reserved" characters that
      // should never appear in a URN, plus the colon character (see note above).
      decode: {
        expression: /[\/\?#:]/g,
        map: {
          '/': '%2F',
          '?': '%3F',
          '#': '%23',
          ':': '%3A'
        }
      }
    }
  };

  URI.encodeQuery = function (string, escapeQuerySpace) {
    var escaped = URI.encode(string + '');

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    return escapeQuerySpace ? escaped.replace(/%20/g, '+') : escaped;
  };

  URI.decodeQuery = function (string, escapeQuerySpace) {
    string += '';

    if (escapeQuerySpace === undefined) {
      escapeQuerySpace = URI.escapeQuerySpace;
    }

    try {
      return URI.decode(escapeQuerySpace ? string.replace(/\+/g, '%20') : string);
    } catch (e) {
      // we're not going to mess with weird encodings,
      // give up and return the undecoded original string
      // see https://github.com/medialize/URI.js/issues/87
      // see https://github.com/medialize/URI.js/issues/92
      return string;
    }
  }; // generate encode/decode path functions


  var _parts = {
    'encode': 'encode',
    'decode': 'decode'
  };

  var _part;

  var generateAccessor = function (_group, _part) {
    return function (string) {
      try {
        return URI[_part](string + '').replace(URI.characters[_group][_part].expression, function (c) {
          return URI.characters[_group][_part].map[c];
        });
      } catch (e) {
        // we're not going to mess with weird encodings,
        // give up and return the undecoded original string
        // see https://github.com/medialize/URI.js/issues/87
        // see https://github.com/medialize/URI.js/issues/92
        return string;
      }
    };
  };

  for (_part in _parts) {
    URI[_part + 'PathSegment'] = generateAccessor('pathname', _parts[_part]);
    URI[_part + 'UrnPathSegment'] = generateAccessor('urnpath', _parts[_part]);
  }

  var generateSegmentedPathFunction = function (_sep, _codingFuncName, _innerCodingFuncName) {
    return function (string) {
      // Why pass in names of functions, rather than the function objects themselves? The
      // definitions of some functions (but in particular, URI.decode) will occasionally change due
      // to URI.js having ISO8859 and Unicode modes. Passing in the name and getting it will ensure
      // that the functions we use here are "fresh".
      var actualCodingFunc;

      if (!_innerCodingFuncName) {
        actualCodingFunc = URI[_codingFuncName];
      } else {
        actualCodingFunc = function (string) {
          return URI[_codingFuncName](URI[_innerCodingFuncName](string));
        };
      }

      var segments = (string + '').split(_sep);

      for (var i = 0, length = segments.length; i < length; i++) {
        segments[i] = actualCodingFunc(segments[i]);
      }

      return segments.join(_sep);
    };
  }; // This takes place outside the above loop because we don't want, e.g., encodeUrnPath functions.


  URI.decodePath = generateSegmentedPathFunction('/', 'decodePathSegment');
  URI.decodeUrnPath = generateSegmentedPathFunction(':', 'decodeUrnPathSegment');
  URI.recodePath = generateSegmentedPathFunction('/', 'encodePathSegment', 'decode');
  URI.recodeUrnPath = generateSegmentedPathFunction(':', 'encodeUrnPathSegment', 'decode');
  URI.encodeReserved = generateAccessor('reserved', 'encode');

  URI.parse = function (string, parts) {
    var pos;

    if (!parts) {
      parts = {};
    } // [protocol"://"[username[":"password]"@"]hostname[":"port]"/"?][path]["?"querystring]["#"fragment]
    // extract fragment


    pos = string.indexOf('#');

    if (pos > -1) {
      // escaping?
      parts.fragment = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract query


    pos = string.indexOf('?');

    if (pos > -1) {
      // escaping?
      parts.query = string.substring(pos + 1) || null;
      string = string.substring(0, pos);
    } // extract protocol


    if (string.substring(0, 2) === '//') {
      // relative-scheme
      parts.protocol = null;
      string = string.substring(2); // extract "user:pass@host:port"

      string = URI.parseAuthority(string, parts);
    } else {
      pos = string.indexOf(':');

      if (pos > -1) {
        parts.protocol = string.substring(0, pos) || null;

        if (parts.protocol && !parts.protocol.match(URI.protocol_expression)) {
          // : may be within the path
          parts.protocol = undefined;
        } else if (string.substring(pos + 1, pos + 3) === '//') {
          string = string.substring(pos + 3); // extract "user:pass@host:port"

          string = URI.parseAuthority(string, parts);
        } else {
          string = string.substring(pos + 1);
          parts.urn = true;
        }
      }
    } // what's left must be the path


    parts.path = string; // and we're done

    return parts;
  };

  URI.parseHost = function (string, parts) {
    // Copy chrome, IE, opera backslash-handling behavior.
    // Back slashes before the query string get converted to forward slashes
    // See: https://github.com/joyent/node/blob/386fd24f49b0e9d1a8a076592a404168faeecc34/lib/url.js#L115-L124
    // See: https://code.google.com/p/chromium/issues/detail?id=25916
    // https://github.com/medialize/URI.js/pull/233
    string = string.replace(/\\/g, '/'); // extract host:port

    var pos = string.indexOf('/');
    var bracketPos;
    var t;

    if (pos === -1) {
      pos = string.length;
    }

    if (string.charAt(0) === '[') {
      // IPv6 host - http://tools.ietf.org/html/draft-ietf-6man-text-addr-representation-04#section-6
      // I claim most client software breaks on IPv6 anyways. To simplify things, URI only accepts
      // IPv6+port in the format [2001:db8::1]:80 (for the time being)
      bracketPos = string.indexOf(']');
      parts.hostname = string.substring(1, bracketPos) || null;
      parts.port = string.substring(bracketPos + 2, pos) || null;

      if (parts.port === '/') {
        parts.port = null;
      }
    } else {
      var firstColon = string.indexOf(':');
      var firstSlash = string.indexOf('/');
      var nextColon = string.indexOf(':', firstColon + 1);

      if (nextColon !== -1 && (firstSlash === -1 || nextColon < firstSlash)) {
        // IPv6 host contains multiple colons - but no port
        // this notation is actually not allowed by RFC 3986, but we're a liberal parser
        parts.hostname = string.substring(0, pos) || null;
        parts.port = null;
      } else {
        t = string.substring(0, pos).split(':');
        parts.hostname = t[0] || null;
        parts.port = t[1] || null;
      }
    }

    if (parts.hostname && string.substring(pos).charAt(0) !== '/') {
      pos++;
      string = '/' + string;
    }

    return string.substring(pos) || '/';
  };

  URI.parseAuthority = function (string, parts) {
    string = URI.parseUserinfo(string, parts);
    return URI.parseHost(string, parts);
  };

  URI.parseUserinfo = function (string, parts) {
    // extract username:password
    var firstSlash = string.indexOf('/');
    var pos = string.lastIndexOf('@', firstSlash > -1 ? firstSlash : string.length - 1);
    var t; // authority@ must come before /path

    if (pos > -1 && (firstSlash === -1 || pos < firstSlash)) {
      t = string.substring(0, pos).split(':');
      parts.username = t[0] ? URI.decode(t[0]) : null;
      t.shift();
      parts.password = t[0] ? URI.decode(t.join(':')) : null;
      string = string.substring(pos + 1);
    } else {
      parts.username = null;
      parts.password = null;
    }

    return string;
  };

  URI.parseQuery = function (string, escapeQuerySpace) {
    if (!string) {
      return {};
    } // throw out the funky business - "?"[name"="value"&"]+


    string = string.replace(/&+/g, '&').replace(/^\?*&*|&+$/g, '');

    if (!string) {
      return {};
    }

    var items = {};
    var splits = string.split('&');
    var length = splits.length;
    var v, name, value;

    for (var i = 0; i < length; i++) {
      v = splits[i].split('=');
      name = URI.decodeQuery(v.shift(), escapeQuerySpace); // no "=" is null according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#collect-url-parameters

      value = v.length ? URI.decodeQuery(v.join('='), escapeQuerySpace) : null;

      if (hasOwn.call(items, name)) {
        if (typeof items[name] === 'string' || items[name] === null) {
          items[name] = [items[name]];
        }

        items[name].push(value);
      } else {
        items[name] = value;
      }
    }

    return items;
  };

  URI.build = function (parts) {
    var t = '';

    if (parts.protocol) {
      t += parts.protocol + ':';
    }

    if (!parts.urn && (t || parts.hostname)) {
      t += '//';
    }

    t += URI.buildAuthority(parts) || '';

    if (typeof parts.path === 'string') {
      if (parts.path.charAt(0) !== '/' && typeof parts.hostname === 'string') {
        t += '/';
      }

      t += parts.path;
    }

    if (typeof parts.query === 'string' && parts.query) {
      t += '?' + parts.query;
    }

    if (typeof parts.fragment === 'string' && parts.fragment) {
      t += '#' + parts.fragment;
    }

    return t;
  };

  URI.buildHost = function (parts) {
    var t = '';

    if (!parts.hostname) {
      return '';
    } else if (URI.ip6_expression.test(parts.hostname)) {
      t += '[' + parts.hostname + ']';
    } else {
      t += parts.hostname;
    }

    if (parts.port) {
      t += ':' + parts.port;
    }

    return t;
  };

  URI.buildAuthority = function (parts) {
    return URI.buildUserinfo(parts) + URI.buildHost(parts);
  };

  URI.buildUserinfo = function (parts) {
    var t = '';

    if (parts.username) {
      t += URI.encode(parts.username);

      if (parts.password) {
        t += ':' + URI.encode(parts.password);
      }

      t += '@';
    }

    return t;
  };

  URI.buildQuery = function (data, duplicateQueryParameters, escapeQuerySpace) {
    // according to http://tools.ietf.org/html/rfc3986 or http://labs.apache.org/webarch/uri/rfc/rfc3986.html
    // being »-._~!$&'()*+,;=:@/?« %HEX and alnum are allowed
    // the RFC explicitly states ?/foo being a valid use case, no mention of parameter syntax!
    // URI.js treats the query string as being application/x-www-form-urlencoded
    // see http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type
    var t = '';
    var unique, key, i, length;

    for (key in data) {
      if (hasOwn.call(data, key) && key) {
        if (isArray(data[key])) {
          unique = {};

          for (i = 0, length = data[key].length; i < length; i++) {
            if (data[key][i] !== undefined && unique[data[key][i] + ''] === undefined) {
              t += '&' + URI.buildQueryParameter(key, data[key][i], escapeQuerySpace);

              if (duplicateQueryParameters !== true) {
                unique[data[key][i] + ''] = true;
              }
            }
          }
        } else if (data[key] !== undefined) {
          t += '&' + URI.buildQueryParameter(key, data[key], escapeQuerySpace);
        }
      }
    }

    return t.substring(1);
  };

  URI.buildQueryParameter = function (name, value, escapeQuerySpace) {
    // http://www.w3.org/TR/REC-html40/interact/forms.html#form-content-type -- application/x-www-form-urlencoded
    // don't append "=" for null values, according to http://dvcs.w3.org/hg/url/raw-file/tip/Overview.html#url-parameter-serialization
    return URI.encodeQuery(name, escapeQuerySpace) + (value !== null ? '=' + URI.encodeQuery(value, escapeQuerySpace) : '');
  };

  URI.addQuery = function (data, name, value) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          URI.addQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (data[name] === undefined) {
        data[name] = value;
        return;
      } else if (typeof data[name] === 'string') {
        data[name] = [data[name]];
      }

      if (!isArray(value)) {
        value = [value];
      }

      data[name] = (data[name] || []).concat(value);
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }
  };

  URI.removeQuery = function (data, name, value) {
    var i, length, key;

    if (isArray(name)) {
      for (i = 0, length = name.length; i < length; i++) {
        data[name[i]] = undefined;
      }
    } else if (getType(name) === 'RegExp') {
      for (key in data) {
        if (name.test(key)) {
          data[key] = undefined;
        }
      }
    } else if (typeof name === 'object') {
      for (key in name) {
        if (hasOwn.call(name, key)) {
          URI.removeQuery(data, key, name[key]);
        }
      }
    } else if (typeof name === 'string') {
      if (value !== undefined) {
        if (getType(value) === 'RegExp') {
          if (!isArray(data[name]) && value.test(data[name])) {
            data[name] = undefined;
          } else {
            data[name] = filterArrayValues(data[name], value);
          }
        } else if (data[name] === String(value) && (!isArray(value) || value.length === 1)) {
          data[name] = undefined;
        } else if (isArray(data[name])) {
          data[name] = filterArrayValues(data[name], value);
        }
      } else {
        data[name] = undefined;
      }
    } else {
      throw new TypeError('URI.removeQuery() accepts an object, string, RegExp as the first parameter');
    }
  };

  URI.hasQuery = function (data, name, value, withinArray) {
    if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          if (!URI.hasQuery(data, key, name[key])) {
            return false;
          }
        }
      }

      return true;
    } else if (typeof name !== 'string') {
      throw new TypeError('URI.hasQuery() accepts an object, string as the name parameter');
    }

    switch (getType(value)) {
      case 'Undefined':
        // true if exists (but may be empty)
        return name in data;
      // data[name] !== undefined;

      case 'Boolean':
        // true if exists and non-empty
        var _booly = Boolean(isArray(data[name]) ? data[name].length : data[name]);

        return value === _booly;

      case 'Function':
        // allow complex comparison
        return !!value(data[name], name, data);

      case 'Array':
        if (!isArray(data[name])) {
          return false;
        }

        var op = withinArray ? arrayContains : arraysEqual;
        return op(data[name], value);

      case 'RegExp':
        if (!isArray(data[name])) {
          return Boolean(data[name] && data[name].match(value));
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      case 'Number':
        value = String(value);

      /* falls through */

      case 'String':
        if (!isArray(data[name])) {
          return data[name] === value;
        }

        if (!withinArray) {
          return false;
        }

        return arrayContains(data[name], value);

      default:
        throw new TypeError('URI.hasQuery() accepts undefined, boolean, string, number, RegExp, Function as the value parameter');
    }
  };

  URI.commonPath = function (one, two) {
    var length = Math.min(one.length, two.length);
    var pos; // find first non-matching character

    for (pos = 0; pos < length; pos++) {
      if (one.charAt(pos) !== two.charAt(pos)) {
        pos--;
        break;
      }
    }

    if (pos < 1) {
      return one.charAt(0) === two.charAt(0) && one.charAt(0) === '/' ? '/' : '';
    } // revert to last /


    if (one.charAt(pos) !== '/' || two.charAt(pos) !== '/') {
      pos = one.substring(0, pos).lastIndexOf('/');
    }

    return one.substring(0, pos + 1);
  };

  URI.withinString = function (string, callback, options) {
    options || (options = {});

    var _start = options.start || URI.findUri.start;

    var _end = options.end || URI.findUri.end;

    var _trim = options.trim || URI.findUri.trim;

    var _attributeOpen = /[a-z0-9-]=["']?$/i;
    _start.lastIndex = 0;

    while (true) {
      var match = _start.exec(string);

      if (!match) {
        break;
      }

      var start = match.index;

      if (options.ignoreHtml) {
        // attribut(e=["']?$)
        var attributeOpen = string.slice(Math.max(start - 3, 0), start);

        if (attributeOpen && _attributeOpen.test(attributeOpen)) {
          continue;
        }
      }

      var end = start + string.slice(start).search(_end);
      var slice = string.slice(start, end).replace(_trim, '');

      if (options.ignore && options.ignore.test(slice)) {
        continue;
      }

      end = start + slice.length;
      var result = callback(slice, start, end, string);
      string = string.slice(0, start) + result + string.slice(end);
      _start.lastIndex = start + result.length;
    }

    _start.lastIndex = 0;
    return string;
  };

  URI.ensureValidHostname = function (v) {
    // Theoretically URIs allow percent-encoding in Hostnames (according to RFC 3986)
    // they are not part of DNS and therefore ignored by URI.js
    if (v.match(URI.invalid_hostname_characters)) {
      // test punycode
      if (!punycode) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-] and Punycode.js is not available');
      }

      if (punycode.toASCII(v).match(URI.invalid_hostname_characters)) {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }
    }
  }; // noConflict


  URI.noConflict = function (removeAll) {
    if (removeAll) {
      var unconflicted = {
        URI: this.noConflict()
      };

      if (root.URITemplate && typeof root.URITemplate.noConflict === 'function') {
        unconflicted.URITemplate = root.URITemplate.noConflict();
      }

      if (root.IPv6 && typeof root.IPv6.noConflict === 'function') {
        unconflicted.IPv6 = root.IPv6.noConflict();
      }

      if (root.SecondLevelDomains && typeof root.SecondLevelDomains.noConflict === 'function') {
        unconflicted.SecondLevelDomains = root.SecondLevelDomains.noConflict();
      }

      return unconflicted;
    } else if (root.URI === this) {
      root.URI = _URI;
    }

    return this;
  };

  p.build = function (deferBuild) {
    if (deferBuild === true) {
      this._deferred_build = true;
    } else if (deferBuild === undefined || this._deferred_build) {
      this._string = URI.build(this._parts);
      this._deferred_build = false;
    }

    return this;
  };

  p.clone = function () {
    return new URI(this);
  };

  p.valueOf = p.toString = function () {
    return this.build(false)._string;
  };

  function generateSimpleAccessor(_part) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        this._parts[_part] = v || null;
        this.build(!build);
        return this;
      }
    };
  }

  function generatePrefixAccessor(_part, _key) {
    return function (v, build) {
      if (v === undefined) {
        return this._parts[_part] || '';
      } else {
        if (v !== null) {
          v = v + '';

          if (v.charAt(0) === _key) {
            v = v.substring(1);
          }
        }

        this._parts[_part] = v;
        this.build(!build);
        return this;
      }
    };
  }

  p.protocol = generateSimpleAccessor('protocol');
  p.username = generateSimpleAccessor('username');
  p.password = generateSimpleAccessor('password');
  p.hostname = generateSimpleAccessor('hostname');
  p.port = generateSimpleAccessor('port');
  p.query = generatePrefixAccessor('query', '?');
  p.fragment = generatePrefixAccessor('fragment', '#');

  p.search = function (v, build) {
    var t = this.query(v, build);
    return typeof t === 'string' && t.length ? '?' + t : t;
  };

  p.hash = function (v, build) {
    var t = this.fragment(v, build);
    return typeof t === 'string' && t.length ? '#' + t : t;
  };

  p.pathname = function (v, build) {
    if (v === undefined || v === true) {
      var res = this._parts.path || (this._parts.hostname ? '/' : '');
      return v ? (this._parts.urn ? URI.decodeUrnPath : URI.decodePath)(res) : res;
    } else {
      if (this._parts.urn) {
        this._parts.path = v ? URI.recodeUrnPath(v) : '';
      } else {
        this._parts.path = v ? URI.recodePath(v) : '/';
      }

      this.build(!build);
      return this;
    }
  };

  p.path = p.pathname;

  p.href = function (href, build) {
    var key;

    if (href === undefined) {
      return this.toString();
    }

    this._string = '';
    this._parts = URI._parts();

    var _URI = href instanceof URI;

    var _object = typeof href === 'object' && (href.hostname || href.path || href.pathname);

    if (href.nodeName) {
      var attribute = URI.getDomAttribute(href);
      href = href[attribute] || '';
      _object = false;
    } // window.location is reported to be an object, but it's not the sort
    // of object we're looking for:
    // * location.protocol ends with a colon
    // * location.query != object.search
    // * location.hash != object.fragment
    // simply serializing the unknown object should do the trick
    // (for location, not for everything...)


    if (!_URI && _object && href.pathname !== undefined) {
      href = href.toString();
    }

    if (typeof href === 'string' || href instanceof String) {
      this._parts = URI.parse(String(href), this._parts);
    } else if (_URI || _object) {
      var src = _URI ? href._parts : href;

      for (key in src) {
        if (hasOwn.call(this._parts, key)) {
          this._parts[key] = src[key];
        }
      }
    } else {
      throw new TypeError('invalid input');
    }

    this.build(!build);
    return this;
  }; // identification accessors


  p.is = function (what) {
    var ip = false;
    var ip4 = false;
    var ip6 = false;
    var name = false;
    var sld = false;
    var idn = false;
    var punycode = false;
    var relative = !this._parts.urn;

    if (this._parts.hostname) {
      relative = false;
      ip4 = URI.ip4_expression.test(this._parts.hostname);
      ip6 = URI.ip6_expression.test(this._parts.hostname);
      ip = ip4 || ip6;
      name = !ip;
      sld = name && SLD && SLD.has(this._parts.hostname);
      idn = name && URI.idn_expression.test(this._parts.hostname);
      punycode = name && URI.punycode_expression.test(this._parts.hostname);
    }

    switch (what.toLowerCase()) {
      case 'relative':
        return relative;

      case 'absolute':
        return !relative;
      // hostname identification

      case 'domain':
      case 'name':
        return name;

      case 'sld':
        return sld;

      case 'ip':
        return ip;

      case 'ip4':
      case 'ipv4':
      case 'inet4':
        return ip4;

      case 'ip6':
      case 'ipv6':
      case 'inet6':
        return ip6;

      case 'idn':
        return idn;

      case 'url':
        return !this._parts.urn;

      case 'urn':
        return !!this._parts.urn;

      case 'punycode':
        return punycode;
    }

    return null;
  }; // component specific input validation


  var _protocol = p.protocol;
  var _port = p.port;
  var _hostname = p.hostname;

  p.protocol = function (v, build) {
    if (v !== undefined) {
      if (v) {
        // accept trailing ://
        v = v.replace(/:(\/\/)?$/, '');

        if (!v.match(URI.protocol_expression)) {
          throw new TypeError('Protocol "' + v + '" contains characters other than [A-Z0-9.+-] or doesn\'t start with [A-Z]');
        }
      }
    }

    return _protocol.call(this, v, build);
  };

  p.scheme = p.protocol;

  p.port = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      if (v === 0) {
        v = null;
      }

      if (v) {
        v += '';

        if (v.charAt(0) === ':') {
          v = v.substring(1);
        }

        if (v.match(/[^0-9]/)) {
          throw new TypeError('Port "' + v + '" contains characters other than [0-9]');
        }
      }
    }

    return _port.call(this, v, build);
  };

  p.hostname = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v !== undefined) {
      var x = {};
      var res = URI.parseHost(v, x);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      v = x.hostname;
    }

    return _hostname.call(this, v, build);
  }; // compound accessors


  p.origin = function (v, build) {
    var parts;

    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      var protocol = this.protocol();
      var authority = this.authority();
      if (!authority) return '';
      return (protocol ? protocol + '://' : '') + this.authority();
    } else {
      var origin = URI(v);
      this.protocol(origin.protocol()).authority(origin.authority()).build(!build);
      return this;
    }
  };

  p.host = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildHost(this._parts) : '';
    } else {
      var res = URI.parseHost(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.authority = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      return this._parts.hostname ? URI.buildAuthority(this._parts) : '';
    } else {
      var res = URI.parseAuthority(v, this._parts);

      if (res !== '/') {
        throw new TypeError('Hostname "' + v + '" contains characters other than [A-Z0-9.-]');
      }

      this.build(!build);
      return this;
    }
  };

  p.userinfo = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined) {
      if (!this._parts.username) {
        return '';
      }

      var t = URI.buildUserinfo(this._parts);
      return t.substring(0, t.length - 1);
    } else {
      if (v[v.length - 1] !== '@') {
        v += '@';
      }

      URI.parseUserinfo(v, this._parts);
      this.build(!build);
      return this;
    }
  };

  p.resource = function (v, build) {
    var parts;

    if (v === undefined) {
      return this.path() + this.search() + this.hash();
    }

    parts = URI.parse(v);
    this._parts.path = parts.path;
    this._parts.query = parts.query;
    this._parts.fragment = parts.fragment;
    this.build(!build);
    return this;
  }; // fraction accessors


  p.subdomain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    } // convenience, return "www" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // grab domain and add another segment


      var end = this._parts.hostname.length - this.domain().length - 1;
      return this._parts.hostname.substring(0, end) || '';
    } else {
      var e = this._parts.hostname.length - this.domain().length;

      var sub = this._parts.hostname.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(sub));

      if (v && v.charAt(v.length - 1) !== '.') {
        v += '.';
      }

      if (v) {
        URI.ensureValidHostname(v);
      }

      this._parts.hostname = this._parts.hostname.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.domain = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // convenience, return "example.org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      } // if hostname consists of 1 or 2 segments, it must be the domain


      var t = this._parts.hostname.match(/\./g);

      if (t && t.length < 2) {
        return this._parts.hostname;
      } // grab tld and add another segment


      var end = this._parts.hostname.length - this.tld(build).length - 1;
      end = this._parts.hostname.lastIndexOf('.', end - 1) + 1;
      return this._parts.hostname.substring(end) || '';
    } else {
      if (!v) {
        throw new TypeError('cannot set domain empty');
      }

      URI.ensureValidHostname(v);

      if (!this._parts.hostname || this.is('IP')) {
        this._parts.hostname = v;
      } else {
        var replace = new RegExp(escapeRegEx(this.domain()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.tld = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (typeof v === 'boolean') {
      build = v;
      v = undefined;
    } // return "org" from "www.example.org"


    if (v === undefined) {
      if (!this._parts.hostname || this.is('IP')) {
        return '';
      }

      var pos = this._parts.hostname.lastIndexOf('.');

      var tld = this._parts.hostname.substring(pos + 1);

      if (build !== true && SLD && SLD.list[tld.toLowerCase()]) {
        return SLD.get(this._parts.hostname) || tld;
      }

      return tld;
    } else {
      var replace;

      if (!v) {
        throw new TypeError('cannot set TLD empty');
      } else if (v.match(/[^a-zA-Z0-9-]/)) {
        if (SLD && SLD.is(v)) {
          replace = new RegExp(escapeRegEx(this.tld()) + '$');
          this._parts.hostname = this._parts.hostname.replace(replace, v);
        } else {
          throw new TypeError('TLD "' + v + '" contains characters other than [A-Z0-9]');
        }
      } else if (!this._parts.hostname || this.is('IP')) {
        throw new ReferenceError('cannot set TLD on non-domain host');
      } else {
        replace = new RegExp(escapeRegEx(this.tld()) + '$');
        this._parts.hostname = this._parts.hostname.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.directory = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path && !this._parts.hostname) {
        return '';
      }

      if (this._parts.path === '/') {
        return '/';
      }

      var end = this._parts.path.length - this.filename().length - 1;
      var res = this._parts.path.substring(0, end) || (this._parts.hostname ? '/' : '');
      return v ? URI.decodePath(res) : res;
    } else {
      var e = this._parts.path.length - this.filename().length;

      var directory = this._parts.path.substring(0, e);

      var replace = new RegExp('^' + escapeRegEx(directory)); // fully qualifier directories begin with a slash

      if (!this.is('relative')) {
        if (!v) {
          v = '/';
        }

        if (v.charAt(0) !== '/') {
          v = '/' + v;
        }
      } // directories always end with a slash


      if (v && v.charAt(v.length - 1) !== '/') {
        v += '/';
      }

      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);
      this.build(!build);
      return this;
    }
  };

  p.filename = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var pos = this._parts.path.lastIndexOf('/');

      var res = this._parts.path.substring(pos + 1);

      return v ? URI.decodePathSegment(res) : res;
    } else {
      var mutatedDirectory = false;

      if (v.charAt(0) === '/') {
        v = v.substring(1);
      }

      if (v.match(/\.?\//)) {
        mutatedDirectory = true;
      }

      var replace = new RegExp(escapeRegEx(this.filename()) + '$');
      v = URI.recodePath(v);
      this._parts.path = this._parts.path.replace(replace, v);

      if (mutatedDirectory) {
        this.normalizePath(build);
      } else {
        this.build(!build);
      }

      return this;
    }
  };

  p.suffix = function (v, build) {
    if (this._parts.urn) {
      return v === undefined ? '' : this;
    }

    if (v === undefined || v === true) {
      if (!this._parts.path || this._parts.path === '/') {
        return '';
      }

      var filename = this.filename();
      var pos = filename.lastIndexOf('.');
      var s, res;

      if (pos === -1) {
        return '';
      } // suffix may only contain alnum characters (yup, I made this up.)


      s = filename.substring(pos + 1);
      res = /^[a-z0-9%]+$/i.test(s) ? s : '';
      return v ? URI.decodePathSegment(res) : res;
    } else {
      if (v.charAt(0) === '.') {
        v = v.substring(1);
      }

      var suffix = this.suffix();
      var replace;

      if (!suffix) {
        if (!v) {
          return this;
        }

        this._parts.path += '.' + URI.recodePath(v);
      } else if (!v) {
        replace = new RegExp(escapeRegEx('.' + suffix) + '$');
      } else {
        replace = new RegExp(escapeRegEx(suffix) + '$');
      }

      if (replace) {
        v = URI.recodePath(v);
        this._parts.path = this._parts.path.replace(replace, v);
      }

      this.build(!build);
      return this;
    }
  };

  p.segment = function (segment, v, build) {
    var separator = this._parts.urn ? ':' : '/';
    var path = this.path();
    var absolute = path.substring(0, 1) === '/';
    var segments = path.split(separator);

    if (segment !== undefined && typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (segment !== undefined && typeof segment !== 'number') {
      throw new Error('Bad segment "' + segment + '", must be 0-based integer');
    }

    if (absolute) {
      segments.shift();
    }

    if (segment < 0) {
      // allow negative indexes to address from the end
      segment = Math.max(segments.length + segment, 0);
    }

    if (v === undefined) {
      /*jshint laxbreak: true */
      return segment === undefined ? segments : segments[segment];
      /*jshint laxbreak: false */
    } else if (segment === null || segments[segment] === undefined) {
      if (isArray(v)) {
        segments = []; // collapse empty elements within array

        for (var i = 0, l = v.length; i < l; i++) {
          if (!v[i].length && (!segments.length || !segments[segments.length - 1].length)) {
            continue;
          }

          if (segments.length && !segments[segments.length - 1].length) {
            segments.pop();
          }

          segments.push(trimSlashes(v[i]));
        }
      } else if (v || typeof v === 'string') {
        v = trimSlashes(v);

        if (segments[segments.length - 1] === '') {
          // empty trailing elements have to be overwritten
          // to prevent results such as /foo//bar
          segments[segments.length - 1] = v;
        } else {
          segments.push(v);
        }
      }
    } else {
      if (v) {
        segments[segment] = trimSlashes(v);
      } else {
        segments.splice(segment, 1);
      }
    }

    if (absolute) {
      segments.unshift('');
    }

    return this.path(segments.join(separator), build);
  };

  p.segmentCoded = function (segment, v, build) {
    var segments, i, l;

    if (typeof segment !== 'number') {
      build = v;
      v = segment;
      segment = undefined;
    }

    if (v === undefined) {
      segments = this.segment(segment, v, build);

      if (!isArray(segments)) {
        segments = segments !== undefined ? URI.decode(segments) : undefined;
      } else {
        for (i = 0, l = segments.length; i < l; i++) {
          segments[i] = URI.decode(segments[i]);
        }
      }

      return segments;
    }

    if (!isArray(v)) {
      v = typeof v === 'string' || v instanceof String ? URI.encode(v) : v;
    } else {
      for (i = 0, l = v.length; i < l; i++) {
        v[i] = URI.encode(v[i]);
      }
    }

    return this.segment(segment, v, build);
  }; // mutating query string


  var q = p.query;

  p.query = function (v, build) {
    if (v === true) {
      return URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    } else if (typeof v === 'function') {
      var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
      var result = v.call(this, data);
      this._parts.query = URI.buildQuery(result || data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else if (v !== undefined && typeof v !== 'string') {
      this._parts.query = URI.buildQuery(v, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);
      this.build(!build);
      return this;
    } else {
      return q.call(this, v, build);
    }
  };

  p.setQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);

    if (typeof name === 'string' || name instanceof String) {
      data[name] = value !== undefined ? value : null;
    } else if (typeof name === 'object') {
      for (var key in name) {
        if (hasOwn.call(name, key)) {
          data[key] = name[key];
        }
      }
    } else {
      throw new TypeError('URI.addQuery() accepts an object, string as the name parameter');
    }

    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.addQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.addQuery(data, name, value === undefined ? null : value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.removeQuery = function (name, value, build) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    URI.removeQuery(data, name, value);
    this._parts.query = URI.buildQuery(data, this._parts.duplicateQueryParameters, this._parts.escapeQuerySpace);

    if (typeof name !== 'string') {
      build = value;
    }

    this.build(!build);
    return this;
  };

  p.hasQuery = function (name, value, withinArray) {
    var data = URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace);
    return URI.hasQuery(data, name, value, withinArray);
  };

  p.setSearch = p.setQuery;
  p.addSearch = p.addQuery;
  p.removeSearch = p.removeQuery;
  p.hasSearch = p.hasQuery; // sanitizing URLs

  p.normalize = function () {
    if (this._parts.urn) {
      return this.normalizeProtocol(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
    }

    return this.normalizeProtocol(false).normalizeHostname(false).normalizePort(false).normalizePath(false).normalizeQuery(false).normalizeFragment(false).build();
  };

  p.normalizeProtocol = function (build) {
    if (typeof this._parts.protocol === 'string') {
      this._parts.protocol = this._parts.protocol.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizeHostname = function (build) {
    if (this._parts.hostname) {
      if (this.is('IDN') && punycode) {
        this._parts.hostname = punycode.toASCII(this._parts.hostname);
      } else if (this.is('IPv6') && IPv6) {
        this._parts.hostname = IPv6.best(this._parts.hostname);
      }

      this._parts.hostname = this._parts.hostname.toLowerCase();
      this.build(!build);
    }

    return this;
  };

  p.normalizePort = function (build) {
    // remove port of it's the protocol's default
    if (typeof this._parts.protocol === 'string' && this._parts.port === URI.defaultPorts[this._parts.protocol]) {
      this._parts.port = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizePath = function (build) {
    var _path = this._parts.path;

    if (!_path) {
      return this;
    }

    if (this._parts.urn) {
      this._parts.path = URI.recodeUrnPath(this._parts.path);
      this.build(!build);
      return this;
    }

    if (this._parts.path === '/') {
      return this;
    }

    var _was_relative;

    var _leadingParents = '';

    var _parent, _pos; // handle relative paths


    if (_path.charAt(0) !== '/') {
      _was_relative = true;
      _path = '/' + _path;
    } // handle relative files (as opposed to directories)


    if (_path.slice(-3) === '/..' || _path.slice(-2) === '/.') {
      _path += '/';
    } // resolve simples


    _path = _path.replace(/(\/(\.\/)+)|(\/\.$)/g, '/').replace(/\/{2,}/g, '/'); // remember leading parents

    if (_was_relative) {
      _leadingParents = _path.substring(1).match(/^(\.\.\/)+/) || '';

      if (_leadingParents) {
        _leadingParents = _leadingParents[0];
      }
    } // resolve parents


    while (true) {
      _parent = _path.indexOf('/..');

      if (_parent === -1) {
        // no more ../ to resolve
        break;
      } else if (_parent === 0) {
        // top level cannot be relative, skip it
        _path = _path.substring(3);
        continue;
      }

      _pos = _path.substring(0, _parent).lastIndexOf('/');

      if (_pos === -1) {
        _pos = _parent;
      }

      _path = _path.substring(0, _pos) + _path.substring(_parent + 3);
    } // revert to relative


    if (_was_relative && this.is('relative')) {
      _path = _leadingParents + _path.substring(1);
    }

    _path = URI.recodePath(_path);
    this._parts.path = _path;
    this.build(!build);
    return this;
  };

  p.normalizePathname = p.normalizePath;

  p.normalizeQuery = function (build) {
    if (typeof this._parts.query === 'string') {
      if (!this._parts.query.length) {
        this._parts.query = null;
      } else {
        this.query(URI.parseQuery(this._parts.query, this._parts.escapeQuerySpace));
      }

      this.build(!build);
    }

    return this;
  };

  p.normalizeFragment = function (build) {
    if (!this._parts.fragment) {
      this._parts.fragment = null;
      this.build(!build);
    }

    return this;
  };

  p.normalizeSearch = p.normalizeQuery;
  p.normalizeHash = p.normalizeFragment;

  p.iso8859 = function () {
    // expect unicode input, iso8859 output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = escape;
    URI.decode = decodeURIComponent;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.unicode = function () {
    // expect iso8859 input, unicode output
    var e = URI.encode;
    var d = URI.decode;
    URI.encode = strictEncodeURIComponent;
    URI.decode = unescape;

    try {
      this.normalize();
    } finally {
      URI.encode = e;
      URI.decode = d;
    }

    return this;
  };

  p.readable = function () {
    var uri = this.clone(); // removing username, password, because they shouldn't be displayed according to RFC 3986

    uri.username('').password('').normalize();
    var t = '';

    if (uri._parts.protocol) {
      t += uri._parts.protocol + '://';
    }

    if (uri._parts.hostname) {
      if (uri.is('punycode') && punycode) {
        t += punycode.toUnicode(uri._parts.hostname);

        if (uri._parts.port) {
          t += ':' + uri._parts.port;
        }
      } else {
        t += uri.host();
      }
    }

    if (uri._parts.hostname && uri._parts.path && uri._parts.path.charAt(0) !== '/') {
      t += '/';
    }

    t += uri.path(true);

    if (uri._parts.query) {
      var q = '';

      for (var i = 0, qp = uri._parts.query.split('&'), l = qp.length; i < l; i++) {
        var kv = (qp[i] || '').split('=');
        q += '&' + URI.decodeQuery(kv[0], this._parts.escapeQuerySpace).replace(/&/g, '%26');

        if (kv[1] !== undefined) {
          q += '=' + URI.decodeQuery(kv[1], this._parts.escapeQuerySpace).replace(/&/g, '%26');
        }
      }

      t += '?' + q.substring(1);
    }

    t += URI.decodeQuery(uri.hash(), true);
    return t;
  }; // resolving relative and absolute URLs


  p.absoluteTo = function (base) {
    var resolved = this.clone();
    var properties = ['protocol', 'username', 'password', 'hostname', 'port'];
    var basedir, i, p;

    if (this._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    if (!(base instanceof URI)) {
      base = new URI(base);
    }

    if (!resolved._parts.protocol) {
      resolved._parts.protocol = base._parts.protocol;
    }

    if (this._parts.hostname) {
      return resolved;
    }

    for (i = 0; p = properties[i]; i++) {
      resolved._parts[p] = base._parts[p];
    }

    if (!resolved._parts.path) {
      resolved._parts.path = base._parts.path;

      if (!resolved._parts.query) {
        resolved._parts.query = base._parts.query;
      }
    } else if (resolved._parts.path.substring(-2) === '..') {
      resolved._parts.path += '/';
    }

    if (resolved.path().charAt(0) !== '/') {
      basedir = base.directory();
      basedir = basedir ? basedir : base.path().indexOf('/') === 0 ? '/' : '';
      resolved._parts.path = (basedir ? basedir + '/' : '') + resolved._parts.path;
      resolved.normalizePath();
    }

    resolved.build();
    return resolved;
  };

  p.relativeTo = function (base) {
    var relative = this.clone().normalize();
    var relativeParts, baseParts, common, relativePath, basePath;

    if (relative._parts.urn) {
      throw new Error('URNs do not have any generally defined hierarchical components');
    }

    base = new URI(base).normalize();
    relativeParts = relative._parts;
    baseParts = base._parts;
    relativePath = relative.path();
    basePath = base.path();

    if (relativePath.charAt(0) !== '/') {
      throw new Error('URI is already relative');
    }

    if (basePath.charAt(0) !== '/') {
      throw new Error('Cannot calculate a URI relative to another relative URI');
    }

    if (relativeParts.protocol === baseParts.protocol) {
      relativeParts.protocol = null;
    }

    if (relativeParts.username !== baseParts.username || relativeParts.password !== baseParts.password) {
      return relative.build();
    }

    if (relativeParts.protocol !== null || relativeParts.username !== null || relativeParts.password !== null) {
      return relative.build();
    }

    if (relativeParts.hostname === baseParts.hostname && relativeParts.port === baseParts.port) {
      relativeParts.hostname = null;
      relativeParts.port = null;
    } else {
      return relative.build();
    }

    if (relativePath === basePath) {
      relativeParts.path = '';
      return relative.build();
    } // determine common sub path


    common = URI.commonPath(relativePath, basePath); // If the paths have nothing in common, return a relative URL with the absolute path.

    if (!common) {
      return relative.build();
    }

    var parents = baseParts.path.substring(common.length).replace(/[^\/]*$/, '').replace(/.*?\//g, '../');
    relativeParts.path = parents + relativeParts.path.substring(common.length) || './';
    return relative.build();
  }; // comparing URIs


  p.equals = function (uri) {
    var one = this.clone();
    var two = new URI(uri);
    var one_map = {};
    var two_map = {};
    var checked = {};
    var one_query, two_query, key;
    one.normalize();
    two.normalize(); // exact match

    if (one.toString() === two.toString()) {
      return true;
    } // extract query string


    one_query = one.query();
    two_query = two.query();
    one.query('');
    two.query(''); // definitely not equal if not even non-query parts match

    if (one.toString() !== two.toString()) {
      return false;
    } // query parameters have the same length, even if they're permuted


    if (one_query.length !== two_query.length) {
      return false;
    }

    one_map = URI.parseQuery(one_query, this._parts.escapeQuerySpace);
    two_map = URI.parseQuery(two_query, this._parts.escapeQuerySpace);

    for (key in one_map) {
      if (hasOwn.call(one_map, key)) {
        if (!isArray(one_map[key])) {
          if (one_map[key] !== two_map[key]) {
            return false;
          }
        } else if (!arraysEqual(one_map[key], two_map[key])) {
          return false;
        }

        checked[key] = true;
      }
    }

    for (key in two_map) {
      if (hasOwn.call(two_map, key)) {
        if (!checked[key]) {
          // two contains a parameter not present in one
          return false;
        }
      }
    }

    return true;
  }; // state


  p.duplicateQueryParameters = function (v) {
    this._parts.duplicateQueryParameters = !!v;
    return this;
  };

  p.escapeQuerySpace = function (v) {
    this._parts.escapeQuerySpace = !!v;
    return this;
  };

  return URI;
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"collection_helpers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/collection_helpers.js                                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tapi18n.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/tapi18n.coffee                                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"core.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/core.coffee                                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Workflow = {};
this.ImageSign = {};
this.TracesHandler = {};
this.TracesTemplate = {};
this.InstanceformTemplate = {};
this.InstanceAttachmentTemplate = {};
this.InstanceSignText = {};
this.RelatedInstances = {};
this.RelatedRecords = {};
this.InstanceMacro = {
  context: {}
};
this.TracesManager = {};

InstanceSignText.isOpinionField_from_string = function (field_formula) {
  return (field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{yijianlan:") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{\"yijianlan\":") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{'yijianlan':") : void 0) > -1;
};

InstanceSignText.includesOpinionField = function (form, form_version) {
  var _form_version, field_formulas, fields;

  field_formulas = new Array();
  _form_version = {};

  if (Meteor.isServer) {
    _form_version = uuflowManager.getFormVersion(db.forms.findOne({
      _id: form
    }), form_version);
  } else {
    _form_version = db.form_versions.findOne({
      _id: form_version,
      form: form
    });
  }

  fields = (_form_version != null ? _form_version.fields : void 0) || [];
  fields.forEach(function (f) {
    var ref;

    if (f.type === 'table') {
      return console.log('ignore opinion field in table');
    } else if (f.type === 'section') {
      return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
        return field_formulas.push(f1.formula);
      }) : void 0 : void 0;
    } else {
      return field_formulas.push(f.formula);
    }
  });
  return _.some(field_formulas, function (field_formula) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"models":{"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/forms.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flows.coffee                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_roles.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/flow_positions.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/instances.coffee                                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/categories.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"spaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/spaces.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"deleted_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/deleted_instances.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"auth_tokens.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/auth_tokens.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
db.auth_tokens = new Meteor.Collection('auth_tokens');
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"webhooks.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/webhooks.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_user_signs.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/models/space_users.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"cfs":{"instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/cfs/instances.coffee                                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"admin.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/lib/admin.coffee                                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"client":{"lib":{"instance_readonly_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/instance_readonly_template.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _getLocale, _getRequiredFields, _getStartStepEditableFields, _getStartStepRequiredFields, _getTemplateData, _getViewHtml, getLinkText;

InstanceReadOnlyTemplate = {};
InstanceReadOnlyTemplate.instance_attachment = "<tr>\n	<td class=\"ins-attach-view\">\n		<a href=\"{{ins_attach_download_url _id absolute}}\" class=\"ins_attach_href\" target=\"_parent\" data-name=\"{{this.name}}\" data-type=\"{{this.original.type}}\" data-id=\"{{_id}}\">{{this.name}}</a>\n	</td>\n</tr>";
InstanceReadOnlyTemplate.afSelectUserRead = "<div class='selectUser form-control ins_applicant'>{{value}}</div>";
InstanceReadOnlyTemplate.afFormGroupRead = "<div class='form-group'>\n	{{#with getField this.name}}\n		{{#if equals type 'section'}}\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if showLabel}}\n					<label>{{getLabel code}}</label>\n				{{/if}}\n				<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n			{{/if}}\n		{{/if}}\n	{{/with}}\n</div>";
InstanceReadOnlyTemplate.afFormGroup = "\n{{#with getField this.name}}\n		{{#if equals type 'section'}}\n			<div class=\"form-group\">\n				<div class='section callout callout-default'>\n					<label class=\"control-label\">{{f_label this}}</label>\n					<p>{{{description}}}</p>\n				</div>\n  				</div>\n		{{else}}\n			{{#if equals type 'table'}}\n				<div class=\"panel panel-default steedos-table\">\n					<div class=\"panel-body\" style=\"padding:0px;\">\n						<div class=\"panel-heading\" >\n							<label class='control-label'>{{getLabel code}}</label>\n							<span class=\"description\">{{{description}}}</span>\n						</div>\n						<div class=\"readonly-table\" style=\"padding:0px;overflow-x:auto;\">\n								<table type='table' class=\"table table-bordered table-condensed autoform-table\" style='margin-bottom:0px;' {{this.atts}} id=\"{{this.code}}Table\" name=\"{{this.code}}\" data-schema-key=\"{{this.name}}\">\n									<thead id=\"{{this.name}}Thead\" name=\"{{this.name}}Thead\">\n										{{{getTableThead this}}}\n									</thead>\n									<tbody id=\"{{this.name}}Tbody\" name=\"{{this.name}}Tbody\">\n										{{{getTableBody this}}}\n									</tbody>\n								</table>\n						</div>\n					</div>\n				</div>\n			{{else}}\n				{{#if equals type 'input'}}\n					<div class=\"form-group\" data-required=\"{{#if is_required}}true{{/if}}\">\n						<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n						<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" {{getPermissions code}} data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n					</div>\n				{{else}}\n					{{#if equals type 'number'}}\n						<div class=\"form-group\">\n							<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n							<input type=\"number\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n						</div>\n					{{else}}\n						{{#if equals type 'date'}}\n							<div class=\"form-group\">\n								<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n								<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type=\"date\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n							</div>\n						{{else}}\n							{{#if equals type 'dateTime'}}\n								<div class=\"form-group\">\n									<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n									<input type=\"text\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-type='datetime' data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n								</div>\n							{{else}}\n								{{#if equals type 'password'}}\n									<div class=\"form-group\">\n										<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n										<input type=\"password\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n									</div>\n								{{else}}\n									{{#if equals type 'select'}}\n										<div class=\"form-group\">\n											<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n											<select name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n												{{#each options this}}\n													<option value=\"{{value}}\">{{label}}</option>\n												{{/each}}\n											</select>\n										</div>\n									{{else}}\n										{{#if equals type 'radio'}}\n											<div class=\"form-group\">\n												<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n												<div class=\"af-radio-group\" data-schema-key=\"{{getLabel code}}\">\n													{{#each options this}}\n        												<label class=\"radio-inline fix-indent\"><input type=\"radio\" value=\"{{value}}\" name=\"{{../code}}\" class=\"radio-inline fix-indent\"> {{label}}</label>\n    													{{/each}}\n    												</div>\n											</div>\n										{{else}}\n											{{#if equals type 'multiSelect'}}\n												<div class=\"form-group\">\n													<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n													<div class=\"af-checkbox-group\" data-schema-key=\"{{getLabel code}}\">\n														{{#each options this}}\n														<label class=\"checkbox-inline fix-indent\"><input type=\"checkbox\" value=\"{{value}}\" name=\"{{../code}}\" class=\"checkbox-inline fix-indent\"> {{label}}</label>\n														{{/each}}\n													</div>\n												</div>\n											{{else}}\n												{{#if equals type 'url'}}\n													<div class=\"form-group\">\n														<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n														<input type=\"url\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n													</div>\n												{{else}}\n													{{#if equals type 'email'}}\n														<div class=\"form-group\">\n															<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n															<input type=\"email\" title=\"{{getLabel code}}\" name=\"{{code}}\" data-schema-key=\"{{getLabel code}}\" class=\"form-control\">\n														</div>\n													{{else}}\n														{{#if equals type 'checkbox'}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class=\"checkbox\" data-schema-key=\"{{getLabel code}}\">\n																	<label style=\"width: 100%;\"><input type=\"checkbox\" value=\"true\" name=\"{{code}}\" class=\"checkbox-inline fix-indent\"></label>\n																</div>\n															</div>\n														{{else}}\n															<div class=\"form-group\">\n																<label for=\"7ZQnDsXBGohZMetA5\" class=\"control-label\">{{getLabel code}}</label>\n																<div class='{{getCfClass this}} form-control' readonly disabled>{{{getValue code}}}</div>\n															</div>\n														{{/if}}\n													{{/if}}\n												{{/if}}\n											{{/if}}\n										{{/if}}\n									{{/if}}\n								{{/if}}\n							{{/if}}\n						{{/if}}\n					{{/if}}\n				{{/if}}\n			{{/if}}\n		{{/if}}\n	{{/with}}";

InstanceReadOnlyTemplate.create = function (tempalteName, steedosData) {
  var template, templateCompiled, templateRenderFunction;
  template = InstanceReadOnlyTemplate[tempalteName];
  templateCompiled = SpacebarsCompiler.compile(template, {
    isBody: true
  });
  templateRenderFunction = eval(templateCompiled);
  Template[tempalteName] = new Blaze.Template(tempalteName, templateRenderFunction);
  Template[tempalteName].steedosData = steedosData;
  return Template[tempalteName].helpers(InstanceformTemplate.helpers);
};

InstanceReadOnlyTemplate.createInstanceSignText = function (steedosData) {
  var instanceSignTextCompiled, instanceSignTextHtml, instanceSignTextRenderFunction;
  instanceSignTextHtml = _getViewHtml('client/views/instance/instance_sign_text.html');
  instanceSignTextCompiled = SpacebarsCompiler.compile(instanceSignTextHtml, {
    isBody: true
  });
  instanceSignTextRenderFunction = eval(instanceSignTextCompiled);
  Template.instanceSignText = new Blaze.Template("instanceSignText", instanceSignTextRenderFunction);
  Template.instanceSignText.steedosData = steedosData;
  return Template.instanceSignText.helpers(InstanceSignText.helpers);
};

InstanceReadOnlyTemplate.createImageSign = function (steedosData) {
  var imageSignCompiled, imageSignHtml, imageSignRenderFunction;
  imageSignHtml = _getViewHtml('client/views/instance/image_sign.html');
  imageSignCompiled = SpacebarsCompiler.compile(imageSignHtml, {
    isBody: true
  });
  imageSignRenderFunction = eval(imageSignCompiled);
  Template.imageSign = new Blaze.Template("imageSign", imageSignRenderFunction);
  Template.imageSign.steedosData = steedosData;
  return Template.imageSign.helpers(ImageSign.helpers);
};

InstanceReadOnlyTemplate.createTracesHanlder = function (steedosData) {
  var tracesHanlderCompiled, tracesHanlderHtml, tracesHanlderRenderFunction;
  tracesHanlderHtml = _getViewHtml('client/views/instance/traces_handler.html');
  tracesHanlderCompiled = SpacebarsCompiler.compile(tracesHanlderHtml, {
    isBody: true
  });
  tracesHanlderRenderFunction = eval(tracesHanlderCompiled);
  Template.instance_traces_handler = new Blaze.Template("instance_traces_handler", tracesHanlderRenderFunction);
  Template.instance_traces_handler.steedosData = steedosData;
  return Template.instance_traces_handler.helpers(TracesHandler.helpers);
};

InstanceReadOnlyTemplate.init = function (steedosData) {
  InstanceReadOnlyTemplate.create("afSelectUserRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("afFormGroup", steedosData);
  }

  InstanceReadOnlyTemplate.create("afFormGroupRead", steedosData);

  if (Meteor.isServer) {
    InstanceReadOnlyTemplate.create("instance_attachment", {
      absolute: steedosData.absolute
    });
    InstanceReadOnlyTemplate.createImageSign(steedosData);
    InstanceReadOnlyTemplate.createTracesHanlder(steedosData);
    return InstanceReadOnlyTemplate.createInstanceSignText(steedosData);
  }
};

getLinkText = function (item, label, detail_url) {
  if (detail_url) {
    detail_url = detail_url.replace("{_id}", item._id);

    if (!/^http(s?):\/\//.test(detail_url)) {
      detail_url = Steedos.absoluteUrl(detail_url);
    }

    return '<a href="' + detail_url + '" target="_blank">' + label + '</a>';
  } else {
    return label;
  }
};

InstanceReadOnlyTemplate.getValue = function (value, field, locale, utcOffset) {
  var date, detail_url, e, hours, month, seconds, t, t0, t1, year;

  if (!value && value !== false) {
    return '';
  }

  switch (field.type) {
    case 'email':
      value = value ? '<a href=\'mailto:' + value + '\'>' + value + '</a>' : '';
      break;

    case 'url':
      if (value) {
        if (value.indexOf("http") === 0) {
          try {
            value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
          } catch (error) {
            e = error;
            value = "<a href='' target='_blank'>" + value + "</a>";
          }
        } else {
          value = "<a href='http://" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
        }
      } else {
        value = '';
      }

      break;

    case 'group':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("fullname").toString() : void 0;
      } else {
        value = value != null ? value.fullname : void 0;
      }

      break;

    case 'user':
      if (field.is_multiselect) {
        value = value != null ? value.getProperty("name").toString() : void 0;
      } else {
        value = value != null ? value.name : void 0;
      }

      break;

    case 'password':
      value = '******';
      break;

    case 'checkbox':
      if (value && value !== 'false') {
        value = TAPi18n.__("form_field_checkbox_yes", {}, locale);
      } else {
        value = TAPi18n.__("form_field_checkbox_no", {}, locale);
      }

      break;

    case 'dateTime':
      if (value && value.length === 16) {
        t = value.split("T");
        t0 = t[0].split("-");
        t1 = t[1].split(":");
        year = t0[0];
        month = t0[1];
        date = t0[2];
        hours = t1[0];
        seconds = t1[1];
        value = new Date(year, month - 1, date, hours, seconds);
      } else {
        value = new Date(value);
      }

      value = InstanceReadOnlyTemplate.formatDate(value, utcOffset);
      break;

    case 'input':
      if (field.is_textarea) {
        value = Spacebars.SafeString(Markdown(value));
      }

      break;

    case 'number':
      if (value || value === 0) {
        if (typeof value === 'string') {
          value = parseFloat(value);
        }

        value = value.toFixed(field.digits);
        value = Steedos.numberToString(value, locale);
      }

      break;

    case 'odata':
      detail_url = field.detail_url;

      if (field.is_multiselect) {
        value = _.map(value, function (item) {
          return getLinkText(item, item['@label'], detail_url);
        });
      } else {
        value = getLinkText(value, value['@label'], detail_url);
      }

  }

  return value;
};

InstanceReadOnlyTemplate.getLabel = function (fields, code) {
  var field;
  field = fields.findPropertyByPK("code", code);

  if (field) {
    if (field.name) {
      return field.name;
    } else {
      return field.code;
    }
  }
};

InstanceReadOnlyTemplate.getInstanceFormVersion = function (instance) {
  var form, form_fields, form_version;
  form = db.forms.findOne(instance.form);
  form_version = {};
  form_fields = [];

  if (form.current._id === instance.form_version) {
    form_version = form.current;
  } else {
    form_version = _.where(form.historys, {
      _id: instance.form_version
    })[0];
  }

  form_version.fields.forEach(function (field) {
    if (field.type === 'section') {
      form_fields.push(field);

      if (field.fields) {
        return field.fields.forEach(function (f) {
          return form_fields.push(f);
        });
      }
    } else if (field.type === 'table') {
      field['sfields'] = field['fields'];
      delete field['fields'];
      return form_fields.push(field);
    } else {
      return form_fields.push(field);
    }
  });
  form_version.fields = form_fields;
  return form_version;
};

InstanceReadOnlyTemplate.getFlowVersion = function (instance) {
  var flow, flow_version;
  flow = db.flows.findOne(instance.flow);
  flow_version = {};

  if (flow.current._id === instance.flow_version) {
    flow_version = flow.current;
  } else {
    flow_version = _.where(flow.historys, {
      _id: instance.flow_version
    })[0];
  }

  return flow_version;
};

_getViewHtml = function (path) {
  var viewHtml;
  viewHtml = Assets.getText(path);

  if (viewHtml) {
    viewHtml = viewHtml.replace(/<template[\w\s\"\=']+>/i, "").replace(/<\/template>/i, "");
  }

  return viewHtml;
};

_getLocale = function (user) {
  var locale, ref, ref1;

  if ((user != null ? (ref = user.locale) != null ? ref.toLocaleLowerCase() : void 0 : void 0) === 'zh-cn') {
    locale = "zh-CN";
  } else if ((user != null ? (ref1 = user.locale) != null ? ref1.toLocaleLowerCase() : void 0 : void 0) === 'en-us') {
    locale = "en";
  } else {
    locale = "zh-CN";
  }

  return locale;
};

_getRequiredFields = function (fields, rev) {
  if (!rev) {
    rev = [];
  }

  fields.forEach(function (field) {
    if (field.type === 'section') {
      return _getRequiredFields(field.fields, rev);
    } else if (field.type === 'table') {} else {
      if (field.is_required) {
        return rev.push(field.code);
      }
    }
  });
  return rev;
};

_getStartStepEditableFields = function (fields, steps) {
  var editableCode, startStep;
  startStep = steps.findPropertyByPK("step_type", "start");
  editableCode = [];

  _.keys(startStep.permissions).forEach(function (key) {
    if (startStep.permissions[key] === 'editable') {
      return editableCode.push(key);
    }
  });

  return editableCode;
};

_getStartStepRequiredFields = function (fields, steps) {
  var editableCode, requiredFields;
  requiredFields = _getRequiredFields(fields);
  editableCode = _getStartStepEditableFields(fields, steps);
  return _.intersection(requiredFields, editableCode);
};

_getTemplateData = function (user, space, instance, options) {
  var flow, form, form_version, locale, steedosData;

  if (Meteor.isServer) {
    form_version = InstanceReadOnlyTemplate.getInstanceFormVersion(instance);
  } else {
    form_version = WorkflowManager.getInstanceFormVersion(instance);
  }

  locale = _getLocale(user);
  steedosData = {};

  if (Meteor.isClient) {
    steedosData = _.clone(WorkflowManager_format.getAutoformSchemaValues());
    steedosData.insname = instance.name;
    steedosData.ins_state = instance.state;
    steedosData.ins_final_decision = instance.ins_final_decision;
    steedosData.ins_code = instance.code;
    steedosData.ins_is_archived = instance.is_archived;
    steedosData.ins_is_deleted = instance.ins_is_deleted;
    steedosData.applicant_name = instance.applicant_name;
    steedosData.applicantContext = instance.applicant_name;
  }

  steedosData.instance = instance;
  steedosData.form_version = form_version;
  steedosData.locale = locale;
  steedosData.utcOffset = user.utcOffset;
  steedosData.space = instance.space;
  steedosData.sessionUserId = user._id;

  if (Meteor.isServer) {
    if (options != null ? options.editable : void 0) {
      form = db.forms.findOne({
        _id: instance.form
      });
      flow = db.flows.findOne({
        _id: instance.flow
      });
      steedosData.startStepEditableFields = _getStartStepEditableFields(form.current.fields, flow.current.steps);
    }
  }

  return steedosData;
};

InstanceReadOnlyTemplate.formatDate = function (date, utcOffset) {
  var passing;

  if (Meteor.isServer) {
    passing = false;
  } else {
    passing = true;
  }

  if (!utcOffset && utcOffset !== 0) {
    utcOffset = 8;
  }

  return moment(date).utcOffset(utcOffset, passing).format("YYYY-MM-DD HH:mm");
};

InstanceReadOnlyTemplate.getInstanceView = function (user, space, instance, options) {
  var body, instanceCompiled, instanceRenderFunction, instanceTemplate, steedosData;
  steedosData = _getTemplateData(user, space, instance, options);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  instanceTemplate = TemplateManager.getTemplate(instance, options != null ? options.templateName : void 0);
  instanceTemplate = instanceTemplate.replace(/afSelectUser/g, "afSelectUserRead");

  if (!(options != null ? options.editable : void 0)) {
    instanceTemplate = instanceTemplate.replace(/afFormGroup/g, "afFormGroupRead");
  }

  instanceCompiled = SpacebarsCompiler.compile(instanceTemplate, {
    isBody: true
  });
  instanceRenderFunction = eval(instanceCompiled);
  Template.instance_readonly_view = new Blaze.Template("instance_readonly_view", instanceRenderFunction);
  Template.instance_readonly_view.steedosData = steedosData;
  Template.instance_readonly_view.helpers(InstanceformTemplate.helpers);
  InstanceReadOnlyTemplate.init(steedosData);
  body = Blaze.toHTMLWithData(Template.instance_readonly_view, steedosData);
  return "<div id='instanceform' >\n	" + body + "\n</div>";
};

InstanceReadOnlyTemplate.getTracesView = function (user, space, instance, options) {
  var body, form, steedosData, traceCompiled, traceRenderFunction, tracesHtml;
  steedosData = _getTemplateData(user, space, instance);
  form = db.forms.findOne(instance.form);

  if (form.instance_style === "table" || (options != null ? options.templateName : void 0) === "table") {
    tracesHtml = _getViewHtml('client/views/instance/traces_table.html');
  } else {
    tracesHtml = _getViewHtml('client/views/instance/traces.html');
  }

  traceCompiled = SpacebarsCompiler.compile(tracesHtml, {
    isBody: true
  });
  traceRenderFunction = eval(traceCompiled);
  Template.trace_readonly_view = new Blaze.Template("trace_readonly_view", traceRenderFunction);
  Template.trace_readonly_view.steedosData = steedosData;
  Template.trace_readonly_view.helpers(TracesTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.trace_readonly_view, instance.traces);
  return body;
};

InstanceReadOnlyTemplate.getAttachmentView = function (user, space, instance) {
  var attachmentCompiled, attachmentHtml, attachmentRenderFunction, body, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  attachmentHtml = _getViewHtml('client/views/instance/instance_attachments.html');
  attachmentCompiled = SpacebarsCompiler.compile(attachmentHtml, {
    isBody: true
  });
  attachmentRenderFunction = eval(attachmentCompiled);
  Template.attachments_readonly_view = new Blaze.Template("attachments_readonly_view", attachmentRenderFunction);
  Template.attachments_readonly_view.steedosData = steedosData;
  Template.attachments_readonly_view.helpers(InstanceAttachmentTemplate.helpers);
  body = Blaze.toHTMLWithData(Template.attachments_readonly_view);
  return body;
};

InstanceReadOnlyTemplate.getRelatedInstancesView = function (user, space, instance, options) {
  var body, relatedInstancesCompiled, relatedInstancesHtml, relatedInstancesRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedInstancesHtml = _getViewHtml('client/views/instance/related_instances.html');
  relatedInstancesCompiled = SpacebarsCompiler.compile(relatedInstancesHtml, {
    isBody: true
  });
  relatedInstancesRenderFunction = eval(relatedInstancesCompiled);
  Template.related_instances_view = new Blaze.Template("related_instances_view", relatedInstancesRenderFunction);
  Template.related_instances_view.steedosData = steedosData;
  Template.related_instances_view.helpers(RelatedInstances.helpers);
  body = Blaze.toHTMLWithData(Template.related_instances_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getRelatedRecordsView = function (user, space, instance, options) {
  var body, relatedRecordsCompiled, relatedRecordsHtml, relatedRecordsRenderFunction, steedosData;
  steedosData = _getTemplateData(user, space, instance);
  steedosData.absolute = false;

  if (options != null ? options.absolute : void 0) {
    steedosData.absolute = true;
  }

  relatedRecordsHtml = _getViewHtml('client/views/instance/related_records.html');
  relatedRecordsCompiled = SpacebarsCompiler.compile(relatedRecordsHtml, {
    isBody: true
  });
  relatedRecordsRenderFunction = eval(relatedRecordsCompiled);
  Template.related_records_view = new Blaze.Template("related_records_view", relatedRecordsRenderFunction);
  Template.related_records_view.steedosData = steedosData;
  Template.related_records_view.helpers(RelatedRecords.helpers);
  body = Blaze.toHTMLWithData(Template.related_records_view, steedosData);
  return body;
};

InstanceReadOnlyTemplate.getOnLoadScript = function (instance) {
  var form_script, form_version;
  form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
  form_script = form_version.form_script;

  if (form_script && form_script.replace(/\n/g, "").replace(/\s/g, "").length > 0) {
    form_script = "CoreForm = {};CoreForm.instanceform = {};" + form_script;
    return form_script += ";if(CoreForm.form_OnLoad){window.onload = CoreForm.form_OnLoad();}";
  } else {
    return form_script = "";
  }
};

InstanceReadOnlyTemplate.getInstanceHtml = function (user, space, instance, options) {
  var absoluteUrl, allCssLink, attachment, body, creatorService, cssHref, form, formDescription, formDescriptionHtml, html, ins_record_ids, instanceBoxStyle, instance_style, onLoadScript, openFileScript, ref, ref1, related_instances, related_records, showTracesBtn, showTracesScript, trace, traceCheck, width;
  body = InstanceReadOnlyTemplate.getInstanceView(user, space, instance, options);
  onLoadScript = InstanceReadOnlyTemplate.getOnLoadScript(instance);
  creatorService = (ref = Meteor.settings["public"].webservices) != null ? (ref1 = ref.creator) != null ? ref1.url : void 0 : void 0;
  ins_record_ids = instance.record_ids;
  openFileScript = "if(window.isNode && isNode()){\n	attachs = document.getElementsByClassName(\"ins_attach_href\");\n	for(var i = 0; i < attachs.length; i++){\n		attach = attachs[i];\n		attach.addEventListener(\"click\", function(e){\n			if(isImage(this.dataset.type) || isHtml(this.dataset.type)){\n				e.preventDefault();\n				openWindow(\"/api/files/instances/\" + this.dataset.id);\n			}else if(nw_core.canOpenFile(this.dataset.name)){\n				e.preventDefault();\n				nw_core.openFile(this.href, this.dataset.name)\n			}\n		});\n	}\n}\n\nvar flow = \"" + instance.flow + "\";\nvar space = \"" + instance.space + "\";\n\nfunction getCookie(name){\n	let pattern = RegExp(name + \"=.[^;]*\")\n	let matched = document.cookie.match(pattern)\n	if(matched){\n		let cookie = matched[0].split('=')\n		return cookie[1]\n	}\n	return ''\n}\n\nvar records = document.getElementsByClassName(\"ins-related-records\");\nfor(var i = 0; i < records.length; i++){\n		var record = records[i];\n		record.addEventListener(\"click\", function(e){\n			var creatorService = \"" + creatorService + "\"\n			var ins_record_ids = " + JSON.stringify(ins_record_ids) + "\n			if(creatorService && ins_record_ids && ins_record_ids.length > 0){\n				var objcetName = ins_record_ids[0].o\n				var id = ins_record_ids[0].ids[0]\n				var uobj = {};\n				uobj[\"X-User-Id\"] = getCookie(\"X-User-Id\");\n				uobj[\"X-Auth-Token\"] = getCookie(\"X-Auth-Token\");\n				redirectUrl = creatorService + \"app/-/\" + objcetName + \"/view/\" + id + \"?\" + $.param(uobj);\n				openWindow(redirectUrl);\n			}\n		});\n	}\n";

  if (!Steedos.isMobile()) {
    form = db.forms.findOne(instance.form);

    if ((form != null ? form.instance_style : void 0) === 'table') {
      instance_style = "instance-table";
    }
  }

  if ((options != null ? options.templateName : void 0) === 'table') {
    instance_style = "instance-table";
  }

  if (options != null ? options.instance_style : void 0) {
    instance_style = options.instance_style;
  }

  if (!options || options.showTrace === true) {
    trace = InstanceReadOnlyTemplate.getTracesView(user, space, instance);
  } else {
    trace = "";
  }

  instanceBoxStyle = "";

  if (instance && instance.final_decision) {
    if (instance.final_decision === "approved") {
      instanceBoxStyle = "box-success";
    } else if (instance.final_decision === "rejected") {
      instanceBoxStyle = "box-danger";
    }
  }

  if (!options || options.showAttachments === true) {
    attachment = InstanceReadOnlyTemplate.getAttachmentView(user, space, instance);
    related_instances = InstanceReadOnlyTemplate.getRelatedInstancesView(user, space, instance, options);
    related_records = InstanceReadOnlyTemplate.getRelatedRecordsView(user, space, instance, options);
  } else {
    attachment = "";
    related_instances = "";
    related_records = "";
  }

  absoluteUrl = Meteor.absoluteUrl();
  width = "960px";

  if (options != null ? options.width : void 0) {
    width = "";
  }

  cssHref = Meteor.absoluteUrl("steedos-css");
  allCssLink = "<link rel=\"stylesheet\" type=\"text/css\" class=\"__meteor-css__\" href=\"" + cssHref + "\">";
  traceCheck = "";

  if (!_.isEmpty(trace)) {
    traceCheck = "checked";
  }

  if ((options != null ? options.tagger : void 0) === 'email') {
    showTracesBtn = "";
  } else {
    showTracesBtn = "<div class=\"navigation-bar btn-group no-print\" style=\"min-width: 600px; z-index: 999\">\n	<div class=\"print-tool\">\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-attachments\" id=\"cbx-print-attachments\" checked=\"checked\"><span>附件</span></label>\n		<label class=\"cbx-label\"><input type=\"checkbox\" class=\"cbx-print cbx-print-traces\" id=\"cbx-print-traces\" checked=\"" + traceCheck + "\"><span>" + t('instance_approval_history') + "</span></label>\n	</div>\n</div>";
  }

  showTracesScript = "$( document ).ready(function(){\n	var b = document.getElementById('cbx-print-traces');\n	var t = document.getElementsByClassName('instance-traces')[0];\n	if (b.checked){\n		t.style = 'display: block;'\n	} else {\n		t.style = 'display: none;'\n	}\n	b.addEventListener('change', function(e){\n		if (e.target.checked){\n			t.style = 'display: block;'\n		} else {\n			t.style = 'display: none;'\n		}\n	});\n\n	var attachmentsCheckbox = document.getElementById('cbx-print-attachments');\n	var attachmentsView = document.getElementsByClassName('attachments-section')[0];\n	if (attachmentsCheckbox.checked){\n		attachmentsView.style = 'display: block;'\n	} else {\n		attachmentsView.style = 'display: none;'\n	}\n	attachmentsCheckbox.addEventListener('change', function(e){\n		if (e.target.checked){\n			attachmentsView.style = 'display: block;'\n		} else {\n			attachmentsView.style = 'display: none;'\n		}\n	});\n});\n";

  if (options != null ? options.styles : void 0) {
    allCssLink = "";
  }

  form = db.forms.findOne({
    _id: instance.form
  });
  formDescriptionHtml = "";

  if (form) {
    formDescription = form.description;

    if (formDescription) {
      formDescription = formDescription.replace(/\n/g, "<br/>");
      formDescriptionHtml = "<div class=\"box-header  with-border instance-header\">\n	<div>\n		" + formDescription + "\n	</div>\n</div>";
    }
  }

  html = "<!DOCTYPE html>\n<html>\n	<head>\n		<meta http-equiv=\"Content-Type\" content=\"text/html; charset=UTF-8\"/>\n		" + allCssLink + "\n		<script src=\"https://www.steedos.com/website/libs/jquery.min.js\" type=\"text/javascript\"></script>\n		<script src=\"/js/nw_core.js\" type=\"text/javascript\"></script>\n		" + (options.plugins || "") + "\n\n		<style>\n			.steedos{\n				width: " + width + ";\n				margin-left: auto;\n				margin-right: auto;\n			}\n\n			.instance-view .instance-name{\n				display: inline !important\n			}\n			.box-tools{\n				display: none;\n			}\n			.box.collapsed-box .box-body,.box.collapsed-box .box-footer {\n			  display: block;\n			}\n\n			body{\n				background: azure !important;\n			}\n\n			.instance-view .instance-traces{\n				padding-left: 15px;\n				padding-right: 15px;\n			}\n\n			" + ((options != null ? options.styles : void 0) || "") + "\n		</style>\n	</head>\n	<body>\n		<div class=\"steedos workflow instance-print\">\n			<div class=\"skin-green skin-admin-lte\">\n				<div class=\"wrapper\">\n					<div class=\"content-wrapper\">\n						" + showTracesBtn + "\n						<div class=\"instance-print\">\n							<div class=\"instance " + instance_style + "\">\n								<form name=\"instanceForm\">\n									<div class=\"instance-form box " + instanceBoxStyle + "\">\n										" + formDescriptionHtml + "\n										<div class=\"box-body\">\n											<div class=\"col-md-12\">\n												<div class='attachments-section'>\n													" + attachment + "\n													" + related_instances + "\n													" + related_records + "\n												</div>\n												" + body + "\n											</div>\n										</div>\n									</div>\n								</form>\n								" + trace + "\n							</div>\n\n						</div>\n					</div>\n				</div>\n			</div>\n		</div>\n	</body>\n	<script>" + openFileScript + ";" + onLoadScript + ";" + showTracesScript + "</script>\n</html>";
  return html;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"template_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/lib/template_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var formId;
TemplateManager = {};
formId = 'instanceform';

TemplateManager.instance_title = function () {
  var pageTitle, pageTitleTrClass, val;
  pageTitle = "{{instance.name}}";
  pageTitleTrClass = "instance-name";

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) {
    pageTitle = "{{> afFormGroup name=\"" + CoreForm.pageTitleFieldName + "\" label=false}}";
    pageTitleTrClass = "";
  }

  if (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitle : void 0) {
    pageTitle = "" + CoreForm.pageTitle;
    pageTitleTrClass = "";
  }

  val = {
    pageTitle: pageTitle,
    pageTitleTrClass: pageTitleTrClass
  };
  return val;
};

TemplateManager.handleTableTemplate = function (instance, _export) {
  var table_fields, template;
  template = "<div class='instance-template'>\n	<table class=\"table-page-title form-table no-border text-align-center\" style=\"width: 100%;display: inline-table;\">\n		<tr class=\"" + this.instance_title().pageTitleTrClass + "\">\n			<td class=\"instance-table-name-td page-title\">\n				" + this.instance_title().pageTitle + "\n			</td>\n		</tr>\n\n	</table>\n	<table class=\"table-page-body form-table\">\n			<tr style=\"height:0px\">\n				<th style='width: 16%'></th>\n				<th></th>\n				<th style='width: 16%'></th>\n				<th></th>\n			</tr>";
  table_fields = InstanceformTemplate.helpers.table_fields(instance);
  table_fields.forEach(function (table_field) {
    var field_permission, pureCode, required, title_permission;
    required = "";

    if (!(typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) || (typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) !== table_field.code) {
      if (table_field.is_required) {
        required = "is-required";
      }

      if (_export) {
        required = "";
      }

      pureCode = Steedos.removeSpecialCharacter(table_field.code);

      if (InstanceformTemplate.helpers.isOpinionField(table_field)) {
        template += table_field.tr_start;
        template += "<td class=\"td-title " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field opinion-field opinion-field-" + pureCode + " automatic\" colspan = \"" + table_field.td_colspan + "\">\n	{{> instanceSignText name=\"" + table_field.code + "\"}}\n</td>";
        return template += table_field.tr_end;
      } else {
        if (InstanceformTemplate.helpers.includes(table_field.type, 'section,table')) {
          template += table_field.tr_start;
          template += "<td class=\"td-childfield td-childfield-" + pureCode + "\" colspan = \"" + table_field.td_colspan + "\">\n   {{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        } else {
          template += table_field.tr_start;

          if (_export) {
            title_permission = "";
            field_permission = "";
          } else {
            title_permission = "title-" + table_field.permission;
            field_permission = "field-" + table_field.permission;
          }

          template += "<td class=\"td-title td-title-" + pureCode + " " + title_permission + " " + required + "\">\n	{{afFieldLabelText name=\"" + table_field.code + "\"}}\n</td>\n<td class=\"td-field td-field-" + pureCode + " " + field_permission + "\" colspan = \"" + table_field.td_colspan + "\">\n	{{> afFormGroup name=\"" + table_field.code + "\" label=false}}\n</td>";
          return template += table_field.tr_end;
        }
      }
    }
  });
  template += "	</table>\n\n	<table class=\"table-page-footer form-table no-border\">\n		<tr class=\"applicant-wrapper\">\n			<td class=\"nowrap\">\n				<div class='inline-left'>\n					<label class=\"control-label\">{{_t \"instance_initiator\"}}：</label>\n				</div>\n				<div class='instance-table-wrapper-td inline-left'>\n					{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n				</div>\n			</td>\n			<td class=\"nowrap\">\n				<div class='pull-left'>\n					<div class='inline-left'>\n						<label>{{_t \"instance_submit_date\"}}：</label>\n					</div>\n					<div class='inline-right'>\n						<div class=\"form-group\">\n							{{formatDate instance.submit_date '{\"format\":\"YYYY-MM-DD\"}'}}\n						</div>\n					</div>\n				</div>\n			</td>\n		</tr>\n	</table>\n</div>";
  return template;
};

TemplateManager._template = {
  "default": function (instance) {
    var template;
    template = "<div class=\"with-border col-md-12\">\n	<div class=\"instance-name\">\n		<h3 class=\"box-title\">" + TemplateManager.instance_title().pageTitle + "</h3>\n		<span class=\"help-block\"></span>\n	</div>\n	<span class=\"help-block\"></span>\n</div>\n{{#each steedos_form.fields}}\n	{{#if isOpinionField this}}\n		<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			<div class=\"form-group automatic opinion-field-{{this.code}}\">\n				<label class=\"control-label\">{{afFieldLabelText name=this.code}}</label>\n\n				{{> instanceSignText name=this.code}}\n			</div>\n		</div>\n	{{else}}\n		{{#if includes this.type 'section,table'}}\n			<div class=\"col-md-12 field-{{this.code}}\">\n				{{> afFormGroup name=this.code label=false}}\n			</div>\n		{{else}}\n			<div class=\"{{#if this.is_wide}}col-md-12{{else}}col-md-6{{/if}} field-{{this.code}}\">\n			{{> afFormGroup name=this.code}}\n			</div>\n		{{/if}}\n	{{/if}}\n{{/each}}\n<div class=\"col-md-12\">\n	<div class=\"applicant-wrapper form-group form-horizontal\">\n	<div class=\"input-group\">\n		<div class=\"input-group-addon\">\n		  {{_t \"instance_initiator\"}}&nbsp;:\n		</div>\n		{{>Template.dynamic  template=\"afSelectUser\" data=applicantContext}}\n	  </div>\n	</div>\n</div>";
    return template;
  },
  table: function (instance) {
    return TemplateManager.handleTableTemplate(instance);
  }
};
TemplateManager._templateHelps = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control',
        style: 'padding:6px 12px;width:140px;display:inline'
      }
    };
    data.atts.disabled = true;
    return data;
  }
};
({
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = formId;
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  }
});

TemplateManager.getTemplate = function (instance, templateName) {
  var flow, form;
  flow = db.flows.findOne(instance.flow);
  form = db.forms.findOne(instance.form);

  if (templateName) {
    if (templateName === 'table') {
      return TemplateManager._template.table(instance);
    }

    return TemplateManager._template["default"](instance);
  }

  if (typeof Session !== "undefined" && Session !== null ? Session.get("instancePrint") : void 0) {
    if (flow != null ? flow.print_template : void 0) {
      return "<div class='instance-template'>" + flow.print_template + "</div>";
    } else {
      if (flow != null ? flow.instance_template : void 0) {
        return "<div class='instance-template'>" + flow.instance_template + "</div>";
      } else {
        return TemplateManager._template.table(instance);
      }
    }
  } else {
    if (Steedos.isMobile()) {
      return TemplateManager._template["default"](instance);
    }

    if (flow != null ? flow.instance_template : void 0) {
      return "<div class='instance-template'>" + flow.instance_template + "</div>";
    }

    if (form != null ? form.instance_style : void 0) {
      if (form.instance_style === 'table') {
        return TemplateManager._template.table(instance);
      }

      return TemplateManager._template["default"](instance);
    } else {
      return TemplateManager._template["default"](instance);
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"coreform":{"inputTypes":{"coreform-table":{"steedos-table.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/coreform/inputTypes/coreform-table/steedos-table.js                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
SteedosTable = {};
SteedosTable.formId = "instanceform";

SteedosTable.checkItem = function (field, item_index) {
  var fieldObj = SteedosTable.getField(field);
  var fieldVal = SteedosTable.getItemModalValue(field, item_index);
  var sf_name = '';
  var rev = true;
  fieldObj.sfields.forEach(function (sf) {
    if (sf.permission == 'editable') {
      sf_name = fieldObj.code + "." + sf.code;

      if (!InstanceManager.checkFormFieldValue($("[name='" + sf_name + "']")[0])) {
        rev = false;
      }
    }
  });
  return rev;
};

SteedosTable.setTableItemValue = function (field, item_index, item_value) {
  var tableValue = SteedosTable.getTableValue(field);
  tableValue[item_index] = item_value;
};

SteedosTable.getTableItemValue = function (field, item_index) {
  return SteedosTable.getTableValue(field)[item_index];
};

SteedosTable.removeTableItem = function (field, item_index) {
  var item_value = SteedosTable.getTableItemValue(field, item_index);
  item_value.removed = true;
};

SteedosTable.setTableValue = function (field, value) {
  $("table[name='" + field + "']").val({
    val: value
  });
};

SteedosTable.getTableValue = function (field) {
  return $("table[name='" + field + "']").val().val;
};

SteedosTable.getValidValue = function (field) {
  var value = SteedosTable.getTableValue(field);

  if (!value) {
    return;
  }

  var validValue = [];
  value.forEach(function (v) {
    if (!v.removed) {
      validValue.push(v);
    }
  });
  return validValue;
};

SteedosTable.handleData = function (field, values) {
  if (!values || !(values instanceof Array)) {
    return values;
  }

  var fieldObj = SteedosTable.getField(field);
  values.forEach(function (v) {
    fieldObj.sfields.forEach(function (f) {
      if (f.type == 'user' || f.type == 'group') {
        var value = v[f.code];

        if (f.is_multiselect) {
          if (value && value.length > 0 && typeof value[0] == 'object') {
            v[f.code] = v[f.code].getProperty("id");
          }
        } else {
          if (value && typeof value == 'object') {
            v[f.code] = v[f.code].id;
          }
        }
      } else if (f.type == 'dateTime') {
        var value = v[f.code];

        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
            v[f.code] = value;
          }
        }
      }
    });
  });
  return values;
};

SteedosTable.getField = function (field) {
  var instanceFields = WorkflowManager.getInstanceFields();
  if (!instanceFields) return;
  var fieldObj = instanceFields.findPropertyByPK("code", field);
  return fieldObj;
};

SteedosTable.getModalData = function (field, index) {
  var data = {};
  var fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return;
  }

  data.field = fieldObj;
  data.field.formula = Form_formula.getFormulaFieldVariable("Form_formula.field_values", fieldObj.sfields);
  data.value = {};
  data.value[field] = SteedosTable.getTableItemValue(field, index);
  data.index = index;
  return data;
};

SteedosTable.getItemModalValue = function (field, item_index) {
  if (!AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index)) {
    return {};
  }

  var item_value = AutoForm.getFormValues("steedos_table_modal_" + field + "_" + item_index).insertDoc[field];
  return item_value;
};

SteedosTable.addItem = function (field, index, _item_value) {
  var keys = SteedosTable.getKeys(field);

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  $("tbody[name='" + field + "Tbody']").append(SteedosTable.getTr(keys, item_value, index, field, true));
};

SteedosTable.updateItem = function (field, index, _item_value) {
  var item = $("tr[name='" + field + "_item_" + index + "']");

  var item_value = _item_value || SteedosTable.getItemModalValue(field, index);

  if (item && item.length > 0) {
    var keys = SteedosTable.getKeys(field);
    var tds = SteedosTable.getRemoveTd(field, index);
    var sfields = SteedosTable.getField(field).sfields;
    keys.forEach(function (key) {
      var sfield = sfields.findPropertyByPK("code", key);
      var value = item_value[key];
      tds = tds + SteedosTable.getTd(sfield, index, value);
    });
    item.empty();
    item.append(tds);
  } else {
    SteedosTable.addItem(field, index);
  }

  if (SteedosTable.getTableValue(field)) {
    SteedosTable.setTableItemValue(field, index, item_value); //SteedosTable.valueHash[field][index] = item_value;
  } else {
    //SteedosTable.valueHash[field] = [item_value];
    SteedosTable.setTableValue(field, [item_value]);
  } //执行主表公式计算


  InstanceManager.runFormula(field);
};

SteedosTable.removeItem = function (field, index) {
  $("tr[name='" + field + "_item_" + index + "']").hide();
  SteedosTable.removeTableItem(field, index);
  InstanceManager.runFormula(field);
};

SteedosTable.showModal = function (field, index, method) {
  var modalData = SteedosTable.getModalData(field, index);
  modalData.method = method;
  Modal.show("steedosTableModal", modalData);
};

SteedosTable.getKeys = function (field) {
  if (!AutoForm.getCurrentDataForForm(SteedosTable.formId)) {
    return [];
  }

  var ss = AutoForm.getFormSchema(SteedosTable.formId);
  var keys = [];

  if (ss.schema(field + ".$").type === Object) {
    keys = ss.objectKeys(SimpleSchema._makeGeneric(field) + '.$');
  }

  return keys;
};

SteedosTable.getThead = function (field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);

  if (!fieldObj) {
    return '';
  }

  var thead = '',
      trs = '',
      label = '',
      width = 100;

  if (editable) {
    // trs = "<th class='removed'></th>"
    trs = "";
  }

  var sfields = fieldObj.sfields;

  if (!sfields) {
    return thead;
  }

  var sf_length = sfields.length;

  if (sf_length > 0) {
    var wide_fields = sfields.filterProperty("is_wide", true);
    width = 100 / (sf_length + wide_fields.length);
  }

  sfields.forEach(function (sf, index) {
    label = sf.name != null && sf.name.length > 0 ? sf.name : sf.code;
    trs = trs + "<td "; // nowrap='nowrap'

    trs = trs + " class='title " + sf.type + "'";

    if (index != sf_length - 1) {
      if (sf.is_wide) {
        trs = trs + "style='width:" + width * 2 + "%'";
      } else {
        trs = trs + "style='width:" + width + "%'";
      }
    }

    trs = trs + ">" + label + "</td>";
  });
  thead = '<tr>' + trs + '</tr>';
  return thead;
};

SteedosTable.getTbody = function (keys, field, values, editable) {
  var tbody = "";

  if (values instanceof Array) {
    values.forEach(function (value, index) {
      tbody = tbody + SteedosTable.getTr(keys, value, index, field, editable);
    });
  }

  return tbody;
};

SteedosTable.getTr = function (keys, item_value, index, field, editable) {
  var fieldObj = field;
  if (!_.isObject(field)) fieldObj = SteedosTable.getField(field);
  var tr = "<tr id='" + fieldObj.code + "_item_" + index + "' name='" + fieldObj.code + "_item_" + index + "' data-index='" + index + "'";

  if (editable) {
    tr = tr + "' class='item edit'";
  } else {
    if (Steedos.isMobile()) {
      tr = tr + " class='item item-readonly'";
    } else {
      tr = tr + " class='item '";
    }
  }

  if (item_value.removed) {
    tr = tr + " style='display:none' ";
  }

  tr = tr + "'>";
  var tds = "";

  if (editable) {
    tds = SteedosTable.getRemoveTd(fieldObj.code, index);
  }

  var sfields = fieldObj.sfields;
  keys.forEach(function (key) {
    var sfield = sfields.findPropertyByPK("code", key);
    var value = item_value[key];
    tds = tds + SteedosTable.getTd(sfield, index, value);
  });
  tr = tr + tds + "</tr>";
  return tr;
};

SteedosTable.getRemoveTd = function (field, index) {
  // return "<td class='steedosTable-item-remove removed' data-index='" + index + "'><i class='fa fa-times' aria-hidden='true'></td>";
  return "";
};

SteedosTable.getTd = function (field, index, value) {
  var td = "<td ";
  td = td + " class='steedosTable-item-field " + field.type + "' ";
  var td_value = "";

  if (Meteor.isClient) {
    td_value = SteedosTable.getTDValue(field, value);
  } else {
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    td_value = InstanceReadOnlyTemplate.getValue(value, field, locale, utcOffset);
  }

  td = td + " data-index='" + index + "'>" + td_value + "</td>";
  return td;
};

SteedosTable.getTDValue = function (field, value) {
  var td_value = "";

  if (!field) {
    return td_value;
  }

  try {
    switch (field.type) {
      case 'user':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaSpaceUsers(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var u = CFDataManager.getFormulaSpaceUsers(value);
              td_value = u ? u.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'group':
        if (value) {
          if (field.is_multiselect) {
            if (value.length > 0) {
              if ("string" == typeof value[0]) {
                td_value = CFDataManager.getFormulaOrganizations(value).getProperty("name").toString();
              } else {
                td_value = value.getProperty("name").toString();
              }
            }
          } else {
            if ("string" == typeof value) {
              var o = CFDataManager.getFormulaOrganization(value);
              td_value = o ? o.name : '';
            } else {
              td_value = value.name;
            }
          }
        }

        break;

      case 'checkbox':
        if (value === true || value == 'true') {
          td_value = TAPi18n.__("form_field_checkbox_yes");
        } else {
          td_value = TAPi18n.__("form_field_checkbox_no");
        }

        break;

      case 'email':
        td_value = value ? "<a href='mailto:" + value + "'>" + value + "</a>" : "";
        break;

      case 'url':
        if (value) {
          if (value.indexOf("http") == 0) {
            try {
              td_value = "<a href='" + encodeURI(value) + "' target='_blank'>" + value + "</a>";
            } catch (e) {
              td_value = "<a href='' target='_blank'>" + value + "</a>";
            }
          } else {
            td_value = "<a href='http://" + encodeURI(value) + "' target='_blank'>http://" + value + "</a>";
          }
        } else {
          td_value = "";
        }

        break;

      case 'password':
        td_value = '******';
        break;

      case 'date':
        if (value) {
          if (value.length == 10) {
            var t = value.split("-");
            year = t[0];
            month = t[1];
            date = t[2];
            value = new Date(year, month - 1, date);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd');
        }

        break;

      case 'dateTime':
        if (value) {
          if (value.length == 16) {
            var t = value.split("T");
            var t0 = t[0].split("-");
            var t1 = t[1].split(":");
            year = t0[0];
            month = t0[1];
            date = t0[2];
            hours = t1[0];
            seconds = t1[1];
            value = new Date(year, month - 1, date, hours, seconds);
          } else {
            value = new Date(value);
          }

          td_value = $.format.date(value, 'yyyy-MM-dd HH:mm');
        }

        break;

      case 'number':
        if (value || value == 0) {
          if (typeof value == 'string') {
            value = parseFloat(value);
          }

          td_value = value.toFixed(field.digits);
          td_value = Steedos.numberToString(td_value);
        }

        break;

      case 'odata':
        if (value) {
          if (field.is_multiselect) {
            td_value = _.pluck(value, '@label').toString();
          } else {
            td_value = value['@label'];
          }
        }

        break;

      default:
        td_value = value ? value : '';
        break;
    }
  } catch (e) {
    e;
    return '';
  }

  return td_value;
};

if (Meteor.isClient) {
  AutoForm.addInputType("table", {
    template: "afTable",
    valueOut: function () {
      var name = this.data("schemaKey");
      return SteedosTable.getValidValue(name);
    },
    valueConverters: {
      "stringArray": AutoForm.valueConverters.stringToStringArray,
      "number": AutoForm.valueConverters.stringToNumber,
      "numerArray": AutoForm.valueConverters.stringToNumberArray,
      "boolean": AutoForm.valueConverters.stringToBoolean,
      "booleanArray": AutoForm.valueConverters.stringToBooleanArray,
      "date": AutoForm.valueConverters.stringToDate,
      "dateArray": AutoForm.valueConverters.stringToDateArray
    },
    contextAdjust: function (context) {
      if (typeof context.atts.maxlength === 'undefined' && typeof context.max === 'number') {
        context.atts.maxlength = context.max;
      }

      return context;
    }
  });
  Template.afTable.events({
    'tap .steedos-table .steedosTable-item-add,.add-item-tr': function (event, template) {
      var name = template.data.name;
      var tableValue = SteedosTable.getTableValue(name);
      var new_item_index = tableValue ? tableValue.length : 0;
      SteedosTable.showModal(name, new_item_index, "add");
    },
    'tap .steedos-table .steedosTable-item-field': function (event, template) {
      if (template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "edit");
      }
    },
    'tap .steedos-table .steedosTable-item-remove': function (event, template) {
      var field = template.data.name;
      var item_index = event.currentTarget.dataset.index;
      Session.set("instance_change", true);
      SteedosTable.removeItem(field, item_index);
    },
    'tap .steedos-table .item-readonly': function (event, template) {
      if (!template.data.atts.editable) {
        var field = template.data.name;
        var index = event.currentTarget.dataset.index;
        SteedosTable.showModal(field, index, "read");
      }
    }
  });

  Template.afTable.rendered = function () {
    var field = this.data.name;
    var keys = SteedosTable.getKeys(field);
    var validValue = SteedosTable.handleData(field, this.data.value);
    SteedosTable.setTableValue(field, validValue);
    $("thead[name='" + field + "Thead']").html(SteedosTable.getThead(field, this.data.atts.editable));
    $("tbody[name='" + field + "Tbody']").html(SteedosTable.getTbody(keys, field, SteedosTable.getTableValue(field), this.data.atts.editable));
    str = t("steedos_table_add_item");
    addItemTr = "<tr class='add-item-tr'><td colspan='" + keys.length + "'><i class='ion ion-plus-round'></i>" + str + "</td></tr>";

    if (this.data.atts.editable) {
      $("tfoot[name='" + field + "Tfoot']").append(addItemTr);
    }
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"views":{"instance":{"_image_sign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_image_sign.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
ImageSign.helpers = {
  spaceUserSign: function (userId) {
    var space, spaceUserSign;
    space = "";

    if (Meteor.isServer) {
      space = Template.instance().view.template.steedosData.space;
    } else {
      space = Session.get("spaceId");
    }

    spaceUserSign = db.space_user_signs.findOne({
      space: space,
      user: userId
    });
    return spaceUserSign;
  },
  imageURL: function (userId) {
    var absolute, spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(userId);
    absolute = false;

    if (Meteor.isServer) {
      absolute = Template.instance().view.template.steedosData.absolute;
    }

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      if (absolute) {
        return Meteor.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      } else {
        return Steedos.absoluteUrl("api/files/avatars/" + spaceUserSign.sign);
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_handler.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_handler.coffee                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesHandler.helpers = {
  showSignImage: function (handler) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if (spaceUserSign != null ? spaceUserSign.sign : void 0) {
      return true;
    } else {
      return false;
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_form.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_form.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceformTemplate.helpers = {
  applicantContext: function () {
    var data, steedos_instance;
    steedos_instance = WorkflowManager.getInstance();
    data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: steedos_instance.applicant_name
    };

    if (!steedos_instance || steedos_instance.state !== "draft") {
      data.atts.disabled = true;
    }

    return data;
  },
  instanceId: function () {
    return 'instanceform';
  },
  form_types: function () {
    if (ApproveManager.isReadOnly()) {
      return 'disabled';
    } else {
      return 'method';
    }
  },
  steedos_form: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return form_version;
    }
  },
  innersubformContext: function (obj) {
    var doc_values;
    doc_values = WorkflowManager_format.getAutoformSchemaValues();
    obj["tableValues"] = doc_values ? doc_values[obj.code] : [];
    obj["formId"] = "instanceform";
    return obj;
  },
  instance: function () {
    var steedos_instance;
    Session.get("change_date");

    if (Session.get("instanceId")) {
      steedos_instance = WorkflowManager.getInstance();
      return steedos_instance;
    }
  },
  empty: function (val) {
    if (val) {
      return false;
    } else {
      return true;
    }
  },
  unempty: function (val) {
    if (val) {
      return true;
    } else {
      return false;
    }
  },
  equals: function (a, b) {
    return a === b;
  },
  unequals: function (a, b) {
    return !(a === b);
  },
  includes: function (a, b) {
    return b.split(',').includes(a);
  },
  include: function (a, b) {
    return b.split(',').includes(a);
  },
  fields: function () {
    var form_version;
    form_version = WorkflowManager.getInstanceFormVersion();

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  },
  formatDate: function (date, options) {
    if (!date) {
      return "";
    }

    if (options && typeof options === 'string') {
      options = JSON.parse(options);
    }

    if (!options.format) {
      options = {
        format: "YYYY-MM-DD HH:mm"
      };
    }

    return moment(date).format(options.format);
  },
  traces: function () {
    var flow, instance, locale, ref, ref1, ref2, ref3, steedosData, steps, traces;

    if (Meteor.isServer) {
      steedosData = (ref = Template.instance()) != null ? (ref1 = ref.view) != null ? (ref2 = ref1.template) != null ? ref2.steedosData : void 0 : void 0 : void 0;
      instance = steedosData != null ? steedosData.instance : void 0;
      flow = InstanceReadOnlyTemplate.getFlowVersion(instance);
      locale = steedosData != null ? steedosData.locale : void 0;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      instance = WorkflowManager.getInstance();
      flow = WorkflowManager.getInstanceFlowVersion();
      locale = Session.get("TAPi18n::loaded_lang");
    }

    if (!instance || !flow) {
      return {};
    }

    steps = flow.steps;
    traces = {};

    if ((ref3 = instance.traces) != null) {
      ref3.forEach(function (trace) {
        var approves, ref4, step;
        step = steps.findPropertyByPK("_id", trace.step);
        approves = [];

        if ((ref4 = trace.approves) != null) {
          ref4.forEach(function (approve) {
            var judge_name;

            if (trace.is_finished === true) {
              if (approve.judge === 'approved') {
                judge_name = TAPi18n.__("Instance State approved", {}, locale);
              } else if (approve.judge === 'rejected') {
                judge_name = TAPi18n.__("Instance State rejected", {}, locale);
              } else if (approve.judge === 'terminated') {
                judge_name = TAPi18n.__("Instance State terminated", {}, locale);
              } else if (approve.judge === 'reassigned') {
                judge_name = TAPi18n.__("Instance State reassigned", {}, locale);
              } else if (approve.judge === 'relocated') {
                judge_name = TAPi18n.__("Instance State relocated", {}, locale);
              } else if (approve.judge === '') {
                judge_name = "";
              } else {
                judge_name = "";
              }
            } else {
              judge_name = TAPi18n.__("Instance State pending", {}, locale);
            }

            return approves.push({
              _id: approve._id,
              handler: approve.user,
              handler_name: approve.handler_name,
              handler_organization_name: approve.handler_organization_name,
              handler_organization_fullname: approve.handler_organization_fullname,
              finish_date: approve.finish_date,
              judge: approve.judge,
              judge_name: judge_name,
              description: approve.description,
              is_finished: approve.is_finished,
              type: approve.type,
              opinion_fields_code: approve.opinion_fields_code,
              sign_field_code: approve.sign_field_code,
              is_read: approve.is_read,
              sign_show: approve.sign_show
            });
          });
        }

        if (step) {
          if (step.name in traces) {
            return traces[step.name] = traces[step.name].concat(approves);
          } else {
            return traces[step.name] = approves;
          }
        }
      });
    }

    return traces;
  },
  doc_values: function () {
    return WorkflowManager_format.getAutoformSchemaValues();
  },
  instance_box_style: function () {
    var box, ins, judge;
    box = Session.get("box");

    if (box === "inbox" || box === "draft") {
      judge = Session.get("judge");

      if (judge) {
        if (judge === "approved") {
          return "box-success";
        } else if (judge === "rejected") {
          return "box-danger";
        }
      }
    }

    ins = WorkflowManager.getInstance();

    if (ins && ins.final_decision) {
      if (ins.final_decision === "approved") {
        return "box-success";
      } else if (ins.final_decision === "rejected") {
        return "box-danger";
      }
    }
  },
  table_fields: function (instance) {
    var fields, form_version;

    if (Meteor.isClient) {
      form_version = WorkflowManager.getInstanceFormVersion();
    } else {
      form_version = WorkflowManager.getFormVersion(instance.form, instance.form_version);
    }

    if (form_version) {
      fields = _.clone(form_version.fields);
      fields.forEach(function (field, index) {
        var after_field, before_field, pre_fields, pre_wide_fields, td_colspan, tr_end, tr_start;
        field.tr_start = "";
        field.tr_end = "";
        td_colspan = 1;

        if ((typeof CoreForm !== "undefined" && CoreForm !== null ? CoreForm.pageTitleFieldName : void 0) === field.code) {
          field.is_wide = true;
        }

        if (field.formula && field.type !== 'odata') {
          field.permission = "readonly";
        }

        if (Steedos.isMobile()) {
          if (field.type === 'section' || field.type === 'table') {
            field.td_colspan = 4;
          } else {
            field.td_colspan = 3;
          }

          if (index !== 0) {
            field.tr_start = "<tr>";
            return field.tr_end = "</tr>";
          }
        } else {
          pre_fields = fields.slice(0, index);
          pre_wide_fields = pre_fields.filterProperty("is_wide", true);
          tr_start = "";
          tr_end = "";
          before_field = null;
          after_field = null;

          if (index > 0) {
            before_field = fields[index - 1];
          }

          if (index < fields.length - 1) {
            after_field = fields[index + 1];
          }

          if (field.type === 'section' || field.type === 'table') {
            td_colspan = 4;
          } else if (field.is_wide) {
            td_colspan = 3;
          } else {
            if (before_field && after_field && before_field.is_wide && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field && after_field.is_wide) {
              field.is_wide = true;
              td_colspan = 3;
            }

            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 && after_field === null) {
              field.is_wide = true;
              td_colspan = 3;
            }
          }

          field.td_colspan = td_colspan;

          if (index === 0) {
            tr_start = "<tr>";
          } else {
            if ((pre_fields.length + pre_wide_fields.length) % 2 === 0 || field.is_wide) {
              if (field.type === 'table') {
                tr_start = "<tr class = \"tr-child-table\">";
              } else {
                tr_start = "<tr>";
              }
            }
          }

          field.tr_start = tr_start;

          if (index + 1 === fields.length || field.type === 'section' || field.type === 'table' || field.is_wide) {
            tr_end = "</tr>";
          }

          if ((pre_fields.length + pre_wide_fields.length) % 2 !== 0) {
            tr_end = "</tr>";
          }

          return field.tr_end = tr_end;
        }
      });
      return fields;
    }
  },
  sort_approve: function (approves, order) {
    if (!approves) {
      return [];
    }

    if (!approves instanceof Array) {
      return [];
    } else {
      if (order === 'desc') {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p2 - _p1;
        });
      } else {
        approves.sort(function (p1, p2) {
          var _p1, _p2;

          _p1 = 0;
          _p2 = 0;

          if (p1.finish_date) {
            _p1 = p1.finish_date.getTime();
          }

          if (p2.finish_date) {
            _p2 = p2.finish_date.getTime();
          }

          return _p1 - _p2;
        });
      }
    }

    return approves;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  getField: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;

    if (form_version) {
      return form_version.fields.findPropertyByPK("code", code);
    }
  },
  getValue: function (code) {
    var form_version, instance, locale, utcOffset, values;
    instance = Template.instance().view.template.steedosData.instance;
    form_version = Template.instance().view.template.steedosData.form_version;
    locale = Template.instance().view.template.steedosData.locale;
    utcOffset = Template.instance().view.template.steedosData.utcOffset;
    values = instance.values || {};

    if (Meteor.isClient) {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    return InstanceReadOnlyTemplate.getValue(values[code], form_version.fields.findPropertyByPK("code", code), locale, utcOffset);
  },
  getLabel: function (code) {
    var form_version;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, code);
  },
  getCfClass: function (field) {
    if ((field != null ? field.type : void 0) === "input" && (field != null ? field.is_textarea : void 0)) {
      return "cfTextarea";
    }
  },
  getTableThead: function (field) {
    return SteedosTable.getThead(field, false);
  },
  getTableBody: function (field) {
    var instance, tableValue, values;

    if (Meteor.isServer) {
      instance = Template.instance().view.template.steedosData.instance;
      values = instance.values || {};
    } else {
      values = WorkflowManager_format.getAutoformSchemaValues();
    }

    tableValue = values[field.code];
    return SteedosTable.getTbody(field.sfields.getProperty("code"), field, tableValue, false);
  },
  showLabel: function (field) {
    var templateData;
    templateData = Template.instance().data;

    if (templateData.label === false) {
      return false;
    }

    return true;
  },
  isOpinionField: function (field) {
    return InstanceformTemplate.helpers.isOpinionField_from_string(field.formula);
  },
  isOpinionField_from_string: function (field_formula) {
    return InstanceSignText.isOpinionField_from_string(field_formula);
  },
  includesOpinionField: function (form, form_version) {
    var field_formulas, fields, ref;
    field_formulas = new Array();
    fields = ((ref = db.form_versions.findOne({
      _id: form_version,
      form: form
    })) != null ? ref.fields : void 0) || [];
    fields.forEach(function (f) {
      var ref1;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref1 = f.fields) != null ? ref1.forEach(function (f1) {
          return field_formulas.push(f1.formula);
        }) : void 0 : void 0;
      } else {
        return field_formulas.push(f.formula);
      }
    });
    return _.some(field_formulas, function (field_formula) {
      return InstanceformTemplate.helpers.isOpinionField_from_string(field_formula);
    });
  },
  getOpinionFieldStepsName: function (field_formula, top_keywords) {
    var foo1, opinionFields;
    opinionFields = new Array();

    if (InstanceformTemplate.helpers.isOpinionField_from_string(field_formula)) {
      if (field_formula) {
        foo1 = field_formula.split(";");
        foo1.forEach(function (foo) {
          var json_formula, ref, ref1, s1, sf;
          json_formula = {};

          try {
            json_formula = eval("(" + foo + ")");
          } catch (error1) {
            json_formula = {};
          }

          if (json_formula != null ? json_formula.yijianlan : void 0) {
            sf = {};
            sf.stepName = json_formula.yijianlan.step;
            sf.image_sign = json_formula.yijianlan.image_sign || false;
            sf.only_cc_opinion = json_formula.yijianlan.only_cc || false;
            sf.default_description = json_formula.yijianlan["default"];
            sf.only_handler = json_formula.yijianlan.only_handler;
            sf.top_keywords = json_formula.yijianlan.top_keywords || top_keywords;
            return opinionFields.push(sf);
          } else if ((field_formula != null ? field_formula.indexOf("{traces.") : void 0) > -1 || (field_formula != null ? field_formula.indexOf("{signature.traces.") : void 0) > -1) {
            sf = {
              only_cc_opinion: false,
              image_sign: false,
              top_keywords: top_keywords
            };

            if (foo.indexOf("{signature.") > -1) {
              sf.image_sign = true;
              foo = foo.replace("{signature.", "");
            }

            s1 = foo.replace("{", "").replace("}", "");

            if (s1.split(".").length > 1) {
              sf.stepName = s1.split(".")[1];

              if (opinionFields.filterProperty("stepName", sf.stepName).length > 0) {
                if ((ref = opinionFields.findPropertyByPK("stepName", sf.stepName)) != null) {
                  ref.only_cc_opinion = true;
                }
              } else {
                if (s1.split(".").length > 2) {
                  if (((ref1 = s1.split(".")[2]) != null ? ref1.toLocaleLowerCase() : void 0) === 'cc') {
                    sf.only_cc_opinion = true;
                  }
                }
              }
            }

            return opinionFields.push(sf);
          }
        });
      }
    }

    return opinionFields;
  },
  showCCOpinion: function (field) {
    var ref, ref1, ref2, s1;

    if (((ref = field.formula) != null ? ref.indexOf("{traces.") : void 0) > -1 || ((ref1 = field.formula) != null ? ref1.indexOf("{signature.traces.") : void 0) > -1) {
      s1 = field.formula.replace("{signature.", "").replace("{", "").replace("}", "");

      if (s1.split(".").length > 2) {
        if (((ref2 = s1.split(".")[2]) != null ? ref2.toLocaleLowerCase() : void 0) === 'cc') {
          return true;
        }
      }
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  f_label: function (that) {
    return that.name || that.code;
  }
};

if (Meteor.isServer) {
  InstanceformTemplate.helpers.steedos_form = function () {
    return this.form_version;
  };

  InstanceformTemplate.helpers.isSection = function (code) {
    var form_version;
    form_version = this.form_version;
    return form_version.fields.findPropertyByPK("code", code).type === 'section';
  };

  InstanceformTemplate.helpers.doc_values = function () {
    var instance;
    instance = this.instance;
    return instance.values;
  };

  InstanceformTemplate.helpers.applicantContext = function () {
    var data, instance;
    instance = this.instance;
    return data = {
      name: 'ins_applicant',
      atts: {
        name: 'ins_applicant',
        id: 'ins_applicant',
        "class": 'selectUser form-control ins_applicant'
      },
      value: instance.applicant_name
    };
  };

  InstanceformTemplate.helpers.instance = function () {
    return this.instance;
  };

  InstanceformTemplate.helpers.fields = function () {
    var form_version;
    form_version = this.form_version;

    if (form_version) {
      return new SimpleSchema(WorkflowManager_format.getAutoformSchema(form_version));
    }
  };

  InstanceformTemplate.helpers.form_types = function () {
    return "disabled";
  };

  Template.registerHelper("afFieldLabelText", function (op) {
    var form_version, ref;
    form_version = Template.instance().view.template.steedosData.form_version;
    return InstanceReadOnlyTemplate.getLabel(form_version.fields, op != null ? (ref = op.hash) != null ? ref.name : void 0 : void 0);
  });

  InstanceformTemplate.helpers._t = function (key) {
    var locale;
    locale = this.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceformTemplate.helpers.ins_attach_download_url = function (_id, absolute) {
    if (absolute) {
      return Meteor.absoluteUrl("/api/files/instances/" + _id + "?download=true");
    } else {
      return "/api/files/instances/" + _id + "?download=true";
    }
  };

  InstanceformTemplate.helpers.options = function (field) {
    var options, ref, rev;
    options = field != null ? (ref = field.options) != null ? ref.split("\n") : void 0 : void 0;
    rev = [];

    if (options != null) {
      options.forEach(function (item) {
        return rev.push({
          label: item,
          value: item
        });
      });
    }

    return rev;
  };

  InstanceformTemplate.helpers.getPermissions = function (code) {
    var ref;

    if (!((ref = Template.instance().view.template.steedosData.startStepEditableFields) != null ? ref.includes(code) : void 0)) {
      return "readonly disabled";
    }

    return "";
  };
}

InstanceformTemplate.events = {
  'change .form-control,.checkbox input,.af-radio-group input,.af-checkbox-group input': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'typeahead:change .form-control': function (event) {
    return InstanceManager.instanceformChangeEvent(event);
  },
  'click .cfTextarea a': function (event) {
    event.preventDefault();
    return Steedos.openWindow(event.target.href);
  }
};

InstanceformTemplate.onCreated = function () {
  var compiled, e, instance, instanceCustomTemplate, instanceView, renderFunction, template;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  template = TemplateManager.getTemplate(instance);

  try {
    compiled = SpacebarsCompiler.compile(template, {
      isBody: true
    });
  } catch (error1) {
    e = error1;
    console.log("Instance Template Error", e);
    compiled = SpacebarsCompiler.compile("", {
      isBody: true
    });
  }

  renderFunction = eval(compiled);
  instanceView = new Blaze.View("custom_instance_template", renderFunction);
  instanceCustomTemplate = new Blaze.Template(instanceView.name, renderFunction);
  Template.instance_custom_template = instanceCustomTemplate;
  return Template.instance_custom_template.helpers(InstanceformTemplate.helpers);
};

InstanceformTemplate.onRendered = function () {
  var currentApprove, currentStep, form_version, formula_fields, instance, instanceNumberFields, judge, ref;
  instance = WorkflowManager.getInstance();

  if (!instance) {
    return;
  }

  if ((ref = $("input[name='ins_applicant']")[0]) != null) {
    ref.dataset.values = instance.applicant;
  }

  $("input[name='ins_applicant']").val(instance.applicant_name);
  ApproveManager.error = {
    nextSteps: '',
    nextStepUsers: ''
  };

  if (Session.get("box") === 'inbox' || Session.get("box") === 'draft') {
    InstanceEvent.initEvents(instance.flow);
  }

  if (!ApproveManager.isReadOnly()) {
    currentApprove = InstanceManager.getCurrentApprove();
    instanceNumberFields = $("[data-formula]", $("#instanceform"));
    instanceNumberFields.each(function () {
      var element, schemaKey;
      schemaKey = this.dataset.schemaKey;
      element = $(this);

      if (!$(this).val() && schemaKey && Session.get("instanceId")) {
        return Meteor.call('getInstanceValues', Session.get("instanceId"), function (error, result) {
          var key, ref1;

          if (error) {
            toastr.error(error.reason);
          }

          if (!result[schemaKey]) {
            key = (ref1 = element.data("formula")) != null ? ref1.replace("auto_number(", "").replace(")", "") : void 0;
            key = key.replace(/\"/g, "").replace(/\'/g, "");

            if (key.indexOf("{") > -1) {
              key = key.replace("{", "").replace("}", "");
              key = key.trim();
              key = AutoForm.getFieldValue(key, 'instanceform');
            }

            return InstanceNumberRules.instanceNumberBuilder(element, key);
          } else {
            return element != null ? element.val(result[schemaKey]).trigger("change") : void 0;
          }
        });
      }
    });
    judge = currentApprove.judge;
    currentStep = InstanceManager.getCurrentStep();
    form_version = WorkflowManager.getInstanceFormVersion();
    formula_fields = Form_formula.getFormulaFieldVariable("Form_formula.field_values", form_version.fields);
    Form_formula.run("", "", formula_fields, AutoForm.getFormValues("instanceform").insertDoc, form_version.fields);
    return Session.set("instance_form_values", {
      instanceId: instance._id,
      values: AutoForm.getFormValues("instanceform").insertDoc
    });
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_attachments.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_attachments.js                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
InstanceAttachmentTemplate.helpers = {
  showMainTitle: function () {
    return Template.instance().workflowMainAttachTitle.get();
  },
  enabled_add_main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    var current_step = InstanceManager.getCurrentStep();
    if (!current_step) return false; // 分发的正文或者附件不显示转为pdf按钮
    // 如果有正文权限则为正文，否则分发为附件
    // 分发的附件不允许修改 删除 新增版本

    var main_attach_count = cfs.instances.find({
      'metadata.instance': ins._id,
      'metadata.current': true,
      'metadata.main': true
    }).count();
    var distribute_main_attach_count = 0;

    if (ins.distribute_from_instance) {
      var start_step = InstanceManager.getStartStep();

      if (start_step.can_edit_main_attach) {
        var distribute_main_attach_count = cfs.instances.find({
          'metadata.instance': ins.distribute_from_instance,
          'metadata.current': true,
          'metadata.main': true
        }).count();
      }
    }

    if (current_step.can_edit_main_attach == true && main_attach_count < 1 && distribute_main_attach_count < 1) {
      return true;
    } // 正文最多只能有一个


    if (main_attach_count >= 1 || distribute_main_attach_count >= 1) {
      return false;
    } // 开始节点并且设置了可以上传正文才显示上传正文的按钮


    var current_step = InstanceManager.getCurrentStep();
    if (current_step && current_step.step_type == "start" && current_step.can_edit_main_attach == true) return true;
    return false;
  },
  enabled_edit_normal_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    if (Session && Session.get("instancePrint")) return false;
    var flow = WorkflowManager.getFlow(ins.flow);
    if (!flow) return false; // 分发后的 附件，不可以编辑/删除，也不让上传新的附件, 流程列表：添加属性 ‘被分发后是否允许上传附件’ #1837

    if (ins.distribute_from_instance && !flow.upload_after_being_distributed) return false;

    if (Session.get("box") != "draft" && Session.get("box") != "inbox") {
      return false;
    } // 已经结束的单子不能改附件


    if (ins.state == "completed") {
      return false;
    }

    if (InstanceManager.isCC(ins)) {
      var step = InstanceManager.getCCStep();
      if (step && (step.can_edit_normal_attach == true || step.can_edit_normal_attach == undefined)) return true;
    } else {
      var current_step = InstanceManager.getCurrentStep();
      if (current_step && (current_step.can_edit_normal_attach == true || current_step.can_edit_normal_attach == undefined)) return true;
    }

    return false;
  },
  main_attachment: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var start_step = InstanceManager.getStartStep(); // 如果是被分发的申请单并且有修改正文的权限，则优先显示原申请单文件

    var main_attach = null;

    if (ins.distribute_from_instance && start_step.can_edit_main_attach == true) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins.distribute_from_instance,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    if (!main_attach) {
      main_attach = cfs.instances.findOne({
        'metadata.instance': ins._id,
        'metadata.current': true,
        'metadata.main': true
      });
    }

    return main_attach;
  },
  normal_attachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false;
    var selector = {
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      }
    };
    var atts = new Array();

    if (ins.distribute_from_instance) {
      // 如果是被分发的申请单，则显示原申请单文件, 如果选择了将原表单存储为附件也要显示, 同时也要显示新上传的附件
      var dfis = _.clone(ins.distribute_from_instances) || [];
      dfis.push(ins._id);
      selector['metadata.instance'] = {
        $in: dfis
      };
      selector["$or"] = [{
        "metadata.instance": ins._id
      }, {
        "metadata.instance": {
          $in: ins.distribute_from_instances
        },
        "metadata.is_private": {
          $ne: true
        }
      }]; // 如果原申请单有正文但是分发后没有正文权限，则原申请单正文显示在附件栏

      var start_step = InstanceManager.getStartStep();

      if (start_step && start_step.can_edit_main_attach != true) {
        var distribute_main = cfs.instances.findOne({
          'metadata.instance': {
            $in: ins.distribute_from_instances
          },
          'metadata.current': true,
          'metadata.main': true
        });

        if (distribute_main) {
          var firstVersionMain = cfs.instances.findOne(distribute_main.metadata.parent);
          distribute_main.attachmentUploadedAt = firstVersionMain ? firstVersionMain.uploadedAt : distribute_main.uploadedAt;
          atts.push(distribute_main);
        }
      }
    } else {
      selector['metadata.instance'] = ins._id;
    }

    cfs.instances.find(selector).forEach(function (c) {
      var firstVersion = cfs.instances.findOne(c.metadata.parent);
      c.attachmentUploadedAt = firstVersion ? firstVersion.uploadedAt : c.uploadedAt;
      atts.push(c);
    });
    return _.sortBy(atts, 'attachmentUploadedAt');
  },
  showAttachments: function () {
    var ins = WorkflowManager.getInstance();
    if (!ins) return false; // 如果是被分发的申请单，则显示原申请单文件 和分发后申请单文件

    var instanceIds = _.clone(ins.distribute_from_instances) || [];
    instanceIds.push(ins._id);
    var attachments_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).count();
    if (Session && Session.get("instancePrint") && attachments_count < 1) return false;
    if (Session.get("box") == "draft" || Session.get("box") == "inbox" || attachments_count > 0) return true;else return false;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  _: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  }
};

if (Meteor.isServer) {
  InstanceAttachmentTemplate.helpers._t = function (key) {
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  InstanceAttachmentTemplate.helpers.enabled_add_main_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.enabled_edit_normal_attachment = function () {
    return false;
  };

  InstanceAttachmentTemplate.helpers.main_attachment = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var attachment = cfs.instances.findOne({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    });
    return attachment;
  };

  InstanceAttachmentTemplate.helpers.normal_attachments = function () {
    var steedosData = Template.instance().view.template.steedosData;
    var instance = steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': {
        $ne: true
      },
      $or: [{
        'metadata.is_private': {
          $ne: true
        }
      }, {
        'metadata.is_private': true,
        "metadata.owner": steedosData.userId
      }]
    }).fetch();
    return attachments;
  };

  InstanceAttachmentTemplate.helpers.showAttachments = function () {
    var instance = Template.instance().view.template.steedosData.instance;
    var instanceIds = _.clone(instance.distribute_from_instances) || [];
    instanceIds.push(instance._id);
    var attachments = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true
    }).fetch();

    if (attachments && attachments.length > 0) {
      return true;
    }

    return false;
  };

  InstanceAttachmentTemplate.helpers.showMainTitle = function () {
    var instance = Template.instance().view.template.steedosData.instance;

    var instanceIds = _.compact([instance.distribute_from_instance, instance._id]);

    var main_attach_count = cfs.instances.find({
      'metadata.instance': {
        $in: instanceIds
      },
      'metadata.current': true,
      'metadata.main': true
    }).count();
    return main_attach_count > 0;
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_instance_sign_text.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_instance_sign_text.coffee                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
InstanceSignText.helpers = {
  show: function (stepName) {
    var instance, myApprove, myTrace, ref;

    if (Meteor.isClient) {
      if (Session.get('instancePrint')) {
        return false;
      }

      if (InstanceManager.isInbox()) {
        myApprove = InstanceManager.getCurrentApprove();

        if (myApprove) {
          instance = WorkflowManager.getInstance();
          myTrace = instance != null ? (ref = instance.traces) != null ? ref.findPropertyByPK("_id", myApprove.trace) : void 0 : void 0;
          return (myTrace != null ? myTrace.name : void 0) === stepName;
        }
      }
    }

    return false;
  },
  defaultDescription: function () {
    return Template.instance().data.default_description;
  },
  traces: function () {
    return InstanceformTemplate.helpers.traces();
  },
  trace: function (stepName, only_cc_opinion, image_sign, top_keywords) {
    var approve_sort, approves, approvesGroup, approves_sorted, completed_date, hasNext, haveDescriptionApprove, instance, is_completed, ref, ref1, ref2, traces;
    instance = InstanceformTemplate.helpers.instance();
    is_completed = (instance != null ? instance.state : void 0) === "completed";
    completed_date = is_completed ? (ref = _.last(instance.traces)) != null ? (ref1 = ref.finish_date) != null ? ref1.getTime() : void 0 : void 0 : 0;

    if (is_completed && instance.finish_date) {
      completed_date = (ref2 = instance.finish_date) != null ? ref2.getTime() : void 0;
    }

    traces = InstanceformTemplate.helpers.traces();
    approves = _.clone(traces[stepName]);

    approve_sort = function (approves, top_keywords) {
      var approves_sorted, top_approves;
      approves_sorted = _.sortBy(approves, function (approve) {
        return -(approve.finish_date || new Date()).getTime();
      });

      if (top_keywords) {
        top_approves = new Array();
        top_keywords.split(",").forEach(function (key) {
          return top_approves = _.union(top_approves, _.filter(approves_sorted, function (approve) {
            var ref3;
            return (approve != null ? (ref3 = approve.handler_name) != null ? ref3.indexOf(key) : void 0 : void 0) > -1;
          }));
        });
        top_approves = _.sortBy(top_approves, function (top_approve) {
          return -(top_approve.finish_date || new Date()).getTime();
        });
        approves_sorted = _.union(top_approves, approves_sorted);
      }

      return approves_sorted || [];
    };

    approves = _.filter(approves, function (a) {
      return a.type !== "forward" && a.type !== "distribute" && a.type !== "terminated";
    });

    if (only_cc_opinion) {
      approves = approves != null ? approves.filterProperty("type", "cc") : void 0;
    }

    approves_sorted = approve_sort(approves, top_keywords);
    approvesGroup = _.groupBy(approves, "handler");

    hasNext = function (approve, approvesGroup) {
      var handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      return _.indexOf(handlerApproves, approve) + 1 < handlerApproves.length;
    };

    haveDescriptionApprove = function (approve, approvesGroup) {
      var descriptionApproves, handlerApproves;
      handlerApproves = approvesGroup[approve.handler];
      descriptionApproves = _.filter(handlerApproves, function (a) {
        if (a.description) {
          return true;
        }

        return false;
      });

      if (descriptionApproves.length === 0) {
        return false;
      }

      return true;
    };

    approves_sorted.forEach(function (approve) {
      if (approve.sign_show !== false && (approve.description || !approve.description && !hasNext(approve, approvesGroup))) {
        if (approve.judge !== 'terminated') {
          return approve._display = true;
        }
      }
    });
    approves_sorted = _.filter(approves_sorted, function (a) {
      var ref3;

      if (is_completed) {
        return a._display === true && a.is_finished && ((ref3 = a.finish_date) != null ? ref3.getTime() : void 0) <= completed_date;
      } else {
        return a._display === true;
      }
    });
    return approves_sorted;
  },
  include: function (a, b) {
    return InstanceformTemplate.helpers.include(a, b);
  },
  unempty: function (val) {
    return InstanceformTemplate.helpers.unempty(val);
  },
  formatDate: function (date, options) {
    if (!options) {
      options = {
        "format": "YYYY-MM-DD"
      };
    }

    return InstanceformTemplate.helpers.formatDate(date, options);
  },
  isMyApprove: function (approve, only_cc_opinion) {
    var currentApprove, ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
      currentApprove = InstanceManager.getCurrentApprove();

      if (!(approve != null ? approve._id : void 0)) {
        approve = currentApprove;
      }

      if (approve._id === (currentApprove != null ? currentApprove._id : void 0) && (currentApprove != null ? currentApprove.type : void 0) === 'cc' && Template.instance().data.name) {
        if (_.indexOf(currentApprove != null ? currentApprove.opinion_fields_code : void 0, Template.instance().data.name) > -1) {
          return true;
        } else {
          return false;
        }
      }

      if (!((currentApprove != null ? currentApprove.type : void 0) === 'cc') && only_cc_opinion) {
        return false;
      }

      if (currentApprove && approve._id === currentApprove._id) {
        return true;
      }
    }

    return false;
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1, ref2, ref3;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!myApprove.sign_field_code || myApprove.sign_field_code === ((ref2 = Template.instance()) != null ? (ref3 = ref2.data) != null ? ref3.name : void 0 : void 0)) {
            if (!Session.get("instance_my_approve_description")) {
              return (myApprove != null ? myApprove.description : void 0) || "";
            }

            return Session.get("instance_my_approve_description");
          }
        }
      }
    }
  },
  now: function () {
    return new Date();
  },
  isReadOnly: function () {
    if (Meteor.isClient) {
      return ApproveManager.isReadOnly();
    }

    return false;
  },
  isOpinionOfField: function (approve) {
    if (approve.type === "cc" && Template.instance().data.name) {
      if (Template.instance().data.name === approve.sign_field_code) {
        return true;
      } else {
        return false;
      }
    } else {
      return true;
    }
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  steps: function (field_formula, step, only_cc_opinion, image_sign) {
    var ref, ref1, ref2, steps;
    steps = [];

    if (!step) {
      if (!field_formula) {
        field_formula = (ref = WorkflowManager.getInstanceFormVersion()) != null ? (ref1 = ref.fields) != null ? ref1.findPropertyByPK("code", this.name).formula : void 0 : void 0;
      }

      steps = InstanceformTemplate.helpers.getOpinionFieldStepsName(field_formula, (ref2 = Template.instance()) != null ? ref2.data.top_keywords : void 0);
    } else {
      steps = [{
        stepName: step,
        only_cc_opinion: only_cc_opinion,
        image_sign: image_sign
      }];
    }

    return steps;
  },
  imageSignData: function (handler) {
    return {
      user: handler
    };
  },
  showSignImage: function (handler, image_sign) {
    var spaceUserSign;
    spaceUserSign = ImageSign.helpers.spaceUserSign(handler);

    if ((spaceUserSign != null ? spaceUserSign.sign : void 0) && image_sign) {
      return true;
    } else {
      return false;
    }
  },
  getLastSignApprove: function () {
    var ins;
    ins = WorkflowManager.getInstance();
    return _.last(TracesManager.getHandlerSignShowApproves(ins, Meteor.userId()));
  },
  lastMyApproveDescription: function () {
    var approves, currentStep, ref, traces;
    traces = InstanceformTemplate.helpers.traces();
    currentStep = InstanceManager.getCurrentStep();
    approves = _.clone(traces[currentStep.name]);
    approves = approves.filterProperty("handler", Meteor.userId());

    if (approves.length > 1) {
      return (ref = approves[approves.length - 2]) != null ? ref.description : void 0;
    }

    return "";
  },
  showApprove: function (approve) {
    var ref, ref1;

    if (!approve.sign_field_code || approve.sign_field_code === ((ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0)) {
      if (approve != null ? approve.is_read : void 0) {
        if (approve.is_finished) {
          return ["approved", "rejected", "submitted", "readed"].includes(approve.judge);
        } else {
          return true;
        }
      }
    }

    return false;
  },
  judge_description: function (judge) {
    return t(judge + "_description");
  },
  is_approved: function (judge) {
    return "approved" === judge;
  },
  is_rejected: function (judge) {
    return "rejected" === judge;
  },
  is_readed: function (judge) {
    return ["approved", "rejected", "submitted", "readed"].includes(judge);
  },
  addClass: function () {
    var name, ref, ref1;
    name = (ref = Template.instance()) != null ? (ref1 = ref.data) != null ? ref1.name : void 0 : void 0;
    setTimeout(function () {
      var e, element;

      try {
        element = $(".automatic.opinion-field-" + name);

        if (element.length > 0) {
          if (element != null ? element.is("td") : void 0) {
            return element.addClass('field-editable');
          } else {
            return $(".instance-sign", element).addClass('field-editable');
          }
        }
      } catch (error) {
        e = error;
        return console.log(e);
      }
    }, 1);
    return '';
  }
};

if (Meteor.isServer) {
  InstanceSignText.helpers.defaultDescription = function () {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return Template.instance().data.default_description || TAPi18n.__("instance_default_opinion", {}, locale);
  };
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_traces_help.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_traces_help.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
TracesTemplate.helpers = {
  equals: function (a, b) {
    return a === b;
  },
  empty: function (a) {
    if (a) {
      return a.toString().trim().length < 1;
    } else {
      return true;
    }
  },
  unempty: function (a) {
    if (a) {
      return a.toString().trim().length > 0;
    } else {
      return false;
    }
  },
  append: function (a, b) {
    return a + b;
  },
  dateFormat: function (date) {
    if (Steedos.isMobile() && (date != null ? date.getFullYear() : void 0) === new Date().getFullYear()) {
      return $.format.date(new Date(date), "MM-dd HH:mm");
    } else {
      return $.format.date(new Date(date), "yyyy-MM-dd HH:mm");
    }
  },
  getStepName: function (stepId) {
    var step;
    step = WorkflowManager.getInstanceStep(stepId);

    if (step) {
      return step.name;
    }

    return null;
  },
  showDeleteButton: function (approved) {
    if (approved && approved.type === 'cc' && approved.from_user === Meteor.userId() && approved.is_finished !== true && !Session.get("instancePrint")) {
      return true;
    }

    return false;
  },
  isShowModificationButton: function (approved) {
    var approve_admins, isShow, ref, ref1, ref2;
    approve_admins = (ref = Meteor.settings) != null ? (ref1 = ref["public"]) != null ? (ref2 = ref1.workflow) != null ? ref2.approve_admins : void 0 : void 0 : void 0;

    if (approve_admins != null ? approve_admins.length : void 0) {
      isShow = approve_admins != null ? approve_admins.contains(Meteor.userId()) : void 0;
    }

    if (!isShow) {
      return false;
    }

    return approved.handler === Meteor.userId();
  },
  isEditing: function () {
    var ref;
    return (ref = Template.instance().is_editing) != null ? ref.get() : void 0;
  },
  isShowDescription: function (approved) {
    var ref;

    if (TracesTemplate.helpers.isShowModificationButton(approved)) {
      return true;
    }

    return ((ref = approved.description) != null ? ref.toString().trim().length : void 0) > 0;
  },
  isCC: function (approved) {
    if (approved && approved.type === 'cc') {
      return true;
    }

    return false;
  },
  getApproveStatusIcon: function (approveJudge) {
    var approveStatusIcon;
    approveStatusIcon = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusIcon = 'ion ion-checkmark-round';
        break;

      case 'rejected':
        approveStatusIcon = 'ion ion-close-round';
        break;

      case 'terminated':
        approveStatusIcon = 'fa fa-ban';
        break;

      case 'reassigned':
        approveStatusIcon = 'ion ion-android-contact';
        break;

      case 'relocated':
        approveStatusIcon = 'ion ion-arrow-shrink';
        break;

      case 'retrieved':
        approveStatusIcon = 'fa fa-undo';
        break;

      default:
        approveStatusIcon = '';
        break;
    }

    return approveStatusIcon;
  },
  getApproveStatusText: function (approveJudge) {
    var approveStatusText, locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    approveStatusText = void 0;

    switch (approveJudge) {
      case 'approved':
        approveStatusText = TAPi18n.__('Instance State approved', {}, locale);
        break;

      case 'rejected':
        approveStatusText = TAPi18n.__('Instance State rejected', {}, locale);
        break;

      case 'terminated':
        approveStatusText = TAPi18n.__('Instance State terminated', {}, locale);
        break;

      case 'reassigned':
        approveStatusText = TAPi18n.__('Instance State reassigned', {}, locale);
        break;

      case 'relocated':
        approveStatusText = TAPi18n.__('Instance State relocated', {}, locale);
        break;

      case 'retrieved':
        approveStatusText = TAPi18n.__('Instance State retrieved', {}, locale);
        break;

      case 'returned':
        approveStatusText = TAPi18n.__('Instance State returned', {}, locale);
        break;

      case 'readed':
        approveStatusText = TAPi18n.__('Instance State readed', {}, locale);
        break;

      default:
        approveStatusText = '';
        break;
    }

    return approveStatusText;
  },
  _t: function (key) {
    return TAPi18n.__(key);
  },
  myApproveDescription: function (approveId) {
    var myApprove, ref, ref1;

    if (Meteor.isClient) {
      if (Session.get("box") === 'inbox') {
        myApprove = (ref = Template.instance()) != null ? (ref1 = ref.myApprove) != null ? ref1.get() : void 0 : void 0;

        if (myApprove && myApprove.id === approveId) {
          if (!Session.get("instance_my_approve_description")) {
            return (myApprove != null ? myApprove.description : void 0) || "";
          }

          return Session.get("instance_my_approve_description");
        }
      }
    }
  },
  isForward: function (approved) {
    if (approved && approved.type === 'forward') {
      return true;
    }

    return false;
  },
  showForwardDeleteButton: function (approve) {
    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'forward' && approve.from_user === Meteor.userId() && !Session.get("instancePrint") && approve.judge !== 'terminated') {
      return true;
    }

    return false;
  },
  markDownToHtml: function (markDownString) {
    var renderer;

    if (markDownString) {
      renderer = new Markdown.Renderer();

      renderer.link = function (href, title, text) {
        return "<a target='_blank' href='" + href + "' title='" + title + "'>" + text + "</a>";
      };

      return Spacebars.SafeString(Markdown(markDownString, {
        renderer: renderer
      }));
    }
  },
  isDistribute: function (approve) {
    if (approve && approve.type === 'distribute') {
      return true;
    }

    return false;
  },
  showDistributeDeleteButton: function (approve) {
    var ins;

    if (db.instances.find(approve.forward_instance).count() === 0) {
      return false;
    }

    if (approve && approve.type === 'distribute' && !Session.get("instancePrint") && approve.judge !== 'terminated' && Steedos.isLegalVersion('', "workflow.enterprise")) {
      ins = db.instances.findOne({
        _id: approve.instance
      }, {
        fields: {
          flow: 1,
          space: 1
        }
      });

      if (ins && ins.flow && ins.space) {
        if (WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, Meteor.userId())) {
          return true;
        }
      }

      if (approve.from_user === Meteor.userId()) {
        return true;
      }
    }

    return false;
  },
  finishDateSchema: function () {
    if (Steedos.isAndroidOrIOS()) {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "datetime-local"
          },
          optional: false,
          type: Date
        }
      });
    } else {
      return new SimpleSchema({
        finish_date: {
          autoform: {
            type: "bootstrap-datetimepicker",
            readonly: true,
            dateTimePickerOptions: {
              format: "YYYY-MM-DD HH:mm",
              ignoreReadonly: true,
              locale: Session.get("TAPi18n::loaded_lang"),
              widgetPositioning: {
                horizontal: 'right'
              }
            }
          },
          optional: false,
          type: Date
        }
      });
    }
  },
  finishDateValues: function () {
    return {
      finish_date: this.finish_date
    };
  },
  /*
     	此函数用于控制是否显示traces view
     	true: 显示traces view,签核历程按钮点击后是直接定位到traces view
     	false: 不显示traces view，签核历程按钮点击后,以Modal 方式显示traces view
   */showTracesView: function (form, form_version) {
    var ref, show_modal_traces_list;
    show_modal_traces_list = ((ref = db.space_settings.findOne({
      space: Session.get("spaceId"),
      key: "show_modal_traces_list"
    })) != null ? ref.values : void 0) || false;
    return !show_modal_traces_list;
  },
  getInstanceStateText: function (instance_id) {
    var ins, locale, text;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return TAPi18n.__('instance_deleted', {}, locale);
    }

    text = '';

    if (ins.state === 'completed') {
      text = TAPi18n.__('completed', {}, locale);
    } else if (ins.state === 'pending') {
      text = TAPi18n.__('pending', {}, locale);
    } else if (ins.state === 'draft') {
      if (ins.is_read) {
        text = TAPi18n.__('instance_approve_read', {}, locale);
      } else {
        text = TAPi18n.__('instance_approve_not_yet_handled', {}, locale);
      }
    }

    return text;
  },
  getInstanceStateColor: function (instance_id) {
    var cla, ins;
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        state: 1,
        is_read: 1
      }
    });

    if (!ins) {
      return "";
    }

    cla = '';

    if (ins.state === 'draft') {
      if (ins.is_read) {
        cla = 'blue';
      } else {
        cla = 'red';
      }
    }

    return cla;
  },
  firstTrace: function (index) {
    return index === 0;
  },
  last_distribute_from: function (instance_id) {
    var dis_info, ins, user;
    ins = db.instances.findOne({
      _id: instance_id,
      distribute_from_instance: {
        $exists: true
      }
    }, {
      fields: {
        created: 1,
        created_by: 1
      }
    });

    if (ins) {
      dis_info = {};
      user = {};

      if (Meteor.isClient) {
        user = UUflow_api.getNameForUser(ins.created_by);
      } else if (Meteor.isServer) {
        user = db.users.findOne({
          _id: ins.created_by
        }, {
          fields: {
            name: 1
          }
        });
      }

      if (user.name) {
        dis_info.from_user_name = user.name;
        dis_info.created = ins.created;
      }

      if (!_.isEmpty(dis_info)) {
        return dis_info;
      }
    }
  },
  isCCOrDistributeOrForwardTerminated: function (approve) {
    if ((approve.type === 'cc' || approve.type === 'distribute' || approve.type === 'forward') && approve.judge === 'terminated') {
      return true;
    }

    return false;
  },
  judgeTerminated: function (judge) {
    return judge === 'terminated';
  },
  instanceExists: function (instance_id) {
    return !!db.instances.find(instance_id).count();
  },
  agentDescription: function (userName) {
    var locale;

    if (Meteor.isServer) {
      locale = Template.instance().view.template.steedosData.locale;

      if (locale.toLocaleLowerCase() === 'zh-cn') {
        locale = "zh-CN";
      }
    } else {
      locale = Session.get("TAPi18n::loaded_lang");
    }

    return TAPi18n.__('process_delegation_rules_description', {
      userName: userName
    }, locale);
  },
  traceName: function (instance_id, traceId) {
    var ref, ref1;
    return (ref = _.find((ref1 = db.instances.findOne(instance_id, {
      fields: {
        traces: 1
      }
    })) != null ? ref1.traces : void 0, function (trace) {
      return trace._id === traceId;
    })) != null ? ref.name : void 0;
  }
};

if (Meteor.isServer) {
  TracesTemplate.helpers.dateFormat = function (date) {
    var utcOffset;

    if (date) {
      utcOffset = Template.instance().view.template.steedosData.utcOffset;
      return InstanceReadOnlyTemplate.formatDate(date, utcOffset);
    }
  };

  TracesTemplate.helpers._t = function (key) {
    var locale;
    locale = Template.instance().view.template.steedosData.locale;
    return TAPi18n.__(key, {}, locale);
  };

  TracesTemplate.helpers.showDeleteButton = function (approved) {
    return false;
  };
}

TracesTemplate.events = {
  'click .cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    event.stopPropagation();

    if (event.currentTarget.dataset.calling * 1 !== 1) {
      event.currentTarget.dataset.calling = 1;
      $("i", event.currentTarget).addClass("fa-spin");
      instanceId = Session.get('instanceId');
      approveId = event.target.dataset.approve;
      $("body").addClass("loading");
      Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
        $("body").removeClass("loading");

        if (err) {
          toastr.error(err);
          event.currentTarget.dataset.calling = 0;
          $("i", event.currentTarget).removeClass("fa-spin");
        }

        if (result === true) {
          toastr.success(TAPi18n.__("remove_cc_approve"));

          if ($(".instance-trace-detail-modal").length) {
            Modal.hide("instance_trace_detail_modal");
          }
        }
      });
    }
  },
  'click .instance-trace-detail-modal .btn-cc-approve-remove': function (event, template) {
    var approveId, instanceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    $("body").addClass("loading");
    Meteor.call('cc_remove', instanceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(err);
      }

      if (result === true) {
        toastr.success(TAPi18n.__("remove_cc_approve"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'taphold .approve-item,.approve-description': function (event, template) {
    return Modal.show("instance_trace_detail_modal", this);
  },
  'tapend .approve-item,.approve-description': function (event, template) {
    event.stopPropagation();
    event.preventDefault();
    return false;
  },
  'click .instance-trace-detail-modal .btn-forward-approve-remove': function (event, template) {
    var approveId, instanceId, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    $("body").addClass("loading");
    Meteor.call('forward_remove', instanceId, traceId, approveId, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(TAPi18n.__("instance_approve_forward_remove_success"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-forward-instance-look': function (event, template) {
    var forward_instance, forward_space;
    forward_space = event.target.dataset.forwardspace;
    forward_instance = event.target.dataset.forwardinstance;
    return Steedos.openWindow(Steedos.absoluteUrl("workflow/space/" + forward_space + "/view/readonly/" + forward_instance));
  },
  'click .btn-modification': function (event, template) {
    template.is_editing.set(!template.is_editing.get());

    if (!Steedos.isAndroidOrIOS()) {
      return Tracker.afterFlush(function () {
        return $("#instance_trace_detail_modal #finish_input").on("dp.show", function () {
          return $(".modal-body").scrollTop(100);
        });
      });
    }
  },
  'click .btn-cancelBut': function (event, template) {
    return template.is_editing.set(!template.is_editing.get());
  },
  'click .btn-saveBut': function (event, template) {
    var approveId, finish_input, instanceId, opinion_input, traceId;
    instanceId = Session.get('instanceId');
    approveId = event.target.dataset.approve;
    traceId = event.target.dataset.trace;
    opinion_input = $('#opinion_input').val();
    finish_input = AutoForm.getFieldValue("finish_date", "finishDateAutoForm");
    $("body").addClass("loading");
    return Meteor.call('change_approve_info', instanceId, traceId, approveId, opinion_input, finish_input, function (err, result) {
      $("body").removeClass("loading");

      if (err) {
        toastr.error(TAPi18n.__(err.reason));
      }

      if (result === true) {
        toastr.success(t("instance_approve_modal_modificationsave"));
        Modal.hide("instance_trace_detail_modal");
      }
    });
  },
  'click .instance-trace-detail-modal .btn-distribute-approve-remove': function (event, template) {
    Modal.allowMultiple = true;
    return Modal.show('cancel_distribute_modal');
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_instances.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedInstances.helpers = {
  showRelatedInstaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      if (db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).count() > 0) {
        return true;
      }

      return false;
    } else {
      return false;
    }
  },
  related_instaces: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if ((ins != null ? ins.related_instances : void 0) && _.isArray(ins != null ? ins.related_instances : void 0)) {
      return db.instances.find({
        _id: {
          $in: ins.related_instances
        }
      }, {
        fields: {
          space: 1,
          name: 1
        }
      }).fetch();
    }
  },
  related_instace_url: function (ins) {
    var absolute;

    if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
      return '';
    }

    absolute = false;

    if (Meteor.isServer) {
      absolute = this.absolute;
    }

    if (absolute) {
      return Meteor.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    } else {
      return Steedos.absoluteUrl("workflow/space/" + ins.space + "/view/readonly/" + ins._id + '?hide_traces=0');
    }
  },
  _t: function (key) {
    var locale;

    if (Meteor.isClient) {
      return TAPi18n.__(key);
    } else {
      locale = Template.instance().view.template.steedosData.locale;
      return TAPi18n.__(key, {}, locale);
    }
  },
  show_delete: function () {
    var current_step;

    if (!Meteor.isClient) {
      return false;
    } else {
      if (Session.get("box") === "draft" || Session.get("box") === 'inbox') {
        current_step = InstanceManager.getCurrentStep();

        if (current_step) {
          if (current_step.can_edit_main_attach || current_step.can_edit_normal_attach === true || current_step.can_edit_normal_attach === void 0) {
            return true;
          }
        }
      }
    }
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"_related_records.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/client/views/instance/_related_records.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
RelatedRecords.helpers = {
  showRelatedRecords: function () {
    var ins;

    if (Meteor.isClient) {
      ins = WorkflowManager.getInstance();
    } else {
      ins = this.instance;
    }

    if (!ins) {
      return false;
    }

    return !_.isEmpty(ins.record_ids);
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}},"server":{"methods":{"set_instance_step_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/set_instance_step_approve.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_instance_step_approve: function (ins_id, step_approve, stepsApprovesOptions) {
    var _keys1, _keys2, ins, keys, stepsApproves;

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        state: 1
      }
    });

    if (ins.state !== 'draft') {
      return;
    }

    _keys1 = _.keys(step_approve);
    _keys2 = _.keys(stepsApprovesOptions);
    keys = _.compact(_.union(_keys1, _keys2));
    stepsApproves = {};

    _.each(keys, function (stepId) {
      var stepApproves, stepsApproveOptions;
      stepApproves = step_approve[stepId];
      stepsApproveOptions = stepsApprovesOptions[stepId];

      if (stepApproves) {
        stepsApproves[stepId] = stepApproves;

        if (stepsApproveOptions) {
          if (_.isArray(stepApproves)) {
            stepsApproveOptions = stepApproves.concat(stepsApproveOptions);
          } else {
            stepsApproveOptions.push(stepApproves);
          }
        }
      }

      if (stepsApproveOptions) {
        return stepsApproves[stepId + '_options'] = _.uniq(stepsApproveOptions);
      }
    });

    return db.instances.update({
      _id: ins_id
    }, {
      $set: {
        step_approve: stepsApproves
      }
    });
  },
  set_instance_skip_steps: function (ins_id, stepId, action) {
    if (action === 'pull') {
      return db.instances.update({
        _id: ins_id
      }, {
        $pull: {
          skip_steps: stepId
        }
      });
    } else if (action === 'push') {
      return db.instances.update({
        _id: ins_id
      }, {
        $push: {
          skip_steps: stepId
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_instance_data.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/get_instance_data.js                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  get_instance_data: function (instance_id, formCached, flowCached) {
    check(instance_id, String);
    check(formCached, Boolean);
    check(flowCached, Boolean);
    var instance = db.instances.findOne(instance_id);
    if (!instance) return {
      instance: null
    };
    if (formCached && flowCached) return {
      instance: instance
    };

    if (!formCached) {
      var form = db.forms.findOne(instance.form);
      var form_version = {};

      if (form.current._id == instance.form_version) {
        form_version = form.current;
      } else {
        form_version = _.where(form.historys, {
          _id: instance.form_version
        })[0];
      }
    }

    if (!flowCached) {
      var flow = db.flows.findOne(instance.flow);
      var flow_version = {};

      if (flow.current._id == instance.flow_version) {
        flow_version = flow.current;
      } else {
        flow_version = _.where(flow.historys, {
          _id: instance.flow_version
        })[0];
      }
    }

    return {
      instance: instance,
      form_version: form_version,
      flow_version: flow_version
    };
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"save_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/save_instance.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  draft_save_instance: function (ins) {
    if (!this.userId) return;
    var result = true;
    var setObj = {};
    var index = 0;
    var ins_id = ins._id;
    var trace_id = ins.traces[0]._id;
    var approve_id = ins.traces[0].approves[0]._id;
    var description = ins.traces[0].approves[0].description;
    var next_steps = ins.traces[0].approves[0].next_steps;
    var values = ins.traces[0].approves[0].values || {};
    var applicant_id = ins.applicant;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        applicant: 1,
        state: 1,
        submitter: 1,
        traces: 1,
        form: 1,
        flow_version: 1,
        space: 1,
        flow: 1
      }
    });
    var space_id = instance.space;
    var flow_id = instance.flow;
    var form_id = instance.form;
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.'; // 判断一个instance是否为拟稿状态

    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';
    uuflowManager.isInstanceDraft(instance, lang); // 判断一个用户是否是一个instance的提交者

    uuflowManager.isInstanceSubmitter(instance, this.userId);
    var flow = db.flows.findOne(flow_id, {
      fields: {
        "current._id": 1,
        "current.form_version": 1,
        "name": 1,
        "current.steps": 1
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (flow.current._id != instance.flow_version) {
      result = "upgraded";

      var start_step = _.find(flow.current.steps, function (s) {
        return s.step_type == "start";
      }); // 流程已升级


      setObj.flow_version = flow.current._id;
      setObj.form_version = flow.current.form_version; // 存入当前最新版flow中开始节点的step_id

      setObj["traces.$.step"] = start_step._id;
      setObj["traces.$.name"] = start_step.name;
    }

    if (instance.applicant != applicant_id) {
      // 申请人已变换
      var user = db.users.findOne(applicant_id, {
        fields: {
          name: 1
        }
      });
      var applicant = db.space_users.find({
        space: space_id,
        user: applicant_id
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = applicant.fetch()[0].organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      setObj.applicant = applicant_id;
      setObj.applicant_name = user.name;
      setObj.applicant_organization = org_id;
      setObj.applicant_organization_name = organization.name;
      setObj.applicant_organization_fullname = organization.fullname;
      setObj[key_str + 'user'] = applicant_id;
      setObj[key_str + 'user_name'] = user.name;
    }

    setObj[key_str + 'values'] = values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'judge'] = 'submitted';
    setObj[key_str + 'read_date'] = new Date();

    if (result != "upgraded" && next_steps) {
      setObj[key_str + 'next_steps'] = next_steps;
    } // 计算申请单标题


    var form = db.forms.findOne({
      _id: form_id
    }, {
      fields: {
        "current.name_forumla": 1
      }
    });
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      // var iscript = name_forumla.replace(/\{/g, "(values['").replace(/\}/g, "'] || '')");
      // var rev = eval(iscript);
      setObj.name = uuflowManager.getInstanceName(ins, values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return result;
  },
  inbox_save_instance: function (approve) {
    if (!this.userId) return;
    var setObj = {};
    var index = 0;
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve.id;
    var values = approve.values;
    var next_steps = approve.next_steps;
    var description = approve.description;
    var judge = approve.judge;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        flow_version: 1,
        flow: 1,
        state: 1,
        form: 1,
        form_version: 1,
        values: 1,
        code: 1
      }
    });
    var traces = instance.traces;

    var current_trace = _.find(traces, function (t) {
      return t._id == trace_id;
    });

    var current_approve = _.find(current_trace.approves, function (a) {
      return a._id == approve_id;
    }); // 判断一个instance是否为审核中状态


    var current_user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    var lang = current_user.locale == 'zh-cn' ? 'zh-CN' : 'en';

    try {
      uuflowManager.isInstancePending(instance, lang); // 判断一个trace是否为未完成状态

      uuflowManager.isTraceNotFinished(current_trace); // 判断一个approve是否为未完成状态

      uuflowManager.isApproveNotFinished(current_approve); // 判断当前用户是否approve 对应的处理人或代理人

      uuflowManager.isHandlerOrAgent(current_approve, this.userId);
    } catch (e) {
      console.log(e.stack);
      return true;
    }

    var flow_version = instance.flow_version;
    var flow_id = instance.flow;
    var step_id = "";
    step_id = current_trace.step;
    var flow = db.flows.findOne(flow_id, {
      fields: {
        current: 1,
        historys: 1
      }
    });
    var step = null;

    if (flow.current._id == flow_version) {
      flow.current.steps.forEach(function (s) {
        if (s._id == step_id) step = s;
      });
    } else {
      flow.historys.forEach(function (h) {
        h.steps.forEach(function (s) {
          if (s._id == step_id) step = s;
        });
      });
    }

    if (!step) return false;
    var step_type = step.step_type;
    current_trace.approves.forEach(function (a, idx) {
      if (a._id == approve_id) {
        index = idx;
      }
    });
    var key_str = 'traces.$.approves.' + index + '.';
    var permissions_values = uuflowManager.getApproveValues(approve.values, step.permissions, instance.form, instance.form_version);
    var change_values = approveManager.getChangeValues(instance.values, permissions_values);
    setObj.values = _.extend(instance.values || {}, permissions_values);

    if (!_.isEmpty(change_values)) {
      values_history = current_approve.values_history || [];
      values_history.push({
        values: change_values,
        create: new Date()
      });
      setObj[key_str + 'values_history'] = values_history;
    }

    setObj[key_str + 'is_read'] = true;
    setObj[key_str + 'read_date'] = new Date();
    setObj[key_str + 'values'] = setObj.values;
    setObj[key_str + 'description'] = description;
    setObj[key_str + 'next_steps'] = next_steps;

    if (step_type == "submit" || step_type == "start") {
      setObj[key_str + 'judge'] = "submitted";
    } else {
      setObj[key_str + 'judge'] = judge;
    }

    setObj.modified = new Date();
    setObj.modified_by = this.userId; // 计算申请单标题

    var form = db.forms.findOne(instance.form);
    var form_v = uuflowManager.getFormVersion(form, instance.form_version);
    var name_forumla = form_v.name_forumla;

    if (name_forumla) {
      setObj.name = uuflowManager.getInstanceName(instance, setObj.values);
    }

    db.instances.update({
      _id: ins_id,
      "traces._id": trace_id
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"trace_approve_cc.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/trace_approve_cc.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // ??? 能否传阅给当前步骤处理人 如果当前步骤是会签。
  cc_do: function (approve, cc_user_ids, description) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var approve_id = approve._id;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        space: 1,
        traces: 1,
        cc_users: 1,
        values: 1
      }
    });
    var current_user_id = this.userId;
    var space_id = instance.space;
    var new_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    cc_user_ids.forEach(function (userId, idx) {
      var user = db.users.findOne(userId, {
        fields: {
          name: 1
        }
      });
      var space_user = db.space_users.findOne({
        space: space_id,
        user: userId
      }, {
        fields: {
          organization: 1
        }
      });
      var org_id = space_user.organization;
      var organization = db.organizations.findOne(org_id, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var agent = uuflowManager.getAgent(space_id, userId);
      var handler_id = userId;
      var handler_info = user;
      var handler_space_user = space_user;
      var handler_org_info = organization;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent, {
          fileds: {
            name: 1
          }
        });
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
        cc_user_ids[idx] = agent;
      }

      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': ins_id,
        'trace': trace_id,
        'is_finished': false,
        'user': userId,
        'user_name': user.name,
        'handler': handler_id,
        'handler_name': handler_info.name,
        'handler_organization': handler_space_user.organization,
        'handler_organization_name': handler_org_info.name,
        'handler_organization_fullname': handler_org_info.fullname,
        'type': 'cc',
        'start_date': new Date(),
        'is_read': false,
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'opinion_fields_code': approve.opinion_fields_code,
        'sign_field_code': approve.opinion_fields_code && approve.opinion_fields_code.length == 1 ? approve.opinion_fields_code[0] : "",
        'from_approve_id': approve_id,
        'cc_description': description
      };

      if (agent) {
        appr.agent = agent;
      }

      uuflowManager.setRemindInfo(instance.values, appr);
      new_approves.push(appr);
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj,
      $addToSet: {
        'traces.$.approves': {
          $each: new_approves
        }
      },
      $push: {
        cc_users: {
          $each: cc_user_ids
        }
      }
    });
    instance = db.instances.findOne(ins_id);
    current_user_info = db.users.findOne(current_user_id);
    pushManager.send_instance_notification("trace_approve_cc", instance, "", current_user_info, cc_user_ids);
    flow_id = instance.flow;
    approve.cc_user_ids = cc_user_ids; // 记录下本次传阅的人员ID作为hook接口中的参数
    // 如果已经配置webhook并已激活则触发

    pushManager.triggerWebhook(flow_id, instance, approve, 'cc_do', current_user_id, cc_user_ids);
    return true;
  },
  cc_read: function (approve) {
    var setObj = {};
    var ins_id = approve.instance;
    var trace_id = approve.trace;
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var current_user_id = this.userId;

    var current_trace = _.find(instance.traces, function (t) {
      return t._id == trace_id;
    });

    var index = 0;
    current_trace.approves.forEach(function (a, idx) {
      if (a.type == 'cc' && a.handler == current_user_id && !a.is_read) {
        index = idx;
      }
    });
    setObj['traces.$.approves.' + index + '.is_read'] = true;
    setObj['traces.$.approves.' + index + '.read_date'] = new Date();
    setObj.traces = traces;
    db.instances.update({
      _id: ins_id,
      'traces._id': trace_id
    }, {
      $set: setObj
    });
    return true;
  },
  cc_submit: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1,
        cc_users: 1,
        outbox_users: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.type == 'cc' && a.handler == current_user_id && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.is_finished'] = true;
            upobj['traces.$.approves.' + idx + '.is_read'] = true;
            upobj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.cost_time'] = new Date() - a.start_date;
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });

    if (current_approve) {
      var index = 0; //设置意见，意见只添加到最后一条approve中

      traces.forEach(function (t) {
        if (current_approve && t._id === current_approve.trace) {
          if (t.approves) {
            t.approves.forEach(function (a, idx) {
              if (a._id === current_approve._id) {
                a.description = description;
                index = idx;
              }
            });
          }
        }
      });
      setObj.modified = new Date();
      setObj.modified_by = this.userId;
      setObj['traces.$.approves.' + index + '.description'] = description;
      db.instances.update({
        _id: ins_id,
        'traces._id': current_approve.trace
      }, {
        $set: setObj,
        $pull: {
          cc_users: current_user_id
        },
        $addToSet: {
          outbox_users: {
            $each: [current_user_id, current_approve.user]
          }
        }
      });
      instance = db.instances.findOne(ins_id);
      current_user_info = db.users.findOne(current_user_id); //传阅提交不通知传阅者

      if (false && description && current_approve && current_approve.from_user) {
        pushManager.send_instance_notification("trace_approve_cc_submit", instance, "", current_user_info, [current_approve.from_user]);
      }

      pushManager.send_message_to_specifyUser("current_user", current_user_id);
      flow_id = instance.flow; // 如果已经配置webhook并已激活则触发

      pushManager.triggerWebhook(flow_id, instance, current_approve, 'cc_submit', current_user_id, []);
    }

    return true;
  },
  cc_remove: function (instanceId, approveId) {
    var setObj = {};
    var instance = db.instances.findOne(instanceId, {
      fields: {
        traces: 1,
        cc_users: 1
      }
    });
    var traces = instance.traces;
    var trace_id,
        remove_user_id,
        multi = false;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a._id == approveId) {
            trace_id = a.trace;
            remove_user_id = a.handler;
            setObj['traces.$.approves.' + idx + '.judge'] = 'terminated';
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.finish_date'] = new Date();
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.read_date'] = new Date();
          }
        });
      }
    });
    if (!trace_id || !remove_user_id) return;
    var multi = 0;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a) {
          if (a.handler == remove_user_id && a.type == 'cc' && a.is_finished == false) {
            multi++;
          }
        });
      }
    });
    setObj.modified = new Date();
    setObj.modified_by = this.userId;

    if (multi > 1) {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj
      });
    } else {
      db.instances.update({
        _id: instanceId,
        'traces._id': trace_id
      }, {
        $set: setObj,
        $pull: {
          cc_users: remove_user_id
        }
      });
    }

    pushManager.send_message_to_specifyUser("current_user", remove_user_id);
    return true;
  },
  cc_save: function (ins_id, description) {
    var setObj = {};
    var instance = db.instances.findOne(ins_id, {
      fields: {
        traces: 1
      }
    });
    var traces = instance.traces;
    var current_user_id = this.userId;
    var current_approve;
    traces.forEach(function (t) {
      if (t.approves) {
        t.approves.forEach(function (a, idx) {
          if (a.handler == current_user_id && a.type == 'cc' && a.is_finished == false) {
            current_approve = a;
            var upobj = {};
            upobj['traces.$.approves.' + idx + '.judge'] = "submitted";
            upobj['traces.$.approves.' + idx + '.read_date'] = new Date();
            db.instances.update({
              _id: ins_id,
              'traces._id': t._id
            }, {
              $set: upobj
            });
          }
        });
      }
    });
    var index = 0; //设置意见，意见只添加到最后一条approve中

    traces.forEach(function (t) {
      if (current_approve && t._id === current_approve.trace) {
        if (t.approves) {
          t.approves.forEach(function (a, idx) {
            if (a._id === current_approve._id) {
              index = idx;
            }
          });
        }
      }
    });
    setObj['traces.$.approves.' + index + '.description'] = description;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_approve.trace
    }, {
      $set: setObj
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forward_instance.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/forward_instance.js                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  // 改为通过api调用
  forward_instance: function (instance_id, space_id, flow_id, hasSaveInstanceToAttachment, description, isForwardAttachments, selectedUsers, action_type, related, from_approve_id) {
    if (!this.userId) throw new Meteor.Error('not-authorized');
    return;
  },
  forward_remove: function (instance_id, trace_id, approve_id) {
    check(instance_id, String);
    check(trace_id, String);
    check(approve_id, String);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var trace = _.find(ins.traces, function (t) {
      return t._id == trace_id;
    });

    var approve = _.find(trace.approves, function (appr) {
      return appr._id == approve_id;
    });

    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, this.userId);

    if (!approve || !['forward', 'distribute'].includes(approve.type) || !approve.forward_instance) {
      if (!hasAdminPermission) {
        if (approve.from_user != this.userId) throw new Meteor.Error('error!', 'instance_forward_cannot_cancel');
      }
    }

    var forward_instance_id = approve.forward_instance;
    var forward_instance = db.instances.findOne(forward_instance_id);

    if (forward_instance) {
      if (forward_instance.state != "draft") {
        if (!hasAdminPermission) throw new Meteor.Error('error!', 'instance_forward_instance_state_changed');
      }

      var inbox_users = forward_instance.inbox_users || [];
      forward_instance.deleted = new Date();
      forward_instance.deleted_by = this.userId;
      var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

      if (deleted_forward_instance_id) {
        db.instances.remove({
          _id: forward_instance_id
        }); // 删除申请单后重新计算inbox_users的badge

        _.each(inbox_users, function (u_id) {
          pushManager.send_message_to_specifyUser("current_user", u_id);
        });
      }
    }

    var set_obj = new Object();
    set_obj.modified = new Date();
    set_obj.modified_by = this.userId;

    _.each(trace.approves, function (appr, idx) {
      if (appr._id == approve_id) {
        set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
        set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
        set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
        set_obj['traces.$.approves.' + idx + '.is_read'] = true;
        set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
      }
    });

    db.instances.update({
      _id: instance_id,
      "traces._id": trace_id
    }, {
      $set: set_obj
    });
    return true;
  },
  cancelDistribute: function (instance_id, approve_ids) {
    check(instance_id, String);
    check(approve_ids, Array);
    var ins = db.instances.findOne(instance_id);

    if (!ins) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    userId = this.userId;
    var hasAdminPermission = WorkflowManager.hasFlowAdminPermission(ins.flow, ins.space, userId);

    _.each(ins.traces, function (t) {
      if (t.approves) {
        var exists = false;
        var set_obj = new Object();

        _.each(t.approves, function (a, idx) {
          if (approve_ids.includes(a._id) && (a.from_user == userId || hasAdminPermission) && 'distribute' == a.type && a.forward_instance) {
            var forward_instance_id = a.forward_instance;
            var forward_instance = db.instances.findOne(forward_instance_id);

            if (forward_instance) {
              if (forward_instance.state != "draft") {
                return;
              }

              var inbox_users = forward_instance.inbox_users || [];
              forward_instance.deleted = new Date();
              forward_instance.deleted_by = userId;
              var deleted_forward_instance_id = db.deleted_instances.insert(forward_instance);

              if (deleted_forward_instance_id) {
                db.instances.remove({
                  _id: forward_instance_id
                }); // 删除申请单后重新计算inbox_users的badge

                _.each(inbox_users, function (u_id) {
                  pushManager.send_message_to_specifyUser("current_user", u_id);
                });
              }

              set_obj['traces.$.approves.' + idx + '.judge'] = 'terminated';
              set_obj['traces.$.approves.' + idx + '.is_finished'] = true;
              set_obj['traces.$.approves.' + idx + '.finish_date'] = new Date();
              set_obj['traces.$.approves.' + idx + '.is_read'] = true;
              set_obj['traces.$.approves.' + idx + '.read_date'] = new Date();
            }

            exists = true;
          }
        });

        if (!exists) return;
        set_obj.modified = new Date();
        set_obj.modified_by = userId;
        db.instances.update({
          _id: instance_id,
          "traces._id": t._id
        }, {
          $set: set_obj
        });
      }
    });

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.js":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/cfs_instances.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Meteor.methods({
  cfs_instances_remove: function (file_id) {
    check(file_id, String);
    cfs.instances.remove(file_id);
    return true;
  },
  cfs_instances_set_current: function (file_id) {
    check(file_id, String);
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.current': true
      }
    });
    return true;
  },
  cfs_instances_lock: function (file_id, user_id, user_name) {
    cfs.instances.update({
      _id: file_id
    }, {
      $set: {
        'metadata.locked_by': user_id,
        'metadata.locked_by_name': user_name,
        'metadata.locked_time': new Date()
      }
    });
    return true;
  },
  cfs_instances_unlock: function (file_id) {
    cfs.instances.update({
      _id: file_id
    }, {
      $unset: {
        'metadata.locked_by': '',
        'metadata.locked_by_name': '',
        'metadata.locked_time': ''
      }
    });
    return true;
  },
  download_space_instance_attachments_to_disk: function (spaceId, cfsRecordIds) {
    if (!this.userId) return "不符合执行条件";
    if (Meteor.users.find({
      _id: this.userId,
      is_cloudadmin: true
    }).count() < 1) return "不符合执行条件";
    check(spaceId, String);
    var store = "instances";

    var fs = require('fs');

    var path = require('path');

    var mkdirp = require('mkdirp');

    var pathname = path.join(__meteor_bootstrap__.serverDir, '../../../cfs/spaceInstanceAttachments'); // Set absolute path

    var absolutePath = path.resolve(pathname); // Ensure the path exists

    mkdirp.sync(absolutePath);
    console.log('absolutePath: ', absolutePath);
    console.time('download_space_instance_attachments_to_disk');
    var query = {
      'metadata.space': spaceId
    };

    if (cfsRecordIds) {
      query._id = {
        $in: cfsRecordIds
      };
    }

    var downloadFailedRecordIds = [];
    cfs.instances.find(query).forEach(function (c) {
      try {
        var fileName = store + '-' + c._id + '-' + c.name();
        var filePath = path.join(absolutePath, fileName);
        Meteor.wrapAsync(function (callback) {
          try {
            var writer = fs.createWriteStream(filePath);
            writer.on('finish', function () {
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            var reader = c.createReadStream(store);
            reader.on('error', function (error) {
              downloadFailedRecordIds.push(c._id);
              console.error('download_space_instance_attachments_to_disk: ', c._id);
              console.error(error.stack);
              if (callback && _.isFunction(callback)) callback();
              return;
            });
            reader.pipe(writer);
          } catch (error) {
            console.error('download_space_instance_attachments_to_disk: ', c._id);
            console.error(error.stack);
            if (callback && _.isFunction(callback)) callback();
            return;
          }
        })();
      } catch (error) {
        console.error('download_space_instance_attachments_to_disk: ', c._id);
        console.error(error.stack);
      }
    });

    if (downloadFailedRecordIds.length > 0) {
      console.error('downloadFailedRecordIds: ');
      console.error(downloadFailedRecordIds);
    }

    console.timeEnd('download_space_instance_attachments_to_disk');
    return downloadFailedRecordIds;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_approve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_approve.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  set_approve_have_read: function (instanceId, traceId, approveId) {
    var instance, ref, self, setObj, trace;

    if (!this.userId) {
      return;
    }

    self = this;
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {
        modified: new Date(),
        modified_by: self.userId
      };
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId && !approve.is_read) {
          setObj["traces.$.approves." + idx + ".is_read"] = true;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  change_approve_info: function (instanceId, traceId, approveId, description, finish_date) {
    var instance, ref, setObj, trace;

    if (!this.userId) {
      return;
    }

    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(description, String);
    check(finish_date, Date);
    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      setObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          setObj["traces.$.approves." + idx + ".description"] = description;
          setObj["traces.$.approves." + idx + ".finish_date"] = finish_date;
          setObj["traces.$.approves." + idx + ".cost_time"] = new Date() - approve.start_date;
          return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(setObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: setObj
        });
      }

      return true;
    }
  },
  update_approve_sign: function (instanceId, traceId, approveId, sign_field_code, description, sign_type, lastSignApprove) {
    var instance, lastTrace, ref, session_userId, setObj, trace, upObj;
    check(instanceId, String);
    check(traceId, String);
    check(approveId, String);
    check(sign_field_code, String);
    check(description, String);

    if (!this.userId) {
      return;
    }

    session_userId = this.userId;

    if (lastSignApprove) {
      if (lastSignApprove.custom_sign_show) {
        return;
      }

      instance = db.instances.findOne({
        _id: instanceId,
        "traces._id": lastSignApprove.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });
      lastTrace = _.find(instance != null ? instance.traces : void 0, function (t) {
        return t._id = lastSignApprove.trace;
      });

      if (lastTrace) {
        setObj = {};

        if (lastTrace != null) {
          lastTrace.approves.forEach(function (a, idx) {
            if (a._id === lastSignApprove._id) {
              if (sign_type === "update") {
                setObj["traces.$.approves." + idx + ".sign_show"] = false;
                setObj["traces.$.approves." + idx + ".modified"] = new Date();
                return setObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
              }
            }
          });
        }

        if (!_.isEmpty(setObj)) {
          db.instances.update({
            _id: instanceId,
            "traces._id": lastTrace._id
          }, {
            $set: setObj
          });
        }
      }
    }

    instance = db.instances.findOne({
      _id: instanceId,
      "traces._id": traceId
    }, {
      fields: {
        "traces.$": 1
      }
    });

    if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
      trace = instance.traces[0];
      upObj = {};
      trace.approves.forEach(function (approve, idx) {
        if (approve._id === approveId) {
          if (sign_field_code) {
            upObj["traces.$.approves." + idx + ".sign_field_code"] = sign_field_code;
          }

          upObj["traces.$.approves." + idx + ".description"] = description;
          upObj["traces.$.approves." + idx + ".sign_show"] = true;
          upObj["traces.$.approves." + idx + ".modified"] = new Date();
          upObj["traces.$.approves." + idx + ".modified_by"] = session_userId;
          return upObj["traces.$.approves." + idx + ".read_date"] = new Date();
        }
      });

      if (!_.isEmpty(upObj)) {
        db.instances.update({
          _id: instanceId,
          "traces._id": traceId
        }, {
          $set: upObj
        });
      }

      return true;
    }
  },
  update_sign_show: function (objs, myApprove_id) {
    objs.forEach(function (obj, index) {
      var instance, ref, setObj, trace;
      instance = db.instances.findOne({
        _id: obj.instance,
        "traces._id": obj.trace
      }, {
        fields: {
          "traces.$": 1
        }
      });

      if ((instance != null ? (ref = instance.traces) != null ? ref.length : void 0 : void 0) > 0) {
        trace = instance.traces[0];
        setObj = {};
        trace.approves.forEach(function (approve, idx) {
          if (approve._id === obj._id) {
            setObj["traces.$.approves." + idx + ".sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".custom_sign_show"] = obj.sign_show;
            setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }

          if (approve._id === myApprove_id) {
            return setObj["traces.$.approves." + idx + ".read_date"] = new Date();
          }
        });

        if (!_.isEmpty(setObj)) {
          return db.instances.update({
            _id: obj.instance,
            "traces._id": obj.trace
          }, {
            $set: setObj
          });
        }
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_return.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_return.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_return: function (approve, reason) {
    var approve_values, b, current_step, current_user, current_user_info, flow, ins, instance, instance_id, last_trace, newTrace, new_inbox_users, now, pre_step, pre_trace, r, rest_counter_users, setObj, space_id, traces;
    check(approve, Object);
    current_user = this.userId;
    instance_id = approve.instance;
    ins = uuflowManager.getInstance(instance_id);
    space_id = ins.space;

    if (ins.state !== "pending" || !ins.inbox_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.type === "cc" && ins.cc_users.includes(current_user)) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (ins.traces.length < 2) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    flow = uuflowManager.getFlow(ins.flow);
    pre_trace = ins.traces[ins.traces.length - 2];
    pre_step = uuflowManager.getStep(ins, flow, pre_trace.step);

    if (pre_step.step_type === "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    last_trace = _.last(ins.traces);
    current_step = uuflowManager.getStep(ins, flow, last_trace.step);

    if (current_step.step_type !== "submit" && current_step.step_type !== "sign" && current_step.step_type !== "counterSign") {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    if (approve.trace !== last_trace._id) {
      throw new Meteor.Error('error!', "不符合退回条件");
    }

    new_inbox_users = new Array();

    _.each(pre_trace.approves, function (a) {
      if ((!a.type || a.type === "draft" || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected")) {
        return new_inbox_users.push(a.user);
      }
    });

    if (_.isEmpty(new_inbox_users)) {
      throw new Meteor.Error('error!', "未找到下一步处理人，退回失败");
    }

    traces = ins.traces;
    approve_values = uuflowManager.getApproveValues(approve.values || {}, current_step.permissions, ins.form, ins.form_version);
    setObj = new Object();
    now = new Date();
    rest_counter_users = new Array();

    _.each(traces, function (t) {
      if (t._id === last_trace._id) {
        if (!t.approves) {
          t.approves = new Array();
        }

        _.each(t.approves, function (a, idx) {
          if ((!a.type || a.type === "reassign") && (!a.judge || a.judge === "submitted" || a.judge === "approved" || a.judge === "rejected" || a.judge === "readed") && a.is_finished !== true) {
            setObj['traces.$.approves.' + idx + '.finish_date'] = now;
            setObj['traces.$.approves.' + idx + '.read_date'] = now;
            setObj['traces.$.approves.' + idx + '.is_error'] = false;
            setObj['traces.$.approves.' + idx + '.is_read'] = true;
            setObj['traces.$.approves.' + idx + '.is_finished'] = true;
            setObj['traces.$.approves.' + idx + '.cost_time'] = now - a.start_date;
            setObj['traces.$.approves.' + idx + '.values'] = approve_values;

            if (a.handler === current_user) {
              setObj['traces.$.approves.' + idx + '.judge'] = "returned";
              return setObj['traces.$.approves.' + idx + '.description'] = reason;
            } else {
              return rest_counter_users.push(a.handler);
            }
          }
        });

        setObj['traces.$.is_finished'] = true;
        setObj['traces.$.finish_date'] = true;
        return setObj['traces.$.judge'] = "returned";
      }
    });

    ins.values = _.extend(ins.values || {}, approve_values);
    newTrace = new Object();
    newTrace._id = new Mongo.ObjectID()._str;
    newTrace.instance = instance_id;
    newTrace.previous_trace_ids = [last_trace._id];
    newTrace.is_finished = false;
    newTrace.step = pre_trace.step;
    newTrace.name = pre_trace.name;
    newTrace.start_date = now;
    newTrace.due_date = uuflowManager.getDueDate(pre_step.timeout_hours);
    newTrace.approves = [];

    _.each(new_inbox_users, function (next_step_user_id, idx) {
      var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
      newApprove = new Object();
      newApprove._id = new Mongo.ObjectID()._str;
      newApprove.instance = instance_id;
      newApprove.trace = newTrace._id;
      newApprove.is_finished = false;
      newApprove.user = next_step_user_id;
      user_info = db.users.findOne(next_step_user_id, {
        fields: {
          name: 1
        }
      });
      newApprove.user_name = user_info.name;
      handler_id = next_step_user_id;
      handler_info = user_info;
      agent = uuflowManager.getAgent(space_id, next_step_user_id);

      if (agent) {
        new_inbox_users[idx] = agent;
        handler_id = agent;
        handler_info = db.users.findOne({
          _id: agent
        }, {
          fields: {
            name: 1
          }
        });
        newApprove.agent = agent;
      }

      newApprove.handler = handler_id;
      newApprove.handler_name = handler_info.name;
      next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
      next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
      newApprove.handler_organization = next_step_user_org_info["organization"];
      newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
      newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
      newApprove.start_date = now;
      newApprove.is_read = false;
      newApprove.is_error = false;
      newApprove.values = new Object();
      uuflowManager.setRemindInfo(ins.values, newApprove);
      return newTrace.approves.push(newApprove);
    });

    setObj.inbox_users = new_inbox_users;
    setObj.state = "pending";
    ins.outbox_users.push(current_user);
    setObj.outbox_users = _.uniq(ins.outbox_users);
    setObj.modified = now;
    setObj.modified_by = current_user;
    setObj.values = ins.values;
    setObj.current_step_name = pre_trace.name;
    r = db.instances.update({
      _id: instance_id,
      'traces._id': last_trace._id
    }, {
      $set: setObj
    });
    b = db.instances.update({
      _id: instance_id
    }, {
      $push: {
        traces: newTrace
      }
    });

    if (r && b) {
      pushManager.send_message_to_specifyUser("current_user", current_user);
      instance = uuflowManager.getInstance(instance_id);
      current_user_info = db.users.findOne(current_user);
      pushManager.send_instance_notification("return_pending_inbox", instance, reason, current_user_info);

      _.each(rest_counter_users, function (user_id) {
        return pushManager.send_message_to_specifyUser("current_user", user_id);
      });
    }

    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_remind.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_remind.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  instance_remind: function (remind_users, remind_count, remind_deadline, instance_id, action_types, trace_id) {
    var current_user_id, ins, last_remind_users, now, priority, trace;
    check(remind_users, Array);
    check(remind_count, Match.OneOf('single', 'multi'));
    check(remind_deadline, Date);
    check(instance_id, String);
    check(action_types, Array);
    check(trace_id, String);
    current_user_id = this.userId;
    last_remind_users = new Array();
    ins = db.instances.findOne({
      _id: instance_id
    }, {
      fields: {
        name: 1,
        traces: 1,
        values: 1,
        space: 1
      }
    });

    if (action_types.includes('admin')) {
      if (remind_count === 'single') {
        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              return last_remind_users.push(ap.user);
            }
          });
        });
      } else if (remind_count === 'multi') {
        now = new Date();
        priority = ins.values.priority;

        _.each(ins.traces, function (t) {
          return _.each(t.approves, function (ap) {
            var caculate_date;

            if (remind_users.includes(ap.user) && ap.is_finished !== true) {
              last_remind_users.push(ap.user);
              ap.manual_deadline = remind_deadline;

              if (priority === "普通" || !priority) {} else if (priority === "办文") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "紧急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              } else if (priority === "特急") {
                if (Steedos.caculatePlusHalfWorkingDay(now) > remind_deadline) {
                  return ap.remind_date = Steedos.caculatePlusHalfWorkingDay(now, true);
                } else if (Steedos.caculateWorkingTime(now, 1) > remind_deadline) {
                  caculate_date = function (base_date) {
                    var plus_halfday_date;
                    plus_halfday_date = Steedos.caculatePlusHalfWorkingDay(base_date);

                    if (plus_halfday_date > remind_deadline) {
                      ap.remind_date = base_date;
                    } else {
                      caculate_date(Steedos.caculatePlusHalfWorkingDay(base_date, true));
                    }
                  };

                  return caculate_date(now);
                }
              }
            }
          });
        });

        if (!_.isEmpty(last_remind_users)) {
          db.instances.update({
            _id: instance_id
          }, {
            $set: {
              'traces': ins.traces
            }
          });
        }
      }
    } else if (action_types.includes('applicant')) {
      trace = _.find(ins.traces, function (t) {
        return t._id === trace_id;
      });

      _.each(trace.approves, function (ap) {
        if (remind_users.includes(ap.user) && ap.is_finished !== true) {
          return last_remind_users.push(ap.user);
        }
      });
    } else if (action_types.includes('cc')) {
      _.each(ins.traces, function (t) {
        return _.each(t.approves, function (ap) {
          if (remind_users.includes(ap.user) && ap.is_finished !== true && ap.type === 'cc' && ap.from_user === current_user_id) {
            return last_remind_users.push(ap.user);
          }
        });
      });
    }

    uuflowManager.sendRemindSMS(ins.name, remind_deadline, last_remind_users, ins.space, ins._id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"next_step_users_not_found.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/next_step_users_not_found.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  next_step_users_not_found: function (deal_type, step_name, params) {
    var approver_roles, lang, roles, roles_name, str, user;
    check(deal_type, String);
    check(step_name, String);
    check(params, Object);
    str = "";
    user = db.users.findOne({
      _id: this.userId
    }, {
      fields: {
        locale: 1
      }
    });
    lang = 'en';

    if (user.locale === 'zh-cn') {
      lang = 'zh-CN';
    }

    if (deal_type === 'applicantRole') {
      approver_roles = params.approver_roles;
      roles = db.flow_roles.find({
        _id: {
          $in: approver_roles
        }
      }, {
        fields: {
          name: 1
        }
      }).fetch();
      roles_name = _.pluck(roles, 'name').toString();
      str = TAPi18n.__('next_step_users_not_found.applicant_role', {
        step_name: step_name,
        role_name: roles_name
      }, lang);
    }

    return str;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_number_rules.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_number_rules.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval;

_eval = require('eval');
Meteor.methods({
  instanceNumberBuilder: function (spaceId, name) {
    var _NUMBER, _YYYY, context, date, e, numberRules, res, rules, script;

    numberRules = db.instance_number_rules.findOne({
      space: spaceId,
      name: name
    });

    if (!numberRules) {
      throw new Meteor.Error('error!', "" + name);
    }

    date = new Date();
    context = {};
    context._ = _;
    _YYYY = date.getFullYear();
    _NUMBER = (numberRules.number || 0) + 1;
    context.YYYY = _.clone(_YYYY);
    context.MM = date.getMonth() + 1;
    context.mm = date.getMonth() + 1;

    if (context.MM < 10) {
      context.MM = "0" + context.MM;
    }

    context.DD = date.getDate();
    context.dd = date.getDate();

    if (context.DD < 10) {
      context.DD = "0" + context.DD;
    }

    if (context.YYYY !== numberRules.year) {
      _NUMBER = numberRules.first_number || 1;
    }

    context.NUMBER = _.clone(_NUMBER);
    rules = numberRules.rules.replace("{YYYY}", "' + YYYY + '").replace("{MM}", "' + MM + '").replace("{NUMBER}", "' + NUMBER + '");
    script = "var newNo = '" + rules + "'; exports.newNo = newNo";

    try {
      res = _eval(script, "newNo", context, false).newNo;
      db.instance_number_rules.update({
        _id: numberRules._id
      }, {
        $set: {
          year: _YYYY,
          number: _NUMBER
        }
      });
      console.log(this.userId, res);
    } catch (error) {
      e = error;
      res = {
        _error: e
      };
    }

    return res;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"check_main_attach.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/check_main_attach.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  check_main_attach: function (ins_id, name) {
    check(ins_id, String);
    uuflowManager.checkMainAttach(ins_id, name);
    return 'success';
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/related_instances.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  remove_related: function (ins_id, re_ins_id) {
    var index, ins, res, set_obj;
    check(ins_id, String);
    check(re_ins_id, String);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        related_instances: 1
      }
    });

    if (ins) {
      res = ins.related_instances || [];
      index = res.indexOf(re_ins_id);

      if (index > -1) {
        res.remove(index);
      }

      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = res;
      return db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }
  },
  update_instance_related: function (ins_id, related_instances) {
    var ins, set_obj;
    check(ins_id, String);
    check(related_instances, Array);

    if (!this.userId) {
      return;
    }

    ins = db.instances.findOne({
      _id: ins_id,
      $or: [{
        submitter: this.userId
      }, {
        applicant: this.userId
      }, {
        inbox_users: this.userId
      }, {
        cc_users: this.userId
      }]
    }, {
      fields: {
        state: 1
      }
    });

    if (ins) {
      set_obj = new Object();
      set_obj.modified = new Date();
      set_obj.modified_by = this.userId;
      set_obj.related_instances = related_instances;
      db.instances.update({
        _id: ins_id
      }, {
        $set: set_obj
      });
    }

    return db.instances.find({
      _id: {
        $in: related_instances
      }
    }, {
      fields: {
        _id: 1,
        values: 1
      }
    }).fetch();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"edit_flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/edit_flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  updateFlowPosition: function (data) {
    return db.flow_positions.update({
      _id: data._id
    }, {
      $set: {
        role: data.role,
        users: data.users,
        org: data.org
      }
    });
  },
  updateFlowRole: function (data) {
    console.log(data._id);
    console.log(data.name);
    return db.flow_roles.update({
      _id: data._id
    }, {
      $set: {
        name: data.name
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"start_flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/start_flow.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  start_flow: function (space, flowId, start) {
    var keyValue, start_flows;
    keyValue = db.steedos_keyvalues.findOne({
      space: space,
      user: this.userId,
      key: 'start_flows'
    }, {
      fields: {
        value: 1
      }
    });
    start_flows = (keyValue != null ? keyValue.value : void 0) || [];

    if (start) {
      start_flows.push(flowId);
      start_flows = _.uniq(start_flows);
    } else {
      start_flows.remove(start_flows.indexOf(flowId));
    }

    if (keyValue) {
      return db.steedos_keyvalues.update({
        _id: keyValue._id
      }, {
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    } else {
      return db.steedos_keyvalues.insert({
        space: space,
        user: this.userId,
        key: 'start_flows',
        value: start_flows
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_traces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_traces.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  get_instance_traces: function (ins_id) {
    var ins, miniApproveFields;

    if (!this.userId) {
      return;
    }

    miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description'];
    ins = db.instances.findOne({
      _id: ins_id
    }, {
      fields: {
        "traces._id": 1,
        "traces.is_finished": 1,
        "traces.step": 1,
        "traces.start_date": 1,
        "traces.name": 1,
        "traces.finish_date": 1,
        "traces.judge": 1,
        "traces.approves._id": 1,
        "traces.approves.is_finished": 1,
        "traces.approves.user": 1,
        "traces.approves.handler": 1,
        "traces.approves.handler_name": 1,
        "traces.approves.handler_organization_fullname": 1,
        "traces.approves.type": 1,
        "traces.approves.start_date": 1,
        "traces.approves.description": 1,
        "traces.approves.is_read": 1,
        "traces.approves.judge": 1,
        "traces.approves.finish_date": 1,
        "traces.approves.from_user_name": 1,
        "traces.approves.from_user": 1,
        "traces.approves.cc_description": 1,
        "traces.approves.trace": 1,
        "traces.approves.forward_space": 1,
        "traces.approves.forward_instance": 1
      }
    });

    if (!ins) {
      return;
    }

    return ins != null ? ins.traces : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_batch.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_batch.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  'get_batch_instances': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return _batch_instances;
  },
  'get_batch_instances_count': function (space, categoryId, flowIds) {
    var _batch_instances;

    if (!this.userId) {
      return;
    }

    if (!space) {
      return;
    }

    _batch_instances = InstanceManager.getBatchInstances(space, categoryId, flowIds, this.userId);
    return (_batch_instances != null ? _batch_instances.length : void 0) || 0;
  },
  'get_my_approves': function (instanceIds) {
    var myApproves, that;
    that = this;

    if (!that.userId) {
      return;
    }

    myApproves = new Array();
    instanceIds.forEach(function (insId) {
      var my_approve;
      my_approve = InstanceManager.getMyApprove(insId, that.userId);

      if (my_approve) {
        return myApproves.push(my_approve);
      }
    });
    return myApproves;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/flow.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  change_flow_state: function (flows) {
    var _userId;

    check(flows, Array);
    _userId = this.userId;

    if (!_userId) {
      return;
    }

    return flows.forEach(function (flow) {
      var _flows, _flows_state, flowId, form, formId, form_current_fields_code, now, spaceId, state;

      spaceId = flow.space;
      formId = flow.form;
      flowId = flow.id;
      state = flow.state;

      if (!Steedos.isSpaceAdmin(spaceId, _userId)) {
        throw Meteor.Error(401, "No permission");
      }

      form = db.forms.findOne({
        _id: formId
      }, {
        fields: {
          historys: 0
        }
      });
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          historys: 0
        }
      });

      if (state !== 'enabled' && state !== 'disabled') {
        throw new Meteor.Error(500, "state无效");
      }

      if (!form) {
        throw new Meteor.Error(500, "form无效");
      }

      if (!flow) {
        throw new Meteor.Error(500, "flow无效");
      }

      if (!form.is_valid) {
        throw new Meteor.Error(500, "流程引用的表单[" + form.name + "]验证未通过，请打开流程设计器检查表单设置");
      }

      if (!flow.is_valid) {
        throw new Meteor.Error(500, "流程验证未通过，请打开流程设计器检查流程设置");
      }

      if (!['new', 'modify', 'delete'].includes(flow.flowtype)) {
        throw new Meteor.Error(500, "流程验证未通过，flowtype值必须是new、modify、delete其中之一");
      }

      if (!_.isArray(flow.current.steps)) {
        throw new Meteor.Error(500, "流程验证未通过，流程的步骤不能为空");
      }

      if (_.uniq(flow.current.steps, 'name').length !== flow.current.steps.length) {
        throw new Meteor.Error(500, "流程验证未通过，同一个流程下的步骤的名称不能重复");
      }

      now = new Date();

      if (state === 'enabled') {
        flow.current.steps.forEach(function (step) {
          var specifyStep;

          if (['specifyStepUser', 'specifyStepRole'].includes(step.deal_type)) {
            if (!step.approver_step) {
              throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
            } else {
              specifyStep = _.find(flow.current.steps, function (_step) {
                return step.approver_step === _step._id;
              });

              if (!specifyStep) {
                throw new Meteor.Error(500, "步骤[" + step.name + "]中的指定历史步骤不存在。");
              }
            }
          }
        });
        form_current_fields_code = form.current.fields.getProperty("code");
        flow.current.steps.forEach(function (step) {
          return step.fields_modifiable = _.intersection(step.fields_modifiable, form_current_fields_code);
        });

        if (form.state === 'disabled') {
          db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "enabled",
              "current.start_date": now,
              "current.modified": now,
              "current.modified_by": _userId
            }
          });
        }

        flow.current.modified = now;
        flow.current.start_date = now;
        flow.current.modified_by = _userId;
        return db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "enabled",
            "current": flow.current
          }
        });
      } else {
        db.flows.update({
          _id: flow._id
        }, {
          $set: {
            "state": "disabled",
            "current.modified": now,
            "current.start_date": now,
            "current.modified_by": _userId
          }
        });
        _flows = db.flows.find({
          form: form._id
        }, {
          fields: {
            _id: 1,
            state: 1
          }
        }).fetch();
        _flows_state = _flows.getProperty("state");

        if (!_flows_state.includes('enabled')) {
          return db.forms.update({
            _id: form._id
          }, {
            $set: {
              "state": "disabled",
              "current.modified": now,
              "current.start_date": now,
              "current.modified_by": _userId
            }
          });
        }
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distribute.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/distribute.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"hide_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/hide_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  hide_instance: function (insId, is_hidden) {
    var instance, permissions, space, userId;

    if (!this.userId) {
      return;
    }

    check(insId, String);
    check(is_hidden, Boolean);
    userId = this.userId;
    instance = db.instances.findOne(insId, {
      fields: {
        state: 1,
        flow: 1,
        space: 1
      }
    });

    if (!instance) {
      throw new Meteor.Error('error!', "未找到申请单");
    }

    if (instance.state !== 'completed') {
      throw new Meteor.Error('error!', "申请单状态不是已结束");
    }

    permissions = permissionManager.getFlowPermissions(instance.flow, userId);
    space = db.spaces.findOne(instance.space, {
      fields: {
        admins: 1
      }
    });

    if (!permissions.includes("admin") && !space.admins.includes(userId)) {
      throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
    }

    db.instances.update(insId, {
      $set: {
        is_hidden: is_hidden
      }
    });
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_value.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/methods/instance_value.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.methods({
  getInstanceValues: function (insId) {
    var ref;

    if (!this.userId) {
      return;
    }

    return (ref = db.instances.findOne({
      _id: insId
    }, {
      fields: {
        values: 1
      }
    })) != null ? ref.values : void 0;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"routes":{"instance.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance.coffee                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies, getInstanceReadOnly;
Cookies = require("cookies");

getInstanceReadOnly = function (req, res, next, options) {
  var _hasPermission, _locale, _parent_instances, dataBuf, error, hide_traces, html, instance, instanceId, ref, ref1, space, spaceId, spaceUserCount, user, userId;

  user = Steedos.getAPILoginUser(req, res);

  if (req != null ? (ref = req.query) != null ? ref.access_token : void 0 : void 0) {
    userId = Steedos.getUserIdFromAccessToken(req.query.access_token);

    if (userId) {
      user = Meteor.users.findOne({
        _id: userId
      });
    }
  }

  spaceId = req.params.space;
  instanceId = req.params.instance_id;
  instance = db.instances.findOne({
    _id: instanceId
  });
  space = db.spaces.findOne({
    _id: spaceId
  });
  hide_traces = (ref1 = req.query) != null ? ref1.hide_traces : void 0;

  if (!options) {
    options = {
      showTrace: true
    };
  } else {
    options.showTrace = true;
  }

  if (hide_traces === "1") {
    if (options) {
      options.showTrace = false;
    } else {
      options = {
        showTrace: false
      };
    }
  }

  if (!options.showAttachments) {
    options.showAttachments = true;
  }

  if (!space) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space",
        "success": false
      }
    });
    return;
  }

  if (!instance) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing instance",
        "success": false
      }
    });
    return;
  }

  if (!user) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Auth-Token,X-User-Id",
        "success": false
      }
    });
    return;
  }

  if (instance.space !== spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing space or instance",
        "success": false
      }
    });
    return;
  }

  spaceUserCount = db.space_users.find({
    user: user._id,
    space: spaceId
  }).count();

  if (spaceUserCount === 0) {
    if (!space) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- Missing sapceUser",
          "success": false
        }
      });
      return;
    }
  }

  _hasPermission = WorkflowManager.hasInstancePermissions(user, instance);

  if (!_hasPermission && instance.distribute_from_instance) {
    _parent_instances = _.union([instance.distribute_from_instance], instance.distribute_from_instances || []);
    _hasPermission = _.find(_parent_instances, function (_parent_id) {
      var _parent_ins;

      _parent_ins = db.instances.findOne({
        _id: _parent_id
      }, {
        fields: {
          traces: 0
        }
      });
      return WorkflowManager.hasInstancePermissions(user, _parent_ins);
    });
  }

  if (!_hasPermission) {
    _locale = Steedos.locale(user._id, true);
    error = TAPi18n.__("instance_permissions_error", {}, _locale);
    res.charset = "utf-8";
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": error,
        "success": false
      }
    });
    return;
  }

  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
};

JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id", getInstanceReadOnly);
JsonRoutes.add("get", "/workflow/space/:space/view/readonly/:instance_id/:instance_name", function (req, res, next) {
  var options;
  res.setHeader('Content-type', 'application/x-msdownload');
  res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(req.params.instance_name));
  res.setHeader('Transfer-Encoding', '');
  options = {
    absolute: true
  };
  return getInstanceReadOnly(req, res, next, options);
}); /*
    	获取申请单列表：
        final_decision：审批结果
        state: 申请单状态
     */
JsonRoutes.add("get", "/api/workflow/instances", function (req, res, next) {
  var f, flowId, flowIds, flows, i, instances, query, ref, ref1, ref2, ref3, ret_sync_token, spaceId, spaceUser, spaceUserOrganizations, sync_token, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  spaceId = req.headers["x-space-id"];

  if (!spaceId) {
    JsonRoutes.sendResult(res, {
      code: 401,
      data: {
        "error": "Validate Request -- Missing X-Space-Id",
        "success": false
      }
    });
    return;
  }

  flowId = (ref = req.query) != null ? ref.flowId : void 0;

  if (!flowId) {
    JsonRoutes.sendResult(res, {
      code: 400,
      data: {
        "error": "Validate Request -- Missing flowId",
        "success": false
      }
    });
    return;
  }

  query = {};
  ret_sync_token = new Date().getTime();
  flowIds = flowId.split(",");
  flows = db.flows.find({
    _id: {
      $in: flowIds
    }
  }).fetch();
  i = 0;

  while (i < flows.length) {
    f = flows[i];
    spaceUser = db.space_users.findOne({
      space: f.space,
      user: user_id
    });

    if (!spaceUser) {
      JsonRoutes.sendResult(res, {
        code: 401,
        data: {
          "error": "Validate Request -- No permission, flow is " + f._id,
          "success": false
        }
      });
      return;
    } else {}

    if (!Steedos.isSpaceAdmin(spaceId, user_id)) {
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: spaceUser.organizations
        }
      }).fetch();

      if (!WorkflowManager.canMonitor(f, spaceUser, spaceUserOrganizations) && !WorkflowManager.canAdmin(f, spaceUser, spaceUserOrganizations)) {
        JsonRoutes.sendResult(res, {
          code: 401,
          data: {
            "error": "Validate Request -- No permission, flow is " + f._id,
            "success": false
          }
        });
        return;
      }
    }

    i++;
  }

  query.flow = {
    $in: flowIds
  };
  query.space = spaceId;

  if ((ref1 = req.query) != null ? ref1.sync_token : void 0) {
    sync_token = new Date(Number(req.query.sync_token));
    query.modified = {
      $gt: sync_token
    };
  }

  if ((ref2 = req.query) != null ? ref2.final_decision : void 0) {
    query.final_decision = {
      $in: req.query.final_decision.split(",")
    };
  } else {
    query.final_decision = {
      $nin: ["terminated", "rejected"]
    };
  }

  if ((ref3 = req.query) != null ? ref3.state : void 0) {
    query.state = {
      $in: req.query.state.split(",")
    };
  } else {
    query.state = "completed";
  }

  instances = db.instances.find(query, {
    fields: {
      inbox_uers: 0,
      cc_users: 0,
      outbox_users: 0,
      traces: 0,
      attachments: 0
    },
    skip: 0,
    limit: 500
  }).fetch();
  instances.forEach(function (instance) {
    var attachments;
    attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return instance.attachments = attachments;
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      "status": "success",
      "sync_token": ret_sync_token,
      "data": instances
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"steedos_css.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/steedos_css.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/steedos-css", function (req, res, next) {
  var allCss, allCssLink;
  allCss = WebApp.getRefreshableAssets();
  allCssLink = "";
  allCss.forEach(function (css) {
    var cssHref, rootUrl;

    if (__meteor_runtime_config__.ROOT_URL_PATH_PREFIX) {
      rootUrl = __meteor_runtime_config__.ROOT_URL;

      if (rootUrl.endsWith("/")) {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX + "/", "") + css.url;
      } else {
        cssHref = rootUrl.replace(__meteor_runtime_config__.ROOT_URL_PATH_PREFIX, "") + css.url;
      }
    } else {
      cssHref = Meteor.absoluteUrl(css.url);
    }

    return allCssLink += "@import url(" + cssHref + ");";
  });
  res.statusCode = 200;
  return res.end(allCssLink);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft_view.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/routes/instance_draft_view.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("get", "/api/workflow/space/:space/view/draft/:flow", function (req, res, next) {
  var dataBuf, flow, flowId, form, html, instance, options, space, spaceId, user, user_id;

  if (!Steedos.APIAuthenticationCheck(req, res)) {
    return;
  }

  user_id = req.userId;
  user = db.users.findOne({
    _id: user_id
  });
  spaceId = req.params.space;
  flowId = req.params.flow;
  space = db.spaces.findOne({
    _id: spaceId
  });
  flow = db.flows.findOne({
    _id: flowId
  }, {
    fields: {
      name: 1,
      'current._id': 1,
      form: 1
    }
  });
  form = db.forms.findOne({
    _id: flow.form
  }, {
    fields: {
      'current._id': 1
    }
  });
  options = {
    showTrace: false,
    showAttachments: false,
    templateName: "default",
    editable: true,
    width: "100%",
    instance_style: "instance-default",
    plugins: "\n<meta http-equiv=\"X-UA-Compatible\" content=\"IE=edge,chrome=1\" />\n<meta name=\"format-detection\" content=\"telephone=no\">\n<meta http-equiv=\"x-rim-auto-match\" content=\"none\">\n<title>" + flow.name + "</title>\n<meta content='width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0' name='viewport' />\n<meta name=\"viewport\" content=\"width=device-width\" />\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/bootstrap-datetimepicker/css/bootstrap-datetimepicker.min.css\">\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/bootstrap-datetimepicker.min.js\" type=\"text/javascript\"></script>\n\n<script src=\"/plugins/bootstrap-datetimepicker/js/locales/bootstrap-datetimepicker.zh-CN.js\" type=\"text/javascript\" charset=\"UTF-8\"></script>\n\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/plugins/toastr/toastr.min.css\">\n<script src=\"/plugins/toastr/toastr.min.js\" type=\"text/javascript\"></script>\n<link rel=\"stylesheet\" type=\"text/css\" href=\"/js/workflow_client.css\">\n<script src=\"/js/workflow_client.js\" type=\"text/javascript\"></script>"
  };
  instance = {
    flow: flow._id,
    flow_version: flow.current._id,
    form: form._id,
    form_version: form.current._id,
    values: {},
    name: flow.name,
    space: spaceId
  };
  html = InstanceReadOnlyTemplate.getInstanceHtml(user, space, instance, options);
  dataBuf = new Buffer(html);
  res.setHeader('content-length', dataBuf.length);
  res.setHeader('content-range', "bytes 0-" + (dataBuf.length - 1) + "/" + dataBuf.length);
  res.statusCode = 200;
  return res.end(html);
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"lib":{"1_form_formula.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/1_form_formula.js                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
Array.prototype.filterProperty = function (h, l) {
  var g = [];
  this.forEach(function (t) {
    var m = t ? t[h] : null;
    var d = false;

    if (m instanceof Array) {
      d = m.includes(l);
    } else {
      d = l === undefined ? false : m == l;
    }

    if (d) {
      g.push(t);
    }
  });
  return g;
};

Array.prototype.getProperty = function (k) {
  var v = new Array();
  this.forEach(function (t) {
    var m = t ? t[k] : null;
    v.push(m);
  });
  return v;
};

Array.prototype.getEach = function (code) {
  var rev = [];

  for (var i = 0; i < this.length; i++) {
    rev.push(this[i][code]);
  }

  return rev;
};

Array.prototype.uniq = function () {
  var a = [];
  this.forEach(function (b) {
    if (a.indexOf(b) < 0) {
      a[a.length] = b;
    }
  });
  return a;
};

Form_formula = {};

Form_formula.mixin = function (dest, src) {
  for (var key in src) {
    dest[key] = src[key];
  }

  return dest;
};

Form_formula.handerUserObject = function (u) {
  if (u instanceof Array) {
    var user = {};
    user.name = u.getProperty("name");
    user.organization = {};
    user.organization.name = u.getProperty("organization").getProperty("name");
    user.organization.fullname = u.getProperty("organization").getProperty("fullname");
    user.hr = u.getProperty("hr");
    user.sort_no = u.getProperty("sort_no");
    user.mobile = u.getProperty("mobile");
    user.work_phone = u.getProperty("work_phone");
    user.position = u.getProperty("position");
    var userRoles = u.getProperty("roles");
    var roles = new Array();
    userRoles.forEach(function (i) {
      roles = roles.concat(i);
    });
    roles.uniq();
    user.roles = roles;
    return user;
  } else {
    return u;
  }
};

Form_formula.handerOrgObject = function (o) {
  if (o instanceof Array) {
    var org = {};
    org.id = o.getProperty("_id");
    org.name = o.getProperty("name");
    org.fullname = o.getProperty("fullname");
    return org;
  } else {
    return o;
  }
};
/**
    * 获得公式需要用到的初始值
    * 输入：fields, values, applicant
    * 输出：__values
**/


Form_formula.init_formula_values = function (fields, autoFormDoc, approver, applicant, spaceId) {
  var __values = {}; //申请单中填的值处理

  if (fields && fields.length && autoFormDoc) {
    //debugger;
    fields.forEach(function (field) {
      var type = field.type;

      if (type) {
        if (type === 'table') {
          /*
          * 将表格字段的值进行转换后传入__values中
          * values中表格的值格式为
          * [{"a":1,"b":4},{"a":2,"b":5},{"a":3,"b":6}]
          * __values需要转化为下面格式且和主表的值一样放到第一层
          * {"a":[1,2,3],"b":[4,5,6]}
          **/
          var tableFields = field.sfields,
              tableValues = autoFormDoc[field.code],
              formulaTableValues = [],
              __tableValues = {}; //按公式的格式转换值为__tableValues

          if (tableFields && tableFields.length && tableValues && tableValues instanceof Array) {
            tableValues.forEach(function (tableValue) {
              formulaTableValues.push(Form_formula.init_formula_values(tableFields, tableValue));
            }, this); //按主表的格式转换__tableValues加到

            tableFields.forEach(function (tablefield) {
              __tableValues[tablefield.code] = formulaTableValues.getEach(tablefield.code);
            });
            __values = Form_formula.mixin(__values, __tableValues);
          }
        } else if (type == 'user') {
          __values[field.code] = Form_formula.handerUserObject(WorkflowManager.getFormulaUserObjects(spaceId, autoFormDoc[field.code]));
        } else if (type == 'group') {
          __values[field.code] = Form_formula.handerOrgObject(WorkflowManager.getFormulaOrgObjects(autoFormDoc[field.code]));
        } else if (type == 'odata') {
          __values[field.code] = autoFormDoc[field.code] || {};
        } else {
          //此处传spaceId给选人控件的旧数据计算roles和organization
          __values[field.code] = autoFormDoc[field.code];
        }
      }
    }, this);
  } //当前处理人


  __values["approver"] = WorkflowManager.getFormulaUserObject(spaceId, approver); //申请人

  __values["applicant"] = WorkflowManager.getFormulaUserObject(spaceId, applicant);
  return __values;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"get_handlers_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/get_handlers_manager.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
getHandlersManager = {};

getHandlersManager.getHandlersByUsersAndRoles = function (user_ids, role_ids, space_id) {
  var approve_users;
  approve_users = new Array();

  _.each(user_ids, function (user_id) {
    var users;

    if (db.users.find({
      _id: user_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRoles(user_id, role_ids, space_id);

      if (users.length > 0) {
        return approve_users = approve_users.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "user_id不合法不合法");
    }
  });

  approve_users = _.uniq(approve_users);
  return approve_users;
};

getHandlersManager.getHandlersByUserAndRoles = function (user_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;

    if (db.flow_roles.find({
      _id: role_id
    }).count() > 0) {
      users = getHandlersManager.getHandlersByUserAndRole(user_id, role_id, space_id);

      if (users.length > 0) {
        return user_ids = user_ids.concat(users);
      }
    } else {
      throw new Meteor.Error('error!', "role_id已经被删除");
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据user_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByUserAndRole = function (user_id, role_id, space_id) {
  var orgs, user_ids;
  orgs = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      _id: 1
    }
  }).fetch();
  user_ids = new Array();

  _.each(orgs, function (org) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org._id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgsAndRoles = function (org_ids, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(org_ids, function (org_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRoles(org_id, role_ids, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlersByOrgAndRoles = function (org_id, role_ids, space_id) {
  var user_ids;
  user_ids = new Array();

  _.each(role_ids, function (role_id) {
    var users;
    users = getHandlersManager.getHandlersByOrgAndRole(org_id, role_id, space_id);

    if (users.length > 0) {
      return user_ids = user_ids.concat(users);
    }
  });

  if (user_ids.length > 0) {
    user_ids = _.uniq(user_ids);
    return user_ids;
  } else {
    throw new Meteor.Error('error!', "根据org_id和role_ids没查到对应的处理人");
  }
};

getHandlersManager.getHandlersByOrgAndRole = function (org_id, role_id, space_id) {
  var org, parents, positions, user_ids;
  org = db.organizations.findOne({
    _id: org_id
  }, {
    fields: {
      parents: 1
    }
  });
  user_ids = new Array();
  positions = db.flow_positions.find({
    space: space_id,
    org: org_id,
    role: role_id
  }, {
    fields: {
      users: 1
    }
  }).fetch();

  _.each(positions, function (position) {
    return user_ids = user_ids.concat(position.users);
  });

  if (user_ids.length === 0) {
    parents = org.parents;

    _.each(parents, function (parent_id) {
      positions = db.flow_positions.find({
        space: space_id,
        org: parent_id,
        role: role_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();

      if (positions.length > 0) {
        return _.each(positions, function (position) {
          return user_ids = user_ids.concat(position.users);
        });
      }
    });
  }

  user_ids = _.uniq(user_ids);
  return user_ids;
};

getHandlersManager.getHandlers = function (instance_id, step_id) {
  var _approve, _space_user, _trace, applicant, applicantSuperiors, approveHrRoleIds, approve_users, approver_org_field, approver_org_ids, approver_step, approver_user_field, approver_user_ids, current, current_flow, current_flow_version, current_form, current_step, current_steps, deal_type, field_code, finished_traces, flow_id, flow_rev, form, form_fields, form_id, form_rev, handlers, instance, max_startDate_trace, new_approver_user_ids, new_org_user_ids, newest_values, next_step_users, org_ids, org_ids_names, org_user_ids, space_id, space_user_count, submitter, submitter_user_count, unfinished_trace, user_ids, user_ids_names, users, valid_approver_org_ids;

  instance = db.instances.findOne(instance_id);

  if (instance.step_approve && instance.step_approve[step_id]) {
    return instance.step_approve[step_id];
  }

  approve_users = new Array();
  space_id = instance.space;
  flow_id = instance.flow;
  flow_rev = instance.flow_version;
  current_flow = db.flows.findOne(flow_id);
  current_step = null;
  current_steps = new Array();

  if (current_flow.current._id === flow_rev) {
    current_steps = current_flow.current.steps;
  } else {
    current = _.find(current_flow.historys, function (history) {
      return history._id === flow_rev;
    });
    current_steps = current.steps;
  }

  current_step = _.find(current_steps, function (step) {
    return step._id === step_id;
  });

  if (current_step.step_type === "condition") {
    unfinished_trace = _.find(instance.traces, function (trace) {
      return trace.is_finished === false;
    });
    return new Array(unfinished_trace.approves[0].user);
  }

  if (current_step.step_type === "start") {
    handlers = new Array();
    handlers.push(instance.applicant);
    handlers.push(instance.submitter);
    handlers = _.uniq(handlers);
    return handlers;
  }

  deal_type = current_step.deal_type;
  users = new Array();

  if (deal_type === "applicantRole") {
    applicant = instance.applicant;

    if (applicant) {
      space_user_count = db.space_users.find({
        space: space_id,
        user: applicant
      }).count();

      if (space_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
      }

      if (current_step.approver_roles && current_step.approver_roles.length > 0) {
        _.each(current_step.approver_roles, function (approver_role) {
          var role_count;
          role_count = db.flow_roles.find({
            _id: approver_role
          }).count();

          if (role_count === 0) {
            throw new Meteor.Error('error!', "角色已经被删除");
          }
        });

        return getHandlersManager.getHandlersByUserAndRoles(applicant, current_step.approver_roles, space_id);
      } else {
        throw new Meteor.Error('error!', "审批岗位未指定");
      }
    } else {
      throw new Meteor.Error('error!', "Instance的提交人为空");
    }
  } else if (deal_type === "hrRole") {
    approveHrRoleIds = current_step.approver_hr_roles;

    if (approveHrRoleIds) {
      return _.pluck(WorkflowManager.getHrRolesUsers(space_id, approveHrRoleIds), 'user');
    } else {
      throw new Meteor.Error('error!', "角色未指定");
    }
  } else if (deal_type === "applicant") {
    applicant = instance.applicant;
    space_user_count = db.space_users.find({
      space: space_id,
      user: applicant
    }).count();

    if (space_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前space");
    } else {
      return new Array(applicant);
    }
  } else if (deal_type === "orgFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByOrgsAndRoles(org_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "orgField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_org_field = current_step.approver_org_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_org_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    org_ids = new Array();
    org_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        org_ids_names = newest_values[field_code];
      } else {
        org_ids_names.push(newest_values[field_code]);
      }
    }

    _.each(org_ids_names, function (org) {
      var check_org_count;
      check_org_count = db.organizations.find({
        _id: org["id"]
      }).count();

      if (check_org_count === 0) {
        throw new Meteor.Error('error!', "组织ID不合法");
      }

      return org_ids.push(org["id"]);
    });

    user_ids = new Array();

    _.each(org_ids, function (org_id) {
      var check_orgs, org, org_children, org_users;
      org = db.organizations.findOne({
        _id: org_id
      }, {
        fields: {
          users: 1
        }
      });
      org_children = db.organizations.find({
        space: space_id,
        parents: org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      org_children.unshift(org);
      check_orgs = org_children;
      org_users = new Array();

      _.each(check_orgs, function (check_org_user) {
        if (check_org_user.users) {
          _.each(check_org_user.users, function (org_user) {
            if (db.space_users.find({
              space: space_id,
              user: org_user
            }).count() === 0) {
              throw new Meteor.Error('error!', "space下不存在此user");
            }
          });
        }

        user_ids = user_ids.concat(check_org_user.users);
        return org_users = org_users.concat(check_org_user.users);
      });

      if (org_users.length === 0) {
        throw new Meteor.Error('error!', "组织" + org_id + "不存在处理人");
      }
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "userFieldRole") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);

    if (current_step.approver_roles && current_step.approver_roles.length > 0) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', approver_role + "已经被删除");
        }
      });

      return getHandlersManager.getHandlersByUsersAndRoles(user_ids, current_step.approver_roles, instance.space);
    } else {
      throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
    }
  } else if (deal_type === "userField") {
    form_id = current_flow.form;
    form_rev = null;

    if (flow_rev === current_flow.current._id) {
      form_rev = current_flow.current.form_version;
    } else {
      current_flow_version = _.find(current_flow.historys, function (current_flow_history) {
        return current_flow_history._id === flow_rev;
      });

      if (current_flow_version) {
        form_rev = current_flow_version.form_version;
      }
    }

    form = db.forms.findOne(form_id);
    current_form = null;

    if (form_rev === form.current._id) {
      current_form = form.current;
    } else {
      current_form = _.find(form.historys, function (form_history) {
        return form_history._id === form_rev;
      });
    }

    approver_user_field = current_step.approver_user_field;
    form_fields = current_form.fields;
    field_code = null;

    _.each(form_fields, function (form_field) {
      if (form_field._id === approver_user_field) {
        return field_code = form_field.code;
      }
    });

    newest_values = uuflowManager.getUpdatedValues(instance);
    user_ids_names = new Array();

    if (newest_values[field_code]) {
      if (newest_values[field_code] instanceof Array) {
        user_ids_names = newest_values[field_code];
      } else {
        user_ids_names.push(newest_values[field_code]);
      }
    }

    user_ids = new Array();

    _.each(user_ids_names, function (user) {
      var check_user_count;
      check_user_count = db.space_users.find({
        space: space_id,
        user: user["id"]
      }).count();

      if (check_user_count === 0) {
        throw new Meteor.Error('error!', "人员ID不合法");
      }

      return user_ids.push(user["id"]);
    });

    user_ids = _.uniq(user_ids);
    return user_ids;
  } else if (deal_type === "specifyStepRole") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    if (current_step.approver_roles) {
      _.each(current_step.approver_roles, function (approver_role) {
        var role_count;
        role_count = db.flow_roles.find({
          _id: approver_role
        }).count();

        if (role_count === 0) {
          throw new Meteor.Error('error!', "角色已经被删除");
        }
      });
    }

    _.each(approve_users, function (approve_user) {
      if (db.space_users.find({
        space: space_id,
        user: approve_user
      }).count() === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    return getHandlersManager.getHandlersByUsersAndRoles(approve_users, current_step.approver_roles, space_id);
  } else if (deal_type === "specifyStepUser") {
    approver_step = current_step.approver_step;
    finished_traces = new Array();

    _.each(instance.traces, function (trace) {
      if (trace.step === approver_step) {
        return finished_traces.push(trace);
      }
    });

    max_startDate_trace = _.max(finished_traces, function (t) {
      return t.start_date;
    });
    approve_users = _.pluck(max_startDate_trace.approves, "user");

    _.each(approve_users, function (approve_user) {
      var check_approve_user_count;
      check_approve_user_count = db.space_users.find({
        space: space_id,
        user: approve_user
      }).count();

      if (check_approve_user_count === 0) {
        throw new Meteor.Error('error!', "指定步骤的处理人已经变更");
      }
    });

    approve_users = _.uniq(approve_users);
    return approve_users;
  } else if (deal_type === "submitterRole") {
    submitter = instance.submitter;

    if (!submitter) {
      submitter_user_count = db.space_users.find({
        space: space_id,
        user: submitter
      }).count();

      if (submitter_user_count === 0) {
        throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
      } else {
        if (current_step.approver_roles && current_step.approver_roles.length > 0) {
          _.each(current_step.approver_roles, function (approver_role) {
            var role_count;
            role_count = db.flow_roles.find({
              _id: approver_role
            }).count();

            if (role_count === 0) {
              throw new Meteor.Error('error!', approver_role + "已经被删除");
            }
          });

          return getHandlersManager.getHandlersByUserAndRoles(submitter, current_step.approver_roles, space_id);
        } else {
          throw new Meteor.Error('error!', "流程步骤" + current_step.name + "审批岗位未指定");
        }
      }
    } else {
      throw new Meteor.Error('error!', "申请单的提交人为空");
    }
  } else if (deal_type === "submitter") {
    submitter = instance.submitter;
    submitter_user_count = db.space_users.find({
      space: space_id,
      user: submitter
    }).count();

    if (submitter_user_count === 0) {
      throw new Meteor.Error('error!', "提交人已经被删除或不属于当前工作区");
    } else {
      return new Array(submitter);
    }
  } else if (deal_type === "specifyOrg") {
    approver_org_ids = current_step.approver_orgs;

    if (!approver_org_ids || approver_org_ids.length === 0) {
      throw new Meteor.Error('error!', "未定义用于查找下一步处理人的部门，请联系管理员调查流程图的配置是否正确");
    }

    valid_approver_org_ids = new Array();

    _.each(approver_org_ids, function (approver_org_id) {
      if (db.organizations.find({
        _id: approver_org_id
      }).count() > 0) {
        return valid_approver_org_ids.unshift(approver_org_id);
      }
    });

    org_user_ids = new Array();

    _.each(valid_approver_org_ids, function (valid_approver_org_id) {
      var child_orgs, valid_approver_org;
      valid_approver_org = db.organizations.findOne({
        _id: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      });

      if (valid_approver_org.users) {
        org_user_ids = org_user_ids.concat(valid_approver_org.users);
      }

      child_orgs = db.organizations.find({
        space: space_id,
        parents: valid_approver_org_id
      }, {
        fields: {
          users: 1
        }
      }).fetch();
      return _.each(child_orgs, function (child_org) {
        if (child_org.users) {
          return org_user_ids = org_user_ids.concat(child_org.users);
        }
      });
    });

    org_user_ids = _.uniq(org_user_ids);
    new_org_user_ids = new Array();

    _.each(org_user_ids, function (org_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: org_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_org_user_ids.push(org_user_id);
      }
    });

    return new_org_user_ids;
  } else if (deal_type === "specifyUser") {
    approver_user_ids = current_step.approver_users;
    approver_user_ids = _.uniq(approver_user_ids);
    new_approver_user_ids = new Array();

    _.each(approver_user_ids, function (approver_user_id) {
      var space_user_info_count;
      space_user_info_count = db.space_users.find({
        space: space_id,
        user: approver_user_id
      }).count();

      if (space_user_info_count > 0) {
        return new_approver_user_ids.push(approver_user_id);
      }
    });

    return new_approver_user_ids;
  } else if (deal_type === "pickupAtRuntime") {
    next_step_users = new Array();
    _trace = _.find(instance.traces, function (_tr) {
      return _tr.is_finished === false;
    });
    _approve = _.find(_trace.approves, function (_app) {
      return _app.is_finished === false && _app.type !== 'cc';
    });

    if (_approve.next_steps) {
      if (_approve.next_steps[0]["users"]) {
        next_step_users = _approve.next_steps[0]["users"];
      }
    }

    return next_step_users;
  } else if (deal_type === "applicantSuperior") {
    applicantSuperiors = new Array();
    _space_user = db.space_users.findOne({
      space: space_id,
      user: instance.applicant
    }, {
      fields: {
        manager: 1
      }
    });

    if (_space_user.manager) {
      applicantSuperiors.push(_space_user.manager);
    }

    return applicantSuperiors;
  }
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"permission_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/permission_manager.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
permissionManager = {};

permissionManager.getFlowPermissions = function (flow_id, user_id) {
  var flow, my_permissions, org_ids, organizations, orgs_can_add, orgs_can_admin, orgs_can_monitor, space_id, users_can_add, users_can_admin, users_can_monitor;
  flow = uuflowManager.getFlow(flow_id);
  space_id = flow.space;
  org_ids = new Array();
  organizations = db.organizations.find({
    space: space_id,
    users: user_id
  }, {
    fields: {
      parents: 1
    }
  }).fetch();

  _.each(organizations, function (org) {
    org_ids.push(org._id);

    if (org.parents) {
      return _.each(org.parents, function (parent_id) {
        return org_ids.push(parent_id);
      });
    }
  });

  org_ids = _.uniq(org_ids);
  my_permissions = new Array();

  if (flow.perms) {
    if (flow.perms.users_can_add) {
      users_can_add = flow.perms.users_can_add;

      if (users_can_add.includes(user_id)) {
        my_permissions.push("add");
      }
    }

    if (flow.perms.orgs_can_add) {
      orgs_can_add = flow.perms.orgs_can_add;

      _.each(org_ids, function (org_id) {
        if (orgs_can_add.includes(org_id)) {
          return my_permissions.push("add");
        }
      });
    }

    if (flow.perms.users_can_monitor) {
      users_can_monitor = flow.perms.users_can_monitor;

      if (users_can_monitor.includes(user_id)) {
        my_permissions.push("monitor");
      }
    }

    if (flow.perms.orgs_can_monitor) {
      orgs_can_monitor = flow.perms.orgs_can_monitor;

      _.each(org_ids, function (org_id) {
        if (orgs_can_monitor.includes(org_id)) {
          return my_permissions.push("monitor");
        }
      });
    }

    if (flow.perms.users_can_admin) {
      users_can_admin = flow.perms.users_can_admin;

      if (users_can_admin.includes(user_id)) {
        my_permissions.push("admin");
      }
    }

    if (flow.perms.orgs_can_admin) {
      orgs_can_admin = flow.perms.orgs_can_admin;

      _.each(org_ids, function (org_id) {
        if (orgs_can_admin.includes(org_id)) {
          return my_permissions.push("admin");
        }
      });
    }
  }

  my_permissions = _.uniq(my_permissions);
  return my_permissions;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"approve_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/approve_manager.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
approveManager = {}; /*
                         对比approve_values与last_values 对象， 返回approve_values比last_values多出的或者改变的部分
                      */

approveManager.getChangeValues = function (last_values, approve_values) {
  var approve_values_keys, changeValues, last_values_keys;
  changeValues = {};
  last_values_keys = _.keys(last_values);
  approve_values_keys = _.keys(approve_values);
  approve_values_keys.forEach(function (key) {
    if (_.contains(last_values_keys, key)) {
      if (!_.isEqual(last_values[key], approve_values[key])) {
        return changeValues[key] = approve_values[key];
      }
    } else {
      if (approve_values[key] !== '') {
        return changeValues[key] = approve_values[key];
      }
    }
  });
  return changeValues;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/flow_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
flowManager = {};

flowManager.getCategoriesFlows = function (spaceId, categorieId, fields) {
  var categoriesForms;
  categoriesForms = formManager.getCategoriesForms(spaceId, categorieId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: categoriesForms.getProperty("_id")
    }
  });
};

flowManager.getUnCategoriesFlows = function (spaceId, fields) {
  var unCategoriesForms;
  unCategoriesForms = formManager.getUnCategoriesForms(spaceId, {
    _id: 1
  }).fetch();
  return db.flows.find({
    form: {
      $in: unCategoriesForms.getProperty("_id")
    }
  });
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"form_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/form_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
formManager = {};

formManager.getCategoriesForms = function (spaceId, categorieId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: categorieId,
    state: "enabled"
  }, _fields);
};

formManager.getUnCategoriesForms = function (spaceId, fields) {
  var _fields;

  if (fields) {
    _fields = {
      fields: fields
    };
  }

  return db.forms.find({
    space: spaceId,
    category: {
      $in: [null, ""]
    },
    state: "enabled"
  }, _fields);
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"step_manager.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/step_manager.coffee                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
stepManager = {};

stepManager.allowBatch = function (step) {
  return step.step_type === 'counterSign' && step.allowBatch;
};

stepManager.getStep = function (instance, flow, step_id) {
  var flow_rev, isExistStep;
  flow_rev = instance.flow_version;
  isExistStep = null;

  if (flow.current._id === flow_rev) {
    isExistStep = _.find(flow.current.steps, function (step) {
      return step._id === step_id;
    });
  } else {
    _.each(flow.historys, function (history) {
      if (history._id === flow_rev) {
        return isExistStep = _.find(history.steps, function (step) {
          return step._id === step_id;
        });
      }
    });
  }

  if (!isExistStep) {
    throw new Meteor.Error('error!', "不能获取step");
  }

  return isExistStep;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_manager.coffee":function(require,exports){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/lib/instance_manager.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var _eval, logger;

_eval = require('eval');
InstanceManager = {};
logger = new Logger('Workflow -> InstanceManager');

InstanceManager.handlerInstanceByFieldMap = function (ins, field_map) {
  var context, e, flow, res, script;
  res = ins;

  if (ins) {
    if (!field_map) {
      flow = db.flows.findOne({
        _id: ins.flow
      }, {
        fields: {
          field_map: 1
        }
      });

      if (flow != null ? flow.field_map : void 0) {
        field_map = flow.field_map;
      }
    }

    if (field_map) {
      context = _.clone(ins);
      context._ = _;
      script = "var instances = " + field_map + "; exports.instances = instances";

      try {
        res = _eval(script, "handlerInstanceByFieldMap", context, false).instances;
      } catch (error) {
        e = error;
        res = {
          _error: e
        };
        logger.error(e);
      }
    }
  }

  return res;
};

InstanceManager.getCurrentApprove = function (instance, handler) {
  var currentApprove, currentApproves, currentTraces;

  if (!instance || !instance.traces || instance.traces.length < 1) {
    return;
  }

  currentTraces = instance.traces.filterProperty('is_finished', false);

  if (currentTraces.length) {
    currentApproves = currentTraces[0].approves.filterProperty('is_finished', false).filterProperty('handler', handler);
    currentApprove = currentApproves.length > 0 ? currentApproves[0] : null;
  }

  if (!currentApprove || currentApprove.type === 'cc') {
    _.each(instance.traces, function (t) {
      _.each(t.approves, function (a) {
        if (a.type === 'cc' && a.user === handler && a.is_finished === false) {
          currentApprove = a;
        }
      });
    });
  }

  if (!currentApprove) {
    return;
  }

  return currentApprove;
};

InstanceManager.getCurrentTrace = function (instance, traceId) {
  return instance.traces.findPropertyByPK("_id", traceId);
};

InstanceManager.getMyApprove = function (instanceId, userId) {
  var flow, instance, my_approve, nextSteps, next_user_ids, step, trace;
  instance = db.instances.findOne({
    _id: instanceId
  });
  flow = uuflowManager.getFlow(instance.flow);
  my_approve = InstanceManager.getCurrentApprove(instance, userId);

  if (my_approve) {
    trace = InstanceManager.getCurrentTrace(instance, my_approve.trace);
    step = uuflowManager.getStep(instance, flow, trace.step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "");

    if (nextSteps.length === 1) {
      next_user_ids = getHandlersManager.getHandlers(instance._id, nextSteps[0]);

      if (next_user_ids.length === 1) {
        my_approve.next_steps = [{
          step: nextSteps[0],
          users: next_user_ids
        }];
        return my_approve;
      }
    }
  }
};

InstanceManager.getBatchInstances = function (space, categoryId, flowIds, inbox_user) {
  var FIELDS, _batch_instances, categoryFlows, inbox_instances, query, unCategoryFlows;

  _batch_instances = new Array();
  query = {
    space: space,
    inbox_users: inbox_user
  };
  FIELDS = {
    name: 1,
    applicant_name: 1,
    submit_date: 1,
    flow_version: 1,
    "traces.step": 1,
    flow: 1
  };

  if (categoryId) {
    if (categoryId === '-1') {
      unCategoryFlows = flowManager.getUnCategoriesFlows(space, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: unCategoryFlows
      };
    } else {
      categoryFlows = flowManager.getCategoriesFlows(space, categoryId, {
        _id: 1
      }).fetch().getProperty("_id");
      query.flow = {
        $in: categoryFlows
      };
    }
  }

  if (flowIds) {
    query.flow = {
      $in: flowIds
    };
  }

  inbox_instances = db.instances.find(query, {
    fields: FIELDS,
    skip: 0,
    limit: 100
  });
  inbox_instances.forEach(function (ins) {
    var currentStep, currentStepId, flow;
    currentStepId = _.last(ins.traces).step;
    flow = db.flows.findOne({
      _id: ins.flow
    });
    currentStep = stepManager.getStep(ins, flow, currentStepId);

    if (stepManager.allowBatch(currentStep) && InstanceManager.getMyApprove(ins._id, inbox_user)) {
      delete ins.flow_version;
      delete ins.traces;
      delete ins.flow;
      return _batch_instances.push(ins);
    }
  });
  return _batch_instances;
};
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"publications":{"categories.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/categories.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('categories', function (spaceId) {
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.categories.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      space: 1,
      sort_no: 1,
      app: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"cfs_instances.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/cfs_instances.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('cfs_instances', function (instanceIds) {
  check(instanceIds, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceIds) {
    return this.ready();
  }

  return cfs.instances.find({
    'metadata.instance': {
      $in: instanceIds
    },
    $or: [{
      'metadata.is_private': {
        $ne: true
      }
    }, {
      'metadata.is_private': true,
      "metadata.owner": this.userId
    }]
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_positions', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_positions.find({
    space: spaceId
  }, {
    fields: {
      role: 1,
      users: 1,
      org: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_positions_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_positions_tabular.coffee                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publishComposite('flow_positions_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flow_positions.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (position) {
        this.unblock();
        return db.flow_roles.find({
          _id: position.role
        }, {
          fields: {
            name: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.organizations.find({
          _id: position.org
        }, {
          fields: {
            fullname: 1
          }
        });
      }
    }, {
      find: function (position) {
        this.unblock();
        return db.space_users.find({
          space: position.space,
          user: {
            $in: position.users
          }
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_roles.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_roles.coffee                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_roles', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.flow_roles.find({
    space: spaceId
  }, {
    fields: {
      name: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flows.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flows.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flows', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (db.flows.find({
    space: spaceId
  }).count() === 0) {
    db.spaces.createTemplateFormAndFlow(spaceId);
  }

  return db.flows.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      company_id: 1,
      sort_no: 1
    }
  });
});
Meteor.publish('flow_version', function (spaceId, flowId, versionId) {
  var getFlowVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFlowVersion = function (id, versionId) {
    var flow, flow_version;
    flow = db.flows.findOne({
      _id: id
    });

    if (flow) {
      flow_version = flow.current;
      flow_version.latest = true;

      if (flow_version._id !== versionId) {
        flow_version = flow.historys.findPropertyByPK("_id", versionId);
        flow_version.latest = false;
      }

      return flow_version;
    }
  };

  handle = db.flows.find({
    _id: flowId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("flow_versions", versionId, getFlowVersion(id, versionId));
    }
  });
  self.added("flow_versions", versionId, getFlowVersion(flowId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('distribute_optional_flows', function (flow_ids) {
  if (!this.userId) {
    return this.ready();
  }

  if (!flow_ids) {
    return this.ready();
  }

  return db.flows.find({
    _id: {
      $in: flow_ids
    }
  }, {
    fields: {
      name: 1,
      form: 1,
      state: 1,
      perms: 1,
      space: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      distribute_end_notification: 1,
      company_id: 1
    }
  });
});
Meteor.publish('flow', function (spaceId, flowId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!flowId) {
    return this.ready();
  }

  return db.flows.find({
    _id: flowId,
    space: spaceId
  }, {
    fields: {
      print_template: 1,
      instance_template: 1,
      events: 1,
      distribute_optional_users: 1,
      distribute_to_self: 1,
      upload_after_being_distributed: 1,
      distribute_end_notification: 1,
      company_id: 1,
      allow_select_step: 1
    }
  });
});
Meteor.publishComposite('flows_tabular', function (tableName, ids, fields) {
  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));

  if (!this.userId) {
    return this.ready();
  }

  this.unblock();
  return {
    find: function () {
      this.unblock();
      return db.flows.find({
        _id: {
          $in: ids
        }
      }, {
        fields: fields
      });
    },
    children: [{
      find: function (flow) {
        this.unblock();
        return db.space_users.find({
          space: flow.space,
          user: flow.current.modified_by
        }, {
          fields: {
            space: 1,
            user: 1,
            name: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.forms.find({
          space: flow.space,
          _id: flow.form
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1,
            category: 1
          }
        });
      }
    }, {
      find: function (flow) {
        this.unblock();
        return db.categories.find({
          space: flow.space
        }, {
          fields: {
            space: 1,
            _id: 1,
            name: 1
          }
        });
      }
    }]
  };
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"forms.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/forms.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('forms', function (spaceId) {
  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  return db.forms.find({
    space: spaceId
  }, {
    fields: {
      name: 1,
      category: 1,
      state: 1,
      description: 1,
      instance_style: 1
    }
  });
});
Meteor.publish('form_version', function (spaceId, formId, versionId) {
  var getFormVersion, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  if (!formId) {
    return this.ready();
  }

  if (!versionId) {
    return this.ready();
  }

  self = this;

  getFormVersion = function (id, versionId) {
    var form, form_version;
    form = db.forms.findOne({
      _id: id
    });

    if (!form) {
      return {};
    }

    form_version = form.current;
    form_version.latest = true;

    if (form_version._id !== versionId) {
      form_version = form.historys.findPropertyByPK("_id", versionId);
      form_version.latest = false;
    }

    return form_version;
  };

  handle = db.forms.find({
    _id: formId
  }, {
    fields: {
      _id: 1,
      "current.modified": 1
    }
  }).observeChanges({
    changed: function (id) {
      return self.changed("form_versions", versionId, getFormVersion(id, versionId));
    }
  });
  self.added("form_versions", versionId, getFormVersion(formId, versionId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_data.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_data.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instance_data', function (instanceId, box) {
  var getMiniInstance, getMyapproveModified, handle, instance, instance_fields_0, miniApproveFields, needChange, self, triggerChangeFields, triggerChangeFieldsValues;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;
  miniApproveFields = ['_id', 'is_finished', 'user', 'handler', 'handler_name', 'type', 'start_date', 'description', 'is_read', 'judge', 'finish_date', 'from_user_name', 'from_user', 'cc_description', 'auto_submitted'];
  triggerChangeFields = ['form_version', 'flow_version', 'related_instances', '_my_approve_read_dates'];
  triggerChangeFieldsValues = {};
  instance_fields_0 = {
    "record_synced": 0,
    "traces.approves.handler_organization_name": 0,
    "traces.approves.handler_organization": 0,
    "traces.approves.cost_time": 0,
    "traces.approves.is_error": 0,
    "traces.approves.deadline": 0,
    "traces.approves.remind_date": 0,
    "traces.approves.reminded_count": 0,
    "traces.approves.modified_by": 0,
    "traces.approves.modified": 0,
    "traces.approves.geolocation": 0,
    "traces.approves.cc_users": 0,
    "traces.approves.from_approve_id": 0,
    "traces.approves.values_history": 0
  };

  getMyapproveModified = function (traces) {
    var myApproveModifieds;
    myApproveModifieds = new Array();

    if (traces != null) {
      traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.user === self.userId || approve.handler === self.userId) {
            return myApproveModifieds.push(approve.read_date);
          }
        }) : void 0 : void 0;
      });
    }

    return myApproveModifieds;
  };

  getMiniInstance = function (_instanceId) {
    var instance, ref, ref1, show_modal_traces_list, traces;
    instance = db.instances.findOne({
      _id: _instanceId
    }, {
      fields: instance_fields_0
    });

    if (instance) {
      triggerChangeFields.forEach(function (key) {
        if (key === '_my_approve_read_dates') {
          return triggerChangeFieldsValues[key] = getMyapproveModified(instance.traces);
        } else {
          return triggerChangeFieldsValues[key] = instance[key];
        }
      });
      show_modal_traces_list = ((ref = db.space_settings.findOne({
        space: instance.space,
        key: "show_modal_traces_list"
      }, {
        fields: {
          values: 1
        }
      })) != null ? ref.values : void 0) || false;

      if (show_modal_traces_list) {
        traces = new Array();

        if (instance != null) {
          if ((ref1 = instance.traces) != null) {
            ref1.forEach(function (trace) {
              var _trace, approves, ref2;

              _trace = _.clone(trace);
              approves = new Array();

              if (trace != null) {
                if ((ref2 = trace.approves) != null) {
                  ref2.forEach(function (approve) {
                    if (approve.type !== 'cc' || approve.user === self.userId || approve.handler === self.userId || !_.isEmpty(approve.sign_field_code)) {
                      return approves.push(approve);
                    }
                  });
                }
              }

              _trace.approves = approves;
              return traces.push(_trace);
            });
          }
        }

        instance.traces = traces;
      }
    }

    return instance;
  };

  needChange = function (changeFields) {
    var _change, _rev;

    if (changeFields) {
      _change = false;
      _rev = _.find(triggerChangeFields, function (key) {
        var _key, _my_approve_modifieds;

        _key = key;

        if (key === '_my_approve_read_dates') {
          _key = 'traces';
        }

        if (_.has(changeFields, _key)) {
          if (key === '_my_approve_read_dates') {
            _my_approve_modifieds = getMyapproveModified(changeFields.traces);
            return !_.isEqual(triggerChangeFieldsValues[key], _my_approve_modifieds);
          } else {
            return !_.isEqual(triggerChangeFieldsValues[key], changeFields[key]);
          }
        }
      });

      if (_rev) {
        _change = true;
      }

      return _change;
    }

    return true;
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id, fields) {
      if (box !== 'inbox' || needChange(fields)) {
        return self.changed("instances", id, getMiniInstance(id));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  instance = getMiniInstance(instanceId);
  self.added("instances", instance != null ? instance._id : void 0, instance);
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
Meteor.publish('instance_traces', function (instanceId) {
  var getInstanceTraces, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  self = this;

  getInstanceTraces = function (_insId) {
    return db.instances.findOne({
      _id: _insId
    }, {
      fields: {
        _id: 1,
        traces: 1
      }
    });
  };

  handle = db.instances.find({
    _id: instanceId
  }).observeChanges({
    changed: function (id) {
      return self.changed("instance_traces", instanceId, getInstanceTraces(instanceId));
    }
  });
  self.added("instance_traces", instanceId, getInstanceTraces(instanceId));
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_list.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_list.coffee                                                  //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_list', function (spaceId, box, flowId) {
  var query;

  if (!this.userId) {
    return this.ready();
  }

  if (!spaceId) {
    return this.ready();
  }

  query = {
    space: spaceId
  };

  if (box === "inbox") {
    query.inbox_users = this.userId;
  } else if (box === "outbox") {
    query.outbox_users = this.userId;
  } else if (box === "draft") {
    query.submitter = this.userId;
    query.state = "draft";
  } else if (box === "pending") {
    query.submitter = this.userId;
    query.state = "pending";
  } else if (box === "completed") {
    query.submitter = this.userId;
    query.state = "completed";
  } else if (box === "monitor") {
    query.flow = flowId;
    query.state = {
      $in: ["pending", "completed"]
    };
  } else {
    query.state = "none";
  }

  return db.instances.find(query, {
    fields: {
      name: 1,
      created: 1,
      form: 1,
      flow: 1,
      space: 1,
      modified: 1,
      applicant: 1,
      is_archived: 1,
      form_version: 1,
      flow_version: 1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_tabular.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var asyncLastFinishedApprove, lastFinishedApproveAggregate;

lastFinishedApproveAggregate = function (instanceid, userId, dataMap, callback) {
  var operation;
  operation = [{
    "$match": {
      "_id": instanceid
    }
  }, {
    "$project": {
      "name": 1,
      "_approve": "$traces.approves"
    }
  }, {
    "$unwind": "$_approve"
  }, {
    "$unwind": "$_approve"
  }, {
    "$match": {
      "_approve.is_finished": true,
      $or: [{
        "_approve.handler": userId
      }, {
        "_approve.user": userId
      }]
    }
  }, {
    "$group": {
      "_id": "$_id",
      "finish_date": {
        "$last": "$_approve.finish_date"
      }
    }
  }];
  return db.instances.rawCollection().aggregate(operation).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return dataMap.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

asyncLastFinishedApprove = Meteor.wrapAsync(lastFinishedApproveAggregate);
Meteor.publish("instance_tabular", function (tableName, ids, fields) {
  var getMyApprove, getMyLastFinishedApprove, getStepCurrentName, handle, self;

  if (!this.userId) {
    return this.ready();
  }

  check(tableName, String);
  check(ids, Array);
  check(fields, Match.Optional(Object));
  fields.cc_users = 1;
  self = this;

  getMyLastFinishedApprove = function (userId, instanceId) {
    var data;
    data = [];
    asyncLastFinishedApprove(instanceId, userId, data);

    if (data.length > 0) {
      return data[0];
    }
  };

  getMyApprove = function (userId, instanceId) {
    var approve, approves, instance, is_read, myApprove, notFinishedTraces;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        traces: 1
      }
    });
    myApprove = null;

    if (!instance) {
      return;
    }

    if (!instance.traces || instance.traces.length < 1) {
      return;
    }

    notFinishedTraces = instance.traces.filterProperty("is_finished", false);

    if (notFinishedTraces.length > 0) {
      approves = notFinishedTraces[0].approves.filterProperty("is_finished", false).filterProperty("handler", userId);

      if (approves.length > 0) {
        approve = approves[0];
        myApprove = {
          id: approve._id,
          instance: approve.instance,
          trace: approve.trace,
          is_read: approve.is_read,
          start_date: approve.start_date,
          agent: approve.agent,
          user_name: approve.user_name
        };
      }
    }

    if (!myApprove) {
      is_read = false;
      instance.traces.forEach(function (trace) {
        var ref;
        return trace != null ? (ref = trace.approves) != null ? ref.forEach(function (approve) {
          if (approve.type === 'cc' && approve.user === userId && approve.is_finished === false) {
            if (approve.is_read) {
              is_read = true;
            }

            return myApprove = {
              id: approve._id,
              is_read: is_read,
              start_date: approve.start_date,
              agent: approve.agent,
              user_name: approve.user_name
            };
          }
        }) : void 0 : void 0;
      });
    }

    return myApprove;
  };

  getStepCurrentName = function (instanceId) {
    var instance, ref, ref1, stepCurrentName;
    instance = db.instances.findOne({
      _id: instanceId
    }, {
      fields: {
        "traces.name": 1,
        "traces": {
          $slice: -1
        }
      }
    });

    if (instance) {
      stepCurrentName = (ref = instance.traces) != null ? (ref1 = ref[0]) != null ? ref1.name : void 0 : void 0;
    }

    return stepCurrentName;
  };

  handle = db.instances.find({
    _id: {
      $in: ids
    }
  }, {
    fields: {
      traces: 0
    }
  }).observeChanges({
    changed: function (id) {
      var error, instance, myApprove, myLastFinishedApprove, ref, ref1;
      instance = db.instances.findOne({
        _id: id
      }, {
        fields: fields
      });

      if (!instance) {
        return;
      }

      myApprove = getMyApprove(self.userId, id);
      myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

      if (myApprove) {
        instance.is_read = myApprove.is_read;
        instance.start_date = myApprove.start_date;

        if (myApprove.agent) {
          instance.agent_user_name = myApprove.user_name;
        }
      } else {
        instance.is_read = true;
      }

      if (myLastFinishedApprove) {
        instance.my_finish_date = myLastFinishedApprove.finish_date;
      }

      instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
      instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
      delete instance.cc_users;

      try {
        return self.changed("instances", id, instance);
      } catch (error1) {
        error = error1;
        console.log('instance observeChanges error: ', error.message);
        console.log('self.userId: ', self.userId);
        console.log('tableName: ', tableName);
        console.log('ids: ', JSON.stringify(ids));
        return console.log('myApprove: ', JSON.stringify(myApprove));
      }
    },
    removed: function (id) {
      return self.removed("instances", id);
    }
  });
  ids.forEach(function (id) {
    var instance, myApprove, myLastFinishedApprove, ref, ref1;
    instance = db.instances.findOne({
      _id: id
    }, {
      fields: fields
    });

    if (!instance) {
      return;
    }

    myApprove = getMyApprove(self.userId, id);
    myLastFinishedApprove = getMyLastFinishedApprove(self.userId, id);

    if (myApprove) {
      instance.is_read = myApprove.is_read;
      instance.start_date = myApprove.start_date;

      if (myApprove.agent) {
        instance.agent_user_name = myApprove.user_name;
      }
    } else {
      instance.is_read = true;
    }

    if (myLastFinishedApprove) {
      instance.my_finish_date = myLastFinishedApprove.finish_date;
    }

    instance.is_cc = ((ref = instance.cc_users) != null ? ref.includes(self.userId) : void 0) || false;
    instance.cc_count = ((ref1 = instance.cc_users) != null ? ref1.length : void 0) || 0;
    delete instance.cc_users;
    return self.added("instances", id, instance);
  });
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"instance_draft.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/instance_draft.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('instances_draft', function (spaceId) {
  var userId;
  check(spaceId, String);

  if (!this.userId) {
    return this.ready();
  }

  userId = this.userId;
  return db.instances.find({
    state: "draft",
    space: spaceId,
    submitter: userId,
    $or: [{
      inbox_users: {
        $exists: false
      }
    }, {
      inbox_users: []
    }]
  }, {
    fields: {
      _id: 1,
      state: 1,
      space: 1,
      submitter: 1,
      inbox_users: 1,
      modified: 1,
      name: 1
    },
    sort: {
      modified: -1
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"distributed_instances_state_by_ids.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/distributed_instances_state_by_ids.coffee                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('distributed_instances_state_by_ids', function (instance_ids) {
  var handle, self;
  check(instance_ids, Array);

  if (!this.userId) {
    return this.ready();
  }

  if (!instance_ids) {
    return this.ready();
  }

  if (_.isEmpty(instance_ids)) {
    return this.ready();
  }

  self = this;
  handle = db.instances.find({
    _id: {
      $in: instance_ids
    }
  }, {
    fields: {
      state: 1,
      traces: {
        $slice: 1
      }
    }
  }).observeChanges({
    added: function (id, fields) {
      return self.added('instances', id, {
        state: fields.state,
        is_read: fields.traces[0].approves[0].is_read
      });
    },
    changed: function (id, fields) {
      if (fields.state) {
        self.changed('instances', id, {
          state: fields.state
        });
      }

      if (fields.traces) {
        return self.changed('instances', id, {
          is_read: fields.traces[0].approves[0].is_read
        });
      }
    }
  });
  this.ready();
  return this.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"related_instaces.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/related_instaces.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('related_instaces', function (instanceId, related_instances) {
  var ref, related_instance_ids;

  if (!this.userId) {
    return this.ready();
  }

  if (!instanceId) {
    return this.ready();
  }

  related_instance_ids = (ref = db.instances.findOne(instanceId, {
    fields: {
      related_instances: 1
    }
  })) != null ? ref.related_instances : void 0;

  if (related_instance_ids && _.isArray(related_instance_ids)) {
    return db.instances.find({
      _id: {
        $in: related_instance_ids
      }
    }, {
      fields: {
        _id: 1,
        name: 1,
        space: 1
      }
    });
  } else {
    return this.ready();
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"space_user_signs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/space_user_signs.coffee                                               //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isServer) {
  Meteor.publish('space_user_signs', function (spaceId) {
    check(spaceId, String);

    if (!this.userId) {
      return this.ready();
    }

    return db.space_user_signs.find({
      space: spaceId
    }, {
      fields: {
        created_by: 0,
        created: 0,
        modified_by: 0
      }
    });
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"user_inbox_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/user_inbox_instance.coffee                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Meteor.publishComposite "user_inbox_instance", ()->
	unless this.userId
		return this.ready()

	userSpaceIds = db.space_users.find({
		user: this.userId,
		user_accepted: true
	}, {fields: {space: 1}}).fetch().getEach("space");
	query = {space: {$in: userSpaceIds}}

	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]

	find: ->
		db.instances.find(query, {
			fields: {
				space: 1,
				applicant_name: 1,
				flow: 1,
				inbox_users: 1,
				cc_users: 1,
				state: 1,
				name: 1,
				modified: 1,
				form: 1
			}, sort: {modified: -1}, skip: 0, limit: 200
		});
	children: [
		{
			find: (instance, post)->
				db.flows.find({_id: instance.flow}, {fields: {name: 1, space: 1}});
		}
	]
 */ /*
    Meteor.publish 'my_inbox_instances', (spaceId)->
    	unless this.userId
    		return this.ready()
    
    	self = this;
    
    	 *	userSpaceIds = db.space_users.find({
    	 *		user: this.userId,
    	 *		user_accepted: true
    	 *	}, {fields: {space: 1}}).fetch().getEach("space");
    
    	query = {space: spaceId}
    
    	query.$or = [{inbox_users: this.userId}, {cc_users: this.userId}]
    
    	fields = {
    		space: 1,
     *		applicant_name: 1,
    		flow: 1,
    		inbox_users: 1,
    		cc_users: 1,
    		state: 1,
     *		name: 1,
     *		modified: 1,
    		form: 1
    	}
    
    	handle = db.instances.find(query, {sort: {modified: -1}, skip: 0, limit: 500}).observeChanges {
    		added: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.added("instances", id, instance)
    		changed: (id)->
    			instance = db.instances.findOne({_id: id}, {fields: fields})
    			return if not instance
    			instance.is_cc = instance.cc_users?.includes(self.userId) || false
    			delete instance.cc_users
    			self.changed("instances", id, instance);
    		removed: (id)->
    			self.removed("instances", id);
    	}
    
    	self.ready();
    	self.onStop ()->
    		handle.stop()
     */var _async_get_flow_instances_aggregate, _get_flow_instances_aggregate;

_get_flow_instances_aggregate = function (spaceId, userId, _items, callback) {
  return db.instances.rawCollection().aggregate([{
    $match: {
      space: spaceId,
      $or: [{
        inbox_users: userId
      }, {
        cc_users: userId
      }]
    }
  }, {
    $group: {
      _id: {
        flow: "$flow",
        category: "$category"
      },
      count: {
        $sum: 1
      }
    }
  }]).toArray(function (err, data) {
    if (err) {
      throw new Error(err);
    }

    data.forEach(function (doc) {
      return _items.push(doc);
    });

    if (callback && _.isFunction(callback)) {
      callback();
    }
  });
};

_async_get_flow_instances_aggregate = Meteor.wrapAsync(_get_flow_instances_aggregate);
Meteor.publish('my_inbox_flow_instances_count', function (spaceId) {
  var _changeData, _flowsData, _init, data, handle, query, self;

  if (!this.userId) {
    return this.ready();
  }

  self = this;
  query = {
    space: spaceId
  };
  query.$or = [{
    inbox_users: this.userId
  }, {
    cc_users: this.userId
  }];
  data = [];

  _async_get_flow_instances_aggregate(spaceId, self.userId, data);

  _flowsData = [];

  _.each(data, function (dataItem) {
    return _flowsData.push({
      _id: dataItem._id.flow,
      category: dataItem._id.category,
      count: dataItem.count
    });
  });

  self.added("flow_instances", spaceId, {
    flows: _flowsData
  });

  _changeData = function (doc, action) {
    var flow_instance;
    flow_instance = _.find(_flowsData, function (f) {
      return f._id === doc.flow;
    });

    if (flow_instance) {
      if (action === "added") {
        flow_instance.count++;
      } else if (action === "removed") {
        flow_instance.count--;
      }
    } else if (action === "added") {
      _flowsData.push({
        _id: doc.flow,
        category: doc.category,
        count: 1
      });
    }

    return self.changed("flow_instances", spaceId, {
      flows: _flowsData
    });
  };

  _init = true;
  handle = db.instances.find(query, {
    fields: {
      _id: 1,
      inbox_users: 1,
      cc_users: 1,
      flow: 1,
      category: 1
    }
  }).observe({
    added: function (doc) {
      if (!_init) {
        return _changeData(doc, "added");
      }
    },
    removed: function (doc) {
      if (!_init) {
        return _changeData(doc, "removed");
      }
    }
  });
  _init = false;
  self.ready();
  return self.onStop(function () {
    return handle.stop();
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"flow_main_attach_template.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/publications/flow_main_attach_template.coffee                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.publish('flow_main_attach_template', function (spaceId, flowId) {
  check(spaceId, String);
  check(flowId, String);

  if (!this.userId) {
    return this.ready();
  }

  if (!(spaceId && flowId)) {
    return this.ready();
  }

  return Creator.getCollection('cms_files').find({
    space: spaceId,
    'parent.o': 'flows',
    'parent.ids': flowId,
    name: '正文.docx'
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"flow-template":{"workflow_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/flow-template/workflow_template.coffee                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
workflowTemplate = {};
workflowTemplate["en"] = [];
workflowTemplate["zh-CN"] = [];
Meteor.startup(function () {
  var absolute_path_cn, absolute_path_us, filesList_cn, filesList_us, fs, mime, path, path_cn, path_us, readFileList, ref, ref1;
  fs = require('fs');
  path = require('path');
  mime = require('mime');

  readFileList = function (pathDir, filesList) {
    var files;
    files = fs.readdirSync(pathDir);
    return files.forEach(function (name, index) {
      var obj, stat;
      stat = fs.statSync(path.join(pathDir, name));

      if (stat.isDirectory()) {
        return readFileList(path.join(pathDir, name), filesList);
      } else {
        obj = {};
        obj.path = pathDir;
        obj.name = name;
        return filesList.push(obj);
      }
    });
  };

  filesList_cn = [];
  path_cn = (ref = Meteor.settings.workflowTemplates) != null ? ref.path_cn : void 0;

  if (path_cn) {
    absolute_path_cn = path.resolve(path_cn);
    console.log("absolute_path_cn", absolute_path_cn);

    if (fs.existsSync(absolute_path_cn)) {
      readFileList(absolute_path_cn, filesList_cn);
      filesList_cn.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["zh-CN"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取zh-cn文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }

  filesList_us = [];
  path_us = (ref1 = Meteor.settings.workflowTemplates) != null ? ref1.path_us : void 0;

  if (path_us) {
    absolute_path_us = path.resolve(path_us);
    console.log("absolute_path_us", absolute_path_us);

    if (fs.existsSync(absolute_path_us)) {
      readFileList(absolute_path_us, filesList_us);
      return filesList_us.forEach(function (file) {
        var data, e;

        try {
          if (mime.getType(file.name) === "application/json") {
            data = fs.readFileSync(path.join(file.path, file.name), 'utf8');
            return workflowTemplate["en"].push(JSON.parse(data));
          }
        } catch (error) {
          e = error;
          console.error("获取en-us文件夹下的所有文件", path.join(file.path, file.name));
          return console.error(e.stack);
        }
      });
    }
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/startup.coffee                                                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"schedule":{"auto_finish_process_delegation.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/auto_finish_process_delegation.coffee                                     //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.auto_finish_process_delegation : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.auto_finish_process_delegation;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e, now;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('auto_finish_process_delegation');
        now = new Date();
        db.process_delegation_rules.update({
          enabled: true,
          end_time: {
            $lte: now
          }
        }, {
          $set: {
            enabled: false
          }
        }, {
          multi: true
        });
        console.timeEnd('auto_finish_process_delegation');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO AUTO_FINISH_PROCESS_DELEGATION ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"timeout_auto_submit.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/server/schedule/timeout_auto_submit.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
*    *    *    *    *    *
┬    ┬    ┬    ┬    ┬    ┬
│    │    │    │    │    |
│    │    │    │    │    └ day of week (0 - 7) (0 or 7 is Sun)
│    │    │    │    └───── month (1 - 12)
│    │    │    └────────── day of month (1 - 31)
│    │    └─────────────── hour (0 - 23)
│    └──────────────────── minute (0 - 59)
└───────────────────────── second (0 - 59, OPTIONAL)
 */Meteor.startup(function () {
  var go_next, ref, rule, schedule;

  if ((ref = Meteor.settings.cron) != null ? ref.timeout_auto_submit : void 0) {
    schedule = require('node-schedule');
    rule = Meteor.settings.cron.timeout_auto_submit;
    go_next = true;
    return schedule.scheduleJob(rule, Meteor.bindEnvironment(function () {
      var e;

      try {
        if (!go_next) {
          return;
        }

        go_next = false;
        console.time('timeout_auto_submit');
        uuflowManager.timeoutAutoSubmit();
        console.timeEnd('timeout_auto_submit');
        return go_next = true;
      } catch (error) {
        e = error;
        console.error("AUTO TIMEOUT_AUTO_SUBMIT ERROR: ");
        console.error(e.stack);
        return go_next = true;
      }
    }, function () {
      return console.log('Failed to bind environment');
    }));
  }
});
Meteor.methods({
  timeout_auto_submit: function (ins_id) {
    uuflowManager.timeoutAutoSubmit(ins_id);
    return true;
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}},"routes":{"nextStepUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/nextStepUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/nextStepUsers", function (req, res, next) {
  var deal_type = req.query.deal_type,
      spaceId = req.query.spaceId,
      error = "";

  if (!deal_type || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var body = req.body,
      nextStepUsers = [];

  switch (deal_type) {
    case 'specifyUser':
      var specifyUserIds = body.specifyUserIds;
      nextStepUsers = WorkflowManager.getUsers(spaceId, specifyUserIds);
      break;

    case 'applicantRole':
      var applicantId = body.applicantId,
          approveRoleIds = body.approveRoleIds;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);
      if (applicant) nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, applicant.organizations, approveRoleIds);
      break;

    case 'hrRole':
      var approveHrRoleIds = body.approveHrRoleIds;
      if (approveHrRoleIds) nextStepUsers = WorkflowManager.getHrRolesUsers(spaceId, approveHrRoleIds);
      break;

    case 'applicantSuperior':
      var applicantId = body.applicantId;
      var applicant = WorkflowManager.getUser(spaceId, applicantId);

      if (applicant.manager) {
        nextStepUsers = WorkflowManager.getUsers(spaceId, applicant.manager);
      }

      break;

    case 'applicant':
      var applicantId = body.applicantId;
      nextStepUsers = WorkflowManager.getUsers(spaceId, applicantId);
      break;

    case 'userField':
      var userField = body.userField,
          userFieldValue = body.userFieldValue;

      if (userField.is_multiselect) {
        //如果多选，以userFieldValue值为Array
        nextStepUsers = WorkflowManager.getUsers(spaceId, userFieldValue);
      } else {
        nextStepUsers.push(WorkflowManager.getUser(spaceId, userFieldValue));
      }

      break;

    case 'orgField':
      var orgs,
          orgChildrens,
          orgField = body.orgField,
          orgFieldValue = body.orgFieldValue;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          orgs = WorkflowManager.getOrganizations(orgFieldValue);
          orgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, orgFieldValue);
        } else {
          orgs = [WorkflowManager.getOrganization(orgFieldValue)];
          orgChildrens = WorkflowManager.getOrganizationChildrens(spaceId, orgFieldValue);
        }

        nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgChildrens);
        orgFieldUsers = WorkflowManager.getOrganizationsUsers(spaceId, orgs);
        nextStepUsers = nextStepUsers.concat(orgFieldUsers);

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ORG_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'specifyOrg':
      var specifyOrgIds = body.specifyOrgIds;
      var specifyOrgs = WorkflowManager.getOrganizations(specifyOrgIds);
      var specifyOrgChildrens = WorkflowManager.getOrganizationsChildrens(spaceId, specifyOrgIds);
      nextStepUsers = WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgs);
      nextStepUsers = nextStepUsers.concat(WorkflowManager.getOrganizationsUsers(spaceId, specifyOrgChildrens));
      break;

    case 'userFieldRole':
      var userField = body.userField,
          userFieldValue = body.userFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (userFieldValue) {
        if (userField.is_multiselect) {
          //如果多选，以userFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, userFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByUsersAndRoles(spaceId, [userFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    case 'orgFieldRole':
      var orgField = body.orgField,
          orgFieldValue = body.orgFieldValue,
          approverRoleIds = body.approverRoleIds;

      if (orgFieldValue) {
        if (orgField.is_multiselect) {
          //如果多选，以orgFieldValue值为Array
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, orgFieldValue, approverRoleIds);
        } else {
          nextStepUsers = WorkflowManager.getRoleUsersByOrgsAndRoles(spaceId, [orgFieldValue], approverRoleIds);
        }

        if (!nextStepUsers || nextStepUsers.length < 1) {
          error = "ROLE_NO_MEMBERS";
        }
      } else {
        error = "FIELD_VALUE_EMPTY";
      }

      break;

    default:
      break;
  }

  var result = [];
  nextStepUsers.forEach(function (su) {
    var o = {
      id: su.id,
      name: su.name
    };
    result.push(o);
  });
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'nextStepUsers': WorkflowManager.uniqUsers(result),
      'error': error
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getSpaceUsers.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getSpaceUsers.js                                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getSpaceUsers", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getUsers(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getFormulaUserObjects.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getFormulaUserObjects.js                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/getFormulaUserObjects", function (req, res, next) {
  var userIds = req.body.userIds,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!userIds || !spaceId) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  var users = WorkflowManager.getFormulaUserObject(spaceId, userIds);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': users
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"init_formula_values.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/init_formula_values.js                                                             //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add("post", "/api/workflow/init_formula_values", function (req, res, next) {
  var fields = req.body.fields,
      autoFormDoc = req.body.autoFormDoc,
      approver = req.body.approver,
      applicant = req.body.applicant,
      spaceId = req.query.spaceId,
      spaceUsers = [];

  if (!fields || !spaceId || !autoFormDoc || !approver || !applicant) {
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
    return;
  }

  formula_values = Form_formula.init_formula_values(fields, autoFormDoc, approver, applicant, spaceId);
  JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'formula_values': formula_values
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"getNameForUser.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/getNameForUser.coffee                                                              //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/getNameForUser", function (req, res, next) {
  var e, user, userId;

  try {
    userId = req.body.userId;

    if (!userId) {
      JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'errors': '缺少参数'
        }
      });
    }

    user = WorkflowManager.getNameForUser(userId);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        user: user
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_designer_startup.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_designer_startup.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/designer/startup', function (req, res, next) {
  var categories, companyId, current_user, current_user_info, e, flows, forms, org, organizations, positions, query, ref, result, roles, spaceIds, spaceUsers, spaces, spacesQuery, userIds, users;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    companyId = ((ref = req.query) != null ? ref.companyId : void 0) || '';
    spacesQuery = {
      admins: current_user
    };

    if (companyId) {
      org = db.organizations.findOne(companyId, {
        fields: {
          space: 1
        }
      });

      if (!org) {
        throw new Meteor.Error('error', 'companyId is invalid');
      }

      spacesQuery = {
        _id: org.space
      };
    }

    spaces = db.spaces.find(spacesQuery).fetch();
    spaceIds = _.pluck(spaces, '_id');
    query = {
      space: {
        $in: spaceIds
      }
    };

    if (companyId) {
      query.company_id = companyId;
    }

    spaceUsers = db.space_users.find(query).fetch();
    forms = db.forms.find(query, {
      fields: {
        name: 1,
        state: 1,
        is_deleted: 1,
        is_valid: 1,
        space: 1,
        description: 1,
        help_text: 1,
        created: 1,
        created_by: 1,
        current: 1,
        category: 1,
        instance_style: 1,
        company_id: 1
      }
    }).fetch();
    flows = db.flows.find(query, {
      fields: {
        name: 1,
        name_formula: 1,
        code_formula: 1,
        space: 1,
        description: 1,
        is_valid: 1,
        form: 1,
        flowtype: 1,
        state: 1,
        is_deleted: 1,
        created: 1,
        created_by: 1,
        help_text: 1,
        current_no: 1,
        current: 1,
        perms: 1,
        error_message: 1,
        distribute_optional_users: 1,
        company_id: 1
      }
    }).fetch();
    roles = db.flow_roles.find(query).fetch();
    organizations = db.organizations.find(query).fetch();
    positions = db.flow_positions.find(query).fetch();
    categories = db.categories.find({
      space: {
        $in: spaceIds
      }
    }).fetch();
    userIds = _.pluck(spaceUsers, 'user');
    users = db.users.find({
      _id: {
        $in: userIds
      }
    }, {
      fields: {
        name: 1
      }
    }).fetch();
    result = {};
    result.SpaceUsers = spaceUsers;
    result.Users = users;
    result.Forms = forms;
    result.Flows = flows;
    result.Organizations = organizations;
    result.Positions = positions;
    result.Roles = roles;
    result.Categories = categories;
    result.Spaces = spaces;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: result
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_engine.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_engine.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/engine', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Approvals'], function (approve_from_client) {
      return uuflowManager.workflow_engine(approve_from_client, current_user_info, current_user);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_drafts.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/drafts', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var new_ins, new_ins_id;
      new_ins_id = uuflowManager.create_instance(instance_from_client, current_user_info);
      new_ins = db.instances.findOne({
        _id: new_ins_id
      }, {
        fields: {
          space: 1,
          flow: 1,
          flow_version: 1,
          form: 1,
          form_version: 1
        }
      });
      return inserted_instances.push(new_ins);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_remove.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_remove.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/remove', function (req, res, next) {
  var current_user, current_user_info, e, hashData, inserted_instances;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    inserted_instances = new Array();

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, delete_obj, flow, inbox_users, instance, space, spaceUserOrganizations, space_id, space_user, user_ids;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      flow = db.flows.findOne({
        _id: instance.flow
      });
      spaceUserOrganizations = db.organizations.find({
        _id: {
          $in: space_user.organizations
        }
      }).fetch();

      if (instance.submitter !== current_user && !space.admins.includes(current_user) && !WorkflowManager.canAdmin(flow, space_user, spaceUserOrganizations)) {
        throw new Meteor.Error('error!', "您不能删除此申请单。");
      }

      delete_obj = db.instances.findOne(instance_from_client["_id"]);
      delete_obj.deleted = new Date();
      delete_obj.deleted_by = current_user;
      db.deleted_instances.insert(delete_obj);
      db.instances.remove(instance_from_client["_id"]);

      if (delete_obj.state !== "draft") {
        inbox_users = delete_obj.inbox_users ? delete_obj.inbox_users : [];
        cc_users = delete_obj.cc_users ? delete_obj.cc_users : [];
        user_ids = _.uniq(inbox_users.concat(cc_users));

        _.each(user_ids, function (u_id) {
          return pushManager.send_message_to_specifyUser("terminate_approval", u_id);
        });

        return pushManager.send_instance_notification("monitor_delete_applicant", delete_obj, "", current_user_info);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        inserts: inserted_instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_submit.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/submit', function (req, res, next) {
  var current_user, current_user_info, e, hashData, result;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;
    result = [];

    _.each(hashData['Instances'], function (instance_from_client) {
      var current_approve, flow_id, instance, r;
      r = uuflowManager.submit_instance(instance_from_client, current_user_info);

      if (r.alerts) {
        result.push(r);
      }

      if (!_.isEmpty(instance_from_client['inbox_users'])) {
        pushManager.send_message_to_specifyUser("current_user", current_user);
      }

      if (_.isEmpty(r.alerts)) {
        instance = db.instances.findOne(instance_from_client._id);
        flow_id = instance.flow;
        current_approve = instance_from_client.traces[0].approves[0];
        pushManager.triggerWebhook(flow_id, instance, current_approve, 'draft_submit', current_user, instance.inbox_users);
      }

      return uuflowManager.distributedInstancesRemind(instance_from_client);
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        result: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_terminate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_terminate.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/terminate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var flow, flow_id, flow_ver_end_step, flow_vers, h, i, ins, instance, instance_flow_ver, instance_id, instance_trace, newApprove, newTrace, now, old_cc_users, old_inbox_users, old_outbox_users, permissions, r, setObj, space, space_id, space_user, space_user_org_info, tempUsers, terminate_reason, traces;
      terminate_reason = instance_from_client["terminate_reason"];
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      flow_id = instance.flow;
      space = uuflowManager.getSpace(space_id);
      flow = uuflowManager.getFlow(flow_id);
      uuflowManager.isInstancePending(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_flow_ver = null;
      flow_ver_end_step = null;
      flow_vers = new Array();
      flow_vers.push(flow.current);
      flow_vers = flow_vers.concat(flow.historys);
      instance_flow_ver = _.find(flow_vers, function (f_ver) {
        return f_ver._id === instance.flow_version;
      });

      if (!instance_flow_ver) {
        throw new Meteor.Error('error!', "未找到申请单对应流程版本");
      }

      flow_ver_end_step = _.find(instance_flow_ver.steps, function (f_step) {
        return f_step.step_type === "end";
      });
      permissions = permissionManager.getFlowPermissions(flow_id, current_user);
      now = new Date();
      setObj = new Object();

      if (permissions.includes("admin") || space.admins.includes(current_user) || instance.submitter === current_user || instance.applicant === current_user) {
        if (!terminate_reason) {
          throw new Meteor.Error('error!', "还未填写强制结束申请单的理由，操作失败");
        }

        instance_trace = _.find(instance.traces, function (trace) {
          return trace.is_finished === false;
        });
        traces = instance.traces;
        i = 0;

        while (i < traces.length) {
          if (traces[i].is_finished === false) {
            traces[i].is_finished = true;
            traces[i].finish_date = now;
            h = 0;

            while (h < traces[i].approves.length) {
              if (traces[i].approves[h].is_finished === false) {
                traces[i].approves[h].is_finished = true;
                traces[i].approves[h].finish_date = now;
                traces[i].approves[h].judge = null;
                traces[i].approves[h].description = null;
              }

              h++;
            }

            newApprove = new Object();
            newApprove._id = new Mongo.ObjectID()._str;
            newApprove.instance = instance_id;
            newApprove.trace = instance_trace._id;
            newApprove.is_finished = true;
            newApprove.user = current_user;
            newApprove.user_name = current_user_info.name;
            newApprove.handler = current_user;
            newApprove.handler_name = current_user_info.name;
            newApprove.handler_organization = space_user_org_info["organization"];
            newApprove.handler_organization_name = space_user_org_info["organization_name"];
            newApprove.handler_organization_fullname = space_user_org_info["organization_fullname"];
            newApprove.start_date = now;
            newApprove.finish_date = now;
            newApprove.due_date = instance_trace.due_date;
            newApprove.read_date = now;
            newApprove.judge = "terminated";
            newApprove.is_read = true;
            newApprove.description = terminate_reason;
            newApprove.is_error = false;
            newApprove.values = new Object();
            newApprove.cost_time = newApprove.finish_date - newApprove.start_date;
            traces[i].approves.push(newApprove);
          }

          i++;
        }

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [instance_trace._id];
        newTrace.is_finished = true;
        newTrace.step = flow_ver_end_step._id;
        newTrace.name = flow_ver_end_step.name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.judge = "terminated";
        setObj.state = "completed";
        setObj.final_decision = "terminated";
        old_inbox_users = instance.inbox_users;
        old_cc_users = instance.cc_users || [];
        old_outbox_users = instance.outbox_users;
        tempUsers = new Array();

        _.each(instance_trace.approves, function (nft_approve) {
          tempUsers.push(nft_approve.user);
          return tempUsers.push(nft_approve.handler);
        });

        setObj.outbox_users = _.uniq(instance.outbox_users.concat(tempUsers));
        setObj.inbox_users = new Array();
        setObj.cc_users = new Array();
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.current_step_name = flow_ver_end_step.name;
        setObj.current_step_auto_submit = false;
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          ins = uuflowManager.getInstance(instance_id);
          pushManager.send_instance_notification("submit_terminate_applicant", ins, terminate_reason, current_user_info);

          if (old_inbox_users) {
            _.each(_.uniq(old_inbox_users.concat(old_cc_users)), function (user_id) {
              return pushManager.send_message_to_specifyUser("terminate_approval", user_id);
            });
          }

          return pushManager.triggerWebhook(ins.flow, ins, {}, 'terminate', current_user, []);
        }
      }
    });

    pushManager.send_message_current_user(current_user_info);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_reassign.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_reassign.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/reassign', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, approve_users_handlers, assignee_appr, current_space_user, current_user_organization, i, inbox_users, inbox_users_from_client, ins, instance, instance_id, last_trace, last_trace_from_client, new_inbox_users, not_in_inbox_users, now, permissions, r, reassign_reason, setObj, space, space_id;

      instance_id = instance_from_client['_id'];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      uuflowManager.isInstancePending(instance);
      last_trace_from_client = _.last(instance_from_client["traces"]);
      last_trace = _.find(instance.traces, function (t) {
        return t._id === last_trace_from_client["_id"];
      });

      if (last_trace.is_finished === true) {
        return;
      }

      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne({
        _id: space_id
      }, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      inbox_users = instance.inbox_users;
      inbox_users_from_client = instance_from_client["inbox_users"];
      reassign_reason = instance_from_client["reassign_reason"];
      not_in_inbox_users = _.difference(inbox_users, inbox_users_from_client);
      new_inbox_users = _.difference(inbox_users_from_client, inbox_users);

      if (not_in_inbox_users.length === 0 && new_inbox_users.length === 0) {
        return;
      }

      setObj = new Object();
      now = new Date();
      i = 0;
      approve_users_handlers = [];

      while (i < last_trace.approves.length) {
        if (not_in_inbox_users.includes(last_trace.approves[i].handler)) {
          if (last_trace.approves[i].is_finished === false && last_trace.approves[i].type !== "cc" && last_trace.approves[i].type !== "distribute") {
            last_trace.approves[i].is_finished = true;
            last_trace.approves[i].finish_date = now;
            last_trace.approves[i].judge = "terminated";
            last_trace.approves[i].description = "";
            last_trace.approves[i].cost_time = last_trace.approves[i].finish_date - last_trace.approves[i].start_date;
            approve_users_handlers.push(last_trace.approves[i].user);
            approve_users_handlers.push(last_trace.approves[i].handler);
          }
        }

        i++;
      }

      current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
      current_user_organization = db.organizations.findOne({
        _id: current_space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      assignee_appr = new Object();
      assignee_appr._id = new Mongo.ObjectID()._str;
      assignee_appr.instance = last_trace.instance;
      assignee_appr.trace = last_trace._id;
      assignee_appr.is_finished = true;
      assignee_appr.user = current_user;
      assignee_appr.user_name = current_user_info.name;
      assignee_appr.handler = current_user;
      assignee_appr.handler_name = current_user_info.name;
      assignee_appr.handler_organization = current_space_user.organization;
      assignee_appr.handler_organization_name = current_user_organization.name;
      assignee_appr.handler_organization_fullname = current_user_organization.fullname;
      assignee_appr.start_date = now;
      assignee_appr.finish_date = now;
      assignee_appr.due_date = last_trace.due_date;
      assignee_appr.read_date = now;
      assignee_appr.judge = "reassigned";
      assignee_appr.is_read = true;
      assignee_appr.description = reassign_reason;
      assignee_appr.is_error = false;
      assignee_appr.values = new Object();
      assignee_appr.cost_time = assignee_appr.finish_date - assignee_appr.start_date;
      last_trace.approves.push(assignee_appr);

      _.each(new_inbox_users, function (user_id) {
        var agent, handler_id, handler_info, new_appr, new_user, space_user, user_organization;
        new_user = db.users.findOne(user_id, {
          fields: {
            name: 1
          }
        });
        space_user = uuflowManager.getSpaceUser(space_id, user_id);
        user_organization = db.organizations.findOne(space_user.organization, {
          fields: {
            name: 1,
            fullname: 1
          }
        });
        new_appr = new Object();
        new_appr._id = new Mongo.ObjectID()._str;
        new_appr.instance = last_trace.instance;
        new_appr.trace = last_trace._id;
        new_appr.is_finished = false;
        new_appr.user = user_id;
        new_appr.user_name = new_user.name;
        handler_id = user_id;
        handler_info = new_user;
        agent = uuflowManager.getAgent(space_id, user_id);

        if (agent) {
          inbox_users_from_client[inbox_users_from_client.indexOf(user_id)] = agent;
          handler_id = agent;
          handler_info = db.users.findOne({
            _id: agent
          }, {
            fields: {
              name: 1
            }
          });
          new_appr.agent = agent;
        }

        new_appr.handler = handler_id;
        new_appr.handler_name = handler_info.name;
        new_appr.handler_organization = space_user.organization;
        new_appr.handler_organization_name = user_organization.name;
        new_appr.handler_organization_fullname = user_organization.fullname;
        new_appr.from_user = current_user;
        new_appr.from_user_name = current_user_info.name;
        new_appr.type = "reassign";
        new_appr.start_date = now;
        new_appr.due_date = last_trace.due_date;
        new_appr.is_read = false;
        new_appr.is_error = false;
        new_appr.values = new Object();
        uuflowManager.setRemindInfo(instance.values, new_appr);
        return last_trace.approves.push(new_appr);
      });

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(approve_users_handlers);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.inbox_users = inbox_users_from_client;
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj["traces.$.approves"] = last_trace.approves;
      r = db.instances.update({
        _id: instance_id,
        "traces._id": last_trace._id
      }, {
        $set: setObj
      });

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, reassign_reason, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'reassign', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_relocate.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_relocate.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/relocate', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var _users, ah, approve_users, current_setp, current_setp_type, current_space_user, current_user_organization, flow, h, i, inbox_users, ins, instance, instance_id, l, last_trace, newTrace, new_inbox_users, next_step, next_step_name, next_step_type, not_in_inbox_users, now, permissions, r, relocate_appr, relocate_comment, relocate_inbox_users, relocate_next_step, sameTraces, setObj, signShowApproveId, space, space_id, ta, ti, traces;

      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      last_trace = _.last(instance.traces);
      permissions = permissionManager.getFlowPermissions(instance.flow, current_user);
      space = db.spaces.findOne(instance.space, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user)) {
        throw new Meteor.Error('error!', "用户没有对当前流程的管理权限");
      }

      space_id = instance.space;
      instance_id = last_trace.instance;
      inbox_users = instance.inbox_users;
      relocate_inbox_users = instance_from_client["relocate_inbox_users"];
      relocate_comment = instance_from_client["relocate_comment"];
      relocate_next_step = instance_from_client["relocate_next_step"];
      not_in_inbox_users = _.difference(inbox_users, relocate_inbox_users);
      new_inbox_users = _.difference(relocate_inbox_users, inbox_users);
      approve_users = [];
      flow = uuflowManager.getFlow(instance.flow);
      next_step = uuflowManager.getStep(instance, flow, relocate_next_step);
      next_step_type = next_step.step_type;
      next_step_name = next_step.name;
      current_setp = uuflowManager.getStep(instance, flow, last_trace.step);
      current_setp_type = current_setp.step_type;
      traces = instance.traces;
      setObj = new Object();
      setObj.values = uuflowManager.getUpdatedValues(instance);
      now = new Date();
      i = 0;

      while (i < traces.length) {
        if (traces[i]._id === last_trace._id) {
          if (!traces[i].approves) {
            traces[i].approves = new Array();
          }

          h = 0;

          while (h < traces[i].approves.length) {
            if (traces[i].approves[h].is_finished === false && traces[i].approves[h].type !== "cc" && traces[i].approves[h].type !== "distribute") {
              traces[i].approves[h].start_date = now;
              traces[i].approves[h].finish_date = now;
              traces[i].approves[h].read_date = now;
              traces[i].approves[h].is_error = false;
              traces[i].approves[h].is_read = true;
              traces[i].approves[h].is_finished = true;
              traces[i].approves[h].judge = "terminated";
              traces[i].approves[h].cost_time = traces[i].approves[h].finish_date - traces[i].approves[h].start_date;
              approve_users.push(traces[i].approves[h].user);

              if (traces[i].approves[h].sign_show === true) {
                ta = traces[i].approves[h];
                sameTraces = _.filter(traces, function (t) {
                  return t.step === traces[i].step;
                });
                l = sameTraces.length - 1;
                signShowApproveId = null;

                while (l > -1) {
                  _.each(sameTraces[l].approves, function (a) {
                    if (a.user === ta.user && a.judge !== "terminated" && a.description && !signShowApproveId) {
                      return signShowApproveId = a._id;
                    }
                  });

                  l--;
                }

                if (signShowApproveId) {
                  ti = 0;

                  while (ti < traces.length) {
                    ah = 0;

                    while (ah < traces[ti].approves.length) {
                      if (traces[ti].approves[ah]._id === signShowApproveId) {
                        traces[ti].approves[ah].sign_show = true;
                        traces[i].approves[h].sign_show = false;
                      }

                      ah++;
                    }

                    ti++;
                  }
                }
              }
            }

            h++;
          }

          current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
          current_user_organization = db.organizations.findOne(current_space_user.organization, {
            fields: {
              name: 1,
              fullname: 1
            }
          });
          relocate_appr = new Object();
          relocate_appr._id = new Mongo.ObjectID()._str;
          relocate_appr.instance = instance_id;
          relocate_appr.trace = traces[i]._id;
          relocate_appr.is_finished = true;
          relocate_appr.user = current_user;
          relocate_appr.user_name = current_user_info.name;
          relocate_appr.handler = current_user;
          relocate_appr.handler_name = current_user_info.name;
          relocate_appr.handler_organization = current_space_user.organization;
          relocate_appr.handler_organization_name = current_user_organization.name;
          relocate_appr.handler_organization_fullname = current_user_organization.fullname;
          relocate_appr.start_date = now;
          relocate_appr.finish_date = now;
          relocate_appr.due_date = traces[i].due_date;
          relocate_appr.read_date = now;
          relocate_appr.judge = "relocated";
          relocate_appr.is_read = true;
          relocate_appr.description = relocate_comment;
          relocate_appr.is_error = false;
          relocate_appr.values = new Object();
          relocate_appr.cost_time = relocate_appr.finish_date - relocate_appr.start_date;
          traces[i].approves.push(relocate_appr);
          traces[i].is_finished = true;
          traces[i].finish_date = now;
          traces[i].judge = "relocated";
        }

        i++;
      }

      if (next_step_type === "end") {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = true;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.finish_date = now;
        newTrace.approves = [];
        setObj.state = "completed";
        setObj.inbox_users = [];
        setObj.final_decision = "terminated";
        setObj.finish_date = new Date();
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = false;
      } else {
        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace._id];
        newTrace.is_finished = false;
        newTrace.step = relocate_next_step;
        newTrace.name = next_step_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(next_step.timeout_hours);
        newTrace.approves = [];

        _.each(relocate_inbox_users, function (next_step_user_id, idx) {
          var agent, handler_id, handler_info, newApprove, next_step_space_user, next_step_user_org_info, user_info;
          newApprove = new Object();
          newApprove._id = new Mongo.ObjectID()._str;
          newApprove.instance = instance_id;
          newApprove.trace = newTrace._id;
          newApprove.is_finished = false;
          newApprove.user = next_step_user_id;
          user_info = db.users.findOne(next_step_user_id, {
            fields: {
              name: 1
            }
          });
          newApprove.user_name = user_info.name;
          handler_id = next_step_user_id;
          handler_info = user_info;
          agent = uuflowManager.getAgent(space_id, next_step_user_id);

          if (agent) {
            relocate_inbox_users[idx] = agent;
            handler_id = agent;
            handler_info = db.users.findOne({
              _id: agent
            }, {
              fields: {
                name: 1
              }
            });
            newApprove.agent = agent;
          }

          newApprove.handler = handler_id;
          newApprove.handler_name = handler_info.name;
          next_step_space_user = uuflowManager.getSpaceUser(space_id, handler_id);
          next_step_user_org_info = uuflowManager.getSpaceUserOrgInfo(next_step_space_user);
          newApprove.handler_organization = next_step_user_org_info["organization"];
          newApprove.handler_organization_name = next_step_user_org_info["organization_name"];
          newApprove.handler_organization_fullname = next_step_user_org_info["organization_fullname"];
          newApprove.start_date = now;
          newApprove.due_date = newTrace.due_date;
          newApprove.is_read = false;
          newApprove.is_error = false;
          newApprove.values = new Object();
          uuflowManager.setRemindInfo(instance.values, newApprove);
          return newTrace.approves.push(newApprove);
        });

        setObj.inbox_users = relocate_inbox_users;
        setObj.state = "pending";
        setObj.current_step_name = next_step_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, next_step.lines);
      }

      instance.outbox_users.push(current_user);
      instance.outbox_users = instance.outbox_users.concat(inbox_users).concat(approve_users);
      setObj.outbox_users = _.uniq(instance.outbox_users);
      setObj.modified = now;
      setObj.modified_by = current_user;
      setObj.is_archived = false;
      traces.push(newTrace);
      setObj.traces = traces;

      if (setObj.state === 'completed') {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });
      } else {
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj,
          $unset: {
            finish_date: 1
          }
        });
      }

      if (r) {
        ins = uuflowManager.getInstance(instance_id);
        pushManager.send_message_current_user(current_user_info);

        _.each(not_in_inbox_users, function (user_id) {
          if (user_id !== current_user) {
            return pushManager.send_message_to_specifyUser("current_user", user_id);
          }
        });

        _users = new Array();

        _users.push(ins.applicant);

        _users.push(ins.submitter);

        _users = _.uniq(_users.concat(ins.outbox_users));

        _.each(_users, function (user_id) {
          return pushManager.send_message_to_specifyUser("current_user", user_id);
        });

        pushManager.send_instance_notification("reassign_new_inbox_users", ins, relocate_comment, current_user_info);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'relocate', current_user, ins.inbox_users);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_archive.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_archive.coffee                                                        //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/archive', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var instance, instance_id, setObj, space, space_id, space_user;
      instance_id = instance_from_client["_id"];
      instance = uuflowManager.getInstance(instance_id);
      space_id = instance.space;
      space = uuflowManager.getSpace(space_id);
      uuflowManager.isInstanceFinishedAndNotArchieved(instance);
      space_user = uuflowManager.getSpaceUser(space_id, current_user);
      uuflowManager.isInstanceSubmitterOrApplicantOrSpaceAdmin(instance, current_user, space);
      setObj = new Object();
      setObj.is_archived = true;
      setObj.modified = new Date();
      setObj.modified_by = current_user;
      return db.instances.update({
        _id: instance_id
      }, {
        $set: setObj
      });
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_export.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_export.coffee                                                         //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/instances", function (req, res, next) {
    var current_user_info, e, ejs, ejsLint, end_date, error_obj, fields, fileName, flow, flow_id, form, form_name, ins_to_xls, lang, last_month_date, now, query, ret, space_id, start_date, str, table_fields, template, timezoneoffset, type;

    try {
      current_user_info = uuflowManager.check_authorization(req);
      query = req.query;
      space_id = query.space_id;
      flow_id = query.flow_id;
      type = parseInt(query.type);
      timezoneoffset = parseInt(query.timezoneoffset);
      flow = db.flows.findOne({
        _id: flow_id
      }, {
        fields: {
          form: 1
        }
      });
      form = db.forms.findOne({
        _id: flow.form
      }, {
        fields: {
          name: 1,
          'current.fields': 1
        }
      });
      form_name = form.name;
      fields = form.current.fields;
      table_fields = new Array();

      _.each(form.current.fields, function (field) {
        if (field.type === "table") {
          return table_fields.push(field);
        }
      });

      ins_to_xls = new Array();
      start_date = null;
      end_date = null;
      now = new Date();

      if (type === 0) {
        start_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 1) {
        last_month_date = new Date(new Date(now.getFullYear(), now.getMonth(), 1) - 1000 * 60 * 60 * 24);
        start_date = new Date(last_month_date.getFullYear(), last_month_date.getMonth(), 1);
        end_date = new Date(now.getFullYear(), now.getMonth(), 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          $and: [{
            submit_date: {
              $gte: start_date
            }
          }, {
            submit_date: {
              $lte: end_date
            }
          }]
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 2) {
        start_date = new Date(now.getFullYear(), 0, 1);
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          },
          submit_date: {
            $gte: start_date
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      } else if (type === 3) {
        ins_to_xls = db.instances.find({
          space: space_id,
          flow: flow_id,
          state: {
            $ne: "draft"
          }
        }, {
          sort: {
            submit_date: 1
          }
        }).fetch();
      }

      ejs = require('ejs');
      str = Assets.getText('server/ejs/export_instances.ejs');
      ejsLint = require('ejs-lint');
      error_obj = ejsLint.lint(str, {});

      if (error_obj) {
        console.error("===/api/workflow/export:");
        console.error(error_obj);
      }

      template = ejs.compile(str);
      lang = 'en';

      if (current_user_info.locale === 'zh-cn') {
        lang = 'zh-CN';
      }

      ret = template({
        lang: lang,
        timezoneoffset: timezoneoffset,
        form_name: form_name,
        fields: fields,
        table_fields: table_fields,
        ins_to_xls: ins_to_xls
      });
      fileName = "SteedOSWorkflow_" + moment().format('YYYYMMDDHHmm') + ".xls";
      res.setHeader("Content-type", "application/octet-stream");
      res.setHeader("Content-Disposition", "attachment;filename=" + encodeURI(fileName));
      return res.end(ret);
    } catch (error) {
      e = error;
      console.error(e.stack);
      return res.end(e.message);
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_space_changeset.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_space_changeset.coffee                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/uf/space/changeset', function (req, res, next) {
  var auth_token, data, e, formids, is_admin, query, sync_token;

  try {
    query = req.query;
    auth_token = db.auth_tokens.findOne({
      auth_token: query.auth_token
    });

    if (!auth_token || !auth_token.enabled) {
      throw new Meteor.Error(401, 'Unauthorized');
    }

    sync_token = query["sync_token"];
    formids = query["formids"];
    is_admin = query["is_admin"];
    data = uuflowManager.get_SpaceChangeSet(formids, is_admin, sync_token);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: data
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_retrieve.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_retrieve.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('post', '/api/workflow/retrieve', function (req, res, next) {
  var current_user, current_user_info, e, hashData;

  try {
    current_user_info = uuflowManager.check_authorization(req);
    current_user = current_user_info._id;
    hashData = req.body;

    _.each(hashData['Instances'], function (instance_from_client) {
      var cc_users, flow, handler_info, i, ins, instance, instance_id, last_trace, last_trace_id, newApprove, newTrace, now, old_inbox_users, org_info, previous_step, previous_trace, previous_trace_approves, previous_trace_id, previous_trace_name, previous_trace_step_id, r, retrieve_approve, retrieve_comment, retrieve_type, setObj, space_id, space_user, the_trace, traces;
      instance = uuflowManager.getInstance(instance_from_client["_id"]);
      retrieve_comment = instance_from_client['retrieve_comment'];

      if (!instance.outbox_users.includes(current_user) && instance.submitter !== current_user && instance.applicant !== current_user) {
        throw new Meteor.Error('error', '当前用户不符合取回条件');
      }

      retrieve_type = "";
      traces = instance.traces;
      last_trace = _.last(traces);
      last_trace_id = last_trace._id;
      previous_trace_id = last_trace.previous_trace_ids[0];
      previous_trace = _.find(traces, function (t) {
        return t._id === previous_trace_id;
      });
      previous_trace_step_id = previous_trace.step;
      previous_trace_name = previous_trace.name;
      flow = uuflowManager.getFlow(instance.flow);
      previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);

      if (previous_step.step_type === "counterSign") {
        throw new Meteor.Error('error', '会签不能取回');
      }

      previous_trace_approves = _.filter(previous_trace.approves, function (a) {
        return a.type !== 'cc' && a.type !== 'distribute' && a.type !== 'forward' && ['approved', 'submitted', 'rejected'].includes(a.judge);
      });

      if (previous_trace_approves.length === 1 && (previous_trace_approves[0].user === current_user || previous_trace_approves[0].handler === current_user)) {
        retrieve_type = 'normal';
      }

      i = traces.length;
      retrieve_approve = {};

      while (i > 0) {
        _.each(traces[i - 1].approves, function (a) {
          if (a.type === 'cc' && a.is_finished === true && a.user === current_user) {
            retrieve_type = 'cc';
            return retrieve_approve = a;
          }
        });

        if (retrieve_type === 'cc') {
          break;
        }

        i--;
      }

      if (retrieve_type === 'normal') {
        flow = uuflowManager.getFlow(instance.flow);
        previous_step = uuflowManager.getStep(instance, flow, previous_trace_step_id);
        space_id = instance.space;
        instance_id = instance._id;
        old_inbox_users = instance.inbox_users;
        setObj = new Object();
        now = new Date();

        _.each(traces, function (t) {
          var current_space_user, current_user_organization, retrieve_appr;

          if (t._id === last_trace_id) {
            if (!t.approves) {
              t.approves = new Array();
            }

            _.each(t.approves, function (appr) {
              if (appr.is_finished === false && appr.type !== "cc") {
                appr.start_date = now;
                appr.finish_date = now;
                appr.read_date = now;
                appr.is_error = false;
                appr.is_read = true;
                appr.is_finished = true;
                appr.judge = "terminated";
                return appr.cost_time = appr.finish_date - appr.start_date;
              }
            });

            current_space_user = uuflowManager.getSpaceUser(space_id, current_user);
            current_user_organization = db.organizations.findOne(current_space_user.organization, {
              fields: {
                name: 1,
                fullname: 1
              }
            });
            retrieve_appr = new Object();
            retrieve_appr._id = new Mongo.ObjectID()._str;
            retrieve_appr.instance = instance_id;
            retrieve_appr.trace = t._id;
            retrieve_appr.is_finished = true;
            retrieve_appr.user = current_user;
            retrieve_appr.user_name = current_user_info.name;
            retrieve_appr.handler = current_user;
            retrieve_appr.handler_name = current_user_info.name;
            retrieve_appr.handler_organization = current_space_user.organization;
            retrieve_appr.handler_organization_name = current_user_organization.name;
            retrieve_appr.handler_organization_fullname = current_user_organization.fullname;
            retrieve_appr.start_date = now;
            retrieve_appr.finish_date = now;
            retrieve_appr.due_date = t.due_date;
            retrieve_appr.read_date = now;
            retrieve_appr.judge = "retrieved";
            retrieve_appr.is_read = true;
            retrieve_appr.description = retrieve_comment;
            retrieve_appr.is_error = false;
            retrieve_appr.values = new Object();
            retrieve_appr.cost_time = retrieve_appr.finish_date - retrieve_appr.start_date;
            t.approves.push(retrieve_appr);
            t.is_finished = true;
            t.finish_date = now;
            return t.judge = "retrieved";
          }
        });

        newTrace = new Object();
        newTrace._id = new Mongo.ObjectID()._str;
        newTrace.instance = instance_id;
        newTrace.previous_trace_ids = [last_trace_id];
        newTrace.is_finished = false;
        newTrace.step = previous_trace_step_id;
        newTrace.name = previous_trace_name;
        newTrace.start_date = now;
        newTrace.due_date = uuflowManager.getDueDate(previous_step.timeout_hours);
        newTrace.approves = [];
        newApprove = new Object();
        newApprove._id = new Mongo.ObjectID()._str;
        newApprove.instance = instance_id;
        newApprove.trace = newTrace._id;
        newApprove.is_finished = false;
        newApprove.user = current_user;
        handler_info = db.users.findOne(current_user, {
          fields: {
            name: 1
          }
        });
        newApprove.user_name = handler_info.name;
        newApprove.handler = current_user;
        newApprove.handler_name = handler_info.name;
        space_user = uuflowManager.getSpaceUser(space_id, current_user);
        org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
        newApprove.handler_organization = org_info["organization"];
        newApprove.handler_organization_name = org_info["organization_name"];
        newApprove.handler_organization_fullname = org_info["organization_fullname"];
        newApprove.start_date = now;
        newApprove.due_date = newTrace.due_date;
        newApprove.is_read = false;
        newApprove.is_error = false;
        newApprove.values = new Object();
        uuflowManager.setRemindInfo(instance.values, newApprove);
        newTrace.approves.push(newApprove);
        setObj.inbox_users = [current_user];
        setObj.modified = now;
        setObj.modified_by = current_user;
        traces.push(newTrace);
        setObj.traces = traces;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.current_step_name = previous_trace_name;
        setObj.current_step_auto_submit = uuflowManager.getCurrentStepAutoSubmit(flow.timeout_auto_submit, previous_step.lines);
        r = db.instances.update({
          _id: instance_id
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);

          _.each(old_inbox_users, function (user_id) {
            if (user_id !== current_user) {
              return pushManager.send_message_to_specifyUser("current_user", user_id);
            }
          });

          ins = uuflowManager.getInstance(instance_id);
          return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, ins.inbox_users);
        }
      } else if (retrieve_type === 'cc') {
        setObj = new Object();
        now = new Date();
        instance_id = instance._id;
        the_trace = _.find(traces, function (t) {
          return t._id === retrieve_approve.trace;
        });

        _.each(the_trace.approves, function (a) {
          if (a._id === retrieve_approve._id) {
            a.is_finished = false;
            a.finish_date = void 0;
            a.judge = void 0;
            return a.cost_time = void 0;
          }
        });

        cc_users = instance.cc_users;
        cc_users.push(current_user);
        setObj.modified = now;
        setObj.modified_by = current_user;
        setObj.state = "pending";
        setObj.is_archived = false;
        setObj.cc_users = cc_users;
        setObj['traces.$.approves'] = the_trace.approves;
        r = db.instances.update({
          _id: instance_id,
          'traces._id': retrieve_approve.trace
        }, {
          $set: setObj
        });

        if (r) {
          pushManager.send_message_current_user(current_user_info);
        }

        ins = uuflowManager.getInstance(instance_id);
        return pushManager.triggerWebhook(ins.flow, ins, {}, 'retrieve', current_user, [current_user]);
      }
    });

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {}
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward.js":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward.js                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
JsonRoutes.add('post', '/api/workflow/forward', function (req, res, next) {
  try {
    var current_user_info = uuflowManager.check_authorization(req);
    var current_user_id = current_user_info._id;
    var hashData = req.body;
    var instance_id = hashData.instance_id;
    var space_id = hashData.space_id;
    var flow_id = hashData.flow_id;
    var hasSaveInstanceToAttachment = hashData.hasSaveInstanceToAttachment;
    var description = hashData.description;
    var isForwardAttachments = hashData.isForwardAttachments;
    var selectedUsers = hashData.selectedUsers;
    var action_type = hashData.action_type;
    var related = hashData.related;
    var from_approve_id = hashData.from_approve_id;
    check(instance_id, String);
    check(space_id, String);
    check(flow_id, String);
    check(hasSaveInstanceToAttachment, Boolean);
    check(description, String);
    check(isForwardAttachments, Boolean);
    check(selectedUsers, Array);
    check(action_type, Match.OneOf('forward', 'distribute'));
    if (action_type == "distribute") check(from_approve_id, String);
    var ins = db.instances.findOne(instance_id);
    var old_space_id = ins.space;
    var flow = db.flows.findOne(flow_id);
    var space = db.spaces.findOne(space_id);

    if (!ins || !flow || !space) {
      throw new Meteor.Error('params error!', 'record not exists!');
    }

    var forward_users = new Array();

    if (_.isEmpty(selectedUsers)) {
      forward_users = [current_user_id];
    } else {
      forward_users = selectedUsers;
    } // 校验分发对象是否有分发流程的提交权限


    var no_permission_user_ids = new Array();

    _.each(forward_users, function (uid) {
      var permissions = permissionManager.getFlowPermissions(flow_id, uid);

      if (!permissions.includes("add")) {
        // throw new Meteor.Error('error!', "该申请人没有提交此申请单的权限。")
        no_permission_user_ids.push(uid);
      }
    });

    if (!_.isEmpty(no_permission_user_ids)) {
      var no_permission_users_name = new Array();
      db.users.find({
        _id: {
          $in: no_permission_user_ids
        }
      }, {
        fields: {
          name: 1
        }
      }).forEach(function (u) {
        no_permission_users_name.push(u.name);
      });
      throw new Meteor.Error('no_permission', "该提交人没有提交此申请单的权限。", no_permission_users_name.join(','));
    }

    var new_ins_ids = new Array();
    var current_trace = null;

    if (action_type == "distribute") {
      _.each(ins.traces, function (t) {
        if (!current_trace) {
          _.each(t.approves, function (a) {
            if (!current_trace) {
              if (a._id == from_approve_id) current_trace = t;
            }
          });
        }
      });
    } else {
      current_trace = _.last(ins.traces);
    }

    var current_trace_id = current_trace._id;
    var forward_approves = [];
    var from_user_name = db.users.findOne(current_user_id, {
      fields: {
        name: 1
      }
    }).name;
    var set_obj = new Object(); // 计算values

    var old_values = ins.values,
        new_values = {};
    var form = db.forms.findOne(flow.form);
    var fields = form.current.fields || [];
    var old_form = db.forms.findOne(ins.form);
    var old_form_version = ins.form_version,
        old_fields = [],
        common_fields = [];
    var select_to_input_fields = [];

    if (old_form.current._id == old_form_version) {
      old_fields = old_form.current.fields;
    } else {
      if (old_form.historys) {
        old_form.historys.forEach(function (h) {
          if (h._id == old_form_version) old_fields = h.fields;
        });
      }
    }

    fields.forEach(function (field) {
      var exists_field = _.find(old_fields, function (f) {
        return f.type == field.type && f.code == field.code;
      });

      if (exists_field) common_fields.push(field);

      var select_input_field = _.find(old_fields, function (f) {
        return f.type == 'select' && field.type == 'input' && f.code == field.code;
      });

      if (select_input_field) select_to_input_fields.push(select_input_field);
    });
    select_to_input_fields.forEach(function (field) {
      if (old_values[field.code]) {
        new_values[field.code] = old_values[field.code];
      }
    });
    common_fields.forEach(function (field) {
      if (field.type == 'section') {
        if (field.fields) {
          field.fields.forEach(function (f) {
            // 跨工作区转发不复制选人选组
            if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
              return;
            }

            var key = f.code;
            var old_v = old_values[key];

            if (old_v) {
              // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
              if (f.type == 'select' || f.type == 'radio') {
                var options = f.options.split('\n');
                if (!options.includes(old_v)) return;
              }

              if (f.type == 'multiSelect') {
                var options = f.options.split('\n');
                var old_multiSelected = old_v.split(',');

                var new_multiSelected = _.intersection(options, old_multiSelected);

                old_v = new_multiSelected.join(',');
              }

              new_values[key] = old_v;
            }
          });
        }
      } else if (field.type == 'table') {
        if (!_.isEmpty(old_values[field.code])) {
          new_values[field.code] = new Array();
          old_values[field.code].forEach(function (old_table_row_values) {
            var new_table_row_values = {};

            if (!_.isEmpty(field.fields)) {
              field.fields.forEach(function (f) {
                // 跨工作区转发不复制选人选组
                if (['group', 'user'].includes(f.type) && old_space_id != space_id) {
                  return;
                }

                var key = f.code;
                var old_v = old_table_row_values[key];

                if (old_v) {
                  // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
                  if (f.type == 'select' || f.type == 'radio') {
                    var options = f.options.split('\n');
                    if (!options.includes(old_v)) return;
                  }

                  if (f.type == 'multiSelect') {
                    var options = f.options.split('\n');
                    var old_multiSelected = old_v.split(',');

                    var new_multiSelected = _.intersection(options, old_multiSelected);

                    old_v = new_multiSelected.join(',');
                  }

                  new_table_row_values[key] = old_v;
                }
              });
            }

            if (!_.isEmpty(new_table_row_values)) {
              new_values[field.code].push(new_table_row_values);
            }
          });
        }
      } else {
        // 跨工作区转发不复制选人选组
        if (['group', 'user'].includes(field.type) && old_space_id != space_id) {
          return;
        }

        var key = field.code;
        var old_v = old_values[key];

        if (old_v) {
          // 校验 单选，多选，下拉框 字段值是否在新表单对应字段的可选值范围内
          if (field.type == 'select' || field.type == 'radio') {
            var options = field.options.split('\n');
            if (!options.includes(old_v)) return;
          }

          if (field.type == 'multiSelect') {
            var options = field.options.split('\n');
            var old_multiSelected = old_v.split(',');

            var new_multiSelected = _.intersection(options, old_multiSelected);

            old_v = new_multiSelected.join(',');
          }

          new_values[key] = old_v;
        }
      }
    }); //如果是分发，则value中的record_need、FONDSID不需要分发到新申请单中

    if (action_type === 'distribute') {
      delete new_values.record_need;
      delete new_values.FONDSID;
    } // 计算申请单标题


    var instance_name = "";
    var name_forumla = form.current.name_forumla;

    if (name_forumla) {
      try {
        var iscript = name_forumla.replace(/\{/g, "(new_values['").replace(/\}/g, "'] || '')");
        var rev = eval(iscript);
        instance_name = rev || flow.name;
      } catch (error) {
        throw new Meteor.Error('caculate_instance_name', "计算申请单标题出错请检查表单标题脚本。");
      }
    } else {
      instance_name = flow.name;
    } // instance中记录当前步骤名称 #1314


    var start_step = _.find(flow.current.steps, function (step) {
      return step.step_type == 'start';
    }); // 新建申请单时，instances记录流程名称、流程分类名称 #1313


    var category_name = "";

    if (form.category) {
      var category = uuflowManager.getCategory(form.category);
      if (category) category_name = category.name;
    }

    _.each(forward_users, function (user_id) {
      var user_info = db.users.findOne(user_id);
      var space_user = db.space_users.findOne({
        space: space_id,
        user: user_id
      }, {
        fields: {
          organization: 1
        }
      });
      var space_user_org_info = db.organizations.findOne({
        _id: space_user.organization
      }, {
        fields: {
          name: 1,
          fullname: 1
        }
      });
      var now = new Date();
      var ins_obj = {};
      var agent = uuflowManager.getAgent(space_id, user_id);
      var handler_id = user_id;
      var handler_info = user_info;
      var handler_space_user = space_user;
      var handler_org_info = space_user_org_info;

      if (agent) {
        handler_id = agent;
        handler_info = db.users.findOne(agent);
        handler_space_user = uuflowManager.getSpaceUser(space_id, agent);
        handler_org_info = uuflowManager.getSpaceUserOrgInfo(handler_space_user);
      }

      ins_obj._id = db.instances._makeNewID();
      ins_obj.space = space_id;
      ins_obj.flow = flow_id;
      ins_obj.flow_version = flow.current._id;
      ins_obj.form = flow.form;
      ins_obj.form_version = flow.current.form_version;
      ins_obj.name = instance_name;
      ins_obj.submitter = handler_id;
      ins_obj.submitter_name = handler_info.name;
      ins_obj.applicant = user_id;
      ins_obj.applicant_name = user_info.name;
      ins_obj.applicant_organization = space_user.organization;
      ins_obj.applicant_organization_name = space_user_org_info.name;
      ins_obj.applicant_organization_fullname = space_user_org_info.fullname;
      ins_obj.state = "draft";
      ins_obj.code = "";
      ins_obj.is_archived = false;
      ins_obj.is_deleted = false;
      ins_obj.created = now;
      ins_obj.created_by = current_user_id;
      ins_obj.modified = now;
      ins_obj.modified_by = current_user_id;
      ins_obj.inbox_users = [handler_id];
      ins_obj.values = new_values;

      if (action_type == 'distribute') {
        // 解决多次分发看不到正文、附件问题
        if (ins.distribute_from_instance) {
          ins_obj.distribute_from_instance = ins.distribute_from_instance;
        } else {
          ins_obj.distribute_from_instance = instance_id;
        }

        ins_obj.distribute_from_instances = _.clone(ins.distribute_from_instances) || [];
        ins_obj.distribute_from_instances.push(instance_id);

        if (related) {
          ins_obj.related_instances = [instance_id];
        }
      } else if (action_type == 'forward') {
        ins_obj.forward_from_instance = instance_id;
      } // 新建Trace


      var trace_obj = {};
      trace_obj._id = new Mongo.ObjectID()._str;
      trace_obj.instance = ins_obj._id;
      trace_obj.is_finished = false; // 当前最新版flow中开始节点的step_id

      var step_id, step_name, can_edit_main_attach, can_edit_normal_attach;
      flow.current.steps.forEach(function (step) {
        if (step.step_type == "start") {
          step_id = step._id;
          step_name = step.name;
          can_edit_main_attach = step.can_edit_main_attach;
          can_edit_normal_attach = step.can_edit_normal_attach;
        }
      });
      trace_obj.step = step_id;
      trace_obj.start_date = now;
      trace_obj.name = step_name; // 新建Approve

      var appr_obj = {};
      appr_obj._id = new Mongo.ObjectID()._str;
      appr_obj.instance = ins_obj._id;
      appr_obj.trace = trace_obj._id;
      appr_obj.is_finished = false;
      appr_obj.user = user_id;
      appr_obj.user_name = user_info.name;
      appr_obj.handler = handler_id;
      appr_obj.handler_name = handler_info.name;
      appr_obj.handler_organization = handler_space_user.organization;
      appr_obj.handler_organization_name = handler_org_info.name;
      appr_obj.handler_organization_fullname = handler_org_info.fullname;
      appr_obj.type = "draft";
      appr_obj.start_date = now;
      appr_obj.read_date = now;
      appr_obj.is_read = false;
      appr_obj.is_error = false;
      appr_obj.values = new_values;

      if (agent) {
        appr_obj.agent = agent;
      }

      trace_obj.approves = [appr_obj];
      ins_obj.traces = [trace_obj];
      if (flow.auto_remind == true) ins_obj.auto_remind = true;
      ins_obj.current_step_name = start_step.name;
      ins_obj.flow_name = flow.name;

      if (category_name) {
        ins_obj.category_name = category.name;
        ins_obj.category = category._id;
      }

      new_ins_id = db.instances.insert(ins_obj); // 复制附件

      var collection = cfs.instances; //将原表单内容存储为第一个附件

      if (hasSaveInstanceToAttachment) {
        // try {
        instanceHtml = InstanceReadOnlyTemplate.getInstanceHtml(user_info, space_id, ins, {
          absolute: true
        });
        var instanceFile = new FS.File();
        instanceFile.attachData(Buffer.from(instanceHtml, "utf-8"), {
          type: "text/html"
        }, function (error) {
          if (error) {
            throw new Meteor.Error(error.error, error.reason);
          }

          instanceFile.name(ins.name + ".html");
          instanceFile.size(instanceHtml.length);
          var metadata = {
            owner: user_id,
            owner_name: user_info.name,
            space: space_id,
            instance: new_ins_id,
            approve: appr_obj._id,
            current: true
          };
          instanceFile.metadata = metadata;
          var fileObj = collection.insert(instanceFile);
          fileObj.update({
            $set: {
              'metadata.parent': fileObj._id
            }
          });
        }); // } catch (e) {
        //     console.error(e);
        // }
      }

      if (isForwardAttachments && action_type == 'forward') {
        var files = collection.find({
          'metadata.instance': instance_id,
          'metadata.current': true
        });
        files.forEach(function (f) {
          // 判断新的流程开始节点是否有编辑正文和编辑附件权限
          if (f.metadata.main == true) {
            if (can_edit_main_attach != true && can_edit_normal_attach != true) return;
          } else {
            if (can_edit_normal_attach != true) return;
          }

          var newFile = new FS.File();
          newFile.attachData(f.createReadStream('instances'), {
            type: f.original.type
          }, function (err) {
            if (err) {
              throw new Meteor.Error(err.error, err.reason);
            }

            newFile.name(f.name());
            newFile.size(f.size());
            var metadata = {
              owner: user_id,
              owner_name: user_info.name,
              space: space_id,
              instance: new_ins_id,
              approve: appr_obj._id,
              current: true
            };

            if (f.metadata.main == true && can_edit_main_attach == true) {
              metadata.main = true;
            }

            newFile.metadata = metadata;
            var fileObj = collection.insert(newFile);
            fileObj.update({
              $set: {
                'metadata.parent': fileObj._id
              }
            });
          });
        });
      } // 给当前的申请单增加转发记录


      var appr = {
        '_id': new Mongo.ObjectID()._str,
        'instance': instance_id,
        'trace': current_trace_id,
        'is_finished': true,
        'user': user_id,
        'user_name': user_info.name,
        'handler': user_id,
        'handler_name': user_info.name,
        'handler_organization': space_user.organization,
        'handler_organization_name': space_user_org_info.name,
        'handler_organization_fullname': space_user_org_info.fullname,
        'type': action_type,
        'start_date': new Date(),
        'finish_date': new Date(),
        'is_read': false,
        'judge': 'submitted',
        'from_user': current_user_id,
        'from_user_name': from_user_name,
        'forward_space': space_id,
        'forward_instance': new_ins_id,
        'description': description,
        'from_approve_id': from_approve_id
      };
      forward_approves.push(appr);
      new_ins_ids.push(new_ins_id);
      pushManager.send_message_to_specifyUser("current_user", user_id);
    });

    set_obj.modified = new Date();
    set_obj.modified_by = current_user_id;
    var r = db.instances.update({
      _id: instance_id,
      "traces._id": current_trace_id
    }, {
      $set: set_obj,
      $addToSet: {
        'traces.$.approves': {
          $each: forward_approves
        }
      }
    });

    if (r) {
      _.each(current_trace.approves, function (a, idx) {
        if (a._id == from_approve_id) {
          var update_read = {};
          update_read["traces.$.approves." + idx + ".read_date"] = new Date();
          db.instances.update({
            _id: instance_id,
            "traces._id": current_trace_id
          }, {
            $set: update_read
          });
        }
      });
    }

    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        new_ins_ids: new_ins_ids
      }
    });
  } catch (e) {
    console.error(e.stack);
    JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_instance.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_instance.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add('get', '/api/workflow/instance/:instanceId', function (req, res, next) {
  var box, current_user_id, current_user_info, e, flowId, ins, insId, permissions, redirectTo, redirectToUrl, ref, ref1, ref2, req_async, space, spaceId;

  try {
    current_user_info = uuflowManager.check_authorization(req, res);
    current_user_id = current_user_info._id;
    req_async = _.has(req.query, 'async');
    insId = req.params.instanceId;
    ins = db.instances.findOne(insId, {
      fields: {
        space: 1,
        flow: 1,
        state: 1,
        inbox_users: 1,
        cc_users: 1,
        outbox_users: 1,
        submitter: 1,
        applicant: 1
      }
    });

    if (!ins) {
      throw new Meteor.Error('error', 'instanceId is wrong or instance not exists.');
    }

    spaceId = ins.space;
    flowId = ins.flow;

    if (db.space_users.find({
      space: spaceId,
      user: current_user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'user is not belong to this space.');
    }

    box = '';

    if (((ref = ins.inbox_users) != null ? ref.includes(current_user_id) : void 0) || ((ref1 = ins.cc_users) != null ? ref1.includes(current_user_id) : void 0)) {
      box = 'inbox';
    } else if ((ref2 = ins.outbox_users) != null ? ref2.includes(current_user_id) : void 0) {
      box = 'outbox';
    } else if (ins.state === 'draft' && ins.submitter === current_user_id) {
      box = 'draft';
    } else if (ins.state === 'pending' && (ins.submitter === current_user_id || ins.applicant === current_user_id)) {
      box = 'pending';
    } else if (ins.state === 'completed' && ins.submitter === current_user_id) {
      box = 'completed';
    } else {
      permissions = permissionManager.getFlowPermissions(flowId, current_user_id);
      space = db.spaces.findOne(spaceId, {
        fields: {
          admins: 1
        }
      });

      if (!permissions.includes("admin") && !space.admins.includes(current_user_id)) {
        throw new Meteor.Error('error', "no permission.");
      }

      box = 'monitor';
    }

    redirectTo = "workflow/space/" + spaceId + "/" + box + "/" + insId;
    redirectToUrl = Meteor.absoluteUrl(redirectTo);

    if (req_async) {
      return res.status(200).send({
        "status": 302,
        "redirect": redirectTo
      });
    } else {
      res.setHeader("Location", redirectToUrl);
      res.writeHead(302);
      res.end();
    }
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_pending.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_pending.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/pending 获取待办文件

@apiDescription 获取当前用户的待办事项列表

@apiName getInbox

@apiGroup Workflow

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
	{
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
	{
		"status": "success",
		"data": [
			{
				"id": "g7wokXNkR9yxHvA4D",
				"start_date": "2017-11-23T02:28:53.164Z",
				"flow_name": "正文流程",
				"space_name": "审批王",
				"name": "正文流程 1",
				"applicant_name": null,
				"applicant_organization_name": "审批王",
				"submit_date": "2017-07-25T06:36:48.492Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-11-23T02:28:53.164Z",
				"is_read": false,
				"values": {}
			},
			{
				"id": "WqKSrWQoywgJaMp9k",
				"start_date": "2017-08-17T07:38:35.420Z",
				"flow_name": "正文\n",
				"space_name": "审批王",
				"name": "正文\n 1",
				"applicant_name": "殷亮辉",
				"applicant_organization_name": "审批王",
				"submit_date": "2017-06-27T10:26:19.468Z",
				"step_name": "开始",
				"space_id": "kfDsMv7gBewmGXGEL",
				"modified": "2017-08-17T07:38:35.421Z",
				"is_read": true,
				"values": {}
			}
		]
	}
 */JsonRoutes.add('get', '/api/workflow/open/pending', function (req, res, next) {
  var attach, e, is_read, limit, no_limit_count, query, ref, ref1, ref2, ref3, ref4, ref5, result_instances, space, space_id, space_names, special_user_id, start_date, u, uid, user_id, userid, username, workflow_categories;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    space_id = req.headers['x-space-id'] || ((ref = req.query) != null ? ref.spaceId : void 0);

    if (!space_id) {
      throw new Meteor.Error('error', 'need space_id');
    }

    user_id = req.userId;

    if (!user_id) {
      throw new Meteor.Error('error', 'Not logged in');
    }

    if (db.users.find({
      _id: user_id
    }).count() === 0) {
      throw new Meteor.Error('error', 'can not find user');
    }

    limit = ((ref1 = req.query) != null ? ref1.limit : void 0) || 500;
    limit = parseInt(limit);
    username = (ref2 = req.query) != null ? ref2.username : void 0;
    userid = (ref3 = req.query) != null ? ref3.userid : void 0;
    attach = (ref4 = req.query) != null ? ref4.attach : void 0;
    workflow_categories = (ref5 = req.query) != null ? ref5.workflow_categories : void 0;
    space = uuflowManager.getSpace(space_id);
    special_user_id;

    if (space.admins.includes(user_id)) {
      if (userid) {
        if (db.users.find({
          _id: userid
        }).count() < 1) {
          throw new Meteor.Error('error', "can not find user by userid: " + userid);
        }

        special_user_id = userid;
      } else if (username) {
        u = db.users.findOne({
          username: username
        }, {
          fields: {
            _id: 1
          }
        });

        if (_.isEmpty(u)) {
          throw new Meteor.Error('error', "can not find user by username: " + username);
        }

        special_user_id = u._id;
      }
    }

    result_instances = new Array();
    is_read = false;
    start_date = '';
    uid = user_id;
    query = {
      $or: [{
        inbox_users: user_id
      }, {
        cc_users: user_id
      }]
    };

    if (special_user_id) {
      uid = special_user_id;
      query = {
        space: space_id,
        $or: [{
          inbox_users: special_user_id
        }, {
          cc_users: special_user_id
        }]
      };
    }

    if (workflow_categories) {
      query.category = {
        $in: workflow_categories.split(',')
      };
    }

    space_names = {};
    space_names[space._id] = space.name;

    if (limit > 0) {
      db.instances.find(query, {
        sort: {
          modified: -1
        },
        limit: limit
      }).forEach(function (i) {
        var h, ref6, ref7;

        if ((ref6 = i.inbox_users) != null ? ref6.includes(uid) : void 0) {
          _.each(i.traces, function (t) {
            if (t.is_finished === false) {
              return _.each(t.approves, function (a) {
                if (a.user === uid && a.type !== 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        } else {
          _.each(i.traces, function (t) {
            if (!start_date && t.approves) {
              return _.each(t.approves, function (a) {
                if (!start_date && a.user === uid && a.type === 'cc' && !a.is_finished) {
                  is_read = a.is_read;
                  return start_date = a.start_date;
                }
              });
            }
          });
        }

        if (!space_names[i.space]) {
          space_names[i.space] = (ref7 = db.spaces.findOne(i.space, {
            fields: {
              name: 1
            }
          })) != null ? ref7.name : void 0;
        }

        h = new Object();
        h["id"] = i["_id"];
        h["start_date"] = start_date;
        h["flow_name"] = i.flow_name;
        h["space_name"] = space_names[i.space];
        h["name"] = i["name"];
        h["applicant_name"] = i["applicant_name"];
        h["applicant_organization_name"] = i["applicant_organization_name"];
        h["submit_date"] = i["submit_date"];
        h["step_name"] = i.current_step_name;
        h["space_id"] = i.space;
        h["modified"] = i["modified"];
        h["is_read"] = is_read;
        h["values"] = i["values"];

        if (attach === 'true') {
          h.attachments = cfs.instances.find({
            'metadata.instance': i._id,
            'metadata.current': true,
            "metadata.is_private": {
              $ne: true
            }
          }, {
            fields: {
              copies: 0
            }
          }).fetch();
        }

        return result_instances.push(h);
      });
    }

    no_limit_count = db.instances.find(query).count();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result_instances,
        count: no_limit_count
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.reason
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"export_table_template.coffee":function(require){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/export_table_template.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var Cookies;
Cookies = require("cookies");
Meteor.startup(function () {
  return WebApp.connectHandlers.use("/api/workflow/export/talbe_template", function (req, res, next) {
    var authToken, cookies, data, fileName, flow, flowId, form, ref, ref1, space, userId;
    cookies = new Cookies(req, res);

    if (req.body) {
      userId = req.body["X-User-Id"];
      authToken = req.body["X-Auth-Token"];
    }

    if (!userId || !authToken) {
      userId = cookies.get("X-User-Id");
      authToken = cookies.get("X-Auth-Token");
    }

    if (!(userId && authToken)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Missing X-Auth-Token",
        "success": false
      }));
      return;
    }

    flowId = (ref = req.query) != null ? ref.flow : void 0;
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        space: 1,
        form: 1,
        name: 1
      }
    });
    form = db.forms.findOne({
      _id: flow.form
    }, {
      fields: {
        space: 1,
        "current._id": 1
      }
    });

    if (_.isEmpty(flow)) {
      res.writeHead(401);
      res.end(JSON.stringify({
        "error": "Validate Request -- Invalid formId",
        "success": false
      }));
      return;
    } else {
      if (!Steedos.isSpaceAdmin(flow.space, userId)) {
        res.writeHead(401);
        res.end(JSON.stringify({
          "error": "Validate Request -- No permission",
          "success": false
        }));
        return;
      }

      space = db.spaces.findOne(flow.space, {
        fields: {
          is_paid: 1
        }
      });

      if (!(space != null ? space.is_paid : void 0)) {
        JsonRoutes.sendResult(res, {
          code: 404,
          data: {
            "error": "Validate Request -- Non-paid space.",
            "success": false
          }
        });
        return;
      }
    }

    data = TemplateManager.handleTableTemplate({
      form: flow.form,
      form_version: form != null ? (ref1 = form.current) != null ? ref1._id : void 0 : void 0
    }, true);
    fileName = flow.name;
    res.setHeader('Content-type', 'application/x-msdownload');
    res.setHeader('Content-Disposition', 'attachment;filename=' + encodeURI(fileName) + '.html');
    return res.end(data);
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_drafts.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_drafts.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/drafts 新建申请单

@apiName createInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "applicant": 申请人Id,
    "values": {
        "fields1" : 字段值,
        "fields2" : 字段值,
        ...
    }
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}

@apiErrorExample {json} error-Response:
{
    "status": "error",
    "data": {...}
}
 */JsonRoutes.add('post', '/api/workflow/open/drafts', function (req, res, next) {
  var applicant, applicantInfo, applicant_id, applicant_username, approve, approves, current_user_info, e, flow, flow_id, hashData, instance_from_client, new_ins, new_ins_id, space_id, space_user, space_user_org_info, trace, traces, user_id;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    user_id = req.userId;
    current_user_info = db.users.findOne({
      _id: user_id
    });
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header x_space_id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user_info._id);
    hashData = req.body;

    if (!hashData["flow"]) {
      throw new Meteor.Error('error', 'flow is null');
    }

    flow_id = hashData["flow"];
    applicant_id = hashData["applicant"];
    applicant_username = hashData["applicant_username"];
    instance_from_client = new Object();
    flow = db.flows.findOne({
      _id: flow_id
    }, {
      fields: {
        space: 1,
        'current._id': 1
      }
    });

    if (!flow) {
      throw new Meteor.Error('error', 'flow is not exists');
    }

    if (space_id !== flow.space) {
      throw new Meteor.Error('error', 'flow is not belong to this space');
    }

    if (db.space_users.find({
      space: space_id,
      user: current_user_info._id
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is not a member of this space');
    }

    instance_from_client["space"] = space_id;
    instance_from_client["flow"] = flow_id;
    instance_from_client["flow_version"] = flow.current._id;
    applicant = null;

    if (applicant_id || applicant_username) {
      if (applicant_id) {
        applicant = db.users.findOne({
          _id: applicant_id
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant is wrong');
        }
      } else if (applicant_username) {
        applicant = db.users.findOne({
          username: applicant_username
        }, {
          fields: {
            name: 1
          }
        });

        if (!applicant) {
          throw new Meteor.Error('error', 'applicant_username is wrong');
        }
      }

      space_user = db.space_users.findOne({
        space: space_id,
        user: applicant._id
      });

      if (!space_user) {
        throw new Meteor.Error('error', 'applicant is not a member of this space');
      }

      if (space_user.user_accepted !== true) {
        throw new Meteor.Error('error', 'applicant is disabled in this space');
      }

      space_user_org_info = uuflowManager.getSpaceUserOrgInfo(space_user);
      instance_from_client["applicant"] = applicant._id;
      instance_from_client["applicant_name"] = applicant.name;
      instance_from_client["applicant_organization"] = space_user_org_info["organization"];
      instance_from_client["applicant_organization_fullname"] = space_user_org_info["organization_fullname"];
      instance_from_client["applicant_organization_name"] = space_user_org_info["organization_name"];
    }

    applicantInfo = applicant || current_user_info;
    traces = [];
    trace = new Object();
    approves = [];
    approve = new Object();
    approve["values"] = hashData["values"];
    approves.push(approve);
    trace["approves"] = approves;
    traces.push(trace);
    instance_from_client["traces"] = traces;
    instance_from_client["inbox_users"] = [applicantInfo._id];
    new_ins_id = uuflowManager.create_instance(instance_from_client, applicantInfo);
    new_ins = db.instances.findOne(new_ins_id);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: new_ins
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {get} /api/workflow/open/get/:ins_id 查看申请单详情

@apiName getInstance

@apiGroup Workflow

@apiPermission 工作区的管理员

@apiParam {String} ins_id 申请单Id
@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiSuccessExample {json} Success-Response:
{
    "status": "success",
    "data": {instance}
}
 */JsonRoutes.add('get', '/api/workflow/open/get/:ins_id', function (req, res, next) {
  var current_user, e, ins_id, instance, perm_users, permissions, space, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = db.instances.findOne(ins_id);

    if (!instance) {
      throw new Meteor.Error('error', 'can not find instance');
    }

    if (db.space_users.find({
      space: instance.space,
      user: current_user
    }).count() === 0) {
      throw new Meteor.Error('error', 'auth_token is wrong');
    }

    perm_users = new Array();
    perm_users.push(instance.submitter);
    perm_users.push(instance.applicant);

    if (instance.outbox_users) {
      perm_users = perm_users.concat(instance.outbox_users);
    }

    if (instance.inbox_users) {
      perm_users = perm_users.concat(instance.inbox_users);
    }

    space = db.spaces.findOne({
      _id: instance.space
    }, {
      fields: {
        admins: 1
      }
    });
    perm_users = perm_users.concat(space.admins);
    permissions = permissionManager.getFlowPermissions(instance.flow, current_user);

    if (!perm_users.includes(current_user) && !permissions.includes("monitor") && !permissions.includes("admin")) {
      throw new Meteor.Error('error', 'no permission');
    }

    instance.attachments = cfs.instances.find({
      'metadata.instance': instance._id,
      'metadata.current': true,
      "metadata.is_private": {
        $ne: true
      }
    }, {
      fields: {
        copies: 0
      }
    }).fetch();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instance
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_submit.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_submit.coffee                                                    //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/submit/:ins_id 提交申请单

@apiDescription 暂不支持开始节点下一节点为条件的情况

@apiName submitInstance

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/submit/:ins_id', function (req, res, next) {
  var current_user, current_user_info, e, flow, form, ins_id, instance, nextSteps, next_step_id, next_user_ids, r, require_but_empty_fields, result, space_id, step, submitter, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    instance = uuflowManager.getInstance(ins_id);
    uuflowManager.isInstanceDraft(instance);

    if (space_id !== instance["space"]) {
      throw new Meteor.Error('error', 'instance is not belong to this space');
    }

    values = instance["traces"][0]["approves"][0].values;
    form = uuflowManager.getForm(instance.form);
    require_but_empty_fields = uuflowManager.checkValueFieldsRequire(values, form, instance.form_version);

    if (require_but_empty_fields.length > 0) {
      if (require_but_empty_fields.length > 1) {
        throw new Meteor.Error('error', 'fields <' + require_but_empty_fields.join(",") + '> are required');
      } else if (require_but_empty_fields.length = 1) {
        throw new Meteor.Error('error', 'field <' + require_but_empty_fields.join(",") + '> is required');
      }
    }

    flow = uuflowManager.getFlow(instance.flow);
    step = uuflowManager.getStep(instance, flow, instance["traces"][0].step);
    nextSteps = uuflowManager.getNextSteps(instance, flow, step, "submitted");

    if (nextSteps.length < 1) {
      throw new Meteor.Error('error', 'can not find next steps');
    }

    if (nextSteps.length > 1) {
      throw new Meteor.Error('error', 'next step not uniq');
    }

    next_step_id = nextSteps[0];
    next_user_ids = getHandlersManager.getHandlers(ins_id, next_step_id) || [];

    if (next_user_ids.length > 1) {
      throw new Meteor.Error('error', 'next step handler not uniq');
    }

    instance["traces"][0]["approves"][0]["next_steps"] = [{
      'step': next_step_id,
      'users': next_user_ids
    }];
    result = new Object();
    submitter = db.users.findOne(instance.submitter);

    if (!submitter) {
      throw new Meteor.Error('error', 'can not find submitter');
    }

    r = uuflowManager.submit_instance(instance, submitter);

    if (r.alerts) {
      result = r;
    } else {
      result = db.instances.findOne(ins_id);

      if (result) {
        result.attachments = cfs.instances.find({
          'metadata.instance': ins_id,
          'metadata.current': true,
          "metadata.is_private": {
            $ne: true
          }
        }, {
          fields: {
            copies: 0
          }
        }).fetch();
      }
    }

    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_save.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_save.coffee                                                      //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {put} /api/workflow/open/save/:ins_id 暂存申请单

@apiName saveInstances

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
    {
		"X-Space-Id": "wsw1re12TdeP223sC"
	}

@apiSuccessExample {json} Success-Response:
    {
		"status": "success",
		"data": {instance}
	}
 */JsonRoutes.add('put', '/api/workflow/open/save/:ins_id', function (req, res, next) {
  var current_step, current_trace, current_user, current_user_info, e, flow, ins_id, instance, result, setObj, space_id, values;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    values = req.body;

    if (!values) {
      throw new Meteor.Error('error', 'need values');
    }

    current_trace = null;
    setObj = new Object();
    instance = uuflowManager.getInstance(ins_id);
    flow = uuflowManager.getFlow(instance.flow);

    _.each(instance.traces, function (t) {
      if (t.is_finished !== true) {
        return current_trace = t;
      }
    });

    current_step = uuflowManager.getStep(instance, flow, current_trace.step);

    if (current_step.step_type === "counterSign") {
      throw new Meteor.Error('error', '会签步骤不能修改表单值');
    }

    _.each(current_trace.approves, function (a) {
      if (a.is_finished !== true && a.type !== "cc") {
        return a.values = values;
      }
    });

    setObj.modified = new Date();
    setObj["traces.$.approves"] = current_trace.approves;
    db.instances.update({
      _id: ins_id,
      'traces._id': current_trace._id
    }, {
      $set: setObj
    });
    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_get_by_stepname.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_get_by_stepname.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
@api {post} /api/workflow/open/getbystepname 根据步骤名称获取申请单

@apiName getInstanceByStepName

@apiGroup Workflow

@apiPermission 工作区管理员

@apiParam {String} access_token User API Token

@apiHeader {String} X-Space-Id	工作区Id

@apiHeaderExample {json} Header-Example:
{
	"X-Space-Id": "wsw1re12TdeP223sC"
}

@apiParamExample {json} Request Payload:
{
    "flow": 流程Id,
    "stepname": 步骤名称
}

@apiSuccessExample {json} Success-Response:
{
	"status": "success",
	"data": [
		{
			instance
		},
		{
			instance
		}
	]
}
 */JsonRoutes.add('post', '/api/workflow/open/getbystepname', function (req, res, next) {
  var current_user, current_user_info, e, flow, hashData, instances, space_id, stepname;

  try {
    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body;
    stepname = hashData["stepname"];
    flow = hashData["flow"];

    if (!stepname) {
      throw new Meteor.Error('error', 'need stepname');
    }

    if (!flow) {
      throw new Meteor.Error('error', 'need flow');
    }

    instances = db.instances.find({
      space: space_id,
      flow: flow,
      state: 'pending',
      traces: {
        $elemMatch: {
          is_finished: false,
          name: stepname
        }
      }
    }, {
      fields: {
        inbox_uers: 0,
        cc_users: 0,
        outbox_users: 0,
        attachments: 0,
        traces: 0
      }
    }).fetch();
    instances.forEach(function (instance) {
      return instance.attachments = cfs.instances.find({
        'metadata.instance': instance._id,
        'metadata.current': true,
        "metadata.is_private": {
          $ne: true
        }
      }, {
        fields: {
          copies: 0
        }
      }).fetch();
    });
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: instances
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_open_cfs.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_open_cfs.coffee                                                       //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
/*
Content-Type：application/json
form-data 格式:
fd = new FormData;
fd.append("file", file);

fd.append("is_private", false);

if (isAddVersion) {
	fd.append("isAddVersion", isAddVersion);
	fd.append("parent", attach_parent_id);
}

if (isMainAttach) {
	fd.append("main", true);
}
 */JsonRoutes.add('post', '/api/workflow/open/cfs/:ins_id', function (req, res, next) {
  var approve_id, current_user, current_user_info, e, ins_id, instance, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能上传');
    }

    approve_id = instance.traces[0].approves[0]._id;
    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    return JsonRoutes.parseFiles(req, res, function () {
      var collection, newFile;
      collection = cfs.instances;

      if (req.files && req.files[0]) {
        if (req.files[0].data.length > 100 * 1024 * 1024) {
          JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              errors: [{
                errorMessage: "超过上传附件大小限制(100M)"
              }]
            }
          });
          return;
        }

        newFile = new FS.File();
        return newFile.attachData(req.files[0].data, {
          type: req.files[0].mimeType
        }, function (err) {
          var body, e, fileObj, filename, metadata, parent, r, result, size;
          filename = req.files[0].filename;

          if (["image.jpg", "image.gif", "image.jpeg", "image.png"].includes(filename.toLowerCase())) {
            filename = "image-" + moment(new Date()).format('YYYYMMDDHHmmss') + "." + filename.split('.').pop();
          }

          body = req.body;
          body['owner'] = instance.submitter;
          body['owner_name'] = instance.submitter_name;
          body['space'] = space_id;
          body['instance'] = ins_id;
          body['approve'] = approve_id;

          try {
            if (body && (body['upload_from'] === "IE" || body['upload_from'] === "node")) {
              filename = decodeURIComponent(filename);
            }
          } catch (error) {
            e = error;
            console.error(filename);
            console.error(e);
            filename = filename.replace(/%/g, "-");
          }

          newFile.name(filename);

          if (body && body['owner'] && body['owner_name'] && body['space'] && body['instance'] && body['approve']) {
            parent = '';
            metadata = {
              owner: body['owner'],
              owner_name: body['owner_name'],
              space: body['space'],
              instance: body['instance'],
              approve: body['approve'],
              current: true
            };

            if (body["is_private"] && body["is_private"].toLocaleLowerCase() === "true") {
              metadata.is_private = true;
            } else {
              metadata.is_private = false;
            }

            if (body['main'] === "true") {
              metadata.main = true;
            }

            if (body['isAddVersion'] && body['parent']) {
              parent = body['parent'];
            }

            if (parent) {
              r = collection.update({
                'metadata.parent': parent,
                'metadata.current': true
              }, {
                $unset: {
                  'metadata.current': ''
                }
              });

              if (r) {
                metadata.parent = parent;

                if (body['locked_by'] && body['locked_by_name']) {
                  metadata.locked_by = body['locked_by'];
                  metadata.locked_by_name = body['locked_by_name'];
                }

                newFile.metadata = metadata;
                fileObj = collection.insert(newFile);

                if (body["overwrite"] && body["overwrite"].toLocaleLowerCase() === "true") {
                  collection.remove({
                    'metadata.instance': body['instance'],
                    'metadata.parent': parent,
                    'metadata.owner': body['owner'],
                    'metadata.approve': body['approve'],
                    'metadata.current': {
                      $ne: true
                    }
                  });
                }
              }
            } else {
              newFile.metadata = metadata;
              fileObj = collection.insert(newFile);
              fileObj.update({
                $set: {
                  'metadata.parent': fileObj._id
                }
              });
            }
          } else {
            fileObj = collection.insert(newFile);
          }

          size = fileObj.original.size;

          if (!size) {
            size = 1024;
          }

          result = new Object();
          result = {
            attach_id: fileObj._id,
            size: size
          };
          res.setHeader("x-amz-version-id", fileObj._id);
          return JsonRoutes.sendResult(res, {
            code: 200,
            data: {
              status: "success",
              data: result
            }
          });
        });
      } else {
        JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            errors: [{
              errorMessage: "need file"
            }]
          }
        });
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("delete", "/api/workflow/open/cfs/:ins_id", function (req, res, next) {
  var attach_id, collection, current_user, current_user_info, e, file, hashData, ins_id, instance, result, space_id;

  try {
    ins_id = req.params.ins_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    instance = uuflowManager.getInstance(ins_id);

    if (instance.state !== "draft") {
      throw new Meteor.Error('error', '申请单草稿状态时才能删除附件');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    hashData = req.body || {};
    attach_id = hashData["attach_id"];

    if (!attach_id) {
      throw new Meteor.Error('error', 'can not find attach_id');
    }

    collection = cfs.instances;
    file = collection.findOne({
      _id: attach_id,
      'metadata.instance': ins_id
    });

    if (file) {
      file.remove();
    } else {
      throw new Meteor.Error('error', '此附件不属于此申请单，或已被删除');
    }

    result = new Object();
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        status: "success",
        data: result
      }
    });
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
JsonRoutes.add("get", "/api/workflow/open/cfs/:attach_id", function (req, res, next) {
  var attach_id, current_user, current_user_info, e, space_id;

  try {
    attach_id = req.params.attach_id;

    if (!Steedos.APIAuthenticationCheck(req, res)) {
      return;
    }

    current_user = req.userId;
    space_id = req.headers['x-space-id'];

    if (!space_id) {
      throw new Meteor.Error('error', 'need header X_Space_Id');
    }

    current_user_info = db.users.findOne(current_user);

    if (!current_user_info) {
      throw new Meteor.Error('error', 'can not find user');
    }

    uuflowManager.getSpace(space_id);
    uuflowManager.isSpaceAdmin(space_id, current_user);
    res.statusCode = 302;
    res.setHeader("Location", Steedos.absoluteUrl("api/files/instances/") + attach_id + "?download=true");
    return res.end();
  } catch (error) {
    e = error;
    console.error(e.stack);
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [{
          errorMessage: e.message
        }]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_refill.coffee                                                 //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_refill", function (req, res, next) {
  var approve, columns, forward_ins, forward_ins_values, original_ins, original_ins_fields, original_ins_form, original_ins_id, original_subtable_fields, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, ref8, ref9, row_data, subTable, table_data, trace, traces;
  console.log("=========回填子表==========");
  console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
  console.log("=========分发回填的列==========");
  console.log("req?.query?.column", req != null ? (ref1 = req.query) != null ? ref1.column : void 0 : void 0);
  columns = req != null ? (ref2 = req.query) != null ? ref2.column.split(';') : void 0 : void 0;
  console.log("columns", columns);
  forward_ins = req != null ? (ref3 = req.body) != null ? ref3.instance : void 0 : void 0;
  subTable = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

  if ((forward_ins != null ? forward_ins.state : void 0) === "completed" && (forward_ins != null ? (ref5 = forward_ins.distribute_from_instances) != null ? ref5.length : void 0 : void 0) > 0 && subTable && columns) {
    forward_ins_values = forward_ins != null ? forward_ins.values : void 0;
    original_ins_id = _.last(forward_ins != null ? forward_ins.distribute_from_instances : void 0);
    original_ins = db.instances.findOne(original_ins_id);
    original_ins_form = db.forms.findOne(original_ins != null ? original_ins.form : void 0);
    original_ins_fields = [];
    original_subtable_fields = [];
    console.log("original_ins_form?.current?._id", original_ins_form != null ? (ref6 = original_ins_form.current) != null ? ref6._id : void 0 : void 0);
    console.log("original_ins?.form_version", original_ins != null ? original_ins.form_version : void 0);

    if ((original_ins != null ? original_ins.form_version : void 0) === (original_ins_form != null ? (ref7 = original_ins_form.current) != null ? ref7._id : void 0 : void 0)) {
      original_ins_fields = (ref8 = original_ins_form.current) != null ? ref8.fields : void 0;
      original_ins_fields.forEach(function (original_ins_field) {
        console.log("original_ins_field", original_ins_field != null ? original_ins_field.code : void 0);

        if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
          return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
        }
      });
    } else {
      if ((original_ins_form != null ? (ref9 = original_ins_form.historys) != null ? ref9.length : void 0 : void 0) > 0) {
        original_ins_form.historys.forEach(function (oh) {
          if ((original_ins != null ? original_ins.form_version : void 0) === oh._id) {
            original_ins_fields = oh != null ? oh.fields : void 0;
            return original_ins_fields.forEach(function (original_ins_field) {
              if ((original_ins_field != null ? original_ins_field.code : void 0) === subTable && (original_ins_field != null ? original_ins_field.type : void 0) === 'table') {
                return original_subtable_fields = original_ins_field != null ? original_ins_field.fields : void 0;
              }
            });
          }
        });
      }
    }

    console.log("original_subtable_fields", original_subtable_fields != null ? original_subtable_fields.length : void 0);

    if (original_subtable_fields) {
      traces = original_ins != null ? original_ins.traces : void 0;
      trace = traces[traces.length - 1];
      approve = trace != null ? trace.approves[0] : void 0;
      table_data = (approve != null ? approve.values[subTable] : void 0) || [];
      row_data = {};
      columns.forEach(function (column) {
        return row_data[column] = forward_ins_values[column] || "";
      });

      if (row_data && row_data !== {}) {
        table_data.push(row_data);
        traces[traces.length - 1].approves[0].values[subTable] = table_data;
        console.log(traces[traces.length - 1].approves[0].values[subTable]);
        db.instances.update(original_ins_id, {
          $set: {
            'traces': traces
          }
        });
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'success': '回填成功'
          }
        });
      } else {
        return JsonRoutes.sendResult(res, {
          code: 200,
          data: {
            'info': '回填数据为空'
          }
        });
      }
    } else {
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'error': '原申请单无相关子表'
        }
      });
    }
  } else {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'success': '申请单未结束'
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_workflow_forward_table_refill.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_workflow_forward_table_refill.coffee                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/forward_table_refill", function (req, res, next) {
  var a_table, a_table_values, approve, column_list, columns, d_ins, d_ins_fields, d_ins_form, d_ins_values, d_match_col, d_match_col_field, d_match_col_fields, d_subtable_fields, d_table, d_table_values, e, o_ins, o_ins_fields, o_ins_form, o_ins_id, o_match_col, o_match_col_field, o_match_col_fields, o_subtable_fields, o_table, ref, ref1, ref10, ref11, ref12, ref13, ref14, ref15, ref16, ref17, ref18, ref19, ref2, ref20, ref21, ref22, ref3, ref4, ref5, ref6, ref7, ref8, ref9, table_data, trace, traces;

  try {
    console.log("=========原表子表==========");
    console.log("req?.query?.oTable", req != null ? (ref = req.query) != null ? ref.oTable : void 0 : void 0);
    console.log("=========现表子表==========");
    console.log("req?.query?.dTable", req != null ? (ref1 = req.query) != null ? ref1.dTable : void 0 : void 0);
    console.log("=========原表单的子表匹配列==========");
    console.log("req?.query?.oMatchCol", req != null ? (ref2 = req.query) != null ? ref2.oMatchCol : void 0 : void 0);
    console.log("=========现表单的子表匹配列==========");
    console.log("req?.query?.dMatchCol", req != null ? (ref3 = req.query) != null ? ref3.dMatchCol : void 0 : void 0);
    console.log("=========需要回填的列==========");
    console.log("req?.query?.refillCol", req != null ? (ref4 = req.query) != null ? ref4.refillCol : void 0 : void 0);
    d_ins = req != null ? (ref5 = req.body) != null ? ref5.instance : void 0 : void 0;

    if ((d_ins != null ? d_ins.state : void 0) === "completed") {
      if (req != null ? (ref6 = req.query) != null ? ref6.oTable : void 0 : void 0) {
        o_table = req != null ? (ref7 = req.query) != null ? ref7.oTable : void 0 : void 0;

        if (req != null ? (ref8 = req.query) != null ? ref8.dTable : void 0 : void 0) {
          d_table = req != null ? (ref9 = req.query) != null ? ref9.dTable : void 0 : void 0;
        } else {
          d_table = o_table;
        }

        if (req != null ? (ref10 = req.query) != null ? ref10.aTable : void 0 : void 0) {
          a_table = req != null ? (ref11 = req.query) != null ? ref11.aTable : void 0 : void 0;
        }

        if (req != null ? (ref12 = req.query) != null ? ref12.oMatchCol : void 0 : void 0) {
          o_match_col = req != null ? (ref13 = req.query) != null ? ref13.oMatchCol : void 0 : void 0;

          if (req != null ? (ref14 = req.query) != null ? ref14.dMatchCol : void 0 : void 0) {
            d_match_col = req != null ? (ref15 = req.query) != null ? ref15.dMatchCol : void 0 : void 0;
          } else {
            d_match_col = o_match_col;
          }

          columns = (req != null ? (ref16 = req.query) != null ? ref16.refillCol.split(';') : void 0 : void 0) || [];
          console.log("columns", columns);

          if (columns || columns.length < 1) {
            console.log("======================");
            console.log(d_table, o_match_col, columns);
            d_ins_values = d_ins != null ? d_ins.values : void 0;
            o_ins_id = _.last(d_ins != null ? d_ins.distribute_from_instances : void 0);
            o_ins = db.instances.findOne(o_ins_id);
            o_ins_form = db.forms.findOne(o_ins != null ? o_ins.form : void 0);
            d_ins_form = db.forms.findOne(d_ins != null ? d_ins.form : void 0);
            o_ins_fields = [];
            o_subtable_fields = [];
            d_ins_fields = [];
            d_subtable_fields = [];
            column_list = [];
            d_table_values = [];

            if ((o_ins != null ? o_ins.form_version : void 0) === (o_ins_form != null ? (ref17 = o_ins_form.current) != null ? ref17._id : void 0 : void 0)) {
              o_ins_fields = o_ins_form != null ? (ref18 = o_ins_form.current) != null ? ref18.fields : void 0 : void 0;
              o_ins_fields.forEach(function (o_ins_field) {
                if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                  return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                }
              });
            } else {
              if ((o_ins_form != null ? (ref19 = o_ins_form.historys) != null ? ref19.length : void 0 : void 0) > 0) {
                o_ins_form.historys.forEach(function (oh) {
                  if ((o_ins != null ? o_ins.form_version : void 0) === oh._id) {
                    o_ins_fields = oh != null ? oh.fields : void 0;
                    return o_ins_fields.forEach(function (o_ins_field) {
                      if ((o_ins_field != null ? o_ins_field.type : void 0) === 'table' && (o_ins_field != null ? o_ins_field.code : void 0) === o_table) {
                        return o_subtable_fields = o_ins_field != null ? o_ins_field.fields : void 0;
                      }
                    });
                  }
                });
              }
            }

            if ((d_ins != null ? d_ins.form_version : void 0) === (d_ins_form != null ? (ref20 = d_ins_form.current) != null ? ref20._id : void 0 : void 0)) {
              d_ins_fields = d_ins_form != null ? (ref21 = d_ins_form.current) != null ? ref21.fields : void 0 : void 0;
              d_ins_fields.forEach(function (d_ins_field) {
                if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                  return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                }
              });
            } else {
              if ((d_ins_form != null ? (ref22 = d_ins_form.historys) != null ? ref22.length : void 0 : void 0) > 0) {
                d_ins_form.historys.forEach(function (dh) {
                  if ((d_ins != null ? d_ins.form_version : void 0) === dh._id) {
                    d_ins_fields = dh != null ? dh.fields : void 0;
                    return d_ins_fields.forEach(function (d_ins_field) {
                      if ((d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === d_table || a_table && (d_ins_field != null ? d_ins_field.type : void 0) === 'table' && (d_ins_field != null ? d_ins_field.code : void 0) === a_table) {
                        return d_subtable_fields = d_subtable_fields.concat(d_ins_field != null ? d_ins_field.fields : void 0);
                      }
                    });
                  }
                });
              }
            }

            if (o_subtable_fields.length === 0) {
              console.log("o_subtable_fields", o_subtable_fields);
              throw new Meteor.Error('forward table refill error!', '原申请单无对应子表');
            }

            if (d_subtable_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单无对应子表');
            }

            d_table_values = (d_ins != null ? d_ins.values[d_table] : void 0) || [];

            if (a_table) {
              a_table_values = (d_ins != null ? d_ins.values[a_table] : void 0) || [];

              if (a_table_values && (a_table_values != null ? a_table_values.length : void 0) === (d_table_values != null ? d_table_values.length : void 0)) {
                a_table_values.forEach(function (a_row, index) {
                  var key, results, value;
                  results = [];

                  for (key in meteorBabelHelpers.sanitizeForInObject(a_row)) {
                    value = a_row[key];
                    results.push(d_table_values[index][key] = value);
                  }

                  return results;
                });
              }
            }

            if (d_table_values.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表数据为空');
            }

            o_match_col_fields = o_subtable_fields.filter(function (m) {
              return m.code === o_match_col;
            });
            d_match_col_fields = d_subtable_fields.filter(function (m) {
              return m.code === d_match_col;
            });

            if (o_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '原申请单子表无对应匹配列');
            }

            if (d_match_col_fields.length === 0) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应匹配列');
            }

            o_match_col_field = o_match_col_fields[0];
            d_match_col_field = d_match_col_fields[0];

            if ((o_match_col_field != null ? o_match_col_field.type : void 0) !== (d_match_col_field != null ? d_match_col_field.type : void 0)) {
              throw new Meteor.Error('forward table refill error!', '分发的申请单和原申请单子表的匹配列字段不一致');
            }

            columns.forEach(function (column) {
              var col, cols, d_col, d_col_fields, o_col, o_col_fields;
              cols = column.split('-') || [];

              if (cols.length === 2) {
                o_col = cols[0];
                d_col = cols[1];
                o_col_fields = o_subtable_fields.filter(function (m) {
                  return m.code === o_col;
                });
                d_col_fields = d_subtable_fields.filter(function (m) {
                  return m.code === d_col;
                });

                if (o_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '原申请单子表无对应回填列');
                }

                if (d_col_fields.length === 0) {
                  throw new Meteor.Error('forward table refill error!', '分发的申请单子表无对应回填列');
                }

                if ((o_col_fields != null ? o_col_fields.type : void 0) !== (d_col_fields != null ? d_col_fields.type : void 0)) {
                  throw new Meteor.Error('forward table refill error!', '回填列字段类型不一致');
                }

                col = {
                  o_col: o_col,
                  d_col: d_col
                };
                return column_list.push(col);
              } else {
                throw new Meteor.Error('forward table refill error!', '回填列不匹配');
              }
            });
            traces = o_ins != null ? o_ins.traces : void 0;
            trace = traces[traces.length - 1];
            approve = trace != null ? trace.approves[0] : void 0;
            table_data = (approve != null ? approve.values[o_table] : void 0) || [];
            d_table_values.forEach(function (d_row) {
              var count, has_obj, row_data;
              has_obj = false;
              count = -1;
              table_data.forEach(function (o_row, index) {
                if (o_row[o_match_col] === d_row[d_match_col]) {
                  has_obj = true;
                  return count = index;
                }
              });

              if (has_obj === true) {
                return column_list.forEach(function (col) {
                  return table_data[count][col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
              } else {
                row_data = {};
                row_data[o_match_col] = d_row[d_match_col];
                column_list.forEach(function (col) {
                  return row_data[col != null ? col.o_col : void 0] = d_row[col != null ? col.d_col : void 0];
                });
                return table_data.push(row_data);
              }
            });
            traces[traces.length - 1].approves[0].values = o_ins != null ? o_ins.values : void 0;
            traces[traces.length - 1].approves[0].values[o_table] = table_data;
            db.instances.update(o_ins_id, {
              $set: {
                'traces': traces
              }
            });
            JsonRoutes.sendResult(res, {
              code: 200,
              data: {
                'success': '回填成功'
              }
            });
          } else {
            throw new Meteor.Error('forward table refill error!', 'webhook未配置子表回填列字段 columns 值');
          }
        } else {
          throw new Meteor.Error('forward table refill error!', 'webhook未配置匹配列字段 oMatchCol 值');
        }
      } else {
        throw new Meteor.Error('forward table refill error!', 'webhook未配置原表单子表 oTable 值');
      }
    } else {
      throw new Meteor.Error('forward table refill error!', '申请单未结束');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_sub_table_sort.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_sub_table_sort.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/workflow/sub_table_sort", function (req, res, next) {
  var e, ins, new_table_values, ref, ref1, ref2, ref3, ref4, ref5, ref6, ref7, sort_col, sub_table, sub_table_values, sum_col;

  try {
    console.log("=========子表==========");
    console.log("req?.query?.subTable", req != null ? (ref = req.query) != null ? ref.subTable : void 0 : void 0);
    console.log("=========子表总分列==========");
    console.log("req?.query?.sumCol", req != null ? (ref1 = req.query) != null ? ref1.sumCol : void 0 : void 0);
    console.log("=========子表排序列==========");
    console.log("req?.query?.sortCol", req != null ? (ref2 = req.query) != null ? ref2.sortCol : void 0 : void 0);
    console.log("=========子表单列需要计算的和==========");
    console.log("req?.query?.singleCols", req != null ? (ref3 = req.query) != null ? ref3.singleCols : void 0 : void 0);
    sub_table = req != null ? (ref4 = req.query) != null ? ref4.subTable : void 0 : void 0;

    if (!sub_table) {
      console.log("=====sub_table======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 subTable 字段');
    }

    sum_col = req != null ? (ref5 = req.query) != null ? ref5.sumCol : void 0 : void 0;

    if (!sum_col) {
      console.log("=====sum_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sumCol 字段');
    }

    sort_col = req != null ? (ref6 = req.query) != null ? ref6.sortCol : void 0 : void 0;

    if (!sort_col) {
      console.log("=====sort_col======");
      throw new Meteor.Error('table sort error!', 'webhook 未配置 sortCol 字段');
    }

    ins = req != null ? (ref7 = req.body) != null ? ref7.instance : void 0 : void 0;
    sub_table_values = ins.values[sub_table];

    if ((sub_table_values != null ? sub_table_values.length : void 0) > 0) {
      var JsonSort = function (jsonArr, key, asc) {
        for (var j = 1, jl = jsonArr.length; j < jl; j++) {
          var temp = jsonArr[j],
              val = Number(temp[key]),
              i = j - 1;

          if (asc == true) {
            while (i >= 0 && Number(jsonArr[i][key]) > val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          } else {
            while (i >= 0 && Number(jsonArr[i][key]) < val) {
              jsonArr[i + 1] = jsonArr[i];
              i = i - 1;
            }
          }

          jsonArr[i + 1] = temp;
        }

        return jsonArr;
      };

      ;
      new_table_values = JsonSort(sub_table_values, sum_col, false);
      console.log("new_table_values", new_table_values);
      new_table_values.forEach(function (obj, index) {
        if (sort_col && obj[sum_col]) {
          return obj[sort_col] = (index + 1).toString();
        }
      });
      console.log("new_table_values", new_table_values);
      ins.values[sub_table] = new_table_values;
      db.instances.update(ins._id, {
        $set: {
          'values': ins.values
        }
      });
      console.log("success");
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          'success': '计算排序成功'
        }
      });
    } else {
      throw new Meteor.Error('table sort error!', '子表数据为空');
    }
  } catch (error) {
    e = error;
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        errors: [e]
      }
    });
  }
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"test_webhook.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/test_webhook.coffee                                                                //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
if (Meteor.isDevelopment) {
  JsonRoutes.add('post', '/test/webhook', function (req, res, next) {
    var e, hashData;

    try {
      hashData = req.body;
      console.log('action: ', hashData.action);
      console.log('from_user: ', hashData.from_user);
      console.log('to_users: ', hashData.to_users);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {}
      });
    } catch (error) {
      e = error;
      console.error(e.stack);
      return JsonRoutes.sendResult(res, {
        code: 200,
        data: {
          errors: [{
            errorMessage: e.message
          }]
        }
      });
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_users.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_users.coffee                                                           //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/users", function (req, res, next) {
  var current_user, current_user_info, spaceId, spaceUsers, space_user, userIds;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  userIds = req.body.userIds;
  spaceId = req.body.spaceId;
  spaceUsers = [];
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!userIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  spaceUsers = WorkflowManager.getFormulaUserObjects(spaceId, userIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'spaceUsers': spaceUsers
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"api_formula_organizations.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/routes/api_formula_organizations.coffee                                                   //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
JsonRoutes.add("post", "/api/formula/orgs", function (req, res, next) {
  var current_user, current_user_info, orgIds, orgs, spaceId, space_user;
  current_user_info = uuflowManager.check_authorization(req);
  current_user = current_user_info._id;
  orgIds = req.body.orgIds;
  spaceId = req.body.spaceId;
  space_user = db.space_users.findOne({
    user: current_user,
    space: spaceId
  }, {
    fields: {
      _id: 1
    }
  });

  if (!space_user) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '无权限'
      }
    });
  }

  if (!orgIds || !spaceId) {
    return JsonRoutes.sendResult(res, {
      code: 200,
      data: {
        'errors': '缺少参数'
      }
    });
  }

  orgs = WorkflowManager.getFormulaOrgObjects(orgIds);
  return JsonRoutes.sendResult(res, {
    code: 200,
    data: {
      'orgs': orgs
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}},"related_instances_tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/related_instances_tabular.coffee                                                          //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
Meteor.startup(function () {
  return TabularTables.related_instances_tabular = new Tabular.Table({
    name: "related_instances_tabular",
    collection: db.instances,
    columns: [{
      data: "_id",
      title: '<input type="checkbox" name="reverse" id="reverse">',
      orderable: false,
      width: '1px',
      render: function (val, type, doc) {
        var input, ref;
        input = '<input type="checkbox" class="related-instances-list-checkbox" name="related_instances_ids" id="related_instances_ids" value="' + doc._id + '"';

        if ((ref = TabularTables.related_instances_tabular.related_instances) != null ? ref.includes(doc._id) : void 0) {
          input += " checked ";
        }

        input += ">";
        return input;
      }
    }, {
      data: "name",
      orderable: false,
      width: '45%',
      render: function (val, type, doc) {
        var absolute, href;
        href = '';

        if (Meteor.isClient && (Steedos.isMobile() || Steedos.isCordova())) {
          href = '';
        }

        absolute = false;

        if (Meteor.isServer) {
          absolute = this.absolute;
        }

        if (absolute) {
          href = Meteor.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        } else {
          href = Steedos.absoluteUrl("workflow/space/" + doc.space + "/view/readonly/" + doc._id + '?hide_traces=0');
        }

        return "<a data-id='" + doc._id + "' target='_blank' href='" + href + "'>" + doc.name + "</a>";
      }
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      orderable: false
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_flow"),
      render: function (val, type, doc) {
        var judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + "</div>";
      }
    }],
    dom: "tp",
    lengthChange: false,
    extraFields: ["state", "final_decision", "space", "keywords"],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var curSpaceUser, flow_ids, flows, organizations, ref, ref1, space, spaceId;

      if (!userId) {
        return {
          _id: -1
        };
      }

      spaceId = selector.space;

      if (!spaceId) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          spaceId = selector.$and.getProperty('space')[0];
        }
      }

      if (!spaceId) {
        return {
          _id: -1
        };
      }

      space = db.spaces.findOne(spaceId);

      if (!space) {
        selector.state = "none";
      }

      if (!space.admins.includes(userId)) {
        flow_ids = [];
        curSpaceUser = db.space_users.findOne({
          space: spaceId,
          'user': userId
        });

        if (curSpaceUser) {
          organizations = db.organizations.find({
            _id: {
              $in: curSpaceUser.organizations
            }
          }).fetch();
          flows = db.flows.find({
            space: spaceId
          });
          flows.forEach(function (fl) {
            if (WorkflowManager.canMonitor(fl, curSpaceUser, organizations) || WorkflowManager.canAdmin(fl, curSpaceUser, organizations)) {
              return flow_ids.push(fl._id);
            }
          });
        }

        if ((selector != null ? (ref1 = selector.$and) != null ? ref1.length : void 0 : void 0) > 0) {
          selector.$and[0].$or = [{
            submitter: userId
          }, {
            applicant: userId
          }, {
            inbox_users: userId
          }, {
            outbox_users: userId
          }, {
            cc_users: userId
          }, {
            flow: {
              $in: flow_ids
            }
          }];
        } else {
          _.extend(selector, {
            $or: [{
              submitter: userId
            }, {
              applicant: userId
            }, {
              inbox_users: userId
            }, {
              outbox_users: userId
            }, {
              cc_users: userId
            }, {
              flow: {
                $in: flow_ids
              }
            }]
          });
        }
      }

      return selector;
    }
  });
});
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

},"tabular.coffee":function(){

/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
//                                                                                                                     //
// packages/steedos_workflow/tabular.coffee                                                                            //
//                                                                                                                     //
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////
                                                                                                                       //
__coffeescriptShare = typeof __coffeescriptShare === 'object' ? __coffeescriptShare : {}; var share = __coffeescriptShare;
var GetBoxInstancesTabularOptions, _get_inbox_instances_tabular_options, _get_outbox_instances_tabular_options, _handleListFields, instancesListTableTabular, newInstancesListTabular, updateTabularTitle;

Steedos.subs["InstanceTabular"] = new SubsManager();

_handleListFields = function (fields) {
  var ins_fields;
  ins_fields = new Array();

  if (fields != null) {
    fields.forEach(function (f) {
      var ref;

      if (f.type === 'table') {
        return console.log('ignore opinion field in table');
      } else if (f.type === 'section') {
        return f != null ? (ref = f.fields) != null ? ref.forEach(function (f1) {
          return ins_fields.push(f1);
        }) : void 0 : void 0;
      } else {
        return ins_fields.push(f);
      }
    });
  }

  return ins_fields;
};

updateTabularTitle = function () {};

instancesListTableTabular = function (flowId, fields) {
  var ins_fields, key, options;
  options = {
    name: "instances",
    collection: db.instances,
    pub: "instance_tabular",
    onUnload: function () {
      return Meteor.setTimeout(Template.instance_list._tableColumns, 150);
    },
    drawCallback: function (settings) {
      var ellipsisLink, emptyTd, title;
      emptyTd = $(".dataTables_empty");

      if (emptyTd.length) {
        emptyTd[0].colSpan = "6";
      }

      if (!Steedos.isMobile() && !Steedos.isPad()) {
        Meteor.setTimeout(Template.instance_list._tableColumns, 150);
        $(".instance-list").scrollTop(0).ready(function () {
          return $(".instance-list").perfectScrollbar("update");
        });
      } else {
        $(".instance-list").scrollTop(0);
      }

      title = t("pager_input_hint");
      ellipsisLink = settings.oInstance.parent().find('.paging_numbers .pagination .disabled a');
      return ellipsisLink.attr("title", title).css("cursor", "pointer").click(function () {
        var goPage, input;

        if (!$(this).find('input').length) {
          input = $('<input class="paginate_input form-control input-sm" type="text" style="border: none; padding:0 2px;"/>');

          if (Steedos.isMobile()) {
            input.css({
              width: "52px",
              height: "20px"
            });
          } else {
            input.css({
              width: "52px",
              height: "16px"
            });
          }

          input.attr("title", title).attr("placeholder", title);
          $(this).empty().append(input);

          goPage = function (index) {
            var pages;

            if (index > 0) {
              pages = Math.ceil(settings.fnRecordsDisplay() / settings._iDisplayLength);

              if (index > pages) {
                index = pages;
              }

              index--;
              return settings.oInstance.DataTable().page(index).draw('page');
            }
          };

          input.blur(function (e) {
            var currentPage;
            currentPage = $(this).val();
            goPage(currentPage);
            return $(this).parent().html('...');
          });
          return input.keydown(function (e) {
            var currentPage;

            if (e.keyCode.toString() === "13") {
              currentPage = $(this).val();
              return goPage(currentPage);
            }
          });
        }
      });
    },
    createdRow: function (row, data, dataIndex) {
      if (Meteor.isClient) {
        if (data._id === FlowRouter.current().params.instanceId) {
          return row.setAttribute("class", "selected");
        }
      }
    },
    columns: [{
      data: "_id",
      orderable: false,
      render: function (val, type, doc) {
        var agent_view, cc_view, flow_name, instanceNamePriorityClass, modified, modifiedFromNow, modifiedString, priorityIcon, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        modifiedString = moment(doc.modified).format('YYYY-MM-DD');
        modified = doc.modified;

        if (Session.get("box") === 'inbox' && doc.state !== 'draft') {
          modified = doc.start_date || doc.modified;
        }

        if (Session.get("box") === 'outbox' || Session.get("box") === 'monitor') {
          modified = doc.submit_date || doc.submit_date;
        }

        modifiedFromNow = Steedos.momentReactiveFromNow(modified);
        flow_name = doc.flow_name;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
          step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
        } else {
          if (Session.get("box") !== 'draft' && doc.current_step_name) {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "<span>(" + doc.current_step_name + ")</span></div>";
          } else {
            step_current_name_view = "<div class='flow-name'>" + flow_name + "</div>";
          }
        }

        agent_view = "";

        if (doc.agent_user_name && Session.get("box") === 'inbox') {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIcon = "";
        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "\n	<span>" + doc.applicant_name + "</span>\n</div>\n<div class='instance-detail'>" + step_current_name_view + "\n	<span class='instance-modified' title='" + modifiedString + "'>" + modifiedFromNow + "</span>\n</div>";
      }
    }, {
      data: "applicant_organization_name",
      title: t("instances_applicant_organization_name"),
      visible: false
    }, {
      data: "name",
      title: t("instances_name"),
      render: function (val, type, doc) {
        var agent_view, cc_view, instanceNamePriorityClass, priorityIconClass, priorityValue, ref, ref1, step_current_name_view, unread;
        cc_view = "";
        step_current_name_view = "";

        if (doc.is_cc && !((ref = doc.inbox_users) != null ? ref.includes(Meteor.userId()) : void 0) && Session.get("box") === 'inbox') {
          cc_view = "<label class='cc-label'>(" + TAPi18n.__("instance_cc_title") + ")</label> ";
        }

        agent_view = "";

        if (doc.agent_user_name) {
          agent_view = "<label class='cc-label'>(" + TAPi18n.__('process_delegation_rules_description', {
            userName: doc.agent_user_name
          }) + ")</label>";
        }

        unread = '';

        if (Session.get("box") === 'inbox' && doc.is_read === false) {
          unread = '<i class="ion ion-record unread"></i>';
        } else if (Session.get("box") === 'monitor' && doc.is_hidden === true) {
          unread = '<i class="fa fa-lock"></i>';
        }

        priorityIconClass = "";
        priorityValue = (ref1 = doc.values) != null ? ref1.priority : void 0;

        switch (priorityValue) {
          case "特急":
            priorityIconClass = "danger";
            break;

          case "紧急":
            priorityIconClass = "warning";
            break;

          case "办文":
            priorityIconClass = "muted";
        }

        if (priorityIconClass) {
          instanceNamePriorityClass = "color-priority color-priority-" + priorityIconClass;
        }

        return "<div class='instance-read-bar'>" + unread + "</div>\n<div class='instance-name " + instanceNamePriorityClass + "'>" + doc.name + cc_view + agent_view + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "applicant_name",
      title: t("instances_applicant_name"),
      visible: false,
      orderable: false
    }, {
      data: "submit_date",
      title: t("instances_submit_date"),
      render: function (val, type, doc) {
        if (doc.submit_date) {
          return moment(doc.submit_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "flow_name",
      title: t("instances_flow"),
      visible: false,
      orderable: false
    }, {
      data: "current_step_name",
      title: t("instances_step_current_name"),
      render: function (val, type, doc) {
        var cc_tag, judge, step_current_name;

        if (doc.state === "completed") {
          judge = doc.final_decision || "approved";
        }

        step_current_name = doc.current_step_name || '';
        cc_tag = '';

        if (doc.cc_count > 0) {
          cc_tag = TAPi18n.__('cc_tag');
        }

        return "<div class=\"step-current-state " + judge + "\">" + step_current_name + cc_tag + "</div>";
      },
      visible: false,
      orderable: false
    }, {
      data: "modified",
      title: t("instances_modified"),
      render: function (val, type, doc) {
        return moment(doc.modified).format('YYYY-MM-DD HH:mm');
      },
      visible: false,
      orderable: true
    }, {
      data: "start_date",
      title: t("instances_start_date"),
      render: function (val, type, doc) {
        if (doc.start_date) {
          return moment(doc.start_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "my_finish_date",
      render: function (val, type, doc) {
        if (doc.my_finish_date) {
          return moment(doc.my_finish_date).format('YYYY-MM-DD HH:mm');
        }
      },
      visible: false,
      orderable: true
    }, {
      data: "modified",
      visible: false
    }, {
      data: "keywords",
      visible: false
    }, {
      data: "is_archived",
      render: function (val, type, doc) {
        var ref;

        if ((doc != null ? (ref = doc.values) != null ? ref.record_need : void 0 : void 0) && doc.values.record_need === "true") {
          if (doc != null ? doc.is_archived : void 0) {
            return t("YES");
          }

          return t("NO");
        }
      },
      visible: false,
      orderable: false
    }],
    dom: function () {
      if (Steedos.isMobile()) {
        return 'tp';
      } else {
        return 'tpl';
      }
    }(),
    order: [[4, "desc"]],
    extraFields: ["form", "flow", "inbox_users", "state", "space", "applicant", "form_version", "flow_version", "is_cc", "cc_count", "is_read", "current_step_name", "values", "keywords", "final_decision", "flow_name", "is_hidden", "agent_user_name"],
    lengthChange: true,
    lengthMenu: [10, 15, 20, 25, 50, 100],
    pageLength: 10,
    info: false,
    searching: true,
    responsive: {
      details: false
    },
    autoWidth: false,
    changeSelector: function (selector, userId) {
      var ref, space, space_user;

      if (!userId) {
        return {
          _id: -1
        };
      }

      space = selector.space;

      if (!space) {
        if ((selector != null ? (ref = selector.$and) != null ? ref.length : void 0 : void 0) > 0) {
          space = selector.$and.getProperty('space')[0];
        }
      }

      if (!space) {
        return {
          _id: -1
        };
      }

      space_user = db.space_users.findOne({
        user: userId,
        space: space
      }, {
        fields: {
          _id: 1
        }
      });

      if (!space_user) {
        return {
          _id: -1
        };
      }

      return selector;
    },
    pagingType: "numbers"
  };

  if (flowId) {
    key = "instanceFlow" + flowId;
    options.name = key;
    TabularTables.instances.fields = fields;
    ins_fields = _handleListFields(TabularTables.instances.fields);
    ins_fields.forEach(function (f) {
      if (f.type !== 'table' && f.is_list_display) {
        return options.columns.push({
          data: f.name || f.code,
          title: t(f.name || f.code),
          visible: false,
          orderable: false,
          render: function (val, type, doc) {
            var value, values;
            values = doc.values || {};
            value = values[f.code];

            switch (f.type) {
              case 'user':
                value = value != null ? value.name : void 0;
                break;

              case 'group':
                value = value != null ? value.fullname : void 0;
                break;

              case 'date':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD');
                }

                break;

              case 'dateTime':
                if (value) {
                  value = moment(value).format('YYYY-MM-DD HH:mm');
                }

                break;

              case 'checkbox':
                if (value === true || value === 'true') {
                  value = TAPi18n.__("form_field_checkbox_yes");
                } else {
                  value = TAPi18n.__("form_field_checkbox_no");
                }

                break;

              case 'odata':
                if (value) {
                  if (_.isArray(value)) {
                    value = _.pluck(value, '@label').toString();
                  } else {
                    value = value['@label'];
                  }
                }

            }

            return value;
          }
        });
      }
    });
  }

  return options;
};

Meteor.startup(function () {
  return TabularTables.instances = new Tabular.Table(instancesListTableTabular());
});

GetBoxInstancesTabularOptions = function (box, flowId, fields) {
  var key, options;
  key = "instanceFlow" + box + flowId;

  if (box === "inbox") {
    options = _get_inbox_instances_tabular_options(flowId, fields);
  } else if (box === "outbox") {
    options = _get_outbox_instances_tabular_options(flowId, fields);
  } else {
    options = instancesListTableTabular(flowId, fields);

    if (!flowId) {
      options.name = "inbox_instances";
    }
  }

  if (flowId) {
    options.name = key;
  }

  return options;
};

_get_inbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "inbox_instances";
  }

  options.order = [[8, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': false,
        '_approve.handler': userId
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'start_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_start_date": {
              $first: "$_approve.start_date"
            }
          }
        });
        ag_sort = {
          'approve_start_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.inbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("inbox"));
});

_get_outbox_instances_tabular_options = function (flowId, fields) {
  var options;
  options = instancesListTableTabular(flowId, fields);

  if (!flowId) {
    options.name = "outbox_instances";
  }

  options.order = [[9, "desc"]];

  options.filteredRecordIds = function (table, selector, sort, skip, limit, old_filteredRecordIds, userId, findOptions) {
    var ag_sort, aggregate, aggregate_operation, async_aggregate, filteredRecordIds, s1, s1_0, s1_1;
    aggregate_operation = [{
      $match: selector
    }, {
      $project: {
        name: 1,
        "_approve": '$traces.approves'
      }
    }, {
      $unwind: "$_approve"
    }, {
      $unwind: "$_approve"
    }, {
      $match: {
        '_approve.is_finished': true,
        $or: [{
          '_approve.handler': userId
        }, {
          '_approve.user': userId
        }]
      }
    }];

    if (sort && sort.length > 0) {
      s1 = sort[0];
      s1_0 = s1[0];
      s1_1 = s1[1];

      if (s1_0 === 'my_finish_date') {
        findOptions.sort = [['modified', s1_1]];
        aggregate_operation.push({
          $group: {
            _id: "$_id",
            "approve_finish_date": {
              $last: "$_approve.finish_date"
            }
          }
        });
        ag_sort = {
          'approve_finish_date': s1_1 === 'asc' ? 1 : -1
        };
        aggregate_operation.push({
          $sort: ag_sort
        });
        aggregate_operation.push({
          $skip: skip
        });
        aggregate_operation.push({
          $limit: limit
        });
        filteredRecordIds = new Array();

        aggregate = function (table, aggregate_operation, filteredRecordIds, cb) {
          table.collection.rawCollection().aggregate(aggregate_operation).toArray(function (err, data) {
            if (err) {
              throw new Error(err);
            }

            data.forEach(function (doc) {
              filteredRecordIds.push(doc._id);
            });

            if (cb) {
              cb();
            }
          });
        };

        async_aggregate = Meteor.wrapAsync(aggregate);
        async_aggregate(table, aggregate_operation, filteredRecordIds);
        return filteredRecordIds.uniq();
      } else {
        return old_filteredRecordIds;
      }
    }
  };

  return options;
};

Meteor.startup(function () {
  return TabularTables.outbox_instances = new Tabular.Table(GetBoxInstancesTabularOptions("outbox"));
});

if (Meteor.isClient) {
  TabularTables.flowInstances = new ReactiveVar();
}

Meteor.startup(function () {
  return Tracker.autorun(function (c) {
    if (Meteor.isClient && !Steedos.isMobile()) {
      if (Session.get("flowId") && Session.get("box") !== 'draft') {
        return Meteor.call("newInstancesListTabular", Session.get("box"), Session.get("flowId"), function (error, result) {
          newInstancesListTabular(Session.get("box"), Session.get("flowId"), result);
          return Template.instance_list._changeOrder();
        });
      }
    }
  });
});

newInstancesListTabular = function (box, flowId, fields) {
  var flow, key, ref, ref1, ref2;

  if (!fields) {
    flow = db.flows.findOne({
      _id: flowId
    }, {
      fields: {
        form: 1
      }
    });
    fields = (ref = db.forms.findOne({
      _id: flow != null ? flow.form : void 0
    }, {
      fields: {
        'current.fields': 1
      }
    })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
  }

  fields = _handleListFields(fields);

  if ((fields != null ? (ref2 = fields.filterProperty("is_list_display", true)) != null ? ref2.length : void 0 : void 0) > 0) {
    key = "instanceFlow" + box + flowId;

    if (Meteor.isClient) {
      TabularTables.flowInstances.set(new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields)));
    } else {
      new Tabular.Table(GetBoxInstancesTabularOptions(box, flowId, fields));
    }

    return console.log("new TabularTables ", key);
  }
};

if (Meteor.isServer) {
  Meteor.methods({
    newInstancesListTabular: function (box, flowId) {
      var fields, flow, ref, ref1;
      newInstancesListTabular(box, flowId);
      flow = db.flows.findOne({
        _id: flowId
      }, {
        fields: {
          form: 1
        }
      });
      fields = (ref = db.forms.findOne({
        _id: flow != null ? flow.form : void 0
      }, {
        fields: {
          'current.fields': 1
        }
      })) != null ? (ref1 = ref.current) != null ? ref1.fields : void 0 : void 0;
      return fields;
    }
  });
}
/////////////////////////////////////////////////////////////////////////////////////////////////////////////////////////

}}}}},{
  "extensions": [
    ".js",
    ".json",
    ".i18n.json",
    ".coffee"
  ]
});

require("/node_modules/meteor/steedos:workflow/i18n/en.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/i18n/zh-CN.i18n.json.js");
require("/node_modules/meteor/steedos:workflow/checkNpm.js");
require("/node_modules/meteor/steedos:workflow/lib/URI.js");
require("/node_modules/meteor/steedos:workflow/lib/collection_helpers.js");
require("/node_modules/meteor/steedos:workflow/lib/tapi18n.coffee");
require("/node_modules/meteor/steedos:workflow/lib/core.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/forms.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flows.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/categories.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/spaces.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/deleted_instances.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/auth_tokens.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/webhooks.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/lib/models/space_users.coffee");
require("/node_modules/meteor/steedos:workflow/lib/cfs/instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/instance_readonly_template.coffee");
require("/node_modules/meteor/steedos:workflow/client/lib/template_manager.coffee");
require("/node_modules/meteor/steedos:workflow/client/coreform/inputTypes/coreform-table/steedos-table.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_image_sign.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_handler.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_form.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_attachments.js");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_instance_sign_text.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_traces_help.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/client/views/instance/_related_records.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/set_instance_step_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/get_instance_data.js");
require("/node_modules/meteor/steedos:workflow/server/methods/save_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/trace_approve_cc.js");
require("/node_modules/meteor/steedos:workflow/server/methods/forward_instance.js");
require("/node_modules/meteor/steedos:workflow/server/methods/cfs_instances.js");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_approve.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_return.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_remind.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/next_step_users_not_found.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_number_rules.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/check_main_attach.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/related_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/edit_flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/start_flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_traces.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_batch.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/flow.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/distribute.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/hide_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/methods/instance_value.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/steedos_css.coffee");
require("/node_modules/meteor/steedos:workflow/server/routes/instance_draft_view.coffee");
require("/node_modules/meteor/steedos:workflow/routes/nextStepUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getSpaceUsers.js");
require("/node_modules/meteor/steedos:workflow/routes/getFormulaUserObjects.js");
require("/node_modules/meteor/steedos:workflow/routes/init_formula_values.js");
require("/node_modules/meteor/steedos:workflow/routes/getNameForUser.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_designer_startup.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_engine.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_remove.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_terminate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_reassign.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_relocate.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_archive.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_export.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_space_changeset.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_retrieve.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward.js");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_instance.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_pending.coffee");
require("/node_modules/meteor/steedos:workflow/routes/export_table_template.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_drafts.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_submit.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_save.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_get_by_stepname.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_open_cfs.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_workflow_forward_table_refill.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_sub_table_sort.coffee");
require("/node_modules/meteor/steedos:workflow/routes/test_webhook.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/1_form_formula.js");
require("/node_modules/meteor/steedos:workflow/server/lib/get_handlers_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/permission_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/approve_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/flow_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/form_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/step_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/categories.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/cfs_instances.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_positions_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_roles.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flows.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/forms.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_data.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_list.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/instance_draft.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/distributed_instances_state_by_ids.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/related_instaces.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/space_user_signs.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/user_inbox_instance.coffee");
require("/node_modules/meteor/steedos:workflow/server/publications/flow_main_attach_template.coffee");
require("/node_modules/meteor/steedos:workflow/lib/admin.coffee");
require("/node_modules/meteor/steedos:workflow/related_instances_tabular.coffee");
require("/node_modules/meteor/steedos:workflow/tabular.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_users.coffee");
require("/node_modules/meteor/steedos:workflow/routes/api_formula_organizations.coffee");
require("/node_modules/meteor/steedos:workflow/server/flow-template/workflow_template.coffee");
require("/node_modules/meteor/steedos:workflow/server/startup.coffee");
require("/node_modules/meteor/steedos:workflow/server/lib/instance_manager.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/auto_finish_process_delegation.coffee");
require("/node_modules/meteor/steedos:workflow/server/schedule/timeout_auto_submit.coffee");

/* Exports */
Package._define("steedos:workflow", {
  InstanceManager: InstanceManager,
  WorkflowManager_format: WorkflowManager_format,
  Workflow: Workflow,
  SteedosTable: SteedosTable,
  InstanceReadOnlyTemplate: InstanceReadOnlyTemplate,
  TemplateManager: TemplateManager,
  CoreForm: CoreForm,
  InstanceNumberRules: InstanceNumberRules,
  getHandlersManager: getHandlersManager,
  permissionManager: permissionManager,
  workflowTemplate: workflowTemplate,
  approveManager: approveManager,
  stepManager: stepManager,
  flowManager: flowManager,
  formManager: formManager
});

})();

//# sourceURL=meteor://💻app/packages/steedos_workflow.js
//# sourceMappingURL=data:application/json;charset=utf8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jaGVja05wbS5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9saWIvVVJJLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9jb3JlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvbGliL2NvcmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2xpYi9tb2RlbHMvYXV0aF90b2tlbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC9saWIvaW5zdGFuY2VfcmVhZG9ubHlfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL2luc3RhbmNlX3JlYWRvbmx5X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvbGliL3RlbXBsYXRlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L2NsaWVudC9jb3JlZm9ybS9pbnB1dFR5cGVzL2NvcmVmb3JtLXRhYmxlL3N0ZWVkb3MtdGFibGUuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbWFnZV9zaWduLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oYW5kbGVyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL190cmFjZXNfaGFuZGxlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9mb3JtLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX2luc3RhbmNlX2F0dGFjaG1lbnRzLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9faW5zdGFuY2Vfc2lnbl90ZXh0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19pbnN0YW5jZV9zaWduX3RleHQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L2NsaWVudC92aWV3cy9pbnN0YW5jZS9fdHJhY2VzX2hlbHAuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3RyYWNlc19oZWxwLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvY2xpZW50L3ZpZXdzL2luc3RhbmNlL19yZWxhdGVkX3JlY29yZHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9jbGllbnQvdmlld3MvaW5zdGFuY2UvX3JlbGF0ZWRfcmVjb3Jkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvc2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL3NldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2dldF9pbnN0YW5jZV9kYXRhLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL3NhdmVfaW5zdGFuY2UuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvc2VydmVyL21ldGhvZHMvdHJhY2VfYXBwcm92ZV9jYy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9mb3J3YXJkX2luc3RhbmNlLmpzIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9tZXRob2RzL2Nmc19pbnN0YW5jZXMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYXBwcm92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2FwcHJvdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2luc3RhbmNlX3JldHVybi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfcmVtaW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9uZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9jaGVja19tYWluX2F0dGFjaC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvcmVsYXRlZF9pbnN0YW5jZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9yZWxhdGVkX2luc3RhbmNlcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvZWRpdF9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9tZXRob2RzL2VkaXRfZmxvd19wb3NpdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL3N0YXJ0X2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9zdGFydF9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV90cmFjZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2luc3RhbmNlX2JhdGNoLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfYmF0Y2guY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9tZXRob2RzL2Zsb3cuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9mbG93LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbWV0aG9kcy9oaWRlX2luc3RhbmNlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL21ldGhvZHMvaGlkZV9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL21ldGhvZHMvaW5zdGFuY2VfdmFsdWUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbWV0aG9kcy9pbnN0YW5jZV92YWx1ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3JvdXRlcy9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9yb3V0ZXMvaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9yb3V0ZXMvc3RlZWRvc19jc3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL3N0ZWVkb3NfY3NzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcm91dGVzL2luc3RhbmNlX2RyYWZ0X3ZpZXcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zOndvcmtmbG93L3NlcnZlci9saWIvMV9mb3JtX2Zvcm11bGEuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL2xpYi9nZXRfaGFuZGxlcnNfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZ2V0X2hhbmRsZXJzX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvcGVybWlzc2lvbl9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9wZXJtaXNzaW9uX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvYXBwcm92ZV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL2xpYi9hcHByb3ZlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9saWIvZmxvd19tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2Zvcm1fbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvZm9ybV9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL3N0ZXBfbWFuYWdlci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9saWIvc3RlcF9tYW5hZ2VyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvbGliL2luc3RhbmNlX21hbmFnZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvY2F0ZWdvcmllcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9jZnNfaW5zdGFuY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcG9zaXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9ucy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X3Bvc2l0aW9uc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dfcm9sZXMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZmxvd3MuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2Zsb3dzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2Zvcm1zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mb3Jtcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kYXRhLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL2luc3RhbmNlX2xpc3QuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfdGFidWxhci5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9pbnN0YW5jZV9kcmFmdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvaW5zdGFuY2VfZHJhZnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9yZWxhdGVkX2luc3RhY2VzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvcHVibGljYXRpb25zL3NwYWNlX3VzZXJfc2lnbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9wdWJsaWNhdGlvbnMvdXNlcl9pbmJveF9pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3B1YmxpY2F0aW9ucy9mbG93X21haW5fYXR0YWNoX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvZmxvdy10ZW1wbGF0ZS93b3JrZmxvd190ZW1wbGF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3NlcnZlci9mbG93LXRlbXBsYXRlL3dvcmtmbG93X3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9zZXJ2ZXIvc2NoZWR1bGUvYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvc2VydmVyL3NjaGVkdWxlL2F1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvc2VydmVyL3NjaGVkdWxlL3RpbWVvdXRfYXV0b19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9zZXJ2ZXIvc2NoZWR1bGUvdGltZW91dF9hdXRvX3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL25leHRTdGVwVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldFNwYWNlVXNlcnMuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3M6d29ya2Zsb3cvcm91dGVzL2dldEZvcm11bGFVc2VyT2JqZWN0cy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvaW5pdF9mb3JtdWxhX3ZhbHVlcy5qcyIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZ2V0TmFtZUZvclVzZXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfZGVzaWduZXJfc3RhcnR1cC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19lbmdpbmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2VuZ2luZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19kcmFmdHMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZW1vdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbW92ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3N1Ym1pdC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd190ZXJtaW5hdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3Rlcm1pbmF0ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19yZWFzc2lnbi5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVhc3NpZ24uY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmVsb2NhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JlbG9jYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2FyY2hpdmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZXhwb3J0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19leHBvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfc3BhY2VfY2hhbmdlc2V0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19zcGFjZV9jaGFuZ2VzZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfcmV0cmlldmUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X3JldHJpZXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvczp3b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmQuanMiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19pbnN0YW5jZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfaW5zdGFuY2UuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9wZW5kaW5nLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX3BlbmRpbmcuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9leHBvcnRfdGFibGVfdGVtcGxhdGUuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvZXhwb3J0X3RhYmxlX3RlbXBsYXRlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZHJhZnRzLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2RyYWZ0cy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9nZXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zdWJtaXQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc3VibWl0LmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fc2F2ZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9zYXZlLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X29wZW5fZ2V0X2J5X3N0ZXBuYW1lLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2dldF9ieV9zdGVwbmFtZS5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV93b3JrZmxvd19vcGVuX2Nmcy5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfd29ya2Zsb3dfb3Blbl9jZnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfd29ya2Zsb3dfZm9yd2FyZF9yZWZpbGwuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX3dvcmtmbG93X2ZvcndhcmRfdGFibGVfcmVmaWxsLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV93b3JrZmxvd19mb3J3YXJkX3RhYmxlX3JlZmlsbC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cvcm91dGVzL2FwaV9zdWJfdGFibGVfc29ydC5jb2ZmZWUiLCJtZXRlb3I6Ly/wn5K7YXBwL3JvdXRlcy9hcGlfc3ViX3RhYmxlX3NvcnQuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy90ZXN0X3dlYmhvb2suY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvdGVzdF93ZWJob29rLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yb3V0ZXMvYXBpX2Zvcm11bGFfdXNlcnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JvdXRlcy9hcGlfZm9ybXVsYV9vcmdhbml6YXRpb25zLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcm91dGVzL2FwaV9mb3JtdWxhX29yZ2FuaXphdGlvbnMuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9wYWNrYWdlcy9zdGVlZG9zX3dvcmtmbG93L3JlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXIuY29mZmVlIiwibWV0ZW9yOi8v8J+Su2FwcC9yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvcGFja2FnZXMvc3RlZWRvc193b3JrZmxvdy90YWJ1bGFyLmNvZmZlZSIsIm1ldGVvcjovL/CfkrthcHAvdGFidWxhci5jb2ZmZWUiXSwibmFtZXMiOlsiY2hlY2tOcG1WZXJzaW9ucyIsIm1vZHVsZSIsImxpbmsiLCJ2IiwiY29va2llcyIsIm1rZGlycCIsInJvb3QiLCJmYWN0b3J5IiwiZGVmaW5lIiwiYW1kIiwiVVJJIiwicHVueWNvZGUiLCJJUHY2IiwiU2Vjb25kTGV2ZWxEb21haW5zIiwiU0xEIiwiX1VSSSIsInVybCIsImJhc2UiLCJfdXJsU3VwcGxpZWQiLCJhcmd1bWVudHMiLCJsZW5ndGgiLCJfYmFzZVN1cHBsaWVkIiwidW5kZWZpbmVkIiwiVHlwZUVycm9yIiwibG9jYXRpb24iLCJocmVmIiwiYWJzb2x1dGVUbyIsInZlcnNpb24iLCJwIiwicHJvdG90eXBlIiwiaGFzT3duIiwiT2JqZWN0IiwiaGFzT3duUHJvcGVydHkiLCJlc2NhcGVSZWdFeCIsInN0cmluZyIsInJlcGxhY2UiLCJnZXRUeXBlIiwidmFsdWUiLCJTdHJpbmciLCJ0b1N0cmluZyIsImNhbGwiLCJzbGljZSIsImlzQXJyYXkiLCJvYmoiLCJmaWx0ZXJBcnJheVZhbHVlcyIsImRhdGEiLCJsb29rdXAiLCJpIiwiX21hdGNoIiwidGVzdCIsInNwbGljZSIsImFycmF5Q29udGFpbnMiLCJsaXN0IiwiX3R5cGUiLCJtYXRjaCIsImFycmF5c0VxdWFsIiwib25lIiwidHdvIiwic29ydCIsImwiLCJ0cmltU2xhc2hlcyIsInRleHQiLCJ0cmltX2V4cHJlc3Npb24iLCJfcGFydHMiLCJwcm90b2NvbCIsInVzZXJuYW1lIiwicGFzc3dvcmQiLCJob3N0bmFtZSIsInVybiIsInBvcnQiLCJwYXRoIiwicXVlcnkiLCJmcmFnbWVudCIsImR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyIsImVzY2FwZVF1ZXJ5U3BhY2UiLCJwcm90b2NvbF9leHByZXNzaW9uIiwiaWRuX2V4cHJlc3Npb24iLCJwdW55Y29kZV9leHByZXNzaW9uIiwiaXA0X2V4cHJlc3Npb24iLCJpcDZfZXhwcmVzc2lvbiIsImZpbmRfdXJpX2V4cHJlc3Npb24iLCJmaW5kVXJpIiwic3RhcnQiLCJlbmQiLCJ0cmltIiwiZGVmYXVsdFBvcnRzIiwiaHR0cCIsImh0dHBzIiwiZnRwIiwiZ29waGVyIiwid3MiLCJ3c3MiLCJpbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMiLCJkb21BdHRyaWJ1dGVzIiwiZ2V0RG9tQXR0cmlidXRlIiwibm9kZSIsIm5vZGVOYW1lIiwidG9Mb3dlckNhc2UiLCJ0eXBlIiwiZXNjYXBlRm9yRHVtYkZpcmVmb3gzNiIsImVzY2FwZSIsInN0cmljdEVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZVVSSUNvbXBvbmVudCIsImVuY29kZSIsImRlY29kZSIsImRlY29kZVVSSUNvbXBvbmVudCIsImlzbzg4NTkiLCJ1bmVzY2FwZSIsInVuaWNvZGUiLCJjaGFyYWN0ZXJzIiwicGF0aG5hbWUiLCJleHByZXNzaW9uIiwibWFwIiwicmVzZXJ2ZWQiLCJ1cm5wYXRoIiwiZW5jb2RlUXVlcnkiLCJlc2NhcGVkIiwiZGVjb2RlUXVlcnkiLCJlIiwiX3BhcnQiLCJnZW5lcmF0ZUFjY2Vzc29yIiwiX2dyb3VwIiwiYyIsImdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uIiwiX3NlcCIsIl9jb2RpbmdGdW5jTmFtZSIsIl9pbm5lckNvZGluZ0Z1bmNOYW1lIiwiYWN0dWFsQ29kaW5nRnVuYyIsInNlZ21lbnRzIiwic3BsaXQiLCJqb2luIiwiZGVjb2RlUGF0aCIsImRlY29kZVVyblBhdGgiLCJyZWNvZGVQYXRoIiwicmVjb2RlVXJuUGF0aCIsImVuY29kZVJlc2VydmVkIiwicGFyc2UiLCJwYXJ0cyIsInBvcyIsImluZGV4T2YiLCJzdWJzdHJpbmciLCJwYXJzZUF1dGhvcml0eSIsInBhcnNlSG9zdCIsImJyYWNrZXRQb3MiLCJ0IiwiY2hhckF0IiwiZmlyc3RDb2xvbiIsImZpcnN0U2xhc2giLCJuZXh0Q29sb24iLCJwYXJzZVVzZXJpbmZvIiwibGFzdEluZGV4T2YiLCJzaGlmdCIsInBhcnNlUXVlcnkiLCJpdGVtcyIsInNwbGl0cyIsIm5hbWUiLCJwdXNoIiwiYnVpbGQiLCJidWlsZEF1dGhvcml0eSIsImJ1aWxkSG9zdCIsImJ1aWxkVXNlcmluZm8iLCJidWlsZFF1ZXJ5IiwidW5pcXVlIiwia2V5IiwiYnVpbGRRdWVyeVBhcmFtZXRlciIsImFkZFF1ZXJ5IiwiY29uY2F0IiwicmVtb3ZlUXVlcnkiLCJoYXNRdWVyeSIsIndpdGhpbkFycmF5IiwiX2Jvb2x5IiwiQm9vbGVhbiIsIm9wIiwiY29tbW9uUGF0aCIsIk1hdGgiLCJtaW4iLCJ3aXRoaW5TdHJpbmciLCJjYWxsYmFjayIsIm9wdGlvbnMiLCJfc3RhcnQiLCJfZW5kIiwiX3RyaW0iLCJfYXR0cmlidXRlT3BlbiIsImxhc3RJbmRleCIsImV4ZWMiLCJpbmRleCIsImlnbm9yZUh0bWwiLCJhdHRyaWJ1dGVPcGVuIiwibWF4Iiwic2VhcmNoIiwiaWdub3JlIiwicmVzdWx0IiwiZW5zdXJlVmFsaWRIb3N0bmFtZSIsInRvQVNDSUkiLCJub0NvbmZsaWN0IiwicmVtb3ZlQWxsIiwidW5jb25mbGljdGVkIiwiVVJJVGVtcGxhdGUiLCJkZWZlckJ1aWxkIiwiX2RlZmVycmVkX2J1aWxkIiwiX3N0cmluZyIsImNsb25lIiwidmFsdWVPZiIsImdlbmVyYXRlU2ltcGxlQWNjZXNzb3IiLCJnZW5lcmF0ZVByZWZpeEFjY2Vzc29yIiwiX2tleSIsImhhc2giLCJyZXMiLCJfb2JqZWN0IiwiYXR0cmlidXRlIiwic3JjIiwiaXMiLCJ3aGF0IiwiaXAiLCJpcDQiLCJpcDYiLCJzbGQiLCJpZG4iLCJyZWxhdGl2ZSIsImhhcyIsIl9wcm90b2NvbCIsIl9wb3J0IiwiX2hvc3RuYW1lIiwic2NoZW1lIiwieCIsIm9yaWdpbiIsImF1dGhvcml0eSIsImhvc3QiLCJ1c2VyaW5mbyIsInJlc291cmNlIiwic3ViZG9tYWluIiwiZG9tYWluIiwic3ViIiwiUmVnRXhwIiwidGxkIiwiZ2V0IiwiUmVmZXJlbmNlRXJyb3IiLCJkaXJlY3RvcnkiLCJmaWxlbmFtZSIsImRlY29kZVBhdGhTZWdtZW50IiwibXV0YXRlZERpcmVjdG9yeSIsIm5vcm1hbGl6ZVBhdGgiLCJzdWZmaXgiLCJzIiwic2VnbWVudCIsInNlcGFyYXRvciIsImFic29sdXRlIiwiRXJyb3IiLCJwb3AiLCJ1bnNoaWZ0Iiwic2VnbWVudENvZGVkIiwicSIsInNldFF1ZXJ5Iiwic2V0U2VhcmNoIiwiYWRkU2VhcmNoIiwicmVtb3ZlU2VhcmNoIiwiaGFzU2VhcmNoIiwibm9ybWFsaXplIiwibm9ybWFsaXplUHJvdG9jb2wiLCJub3JtYWxpemVRdWVyeSIsIm5vcm1hbGl6ZUZyYWdtZW50Iiwibm9ybWFsaXplSG9zdG5hbWUiLCJub3JtYWxpemVQb3J0IiwiYmVzdCIsIl9wYXRoIiwiX3dhc19yZWxhdGl2ZSIsIl9sZWFkaW5nUGFyZW50cyIsIl9wYXJlbnQiLCJfcG9zIiwibm9ybWFsaXplUGF0aG5hbWUiLCJub3JtYWxpemVTZWFyY2giLCJub3JtYWxpemVIYXNoIiwiZCIsInJlYWRhYmxlIiwidXJpIiwidG9Vbmljb2RlIiwicXAiLCJrdiIsInJlc29sdmVkIiwicHJvcGVydGllcyIsImJhc2VkaXIiLCJyZWxhdGl2ZVRvIiwicmVsYXRpdmVQYXJ0cyIsImJhc2VQYXJ0cyIsImNvbW1vbiIsInJlbGF0aXZlUGF0aCIsImJhc2VQYXRoIiwicGFyZW50cyIsImVxdWFscyIsIm9uZV9tYXAiLCJ0d29fbWFwIiwiY2hlY2tlZCIsIm9uZV9xdWVyeSIsInR3b19xdWVyeSIsIldvcmtmbG93IiwiSW1hZ2VTaWduIiwiVHJhY2VzSGFuZGxlciIsIlRyYWNlc1RlbXBsYXRlIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUiLCJJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZSIsIkluc3RhbmNlU2lnblRleHQiLCJSZWxhdGVkSW5zdGFuY2VzIiwiUmVsYXRlZFJlY29yZHMiLCJJbnN0YW5jZU1hY3JvIiwiY29udGV4dCIsIlRyYWNlc01hbmFnZXIiLCJpc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyIsImZpZWxkX2Zvcm11bGEiLCJpbmNsdWRlc09waW5pb25GaWVsZCIsImZvcm0iLCJmb3JtX3ZlcnNpb24iLCJfZm9ybV92ZXJzaW9uIiwiZmllbGRfZm9ybXVsYXMiLCJmaWVsZHMiLCJBcnJheSIsIk1ldGVvciIsImlzU2VydmVyIiwidXVmbG93TWFuYWdlciIsImdldEZvcm1WZXJzaW9uIiwiZGIiLCJmb3JtcyIsImZpbmRPbmUiLCJfaWQiLCJmb3JtX3ZlcnNpb25zIiwiZm9yRWFjaCIsImYiLCJyZWYiLCJjb25zb2xlIiwibG9nIiwiZjEiLCJmb3JtdWxhIiwiXyIsInNvbWUiLCJoZWxwZXJzIiwiYXV0aF90b2tlbnMiLCJDb2xsZWN0aW9uIiwiX2dldExvY2FsZSIsIl9nZXRSZXF1aXJlZEZpZWxkcyIsIl9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyIsIl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyIsIl9nZXRUZW1wbGF0ZURhdGEiLCJfZ2V0Vmlld0h0bWwiLCJnZXRMaW5rVGV4dCIsIkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZSIsImluc3RhbmNlX2F0dGFjaG1lbnQiLCJhZlNlbGVjdFVzZXJSZWFkIiwiYWZGb3JtR3JvdXBSZWFkIiwiYWZGb3JtR3JvdXAiLCJjcmVhdGUiLCJ0ZW1wYWx0ZU5hbWUiLCJzdGVlZG9zRGF0YSIsInRlbXBsYXRlIiwidGVtcGxhdGVDb21waWxlZCIsInRlbXBsYXRlUmVuZGVyRnVuY3Rpb24iLCJTcGFjZWJhcnNDb21waWxlciIsImNvbXBpbGUiLCJpc0JvZHkiLCJldmFsIiwiVGVtcGxhdGUiLCJCbGF6ZSIsImNyZWF0ZUluc3RhbmNlU2lnblRleHQiLCJpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQiLCJpbnN0YW5jZVNpZ25UZXh0SHRtbCIsImluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlU2lnblRleHQiLCJjcmVhdGVJbWFnZVNpZ24iLCJpbWFnZVNpZ25Db21waWxlZCIsImltYWdlU2lnbkh0bWwiLCJpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbiIsImltYWdlU2lnbiIsImNyZWF0ZVRyYWNlc0hhbmxkZXIiLCJ0cmFjZXNIYW5sZGVyQ29tcGlsZWQiLCJ0cmFjZXNIYW5sZGVySHRtbCIsInRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiIsImluc3RhbmNlX3RyYWNlc19oYW5kbGVyIiwiaW5pdCIsIml0ZW0iLCJsYWJlbCIsImRldGFpbF91cmwiLCJTdGVlZG9zIiwiYWJzb2x1dGVVcmwiLCJnZXRWYWx1ZSIsImZpZWxkIiwibG9jYWxlIiwidXRjT2Zmc2V0IiwiZGF0ZSIsImhvdXJzIiwibW9udGgiLCJzZWNvbmRzIiwidDAiLCJ0MSIsInllYXIiLCJlbmNvZGVVUkkiLCJlcnJvciIsImlzX211bHRpc2VsZWN0IiwiZ2V0UHJvcGVydHkiLCJmdWxsbmFtZSIsIlRBUGkxOG4iLCJfXyIsIkRhdGUiLCJmb3JtYXREYXRlIiwiaXNfdGV4dGFyZWEiLCJTcGFjZWJhcnMiLCJTYWZlU3RyaW5nIiwiTWFya2Rvd24iLCJwYXJzZUZsb2F0IiwidG9GaXhlZCIsImRpZ2l0cyIsIm51bWJlclRvU3RyaW5nIiwiZ2V0TGFiZWwiLCJjb2RlIiwiZmluZFByb3BlcnR5QnlQSyIsImdldEluc3RhbmNlRm9ybVZlcnNpb24iLCJpbnN0YW5jZSIsImZvcm1fZmllbGRzIiwiY3VycmVudCIsIndoZXJlIiwiaGlzdG9yeXMiLCJnZXRGbG93VmVyc2lvbiIsImZsb3ciLCJmbG93X3ZlcnNpb24iLCJmbG93cyIsInZpZXdIdG1sIiwiQXNzZXRzIiwiZ2V0VGV4dCIsInVzZXIiLCJyZWYxIiwidG9Mb2NhbGVMb3dlckNhc2UiLCJyZXYiLCJpc19yZXF1aXJlZCIsInN0ZXBzIiwiZWRpdGFibGVDb2RlIiwic3RhcnRTdGVwIiwia2V5cyIsInBlcm1pc3Npb25zIiwicmVxdWlyZWRGaWVsZHMiLCJpbnRlcnNlY3Rpb24iLCJzcGFjZSIsIldvcmtmbG93TWFuYWdlciIsImlzQ2xpZW50IiwiV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdCIsImdldEF1dG9mb3JtU2NoZW1hVmFsdWVzIiwiaW5zbmFtZSIsImluc19zdGF0ZSIsInN0YXRlIiwiaW5zX2ZpbmFsX2RlY2lzaW9uIiwiaW5zX2NvZGUiLCJpbnNfaXNfYXJjaGl2ZWQiLCJpc19hcmNoaXZlZCIsImluc19pc19kZWxldGVkIiwiYXBwbGljYW50X25hbWUiLCJhcHBsaWNhbnRDb250ZXh0Iiwic2Vzc2lvblVzZXJJZCIsImVkaXRhYmxlIiwic3RhcnRTdGVwRWRpdGFibGVGaWVsZHMiLCJwYXNzaW5nIiwibW9tZW50IiwiZm9ybWF0IiwiZ2V0SW5zdGFuY2VWaWV3IiwiYm9keSIsImluc3RhbmNlQ29tcGlsZWQiLCJpbnN0YW5jZVJlbmRlckZ1bmN0aW9uIiwiaW5zdGFuY2VUZW1wbGF0ZSIsIlRlbXBsYXRlTWFuYWdlciIsImdldFRlbXBsYXRlIiwidGVtcGxhdGVOYW1lIiwiaW5zdGFuY2VfcmVhZG9ubHlfdmlldyIsInRvSFRNTFdpdGhEYXRhIiwiZ2V0VHJhY2VzVmlldyIsInRyYWNlQ29tcGlsZWQiLCJ0cmFjZVJlbmRlckZ1bmN0aW9uIiwidHJhY2VzSHRtbCIsImluc3RhbmNlX3N0eWxlIiwidHJhY2VfcmVhZG9ubHlfdmlldyIsInRyYWNlcyIsImdldEF0dGFjaG1lbnRWaWV3IiwiYXR0YWNobWVudENvbXBpbGVkIiwiYXR0YWNobWVudEh0bWwiLCJhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24iLCJhdHRhY2htZW50c19yZWFkb25seV92aWV3IiwiZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXciLCJyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQiLCJyZWxhdGVkSW5zdGFuY2VzSHRtbCIsInJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXciLCJnZXRSZWxhdGVkUmVjb3Jkc1ZpZXciLCJyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkIiwicmVsYXRlZFJlY29yZHNIdG1sIiwicmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiIsInJlbGF0ZWRfcmVjb3Jkc192aWV3IiwiZ2V0T25Mb2FkU2NyaXB0IiwiZm9ybV9zY3JpcHQiLCJnZXRJbnN0YW5jZUh0bWwiLCJhbGxDc3NMaW5rIiwiYXR0YWNobWVudCIsImNyZWF0b3JTZXJ2aWNlIiwiY3NzSHJlZiIsImZvcm1EZXNjcmlwdGlvbiIsImZvcm1EZXNjcmlwdGlvbkh0bWwiLCJodG1sIiwiaW5zX3JlY29yZF9pZHMiLCJpbnN0YW5jZUJveFN0eWxlIiwib25Mb2FkU2NyaXB0Iiwib3BlbkZpbGVTY3JpcHQiLCJyZWxhdGVkX2luc3RhbmNlcyIsInJlbGF0ZWRfcmVjb3JkcyIsInNob3dUcmFjZXNCdG4iLCJzaG93VHJhY2VzU2NyaXB0IiwidHJhY2UiLCJ0cmFjZUNoZWNrIiwid2lkdGgiLCJzZXR0aW5ncyIsIndlYnNlcnZpY2VzIiwiY3JlYXRvciIsInJlY29yZF9pZHMiLCJKU09OIiwic3RyaW5naWZ5IiwiaXNNb2JpbGUiLCJzaG93VHJhY2UiLCJmaW5hbF9kZWNpc2lvbiIsInNob3dBdHRhY2htZW50cyIsImlzRW1wdHkiLCJ0YWdnZXIiLCJzdHlsZXMiLCJkZXNjcmlwdGlvbiIsInBsdWdpbnMiLCJmb3JtSWQiLCJpbnN0YW5jZV90aXRsZSIsInBhZ2VUaXRsZSIsInBhZ2VUaXRsZVRyQ2xhc3MiLCJ2YWwiLCJDb3JlRm9ybSIsInBhZ2VUaXRsZUZpZWxkTmFtZSIsImhhbmRsZVRhYmxlVGVtcGxhdGUiLCJfZXhwb3J0IiwidGFibGVfZmllbGRzIiwidGFibGVfZmllbGQiLCJmaWVsZF9wZXJtaXNzaW9uIiwicHVyZUNvZGUiLCJyZXF1aXJlZCIsInRpdGxlX3Blcm1pc3Npb24iLCJyZW1vdmVTcGVjaWFsQ2hhcmFjdGVyIiwiaXNPcGluaW9uRmllbGQiLCJ0cl9zdGFydCIsInRkX2NvbHNwYW4iLCJ0cl9lbmQiLCJpbmNsdWRlcyIsInBlcm1pc3Npb24iLCJfdGVtcGxhdGUiLCJ0YWJsZSIsIl90ZW1wbGF0ZUhlbHBzIiwic3RlZWRvc19pbnN0YW5jZSIsImdldEluc3RhbmNlIiwiYXR0cyIsImlkIiwic3R5bGUiLCJkaXNhYmxlZCIsImluc3RhbmNlSWQiLCJmb3JtX3R5cGVzIiwiQXBwcm92ZU1hbmFnZXIiLCJpc1JlYWRPbmx5Iiwic3RlZWRvc19mb3JtIiwiaW5uZXJzdWJmb3JtQ29udGV4dCIsImRvY192YWx1ZXMiLCJTZXNzaW9uIiwiYSIsImIiLCJTaW1wbGVTY2hlbWEiLCJnZXRBdXRvZm9ybVNjaGVtYSIsImluc3RhbmNlX2JveF9zdHlsZSIsImJveCIsImlucyIsImp1ZGdlIiwicHJpbnRfdGVtcGxhdGUiLCJpbnN0YW5jZV90ZW1wbGF0ZSIsIlN0ZWVkb3NUYWJsZSIsImNoZWNrSXRlbSIsIml0ZW1faW5kZXgiLCJmaWVsZE9iaiIsImdldEZpZWxkIiwiZmllbGRWYWwiLCJnZXRJdGVtTW9kYWxWYWx1ZSIsInNmX25hbWUiLCJzZmllbGRzIiwic2YiLCJJbnN0YW5jZU1hbmFnZXIiLCJjaGVja0Zvcm1GaWVsZFZhbHVlIiwiJCIsInNldFRhYmxlSXRlbVZhbHVlIiwiaXRlbV92YWx1ZSIsInRhYmxlVmFsdWUiLCJnZXRUYWJsZVZhbHVlIiwiZ2V0VGFibGVJdGVtVmFsdWUiLCJyZW1vdmVUYWJsZUl0ZW0iLCJyZW1vdmVkIiwic2V0VGFibGVWYWx1ZSIsImdldFZhbGlkVmFsdWUiLCJ2YWxpZFZhbHVlIiwiaGFuZGxlRGF0YSIsInZhbHVlcyIsImluc3RhbmNlRmllbGRzIiwiZ2V0SW5zdGFuY2VGaWVsZHMiLCJnZXRNb2RhbERhdGEiLCJGb3JtX2Zvcm11bGEiLCJnZXRGb3JtdWxhRmllbGRWYXJpYWJsZSIsIkF1dG9Gb3JtIiwiZ2V0Rm9ybVZhbHVlcyIsImluc2VydERvYyIsImFkZEl0ZW0iLCJfaXRlbV92YWx1ZSIsImdldEtleXMiLCJhcHBlbmQiLCJnZXRUciIsInVwZGF0ZUl0ZW0iLCJ0ZHMiLCJnZXRSZW1vdmVUZCIsInNmaWVsZCIsImdldFRkIiwiZW1wdHkiLCJydW5Gb3JtdWxhIiwicmVtb3ZlSXRlbSIsImhpZGUiLCJzaG93TW9kYWwiLCJtZXRob2QiLCJtb2RhbERhdGEiLCJNb2RhbCIsInNob3ciLCJnZXRDdXJyZW50RGF0YUZvckZvcm0iLCJzcyIsImdldEZvcm1TY2hlbWEiLCJzY2hlbWEiLCJvYmplY3RLZXlzIiwiX21ha2VHZW5lcmljIiwiZ2V0VGhlYWQiLCJpc09iamVjdCIsInRoZWFkIiwidHJzIiwic2ZfbGVuZ3RoIiwid2lkZV9maWVsZHMiLCJmaWx0ZXJQcm9wZXJ0eSIsImlzX3dpZGUiLCJnZXRUYm9keSIsInRib2R5IiwidHIiLCJ0ZCIsInRkX3ZhbHVlIiwiZ2V0VERWYWx1ZSIsInZpZXciLCJDRkRhdGFNYW5hZ2VyIiwiZ2V0Rm9ybXVsYVNwYWNlVXNlcnMiLCJ1IiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnMiLCJvIiwiZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbiIsInBsdWNrIiwiYWRkSW5wdXRUeXBlIiwidmFsdWVPdXQiLCJ2YWx1ZUNvbnZlcnRlcnMiLCJzdHJpbmdUb1N0cmluZ0FycmF5Iiwic3RyaW5nVG9OdW1iZXIiLCJzdHJpbmdUb051bWJlckFycmF5Iiwic3RyaW5nVG9Cb29sZWFuIiwic3RyaW5nVG9Cb29sZWFuQXJyYXkiLCJzdHJpbmdUb0RhdGUiLCJzdHJpbmdUb0RhdGVBcnJheSIsImNvbnRleHRBZGp1c3QiLCJtYXhsZW5ndGgiLCJhZlRhYmxlIiwiZXZlbnRzIiwiZXZlbnQiLCJuZXdfaXRlbV9pbmRleCIsImN1cnJlbnRUYXJnZXQiLCJkYXRhc2V0Iiwic2V0IiwicmVuZGVyZWQiLCJzdHIiLCJhZGRJdGVtVHIiLCJzcGFjZVVzZXJTaWduIiwidXNlcklkIiwic3BhY2VfdXNlcl9zaWducyIsImltYWdlVVJMIiwic2lnbiIsInNob3dTaWduSW1hZ2UiLCJoYW5kbGVyIiwidW5lbXB0eSIsInVuZXF1YWxzIiwiaW5jbHVkZSIsInJlZjIiLCJyZWYzIiwiZ2V0SW5zdGFuY2VGbG93VmVyc2lvbiIsImFwcHJvdmVzIiwicmVmNCIsInN0ZXAiLCJhcHByb3ZlIiwianVkZ2VfbmFtZSIsImlzX2ZpbmlzaGVkIiwiaGFuZGxlcl9uYW1lIiwiaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSIsImhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwiZmluaXNoX2RhdGUiLCJvcGluaW9uX2ZpZWxkc19jb2RlIiwic2lnbl9maWVsZF9jb2RlIiwiaXNfcmVhZCIsInNpZ25fc2hvdyIsImFmdGVyX2ZpZWxkIiwiYmVmb3JlX2ZpZWxkIiwicHJlX2ZpZWxkcyIsInByZV93aWRlX2ZpZWxkcyIsInNvcnRfYXBwcm92ZSIsIm9yZGVyIiwicDEiLCJwMiIsIl9wMSIsIl9wMiIsImdldFRpbWUiLCJfdCIsImdldENmQ2xhc3MiLCJnZXRUYWJsZVRoZWFkIiwiZ2V0VGFibGVCb2R5Iiwic2hvd0xhYmVsIiwidGVtcGxhdGVEYXRhIiwiZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lIiwidG9wX2tleXdvcmRzIiwiZm9vMSIsIm9waW5pb25GaWVsZHMiLCJmb28iLCJqc29uX2Zvcm11bGEiLCJzMSIsImVycm9yMSIsInlpamlhbmxhbiIsInN0ZXBOYW1lIiwiaW1hZ2Vfc2lnbiIsIm9ubHlfY2Nfb3BpbmlvbiIsIm9ubHlfY2MiLCJkZWZhdWx0X2Rlc2NyaXB0aW9uIiwib25seV9oYW5kbGVyIiwic2hvd0NDT3BpbmlvbiIsIm1hcmtEb3duVG9IdG1sIiwibWFya0Rvd25TdHJpbmciLCJyZW5kZXJlciIsIlJlbmRlcmVyIiwidGl0bGUiLCJmX2xhYmVsIiwidGhhdCIsImlzU2VjdGlvbiIsInJlZ2lzdGVySGVscGVyIiwiaW5zX2F0dGFjaF9kb3dubG9hZF91cmwiLCJnZXRQZXJtaXNzaW9ucyIsImluc3RhbmNlZm9ybUNoYW5nZUV2ZW50IiwicHJldmVudERlZmF1bHQiLCJvcGVuV2luZG93IiwidGFyZ2V0Iiwib25DcmVhdGVkIiwiY29tcGlsZWQiLCJpbnN0YW5jZUN1c3RvbVRlbXBsYXRlIiwiaW5zdGFuY2VWaWV3IiwicmVuZGVyRnVuY3Rpb24iLCJWaWV3IiwiaW5zdGFuY2VfY3VzdG9tX3RlbXBsYXRlIiwib25SZW5kZXJlZCIsImN1cnJlbnRBcHByb3ZlIiwiY3VycmVudFN0ZXAiLCJmb3JtdWxhX2ZpZWxkcyIsImluc3RhbmNlTnVtYmVyRmllbGRzIiwiYXBwbGljYW50IiwibmV4dFN0ZXBzIiwibmV4dFN0ZXBVc2VycyIsIkluc3RhbmNlRXZlbnQiLCJpbml0RXZlbnRzIiwiZ2V0Q3VycmVudEFwcHJvdmUiLCJlYWNoIiwiZWxlbWVudCIsInNjaGVtYUtleSIsInRvYXN0ciIsInJlYXNvbiIsImdldEZpZWxkVmFsdWUiLCJJbnN0YW5jZU51bWJlclJ1bGVzIiwiaW5zdGFuY2VOdW1iZXJCdWlsZGVyIiwidHJpZ2dlciIsImdldEN1cnJlbnRTdGVwIiwicnVuIiwic2hvd01haW5UaXRsZSIsIndvcmtmbG93TWFpbkF0dGFjaFRpdGxlIiwiZW5hYmxlZF9hZGRfbWFpbl9hdHRhY2htZW50IiwiY3VycmVudF9zdGVwIiwibWFpbl9hdHRhY2hfY291bnQiLCJjZnMiLCJpbnN0YW5jZXMiLCJmaW5kIiwiY291bnQiLCJkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50IiwiZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlIiwic3RhcnRfc3RlcCIsImdldFN0YXJ0U3RlcCIsImNhbl9lZGl0X21haW5fYXR0YWNoIiwic3RlcF90eXBlIiwiZW5hYmxlZF9lZGl0X25vcm1hbF9hdHRhY2htZW50IiwiZ2V0RmxvdyIsInVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZCIsImlzQ0MiLCJnZXRDQ1N0ZXAiLCJjYW5fZWRpdF9ub3JtYWxfYXR0YWNoIiwibWFpbl9hdHRhY2htZW50IiwibWFpbl9hdHRhY2giLCJub3JtYWxfYXR0YWNobWVudHMiLCJzZWxlY3RvciIsIiRuZSIsImRmaXMiLCJkaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIiwiJGluIiwiZGlzdHJpYnV0ZV9tYWluIiwiZmlyc3RWZXJzaW9uTWFpbiIsIm1ldGFkYXRhIiwicGFyZW50IiwiYXR0YWNobWVudFVwbG9hZGVkQXQiLCJ1cGxvYWRlZEF0IiwiZmlyc3RWZXJzaW9uIiwic29ydEJ5IiwiaW5zdGFuY2VJZHMiLCJhdHRhY2htZW50c19jb3VudCIsImNvbXBhY3QiLCJhdHRhY2htZW50cyIsIiRvciIsImZldGNoIiwibXlBcHByb3ZlIiwibXlUcmFjZSIsImlzSW5ib3giLCJkZWZhdWx0RGVzY3JpcHRpb24iLCJhcHByb3ZlX3NvcnQiLCJhcHByb3Zlc0dyb3VwIiwiYXBwcm92ZXNfc29ydGVkIiwiY29tcGxldGVkX2RhdGUiLCJoYXNOZXh0IiwiaGF2ZURlc2NyaXB0aW9uQXBwcm92ZSIsImlzX2NvbXBsZXRlZCIsImxhc3QiLCJ0b3BfYXBwcm92ZXMiLCJ1bmlvbiIsImZpbHRlciIsInRvcF9hcHByb3ZlIiwiZ3JvdXBCeSIsImhhbmRsZXJBcHByb3ZlcyIsImRlc2NyaXB0aW9uQXBwcm92ZXMiLCJfZGlzcGxheSIsImlzTXlBcHByb3ZlIiwibXlBcHByb3ZlRGVzY3JpcHRpb24iLCJhcHByb3ZlSWQiLCJub3ciLCJpc09waW5pb25PZkZpZWxkIiwiaW1hZ2VTaWduRGF0YSIsImdldExhc3RTaWduQXBwcm92ZSIsImdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzIiwibGFzdE15QXBwcm92ZURlc2NyaXB0aW9uIiwic2hvd0FwcHJvdmUiLCJqdWRnZV9kZXNjcmlwdGlvbiIsImlzX2FwcHJvdmVkIiwiaXNfcmVqZWN0ZWQiLCJpc19yZWFkZWQiLCJhZGRDbGFzcyIsInNldFRpbWVvdXQiLCJkYXRlRm9ybWF0IiwiZ2V0RnVsbFllYXIiLCJnZXRTdGVwTmFtZSIsInN0ZXBJZCIsImdldEluc3RhbmNlU3RlcCIsInNob3dEZWxldGVCdXR0b24iLCJhcHByb3ZlZCIsImZyb21fdXNlciIsImlzU2hvd01vZGlmaWNhdGlvbkJ1dHRvbiIsImFwcHJvdmVfYWRtaW5zIiwiaXNTaG93Iiwid29ya2Zsb3ciLCJjb250YWlucyIsImlzRWRpdGluZyIsImlzX2VkaXRpbmciLCJpc1Nob3dEZXNjcmlwdGlvbiIsImdldEFwcHJvdmVTdGF0dXNJY29uIiwiYXBwcm92ZUp1ZGdlIiwiYXBwcm92ZVN0YXR1c0ljb24iLCJnZXRBcHByb3ZlU3RhdHVzVGV4dCIsImFwcHJvdmVTdGF0dXNUZXh0IiwiaXNGb3J3YXJkIiwic2hvd0ZvcndhcmREZWxldGVCdXR0b24iLCJmb3J3YXJkX2luc3RhbmNlIiwiaXNEaXN0cmlidXRlIiwic2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b24iLCJpc0xlZ2FsVmVyc2lvbiIsImhhc0Zsb3dBZG1pblBlcm1pc3Npb24iLCJmaW5pc2hEYXRlU2NoZW1hIiwiaXNBbmRyb2lkT3JJT1MiLCJhdXRvZm9ybSIsIm9wdGlvbmFsIiwicmVhZG9ubHkiLCJkYXRlVGltZVBpY2tlck9wdGlvbnMiLCJpZ25vcmVSZWFkb25seSIsIndpZGdldFBvc2l0aW9uaW5nIiwiaG9yaXpvbnRhbCIsImZpbmlzaERhdGVWYWx1ZXMiLCJzaG93VHJhY2VzVmlldyIsInNob3dfbW9kYWxfdHJhY2VzX2xpc3QiLCJzcGFjZV9zZXR0aW5ncyIsImdldEluc3RhbmNlU3RhdGVUZXh0IiwiaW5zdGFuY2VfaWQiLCJnZXRJbnN0YW5jZVN0YXRlQ29sb3IiLCJjbGEiLCJmaXJzdFRyYWNlIiwibGFzdF9kaXN0cmlidXRlX2Zyb20iLCJkaXNfaW5mbyIsIiRleGlzdHMiLCJjcmVhdGVkIiwiY3JlYXRlZF9ieSIsIlVVZmxvd19hcGkiLCJnZXROYW1lRm9yVXNlciIsInVzZXJzIiwiZnJvbV91c2VyX25hbWUiLCJpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZCIsImp1ZGdlVGVybWluYXRlZCIsImluc3RhbmNlRXhpc3RzIiwiYWdlbnREZXNjcmlwdGlvbiIsInVzZXJOYW1lIiwidHJhY2VOYW1lIiwidHJhY2VJZCIsInN0b3BQcm9wYWdhdGlvbiIsImNhbGxpbmciLCJlcnIiLCJyZW1vdmVDbGFzcyIsInN1Y2Nlc3MiLCJmb3J3YXJkX3NwYWNlIiwiZm9yd2FyZHNwYWNlIiwiZm9yd2FyZGluc3RhbmNlIiwiVHJhY2tlciIsImFmdGVyRmx1c2giLCJvbiIsInNjcm9sbFRvcCIsImZpbmlzaF9pbnB1dCIsIm9waW5pb25faW5wdXQiLCJhbGxvd011bHRpcGxlIiwic2hvd1JlbGF0ZWRJbnN0YWNlcyIsInJlbGF0ZWRfaW5zdGFjZXMiLCJyZWxhdGVkX2luc3RhY2VfdXJsIiwiaXNDb3Jkb3ZhIiwic2hvd19kZWxldGUiLCJzaG93UmVsYXRlZFJlY29yZHMiLCJtZXRob2RzIiwic2V0X2luc3RhbmNlX3N0ZXBfYXBwcm92ZSIsImluc19pZCIsInN0ZXBfYXBwcm92ZSIsInN0ZXBzQXBwcm92ZXNPcHRpb25zIiwiX2tleXMxIiwiX2tleXMyIiwic3RlcHNBcHByb3ZlcyIsInN0ZXBBcHByb3ZlcyIsInN0ZXBzQXBwcm92ZU9wdGlvbnMiLCJ1bmlxIiwidXBkYXRlIiwiJHNldCIsInNldF9pbnN0YW5jZV9za2lwX3N0ZXBzIiwiYWN0aW9uIiwiJHB1bGwiLCJza2lwX3N0ZXBzIiwiJHB1c2giLCJnZXRfaW5zdGFuY2VfZGF0YSIsImZvcm1DYWNoZWQiLCJmbG93Q2FjaGVkIiwiY2hlY2siLCJkcmFmdF9zYXZlX2luc3RhbmNlIiwic2V0T2JqIiwidHJhY2VfaWQiLCJhcHByb3ZlX2lkIiwibmV4dF9zdGVwcyIsImFwcGxpY2FudF9pZCIsInN1Ym1pdHRlciIsInNwYWNlX2lkIiwiZmxvd19pZCIsImZvcm1faWQiLCJjdXJyZW50X3RyYWNlIiwiaWR4Iiwia2V5X3N0ciIsImN1cnJlbnRfdXNlciIsImxhbmciLCJpc0luc3RhbmNlRHJhZnQiLCJpc0luc3RhbmNlU3VibWl0dGVyIiwibW9kaWZpZWQiLCJtb2RpZmllZF9ieSIsInNwYWNlX3VzZXJzIiwib3JnYW5pemF0aW9uIiwib3JnX2lkIiwib3JnYW5pemF0aW9ucyIsImFwcGxpY2FudF9vcmdhbml6YXRpb24iLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUiLCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lIiwibmFtZV9mb3J1bWxhIiwiZ2V0SW5zdGFuY2VOYW1lIiwiaW5ib3hfc2F2ZV9pbnN0YW5jZSIsImN1cnJlbnRfYXBwcm92ZSIsImlzSW5zdGFuY2VQZW5kaW5nIiwiaXNUcmFjZU5vdEZpbmlzaGVkIiwiaXNBcHByb3ZlTm90RmluaXNoZWQiLCJpc0hhbmRsZXJPckFnZW50Iiwic3RhY2siLCJzdGVwX2lkIiwiaCIsInBlcm1pc3Npb25zX3ZhbHVlcyIsImdldEFwcHJvdmVWYWx1ZXMiLCJjaGFuZ2VfdmFsdWVzIiwiYXBwcm92ZU1hbmFnZXIiLCJnZXRDaGFuZ2VWYWx1ZXMiLCJleHRlbmQiLCJ2YWx1ZXNfaGlzdG9yeSIsImZvcm1fdiIsImNjX2RvIiwiY2NfdXNlcl9pZHMiLCJjY191c2VycyIsImN1cnJlbnRfdXNlcl9pZCIsIm5ld19hcHByb3ZlcyIsInNwYWNlX3VzZXIiLCJhZ2VudCIsImdldEFnZW50IiwiaGFuZGxlcl9pZCIsImhhbmRsZXJfaW5mbyIsImhhbmRsZXJfc3BhY2VfdXNlciIsImhhbmRsZXJfb3JnX2luZm8iLCJmaWxlZHMiLCJnZXRTcGFjZVVzZXIiLCJnZXRTcGFjZVVzZXJPcmdJbmZvIiwiYXBwciIsIk1vbmdvIiwiT2JqZWN0SUQiLCJfc3RyIiwic2V0UmVtaW5kSW5mbyIsIiRhZGRUb1NldCIsIiRlYWNoIiwiY3VycmVudF91c2VyX2luZm8iLCJwdXNoTWFuYWdlciIsInNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uIiwidHJpZ2dlcldlYmhvb2siLCJjY19yZWFkIiwiY2Nfc3VibWl0Iiwib3V0Ym94X3VzZXJzIiwidXBvYmoiLCJzdGFydF9kYXRlIiwic2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyIiwiY2NfcmVtb3ZlIiwicmVtb3ZlX3VzZXJfaWQiLCJtdWx0aSIsImNjX3NhdmUiLCJoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQiLCJpc0ZvcndhcmRBdHRhY2htZW50cyIsInNlbGVjdGVkVXNlcnMiLCJhY3Rpb25fdHlwZSIsInJlbGF0ZWQiLCJmcm9tX2FwcHJvdmVfaWQiLCJmb3J3YXJkX3JlbW92ZSIsImhhc0FkbWluUGVybWlzc2lvbiIsImZvcndhcmRfaW5zdGFuY2VfaWQiLCJpbmJveF91c2VycyIsImRlbGV0ZWQiLCJkZWxldGVkX2J5IiwiZGVsZXRlZF9mb3J3YXJkX2luc3RhbmNlX2lkIiwiZGVsZXRlZF9pbnN0YW5jZXMiLCJpbnNlcnQiLCJyZW1vdmUiLCJ1X2lkIiwic2V0X29iaiIsImNhbmNlbERpc3RyaWJ1dGUiLCJhcHByb3ZlX2lkcyIsImV4aXN0cyIsImNmc19pbnN0YW5jZXNfcmVtb3ZlIiwiZmlsZV9pZCIsImNmc19pbnN0YW5jZXNfc2V0X2N1cnJlbnQiLCJjZnNfaW5zdGFuY2VzX2xvY2siLCJ1c2VyX2lkIiwidXNlcl9uYW1lIiwiY2ZzX2luc3RhbmNlc191bmxvY2siLCIkdW5zZXQiLCJkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrIiwic3BhY2VJZCIsImNmc1JlY29yZElkcyIsImlzX2Nsb3VkYWRtaW4iLCJzdG9yZSIsImZzIiwicmVxdWlyZSIsIl9fbWV0ZW9yX2Jvb3RzdHJhcF9fIiwic2VydmVyRGlyIiwiYWJzb2x1dGVQYXRoIiwicmVzb2x2ZSIsInN5bmMiLCJ0aW1lIiwiZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMiLCJmaWxlTmFtZSIsImZpbGVQYXRoIiwid3JhcEFzeW5jIiwid3JpdGVyIiwiY3JlYXRlV3JpdGVTdHJlYW0iLCJpc0Z1bmN0aW9uIiwicmVhZGVyIiwiY3JlYXRlUmVhZFN0cmVhbSIsInBpcGUiLCJ0aW1lRW5kIiwic2V0X2FwcHJvdmVfaGF2ZV9yZWFkIiwic2VsZiIsImNoYW5nZV9hcHByb3ZlX2luZm8iLCJ1cGRhdGVfYXBwcm92ZV9zaWduIiwic2lnbl90eXBlIiwibGFzdFNpZ25BcHByb3ZlIiwibGFzdFRyYWNlIiwic2Vzc2lvbl91c2VySWQiLCJ1cE9iaiIsImN1c3RvbV9zaWduX3Nob3ciLCJ1cGRhdGVfc2lnbl9zaG93Iiwib2JqcyIsIm15QXBwcm92ZV9pZCIsImluc3RhbmNlX3JldHVybiIsImFwcHJvdmVfdmFsdWVzIiwibGFzdF90cmFjZSIsIm5ld1RyYWNlIiwibmV3X2luYm94X3VzZXJzIiwicHJlX3N0ZXAiLCJwcmVfdHJhY2UiLCJyIiwicmVzdF9jb3VudGVyX3VzZXJzIiwiZ2V0U3RlcCIsInByZXZpb3VzX3RyYWNlX2lkcyIsImR1ZV9kYXRlIiwiZ2V0RHVlRGF0ZSIsInRpbWVvdXRfaG91cnMiLCJuZXh0X3N0ZXBfdXNlcl9pZCIsIm5ld0FwcHJvdmUiLCJuZXh0X3N0ZXBfc3BhY2VfdXNlciIsIm5leHRfc3RlcF91c2VyX29yZ19pbmZvIiwidXNlcl9pbmZvIiwiaGFuZGxlcl9vcmdhbml6YXRpb24iLCJpc19lcnJvciIsImN1cnJlbnRfc3RlcF9uYW1lIiwiaW5zdGFuY2VfcmVtaW5kIiwicmVtaW5kX3VzZXJzIiwicmVtaW5kX2NvdW50IiwicmVtaW5kX2RlYWRsaW5lIiwiYWN0aW9uX3R5cGVzIiwibGFzdF9yZW1pbmRfdXNlcnMiLCJwcmlvcml0eSIsIk1hdGNoIiwiT25lT2YiLCJhcCIsImNhY3VsYXRlX2RhdGUiLCJtYW51YWxfZGVhZGxpbmUiLCJjYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheSIsInJlbWluZF9kYXRlIiwiY2FjdWxhdGVXb3JraW5nVGltZSIsImJhc2VfZGF0ZSIsInBsdXNfaGFsZmRheV9kYXRlIiwic2VuZFJlbWluZFNNUyIsIm5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQiLCJkZWFsX3R5cGUiLCJzdGVwX25hbWUiLCJwYXJhbXMiLCJhcHByb3Zlcl9yb2xlcyIsInJvbGVzIiwicm9sZXNfbmFtZSIsImZsb3dfcm9sZXMiLCJyb2xlX25hbWUiLCJfZXZhbCIsIl9OVU1CRVIiLCJfWVlZWSIsIm51bWJlclJ1bGVzIiwicnVsZXMiLCJzY3JpcHQiLCJpbnN0YW5jZV9udW1iZXJfcnVsZXMiLCJudW1iZXIiLCJZWVlZIiwiTU0iLCJnZXRNb250aCIsIm1tIiwiREQiLCJnZXREYXRlIiwiZGQiLCJmaXJzdF9udW1iZXIiLCJOVU1CRVIiLCJuZXdObyIsIl9lcnJvciIsImNoZWNrX21haW5fYXR0YWNoIiwiY2hlY2tNYWluQXR0YWNoIiwicmVtb3ZlX3JlbGF0ZWQiLCJyZV9pbnNfaWQiLCJ1cGRhdGVfaW5zdGFuY2VfcmVsYXRlZCIsInVwZGF0ZUZsb3dQb3NpdGlvbiIsImZsb3dfcG9zaXRpb25zIiwicm9sZSIsIm9yZyIsInVwZGF0ZUZsb3dSb2xlIiwic3RhcnRfZmxvdyIsImZsb3dJZCIsImtleVZhbHVlIiwic3RhcnRfZmxvd3MiLCJzdGVlZG9zX2tleXZhbHVlcyIsImdldF9pbnN0YW5jZV90cmFjZXMiLCJtaW5pQXBwcm92ZUZpZWxkcyIsImNhdGVnb3J5SWQiLCJmbG93SWRzIiwiX2JhdGNoX2luc3RhbmNlcyIsImdldEJhdGNoSW5zdGFuY2VzIiwibXlBcHByb3ZlcyIsImluc0lkIiwibXlfYXBwcm92ZSIsImdldE15QXBwcm92ZSIsImNoYW5nZV9mbG93X3N0YXRlIiwiX3VzZXJJZCIsIl9mbG93cyIsIl9mbG93c19zdGF0ZSIsImZvcm1fY3VycmVudF9maWVsZHNfY29kZSIsImlzU3BhY2VBZG1pbiIsImlzX3ZhbGlkIiwiZmxvd3R5cGUiLCJzcGVjaWZ5U3RlcCIsImFwcHJvdmVyX3N0ZXAiLCJfc3RlcCIsImZpZWxkc19tb2RpZmlhYmxlIiwiaGlkZV9pbnN0YW5jZSIsImlzX2hpZGRlbiIsInBlcm1pc3Npb25NYW5hZ2VyIiwiZ2V0Rmxvd1Blcm1pc3Npb25zIiwic3BhY2VzIiwiYWRtaW5zIiwiZ2V0SW5zdGFuY2VWYWx1ZXMiLCJDb29raWVzIiwiZ2V0SW5zdGFuY2VSZWFkT25seSIsInJlcSIsIm5leHQiLCJfaGFzUGVybWlzc2lvbiIsIl9sb2NhbGUiLCJfcGFyZW50X2luc3RhbmNlcyIsImRhdGFCdWYiLCJoaWRlX3RyYWNlcyIsInNwYWNlVXNlckNvdW50IiwiZ2V0QVBJTG9naW5Vc2VyIiwiYWNjZXNzX3Rva2VuIiwiZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuIiwiSnNvblJvdXRlcyIsInNlbmRSZXN1bHQiLCJoYXNJbnN0YW5jZVBlcm1pc3Npb25zIiwiX3BhcmVudF9pZCIsIl9wYXJlbnRfaW5zIiwiY2hhcnNldCIsIkJ1ZmZlciIsInNldEhlYWRlciIsInN0YXR1c0NvZGUiLCJhZGQiLCJpbnN0YW5jZV9uYW1lIiwicmV0X3N5bmNfdG9rZW4iLCJzcGFjZVVzZXIiLCJzcGFjZVVzZXJPcmdhbml6YXRpb25zIiwic3luY190b2tlbiIsIkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2siLCJoZWFkZXJzIiwiY2FuTW9uaXRvciIsImNhbkFkbWluIiwiTnVtYmVyIiwiJGd0IiwiJG5pbiIsImluYm94X3VlcnMiLCJza2lwIiwibGltaXQiLCJjb3BpZXMiLCJhbGxDc3MiLCJXZWJBcHAiLCJnZXRSZWZyZXNoYWJsZUFzc2V0cyIsImNzcyIsInJvb3RVcmwiLCJfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fIiwiUk9PVF9VUkxfUEFUSF9QUkVGSVgiLCJST09UX1VSTCIsImVuZHNXaXRoIiwiZyIsIm0iLCJrIiwiZ2V0RWFjaCIsIm1peGluIiwiZGVzdCIsImhhbmRlclVzZXJPYmplY3QiLCJociIsInNvcnRfbm8iLCJtb2JpbGUiLCJ3b3JrX3Bob25lIiwicG9zaXRpb24iLCJ1c2VyUm9sZXMiLCJoYW5kZXJPcmdPYmplY3QiLCJpbml0X2Zvcm11bGFfdmFsdWVzIiwiYXV0b0Zvcm1Eb2MiLCJhcHByb3ZlciIsIl9fdmFsdWVzIiwidGFibGVGaWVsZHMiLCJ0YWJsZVZhbHVlcyIsImZvcm11bGFUYWJsZVZhbHVlcyIsIl9fdGFibGVWYWx1ZXMiLCJ0YWJsZWZpZWxkIiwiZ2V0Rm9ybXVsYVVzZXJPYmplY3RzIiwiZ2V0Rm9ybXVsYU9yZ09iamVjdHMiLCJnZXRGb3JtdWxhVXNlck9iamVjdCIsImdldEhhbmRsZXJzTWFuYWdlciIsImdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzIiwidXNlcl9pZHMiLCJyb2xlX2lkcyIsImFwcHJvdmVfdXNlcnMiLCJnZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzIiwicm9sZV9pZCIsImdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSIsIm9yZ3MiLCJnZXRIYW5kbGVyc0J5T3JnQW5kUm9sZSIsImdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMiLCJvcmdfaWRzIiwiZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzIiwicG9zaXRpb25zIiwicGFyZW50X2lkIiwiZ2V0SGFuZGxlcnMiLCJfYXBwcm92ZSIsIl9zcGFjZV91c2VyIiwiX3RyYWNlIiwiYXBwbGljYW50U3VwZXJpb3JzIiwiYXBwcm92ZUhyUm9sZUlkcyIsImFwcHJvdmVyX29yZ19maWVsZCIsImFwcHJvdmVyX29yZ19pZHMiLCJhcHByb3Zlcl91c2VyX2ZpZWxkIiwiYXBwcm92ZXJfdXNlcl9pZHMiLCJjdXJyZW50X2Zsb3ciLCJjdXJyZW50X2Zsb3dfdmVyc2lvbiIsImN1cnJlbnRfZm9ybSIsImN1cnJlbnRfc3RlcHMiLCJmaWVsZF9jb2RlIiwiZmluaXNoZWRfdHJhY2VzIiwiZmxvd19yZXYiLCJmb3JtX3JldiIsImhhbmRsZXJzIiwibWF4X3N0YXJ0RGF0ZV90cmFjZSIsIm5ld19hcHByb3Zlcl91c2VyX2lkcyIsIm5ld19vcmdfdXNlcl9pZHMiLCJuZXdlc3RfdmFsdWVzIiwibmV4dF9zdGVwX3VzZXJzIiwib3JnX2lkc19uYW1lcyIsIm9yZ191c2VyX2lkcyIsInNwYWNlX3VzZXJfY291bnQiLCJzdWJtaXR0ZXJfdXNlcl9jb3VudCIsInVuZmluaXNoZWRfdHJhY2UiLCJ1c2VyX2lkc19uYW1lcyIsInZhbGlkX2FwcHJvdmVyX29yZ19pZHMiLCJoaXN0b3J5IiwiYXBwcm92ZXJfcm9sZSIsInJvbGVfY291bnQiLCJhcHByb3Zlcl9ocl9yb2xlcyIsImdldEhyUm9sZXNVc2VycyIsImN1cnJlbnRfZmxvd19oaXN0b3J5IiwiZm9ybV9oaXN0b3J5IiwiZm9ybV9maWVsZCIsImdldFVwZGF0ZWRWYWx1ZXMiLCJjaGVja19vcmdfY291bnQiLCJjaGVja19vcmdzIiwib3JnX2NoaWxkcmVuIiwib3JnX3VzZXJzIiwiY2hlY2tfb3JnX3VzZXIiLCJvcmdfdXNlciIsImNoZWNrX3VzZXJfY291bnQiLCJhcHByb3ZlX3VzZXIiLCJjaGVja19hcHByb3ZlX3VzZXJfY291bnQiLCJhcHByb3Zlcl9vcmdzIiwiYXBwcm92ZXJfb3JnX2lkIiwidmFsaWRfYXBwcm92ZXJfb3JnX2lkIiwiY2hpbGRfb3JncyIsInZhbGlkX2FwcHJvdmVyX29yZyIsImNoaWxkX29yZyIsIm9yZ191c2VyX2lkIiwic3BhY2VfdXNlcl9pbmZvX2NvdW50IiwiYXBwcm92ZXJfdXNlcnMiLCJhcHByb3Zlcl91c2VyX2lkIiwiX3RyIiwiX2FwcCIsIm1hbmFnZXIiLCJteV9wZXJtaXNzaW9ucyIsIm9yZ3NfY2FuX2FkZCIsIm9yZ3NfY2FuX2FkbWluIiwib3Jnc19jYW5fbW9uaXRvciIsInVzZXJzX2Nhbl9hZGQiLCJ1c2Vyc19jYW5fYWRtaW4iLCJ1c2Vyc19jYW5fbW9uaXRvciIsInBlcm1zIiwibGFzdF92YWx1ZXMiLCJhcHByb3ZlX3ZhbHVlc19rZXlzIiwiY2hhbmdlVmFsdWVzIiwibGFzdF92YWx1ZXNfa2V5cyIsImlzRXF1YWwiLCJmbG93TWFuYWdlciIsImdldENhdGVnb3JpZXNGbG93cyIsImNhdGVnb3JpZUlkIiwiY2F0ZWdvcmllc0Zvcm1zIiwiZm9ybU1hbmFnZXIiLCJnZXRDYXRlZ29yaWVzRm9ybXMiLCJnZXRVbkNhdGVnb3JpZXNGbG93cyIsInVuQ2F0ZWdvcmllc0Zvcm1zIiwiZ2V0VW5DYXRlZ29yaWVzRm9ybXMiLCJfZmllbGRzIiwiY2F0ZWdvcnkiLCJzdGVwTWFuYWdlciIsImFsbG93QmF0Y2giLCJpc0V4aXN0U3RlcCIsImxvZ2dlciIsIkxvZ2dlciIsImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXAiLCJmaWVsZF9tYXAiLCJjdXJyZW50QXBwcm92ZXMiLCJjdXJyZW50VHJhY2VzIiwiZ2V0Q3VycmVudFRyYWNlIiwibmV4dF91c2VyX2lkcyIsImdldE5leHRTdGVwcyIsImluYm94X3VzZXIiLCJGSUVMRFMiLCJjYXRlZ29yeUZsb3dzIiwiaW5ib3hfaW5zdGFuY2VzIiwidW5DYXRlZ29yeUZsb3dzIiwic3VibWl0X2RhdGUiLCJjdXJyZW50U3RlcElkIiwicHVibGlzaCIsInJlYWR5IiwiY2F0ZWdvcmllcyIsImFwcCIsInB1Ymxpc2hDb21wb3NpdGUiLCJ0YWJsZU5hbWUiLCJpZHMiLCJPcHRpb25hbCIsInVuYmxvY2siLCJjaGlsZHJlbiIsImNyZWF0ZVRlbXBsYXRlRm9ybUFuZEZsb3ciLCJjb21wYW55X2lkIiwidmVyc2lvbklkIiwiaGFuZGxlIiwibGF0ZXN0Iiwib2JzZXJ2ZUNoYW5nZXMiLCJjaGFuZ2VkIiwiYWRkZWQiLCJvblN0b3AiLCJzdG9wIiwiZmxvd19pZHMiLCJkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzIiwiZGlzdHJpYnV0ZV90b19zZWxmIiwiZGlzdHJpYnV0ZV9lbmRfbm90aWZpY2F0aW9uIiwiYWxsb3dfc2VsZWN0X3N0ZXAiLCJnZXRNaW5pSW5zdGFuY2UiLCJnZXRNeWFwcHJvdmVNb2RpZmllZCIsImluc3RhbmNlX2ZpZWxkc18wIiwibmVlZENoYW5nZSIsInRyaWdnZXJDaGFuZ2VGaWVsZHMiLCJ0cmlnZ2VyQ2hhbmdlRmllbGRzVmFsdWVzIiwibXlBcHByb3ZlTW9kaWZpZWRzIiwicmVhZF9kYXRlIiwiX2luc3RhbmNlSWQiLCJjaGFuZ2VGaWVsZHMiLCJfY2hhbmdlIiwiX3JldiIsIl9teV9hcHByb3ZlX21vZGlmaWVkcyIsImdldEluc3RhbmNlVHJhY2VzIiwiX2luc0lkIiwiYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlIiwibGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSIsImluc3RhbmNlaWQiLCJkYXRhTWFwIiwib3BlcmF0aW9uIiwicmF3Q29sbGVjdGlvbiIsImFnZ3JlZ2F0ZSIsInRvQXJyYXkiLCJkb2MiLCJnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUiLCJnZXRTdGVwQ3VycmVudE5hbWUiLCJub3RGaW5pc2hlZFRyYWNlcyIsInN0ZXBDdXJyZW50TmFtZSIsIiRzbGljZSIsIm15TGFzdEZpbmlzaGVkQXBwcm92ZSIsImFnZW50X3VzZXJfbmFtZSIsIm15X2ZpbmlzaF9kYXRlIiwiaXNfY2MiLCJjY19jb3VudCIsIm1lc3NhZ2UiLCJpbnN0YW5jZV9pZHMiLCJyZWxhdGVkX2luc3RhbmNlX2lkcyIsIl9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlIiwiX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUiLCJfaXRlbXMiLCIkbWF0Y2giLCIkZ3JvdXAiLCIkc3VtIiwiX2NoYW5nZURhdGEiLCJfZmxvd3NEYXRhIiwiX2luaXQiLCJkYXRhSXRlbSIsImZsb3dfaW5zdGFuY2UiLCJvYnNlcnZlIiwiQ3JlYXRvciIsImdldENvbGxlY3Rpb24iLCJ3b3JrZmxvd1RlbXBsYXRlIiwic3RhcnR1cCIsImFic29sdXRlX3BhdGhfY24iLCJhYnNvbHV0ZV9wYXRoX3VzIiwiZmlsZXNMaXN0X2NuIiwiZmlsZXNMaXN0X3VzIiwibWltZSIsInBhdGhfY24iLCJwYXRoX3VzIiwicmVhZEZpbGVMaXN0IiwicGF0aERpciIsImZpbGVzTGlzdCIsImZpbGVzIiwicmVhZGRpclN5bmMiLCJzdGF0Iiwic3RhdFN5bmMiLCJpc0RpcmVjdG9yeSIsIndvcmtmbG93VGVtcGxhdGVzIiwiZXhpc3RzU3luYyIsImZpbGUiLCJyZWFkRmlsZVN5bmMiLCJnb19uZXh0IiwicnVsZSIsInNjaGVkdWxlIiwiY3JvbiIsImF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiIsInNjaGVkdWxlSm9iIiwiYmluZEVudmlyb25tZW50IiwicHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzIiwiZW5hYmxlZCIsImVuZF90aW1lIiwiJGx0ZSIsInRpbWVvdXRfYXV0b19zdWJtaXQiLCJ0aW1lb3V0QXV0b1N1Ym1pdCIsInNwZWNpZnlVc2VySWRzIiwiZ2V0VXNlcnMiLCJhcHBsaWNhbnRJZCIsImFwcHJvdmVSb2xlSWRzIiwiZ2V0VXNlciIsImdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzIiwidXNlckZpZWxkIiwidXNlckZpZWxkVmFsdWUiLCJvcmdDaGlsZHJlbnMiLCJvcmdGaWVsZCIsIm9yZ0ZpZWxkVmFsdWUiLCJnZXRPcmdhbml6YXRpb25zIiwiZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbiIsImdldE9yZ2FuaXphdGlvbkNoaWxkcmVucyIsImdldE9yZ2FuaXphdGlvbnNVc2VycyIsIm9yZ0ZpZWxkVXNlcnMiLCJzcGVjaWZ5T3JnSWRzIiwic3BlY2lmeU9yZ3MiLCJzcGVjaWZ5T3JnQ2hpbGRyZW5zIiwiYXBwcm92ZXJSb2xlSWRzIiwiZ2V0Um9sZVVzZXJzQnlVc2Vyc0FuZFJvbGVzIiwic3UiLCJ1bmlxVXNlcnMiLCJ1c2VySWRzIiwic3BhY2VVc2VycyIsImZvcm11bGFfdmFsdWVzIiwiZXJyb3JzIiwiZXJyb3JNZXNzYWdlIiwiY29tcGFueUlkIiwic3BhY2VJZHMiLCJzcGFjZXNRdWVyeSIsImNoZWNrX2F1dGhvcml6YXRpb24iLCJpc19kZWxldGVkIiwiaGVscF90ZXh0IiwibmFtZV9mb3JtdWxhIiwiY29kZV9mb3JtdWxhIiwiY3VycmVudF9ubyIsImVycm9yX21lc3NhZ2UiLCJTcGFjZVVzZXJzIiwiVXNlcnMiLCJGb3JtcyIsIkZsb3dzIiwiT3JnYW5pemF0aW9ucyIsIlBvc2l0aW9ucyIsIlJvbGVzIiwiQ2F0ZWdvcmllcyIsIlNwYWNlcyIsImhhc2hEYXRhIiwiYXBwcm92ZV9mcm9tX2NsaWVudCIsIndvcmtmbG93X2VuZ2luZSIsImluc2VydGVkX2luc3RhbmNlcyIsImluc3RhbmNlX2Zyb21fY2xpZW50IiwibmV3X2lucyIsIm5ld19pbnNfaWQiLCJjcmVhdGVfaW5zdGFuY2UiLCJpbnNlcnRzIiwiZGVsZXRlX29iaiIsImdldFNwYWNlIiwic3VibWl0X2luc3RhbmNlIiwiYWxlcnRzIiwiZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQiLCJmbG93X3Zlcl9lbmRfc3RlcCIsImZsb3dfdmVycyIsImluc3RhbmNlX2Zsb3dfdmVyIiwiaW5zdGFuY2VfdHJhY2UiLCJvbGRfY2NfdXNlcnMiLCJvbGRfaW5ib3hfdXNlcnMiLCJvbGRfb3V0Ym94X3VzZXJzIiwic3BhY2VfdXNlcl9vcmdfaW5mbyIsInRlbXBVc2VycyIsInRlcm1pbmF0ZV9yZWFzb24iLCJmX3ZlciIsImZfc3RlcCIsImNvc3RfdGltZSIsIm5mdF9hcHByb3ZlIiwiY3VycmVudF9zdGVwX2F1dG9fc3VibWl0Iiwic2VuZF9tZXNzYWdlX2N1cnJlbnRfdXNlciIsIl91c2VycyIsImFwcHJvdmVfdXNlcnNfaGFuZGxlcnMiLCJhc3NpZ25lZV9hcHByIiwiY3VycmVudF9zcGFjZV91c2VyIiwiY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiIsImluYm94X3VzZXJzX2Zyb21fY2xpZW50IiwibGFzdF90cmFjZV9mcm9tX2NsaWVudCIsIm5vdF9pbl9pbmJveF91c2VycyIsInJlYXNzaWduX3JlYXNvbiIsImRpZmZlcmVuY2UiLCJuZXdfYXBwciIsIm5ld191c2VyIiwidXNlcl9vcmdhbml6YXRpb24iLCJhaCIsImN1cnJlbnRfc2V0cCIsImN1cnJlbnRfc2V0cF90eXBlIiwibmV4dF9zdGVwIiwibmV4dF9zdGVwX25hbWUiLCJuZXh0X3N0ZXBfdHlwZSIsInJlbG9jYXRlX2FwcHIiLCJyZWxvY2F0ZV9jb21tZW50IiwicmVsb2NhdGVfaW5ib3hfdXNlcnMiLCJyZWxvY2F0ZV9uZXh0X3N0ZXAiLCJzYW1lVHJhY2VzIiwic2lnblNob3dBcHByb3ZlSWQiLCJ0YSIsInRpIiwiZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0IiwibGluZXMiLCJpc0luc3RhbmNlRmluaXNoZWRBbmROb3RBcmNoaWV2ZWQiLCJpc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4iLCJjb25uZWN0SGFuZGxlcnMiLCJ1c2UiLCJlanMiLCJlanNMaW50IiwiZW5kX2RhdGUiLCJlcnJvcl9vYmoiLCJmb3JtX25hbWUiLCJpbnNfdG9feGxzIiwibGFzdF9tb250aF9kYXRlIiwicmV0IiwidGltZXpvbmVvZmZzZXQiLCJwYXJzZUludCIsIiRndGUiLCIkYW5kIiwibGludCIsImF1dGhfdG9rZW4iLCJmb3JtaWRzIiwiaXNfYWRtaW4iLCJnZXRfU3BhY2VDaGFuZ2VTZXQiLCJsYXN0X3RyYWNlX2lkIiwib3JnX2luZm8iLCJwcmV2aW91c19zdGVwIiwicHJldmlvdXNfdHJhY2UiLCJwcmV2aW91c190cmFjZV9hcHByb3ZlcyIsInByZXZpb3VzX3RyYWNlX2lkIiwicHJldmlvdXNfdHJhY2VfbmFtZSIsInByZXZpb3VzX3RyYWNlX3N0ZXBfaWQiLCJyZXRyaWV2ZV9hcHByb3ZlIiwicmV0cmlldmVfY29tbWVudCIsInJldHJpZXZlX3R5cGUiLCJ0aGVfdHJhY2UiLCJyZXRyaWV2ZV9hcHByIiwib2xkX3NwYWNlX2lkIiwiZm9yd2FyZF91c2VycyIsIm5vX3Blcm1pc3Npb25fdXNlcl9pZHMiLCJ1aWQiLCJub19wZXJtaXNzaW9uX3VzZXJzX25hbWUiLCJuZXdfaW5zX2lkcyIsImN1cnJlbnRfdHJhY2VfaWQiLCJmb3J3YXJkX2FwcHJvdmVzIiwib2xkX3ZhbHVlcyIsIm5ld192YWx1ZXMiLCJvbGRfZm9ybSIsIm9sZF9mb3JtX3ZlcnNpb24iLCJvbGRfZmllbGRzIiwiY29tbW9uX2ZpZWxkcyIsInNlbGVjdF90b19pbnB1dF9maWVsZHMiLCJleGlzdHNfZmllbGQiLCJzZWxlY3RfaW5wdXRfZmllbGQiLCJvbGRfdiIsIm9sZF9tdWx0aVNlbGVjdGVkIiwibmV3X211bHRpU2VsZWN0ZWQiLCJvbGRfdGFibGVfcm93X3ZhbHVlcyIsIm5ld190YWJsZV9yb3dfdmFsdWVzIiwicmVjb3JkX25lZWQiLCJGT05EU0lEIiwiaXNjcmlwdCIsImNhdGVnb3J5X25hbWUiLCJnZXRDYXRlZ29yeSIsImluc19vYmoiLCJfbWFrZU5ld0lEIiwic3VibWl0dGVyX25hbWUiLCJmb3J3YXJkX2Zyb21faW5zdGFuY2UiLCJ0cmFjZV9vYmoiLCJhcHByX29iaiIsImF1dG9fcmVtaW5kIiwiZmxvd19uYW1lIiwiY29sbGVjdGlvbiIsImluc3RhbmNlSHRtbCIsImluc3RhbmNlRmlsZSIsIkZTIiwiRmlsZSIsImF0dGFjaERhdGEiLCJmcm9tIiwic2l6ZSIsIm93bmVyIiwib3duZXJfbmFtZSIsImZpbGVPYmoiLCJtYWluIiwibmV3RmlsZSIsIm9yaWdpbmFsIiwidXBkYXRlX3JlYWQiLCJyZWRpcmVjdFRvIiwicmVkaXJlY3RUb1VybCIsInJlcV9hc3luYyIsInN0YXR1cyIsInNlbmQiLCJ3cml0ZUhlYWQiLCJhdHRhY2giLCJub19saW1pdF9jb3VudCIsInJlZjUiLCJyZXN1bHRfaW5zdGFuY2VzIiwic3BhY2VfbmFtZXMiLCJzcGVjaWFsX3VzZXJfaWQiLCJ1c2VyaWQiLCJ3b3JrZmxvd19jYXRlZ29yaWVzIiwicmVmNiIsInJlZjciLCJhdXRoVG9rZW4iLCJpc19wYWlkIiwiYXBwbGljYW50SW5mbyIsImFwcGxpY2FudF91c2VybmFtZSIsInVzZXJfYWNjZXB0ZWQiLCJwZXJtX3VzZXJzIiwibmV4dF9zdGVwX2lkIiwicmVxdWlyZV9idXRfZW1wdHlfZmllbGRzIiwiZ2V0Rm9ybSIsImNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlIiwic3RlcG5hbWUiLCIkZWxlbU1hdGNoIiwicGFyc2VGaWxlcyIsIm1pbWVUeXBlIiwiaXNfcHJpdmF0ZSIsImxvY2tlZF9ieSIsImxvY2tlZF9ieV9uYW1lIiwiYXR0YWNoX2lkIiwiY29sdW1ucyIsImZvcndhcmRfaW5zIiwiZm9yd2FyZF9pbnNfdmFsdWVzIiwib3JpZ2luYWxfaW5zIiwib3JpZ2luYWxfaW5zX2ZpZWxkcyIsIm9yaWdpbmFsX2luc19mb3JtIiwib3JpZ2luYWxfaW5zX2lkIiwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzIiwicmVmOCIsInJlZjkiLCJyb3dfZGF0YSIsInN1YlRhYmxlIiwidGFibGVfZGF0YSIsImNvbHVtbiIsIm9yaWdpbmFsX2luc19maWVsZCIsIm9oIiwiYV90YWJsZSIsImFfdGFibGVfdmFsdWVzIiwiY29sdW1uX2xpc3QiLCJkX2lucyIsImRfaW5zX2ZpZWxkcyIsImRfaW5zX2Zvcm0iLCJkX2luc192YWx1ZXMiLCJkX21hdGNoX2NvbCIsImRfbWF0Y2hfY29sX2ZpZWxkIiwiZF9tYXRjaF9jb2xfZmllbGRzIiwiZF9zdWJ0YWJsZV9maWVsZHMiLCJkX3RhYmxlIiwiZF90YWJsZV92YWx1ZXMiLCJvX2lucyIsIm9faW5zX2ZpZWxkcyIsIm9faW5zX2Zvcm0iLCJvX2luc19pZCIsIm9fbWF0Y2hfY29sIiwib19tYXRjaF9jb2xfZmllbGQiLCJvX21hdGNoX2NvbF9maWVsZHMiLCJvX3N1YnRhYmxlX2ZpZWxkcyIsIm9fdGFibGUiLCJyZWYxMCIsInJlZjExIiwicmVmMTIiLCJyZWYxMyIsInJlZjE0IiwicmVmMTUiLCJyZWYxNiIsInJlZjE3IiwicmVmMTgiLCJyZWYxOSIsInJlZjIwIiwicmVmMjEiLCJyZWYyMiIsIm9UYWJsZSIsImRUYWJsZSIsIm9NYXRjaENvbCIsImRNYXRjaENvbCIsInJlZmlsbENvbCIsImFUYWJsZSIsIm9faW5zX2ZpZWxkIiwiZF9pbnNfZmllbGQiLCJkaCIsImFfcm93IiwicmVzdWx0cyIsImNvbCIsImNvbHMiLCJkX2NvbCIsImRfY29sX2ZpZWxkcyIsIm9fY29sIiwib19jb2xfZmllbGRzIiwiZF9yb3ciLCJoYXNfb2JqIiwib19yb3ciLCJuZXdfdGFibGVfdmFsdWVzIiwic29ydF9jb2wiLCJzdWJfdGFibGUiLCJzdWJfdGFibGVfdmFsdWVzIiwic3VtX2NvbCIsInN1bUNvbCIsInNvcnRDb2wiLCJzaW5nbGVDb2xzIiwiSnNvblNvcnQiLCJqc29uQXJyIiwiYXNjIiwiaiIsImpsIiwidGVtcCIsImlzRGV2ZWxvcG1lbnQiLCJ0b191c2VycyIsIm9yZ0lkcyIsIlRhYnVsYXJUYWJsZXMiLCJyZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyIiwiVGFidWxhciIsIlRhYmxlIiwib3JkZXJhYmxlIiwicmVuZGVyIiwiaW5wdXQiLCJzdGVwX2N1cnJlbnRfbmFtZSIsImRvbSIsImxlbmd0aENoYW5nZSIsImV4dHJhRmllbGRzIiwicGFnZUxlbmd0aCIsImluZm8iLCJzZWFyY2hpbmciLCJyZXNwb25zaXZlIiwiZGV0YWlscyIsImF1dG9XaWR0aCIsImNoYW5nZVNlbGVjdG9yIiwiY3VyU3BhY2VVc2VyIiwiZmwiLCJHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyIsIl9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyIsIl9nZXRfb3V0Ym94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMiLCJfaGFuZGxlTGlzdEZpZWxkcyIsImluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIiLCJuZXdJbnN0YW5jZXNMaXN0VGFidWxhciIsInVwZGF0ZVRhYnVsYXJUaXRsZSIsInN1YnMiLCJTdWJzTWFuYWdlciIsImluc19maWVsZHMiLCJwdWIiLCJvblVubG9hZCIsImluc3RhbmNlX2xpc3QiLCJfdGFibGVDb2x1bW5zIiwiZHJhd0NhbGxiYWNrIiwiZWxsaXBzaXNMaW5rIiwiZW1wdHlUZCIsImNvbFNwYW4iLCJpc1BhZCIsInBlcmZlY3RTY3JvbGxiYXIiLCJvSW5zdGFuY2UiLCJhdHRyIiwiY2xpY2siLCJnb1BhZ2UiLCJoZWlnaHQiLCJwYWdlcyIsImNlaWwiLCJmblJlY29yZHNEaXNwbGF5IiwiX2lEaXNwbGF5TGVuZ3RoIiwiRGF0YVRhYmxlIiwicGFnZSIsImRyYXciLCJibHVyIiwiY3VycmVudFBhZ2UiLCJrZXlkb3duIiwia2V5Q29kZSIsImNyZWF0ZWRSb3ciLCJyb3ciLCJkYXRhSW5kZXgiLCJGbG93Um91dGVyIiwic2V0QXR0cmlidXRlIiwiYWdlbnRfdmlldyIsImNjX3ZpZXciLCJpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzIiwibW9kaWZpZWRGcm9tTm93IiwibW9kaWZpZWRTdHJpbmciLCJwcmlvcml0eUljb24iLCJwcmlvcml0eUljb25DbGFzcyIsInByaW9yaXR5VmFsdWUiLCJzdGVwX2N1cnJlbnRfbmFtZV92aWV3IiwidW5yZWFkIiwibW9tZW50UmVhY3RpdmVGcm9tTm93IiwidmlzaWJsZSIsImNjX3RhZyIsImxlbmd0aE1lbnUiLCJwYWdpbmdUeXBlIiwiaXNfbGlzdF9kaXNwbGF5IiwiZmlsdGVyZWRSZWNvcmRJZHMiLCJvbGRfZmlsdGVyZWRSZWNvcmRJZHMiLCJmaW5kT3B0aW9ucyIsImFnX3NvcnQiLCJhZ2dyZWdhdGVfb3BlcmF0aW9uIiwiYXN5bmNfYWdncmVnYXRlIiwiczFfMCIsInMxXzEiLCIkcHJvamVjdCIsIiR1bndpbmQiLCIkZmlyc3QiLCIkc29ydCIsIiRza2lwIiwiJGxpbWl0IiwiY2IiLCIkbGFzdCIsIm91dGJveF9pbnN0YW5jZXMiLCJmbG93SW5zdGFuY2VzIiwiUmVhY3RpdmVWYXIiLCJhdXRvcnVuIiwiX2NoYW5nZU9yZGVyIl0sIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7Ozs7OztBQUFBLElBQUlBLGdCQUFKO0FBQXFCQyxNQUFNLENBQUNDLElBQVAsQ0FBWSxvQ0FBWixFQUFpRDtBQUFDRixrQkFBZ0IsQ0FBQ0csQ0FBRCxFQUFHO0FBQUNILG9CQUFnQixHQUFDRyxDQUFqQjtBQUFtQjs7QUFBeEMsQ0FBakQsRUFBMkYsQ0FBM0Y7QUFDckJILGdCQUFnQixDQUFDO0FBQ2hCLG1CQUFpQixRQUREO0FBRWhCSSxTQUFPLEVBQUUs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M3dDLEdBQTlCLEVBQW1DNm1CLE1BQW5DLEVBQTJDOTJCLE1BQTNDLENBQWxCLENBQWhDO0FBREQ7QUFHQyxVQUFJMC9DLFFBQVFDLEtBQVosQ0FBa0JpQiw4QkFBOEIzd0MsR0FBOUIsRUFBbUM2bUIsTUFBbkMsRUFBMkM5MkIsTUFBM0MsQ0FBbEI7QUMwRkU7O0FBQ0QsV0QxRkZjLFFBQVFDLEdBQVIsQ0FBWSxvQkFBWixFQUFrQ3JLLEdBQWxDLENDMEZFO0FBQ0Q7QUR4R3VCLENBQTFCOztBQWVBLElBQUd3SixPQUFPQyxRQUFWO0FBQ0NELFNBQU9vbkIsT0FBUCxDQUNDO0FBQUEyNUIsNkJBQXlCLFVBQUNoeEMsR0FBRCxFQUFNNm1CLE1BQU47QUFDeEIsVUFBQTkyQixNQUFBLEVBQUEwRyxJQUFBLEVBQUE3RixHQUFBLEVBQUFvRyxJQUFBO0FBQUFnNkMsOEJBQXdCaHhDLEdBQXhCLEVBQTZCNm1CLE1BQTdCO0FBRUFwd0IsYUFBT3BHLEdBQUdzRyxLQUFILENBQVNwRyxPQUFULENBQWlCO0FBQUNDLGFBQUtxMkI7QUFBTixPQUFqQixFQUFnQztBQUFDOTJCLGdCQUFRO0FBQUNKLGdCQUFNO0FBQVA7QUFBVCxPQUFoQyxDQUFQO0FBQ0FJLGVBQUEsQ0FBQWEsTUFBQVAsR0FBQUMsS0FBQSxDQUFBQyxPQUFBO0FDbUdLQyxhQUFLaUcsUUFBUSxJQUFSLEdBQWVBLEtBQUs5RyxJQUFwQixHQUEyQixLQUFLO0FEbkcxQyxTQ29HTTtBQUNESSxnQkFBUTtBQUNOLDRCQUFrQjtBQURaO0FBRFAsT0RwR04sTUN3R1UsSUR4R1YsR0N3R2lCLENBQUNpSCxPQUFPcEcsSUFBSXlGLE9BQVosS0FBd0IsSUFBeEIsR0FBK0JXLEtEeEc4Q2pILE1Dd0c3RSxHRHhHNkUsTUFBOUYsR0FBOEYsTUFBOUY7QUFDQSxhQUFPQSxNQUFQO0FBTEQ7QUFBQSxHQUREO0FDaUhBLEMiLCJmaWxlIjoiL3BhY2thZ2VzL3N0ZWVkb3Nfd29ya2Zsb3cuanMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBjaGVja05wbVZlcnNpb25zIH0gZnJvbSAnbWV0ZW9yL3RtZWFzZGF5OmNoZWNrLW5wbS12ZXJzaW9ucyc7XHJcbmNoZWNrTnBtVmVyc2lvbnMoe1xyXG5cdFwibm9kZS1zY2hlZHVsZVwiOiBcIl4xLjMuMVwiLFxyXG5cdGNvb2tpZXM6IFwiXjAuNi4yXCIsXHJcblx0XCJ4bWwyanNcIjogXCJeMC40LjE5XCIsXHJcblx0bWtkaXJwOiBcIl4wLjMuNVwiLFxyXG5cdFwic3ByaW50Zi1qc1wiOiBcIl4xLjAuM1wiLFxyXG59LCAnc3RlZWRvczp3b3JrZmxvdycpOyIsIi8qIVxyXG4gKiBVUkkuanMgLSBNdXRhdGluZyBVUkxzXHJcbiAqXHJcbiAqIFZlcnNpb246IDEuMTcuMFxyXG4gKlxyXG4gKiBBdXRob3I6IFJvZG5leSBSZWhtXHJcbiAqIFdlYjogaHR0cDovL21lZGlhbGl6ZS5naXRodWIuaW8vVVJJLmpzL1xyXG4gKlxyXG4gKiBMaWNlbnNlZCB1bmRlclxyXG4gKiAgIE1JVCBMaWNlbnNlIGh0dHA6Ly93d3cub3BlbnNvdXJjZS5vcmcvbGljZW5zZXMvbWl0LWxpY2Vuc2VcclxuICogICBHUEwgdjMgaHR0cDovL29wZW5zb3VyY2Uub3JnL2xpY2Vuc2VzL0dQTC0zLjBcclxuICpcclxuICovXHJcbihmdW5jdGlvbiAocm9vdCwgZmFjdG9yeSkge1xyXG5cdCd1c2Ugc3RyaWN0JztcclxuXHQvLyBodHRwczovL2dpdGh1Yi5jb20vdW1kanMvdW1kL2Jsb2IvbWFzdGVyL3JldHVybkV4cG9ydHMuanNcclxuXHQvLyBpZiAodHlwZW9mIGV4cG9ydHMgPT09ICdvYmplY3QnKSB7XHJcblx0Ly8gICAvLyBOb2RlXHJcblx0Ly8gICBtb2R1bGUuZXhwb3J0cyA9IGZhY3RvcnkocmVxdWlyZSgnLi9wdW55Y29kZScpLCByZXF1aXJlKCcuL0lQdjYnKSwgcmVxdWlyZSgnLi9TZWNvbmRMZXZlbERvbWFpbnMnKSk7XHJcblx0Ly8gfSBlbHNlXHJcblx0aWYgKHR5cGVvZiBkZWZpbmUgPT09ICdmdW5jdGlvbicgJiYgZGVmaW5lLmFtZCkge1xyXG5cdFx0Ly8gQU1ELiBSZWdpc3RlciBhcyBhbiBhbm9ueW1vdXMgbW9kdWxlLlxyXG5cdFx0ZGVmaW5lKFsnLi9wdW55Y29kZScsICcuL0lQdjYnLCAnLi9TZWNvbmRMZXZlbERvbWFpbnMnXSwgZmFjdG9yeSk7XHJcblx0fSBlbHNlIHtcclxuXHRcdC8vIEJyb3dzZXIgZ2xvYmFscyAocm9vdCBpcyB3aW5kb3cpXHJcblx0XHRyb290LlVSSSA9IGZhY3Rvcnkocm9vdC5wdW55Y29kZSwgcm9vdC5JUHY2LCByb290LlNlY29uZExldmVsRG9tYWlucywgcm9vdCk7XHJcblx0fVxyXG59KHRoaXMsIGZ1bmN0aW9uIChwdW55Y29kZSwgSVB2NiwgU0xELCByb290KSB7XHJcblx0J3VzZSBzdHJpY3QnO1xyXG5cdC8qZ2xvYmFsIGxvY2F0aW9uLCBlc2NhcGUsIHVuZXNjYXBlICovXHJcblx0Ly8gRklYTUU6IHYyLjAuMCByZW5hbWNlIG5vbi1jYW1lbENhc2UgcHJvcGVydGllcyB0byB1cHBlcmNhc2VcclxuXHQvKmpzaGludCBjYW1lbGNhc2U6IGZhbHNlICovXHJcblxyXG5cdC8vIHNhdmUgY3VycmVudCBVUkkgdmFyaWFibGUsIGlmIGFueVxyXG5cdHZhciBfVVJJID0gcm9vdCAmJiByb290LlVSSTtcclxuXHJcblx0ZnVuY3Rpb24gVVJJKHVybCwgYmFzZSkge1xyXG5cdFx0dmFyIF91cmxTdXBwbGllZCA9IGFyZ3VtZW50cy5sZW5ndGggPj0gMTtcclxuXHRcdHZhciBfYmFzZVN1cHBsaWVkID0gYXJndW1lbnRzLmxlbmd0aCA+PSAyO1xyXG5cclxuXHRcdC8vIEFsbG93IGluc3RhbnRpYXRpb24gd2l0aG91dCB0aGUgJ25ldycga2V5d29yZFxyXG5cdFx0aWYgKCEodGhpcyBpbnN0YW5jZW9mIFVSSSkpIHtcclxuXHRcdFx0aWYgKF91cmxTdXBwbGllZCkge1xyXG5cdFx0XHRcdGlmIChfYmFzZVN1cHBsaWVkKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gbmV3IFVSSSh1cmwsIGJhc2UpO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIG5ldyBVUkkodXJsKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIG5ldyBVUkkoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodXJsID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aWYgKF91cmxTdXBwbGllZCkge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ3VuZGVmaW5lZCBpcyBub3QgYSB2YWxpZCBhcmd1bWVudCBmb3IgVVJJJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0eXBlb2YgbG9jYXRpb24gIT09ICd1bmRlZmluZWQnKSB7XHJcblx0XHRcdFx0dXJsID0gbG9jYXRpb24uaHJlZiArICcnO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHVybCA9ICcnO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5ocmVmKHVybCk7XHJcblxyXG5cdFx0Ly8gcmVzb2x2ZSB0byBiYXNlIGFjY29yZGluZyB0byBodHRwOi8vZHZjcy53My5vcmcvaGcvdXJsL3Jhdy1maWxlL3RpcC9PdmVydmlldy5odG1sI2NvbnN0cnVjdG9yXHJcblx0XHRpZiAoYmFzZSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLmFic29sdXRlVG8oYmFzZSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fVxyXG5cclxuXHRVUkkudmVyc2lvbiA9ICcxLjE3LjAnO1xyXG5cclxuXHR2YXIgcCA9IFVSSS5wcm90b3R5cGU7XHJcblx0dmFyIGhhc093biA9IE9iamVjdC5wcm90b3R5cGUuaGFzT3duUHJvcGVydHk7XHJcblxyXG5cdGZ1bmN0aW9uIGVzY2FwZVJlZ0V4KHN0cmluZykge1xyXG5cdFx0Ly8gaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvY29tbWl0Lzg1YWMyMTc4M2MxMWY4Y2NhYjA2MTA2ZGJhOTczNWEzMWE4NjkyNGQjY29tbWl0Y29tbWVudC04MjE5NjNcclxuXHRcdHJldHVybiBzdHJpbmcucmVwbGFjZSgvKFsuKis/Xj0hOiR7fSgpfFtcXF1cXC9cXFxcXSkvZywgJ1xcXFwkMScpO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2V0VHlwZSh2YWx1ZSkge1xyXG5cdFx0Ly8gSUU4IGRvZXNuJ3QgcmV0dXJuIFtPYmplY3QgVW5kZWZpbmVkXSBidXQgW09iamVjdCBPYmplY3RdIGZvciB1bmRlZmluZWQgdmFsdWVcclxuXHRcdGlmICh2YWx1ZSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiAnVW5kZWZpbmVkJztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gU3RyaW5nKE9iamVjdC5wcm90b3R5cGUudG9TdHJpbmcuY2FsbCh2YWx1ZSkpLnNsaWNlKDgsIC0xKTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGlzQXJyYXkob2JqKSB7XHJcblx0XHRyZXR1cm4gZ2V0VHlwZShvYmopID09PSAnQXJyYXknO1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YSwgdmFsdWUpIHtcclxuXHRcdHZhciBsb29rdXAgPSB7fTtcclxuXHRcdHZhciBpLCBsZW5ndGg7XHJcblxyXG5cdFx0aWYgKGdldFR5cGUodmFsdWUpID09PSAnUmVnRXhwJykge1xyXG5cdFx0XHRsb29rdXAgPSBudWxsO1xyXG5cdFx0fSBlbHNlIGlmIChpc0FycmF5KHZhbHVlKSkge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSB2YWx1ZS5sZW5ndGg7IGkgPCBsZW5ndGg7IGkrKykge1xyXG5cdFx0XHRcdGxvb2t1cFt2YWx1ZVtpXV0gPSB0cnVlO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRsb29rdXBbdmFsdWVdID0gdHJ1ZTtcclxuXHRcdH1cclxuXHJcblx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBkYXRhLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovXHJcblx0XHRcdHZhciBfbWF0Y2ggPSBsb29rdXAgJiYgbG9va3VwW2RhdGFbaV1dICE9PSB1bmRlZmluZWRcclxuXHRcdFx0XHR8fCAhbG9va3VwICYmIHZhbHVlLnRlc3QoZGF0YVtpXSk7XHJcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiBmYWxzZSAqL1xyXG5cdFx0XHRpZiAoX21hdGNoKSB7XHJcblx0XHRcdFx0ZGF0YS5zcGxpY2UoaSwgMSk7XHJcblx0XHRcdFx0bGVuZ3RoLS07XHJcblx0XHRcdFx0aS0tO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGRhdGE7XHJcblx0fVxyXG5cclxuXHRmdW5jdGlvbiBhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlKSB7XHJcblx0XHR2YXIgaSwgbGVuZ3RoO1xyXG5cclxuXHRcdC8vIHZhbHVlIG1heSBiZSBzdHJpbmcsIG51bWJlciwgYXJyYXksIHJlZ2V4cFxyXG5cdFx0aWYgKGlzQXJyYXkodmFsdWUpKSB7XHJcblx0XHRcdC8vIE5vdGU6IHRoaXMgY2FuIGJlIG9wdGltaXplZCB0byBPKG4pIChpbnN0ZWFkIG9mIGN1cnJlbnQgTyhtICogbikpXHJcblx0XHRcdGZvciAoaSA9IDAsIGxlbmd0aCA9IHZhbHVlLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0aWYgKCFhcnJheUNvbnRhaW5zKGxpc3QsIHZhbHVlW2ldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIF90eXBlID0gZ2V0VHlwZSh2YWx1ZSk7XHJcblx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBsaXN0Lmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdGlmIChfdHlwZSA9PT0gJ1JlZ0V4cCcpIHtcclxuXHRcdFx0XHRpZiAodHlwZW9mIGxpc3RbaV0gPT09ICdzdHJpbmcnICYmIGxpc3RbaV0ubWF0Y2godmFsdWUpKSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAobGlzdFtpXSA9PT0gdmFsdWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIGFycmF5c0VxdWFsKG9uZSwgdHdvKSB7XHJcblx0XHRpZiAoIWlzQXJyYXkob25lKSB8fCAhaXNBcnJheSh0d28pKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBhcnJheXMgY2FuJ3QgYmUgZXF1YWwgaWYgdGhleSBoYXZlIGRpZmZlcmVudCBhbW91bnQgb2YgY29udGVudFxyXG5cdFx0aWYgKG9uZS5sZW5ndGggIT09IHR3by5sZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdG9uZS5zb3J0KCk7XHJcblx0XHR0d28uc29ydCgpO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwLCBsID0gb25lLmxlbmd0aDsgaSA8IGw7IGkrKykge1xyXG5cdFx0XHRpZiAob25lW2ldICE9PSB0d29baV0pIHtcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9XHJcblxyXG5cdGZ1bmN0aW9uIHRyaW1TbGFzaGVzKHRleHQpIHtcclxuXHRcdHZhciB0cmltX2V4cHJlc3Npb24gPSAvXlxcLyt8XFwvKyQvZztcclxuXHRcdHJldHVybiB0ZXh0LnJlcGxhY2UodHJpbV9leHByZXNzaW9uLCAnJyk7XHJcblx0fVxyXG5cclxuXHRVUkkuX3BhcnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4ge1xyXG5cdFx0XHRwcm90b2NvbDogbnVsbCxcclxuXHRcdFx0dXNlcm5hbWU6IG51bGwsXHJcblx0XHRcdHBhc3N3b3JkOiBudWxsLFxyXG5cdFx0XHRob3N0bmFtZTogbnVsbCxcclxuXHRcdFx0dXJuOiBudWxsLFxyXG5cdFx0XHRwb3J0OiBudWxsLFxyXG5cdFx0XHRwYXRoOiBudWxsLFxyXG5cdFx0XHRxdWVyeTogbnVsbCxcclxuXHRcdFx0ZnJhZ21lbnQ6IG51bGwsXHJcblx0XHRcdC8vIHN0YXRlXHJcblx0XHRcdGR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVyczogVVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyxcclxuXHRcdFx0ZXNjYXBlUXVlcnlTcGFjZTogVVJJLmVzY2FwZVF1ZXJ5U3BhY2VcclxuXHRcdH07XHJcblx0fTtcclxuXHQvLyBzdGF0ZTogYWxsb3cgZHVwbGljYXRlIHF1ZXJ5IHBhcmFtZXRlcnMgKGE9MSZhPTEpXHJcblx0VVJJLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycyA9IGZhbHNlO1xyXG5cdC8vIHN0YXRlOiByZXBsYWNlcyArIHdpdGggJTIwIChzcGFjZSBpbiBxdWVyeSBzdHJpbmdzKVxyXG5cdFVSSS5lc2NhcGVRdWVyeVNwYWNlID0gdHJ1ZTtcclxuXHQvLyBzdGF0aWMgcHJvcGVydGllc1xyXG5cdFVSSS5wcm90b2NvbF9leHByZXNzaW9uID0gL15bYS16XVthLXowLTkuKy1dKiQvaTtcclxuXHRVUkkuaWRuX2V4cHJlc3Npb24gPSAvW15hLXowLTlcXC4tXS9pO1xyXG5cdFVSSS5wdW55Y29kZV9leHByZXNzaW9uID0gLyh4bi0tKS9pO1xyXG5cdC8vIHdlbGwsIDMzMy40NDQuNTU1LjY2NiBtYXRjaGVzLCBidXQgaXQgc3VyZSBhaW4ndCBubyBJUHY0IC0gZG8gd2UgY2FyZT9cclxuXHRVUkkuaXA0X2V4cHJlc3Npb24gPSAvXlxcZHsxLDN9XFwuXFxkezEsM31cXC5cXGR7MSwzfVxcLlxcZHsxLDN9JC87XHJcblx0Ly8gY3JlZGl0cyB0byBSaWNoIEJyb3duXHJcblx0Ly8gc291cmNlOiBodHRwOi8vZm9ydW1zLmludGVybWFwcGVyLmNvbS92aWV3dG9waWMucGhwP3A9MTA5NiMxMDk2XHJcblx0Ly8gc3BlY2lmaWNhdGlvbjogaHR0cDovL3d3dy5pZXRmLm9yZy9yZmMvcmZjNDI5MS50eHRcclxuXHRVUkkuaXA2X2V4cHJlc3Npb24gPSAvXlxccyooKChbMC05QS1GYS1mXXsxLDR9Oil7N30oWzAtOUEtRmEtZl17MSw0fXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7Nn0oOlswLTlBLUZhLWZdezEsNH18KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs1fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDJ9KXw6KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXs0fSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDN9KXwoKDpbMC05QS1GYS1mXXsxLDR9KT86KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KChbMC05QS1GYS1mXXsxLDR9Oil7M30oKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw0fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCwyfTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKXwoKFswLTlBLUZhLWZdezEsNH06KXsyfSgoKDpbMC05QS1GYS1mXXsxLDR9KXsxLDV9KXwoKDpbMC05QS1GYS1mXXsxLDR9KXswLDN9OigoMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKFxcLigyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkpezN9KSl8OikpfCgoWzAtOUEtRmEtZl17MSw0fTopezF9KCgoOlswLTlBLUZhLWZdezEsNH0pezEsNn0pfCgoOlswLTlBLUZhLWZdezEsNH0pezAsNH06KCgyNVswLTVdfDJbMC00XVxcZHwxXFxkXFxkfFsxLTldP1xcZCkoXFwuKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKSl7M30pKXw6KSl8KDooKCg6WzAtOUEtRmEtZl17MSw0fSl7MSw3fSl8KCg6WzAtOUEtRmEtZl17MSw0fSl7MCw1fTooKDI1WzAtNV18MlswLTRdXFxkfDFcXGRcXGR8WzEtOV0/XFxkKShcXC4oMjVbMC01XXwyWzAtNF1cXGR8MVxcZFxcZHxbMS05XT9cXGQpKXszfSkpfDopKSkoJS4rKT9cXHMqJC87XHJcblx0Ly8gZXhwcmVzc2lvbiB1c2VkIGlzIFwiZ3J1YmVyIHJldmlzZWRcIiAoQGdydWJlciB2MikgZGV0ZXJtaW5lZCB0byBiZSB0aGVcclxuXHQvLyBiZXN0IHNvbHV0aW9uIGluIGEgcmVnZXgtZ29sZiB3ZSBkaWQgYSBjb3VwbGUgb2YgYWdlcyBhZ28gYXRcclxuXHQvLyAqIGh0dHA6Ly9tYXRoaWFzYnluZW5zLmJlL2RlbW8vdXJsLXJlZ2V4XHJcblx0Ly8gKiBodHRwOi8vcm9kbmV5cmVobS5kZS90L3VybC1yZWdleC5odG1sXHJcblx0VVJJLmZpbmRfdXJpX2V4cHJlc3Npb24gPSAvXFxiKCg/OlthLXpdW1xcdy1dKzooPzpcXC97MSwzfXxbYS16MC05JV0pfHd3d1xcZHswLDN9Wy5dfFthLXowLTkuXFwtXStbLl1bYS16XXsyLDR9XFwvKSg/OlteXFxzKCk8Pl0rfFxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCkpKyg/OlxcKChbXlxccygpPD5dK3woXFwoW15cXHMoKTw+XStcXCkpKSpcXCl8W15cXHNgISgpXFxbXFxde307OidcIi4sPD4/wqvCu+KAnOKAneKAmOKAmV0pKS9pZztcclxuXHRVUkkuZmluZFVyaSA9IHtcclxuXHRcdC8vIHZhbGlkIFwic2NoZW1lOi8vXCIgb3IgXCJ3d3cuXCJcclxuXHRcdHN0YXJ0OiAvXFxiKD86KFthLXpdW2EtejAtOS4rLV0qOlxcL1xcLyl8d3d3XFwuKS9naSxcclxuXHRcdC8vIGV2ZXJ5dGhpbmcgdXAgdG8gdGhlIG5leHQgd2hpdGVzcGFjZVxyXG5cdFx0ZW5kOiAvW1xcc1xcclxcbl18JC8sXHJcblx0XHQvLyB0cmltIHRyYWlsaW5nIHB1bmN0dWF0aW9uIGNhcHR1cmVkIGJ5IGVuZCBSZWdFeHBcclxuXHRcdHRyaW06IC9bYCEoKVxcW1xcXXt9OzonXCIuLDw+P8KrwrvigJzigJ3igJ7igJjigJldKyQvXHJcblx0fTtcclxuXHQvLyBodHRwOi8vd3d3LmlhbmEub3JnL2Fzc2lnbm1lbnRzL3VyaS1zY2hlbWVzLmh0bWxcclxuXHQvLyBodHRwOi8vZW4ud2lraXBlZGlhLm9yZy93aWtpL0xpc3Rfb2ZfVENQX2FuZF9VRFBfcG9ydF9udW1iZXJzI1dlbGwta25vd25fcG9ydHNcclxuXHRVUkkuZGVmYXVsdFBvcnRzID0ge1xyXG5cdFx0aHR0cDogJzgwJyxcclxuXHRcdGh0dHBzOiAnNDQzJyxcclxuXHRcdGZ0cDogJzIxJyxcclxuXHRcdGdvcGhlcjogJzcwJyxcclxuXHRcdHdzOiAnODAnLFxyXG5cdFx0d3NzOiAnNDQzJ1xyXG5cdH07XHJcblx0Ly8gYWxsb3dlZCBob3N0bmFtZSBjaGFyYWN0ZXJzIGFjY29yZGluZyB0byBSRkMgMzk4NlxyXG5cdC8vIEFMUEhBIERJR0lUIFwiLVwiIFwiLlwiIFwiX1wiIFwiflwiIFwiIVwiIFwiJFwiIFwiJlwiIFwiJ1wiIFwiKFwiIFwiKVwiIFwiKlwiIFwiK1wiIFwiLFwiIFwiO1wiIFwiPVwiICVlbmNvZGVkXHJcblx0Ly8gSSd2ZSBuZXZlciBzZWVuIGEgKG5vbi1JRE4pIGhvc3RuYW1lIG90aGVyIHRoYW46IEFMUEhBIERJR0lUIC4gLVxyXG5cdFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMgPSAvW15hLXpBLVowLTlcXC4tXS87XHJcblx0Ly8gbWFwIERPTSBFbGVtZW50cyB0byB0aGVpciBVUkkgYXR0cmlidXRlXHJcblx0VVJJLmRvbUF0dHJpYnV0ZXMgPSB7XHJcblx0XHQnYSc6ICdocmVmJyxcclxuXHRcdCdibG9ja3F1b3RlJzogJ2NpdGUnLFxyXG5cdFx0J2xpbmsnOiAnaHJlZicsXHJcblx0XHQnYmFzZSc6ICdocmVmJyxcclxuXHRcdCdzY3JpcHQnOiAnc3JjJyxcclxuXHRcdCdmb3JtJzogJ2FjdGlvbicsXHJcblx0XHQnaW1nJzogJ3NyYycsXHJcblx0XHQnYXJlYSc6ICdocmVmJyxcclxuXHRcdCdpZnJhbWUnOiAnc3JjJyxcclxuXHRcdCdlbWJlZCc6ICdzcmMnLFxyXG5cdFx0J3NvdXJjZSc6ICdzcmMnLFxyXG5cdFx0J3RyYWNrJzogJ3NyYycsXHJcblx0XHQnaW5wdXQnOiAnc3JjJywgLy8gYnV0IG9ubHkgaWYgdHlwZT1cImltYWdlXCJcclxuXHRcdCdhdWRpbyc6ICdzcmMnLFxyXG5cdFx0J3ZpZGVvJzogJ3NyYydcclxuXHR9O1xyXG5cdFVSSS5nZXREb21BdHRyaWJ1dGUgPSBmdW5jdGlvbihub2RlKSB7XHJcblx0XHRpZiAoIW5vZGUgfHwgIW5vZGUubm9kZU5hbWUpIHtcclxuXHRcdFx0cmV0dXJuIHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgbm9kZU5hbWUgPSBub2RlLm5vZGVOYW1lLnRvTG93ZXJDYXNlKCk7XHJcblx0XHQvLyA8aW5wdXQ+IHNob3VsZCBvbmx5IGV4cG9zZSBzcmMgZm9yIHR5cGU9XCJpbWFnZVwiXHJcblx0XHRpZiAobm9kZU5hbWUgPT09ICdpbnB1dCcgJiYgbm9kZS50eXBlICE9PSAnaW1hZ2UnKSB7XHJcblx0XHRcdHJldHVybiB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIFVSSS5kb21BdHRyaWJ1dGVzW25vZGVOYW1lXTtcclxuXHR9O1xyXG5cclxuXHRmdW5jdGlvbiBlc2NhcGVGb3JEdW1iRmlyZWZveDM2KHZhbHVlKSB7XHJcblx0XHQvLyBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvOTFcclxuXHRcdHJldHVybiBlc2NhcGUodmFsdWUpO1xyXG5cdH1cclxuXHJcblx0Ly8gZW5jb2RpbmcgLyBkZWNvZGluZyBhY2NvcmRpbmcgdG8gUkZDMzk4NlxyXG5cdGZ1bmN0aW9uIHN0cmljdEVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpIHtcclxuXHRcdC8vIHNlZSBodHRwczovL2RldmVsb3Blci5tb3ppbGxhLm9yZy9lbi1VUy9kb2NzL0phdmFTY3JpcHQvUmVmZXJlbmNlL0dsb2JhbF9PYmplY3RzL2VuY29kZVVSSUNvbXBvbmVudFxyXG5cdFx0cmV0dXJuIGVuY29kZVVSSUNvbXBvbmVudChzdHJpbmcpXHJcblx0XHRcdC5yZXBsYWNlKC9bIScoKSpdL2csIGVzY2FwZUZvckR1bWJGaXJlZm94MzYpXHJcblx0XHRcdC5yZXBsYWNlKC9cXCovZywgJyUyQScpO1xyXG5cdH1cclxuXHRVUkkuZW5jb2RlID0gc3RyaWN0RW5jb2RlVVJJQ29tcG9uZW50O1xyXG5cdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XHJcblx0VVJJLmlzbzg4NTkgPSBmdW5jdGlvbigpIHtcclxuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XHJcblx0XHRVUkkuZGVjb2RlID0gdW5lc2NhcGU7XHJcblx0fTtcclxuXHRVUkkudW5pY29kZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0VVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDtcclxuXHRcdFVSSS5kZWNvZGUgPSBkZWNvZGVVUklDb21wb25lbnQ7XHJcblx0fTtcclxuXHRVUkkuY2hhcmFjdGVycyA9IHtcclxuXHRcdHBhdGhuYW1lOiB7XHJcblx0XHRcdGVuY29kZToge1xyXG5cdFx0XHRcdC8vIFJGQzM5ODYgMi4xOiBGb3IgY29uc2lzdGVuY3ksIFVSSSBwcm9kdWNlcnMgYW5kIG5vcm1hbGl6ZXJzIHNob3VsZFxyXG5cdFx0XHRcdC8vIHVzZSB1cHBlcmNhc2UgaGV4YWRlY2ltYWwgZGlnaXRzIGZvciBhbGwgcGVyY2VudC1lbmNvZGluZ3MuXHJcblx0XHRcdFx0ZXhwcmVzc2lvbjogLyUoMjR8MjZ8MkJ8MkN8M0J8M0R8M0F8NDApL2lnLFxyXG5cdFx0XHRcdG1hcDoge1xyXG5cdFx0XHRcdFx0Ly8gLS5ffiEnKCkqXHJcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxyXG5cdFx0XHRcdFx0JyUyNic6ICcmJyxcclxuXHRcdFx0XHRcdCclMkInOiAnKycsXHJcblx0XHRcdFx0XHQnJTJDJzogJywnLFxyXG5cdFx0XHRcdFx0JyUzQic6ICc7JyxcclxuXHRcdFx0XHRcdCclM0QnOiAnPScsXHJcblx0XHRcdFx0XHQnJTNBJzogJzonLFxyXG5cdFx0XHRcdFx0JyU0MCc6ICdAJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0ZGVjb2RlOiB7XHJcblx0XHRcdFx0ZXhwcmVzc2lvbjogL1tcXC9cXD8jXS9nLFxyXG5cdFx0XHRcdG1hcDoge1xyXG5cdFx0XHRcdFx0Jy8nOiAnJTJGJyxcclxuXHRcdFx0XHRcdCc/JzogJyUzRicsXHJcblx0XHRcdFx0XHQnIyc6ICclMjMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9LFxyXG5cdFx0cmVzZXJ2ZWQ6IHtcclxuXHRcdFx0ZW5jb2RlOiB7XHJcblx0XHRcdFx0Ly8gUkZDMzk4NiAyLjE6IEZvciBjb25zaXN0ZW5jeSwgVVJJIHByb2R1Y2VycyBhbmQgbm9ybWFsaXplcnMgc2hvdWxkXHJcblx0XHRcdFx0Ly8gdXNlIHVwcGVyY2FzZSBoZXhhZGVjaW1hbCBkaWdpdHMgZm9yIGFsbCBwZXJjZW50LWVuY29kaW5ncy5cclxuXHRcdFx0XHRleHByZXNzaW9uOiAvJSgyMXwyM3wyNHwyNnwyN3wyOHwyOXwyQXwyQnwyQ3wyRnwzQXwzQnwzRHwzRnw0MHw1Qnw1RCkvaWcsXHJcblx0XHRcdFx0bWFwOiB7XHJcblx0XHRcdFx0XHQvLyBnZW4tZGVsaW1zXHJcblx0XHRcdFx0XHQnJTNBJzogJzonLFxyXG5cdFx0XHRcdFx0JyUyRic6ICcvJyxcclxuXHRcdFx0XHRcdCclM0YnOiAnPycsXHJcblx0XHRcdFx0XHQnJTIzJzogJyMnLFxyXG5cdFx0XHRcdFx0JyU1Qic6ICdbJyxcclxuXHRcdFx0XHRcdCclNUQnOiAnXScsXHJcblx0XHRcdFx0XHQnJTQwJzogJ0AnLFxyXG5cdFx0XHRcdFx0Ly8gc3ViLWRlbGltc1xyXG5cdFx0XHRcdFx0JyUyMSc6ICchJyxcclxuXHRcdFx0XHRcdCclMjQnOiAnJCcsXHJcblx0XHRcdFx0XHQnJTI2JzogJyYnLFxyXG5cdFx0XHRcdFx0JyUyNyc6ICdcXCcnLFxyXG5cdFx0XHRcdFx0JyUyOCc6ICcoJyxcclxuXHRcdFx0XHRcdCclMjknOiAnKScsXHJcblx0XHRcdFx0XHQnJTJBJzogJyonLFxyXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcclxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXHJcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxyXG5cdFx0XHRcdFx0JyUzRCc6ICc9J1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHVybnBhdGg6IHtcclxuXHRcdFx0Ly8gVGhlIGNoYXJhY3RlcnMgdW5kZXIgYGVuY29kZWAgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDIDIxNDEgYXMgYmVpbmcgYWNjZXB0YWJsZVxyXG5cdFx0XHQvLyBmb3IgdXNhZ2UgaW4gYSBVUk4uIFJGQzIxNDEgYWxzbyBjYWxscyBvdXQgXCItXCIsIFwiLlwiLCBhbmQgXCJfXCIgYXMgYWNjZXB0YWJsZSBjaGFyYWN0ZXJzLCBidXRcclxuXHRcdFx0Ly8gdGhlc2UgYXJlbid0IGVuY29kZWQgYnkgZW5jb2RlVVJJQ29tcG9uZW50LCBzbyB3ZSBkb24ndCBoYXZlIHRvIGNhbGwgdGhlbSBvdXQgaGVyZS4gQWxzb1xyXG5cdFx0XHQvLyBub3RlIHRoYXQgdGhlIGNvbG9uIGNoYXJhY3RlciBpcyBub3QgZmVhdHVyZWQgaW4gdGhlIGVuY29kaW5nIG1hcDsgdGhpcyBpcyBiZWNhdXNlIFVSSS5qc1xyXG5cdFx0XHQvLyBnaXZlcyB0aGUgY29sb25zIGluIFVSTnMgc2VtYW50aWMgbWVhbmluZyBhcyB0aGUgZGVsaW1pdGVycyBvZiBwYXRoIHNlZ2VtZW50cywgYW5kIHNvIGl0XHJcblx0XHRcdC8vIHNob3VsZCBub3QgYXBwZWFyIHVuZW5jb2RlZCBpbiBhIHNlZ21lbnQgaXRzZWxmLlxyXG5cdFx0XHQvLyBTZWUgYWxzbyB0aGUgbm90ZSBhYm92ZSBhYm91dCBSRkMzOTg2IGFuZCBjYXBpdGFsYWxpemVkIGhleCBkaWdpdHMuXHJcblx0XHRcdGVuY29kZToge1xyXG5cdFx0XHRcdGV4cHJlc3Npb246IC8lKDIxfDI0fDI3fDI4fDI5fDJBfDJCfDJDfDNCfDNEfDQwKS9pZyxcclxuXHRcdFx0XHRtYXA6IHtcclxuXHRcdFx0XHRcdCclMjEnOiAnIScsXHJcblx0XHRcdFx0XHQnJTI0JzogJyQnLFxyXG5cdFx0XHRcdFx0JyUyNyc6ICdcXCcnLFxyXG5cdFx0XHRcdFx0JyUyOCc6ICcoJyxcclxuXHRcdFx0XHRcdCclMjknOiAnKScsXHJcblx0XHRcdFx0XHQnJTJBJzogJyonLFxyXG5cdFx0XHRcdFx0JyUyQic6ICcrJyxcclxuXHRcdFx0XHRcdCclMkMnOiAnLCcsXHJcblx0XHRcdFx0XHQnJTNCJzogJzsnLFxyXG5cdFx0XHRcdFx0JyUzRCc6ICc9JyxcclxuXHRcdFx0XHRcdCclNDAnOiAnQCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sXHJcblx0XHRcdC8vIFRoZXNlIGNoYXJhY3RlcnMgYXJlIHRoZSBjaGFyYWN0ZXJzIGNhbGxlZCBvdXQgYnkgUkZDMjE0MSBhcyBcInJlc2VydmVkXCIgY2hhcmFjdGVycyB0aGF0XHJcblx0XHRcdC8vIHNob3VsZCBuZXZlciBhcHBlYXIgaW4gYSBVUk4sIHBsdXMgdGhlIGNvbG9uIGNoYXJhY3RlciAoc2VlIG5vdGUgYWJvdmUpLlxyXG5cdFx0XHRkZWNvZGU6IHtcclxuXHRcdFx0XHRleHByZXNzaW9uOiAvW1xcL1xcPyM6XS9nLFxyXG5cdFx0XHRcdG1hcDoge1xyXG5cdFx0XHRcdFx0Jy8nOiAnJTJGJyxcclxuXHRcdFx0XHRcdCc/JzogJyUzRicsXHJcblx0XHRcdFx0XHQnIyc6ICclMjMnLFxyXG5cdFx0XHRcdFx0JzonOiAnJTNBJ1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdH07XHJcblx0VVJJLmVuY29kZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XHJcblx0XHR2YXIgZXNjYXBlZCA9IFVSSS5lbmNvZGUoc3RyaW5nICsgJycpO1xyXG5cdFx0aWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGVzY2FwZVF1ZXJ5U3BhY2UgPyBlc2NhcGVkLnJlcGxhY2UoLyUyMC9nLCAnKycpIDogZXNjYXBlZDtcclxuXHR9O1xyXG5cdFVSSS5kZWNvZGVRdWVyeSA9IGZ1bmN0aW9uKHN0cmluZywgZXNjYXBlUXVlcnlTcGFjZSkge1xyXG5cdFx0c3RyaW5nICs9ICcnO1xyXG5cdFx0aWYgKGVzY2FwZVF1ZXJ5U3BhY2UgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRlc2NhcGVRdWVyeVNwYWNlID0gVVJJLmVzY2FwZVF1ZXJ5U3BhY2U7XHJcblx0XHR9XHJcblxyXG5cdFx0dHJ5IHtcclxuXHRcdFx0cmV0dXJuIFVSSS5kZWNvZGUoZXNjYXBlUXVlcnlTcGFjZSA/IHN0cmluZy5yZXBsYWNlKC9cXCsvZywgJyUyMCcpIDogc3RyaW5nKTtcclxuXHRcdH0gY2F0Y2goZSkge1xyXG5cdFx0XHQvLyB3ZSdyZSBub3QgZ29pbmcgdG8gbWVzcyB3aXRoIHdlaXJkIGVuY29kaW5ncyxcclxuXHRcdFx0Ly8gZ2l2ZSB1cCBhbmQgcmV0dXJuIHRoZSB1bmRlY29kZWQgb3JpZ2luYWwgc3RyaW5nXHJcblx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODdcclxuXHRcdFx0Ly8gc2VlIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL2lzc3Vlcy85MlxyXG5cdFx0XHRyZXR1cm4gc3RyaW5nO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0Ly8gZ2VuZXJhdGUgZW5jb2RlL2RlY29kZSBwYXRoIGZ1bmN0aW9uc1xyXG5cdHZhciBfcGFydHMgPSB7J2VuY29kZSc6J2VuY29kZScsICdkZWNvZGUnOidkZWNvZGUnfTtcclxuXHR2YXIgX3BhcnQ7XHJcblx0dmFyIGdlbmVyYXRlQWNjZXNzb3IgPSBmdW5jdGlvbihfZ3JvdXAsIF9wYXJ0KSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XHJcblx0XHRcdHRyeSB7XHJcblx0XHRcdFx0cmV0dXJuIFVSSVtfcGFydF0oc3RyaW5nICsgJycpLnJlcGxhY2UoVVJJLmNoYXJhY3RlcnNbX2dyb3VwXVtfcGFydF0uZXhwcmVzc2lvbiwgZnVuY3Rpb24oYykge1xyXG5cdFx0XHRcdFx0cmV0dXJuIFVSSS5jaGFyYWN0ZXJzW19ncm91cF1bX3BhcnRdLm1hcFtjXTtcclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdC8vIHdlJ3JlIG5vdCBnb2luZyB0byBtZXNzIHdpdGggd2VpcmQgZW5jb2RpbmdzLFxyXG5cdFx0XHRcdC8vIGdpdmUgdXAgYW5kIHJldHVybiB0aGUgdW5kZWNvZGVkIG9yaWdpbmFsIHN0cmluZ1xyXG5cdFx0XHRcdC8vIHNlZSBodHRwczovL2dpdGh1Yi5jb20vbWVkaWFsaXplL1VSSS5qcy9pc3N1ZXMvODdcclxuXHRcdFx0XHQvLyBzZWUgaHR0cHM6Ly9naXRodWIuY29tL21lZGlhbGl6ZS9VUkkuanMvaXNzdWVzLzkyXHJcblx0XHRcdFx0cmV0dXJuIHN0cmluZztcclxuXHRcdFx0fVxyXG5cdFx0fTtcclxuXHR9O1xyXG5cclxuXHRmb3IgKF9wYXJ0IGluIF9wYXJ0cykge1xyXG5cdFx0VVJJW19wYXJ0ICsgJ1BhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCdwYXRobmFtZScsIF9wYXJ0c1tfcGFydF0pO1xyXG5cdFx0VVJJW19wYXJ0ICsgJ1VyblBhdGhTZWdtZW50J10gPSBnZW5lcmF0ZUFjY2Vzc29yKCd1cm5wYXRoJywgX3BhcnRzW19wYXJ0XSk7XHJcblx0fVxyXG5cclxuXHR2YXIgZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24gPSBmdW5jdGlvbihfc2VwLCBfY29kaW5nRnVuY05hbWUsIF9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24oc3RyaW5nKSB7XHJcblx0XHRcdC8vIFdoeSBwYXNzIGluIG5hbWVzIG9mIGZ1bmN0aW9ucywgcmF0aGVyIHRoYW4gdGhlIGZ1bmN0aW9uIG9iamVjdHMgdGhlbXNlbHZlcz8gVGhlXHJcblx0XHRcdC8vIGRlZmluaXRpb25zIG9mIHNvbWUgZnVuY3Rpb25zIChidXQgaW4gcGFydGljdWxhciwgVVJJLmRlY29kZSkgd2lsbCBvY2Nhc2lvbmFsbHkgY2hhbmdlIGR1ZVxyXG5cdFx0XHQvLyB0byBVUkkuanMgaGF2aW5nIElTTzg4NTkgYW5kIFVuaWNvZGUgbW9kZXMuIFBhc3NpbmcgaW4gdGhlIG5hbWUgYW5kIGdldHRpbmcgaXQgd2lsbCBlbnN1cmVcclxuXHRcdFx0Ly8gdGhhdCB0aGUgZnVuY3Rpb25zIHdlIHVzZSBoZXJlIGFyZSBcImZyZXNoXCIuXHJcblx0XHRcdHZhciBhY3R1YWxDb2RpbmdGdW5jO1xyXG5cdFx0XHRpZiAoIV9pbm5lckNvZGluZ0Z1bmNOYW1lKSB7XHJcblx0XHRcdFx0YWN0dWFsQ29kaW5nRnVuYyA9IFVSSVtfY29kaW5nRnVuY05hbWVdO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGFjdHVhbENvZGluZ0Z1bmMgPSBmdW5jdGlvbihzdHJpbmcpIHtcclxuXHRcdFx0XHRcdHJldHVybiBVUklbX2NvZGluZ0Z1bmNOYW1lXShVUklbX2lubmVyQ29kaW5nRnVuY05hbWVdKHN0cmluZykpO1xyXG5cdFx0XHRcdH07XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzZWdtZW50cyA9IChzdHJpbmcgKyAnJykuc3BsaXQoX3NlcCk7XHJcblxyXG5cdFx0XHRmb3IgKHZhciBpID0gMCwgbGVuZ3RoID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0XHRzZWdtZW50c1tpXSA9IGFjdHVhbENvZGluZ0Z1bmMoc2VnbWVudHNbaV0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gc2VnbWVudHMuam9pbihfc2VwKTtcclxuXHRcdH07XHJcblx0fTtcclxuXHJcblx0Ly8gVGhpcyB0YWtlcyBwbGFjZSBvdXRzaWRlIHRoZSBhYm92ZSBsb29wIGJlY2F1c2Ugd2UgZG9uJ3Qgd2FudCwgZS5nLiwgZW5jb2RlVXJuUGF0aCBmdW5jdGlvbnMuXHJcblx0VVJJLmRlY29kZVBhdGggPSBnZW5lcmF0ZVNlZ21lbnRlZFBhdGhGdW5jdGlvbignLycsICdkZWNvZGVQYXRoU2VnbWVudCcpO1xyXG5cdFVSSS5kZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZGVjb2RlVXJuUGF0aFNlZ21lbnQnKTtcclxuXHRVUkkucmVjb2RlUGF0aCA9IGdlbmVyYXRlU2VnbWVudGVkUGF0aEZ1bmN0aW9uKCcvJywgJ2VuY29kZVBhdGhTZWdtZW50JywgJ2RlY29kZScpO1xyXG5cdFVSSS5yZWNvZGVVcm5QYXRoID0gZ2VuZXJhdGVTZWdtZW50ZWRQYXRoRnVuY3Rpb24oJzonLCAnZW5jb2RlVXJuUGF0aFNlZ21lbnQnLCAnZGVjb2RlJyk7XHJcblxyXG5cdFVSSS5lbmNvZGVSZXNlcnZlZCA9IGdlbmVyYXRlQWNjZXNzb3IoJ3Jlc2VydmVkJywgJ2VuY29kZScpO1xyXG5cclxuXHRVUkkucGFyc2UgPSBmdW5jdGlvbihzdHJpbmcsIHBhcnRzKSB7XHJcblx0XHR2YXIgcG9zO1xyXG5cdFx0aWYgKCFwYXJ0cykge1xyXG5cdFx0XHRwYXJ0cyA9IHt9O1xyXG5cdFx0fVxyXG5cdFx0Ly8gW3Byb3RvY29sXCI6Ly9cIlt1c2VybmFtZVtcIjpcInBhc3N3b3JkXVwiQFwiXWhvc3RuYW1lW1wiOlwicG9ydF1cIi9cIj9dW3BhdGhdW1wiP1wicXVlcnlzdHJpbmddW1wiI1wiZnJhZ21lbnRdXHJcblxyXG5cdFx0Ly8gZXh0cmFjdCBmcmFnbWVudFxyXG5cdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJyMnKTtcclxuXHRcdGlmIChwb3MgPiAtMSkge1xyXG5cdFx0XHQvLyBlc2NhcGluZz9cclxuXHRcdFx0cGFydHMuZnJhZ21lbnQgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpIHx8IG51bGw7XHJcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMCwgcG9zKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBleHRyYWN0IHF1ZXJ5XHJcblx0XHRwb3MgPSBzdHJpbmcuaW5kZXhPZignPycpO1xyXG5cdFx0aWYgKHBvcyA+IC0xKSB7XHJcblx0XHRcdC8vIGVzY2FwaW5nP1xyXG5cdFx0XHRwYXJ0cy5xdWVyeSA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSkgfHwgbnVsbDtcclxuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGV4dHJhY3QgcHJvdG9jb2xcclxuXHRcdGlmIChzdHJpbmcuc3Vic3RyaW5nKDAsIDIpID09PSAnLy8nKSB7XHJcblx0XHRcdC8vIHJlbGF0aXZlLXNjaGVtZVxyXG5cdFx0XHRwYXJ0cy5wcm90b2NvbCA9IG51bGw7XHJcblx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcoMik7XHJcblx0XHRcdC8vIGV4dHJhY3QgXCJ1c2VyOnBhc3NAaG9zdDpwb3J0XCJcclxuXHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cG9zID0gc3RyaW5nLmluZGV4T2YoJzonKTtcclxuXHRcdFx0aWYgKHBvcyA+IC0xKSB7XHJcblx0XHRcdFx0cGFydHMucHJvdG9jb2wgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDtcclxuXHRcdFx0XHRpZiAocGFydHMucHJvdG9jb2wgJiYgIXBhcnRzLnByb3RvY29sLm1hdGNoKFVSSS5wcm90b2NvbF9leHByZXNzaW9uKSkge1xyXG5cdFx0XHRcdFx0Ly8gOiBtYXkgYmUgd2l0aGluIHRoZSBwYXRoXHJcblx0XHRcdFx0XHRwYXJ0cy5wcm90b2NvbCA9IHVuZGVmaW5lZDtcclxuXHRcdFx0XHR9IGVsc2UgaWYgKHN0cmluZy5zdWJzdHJpbmcocG9zICsgMSwgcG9zICsgMykgPT09ICcvLycpIHtcclxuXHRcdFx0XHRcdHN0cmluZyA9IHN0cmluZy5zdWJzdHJpbmcocG9zICsgMyk7XHJcblxyXG5cdFx0XHRcdFx0Ly8gZXh0cmFjdCBcInVzZXI6cGFzc0Bob3N0OnBvcnRcIlxyXG5cdFx0XHRcdFx0c3RyaW5nID0gVVJJLnBhcnNlQXV0aG9yaXR5KHN0cmluZywgcGFydHMpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpO1xyXG5cdFx0XHRcdFx0cGFydHMudXJuID0gdHJ1ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHQvLyB3aGF0J3MgbGVmdCBtdXN0IGJlIHRoZSBwYXRoXHJcblx0XHRwYXJ0cy5wYXRoID0gc3RyaW5nO1xyXG5cclxuXHRcdC8vIGFuZCB3ZSdyZSBkb25lXHJcblx0XHRyZXR1cm4gcGFydHM7XHJcblx0fTtcclxuXHRVUkkucGFyc2VIb3N0ID0gZnVuY3Rpb24oc3RyaW5nLCBwYXJ0cykge1xyXG5cdFx0Ly8gQ29weSBjaHJvbWUsIElFLCBvcGVyYSBiYWNrc2xhc2gtaGFuZGxpbmcgYmVoYXZpb3IuXHJcblx0XHQvLyBCYWNrIHNsYXNoZXMgYmVmb3JlIHRoZSBxdWVyeSBzdHJpbmcgZ2V0IGNvbnZlcnRlZCB0byBmb3J3YXJkIHNsYXNoZXNcclxuXHRcdC8vIFNlZTogaHR0cHM6Ly9naXRodWIuY29tL2pveWVudC9ub2RlL2Jsb2IvMzg2ZmQyNGY0OWIwZTlkMWE4YTA3NjU5MmE0MDQxNjhmYWVlY2MzNC9saWIvdXJsLmpzI0wxMTUtTDEyNFxyXG5cdFx0Ly8gU2VlOiBodHRwczovL2NvZGUuZ29vZ2xlLmNvbS9wL2Nocm9taXVtL2lzc3Vlcy9kZXRhaWw/aWQ9MjU5MTZcclxuXHRcdC8vIGh0dHBzOi8vZ2l0aHViLmNvbS9tZWRpYWxpemUvVVJJLmpzL3B1bGwvMjMzXHJcblx0XHRzdHJpbmcgPSBzdHJpbmcucmVwbGFjZSgvXFxcXC9nLCAnLycpO1xyXG5cclxuXHRcdC8vIGV4dHJhY3QgaG9zdDpwb3J0XHJcblx0XHR2YXIgcG9zID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcclxuXHRcdHZhciBicmFja2V0UG9zO1xyXG5cdFx0dmFyIHQ7XHJcblxyXG5cdFx0aWYgKHBvcyA9PT0gLTEpIHtcclxuXHRcdFx0cG9zID0gc3RyaW5nLmxlbmd0aDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoc3RyaW5nLmNoYXJBdCgwKSA9PT0gJ1snKSB7XHJcblx0XHRcdC8vIElQdjYgaG9zdCAtIGh0dHA6Ly90b29scy5pZXRmLm9yZy9odG1sL2RyYWZ0LWlldGYtNm1hbi10ZXh0LWFkZHItcmVwcmVzZW50YXRpb24tMDQjc2VjdGlvbi02XHJcblx0XHRcdC8vIEkgY2xhaW0gbW9zdCBjbGllbnQgc29mdHdhcmUgYnJlYWtzIG9uIElQdjYgYW55d2F5cy4gVG8gc2ltcGxpZnkgdGhpbmdzLCBVUkkgb25seSBhY2NlcHRzXHJcblx0XHRcdC8vIElQdjYrcG9ydCBpbiB0aGUgZm9ybWF0IFsyMDAxOmRiODo6MV06ODAgKGZvciB0aGUgdGltZSBiZWluZylcclxuXHRcdFx0YnJhY2tldFBvcyA9IHN0cmluZy5pbmRleE9mKCddJyk7XHJcblx0XHRcdHBhcnRzLmhvc3RuYW1lID0gc3RyaW5nLnN1YnN0cmluZygxLCBicmFja2V0UG9zKSB8fCBudWxsO1xyXG5cdFx0XHRwYXJ0cy5wb3J0ID0gc3RyaW5nLnN1YnN0cmluZyhicmFja2V0UG9zICsgMiwgcG9zKSB8fCBudWxsO1xyXG5cdFx0XHRpZiAocGFydHMucG9ydCA9PT0gJy8nKSB7XHJcblx0XHRcdFx0cGFydHMucG9ydCA9IG51bGw7XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBmaXJzdENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonKTtcclxuXHRcdFx0dmFyIGZpcnN0U2xhc2ggPSBzdHJpbmcuaW5kZXhPZignLycpO1xyXG5cdFx0XHR2YXIgbmV4dENvbG9uID0gc3RyaW5nLmluZGV4T2YoJzonLCBmaXJzdENvbG9uICsgMSk7XHJcblx0XHRcdGlmIChuZXh0Q29sb24gIT09IC0xICYmIChmaXJzdFNsYXNoID09PSAtMSB8fCBuZXh0Q29sb24gPCBmaXJzdFNsYXNoKSkge1xyXG5cdFx0XHRcdC8vIElQdjYgaG9zdCBjb250YWlucyBtdWx0aXBsZSBjb2xvbnMgLSBidXQgbm8gcG9ydFxyXG5cdFx0XHRcdC8vIHRoaXMgbm90YXRpb24gaXMgYWN0dWFsbHkgbm90IGFsbG93ZWQgYnkgUkZDIDM5ODYsIGJ1dCB3ZSdyZSBhIGxpYmVyYWwgcGFyc2VyXHJcblx0XHRcdFx0cGFydHMuaG9zdG5hbWUgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykgfHwgbnVsbDtcclxuXHRcdFx0XHRwYXJ0cy5wb3J0ID0gbnVsbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0ID0gc3RyaW5nLnN1YnN0cmluZygwLCBwb3MpLnNwbGl0KCc6Jyk7XHJcblx0XHRcdFx0cGFydHMuaG9zdG5hbWUgPSB0WzBdIHx8IG51bGw7XHJcblx0XHRcdFx0cGFydHMucG9ydCA9IHRbMV0gfHwgbnVsbDtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChwYXJ0cy5ob3N0bmFtZSAmJiBzdHJpbmcuc3Vic3RyaW5nKHBvcykuY2hhckF0KDApICE9PSAnLycpIHtcclxuXHRcdFx0cG9zKys7XHJcblx0XHRcdHN0cmluZyA9ICcvJyArIHN0cmluZztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gc3RyaW5nLnN1YnN0cmluZyhwb3MpIHx8ICcvJztcclxuXHR9O1xyXG5cdFVSSS5wYXJzZUF1dGhvcml0eSA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcclxuXHRcdHN0cmluZyA9IFVSSS5wYXJzZVVzZXJpbmZvKHN0cmluZywgcGFydHMpO1xyXG5cdFx0cmV0dXJuIFVSSS5wYXJzZUhvc3Qoc3RyaW5nLCBwYXJ0cyk7XHJcblx0fTtcclxuXHRVUkkucGFyc2VVc2VyaW5mbyA9IGZ1bmN0aW9uKHN0cmluZywgcGFydHMpIHtcclxuXHRcdC8vIGV4dHJhY3QgdXNlcm5hbWU6cGFzc3dvcmRcclxuXHRcdHZhciBmaXJzdFNsYXNoID0gc3RyaW5nLmluZGV4T2YoJy8nKTtcclxuXHRcdHZhciBwb3MgPSBzdHJpbmcubGFzdEluZGV4T2YoJ0AnLCBmaXJzdFNsYXNoID4gLTEgPyBmaXJzdFNsYXNoIDogc3RyaW5nLmxlbmd0aCAtIDEpO1xyXG5cdFx0dmFyIHQ7XHJcblxyXG5cdFx0Ly8gYXV0aG9yaXR5QCBtdXN0IGNvbWUgYmVmb3JlIC9wYXRoXHJcblx0XHRpZiAocG9zID4gLTEgJiYgKGZpcnN0U2xhc2ggPT09IC0xIHx8IHBvcyA8IGZpcnN0U2xhc2gpKSB7XHJcblx0XHRcdHQgPSBzdHJpbmcuc3Vic3RyaW5nKDAsIHBvcykuc3BsaXQoJzonKTtcclxuXHRcdFx0cGFydHMudXNlcm5hbWUgPSB0WzBdID8gVVJJLmRlY29kZSh0WzBdKSA6IG51bGw7XHJcblx0XHRcdHQuc2hpZnQoKTtcclxuXHRcdFx0cGFydHMucGFzc3dvcmQgPSB0WzBdID8gVVJJLmRlY29kZSh0LmpvaW4oJzonKSkgOiBudWxsO1xyXG5cdFx0XHRzdHJpbmcgPSBzdHJpbmcuc3Vic3RyaW5nKHBvcyArIDEpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0cGFydHMudXNlcm5hbWUgPSBudWxsO1xyXG5cdFx0XHRwYXJ0cy5wYXNzd29yZCA9IG51bGw7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHN0cmluZztcclxuXHR9O1xyXG5cdFVSSS5wYXJzZVF1ZXJ5ID0gZnVuY3Rpb24oc3RyaW5nLCBlc2NhcGVRdWVyeVNwYWNlKSB7XHJcblx0XHRpZiAoIXN0cmluZykge1xyXG5cdFx0XHRyZXR1cm4ge307XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gdGhyb3cgb3V0IHRoZSBmdW5reSBidXNpbmVzcyAtIFwiP1wiW25hbWVcIj1cInZhbHVlXCImXCJdK1xyXG5cdFx0c3RyaW5nID0gc3RyaW5nLnJlcGxhY2UoLyYrL2csICcmJykucmVwbGFjZSgvXlxcPyomKnwmKyQvZywgJycpO1xyXG5cclxuXHRcdGlmICghc3RyaW5nKSB7XHJcblx0XHRcdHJldHVybiB7fTtcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgaXRlbXMgPSB7fTtcclxuXHRcdHZhciBzcGxpdHMgPSBzdHJpbmcuc3BsaXQoJyYnKTtcclxuXHRcdHZhciBsZW5ndGggPSBzcGxpdHMubGVuZ3RoO1xyXG5cdFx0dmFyIHYsIG5hbWUsIHZhbHVlO1xyXG5cclxuXHRcdGZvciAodmFyIGkgPSAwOyBpIDwgbGVuZ3RoOyBpKyspIHtcclxuXHRcdFx0diA9IHNwbGl0c1tpXS5zcGxpdCgnPScpO1xyXG5cdFx0XHRuYW1lID0gVVJJLmRlY29kZVF1ZXJ5KHYuc2hpZnQoKSwgZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRcdC8vIG5vIFwiPVwiIGlzIG51bGwgYWNjb3JkaW5nIHRvIGh0dHA6Ly9kdmNzLnczLm9yZy9oZy91cmwvcmF3LWZpbGUvdGlwL092ZXJ2aWV3Lmh0bWwjY29sbGVjdC11cmwtcGFyYW1ldGVyc1xyXG5cdFx0XHR2YWx1ZSA9IHYubGVuZ3RoID8gVVJJLmRlY29kZVF1ZXJ5KHYuam9pbignPScpLCBlc2NhcGVRdWVyeVNwYWNlKSA6IG51bGw7XHJcblxyXG5cdFx0XHRpZiAoaGFzT3duLmNhbGwoaXRlbXMsIG5hbWUpKSB7XHJcblx0XHRcdFx0aWYgKHR5cGVvZiBpdGVtc1tuYW1lXSA9PT0gJ3N0cmluZycgfHwgaXRlbXNbbmFtZV0gPT09IG51bGwpIHtcclxuXHRcdFx0XHRcdGl0ZW1zW25hbWVdID0gW2l0ZW1zW25hbWVdXTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGl0ZW1zW25hbWVdLnB1c2godmFsdWUpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGl0ZW1zW25hbWVdID0gdmFsdWU7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gaXRlbXM7XHJcblx0fTtcclxuXHJcblx0VVJJLmJ1aWxkID0gZnVuY3Rpb24ocGFydHMpIHtcclxuXHRcdHZhciB0ID0gJyc7XHJcblxyXG5cdFx0aWYgKHBhcnRzLnByb3RvY29sKSB7XHJcblx0XHRcdHQgKz0gcGFydHMucHJvdG9jb2wgKyAnOic7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKCFwYXJ0cy51cm4gJiYgKHQgfHwgcGFydHMuaG9zdG5hbWUpKSB7XHJcblx0XHRcdHQgKz0gJy8vJztcclxuXHRcdH1cclxuXHJcblx0XHR0ICs9IChVUkkuYnVpbGRBdXRob3JpdHkocGFydHMpIHx8ICcnKTtcclxuXHJcblx0XHRpZiAodHlwZW9mIHBhcnRzLnBhdGggPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGlmIChwYXJ0cy5wYXRoLmNoYXJBdCgwKSAhPT0gJy8nICYmIHR5cGVvZiBwYXJ0cy5ob3N0bmFtZSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHR0ICs9ICcvJztcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dCArPSBwYXJ0cy5wYXRoO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgcGFydHMucXVlcnkgPT09ICdzdHJpbmcnICYmIHBhcnRzLnF1ZXJ5KSB7XHJcblx0XHRcdHQgKz0gJz8nICsgcGFydHMucXVlcnk7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiBwYXJ0cy5mcmFnbWVudCA9PT0gJ3N0cmluZycgJiYgcGFydHMuZnJhZ21lbnQpIHtcclxuXHRcdFx0dCArPSAnIycgKyBwYXJ0cy5mcmFnbWVudDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0O1xyXG5cdH07XHJcblx0VVJJLmJ1aWxkSG9zdCA9IGZ1bmN0aW9uKHBhcnRzKSB7XHJcblx0XHR2YXIgdCA9ICcnO1xyXG5cclxuXHRcdGlmICghcGFydHMuaG9zdG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0fSBlbHNlIGlmIChVUkkuaXA2X2V4cHJlc3Npb24udGVzdChwYXJ0cy5ob3N0bmFtZSkpIHtcclxuXHRcdFx0dCArPSAnWycgKyBwYXJ0cy5ob3N0bmFtZSArICddJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHQgKz0gcGFydHMuaG9zdG5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBhcnRzLnBvcnQpIHtcclxuXHRcdFx0dCArPSAnOicgKyBwYXJ0cy5wb3J0O1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0O1xyXG5cdH07XHJcblx0VVJJLmJ1aWxkQXV0aG9yaXR5ID0gZnVuY3Rpb24ocGFydHMpIHtcclxuXHRcdHJldHVybiBVUkkuYnVpbGRVc2VyaW5mbyhwYXJ0cykgKyBVUkkuYnVpbGRIb3N0KHBhcnRzKTtcclxuXHR9O1xyXG5cdFVSSS5idWlsZFVzZXJpbmZvID0gZnVuY3Rpb24ocGFydHMpIHtcclxuXHRcdHZhciB0ID0gJyc7XHJcblxyXG5cdFx0aWYgKHBhcnRzLnVzZXJuYW1lKSB7XHJcblx0XHRcdHQgKz0gVVJJLmVuY29kZShwYXJ0cy51c2VybmFtZSk7XHJcblxyXG5cdFx0XHRpZiAocGFydHMucGFzc3dvcmQpIHtcclxuXHRcdFx0XHR0ICs9ICc6JyArIFVSSS5lbmNvZGUocGFydHMucGFzc3dvcmQpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0ICs9ICdAJztcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdDtcclxuXHR9O1xyXG5cdFVSSS5idWlsZFF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCBlc2NhcGVRdWVyeVNwYWNlKSB7XHJcblx0XHQvLyBhY2NvcmRpbmcgdG8gaHR0cDovL3Rvb2xzLmlldGYub3JnL2h0bWwvcmZjMzk4NiBvciBodHRwOi8vbGFicy5hcGFjaGUub3JnL3dlYmFyY2gvdXJpL3JmYy9yZmMzOTg2Lmh0bWxcclxuXHRcdC8vIGJlaW5nIMK7LS5ffiEkJicoKSorLDs9OkAvP8KrICVIRVggYW5kIGFsbnVtIGFyZSBhbGxvd2VkXHJcblx0XHQvLyB0aGUgUkZDIGV4cGxpY2l0bHkgc3RhdGVzID8vZm9vIGJlaW5nIGEgdmFsaWQgdXNlIGNhc2UsIG5vIG1lbnRpb24gb2YgcGFyYW1ldGVyIHN5bnRheCFcclxuXHRcdC8vIFVSSS5qcyB0cmVhdHMgdGhlIHF1ZXJ5IHN0cmluZyBhcyBiZWluZyBhcHBsaWNhdGlvbi94LXd3dy1mb3JtLXVybGVuY29kZWRcclxuXHRcdC8vIHNlZSBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGVcclxuXHJcblx0XHR2YXIgdCA9ICcnO1xyXG5cdFx0dmFyIHVuaXF1ZSwga2V5LCBpLCBsZW5ndGg7XHJcblx0XHRmb3IgKGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdGlmIChoYXNPd24uY2FsbChkYXRhLCBrZXkpICYmIGtleSkge1xyXG5cdFx0XHRcdGlmIChpc0FycmF5KGRhdGFba2V5XSkpIHtcclxuXHRcdFx0XHRcdHVuaXF1ZSA9IHt9O1xyXG5cdFx0XHRcdFx0Zm9yIChpID0gMCwgbGVuZ3RoID0gZGF0YVtrZXldLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0XHRcdGlmIChkYXRhW2tleV1baV0gIT09IHVuZGVmaW5lZCAmJiB1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0XHRcdFx0XHR0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldW2ldLCBlc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0XHRcdFx0XHRpZiAoZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzICE9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR1bmlxdWVbZGF0YVtrZXldW2ldICsgJyddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9IGVsc2UgaWYgKGRhdGFba2V5XSAhPT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0XHR0ICs9ICcmJyArIFVSSS5idWlsZFF1ZXJ5UGFyYW1ldGVyKGtleSwgZGF0YVtrZXldLCBlc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdC5zdWJzdHJpbmcoMSk7XHJcblx0fTtcclxuXHRVUkkuYnVpbGRRdWVyeVBhcmFtZXRlciA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBlc2NhcGVRdWVyeVNwYWNlKSB7XHJcblx0XHQvLyBodHRwOi8vd3d3LnczLm9yZy9UUi9SRUMtaHRtbDQwL2ludGVyYWN0L2Zvcm1zLmh0bWwjZm9ybS1jb250ZW50LXR5cGUgLS0gYXBwbGljYXRpb24veC13d3ctZm9ybS11cmxlbmNvZGVkXHJcblx0XHQvLyBkb24ndCBhcHBlbmQgXCI9XCIgZm9yIG51bGwgdmFsdWVzLCBhY2NvcmRpbmcgdG8gaHR0cDovL2R2Y3MudzMub3JnL2hnL3VybC9yYXctZmlsZS90aXAvT3ZlcnZpZXcuaHRtbCN1cmwtcGFyYW1ldGVyLXNlcmlhbGl6YXRpb25cclxuXHRcdHJldHVybiBVUkkuZW5jb2RlUXVlcnkobmFtZSwgZXNjYXBlUXVlcnlTcGFjZSkgKyAodmFsdWUgIT09IG51bGwgPyAnPScgKyBVUkkuZW5jb2RlUXVlcnkodmFsdWUsIGVzY2FwZVF1ZXJ5U3BhY2UpIDogJycpO1xyXG5cdH07XHJcblxyXG5cdFVSSS5hZGRRdWVyeSA9IGZ1bmN0aW9uKGRhdGEsIG5hbWUsIHZhbHVlKSB7XHJcblx0XHRpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XHJcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcclxuXHRcdFx0XHRcdFVSSS5hZGRRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRpZiAoZGF0YVtuYW1lXSA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0ZGF0YVtuYW1lXSA9IHZhbHVlO1xyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdFx0fSBlbHNlIGlmICh0eXBlb2YgZGF0YVtuYW1lXSA9PT0gJ3N0cmluZycpIHtcclxuXHRcdFx0XHRkYXRhW25hbWVdID0gW2RhdGFbbmFtZV1dO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAoIWlzQXJyYXkodmFsdWUpKSB7XHJcblx0XHRcdFx0dmFsdWUgPSBbdmFsdWVdO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRkYXRhW25hbWVdID0gKGRhdGFbbmFtZV0gfHwgW10pLmNvbmNhdCh2YWx1ZSk7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuYWRkUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nIGFzIHRoZSBuYW1lIHBhcmFtZXRlcicpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0VVJJLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUpIHtcclxuXHRcdHZhciBpLCBsZW5ndGgsIGtleTtcclxuXHJcblx0XHRpZiAoaXNBcnJheShuYW1lKSkge1xyXG5cdFx0XHRmb3IgKGkgPSAwLCBsZW5ndGggPSBuYW1lLmxlbmd0aDsgaSA8IGxlbmd0aDsgaSsrKSB7XHJcblx0XHRcdFx0ZGF0YVtuYW1lW2ldXSA9IHVuZGVmaW5lZDtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChnZXRUeXBlKG5hbWUpID09PSAnUmVnRXhwJykge1xyXG5cdFx0XHRmb3IgKGtleSBpbiBkYXRhKSB7XHJcblx0XHRcdFx0aWYgKG5hbWUudGVzdChrZXkpKSB7XHJcblx0XHRcdFx0XHRkYXRhW2tleV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnb2JqZWN0Jykge1xyXG5cdFx0XHRmb3IgKGtleSBpbiBuYW1lKSB7XHJcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcclxuXHRcdFx0XHRcdFVSSS5yZW1vdmVRdWVyeShkYXRhLCBrZXksIG5hbWVba2V5XSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2UgaWYgKHR5cGVvZiBuYW1lID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRpZiAodmFsdWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdGlmIChnZXRUeXBlKHZhbHVlKSA9PT0gJ1JlZ0V4cCcpIHtcclxuXHRcdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSAmJiB2YWx1ZS50ZXN0KGRhdGFbbmFtZV0pKSB7XHJcblx0XHRcdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoZGF0YVtuYW1lXSA9PT0gU3RyaW5nKHZhbHVlKSAmJiAoIWlzQXJyYXkodmFsdWUpIHx8IHZhbHVlLmxlbmd0aCA9PT0gMSkpIHtcclxuXHRcdFx0XHRcdGRhdGFbbmFtZV0gPSB1bmRlZmluZWQ7XHJcblx0XHRcdFx0fSBlbHNlIGlmIChpc0FycmF5KGRhdGFbbmFtZV0pKSB7XHJcblx0XHRcdFx0XHRkYXRhW25hbWVdID0gZmlsdGVyQXJyYXlWYWx1ZXMoZGF0YVtuYW1lXSwgdmFsdWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRkYXRhW25hbWVdID0gdW5kZWZpbmVkO1xyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkucmVtb3ZlUXVlcnkoKSBhY2NlcHRzIGFuIG9iamVjdCwgc3RyaW5nLCBSZWdFeHAgYXMgdGhlIGZpcnN0IHBhcmFtZXRlcicpO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0VVJJLmhhc1F1ZXJ5ID0gZnVuY3Rpb24oZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7XHJcblx0XHRpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XHJcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcclxuXHRcdFx0XHRcdGlmICghVVJJLmhhc1F1ZXJ5KGRhdGEsIGtleSwgbmFtZVtrZXldKSkge1xyXG5cdFx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5oYXNRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0c3dpdGNoIChnZXRUeXBlKHZhbHVlKSkge1xyXG5cdFx0XHRjYXNlICdVbmRlZmluZWQnOlxyXG5cdFx0XHRcdC8vIHRydWUgaWYgZXhpc3RzIChidXQgbWF5IGJlIGVtcHR5KVxyXG5cdFx0XHRcdHJldHVybiBuYW1lIGluIGRhdGE7IC8vIGRhdGFbbmFtZV0gIT09IHVuZGVmaW5lZDtcclxuXHJcblx0XHRcdGNhc2UgJ0Jvb2xlYW4nOlxyXG5cdFx0XHRcdC8vIHRydWUgaWYgZXhpc3RzIGFuZCBub24tZW1wdHlcclxuXHRcdFx0XHR2YXIgX2Jvb2x5ID0gQm9vbGVhbihpc0FycmF5KGRhdGFbbmFtZV0pID8gZGF0YVtuYW1lXS5sZW5ndGggOiBkYXRhW25hbWVdKTtcclxuXHRcdFx0XHRyZXR1cm4gdmFsdWUgPT09IF9ib29seTtcclxuXHJcblx0XHRcdGNhc2UgJ0Z1bmN0aW9uJzpcclxuXHRcdFx0XHQvLyBhbGxvdyBjb21wbGV4IGNvbXBhcmlzb25cclxuXHRcdFx0XHRyZXR1cm4gISF2YWx1ZShkYXRhW25hbWVdLCBuYW1lLCBkYXRhKTtcclxuXHJcblx0XHRcdGNhc2UgJ0FycmF5JzpcclxuXHRcdFx0XHRpZiAoIWlzQXJyYXkoZGF0YVtuYW1lXSkpIHtcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdHZhciBvcCA9IHdpdGhpbkFycmF5ID8gYXJyYXlDb250YWlucyA6IGFycmF5c0VxdWFsO1xyXG5cdFx0XHRcdHJldHVybiBvcChkYXRhW25hbWVdLCB2YWx1ZSk7XHJcblxyXG5cdFx0XHRjYXNlICdSZWdFeHAnOlxyXG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIEJvb2xlYW4oZGF0YVtuYW1lXSAmJiBkYXRhW25hbWVdLm1hdGNoKHZhbHVlKSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIXdpdGhpbkFycmF5KSB7XHJcblx0XHRcdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gYXJyYXlDb250YWlucyhkYXRhW25hbWVdLCB2YWx1ZSk7XHJcblxyXG5cdFx0XHRjYXNlICdOdW1iZXInOlxyXG5cdFx0XHRcdHZhbHVlID0gU3RyaW5nKHZhbHVlKTtcclxuXHRcdFx0LyogZmFsbHMgdGhyb3VnaCAqL1xyXG5cdFx0XHRjYXNlICdTdHJpbmcnOlxyXG5cdFx0XHRcdGlmICghaXNBcnJheShkYXRhW25hbWVdKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGRhdGFbbmFtZV0gPT09IHZhbHVlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKCF3aXRoaW5BcnJheSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0cmV0dXJuIGFycmF5Q29udGFpbnMoZGF0YVtuYW1lXSwgdmFsdWUpO1xyXG5cclxuXHRcdFx0ZGVmYXVsdDpcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdVUkkuaGFzUXVlcnkoKSBhY2NlcHRzIHVuZGVmaW5lZCwgYm9vbGVhbiwgc3RyaW5nLCBudW1iZXIsIFJlZ0V4cCwgRnVuY3Rpb24gYXMgdGhlIHZhbHVlIHBhcmFtZXRlcicpO1xyXG5cdFx0fVxyXG5cdH07XHJcblxyXG5cclxuXHRVUkkuY29tbW9uUGF0aCA9IGZ1bmN0aW9uKG9uZSwgdHdvKSB7XHJcblx0XHR2YXIgbGVuZ3RoID0gTWF0aC5taW4ob25lLmxlbmd0aCwgdHdvLmxlbmd0aCk7XHJcblx0XHR2YXIgcG9zO1xyXG5cclxuXHRcdC8vIGZpbmQgZmlyc3Qgbm9uLW1hdGNoaW5nIGNoYXJhY3RlclxyXG5cdFx0Zm9yIChwb3MgPSAwOyBwb3MgPCBsZW5ndGg7IHBvcysrKSB7XHJcblx0XHRcdGlmIChvbmUuY2hhckF0KHBvcykgIT09IHR3by5jaGFyQXQocG9zKSkge1xyXG5cdFx0XHRcdHBvcy0tO1xyXG5cdFx0XHRcdGJyZWFrO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHBvcyA8IDEpIHtcclxuXHRcdFx0cmV0dXJuIG9uZS5jaGFyQXQoMCkgPT09IHR3by5jaGFyQXQoMCkgJiYgb25lLmNoYXJBdCgwKSA9PT0gJy8nID8gJy8nIDogJyc7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmV2ZXJ0IHRvIGxhc3QgL1xyXG5cdFx0aWYgKG9uZS5jaGFyQXQocG9zKSAhPT0gJy8nIHx8IHR3by5jaGFyQXQocG9zKSAhPT0gJy8nKSB7XHJcblx0XHRcdHBvcyA9IG9uZS5zdWJzdHJpbmcoMCwgcG9zKS5sYXN0SW5kZXhPZignLycpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBvbmUuc3Vic3RyaW5nKDAsIHBvcyArIDEpO1xyXG5cdH07XHJcblxyXG5cdFVSSS53aXRoaW5TdHJpbmcgPSBmdW5jdGlvbihzdHJpbmcsIGNhbGxiYWNrLCBvcHRpb25zKSB7XHJcblx0XHRvcHRpb25zIHx8IChvcHRpb25zID0ge30pO1xyXG5cdFx0dmFyIF9zdGFydCA9IG9wdGlvbnMuc3RhcnQgfHwgVVJJLmZpbmRVcmkuc3RhcnQ7XHJcblx0XHR2YXIgX2VuZCA9IG9wdGlvbnMuZW5kIHx8IFVSSS5maW5kVXJpLmVuZDtcclxuXHRcdHZhciBfdHJpbSA9IG9wdGlvbnMudHJpbSB8fCBVUkkuZmluZFVyaS50cmltO1xyXG5cdFx0dmFyIF9hdHRyaWJ1dGVPcGVuID0gL1thLXowLTktXT1bXCInXT8kL2k7XHJcblxyXG5cdFx0X3N0YXJ0Lmxhc3RJbmRleCA9IDA7XHJcblx0XHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0XHR2YXIgbWF0Y2ggPSBfc3RhcnQuZXhlYyhzdHJpbmcpO1xyXG5cdFx0XHRpZiAoIW1hdGNoKSB7XHJcblx0XHRcdFx0YnJlYWs7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBzdGFydCA9IG1hdGNoLmluZGV4O1xyXG5cdFx0XHRpZiAob3B0aW9ucy5pZ25vcmVIdG1sKSB7XHJcblx0XHRcdFx0Ly8gYXR0cmlidXQoZT1bXCInXT8kKVxyXG5cdFx0XHRcdHZhciBhdHRyaWJ1dGVPcGVuID0gc3RyaW5nLnNsaWNlKE1hdGgubWF4KHN0YXJ0IC0gMywgMCksIHN0YXJ0KTtcclxuXHRcdFx0XHRpZiAoYXR0cmlidXRlT3BlbiAmJiBfYXR0cmlidXRlT3Blbi50ZXN0KGF0dHJpYnV0ZU9wZW4pKSB7XHJcblx0XHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciBlbmQgPSBzdGFydCArIHN0cmluZy5zbGljZShzdGFydCkuc2VhcmNoKF9lbmQpO1xyXG5cdFx0XHR2YXIgc2xpY2UgPSBzdHJpbmcuc2xpY2Uoc3RhcnQsIGVuZCkucmVwbGFjZShfdHJpbSwgJycpO1xyXG5cdFx0XHRpZiAob3B0aW9ucy5pZ25vcmUgJiYgb3B0aW9ucy5pZ25vcmUudGVzdChzbGljZSkpIHtcclxuXHRcdFx0XHRjb250aW51ZTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0ZW5kID0gc3RhcnQgKyBzbGljZS5sZW5ndGg7XHJcblx0XHRcdHZhciByZXN1bHQgPSBjYWxsYmFjayhzbGljZSwgc3RhcnQsIGVuZCwgc3RyaW5nKTtcclxuXHRcdFx0c3RyaW5nID0gc3RyaW5nLnNsaWNlKDAsIHN0YXJ0KSArIHJlc3VsdCArIHN0cmluZy5zbGljZShlbmQpO1xyXG5cdFx0XHRfc3RhcnQubGFzdEluZGV4ID0gc3RhcnQgKyByZXN1bHQubGVuZ3RoO1xyXG5cdFx0fVxyXG5cclxuXHRcdF9zdGFydC5sYXN0SW5kZXggPSAwO1xyXG5cdFx0cmV0dXJuIHN0cmluZztcclxuXHR9O1xyXG5cclxuXHRVUkkuZW5zdXJlVmFsaWRIb3N0bmFtZSA9IGZ1bmN0aW9uKHYpIHtcclxuXHRcdC8vIFRoZW9yZXRpY2FsbHkgVVJJcyBhbGxvdyBwZXJjZW50LWVuY29kaW5nIGluIEhvc3RuYW1lcyAoYWNjb3JkaW5nIHRvIFJGQyAzOTg2KVxyXG5cdFx0Ly8gdGhleSBhcmUgbm90IHBhcnQgb2YgRE5TIGFuZCB0aGVyZWZvcmUgaWdub3JlZCBieSBVUkkuanNcclxuXHJcblx0XHRpZiAodi5tYXRjaChVUkkuaW52YWxpZF9ob3N0bmFtZV9jaGFyYWN0ZXJzKSkge1xyXG5cdFx0XHQvLyB0ZXN0IHB1bnljb2RlXHJcblx0XHRcdGlmICghcHVueWNvZGUpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dIGFuZCBQdW55Y29kZS5qcyBpcyBub3QgYXZhaWxhYmxlJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChwdW55Y29kZS50b0FTQ0lJKHYpLm1hdGNoKFVSSS5pbnZhbGlkX2hvc3RuYW1lX2NoYXJhY3RlcnMpKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0fTtcclxuXHJcblx0Ly8gbm9Db25mbGljdFxyXG5cdFVSSS5ub0NvbmZsaWN0ID0gZnVuY3Rpb24ocmVtb3ZlQWxsKSB7XHJcblx0XHRpZiAocmVtb3ZlQWxsKSB7XHJcblx0XHRcdHZhciB1bmNvbmZsaWN0ZWQgPSB7XHJcblx0XHRcdFx0VVJJOiB0aGlzLm5vQ29uZmxpY3QoKVxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdFx0aWYgKHJvb3QuVVJJVGVtcGxhdGUgJiYgdHlwZW9mIHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHVuY29uZmxpY3RlZC5VUklUZW1wbGF0ZSA9IHJvb3QuVVJJVGVtcGxhdGUubm9Db25mbGljdCgpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAocm9vdC5JUHY2ICYmIHR5cGVvZiByb290LklQdjYubm9Db25mbGljdCA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHRcdHVuY29uZmxpY3RlZC5JUHY2ID0gcm9vdC5JUHY2Lm5vQ29uZmxpY3QoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zICYmIHR5cGVvZiByb290LlNlY29uZExldmVsRG9tYWlucy5ub0NvbmZsaWN0ID09PSAnZnVuY3Rpb24nKSB7XHJcblx0XHRcdFx0dW5jb25mbGljdGVkLlNlY29uZExldmVsRG9tYWlucyA9IHJvb3QuU2Vjb25kTGV2ZWxEb21haW5zLm5vQ29uZmxpY3QoKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHVuY29uZmxpY3RlZDtcclxuXHRcdH0gZWxzZSBpZiAocm9vdC5VUkkgPT09IHRoaXMpIHtcclxuXHRcdFx0cm9vdC5VUkkgPSBfVVJJO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdHAuYnVpbGQgPSBmdW5jdGlvbihkZWZlckJ1aWxkKSB7XHJcblx0XHRpZiAoZGVmZXJCdWlsZCA9PT0gdHJ1ZSkge1xyXG5cdFx0XHR0aGlzLl9kZWZlcnJlZF9idWlsZCA9IHRydWU7XHJcblx0XHR9IGVsc2UgaWYgKGRlZmVyQnVpbGQgPT09IHVuZGVmaW5lZCB8fCB0aGlzLl9kZWZlcnJlZF9idWlsZCkge1xyXG5cdFx0XHR0aGlzLl9zdHJpbmcgPSBVUkkuYnVpbGQodGhpcy5fcGFydHMpO1xyXG5cdFx0XHR0aGlzLl9kZWZlcnJlZF9idWlsZCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdHAuY2xvbmUgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBuZXcgVVJJKHRoaXMpO1xyXG5cdH07XHJcblxyXG5cdHAudmFsdWVPZiA9IHAudG9TdHJpbmcgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiB0aGlzLmJ1aWxkKGZhbHNlKS5fc3RyaW5nO1xyXG5cdH07XHJcblxyXG5cclxuXHRmdW5jdGlvbiBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKF9wYXJ0KXtcclxuXHRcdHJldHVybiBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzW19wYXJ0XSB8fCAnJztcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0c1tfcGFydF0gPSB2IHx8IG51bGw7XHJcblx0XHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0XHR9XHJcblx0XHR9O1xyXG5cdH1cclxuXHJcblx0ZnVuY3Rpb24gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcihfcGFydCwgX2tleSl7XHJcblx0XHRyZXR1cm4gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdHJldHVybiB0aGlzLl9wYXJ0c1tfcGFydF0gfHwgJyc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0aWYgKHYgIT09IG51bGwpIHtcclxuXHRcdFx0XHRcdHYgPSB2ICsgJyc7XHJcblx0XHRcdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09IF9rZXkpIHtcclxuXHRcdFx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0dGhpcy5fcGFydHNbX3BhcnRdID0gdjtcclxuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdH1cclxuXHRcdH07XHJcblx0fVxyXG5cclxuXHRwLnByb3RvY29sID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncHJvdG9jb2wnKTtcclxuXHRwLnVzZXJuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigndXNlcm5hbWUnKTtcclxuXHRwLnBhc3N3b3JkID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcigncGFzc3dvcmQnKTtcclxuXHRwLmhvc3RuYW1lID0gZ2VuZXJhdGVTaW1wbGVBY2Nlc3NvcignaG9zdG5hbWUnKTtcclxuXHRwLnBvcnQgPSBnZW5lcmF0ZVNpbXBsZUFjY2Vzc29yKCdwb3J0Jyk7XHJcblx0cC5xdWVyeSA9IGdlbmVyYXRlUHJlZml4QWNjZXNzb3IoJ3F1ZXJ5JywgJz8nKTtcclxuXHRwLmZyYWdtZW50ID0gZ2VuZXJhdGVQcmVmaXhBY2Nlc3NvcignZnJhZ21lbnQnLCAnIycpO1xyXG5cclxuXHRwLnNlYXJjaCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHR2YXIgdCA9IHRoaXMucXVlcnkodiwgYnVpbGQpO1xyXG5cdFx0cmV0dXJuIHR5cGVvZiB0ID09PSAnc3RyaW5nJyAmJiB0Lmxlbmd0aCA/ICgnPycgKyB0KSA6IHQ7XHJcblx0fTtcclxuXHRwLmhhc2ggPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0dmFyIHQgPSB0aGlzLmZyYWdtZW50KHYsIGJ1aWxkKTtcclxuXHRcdHJldHVybiB0eXBlb2YgdCA9PT0gJ3N0cmluZycgJiYgdC5sZW5ndGggPyAoJyMnICsgdCkgOiB0O1xyXG5cdH07XHJcblxyXG5cdHAucGF0aG5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XHJcblx0XHRcdHZhciByZXMgPSB0aGlzLl9wYXJ0cy5wYXRoIHx8ICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/ICcvJyA6ICcnKTtcclxuXHRcdFx0cmV0dXJuIHYgPyAodGhpcy5fcGFydHMudXJuID8gVVJJLmRlY29kZVVyblBhdGggOiBVUkkuZGVjb2RlUGF0aCkocmVzKSA6IHJlcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gdiA/IFVSSS5yZWNvZGVVcm5QYXRoKHYpIDogJyc7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHYgPyBVUkkucmVjb2RlUGF0aCh2KSA6ICcvJztcclxuXHRcdFx0fVxyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5wYXRoID0gcC5wYXRobmFtZTtcclxuXHRwLmhyZWYgPSBmdW5jdGlvbihocmVmLCBidWlsZCkge1xyXG5cdFx0dmFyIGtleTtcclxuXHJcblx0XHRpZiAoaHJlZiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnRvU3RyaW5nKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fc3RyaW5nID0gJyc7XHJcblx0XHR0aGlzLl9wYXJ0cyA9IFVSSS5fcGFydHMoKTtcclxuXHJcblx0XHR2YXIgX1VSSSA9IGhyZWYgaW5zdGFuY2VvZiBVUkk7XHJcblx0XHR2YXIgX29iamVjdCA9IHR5cGVvZiBocmVmID09PSAnb2JqZWN0JyAmJiAoaHJlZi5ob3N0bmFtZSB8fCBocmVmLnBhdGggfHwgaHJlZi5wYXRobmFtZSk7XHJcblx0XHRpZiAoaHJlZi5ub2RlTmFtZSkge1xyXG5cdFx0XHR2YXIgYXR0cmlidXRlID0gVVJJLmdldERvbUF0dHJpYnV0ZShocmVmKTtcclxuXHRcdFx0aHJlZiA9IGhyZWZbYXR0cmlidXRlXSB8fCAnJztcclxuXHRcdFx0X29iamVjdCA9IGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHdpbmRvdy5sb2NhdGlvbiBpcyByZXBvcnRlZCB0byBiZSBhbiBvYmplY3QsIGJ1dCBpdCdzIG5vdCB0aGUgc29ydFxyXG5cdFx0Ly8gb2Ygb2JqZWN0IHdlJ3JlIGxvb2tpbmcgZm9yOlxyXG5cdFx0Ly8gKiBsb2NhdGlvbi5wcm90b2NvbCBlbmRzIHdpdGggYSBjb2xvblxyXG5cdFx0Ly8gKiBsb2NhdGlvbi5xdWVyeSAhPSBvYmplY3Quc2VhcmNoXHJcblx0XHQvLyAqIGxvY2F0aW9uLmhhc2ggIT0gb2JqZWN0LmZyYWdtZW50XHJcblx0XHQvLyBzaW1wbHkgc2VyaWFsaXppbmcgdGhlIHVua25vd24gb2JqZWN0IHNob3VsZCBkbyB0aGUgdHJpY2tcclxuXHRcdC8vIChmb3IgbG9jYXRpb24sIG5vdCBmb3IgZXZlcnl0aGluZy4uLilcclxuXHRcdGlmICghX1VSSSAmJiBfb2JqZWN0ICYmIGhyZWYucGF0aG5hbWUgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRocmVmID0gaHJlZi50b1N0cmluZygpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgaHJlZiA9PT0gJ3N0cmluZycgfHwgaHJlZiBpbnN0YW5jZW9mIFN0cmluZykge1xyXG5cdFx0XHR0aGlzLl9wYXJ0cyA9IFVSSS5wYXJzZShTdHJpbmcoaHJlZiksIHRoaXMuX3BhcnRzKTtcclxuXHRcdH0gZWxzZSBpZiAoX1VSSSB8fCBfb2JqZWN0KSB7XHJcblx0XHRcdHZhciBzcmMgPSBfVVJJID8gaHJlZi5fcGFydHMgOiBocmVmO1xyXG5cdFx0XHRmb3IgKGtleSBpbiBzcmMpIHtcclxuXHRcdFx0XHRpZiAoaGFzT3duLmNhbGwodGhpcy5fcGFydHMsIGtleSkpIHtcclxuXHRcdFx0XHRcdHRoaXMuX3BhcnRzW2tleV0gPSBzcmNba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2ludmFsaWQgaW5wdXQnKTtcclxuXHRcdH1cclxuXHJcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvLyBpZGVudGlmaWNhdGlvbiBhY2Nlc3NvcnNcclxuXHRwLmlzID0gZnVuY3Rpb24od2hhdCkge1xyXG5cdFx0dmFyIGlwID0gZmFsc2U7XHJcblx0XHR2YXIgaXA0ID0gZmFsc2U7XHJcblx0XHR2YXIgaXA2ID0gZmFsc2U7XHJcblx0XHR2YXIgbmFtZSA9IGZhbHNlO1xyXG5cdFx0dmFyIHNsZCA9IGZhbHNlO1xyXG5cdFx0dmFyIGlkbiA9IGZhbHNlO1xyXG5cdFx0dmFyIHB1bnljb2RlID0gZmFsc2U7XHJcblx0XHR2YXIgcmVsYXRpdmUgPSAhdGhpcy5fcGFydHMudXJuO1xyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy5ob3N0bmFtZSkge1xyXG5cdFx0XHRyZWxhdGl2ZSA9IGZhbHNlO1xyXG5cdFx0XHRpcDQgPSBVUkkuaXA0X2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XHJcblx0XHRcdGlwNiA9IFVSSS5pcDZfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0aXAgPSBpcDQgfHwgaXA2O1xyXG5cdFx0XHRuYW1lID0gIWlwO1xyXG5cdFx0XHRzbGQgPSBuYW1lICYmIFNMRCAmJiBTTEQuaGFzKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0aWRuID0gbmFtZSAmJiBVUkkuaWRuX2V4cHJlc3Npb24udGVzdCh0aGlzLl9wYXJ0cy5ob3N0bmFtZSk7XHJcblx0XHRcdHB1bnljb2RlID0gbmFtZSAmJiBVUkkucHVueWNvZGVfZXhwcmVzc2lvbi50ZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdH1cclxuXHJcblx0XHRzd2l0Y2ggKHdoYXQudG9Mb3dlckNhc2UoKSkge1xyXG5cdFx0XHRjYXNlICdyZWxhdGl2ZSc6XHJcblx0XHRcdFx0cmV0dXJuIHJlbGF0aXZlO1xyXG5cclxuXHRcdFx0Y2FzZSAnYWJzb2x1dGUnOlxyXG5cdFx0XHRcdHJldHVybiAhcmVsYXRpdmU7XHJcblxyXG5cdFx0XHQvLyBob3N0bmFtZSBpZGVudGlmaWNhdGlvblxyXG5cdFx0XHRjYXNlICdkb21haW4nOlxyXG5cdFx0XHRjYXNlICduYW1lJzpcclxuXHRcdFx0XHRyZXR1cm4gbmFtZTtcclxuXHJcblx0XHRcdGNhc2UgJ3NsZCc6XHJcblx0XHRcdFx0cmV0dXJuIHNsZDtcclxuXHJcblx0XHRcdGNhc2UgJ2lwJzpcclxuXHRcdFx0XHRyZXR1cm4gaXA7XHJcblxyXG5cdFx0XHRjYXNlICdpcDQnOlxyXG5cdFx0XHRjYXNlICdpcHY0JzpcclxuXHRcdFx0Y2FzZSAnaW5ldDQnOlxyXG5cdFx0XHRcdHJldHVybiBpcDQ7XHJcblxyXG5cdFx0XHRjYXNlICdpcDYnOlxyXG5cdFx0XHRjYXNlICdpcHY2JzpcclxuXHRcdFx0Y2FzZSAnaW5ldDYnOlxyXG5cdFx0XHRcdHJldHVybiBpcDY7XHJcblxyXG5cdFx0XHRjYXNlICdpZG4nOlxyXG5cdFx0XHRcdHJldHVybiBpZG47XHJcblxyXG5cdFx0XHRjYXNlICd1cmwnOlxyXG5cdFx0XHRcdHJldHVybiAhdGhpcy5fcGFydHMudXJuO1xyXG5cclxuXHRcdFx0Y2FzZSAndXJuJzpcclxuXHRcdFx0XHRyZXR1cm4gISF0aGlzLl9wYXJ0cy51cm47XHJcblxyXG5cdFx0XHRjYXNlICdwdW55Y29kZSc6XHJcblx0XHRcdFx0cmV0dXJuIHB1bnljb2RlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiBudWxsO1xyXG5cdH07XHJcblxyXG5cdC8vIGNvbXBvbmVudCBzcGVjaWZpYyBpbnB1dCB2YWxpZGF0aW9uXHJcblx0dmFyIF9wcm90b2NvbCA9IHAucHJvdG9jb2w7XHJcblx0dmFyIF9wb3J0ID0gcC5wb3J0O1xyXG5cdHZhciBfaG9zdG5hbWUgPSBwLmhvc3RuYW1lO1xyXG5cclxuXHRwLnByb3RvY29sID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh2ICE9PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aWYgKHYpIHtcclxuXHRcdFx0XHQvLyBhY2NlcHQgdHJhaWxpbmcgOi8vXHJcblx0XHRcdFx0diA9IHYucmVwbGFjZSgvOihcXC9cXC8pPyQvLCAnJyk7XHJcblxyXG5cdFx0XHRcdGlmICghdi5tYXRjaChVUkkucHJvdG9jb2xfZXhwcmVzc2lvbikpIHtcclxuXHRcdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1Byb3RvY29sIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuKy1dIG9yIGRvZXNuXFwndCBzdGFydCB3aXRoIFtBLVpdJyk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gX3Byb3RvY29sLmNhbGwodGhpcywgdiwgYnVpbGQpO1xyXG5cdH07XHJcblx0cC5zY2hlbWUgPSBwLnByb3RvY29sO1xyXG5cdHAucG9ydCA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAodiA9PT0gMCkge1xyXG5cdFx0XHRcdHYgPSBudWxsO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodikge1xyXG5cdFx0XHRcdHYgKz0gJyc7XHJcblx0XHRcdFx0aWYgKHYuY2hhckF0KDApID09PSAnOicpIHtcclxuXHRcdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICh2Lm1hdGNoKC9bXjAtOV0vKSkge1xyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignUG9ydCBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbMC05XScpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdFx0cmV0dXJuIF9wb3J0LmNhbGwodGhpcywgdiwgYnVpbGQpO1xyXG5cdH07XHJcblx0cC5ob3N0bmFtZSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHR2YXIgeCA9IHt9O1xyXG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB4KTtcclxuXHRcdFx0aWYgKHJlcyAhPT0gJy8nKSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignSG9zdG5hbWUgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOS4tXScpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2ID0geC5ob3N0bmFtZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBfaG9zdG5hbWUuY2FsbCh0aGlzLCB2LCBidWlsZCk7XHJcblx0fTtcclxuXHJcblx0Ly8gY29tcG91bmQgYWNjZXNzb3JzXHJcblx0cC5vcmlnaW4gPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0dmFyIHBhcnRzO1xyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHZhciBwcm90b2NvbCA9IHRoaXMucHJvdG9jb2woKTtcclxuXHRcdFx0dmFyIGF1dGhvcml0eSA9IHRoaXMuYXV0aG9yaXR5KCk7XHJcblx0XHRcdGlmICghYXV0aG9yaXR5KSByZXR1cm4gJyc7XHJcblx0XHRcdHJldHVybiAocHJvdG9jb2wgPyBwcm90b2NvbCArICc6Ly8nIDogJycpICsgdGhpcy5hdXRob3JpdHkoKTtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBvcmlnaW4gPSBVUkkodik7XHJcblx0XHRcdHRoaXNcclxuXHRcdFx0XHQucHJvdG9jb2wob3JpZ2luLnByb3RvY29sKCkpXHJcblx0XHRcdFx0LmF1dGhvcml0eShvcmlnaW4uYXV0aG9yaXR5KCkpXHJcblx0XHRcdFx0LmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5ob3N0ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEhvc3QodGhpcy5fcGFydHMpIDogJyc7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHR2YXIgcmVzID0gVVJJLnBhcnNlSG9zdCh2LCB0aGlzLl9wYXJ0cyk7XHJcblx0XHRcdGlmIChyZXMgIT09ICcvJykge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ0hvc3RuYW1lIFwiJyArIHYgKyAnXCIgY29udGFpbnMgY2hhcmFjdGVycyBvdGhlciB0aGFuIFtBLVowLTkuLV0nKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuYXV0aG9yaXR5ID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZSA/IFVSSS5idWlsZEF1dGhvcml0eSh0aGlzLl9wYXJ0cykgOiAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciByZXMgPSBVUkkucGFyc2VBdXRob3JpdHkodiwgdGhpcy5fcGFydHMpO1xyXG5cdFx0XHRpZiAocmVzICE9PSAnLycpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdIb3N0bmFtZSBcIicgKyB2ICsgJ1wiIGNvbnRhaW5zIGNoYXJhY3RlcnMgb3RoZXIgdGhhbiBbQS1aMC05Li1dJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnVzZXJpbmZvID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHYgPT09IHVuZGVmaW5lZCA/ICcnIDogdGhpcztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMudXNlcm5hbWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHZhciB0ID0gVVJJLmJ1aWxkVXNlcmluZm8odGhpcy5fcGFydHMpO1xyXG5cdFx0XHRyZXR1cm4gdC5zdWJzdHJpbmcoMCwgdC5sZW5ndGggLTEpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aWYgKHZbdi5sZW5ndGgtMV0gIT09ICdAJykge1xyXG5cdFx0XHRcdHYgKz0gJ0AnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRVUkkucGFyc2VVc2VyaW5mbyh2LCB0aGlzLl9wYXJ0cyk7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnJlc291cmNlID0gZnVuY3Rpb24odiwgYnVpbGQpIHtcclxuXHRcdHZhciBwYXJ0cztcclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdHJldHVybiB0aGlzLnBhdGgoKSArIHRoaXMuc2VhcmNoKCkgKyB0aGlzLmhhc2goKTtcclxuXHRcdH1cclxuXHJcblx0XHRwYXJ0cyA9IFVSSS5wYXJzZSh2KTtcclxuXHRcdHRoaXMuX3BhcnRzLnBhdGggPSBwYXJ0cy5wYXRoO1xyXG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBwYXJ0cy5xdWVyeTtcclxuXHRcdHRoaXMuX3BhcnRzLmZyYWdtZW50ID0gcGFydHMuZnJhZ21lbnQ7XHJcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHQvLyBmcmFjdGlvbiBhY2Nlc3NvcnNcclxuXHRwLnN1YmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gY29udmVuaWVuY2UsIHJldHVybiBcInd3d1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGdyYWIgZG9tYWluIGFuZCBhZGQgYW5vdGhlciBzZWdtZW50XHJcblx0XHRcdHZhciBlbmQgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5sZW5ndGggLSB0aGlzLmRvbWFpbigpLmxlbmd0aCAtIDE7XHJcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZW5kKSB8fCAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBlID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy5kb21haW4oKS5sZW5ndGg7XHJcblx0XHRcdHZhciBzdWIgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoMCwgZSk7XHJcblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChzdWIpKTtcclxuXHJcblx0XHRcdGlmICh2ICYmIHYuY2hhckF0KHYubGVuZ3RoIC0gMSkgIT09ICcuJykge1xyXG5cdFx0XHRcdHYgKz0gJy4nO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRpZiAodikge1xyXG5cdFx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLmRvbWFpbiA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHR5cGVvZiB2ID09PSAnYm9vbGVhbicpIHtcclxuXHRcdFx0YnVpbGQgPSB2O1xyXG5cdFx0XHR2ID0gdW5kZWZpbmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIGNvbnZlbmllbmNlLCByZXR1cm4gXCJleGFtcGxlLm9yZ1wiIGZyb20gXCJ3d3cuZXhhbXBsZS5vcmdcIlxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIGlmIGhvc3RuYW1lIGNvbnNpc3RzIG9mIDEgb3IgMiBzZWdtZW50cywgaXQgbXVzdCBiZSB0aGUgZG9tYWluXHJcblx0XHRcdHZhciB0ID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubWF0Y2goL1xcLi9nKTtcclxuXHRcdFx0aWYgKHQgJiYgdC5sZW5ndGggPCAyKSB7XHJcblx0XHRcdFx0cmV0dXJuIHRoaXMuX3BhcnRzLmhvc3RuYW1lO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHQvLyBncmFiIHRsZCBhbmQgYWRkIGFub3RoZXIgc2VnbWVudFxyXG5cdFx0XHR2YXIgZW5kID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGVuZ3RoIC0gdGhpcy50bGQoYnVpbGQpLmxlbmd0aCAtIDE7XHJcblx0XHRcdGVuZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLmxhc3RJbmRleE9mKCcuJywgZW5kIC0xKSArIDE7XHJcblx0XHRcdHJldHVybiB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5zdWJzdHJpbmcoZW5kKSB8fCAnJztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICghdikge1xyXG5cdFx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ2Nhbm5vdCBzZXQgZG9tYWluIGVtcHR5Jyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdFVSSS5lbnN1cmVWYWxpZEhvc3RuYW1lKHYpO1xyXG5cclxuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB2O1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cChlc2NhcGVSZWdFeCh0aGlzLmRvbWFpbigpKSArICckJyk7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC50bGQgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0eXBlb2YgdiA9PT0gJ2Jvb2xlYW4nKSB7XHJcblx0XHRcdGJ1aWxkID0gdjtcclxuXHRcdFx0diA9IHVuZGVmaW5lZDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXR1cm4gXCJvcmdcIiBmcm9tIFwid3d3LmV4YW1wbGUub3JnXCJcclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQpIHtcclxuXHRcdFx0aWYgKCF0aGlzLl9wYXJ0cy5ob3N0bmFtZSB8fCB0aGlzLmlzKCdJUCcpKSB7XHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcG9zID0gdGhpcy5fcGFydHMuaG9zdG5hbWUubGFzdEluZGV4T2YoJy4nKTtcclxuXHRcdFx0dmFyIHRsZCA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnN1YnN0cmluZyhwb3MgKyAxKTtcclxuXHJcblx0XHRcdGlmIChidWlsZCAhPT0gdHJ1ZSAmJiBTTEQgJiYgU0xELmxpc3RbdGxkLnRvTG93ZXJDYXNlKCldKSB7XHJcblx0XHRcdFx0cmV0dXJuIFNMRC5nZXQodGhpcy5fcGFydHMuaG9zdG5hbWUpIHx8IHRsZDtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHRsZDtcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciByZXBsYWNlO1xyXG5cclxuXHRcdFx0aWYgKCF2KSB7XHJcblx0XHRcdFx0dGhyb3cgbmV3IFR5cGVFcnJvcignY2Fubm90IHNldCBUTEQgZW1wdHknKTtcclxuXHRcdFx0fSBlbHNlIGlmICh2Lm1hdGNoKC9bXmEtekEtWjAtOS1dLykpIHtcclxuXHRcdFx0XHRpZiAoU0xEICYmIFNMRC5pcyh2KSkge1xyXG5cdFx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy50bGQoKSkgKyAnJCcpO1xyXG5cdFx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS5yZXBsYWNlKHJlcGxhY2UsIHYpO1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgVHlwZUVycm9yKCdUTEQgXCInICsgdiArICdcIiBjb250YWlucyBjaGFyYWN0ZXJzIG90aGVyIHRoYW4gW0EtWjAtOV0nKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoIXRoaXMuX3BhcnRzLmhvc3RuYW1lIHx8IHRoaXMuaXMoJ0lQJykpIHtcclxuXHRcdFx0XHR0aHJvdyBuZXcgUmVmZXJlbmNlRXJyb3IoJ2Nhbm5vdCBzZXQgVExEIG9uIG5vbi1kb21haW4gaG9zdCcpO1xyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdHJlcGxhY2UgPSBuZXcgUmVnRXhwKGVzY2FwZVJlZ0V4KHRoaXMudGxkKCkpICsgJyQnKTtcclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5ob3N0bmFtZSA9IHRoaXMuX3BhcnRzLmhvc3RuYW1lLnJlcGxhY2UocmVwbGFjZSwgdik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLmRpcmVjdG9yeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHJldHVybiB2ID09PSB1bmRlZmluZWQgPyAnJyA6IHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCB8fCB2ID09PSB0cnVlKSB7XHJcblx0XHRcdGlmICghdGhpcy5fcGFydHMucGF0aCAmJiAhdGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcclxuXHRcdFx0XHRyZXR1cm4gJy8nO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZW5kID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoIC0gMTtcclxuXHRcdFx0dmFyIHJlcyA9IHRoaXMuX3BhcnRzLnBhdGguc3Vic3RyaW5nKDAsIGVuZCkgfHwgKHRoaXMuX3BhcnRzLmhvc3RuYW1lID8gJy8nIDogJycpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aChyZXMpIDogcmVzO1xyXG5cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBlID0gdGhpcy5fcGFydHMucGF0aC5sZW5ndGggLSB0aGlzLmZpbGVuYW1lKCkubGVuZ3RoO1xyXG5cdFx0XHR2YXIgZGlyZWN0b3J5ID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcoMCwgZSk7XHJcblx0XHRcdHZhciByZXBsYWNlID0gbmV3IFJlZ0V4cCgnXicgKyBlc2NhcGVSZWdFeChkaXJlY3RvcnkpKTtcclxuXHJcblx0XHRcdC8vIGZ1bGx5IHF1YWxpZmllciBkaXJlY3RvcmllcyBiZWdpbiB3aXRoIGEgc2xhc2hcclxuXHRcdFx0aWYgKCF0aGlzLmlzKCdyZWxhdGl2ZScpKSB7XHJcblx0XHRcdFx0aWYgKCF2KSB7XHJcblx0XHRcdFx0XHR2ID0gJy8nO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0aWYgKHYuY2hhckF0KDApICE9PSAnLycpIHtcclxuXHRcdFx0XHRcdHYgPSAnLycgKyB2O1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8gZGlyZWN0b3JpZXMgYWx3YXlzIGVuZCB3aXRoIGEgc2xhc2hcclxuXHRcdFx0aWYgKHYgJiYgdi5jaGFyQXQodi5sZW5ndGggLSAxKSAhPT0gJy8nKSB7XHJcblx0XHRcdFx0diArPSAnLyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcclxuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuZmlsZW5hbWUgPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcG9zID0gdGhpcy5fcGFydHMucGF0aC5sYXN0SW5kZXhPZignLycpO1xyXG5cdFx0XHR2YXIgcmVzID0gdGhpcy5fcGFydHMucGF0aC5zdWJzdHJpbmcocG9zKzEpO1xyXG5cclxuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBtdXRhdGVkRGlyZWN0b3J5ID0gZmFsc2U7XHJcblxyXG5cdFx0XHRpZiAodi5jaGFyQXQoMCkgPT09ICcvJykge1xyXG5cdFx0XHRcdHYgPSB2LnN1YnN0cmluZygxKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKHYubWF0Y2goL1xcLj9cXC8vKSkge1xyXG5cdFx0XHRcdG11dGF0ZWREaXJlY3RvcnkgPSB0cnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgcmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgodGhpcy5maWxlbmFtZSgpKSArICckJyk7XHJcblx0XHRcdHYgPSBVUkkucmVjb2RlUGF0aCh2KTtcclxuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IHRoaXMuX3BhcnRzLnBhdGgucmVwbGFjZShyZXBsYWNlLCB2KTtcclxuXHJcblx0XHRcdGlmIChtdXRhdGVkRGlyZWN0b3J5KSB7XHJcblx0XHRcdFx0dGhpcy5ub3JtYWxpemVQYXRoKGJ1aWxkKTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cdH07XHJcblx0cC5zdWZmaXggPSBmdW5jdGlvbih2LCBidWlsZCkge1xyXG5cdFx0aWYgKHRoaXMuX3BhcnRzLnVybikge1xyXG5cdFx0XHRyZXR1cm4gdiA9PT0gdW5kZWZpbmVkID8gJycgOiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh2ID09PSB1bmRlZmluZWQgfHwgdiA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnBhdGggfHwgdGhpcy5fcGFydHMucGF0aCA9PT0gJy8nKSB7XHJcblx0XHRcdFx0cmV0dXJuICcnO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgZmlsZW5hbWUgPSB0aGlzLmZpbGVuYW1lKCk7XHJcblx0XHRcdHZhciBwb3MgPSBmaWxlbmFtZS5sYXN0SW5kZXhPZignLicpO1xyXG5cdFx0XHR2YXIgcywgcmVzO1xyXG5cclxuXHRcdFx0aWYgKHBvcyA9PT0gLTEpIHtcclxuXHRcdFx0XHRyZXR1cm4gJyc7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIHN1ZmZpeCBtYXkgb25seSBjb250YWluIGFsbnVtIGNoYXJhY3RlcnMgKHl1cCwgSSBtYWRlIHRoaXMgdXAuKVxyXG5cdFx0XHRzID0gZmlsZW5hbWUuc3Vic3RyaW5nKHBvcysxKTtcclxuXHRcdFx0cmVzID0gKC9eW2EtejAtOSVdKyQvaSkudGVzdChzKSA/IHMgOiAnJztcclxuXHRcdFx0cmV0dXJuIHYgPyBVUkkuZGVjb2RlUGF0aFNlZ21lbnQocmVzKSA6IHJlcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh2LmNoYXJBdCgwKSA9PT0gJy4nKSB7XHJcblx0XHRcdFx0diA9IHYuc3Vic3RyaW5nKDEpO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR2YXIgc3VmZml4ID0gdGhpcy5zdWZmaXgoKTtcclxuXHRcdFx0dmFyIHJlcGxhY2U7XHJcblxyXG5cdFx0XHRpZiAoIXN1ZmZpeCkge1xyXG5cdFx0XHRcdGlmICghdikge1xyXG5cdFx0XHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHR0aGlzLl9wYXJ0cy5wYXRoICs9ICcuJyArIFVSSS5yZWNvZGVQYXRoKHYpO1xyXG5cdFx0XHR9IGVsc2UgaWYgKCF2KSB7XHJcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoJy4nICsgc3VmZml4KSArICckJyk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0cmVwbGFjZSA9IG5ldyBSZWdFeHAoZXNjYXBlUmVnRXgoc3VmZml4KSArICckJyk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGlmIChyZXBsYWNlKSB7XHJcblx0XHRcdFx0diA9IFVSSS5yZWNvZGVQYXRoKHYpO1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnBhdGggPSB0aGlzLl9wYXJ0cy5wYXRoLnJlcGxhY2UocmVwbGFjZSwgdik7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblx0fTtcclxuXHRwLnNlZ21lbnQgPSBmdW5jdGlvbihzZWdtZW50LCB2LCBidWlsZCkge1xyXG5cdFx0dmFyIHNlcGFyYXRvciA9IHRoaXMuX3BhcnRzLnVybiA/ICc6JyA6ICcvJztcclxuXHRcdHZhciBwYXRoID0gdGhpcy5wYXRoKCk7XHJcblx0XHR2YXIgYWJzb2x1dGUgPSBwYXRoLnN1YnN0cmluZygwLCAxKSA9PT0gJy8nO1xyXG5cdFx0dmFyIHNlZ21lbnRzID0gcGF0aC5zcGxpdChzZXBhcmF0b3IpO1xyXG5cclxuXHRcdGlmIChzZWdtZW50ICE9PSB1bmRlZmluZWQgJiYgdHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XHJcblx0XHRcdGJ1aWxkID0gdjtcclxuXHRcdFx0diA9IHNlZ21lbnQ7XHJcblx0XHRcdHNlZ21lbnQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHNlZ21lbnQgIT09IHVuZGVmaW5lZCAmJiB0eXBlb2Ygc2VnbWVudCAhPT0gJ251bWJlcicpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdCYWQgc2VnbWVudCBcIicgKyBzZWdtZW50ICsgJ1wiLCBtdXN0IGJlIDAtYmFzZWQgaW50ZWdlcicpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChhYnNvbHV0ZSkge1xyXG5cdFx0XHRzZWdtZW50cy5zaGlmdCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChzZWdtZW50IDwgMCkge1xyXG5cdFx0XHQvLyBhbGxvdyBuZWdhdGl2ZSBpbmRleGVzIHRvIGFkZHJlc3MgZnJvbSB0aGUgZW5kXHJcblx0XHRcdHNlZ21lbnQgPSBNYXRoLm1heChzZWdtZW50cy5sZW5ndGggKyBzZWdtZW50LCAwKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodiA9PT0gdW5kZWZpbmVkKSB7XHJcblx0XHRcdC8qanNoaW50IGxheGJyZWFrOiB0cnVlICovXHJcblx0XHRcdHJldHVybiBzZWdtZW50ID09PSB1bmRlZmluZWRcclxuXHRcdFx0XHQ/IHNlZ21lbnRzXHJcblx0XHRcdFx0OiBzZWdtZW50c1tzZWdtZW50XTtcclxuXHRcdFx0Lypqc2hpbnQgbGF4YnJlYWs6IGZhbHNlICovXHJcblx0XHR9IGVsc2UgaWYgKHNlZ21lbnQgPT09IG51bGwgfHwgc2VnbWVudHNbc2VnbWVudF0gPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRpZiAoaXNBcnJheSh2KSkge1xyXG5cdFx0XHRcdHNlZ21lbnRzID0gW107XHJcblx0XHRcdFx0Ly8gY29sbGFwc2UgZW1wdHkgZWxlbWVudHMgd2l0aGluIGFycmF5XHJcblx0XHRcdFx0Zm9yICh2YXIgaT0wLCBsPXYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdFx0XHRpZiAoIXZbaV0ubGVuZ3RoICYmICghc2VnbWVudHMubGVuZ3RoIHx8ICFzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdLmxlbmd0aCkpIHtcclxuXHRcdFx0XHRcdFx0Y29udGludWU7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aWYgKHNlZ21lbnRzLmxlbmd0aCAmJiAhc2VnbWVudHNbc2VnbWVudHMubGVuZ3RoIC0xXS5sZW5ndGgpIHtcclxuXHRcdFx0XHRcdFx0c2VnbWVudHMucG9wKCk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0c2VnbWVudHMucHVzaCh0cmltU2xhc2hlcyh2W2ldKSk7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2UgaWYgKHYgfHwgdHlwZW9mIHYgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdFx0diA9IHRyaW1TbGFzaGVzKHYpO1xyXG5cdFx0XHRcdGlmIChzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID09PSAnJykge1xyXG5cdFx0XHRcdFx0Ly8gZW1wdHkgdHJhaWxpbmcgZWxlbWVudHMgaGF2ZSB0byBiZSBvdmVyd3JpdHRlblxyXG5cdFx0XHRcdFx0Ly8gdG8gcHJldmVudCByZXN1bHRzIHN1Y2ggYXMgL2Zvby8vYmFyXHJcblx0XHRcdFx0XHRzZWdtZW50c1tzZWdtZW50cy5sZW5ndGggLTFdID0gdjtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0c2VnbWVudHMucHVzaCh2KTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmICh2KSB7XHJcblx0XHRcdFx0c2VnbWVudHNbc2VnbWVudF0gPSB0cmltU2xhc2hlcyh2KTtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRzZWdtZW50cy5zcGxpY2Uoc2VnbWVudCwgMSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAoYWJzb2x1dGUpIHtcclxuXHRcdFx0c2VnbWVudHMudW5zaGlmdCgnJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXMucGF0aChzZWdtZW50cy5qb2luKHNlcGFyYXRvciksIGJ1aWxkKTtcclxuXHR9O1xyXG5cdHAuc2VnbWVudENvZGVkID0gZnVuY3Rpb24oc2VnbWVudCwgdiwgYnVpbGQpIHtcclxuXHRcdHZhciBzZWdtZW50cywgaSwgbDtcclxuXHJcblx0XHRpZiAodHlwZW9mIHNlZ21lbnQgIT09ICdudW1iZXInKSB7XHJcblx0XHRcdGJ1aWxkID0gdjtcclxuXHRcdFx0diA9IHNlZ21lbnQ7XHJcblx0XHRcdHNlZ21lbnQgPSB1bmRlZmluZWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHYgPT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRzZWdtZW50cyA9IHRoaXMuc2VnbWVudChzZWdtZW50LCB2LCBidWlsZCk7XHJcblx0XHRcdGlmICghaXNBcnJheShzZWdtZW50cykpIHtcclxuXHRcdFx0XHRzZWdtZW50cyA9IHNlZ21lbnRzICE9PSB1bmRlZmluZWQgPyBVUkkuZGVjb2RlKHNlZ21lbnRzKSA6IHVuZGVmaW5lZDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRmb3IgKGkgPSAwLCBsID0gc2VnbWVudHMubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdFx0XHRzZWdtZW50c1tpXSA9IFVSSS5kZWNvZGUoc2VnbWVudHNbaV0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0cmV0dXJuIHNlZ21lbnRzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghaXNBcnJheSh2KSkge1xyXG5cdFx0XHR2ID0gKHR5cGVvZiB2ID09PSAnc3RyaW5nJyB8fCB2IGluc3RhbmNlb2YgU3RyaW5nKSA/IFVSSS5lbmNvZGUodikgOiB2O1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0Zm9yIChpID0gMCwgbCA9IHYubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdFx0dltpXSA9IFVSSS5lbmNvZGUodltpXSk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcy5zZWdtZW50KHNlZ21lbnQsIHYsIGJ1aWxkKTtcclxuXHR9O1xyXG5cclxuXHQvLyBtdXRhdGluZyBxdWVyeSBzdHJpbmdcclxuXHR2YXIgcSA9IHAucXVlcnk7XHJcblx0cC5xdWVyeSA9IGZ1bmN0aW9uKHYsIGJ1aWxkKSB7XHJcblx0XHRpZiAodiA9PT0gdHJ1ZSkge1xyXG5cdFx0XHRyZXR1cm4gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0fSBlbHNlIGlmICh0eXBlb2YgdiA9PT0gJ2Z1bmN0aW9uJykge1xyXG5cdFx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0dmFyIHJlc3VsdCA9IHYuY2FsbCh0aGlzLCBkYXRhKTtcclxuXHRcdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShyZXN1bHQgfHwgZGF0YSwgdGhpcy5fcGFydHMuZHVwbGljYXRlUXVlcnlQYXJhbWV0ZXJzLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0XHRyZXR1cm4gdGhpcztcclxuXHRcdH0gZWxzZSBpZiAodiAhPT0gdW5kZWZpbmVkICYmIHR5cGVvZiB2ICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KHYsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gcS5jYWxsKHRoaXMsIHYsIGJ1aWxkKTtcclxuXHRcdH1cclxuXHR9O1xyXG5cdHAuc2V0UXVlcnkgPSBmdW5jdGlvbihuYW1lLCB2YWx1ZSwgYnVpbGQpIHtcclxuXHRcdHZhciBkYXRhID0gVVJJLnBhcnNlUXVlcnkodGhpcy5fcGFydHMucXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cclxuXHRcdGlmICh0eXBlb2YgbmFtZSA9PT0gJ3N0cmluZycgfHwgbmFtZSBpbnN0YW5jZW9mIFN0cmluZykge1xyXG5cdFx0XHRkYXRhW25hbWVdID0gdmFsdWUgIT09IHVuZGVmaW5lZCA/IHZhbHVlIDogbnVsbDtcclxuXHRcdH0gZWxzZSBpZiAodHlwZW9mIG5hbWUgPT09ICdvYmplY3QnKSB7XHJcblx0XHRcdGZvciAodmFyIGtleSBpbiBuYW1lKSB7XHJcblx0XHRcdFx0aWYgKGhhc093bi5jYWxsKG5hbWUsIGtleSkpIHtcclxuXHRcdFx0XHRcdGRhdGFba2V5XSA9IG5hbWVba2V5XTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHRocm93IG5ldyBUeXBlRXJyb3IoJ1VSSS5hZGRRdWVyeSgpIGFjY2VwdHMgYW4gb2JqZWN0LCBzdHJpbmcgYXMgdGhlIG5hbWUgcGFyYW1ldGVyJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5fcGFydHMucXVlcnkgPSBVUkkuYnVpbGRRdWVyeShkYXRhLCB0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMsIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0aWYgKHR5cGVvZiBuYW1lICE9PSAnc3RyaW5nJykge1xyXG5cdFx0XHRidWlsZCA9IHZhbHVlO1xyXG5cdFx0fVxyXG5cclxuXHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5hZGRRdWVyeSA9IGZ1bmN0aW9uKG5hbWUsIHZhbHVlLCBidWlsZCkge1xyXG5cdFx0dmFyIGRhdGEgPSBVUkkucGFyc2VRdWVyeSh0aGlzLl9wYXJ0cy5xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRVUkkuYWRkUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUgPT09IHVuZGVmaW5lZCA/IG51bGwgOiB2YWx1ZSk7XHJcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGJ1aWxkID0gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLnJlbW92ZVF1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIGJ1aWxkKSB7XHJcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdFVSSS5yZW1vdmVRdWVyeShkYXRhLCBuYW1lLCB2YWx1ZSk7XHJcblx0XHR0aGlzLl9wYXJ0cy5xdWVyeSA9IFVSSS5idWlsZFF1ZXJ5KGRhdGEsIHRoaXMuX3BhcnRzLmR1cGxpY2F0ZVF1ZXJ5UGFyYW1ldGVycywgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblx0XHRpZiAodHlwZW9mIG5hbWUgIT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdGJ1aWxkID0gdmFsdWU7XHJcblx0XHR9XHJcblxyXG5cdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLmhhc1F1ZXJ5ID0gZnVuY3Rpb24obmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KSB7XHJcblx0XHR2YXIgZGF0YSA9IFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKTtcclxuXHRcdHJldHVybiBVUkkuaGFzUXVlcnkoZGF0YSwgbmFtZSwgdmFsdWUsIHdpdGhpbkFycmF5KTtcclxuXHR9O1xyXG5cdHAuc2V0U2VhcmNoID0gcC5zZXRRdWVyeTtcclxuXHRwLmFkZFNlYXJjaCA9IHAuYWRkUXVlcnk7XHJcblx0cC5yZW1vdmVTZWFyY2ggPSBwLnJlbW92ZVF1ZXJ5O1xyXG5cdHAuaGFzU2VhcmNoID0gcC5oYXNRdWVyeTtcclxuXHJcblx0Ly8gc2FuaXRpemluZyBVUkxzXHJcblx0cC5ub3JtYWxpemUgPSBmdW5jdGlvbigpIHtcclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0cmV0dXJuIHRoaXNcclxuXHRcdFx0XHQubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpXHJcblx0XHRcdFx0Lm5vcm1hbGl6ZVBhdGgoZmFsc2UpXHJcblx0XHRcdFx0Lm5vcm1hbGl6ZVF1ZXJ5KGZhbHNlKVxyXG5cdFx0XHRcdC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSlcclxuXHRcdFx0XHQuYnVpbGQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpc1xyXG5cdFx0XHQubm9ybWFsaXplUHJvdG9jb2woZmFsc2UpXHJcblx0XHRcdC5ub3JtYWxpemVIb3N0bmFtZShmYWxzZSlcclxuXHRcdFx0Lm5vcm1hbGl6ZVBvcnQoZmFsc2UpXHJcblx0XHRcdC5ub3JtYWxpemVQYXRoKGZhbHNlKVxyXG5cdFx0XHQubm9ybWFsaXplUXVlcnkoZmFsc2UpXHJcblx0XHRcdC5ub3JtYWxpemVGcmFnbWVudChmYWxzZSlcclxuXHRcdFx0LmJ1aWxkKCk7XHJcblx0fTtcclxuXHRwLm5vcm1hbGl6ZVByb3RvY29sID0gZnVuY3Rpb24oYnVpbGQpIHtcclxuXHRcdGlmICh0eXBlb2YgdGhpcy5fcGFydHMucHJvdG9jb2wgPT09ICdzdHJpbmcnKSB7XHJcblx0XHRcdHRoaXMuX3BhcnRzLnByb3RvY29sID0gdGhpcy5fcGFydHMucHJvdG9jb2wudG9Mb3dlckNhc2UoKTtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5ub3JtYWxpemVIb3N0bmFtZSA9IGZ1bmN0aW9uKGJ1aWxkKSB7XHJcblx0XHRpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcclxuXHRcdFx0aWYgKHRoaXMuaXMoJ0lETicpICYmIHB1bnljb2RlKSB7XHJcblx0XHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSBwdW55Y29kZS50b0FTQ0lJKHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0fSBlbHNlIGlmICh0aGlzLmlzKCdJUHY2JykgJiYgSVB2Nikge1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLmhvc3RuYW1lID0gSVB2Ni5iZXN0KHRoaXMuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dGhpcy5fcGFydHMuaG9zdG5hbWUgPSB0aGlzLl9wYXJ0cy5ob3N0bmFtZS50b0xvd2VyQ2FzZSgpO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHRwLm5vcm1hbGl6ZVBvcnQgPSBmdW5jdGlvbihidWlsZCkge1xyXG5cdFx0Ly8gcmVtb3ZlIHBvcnQgb2YgaXQncyB0aGUgcHJvdG9jb2wncyBkZWZhdWx0XHJcblx0XHRpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnByb3RvY29sID09PSAnc3RyaW5nJyAmJiB0aGlzLl9wYXJ0cy5wb3J0ID09PSBVUkkuZGVmYXVsdFBvcnRzW3RoaXMuX3BhcnRzLnByb3RvY29sXSkge1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5wb3J0ID0gbnVsbDtcclxuXHRcdFx0dGhpcy5idWlsZCghYnVpbGQpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblx0cC5ub3JtYWxpemVQYXRoID0gZnVuY3Rpb24oYnVpbGQpIHtcclxuXHRcdHZhciBfcGF0aCA9IHRoaXMuX3BhcnRzLnBhdGg7XHJcblx0XHRpZiAoIV9wYXRoKSB7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy51cm4pIHtcclxuXHRcdFx0dGhpcy5fcGFydHMucGF0aCA9IFVSSS5yZWNvZGVVcm5QYXRoKHRoaXMuX3BhcnRzLnBhdGgpO1xyXG5cdFx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRcdHJldHVybiB0aGlzO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh0aGlzLl9wYXJ0cy5wYXRoID09PSAnLycpIHtcclxuXHRcdFx0cmV0dXJuIHRoaXM7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIF93YXNfcmVsYXRpdmU7XHJcblx0XHR2YXIgX2xlYWRpbmdQYXJlbnRzID0gJyc7XHJcblx0XHR2YXIgX3BhcmVudCwgX3BvcztcclxuXHJcblx0XHQvLyBoYW5kbGUgcmVsYXRpdmUgcGF0aHNcclxuXHRcdGlmIChfcGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHRfd2FzX3JlbGF0aXZlID0gdHJ1ZTtcclxuXHRcdFx0X3BhdGggPSAnLycgKyBfcGF0aDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBoYW5kbGUgcmVsYXRpdmUgZmlsZXMgKGFzIG9wcG9zZWQgdG8gZGlyZWN0b3JpZXMpXHJcblx0XHRpZiAoX3BhdGguc2xpY2UoLTMpID09PSAnLy4uJyB8fCBfcGF0aC5zbGljZSgtMikgPT09ICcvLicpIHtcclxuXHRcdFx0X3BhdGggKz0gJy8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHJlc29sdmUgc2ltcGxlc1xyXG5cdFx0X3BhdGggPSBfcGF0aFxyXG5cdFx0XHQucmVwbGFjZSgvKFxcLyhcXC5cXC8pKyl8KFxcL1xcLiQpL2csICcvJylcclxuXHRcdFx0LnJlcGxhY2UoL1xcL3syLH0vZywgJy8nKTtcclxuXHJcblx0XHQvLyByZW1lbWJlciBsZWFkaW5nIHBhcmVudHNcclxuXHRcdGlmIChfd2FzX3JlbGF0aXZlKSB7XHJcblx0XHRcdF9sZWFkaW5nUGFyZW50cyA9IF9wYXRoLnN1YnN0cmluZygxKS5tYXRjaCgvXihcXC5cXC5cXC8pKy8pIHx8ICcnO1xyXG5cdFx0XHRpZiAoX2xlYWRpbmdQYXJlbnRzKSB7XHJcblx0XHRcdFx0X2xlYWRpbmdQYXJlbnRzID0gX2xlYWRpbmdQYXJlbnRzWzBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gcmVzb2x2ZSBwYXJlbnRzXHJcblx0XHR3aGlsZSAodHJ1ZSkge1xyXG5cdFx0XHRfcGFyZW50ID0gX3BhdGguaW5kZXhPZignLy4uJyk7XHJcblx0XHRcdGlmIChfcGFyZW50ID09PSAtMSkge1xyXG5cdFx0XHRcdC8vIG5vIG1vcmUgLi4vIHRvIHJlc29sdmVcclxuXHRcdFx0XHRicmVhaztcclxuXHRcdFx0fSBlbHNlIGlmIChfcGFyZW50ID09PSAwKSB7XHJcblx0XHRcdFx0Ly8gdG9wIGxldmVsIGNhbm5vdCBiZSByZWxhdGl2ZSwgc2tpcCBpdFxyXG5cdFx0XHRcdF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDMpO1xyXG5cdFx0XHRcdGNvbnRpbnVlO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRfcG9zID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wYXJlbnQpLmxhc3RJbmRleE9mKCcvJyk7XHJcblx0XHRcdGlmIChfcG9zID09PSAtMSkge1xyXG5cdFx0XHRcdF9wb3MgPSBfcGFyZW50O1xyXG5cdFx0XHR9XHJcblx0XHRcdF9wYXRoID0gX3BhdGguc3Vic3RyaW5nKDAsIF9wb3MpICsgX3BhdGguc3Vic3RyaW5nKF9wYXJlbnQgKyAzKTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyByZXZlcnQgdG8gcmVsYXRpdmVcclxuXHRcdGlmIChfd2FzX3JlbGF0aXZlICYmIHRoaXMuaXMoJ3JlbGF0aXZlJykpIHtcclxuXHRcdFx0X3BhdGggPSBfbGVhZGluZ1BhcmVudHMgKyBfcGF0aC5zdWJzdHJpbmcoMSk7XHJcblx0XHR9XHJcblxyXG5cdFx0X3BhdGggPSBVUkkucmVjb2RlUGF0aChfcGF0aCk7XHJcblx0XHR0aGlzLl9wYXJ0cy5wYXRoID0gX3BhdGg7XHJcblx0XHR0aGlzLmJ1aWxkKCFidWlsZCk7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAubm9ybWFsaXplUGF0aG5hbWUgPSBwLm5vcm1hbGl6ZVBhdGg7XHJcblx0cC5ub3JtYWxpemVRdWVyeSA9IGZ1bmN0aW9uKGJ1aWxkKSB7XHJcblx0XHRpZiAodHlwZW9mIHRoaXMuX3BhcnRzLnF1ZXJ5ID09PSAnc3RyaW5nJykge1xyXG5cdFx0XHRpZiAoIXRoaXMuX3BhcnRzLnF1ZXJ5Lmxlbmd0aCkge1xyXG5cdFx0XHRcdHRoaXMuX3BhcnRzLnF1ZXJ5ID0gbnVsbDtcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHR0aGlzLnF1ZXJ5KFVSSS5wYXJzZVF1ZXJ5KHRoaXMuX3BhcnRzLnF1ZXJ5LCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKSk7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAubm9ybWFsaXplRnJhZ21lbnQgPSBmdW5jdGlvbihidWlsZCkge1xyXG5cdFx0aWYgKCF0aGlzLl9wYXJ0cy5mcmFnbWVudCkge1xyXG5cdFx0XHR0aGlzLl9wYXJ0cy5mcmFnbWVudCA9IG51bGw7XHJcblx0XHRcdHRoaXMuYnVpbGQoIWJ1aWxkKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cdHAubm9ybWFsaXplU2VhcmNoID0gcC5ub3JtYWxpemVRdWVyeTtcclxuXHRwLm5vcm1hbGl6ZUhhc2ggPSBwLm5vcm1hbGl6ZUZyYWdtZW50O1xyXG5cclxuXHRwLmlzbzg4NTkgPSBmdW5jdGlvbigpIHtcclxuXHRcdC8vIGV4cGVjdCB1bmljb2RlIGlucHV0LCBpc284ODU5IG91dHB1dFxyXG5cdFx0dmFyIGUgPSBVUkkuZW5jb2RlO1xyXG5cdFx0dmFyIGQgPSBVUkkuZGVjb2RlO1xyXG5cclxuXHRcdFVSSS5lbmNvZGUgPSBlc2NhcGU7XHJcblx0XHRVUkkuZGVjb2RlID0gZGVjb2RlVVJJQ29tcG9uZW50O1xyXG5cdFx0dHJ5IHtcclxuXHRcdFx0dGhpcy5ub3JtYWxpemUoKTtcclxuXHRcdH0gZmluYWxseSB7XHJcblx0XHRcdFVSSS5lbmNvZGUgPSBlO1xyXG5cdFx0XHRVUkkuZGVjb2RlID0gZDtcclxuXHRcdH1cclxuXHRcdHJldHVybiB0aGlzO1xyXG5cdH07XHJcblxyXG5cdHAudW5pY29kZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0Ly8gZXhwZWN0IGlzbzg4NTkgaW5wdXQsIHVuaWNvZGUgb3V0cHV0XHJcblx0XHR2YXIgZSA9IFVSSS5lbmNvZGU7XHJcblx0XHR2YXIgZCA9IFVSSS5kZWNvZGU7XHJcblxyXG5cdFx0VVJJLmVuY29kZSA9IHN0cmljdEVuY29kZVVSSUNvbXBvbmVudDtcclxuXHRcdFVSSS5kZWNvZGUgPSB1bmVzY2FwZTtcclxuXHRcdHRyeSB7XHJcblx0XHRcdHRoaXMubm9ybWFsaXplKCk7XHJcblx0XHR9IGZpbmFsbHkge1xyXG5cdFx0XHRVUkkuZW5jb2RlID0gZTtcclxuXHRcdFx0VVJJLmRlY29kZSA9IGQ7XHJcblx0XHR9XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHRwLnJlYWRhYmxlID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgdXJpID0gdGhpcy5jbG9uZSgpO1xyXG5cdFx0Ly8gcmVtb3ZpbmcgdXNlcm5hbWUsIHBhc3N3b3JkLCBiZWNhdXNlIHRoZXkgc2hvdWxkbid0IGJlIGRpc3BsYXllZCBhY2NvcmRpbmcgdG8gUkZDIDM5ODZcclxuXHRcdHVyaS51c2VybmFtZSgnJykucGFzc3dvcmQoJycpLm5vcm1hbGl6ZSgpO1xyXG5cdFx0dmFyIHQgPSAnJztcclxuXHRcdGlmICh1cmkuX3BhcnRzLnByb3RvY29sKSB7XHJcblx0XHRcdHQgKz0gdXJpLl9wYXJ0cy5wcm90b2NvbCArICc6Ly8nO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmICh1cmkuX3BhcnRzLmhvc3RuYW1lKSB7XHJcblx0XHRcdGlmICh1cmkuaXMoJ3B1bnljb2RlJykgJiYgcHVueWNvZGUpIHtcclxuXHRcdFx0XHR0ICs9IHB1bnljb2RlLnRvVW5pY29kZSh1cmkuX3BhcnRzLmhvc3RuYW1lKTtcclxuXHRcdFx0XHRpZiAodXJpLl9wYXJ0cy5wb3J0KSB7XHJcblx0XHRcdFx0XHR0ICs9ICc6JyArIHVyaS5fcGFydHMucG9ydDtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dCArPSB1cmkuaG9zdCgpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKHVyaS5fcGFydHMuaG9zdG5hbWUgJiYgdXJpLl9wYXJ0cy5wYXRoICYmIHVyaS5fcGFydHMucGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHR0ICs9ICcvJztcclxuXHRcdH1cclxuXHJcblx0XHR0ICs9IHVyaS5wYXRoKHRydWUpO1xyXG5cdFx0aWYgKHVyaS5fcGFydHMucXVlcnkpIHtcclxuXHRcdFx0dmFyIHEgPSAnJztcclxuXHRcdFx0Zm9yICh2YXIgaSA9IDAsIHFwID0gdXJpLl9wYXJ0cy5xdWVyeS5zcGxpdCgnJicpLCBsID0gcXAubGVuZ3RoOyBpIDwgbDsgaSsrKSB7XHJcblx0XHRcdFx0dmFyIGt2ID0gKHFwW2ldIHx8ICcnKS5zcGxpdCgnPScpO1xyXG5cdFx0XHRcdHEgKz0gJyYnICsgVVJJLmRlY29kZVF1ZXJ5KGt2WzBdLCB0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlKVxyXG5cdFx0XHRcdFx0LnJlcGxhY2UoLyYvZywgJyUyNicpO1xyXG5cclxuXHRcdFx0XHRpZiAoa3ZbMV0gIT09IHVuZGVmaW5lZCkge1xyXG5cdFx0XHRcdFx0cSArPSAnPScgKyBVUkkuZGVjb2RlUXVlcnkoa3ZbMV0sIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpXHJcblx0XHRcdFx0XHRcdC5yZXBsYWNlKC8mL2csICclMjYnKTtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRcdFx0dCArPSAnPycgKyBxLnN1YnN0cmluZygxKTtcclxuXHRcdH1cclxuXHJcblx0XHR0ICs9IFVSSS5kZWNvZGVRdWVyeSh1cmkuaGFzaCgpLCB0cnVlKTtcclxuXHRcdHJldHVybiB0O1xyXG5cdH07XHJcblxyXG5cdC8vIHJlc29sdmluZyByZWxhdGl2ZSBhbmQgYWJzb2x1dGUgVVJMc1xyXG5cdHAuYWJzb2x1dGVUbyA9IGZ1bmN0aW9uKGJhc2UpIHtcclxuXHRcdHZhciByZXNvbHZlZCA9IHRoaXMuY2xvbmUoKTtcclxuXHRcdHZhciBwcm9wZXJ0aWVzID0gWydwcm90b2NvbCcsICd1c2VybmFtZScsICdwYXNzd29yZCcsICdob3N0bmFtZScsICdwb3J0J107XHJcblx0XHR2YXIgYmFzZWRpciwgaSwgcDtcclxuXHJcblx0XHRpZiAodGhpcy5fcGFydHMudXJuKSB7XHJcblx0XHRcdHRocm93IG5ldyBFcnJvcignVVJOcyBkbyBub3QgaGF2ZSBhbnkgZ2VuZXJhbGx5IGRlZmluZWQgaGllcmFyY2hpY2FsIGNvbXBvbmVudHMnKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIShiYXNlIGluc3RhbmNlb2YgVVJJKSkge1xyXG5cdFx0XHRiYXNlID0gbmV3IFVSSShiYXNlKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5wcm90b2NvbCkge1xyXG5cdFx0XHRyZXNvbHZlZC5fcGFydHMucHJvdG9jb2wgPSBiYXNlLl9wYXJ0cy5wcm90b2NvbDtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAodGhpcy5fcGFydHMuaG9zdG5hbWUpIHtcclxuXHRcdFx0cmV0dXJuIHJlc29sdmVkO1xyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoaSA9IDA7IChwID0gcHJvcGVydGllc1tpXSk7IGkrKykge1xyXG5cdFx0XHRyZXNvbHZlZC5fcGFydHNbcF0gPSBiYXNlLl9wYXJ0c1twXTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIXJlc29sdmVkLl9wYXJ0cy5wYXRoKSB7XHJcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoID0gYmFzZS5fcGFydHMucGF0aDtcclxuXHRcdFx0aWYgKCFyZXNvbHZlZC5fcGFydHMucXVlcnkpIHtcclxuXHRcdFx0XHRyZXNvbHZlZC5fcGFydHMucXVlcnkgPSBiYXNlLl9wYXJ0cy5xdWVyeTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIGlmIChyZXNvbHZlZC5fcGFydHMucGF0aC5zdWJzdHJpbmcoLTIpID09PSAnLi4nKSB7XHJcblx0XHRcdHJlc29sdmVkLl9wYXJ0cy5wYXRoICs9ICcvJztcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVzb2x2ZWQucGF0aCgpLmNoYXJBdCgwKSAhPT0gJy8nKSB7XHJcblx0XHRcdGJhc2VkaXIgPSBiYXNlLmRpcmVjdG9yeSgpO1xyXG5cdFx0XHRiYXNlZGlyID0gYmFzZWRpciA/IGJhc2VkaXIgOiBiYXNlLnBhdGgoKS5pbmRleE9mKCcvJykgPT09IDAgPyAnLycgOiAnJztcclxuXHRcdFx0cmVzb2x2ZWQuX3BhcnRzLnBhdGggPSAoYmFzZWRpciA/IChiYXNlZGlyICsgJy8nKSA6ICcnKSArIHJlc29sdmVkLl9wYXJ0cy5wYXRoO1xyXG5cdFx0XHRyZXNvbHZlZC5ub3JtYWxpemVQYXRoKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmVzb2x2ZWQuYnVpbGQoKTtcclxuXHRcdHJldHVybiByZXNvbHZlZDtcclxuXHR9O1xyXG5cdHAucmVsYXRpdmVUbyA9IGZ1bmN0aW9uKGJhc2UpIHtcclxuXHRcdHZhciByZWxhdGl2ZSA9IHRoaXMuY2xvbmUoKS5ub3JtYWxpemUoKTtcclxuXHRcdHZhciByZWxhdGl2ZVBhcnRzLCBiYXNlUGFydHMsIGNvbW1vbiwgcmVsYXRpdmVQYXRoLCBiYXNlUGF0aDtcclxuXHJcblx0XHRpZiAocmVsYXRpdmUuX3BhcnRzLnVybikge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ1VSTnMgZG8gbm90IGhhdmUgYW55IGdlbmVyYWxseSBkZWZpbmVkIGhpZXJhcmNoaWNhbCBjb21wb25lbnRzJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0YmFzZSA9IG5ldyBVUkkoYmFzZSkubm9ybWFsaXplKCk7XHJcblx0XHRyZWxhdGl2ZVBhcnRzID0gcmVsYXRpdmUuX3BhcnRzO1xyXG5cdFx0YmFzZVBhcnRzID0gYmFzZS5fcGFydHM7XHJcblx0XHRyZWxhdGl2ZVBhdGggPSByZWxhdGl2ZS5wYXRoKCk7XHJcblx0XHRiYXNlUGF0aCA9IGJhc2UucGF0aCgpO1xyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhdGguY2hhckF0KDApICE9PSAnLycpIHtcclxuXHRcdFx0dGhyb3cgbmV3IEVycm9yKCdVUkkgaXMgYWxyZWFkeSByZWxhdGl2ZScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChiYXNlUGF0aC5jaGFyQXQoMCkgIT09ICcvJykge1xyXG5cdFx0XHR0aHJvdyBuZXcgRXJyb3IoJ0Nhbm5vdCBjYWxjdWxhdGUgYSBVUkkgcmVsYXRpdmUgdG8gYW5vdGhlciByZWxhdGl2ZSBVUkknKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5wcm90b2NvbCA9PT0gYmFzZVBhcnRzLnByb3RvY29sKSB7XHJcblx0XHRcdHJlbGF0aXZlUGFydHMucHJvdG9jb2wgPSBudWxsO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnVzZXJuYW1lICE9PSBiYXNlUGFydHMudXNlcm5hbWUgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gYmFzZVBhcnRzLnBhc3N3b3JkKSB7XHJcblx0XHRcdHJldHVybiByZWxhdGl2ZS5idWlsZCgpO1xyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChyZWxhdGl2ZVBhcnRzLnByb3RvY29sICE9PSBudWxsIHx8IHJlbGF0aXZlUGFydHMudXNlcm5hbWUgIT09IG51bGwgfHwgcmVsYXRpdmVQYXJ0cy5wYXNzd29yZCAhPT0gbnVsbCkge1xyXG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9PT0gYmFzZVBhcnRzLmhvc3RuYW1lICYmIHJlbGF0aXZlUGFydHMucG9ydCA9PT0gYmFzZVBhcnRzLnBvcnQpIHtcclxuXHRcdFx0cmVsYXRpdmVQYXJ0cy5ob3N0bmFtZSA9IG51bGw7XHJcblx0XHRcdHJlbGF0aXZlUGFydHMucG9ydCA9IG51bGw7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRyZXR1cm4gcmVsYXRpdmUuYnVpbGQoKTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAocmVsYXRpdmVQYXRoID09PSBiYXNlUGF0aCkge1xyXG5cdFx0XHRyZWxhdGl2ZVBhcnRzLnBhdGggPSAnJztcclxuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZGV0ZXJtaW5lIGNvbW1vbiBzdWIgcGF0aFxyXG5cdFx0Y29tbW9uID0gVVJJLmNvbW1vblBhdGgocmVsYXRpdmVQYXRoLCBiYXNlUGF0aCk7XHJcblxyXG5cdFx0Ly8gSWYgdGhlIHBhdGhzIGhhdmUgbm90aGluZyBpbiBjb21tb24sIHJldHVybiBhIHJlbGF0aXZlIFVSTCB3aXRoIHRoZSBhYnNvbHV0ZSBwYXRoLlxyXG5cdFx0aWYgKCFjb21tb24pIHtcclxuXHRcdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHBhcmVudHMgPSBiYXNlUGFydHMucGF0aFxyXG5cdFx0XHQuc3Vic3RyaW5nKGNvbW1vbi5sZW5ndGgpXHJcblx0XHRcdC5yZXBsYWNlKC9bXlxcL10qJC8sICcnKVxyXG5cdFx0XHQucmVwbGFjZSgvLio/XFwvL2csICcuLi8nKTtcclxuXHJcblx0XHRyZWxhdGl2ZVBhcnRzLnBhdGggPSAocGFyZW50cyArIHJlbGF0aXZlUGFydHMucGF0aC5zdWJzdHJpbmcoY29tbW9uLmxlbmd0aCkpIHx8ICcuLyc7XHJcblxyXG5cdFx0cmV0dXJuIHJlbGF0aXZlLmJ1aWxkKCk7XHJcblx0fTtcclxuXHJcblx0Ly8gY29tcGFyaW5nIFVSSXNcclxuXHRwLmVxdWFscyA9IGZ1bmN0aW9uKHVyaSkge1xyXG5cdFx0dmFyIG9uZSA9IHRoaXMuY2xvbmUoKTtcclxuXHRcdHZhciB0d28gPSBuZXcgVVJJKHVyaSk7XHJcblx0XHR2YXIgb25lX21hcCA9IHt9O1xyXG5cdFx0dmFyIHR3b19tYXAgPSB7fTtcclxuXHRcdHZhciBjaGVja2VkID0ge307XHJcblx0XHR2YXIgb25lX3F1ZXJ5LCB0d29fcXVlcnksIGtleTtcclxuXHJcblx0XHRvbmUubm9ybWFsaXplKCk7XHJcblx0XHR0d28ubm9ybWFsaXplKCk7XHJcblxyXG5cdFx0Ly8gZXhhY3QgbWF0Y2hcclxuXHRcdGlmIChvbmUudG9TdHJpbmcoKSA9PT0gdHdvLnRvU3RyaW5nKCkpIHtcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8gZXh0cmFjdCBxdWVyeSBzdHJpbmdcclxuXHRcdG9uZV9xdWVyeSA9IG9uZS5xdWVyeSgpO1xyXG5cdFx0dHdvX3F1ZXJ5ID0gdHdvLnF1ZXJ5KCk7XHJcblx0XHRvbmUucXVlcnkoJycpO1xyXG5cdFx0dHdvLnF1ZXJ5KCcnKTtcclxuXHJcblx0XHQvLyBkZWZpbml0ZWx5IG5vdCBlcXVhbCBpZiBub3QgZXZlbiBub24tcXVlcnkgcGFydHMgbWF0Y2hcclxuXHRcdGlmIChvbmUudG9TdHJpbmcoKSAhPT0gdHdvLnRvU3RyaW5nKCkpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIHF1ZXJ5IHBhcmFtZXRlcnMgaGF2ZSB0aGUgc2FtZSBsZW5ndGgsIGV2ZW4gaWYgdGhleSdyZSBwZXJtdXRlZFxyXG5cdFx0aWYgKG9uZV9xdWVyeS5sZW5ndGggIT09IHR3b19xdWVyeS5sZW5ndGgpIHtcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0fVxyXG5cclxuXHRcdG9uZV9tYXAgPSBVUkkucGFyc2VRdWVyeShvbmVfcXVlcnksIHRoaXMuX3BhcnRzLmVzY2FwZVF1ZXJ5U3BhY2UpO1xyXG5cdFx0dHdvX21hcCA9IFVSSS5wYXJzZVF1ZXJ5KHR3b19xdWVyeSwgdGhpcy5fcGFydHMuZXNjYXBlUXVlcnlTcGFjZSk7XHJcblxyXG5cdFx0Zm9yIChrZXkgaW4gb25lX21hcCkge1xyXG5cdFx0XHRpZiAoaGFzT3duLmNhbGwob25lX21hcCwga2V5KSkge1xyXG5cdFx0XHRcdGlmICghaXNBcnJheShvbmVfbWFwW2tleV0pKSB7XHJcblx0XHRcdFx0XHRpZiAob25lX21hcFtrZXldICE9PSB0d29fbWFwW2tleV0pIHtcclxuXHRcdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0gZWxzZSBpZiAoIWFycmF5c0VxdWFsKG9uZV9tYXBba2V5XSwgdHdvX21hcFtrZXldKSkge1xyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0Y2hlY2tlZFtrZXldID0gdHJ1ZTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZvciAoa2V5IGluIHR3b19tYXApIHtcclxuXHRcdFx0aWYgKGhhc093bi5jYWxsKHR3b19tYXAsIGtleSkpIHtcclxuXHRcdFx0XHRpZiAoIWNoZWNrZWRba2V5XSkge1xyXG5cdFx0XHRcdFx0Ly8gdHdvIGNvbnRhaW5zIGEgcGFyYW1ldGVyIG5vdCBwcmVzZW50IGluIG9uZVxyXG5cdFx0XHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH07XHJcblxyXG5cdC8vIHN0YXRlXHJcblx0cC5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSBmdW5jdGlvbih2KSB7XHJcblx0XHR0aGlzLl9wYXJ0cy5kdXBsaWNhdGVRdWVyeVBhcmFtZXRlcnMgPSAhIXY7XHJcblx0XHRyZXR1cm4gdGhpcztcclxuXHR9O1xyXG5cclxuXHRwLmVzY2FwZVF1ZXJ5U3BhY2UgPSBmdW5jdGlvbih2KSB7XHJcblx0XHR0aGlzLl9wYXJ0cy5lc2NhcGVRdWVyeVNwYWNlID0gISF2O1xyXG5cdFx0cmV0dXJuIHRoaXM7XHJcblx0fTtcclxuXHJcblx0cmV0dXJuIFVSSTtcclxufSkpOyIsIldvcmtmbG93ID0ge31cclxuXHJcbkBJbWFnZVNpZ24gPSB7fTtcclxuXHJcbkBUcmFjZXNIYW5kbGVyID0ge307XHJcblxyXG5AVHJhY2VzVGVtcGxhdGUgPSB7fTtcclxuXHJcbkBJbnN0YW5jZWZvcm1UZW1wbGF0ZSA9IHt9O1xyXG5cclxuQEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlID0ge307XHJcblxyXG5ASW5zdGFuY2VTaWduVGV4dCA9IHt9XHJcblxyXG5AUmVsYXRlZEluc3RhbmNlcyA9IHt9XHJcblxyXG5AUmVsYXRlZFJlY29yZHMgPSB7fVxyXG5cclxuQEluc3RhbmNlTWFjcm8gPSB7Y29udGV4dDoge319XHJcblxyXG5AVHJhY2VzTWFuYWdlciA9IHt9O1xyXG5cclxuSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyA9IChmaWVsZF9mb3JtdWxhKS0+XHJcblx0cmV0dXJuIChmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3RyYWNlcy5cIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt5aWppYW5sYW46XCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntcXFwieWlqaWFubGFuXFxcIjpcIikgPiAtMSB8fCBmaWVsZF9mb3JtdWxhPy5pbmRleE9mKFwieyd5aWppYW5sYW4nOlwiKSA+IC0xKVxyXG5cclxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IChmb3JtLCBmb3JtX3ZlcnNpb24pLT5cclxuXHRmaWVsZF9mb3JtdWxhcyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRfZm9ybV92ZXJzaW9uID0ge31cclxuXHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRfZm9ybV92ZXJzaW9uID0gdXVmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZvcm19KSwgZm9ybV92ZXJzaW9uKVxyXG5cdGVsc2VcclxuXHRcdF9mb3JtX3ZlcnNpb24gPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe19pZDogZm9ybV92ZXJzaW9uLCBmb3JtOiBmb3JtfSlcclxuXHJcblx0ZmllbGRzID0gX2Zvcm1fdmVyc2lvbj8uZmllbGRzIHx8IFtdXHJcblxyXG5cdGZpZWxkcy5mb3JFYWNoIChmKS0+XHJcblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXHJcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxyXG5cdFx0XHRcdGZpZWxkX2Zvcm11bGFzLnB1c2ggZjEuZm9ybXVsYVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxyXG5cclxuXHRfLnNvbWUgZmllbGRfZm9ybXVsYXMsIChmaWVsZF9mb3JtdWxhKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cclxuIiwiICAgICAgICAgICAgIFxuXG5Xb3JrZmxvdyA9IHt9O1xuXG50aGlzLkltYWdlU2lnbiA9IHt9O1xuXG50aGlzLlRyYWNlc0hhbmRsZXIgPSB7fTtcblxudGhpcy5UcmFjZXNUZW1wbGF0ZSA9IHt9O1xuXG50aGlzLkluc3RhbmNlZm9ybVRlbXBsYXRlID0ge307XG5cbnRoaXMuSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUgPSB7fTtcblxudGhpcy5JbnN0YW5jZVNpZ25UZXh0ID0ge307XG5cbnRoaXMuUmVsYXRlZEluc3RhbmNlcyA9IHt9O1xuXG50aGlzLlJlbGF0ZWRSZWNvcmRzID0ge307XG5cbnRoaXMuSW5zdGFuY2VNYWNybyA9IHtcbiAgY29udGV4dDoge31cbn07XG5cbnRoaXMuVHJhY2VzTWFuYWdlciA9IHt9O1xuXG5JbnN0YW5jZVNpZ25UZXh0LmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nID0gZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICByZXR1cm4gKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt0cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgOiB2b2lkIDApID4gLTEgfHwgKGZpZWxkX2Zvcm11bGEgIT0gbnVsbCA/IGZpZWxkX2Zvcm11bGEuaW5kZXhPZihcInt5aWppYW5sYW46XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7XFxcInlpamlhbmxhblxcXCI6XCIpIDogdm9pZCAwKSA+IC0xIHx8IChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7J3lpamlhbmxhbic6XCIpIDogdm9pZCAwKSA+IC0xO1xufTtcblxuSW5zdGFuY2VTaWduVGV4dC5pbmNsdWRlc09waW5pb25GaWVsZCA9IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICB2YXIgX2Zvcm1fdmVyc2lvbiwgZmllbGRfZm9ybXVsYXMsIGZpZWxkcztcbiAgZmllbGRfZm9ybXVsYXMgPSBuZXcgQXJyYXkoKTtcbiAgX2Zvcm1fdmVyc2lvbiA9IHt9O1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgX2Zvcm1fdmVyc2lvbiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZvcm1cbiAgICB9KSwgZm9ybV92ZXJzaW9uKTtcbiAgfSBlbHNlIHtcbiAgICBfZm9ybV92ZXJzaW9uID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtcbiAgICAgIF9pZDogZm9ybV92ZXJzaW9uLFxuICAgICAgZm9ybTogZm9ybVxuICAgIH0pO1xuICB9XG4gIGZpZWxkcyA9IChfZm9ybV92ZXJzaW9uICE9IG51bGwgPyBfZm9ybV92ZXJzaW9uLmZpZWxkcyA6IHZvaWQgMCkgfHwgW107XG4gIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICB2YXIgcmVmO1xuICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnKTtcbiAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZiA9IGYuZmllbGRzKSAhPSBudWxsID8gcmVmLmZvckVhY2goZnVuY3Rpb24oZjEpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZjEuZm9ybXVsYSk7XG4gICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZpZWxkX2Zvcm11bGFzLnB1c2goZi5mb3JtdWxhKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gXy5zb21lKGZpZWxkX2Zvcm11bGFzLCBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0pO1xufTtcbiIsImRiLmF1dGhfdG9rZW5zID0gbmV3IE1ldGVvci5Db2xsZWN0aW9uKCdhdXRoX3Rva2VucycpIiwiSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluc3RhbmNlX2F0dGFjaG1lbnQgPSBcIlwiXCJcclxuXHQ8dHI+XHJcblx0XHQ8dGQgY2xhc3M9XCJpbnMtYXR0YWNoLXZpZXdcIj5cclxuXHRcdFx0PGEgaHJlZj1cInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cIiBjbGFzcz1cImluc19hdHRhY2hfaHJlZlwiIHRhcmdldD1cIl9wYXJlbnRcIiBkYXRhLW5hbWU9XCJ7e3RoaXMubmFtZX19XCIgZGF0YS10eXBlPVwie3t0aGlzLm9yaWdpbmFsLnR5cGV9fVwiIGRhdGEtaWQ9XCJ7e19pZH19XCI+e3t0aGlzLm5hbWV9fTwvYT5cclxuXHRcdDwvdGQ+XHJcblx0PC90cj5cclxuXCJcIlwiXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZTZWxlY3RVc2VyUmVhZCA9IFwiXCJcIlxyXG5cdDxkaXYgY2xhc3M9J3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnPnt7dmFsdWV9fTwvZGl2PlxyXG5cIlwiXCJcclxuXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXBSZWFkID0gXCJcIlwiXHJcblx0PGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XHJcblx0XHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XHJcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtYm9keVwiIHN0eWxlPVwicGFkZGluZzowcHg7XCI+XHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInBhbmVsLWhlYWRpbmdcIiA+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9J2NvbnRyb2wtbGFiZWwnPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiZGVzY3JpcHRpb25cIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicmVhZG9ubHktdGFibGVcIiBzdHlsZT1cInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHRhYmxlIHR5cGU9J3RhYmxlJyBjbGFzcz1cInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XCJ7e3RoaXMuY29kZX19VGFibGVcIiBuYW1lPVwie3t0aGlzLmNvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7dGhpcy5uYW1lfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XCJ7e3RoaXMubmFtZX19VGhlYWRcIiBuYW1lPVwie3t0aGlzLm5hbWV9fVRoZWFkXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZVRoZWFkIHRoaXN9fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3RoZWFkPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0Ym9keSBpZD1cInt7dGhpcy5uYW1lfX1UYm9keVwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0e3sjaWYgc2hvd0xhYmVsfX1cclxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3t7Z2V0Q2ZDbGFzcyB0aGlzfX0gZm9ybS1jb250cm9sJyByZWFkb25seSBkaXNhYmxlZD57e3tnZXRWYWx1ZSBjb2RlfX19PC9kaXY+XHJcblx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHR7ey9pZn19XHJcblx0XHR7ey93aXRofX1cclxuXHQ8L2Rpdj5cclxuXCJcIlwiXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuYWZGb3JtR3JvdXAgPSBcIlwiXCJcclxuXHJcblx0e3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxyXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cclxuXHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Zl9sYWJlbCB0aGlzfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHQ8cD57e3tkZXNjcmlwdGlvbn19fTwvcD5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG4gIFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3RhYmxlJ319XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXCI+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJwYW5lbC1ib2R5XCIgc3R5bGU9XCJwYWRkaW5nOjBweDtcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwicGFuZWwtaGVhZGluZ1wiID5cclxuXHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XCJkZXNjcmlwdGlvblwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJyZWFkb25seS10YWJsZVwiIHN0eWxlPVwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1wiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVwidGFibGUgdGFibGUtYm9yZGVyZWQgdGFibGUtY29uZGVuc2VkIGF1dG9mb3JtLXRhYmxlXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cInt7dGhpcy5jb2RlfX1UYWJsZVwiIG5hbWU9XCJ7e3RoaXMuY29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3t0aGlzLm5hbWV9fVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cInt7dGhpcy5uYW1lfX1UaGVhZFwiIG5hbWU9XCJ7e3RoaXMubmFtZX19VGhlYWRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVwie3t0aGlzLm5hbWV9fVRib2R5XCIgbmFtZT1cInt7dGhpcy5uYW1lfX1UYm9keVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVCb2R5IHRoaXN9fX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3Rib2R5PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L3RhYmxlPlxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnaW5wdXQnfX1cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIiBkYXRhLXJlcXVpcmVkPVwie3sjaWYgaXNfcmVxdWlyZWR9fXRydWV7ey9pZn19XCI+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiB7e2dldFBlcm1pc3Npb25zIGNvZGV9fSBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ251bWJlcid9fVxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cIm51bWJlclwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cclxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJ0ZXh0XCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtdHlwZT1cImRhdGVcIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XHJcblx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidGV4dFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3Bhc3N3b3JkJ319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwicGFzc3dvcmRcIiB0aXRsZT1cInt7Z2V0TGFiZWwgY29kZX19XCIgbmFtZT1cInt7Y29kZX19XCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIiBjbGFzcz1cImZvcm0tY29udHJvbFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWxlY3QnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PHNlbGVjdCBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PG9wdGlvbiB2YWx1ZT1cInt7dmFsdWV9fVwiPnt7bGFiZWx9fTwvb3B0aW9uPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L3NlbGVjdD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncmFkaW8nfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLXJhZGlvLWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cclxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJyYWRpby1pbmxpbmUgZml4LWluZGVudFwiPjxpbnB1dCB0eXBlPVwicmFkaW9cIiB2YWx1ZT1cInt7dmFsdWV9fVwiIG5hbWU9XCJ7ey4uL2NvZGV9fVwiIGNsYXNzPVwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcIj4ge3tsYWJlbH19PC9sYWJlbD5cclxuICAgIFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XHJcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cIjdaUW5Ec1hCR29oWk1ldEE1XCIgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImFmLWNoZWNrYm94LWdyb3VwXCIgZGF0YS1zY2hlbWEta2V5PVwie3tnZXRMYWJlbCBjb2RlfX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjZWFjaCBvcHRpb25zIHRoaXN9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cInt7dmFsdWV9fVwiIG5hbWU9XCJ7ey4uL2NvZGV9fVwiIGNsYXNzPVwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcIj4ge3tsYWJlbH19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndXJsJ319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cFwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVwidXJsXCIgdGl0bGU9XCJ7e2dldExhYmVsIGNvZGV9fVwiIG5hbWU9XCJ7e2NvZGV9fVwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCIgY2xhc3M9XCJmb3JtLWNvbnRyb2xcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XCJlbWFpbFwiIHRpdGxlPVwie3tnZXRMYWJlbCBjb2RlfX1cIiBuYW1lPVwie3tjb2RlfX1cIiBkYXRhLXNjaGVtYS1rZXk9XCJ7e2dldExhYmVsIGNvZGV9fVwiIGNsYXNzPVwiZm9ybS1jb250cm9sXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2NoZWNrYm94J319XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImZvcm0tZ3JvdXBcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XCI3WlFuRHNYQkdvaFpNZXRBNVwiIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJjaGVja2JveFwiIGRhdGEtc2NoZW1hLWtleT1cInt7Z2V0TGFiZWwgY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBzdHlsZT1cIndpZHRoOiAxMDAlO1wiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiB2YWx1ZT1cInRydWVcIiBuYW1lPVwie3tjb2RlfX1cIiBjbGFzcz1cImNoZWNrYm94LWlubGluZSBmaXgtaW5kZW50XCI+PC9sYWJlbD5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVwiN1pRbkRzWEJHb2haTWV0QTVcIiBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0XHR7ey9pZn19XHJcblx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHR7ey9pZn19XHJcblx0XHR7ey93aXRofX1cclxuXCJcIlwiXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlID0gKHRlbXBhbHRlTmFtZSwgc3RlZWRvc0RhdGEpIC0+XHJcblx0dGVtcGxhdGUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGVbdGVtcGFsdGVOYW1lXVxyXG5cclxuXHR0ZW1wbGF0ZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xyXG5cclxuXHR0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uID0gZXZhbCh0ZW1wbGF0ZUNvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGVbdGVtcGFsdGVOYW1lXSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZSh0ZW1wYWx0ZU5hbWUsIHRlbXBsYXRlUmVuZGVyRnVuY3Rpb24pO1xyXG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cdFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0uaGVscGVycyBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW5zdGFuY2VTaWduVGV4dCA9IChzdGVlZG9zRGF0YSktPlxyXG5cdGluc3RhbmNlU2lnblRleHRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2Vfc2lnbl90ZXh0Lmh0bWwnKVxyXG5cclxuXHRpbnN0YW5jZVNpZ25UZXh0Q29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlU2lnblRleHRIdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblxyXG5cdGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dCA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlU2lnblRleHRcIiwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uKTtcclxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHRUZW1wbGF0ZS5pbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gKHN0ZWVkb3NEYXRhKSAtPlxyXG5cdGltYWdlU2lnbkh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbWFnZV9zaWduLmh0bWwnKVxyXG5cdGltYWdlU2lnbkNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShpbWFnZVNpZ25IdG1sLCB7aXNCb2R5OiB0cnVlfSk7XHJcblx0aW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcclxuXHRUZW1wbGF0ZS5pbWFnZVNpZ24gPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbWFnZVNpZ25cIiwgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24pO1xyXG5cdFRlbXBsYXRlLmltYWdlU2lnbi5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhXHJcblx0VGVtcGxhdGUuaW1hZ2VTaWduLmhlbHBlcnMgSW1hZ2VTaWduLmhlbHBlcnNcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyID0gKHN0ZWVkb3NEYXRhKSAtPlxyXG5cdHRyYWNlc0hhbmxkZXJIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX2hhbmRsZXIuaHRtbCcpXHJcblx0dHJhY2VzSGFubGRlckNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0cmFjZXNIYW5sZGVySHRtbCwge2lzQm9keTogdHJ1ZX0pO1xyXG5cdHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VzSGFubGRlckNvbXBpbGVkKTtcclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV90cmFjZXNfaGFuZGxlciA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlX3RyYWNlc19oYW5kbGVyXCIsIHRyYWNlc0hhbmxkZXJSZW5kZXJGdW5jdGlvbik7XHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyLmhlbHBlcnMgVHJhY2VzSGFuZGxlci5oZWxwZXJzXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQgPSAoc3RlZWRvc0RhdGEpIC0+XHJcblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xyXG5cclxuXHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFwiLCBzdGVlZG9zRGF0YSk7XHJcblxyXG5cdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJhZkZvcm1Hcm91cFJlYWRcIiwgc3RlZWRvc0RhdGEpO1xyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImluc3RhbmNlX2F0dGFjaG1lbnRcIiwge2Fic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZX0pO1xyXG5cdFx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUltYWdlU2lnbihzdGVlZG9zRGF0YSlcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyKHN0ZWVkb3NEYXRhKTtcclxuXHRcdEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbnN0YW5jZVNpZ25UZXh0KHN0ZWVkb3NEYXRhKVxyXG5cclxuZ2V0TGlua1RleHQgPSAoaXRlbSwgbGFiZWwsIGRldGFpbF91cmwpLT5cclxuXHRpZiBkZXRhaWxfdXJsXHJcblx0XHRkZXRhaWxfdXJsID0gZGV0YWlsX3VybC5yZXBsYWNlKFwie19pZH1cIiwgaXRlbS5faWQpXHJcblx0XHRpZiAhL15odHRwKHM/KTpcXC9cXC8vLnRlc3QoZGV0YWlsX3VybClcclxuXHRcdFx0ZGV0YWlsX3VybCA9IFN0ZWVkb3MuYWJzb2x1dGVVcmwoZGV0YWlsX3VybClcclxuXHRcdHJldHVybiAnPGEgaHJlZj1cIicrZGV0YWlsX3VybCsnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JytsYWJlbCsnPC9hPic7XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuIGxhYmVsXHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUgPSAodmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkgLT5cclxuXHRpZiAhdmFsdWUgJiYgdmFsdWUgIT0gZmFsc2VcclxuXHRcdHJldHVybiAnJ1xyXG5cdHN3aXRjaCBmaWVsZC50eXBlXHJcblx0XHR3aGVuICdlbWFpbCdcclxuXHRcdFx0dmFsdWUgPSBpZiB2YWx1ZSB0aGVuICc8YSBocmVmPVxcJ21haWx0bzonICsgdmFsdWUgKyAnXFwnPicgKyB2YWx1ZSArICc8L2E+JyBlbHNlICcnXHJcblx0XHR3aGVuICd1cmwnXHJcblx0XHRcdGlmIHZhbHVlXHJcblx0XHRcdFx0aWYgdmFsdWUuaW5kZXhPZihcImh0dHBcIikgPT0gMFxyXG5cdFx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRcdHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHRcdFx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0dmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gJydcclxuXHRcdHdoZW4gJ2dyb3VwJ1xyXG5cdFx0XHRpZiBmaWVsZC5pc19tdWx0aXNlbGVjdFxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/LmdldFByb3BlcnR5KFwiZnVsbG5hbWVcIikudG9TdHJpbmcoKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcclxuXHRcdHdoZW4gJ3VzZXInXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZ2V0UHJvcGVydHkoXCJuYW1lXCIpLnRvU3RyaW5nKClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gdmFsdWU/Lm5hbWVcclxuXHRcdHdoZW4gJ3Bhc3N3b3JkJ1xyXG5cdFx0XHR2YWx1ZSA9ICcqKioqKionXHJcblx0XHR3aGVuICdjaGVja2JveCdcclxuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUgIT0gJ2ZhbHNlJ1xyXG5cdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpXHJcblx0XHR3aGVuICdkYXRlVGltZSdcclxuXHRcdFx0aWYgdmFsdWUgJiYgdmFsdWUubGVuZ3RoID09IDE2XHJcblx0XHRcdFx0dCA9IHZhbHVlLnNwbGl0KFwiVFwiKVxyXG5cdFx0XHRcdHQwID0gdFswXS5zcGxpdChcIi1cIik7XHJcblx0XHRcdFx0dDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcclxuXHJcblx0XHRcdFx0eWVhciA9IHQwWzBdO1xyXG5cdFx0XHRcdG1vbnRoID0gdDBbMV07XHJcblx0XHRcdFx0ZGF0ZSA9IHQwWzJdO1xyXG5cdFx0XHRcdGhvdXJzID0gdDFbMF07XHJcblx0XHRcdFx0c2Vjb25kcyA9IHQxWzFdO1xyXG5cclxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHllYXIsIG1vbnRoIC0gMSwgZGF0ZSwgaG91cnMsIHNlY29uZHMpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR2YWx1ZSA9IG5ldyBEYXRlKHZhbHVlKVxyXG5cclxuXHRcdFx0dmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcclxuXHRcdHdoZW4gJ2lucHV0J1xyXG5cdFx0XHRpZiBmaWVsZC5pc190ZXh0YXJlYVxyXG5cdFx0XHRcdHZhbHVlID0gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24odmFsdWUpKVxyXG5cdFx0d2hlbiAnbnVtYmVyJ1xyXG5cdFx0XHRpZiB2YWx1ZSBvciB2YWx1ZSA9PSAwXHJcblx0XHRcdFx0aWYgdHlwZW9mIHZhbHVlID09ICdzdHJpbmcnXHJcblx0XHRcdFx0XHR2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXHJcblx0XHRcdFx0dmFsdWUgPSB2YWx1ZS50b0ZpeGVkKGZpZWxkLmRpZ2l0cylcclxuXHRcdFx0XHR2YWx1ZSA9IFN0ZWVkb3MubnVtYmVyVG9TdHJpbmcgdmFsdWUsIGxvY2FsZVxyXG5cdFx0d2hlbiAnb2RhdGEnXHJcblx0XHRcdGRldGFpbF91cmwgPSBmaWVsZC5kZXRhaWxfdXJsXHJcblx0XHRcdGlmIGZpZWxkLmlzX211bHRpc2VsZWN0XHJcblx0XHRcdFx0dmFsdWUgPSBfLm1hcCB2YWx1ZSwgKGl0ZW0pLT5cclxuXHRcdFx0XHRcdHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHZhbHVlID0gZ2V0TGlua1RleHQodmFsdWUsIHZhbHVlWydAbGFiZWwnXSwgZGV0YWlsX3VybClcclxuXHJcblx0cmV0dXJuIHZhbHVlO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldExhYmVsID0gKGZpZWxkcywgY29kZSkgLT5cclxuXHRmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKVxyXG5cdGlmIGZpZWxkXHJcblx0XHRpZiBmaWVsZC5uYW1lXHJcblx0XHRcdHJldHVybiBmaWVsZC5uYW1lXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmaWVsZC5jb2RlXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24gPSAoaW5zdGFuY2UpLT5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHJcblx0Zm9ybV92ZXJzaW9uID0ge31cclxuXHJcblx0Zm9ybV9maWVsZHMgPSBbXTtcclxuXHJcblx0aWYgZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb25cclxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxyXG5cdGVsc2VcclxuXHRcdGZvcm1fdmVyc2lvbiA9IF8ud2hlcmUoZm9ybS5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9ufSlbMF1cclxuXHJcblx0Zm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoIChmaWVsZCktPlxyXG5cdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdGlmIGZpZWxkLmZpZWxkc1xyXG5cdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoIChmKSAtPlxyXG5cdFx0XHRcdFx0Zm9ybV9maWVsZHMucHVzaChmKTtcclxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdGZpZWxkWydzZmllbGRzJ10gPSBmaWVsZFsnZmllbGRzJ11cclxuXHRcdFx0ZGVsZXRlIGZpZWxkWydmaWVsZHMnXVxyXG5cdFx0XHRmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0Zm9ybV9maWVsZHMucHVzaChmaWVsZCk7XHJcblxyXG5cdGZvcm1fdmVyc2lvbi5maWVsZHMgPSBmb3JtX2ZpZWxkcztcclxuXHJcblx0cmV0dXJuIGZvcm1fdmVyc2lvbjtcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbiA9IChpbnN0YW5jZSktPlxyXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xyXG5cdGZsb3dfdmVyc2lvbiA9IHt9XHJcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudFxyXG5cdGVsc2VcclxuXHRcdGZsb3dfdmVyc2lvbiA9IF8ud2hlcmUoZmxvdy5oaXN0b3J5cywge19pZDogaW5zdGFuY2UuZmxvd192ZXJzaW9ufSlbMF1cclxuXHJcblx0cmV0dXJuIGZsb3dfdmVyc2lvbjtcclxuXHJcblxyXG5fZ2V0Vmlld0h0bWwgPSAocGF0aCkgLT5cclxuXHR2aWV3SHRtbCA9IEFzc2V0cy5nZXRUZXh0KHBhdGgpXHJcblxyXG5cdGlmIHZpZXdIdG1sXHJcblx0XHR2aWV3SHRtbCA9IHZpZXdIdG1sLnJlcGxhY2UoLzx0ZW1wbGF0ZVtcXHdcXHNcXFwiXFw9J10rPi9pLFwiXCIpLnJlcGxhY2UoLzxcXC90ZW1wbGF0ZT4vaSxcIlwiKVxyXG5cclxuXHRyZXR1cm4gdmlld0h0bWw7XHJcblxyXG5fZ2V0TG9jYWxlID0gKHVzZXIpLT5cclxuXHRpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0ZWxzZSBpZiB1c2VyPy5sb2NhbGU/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2VuLXVzJ1xyXG5cdFx0bG9jYWxlID0gXCJlblwiXHJcblx0ZWxzZVxyXG5cdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0cmV0dXJuIGxvY2FsZVxyXG5cclxuXHJcbl9nZXRSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHJldiktPlxyXG5cdGlmICFyZXZcclxuXHRcdHJldiA9IFtdO1xyXG5cclxuXHRmaWVsZHMuZm9yRWFjaCAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZC5maWVsZHMsIHJldilcclxuXHRcdGVsc2UgaWYgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBmaWVsZC5pc19yZXF1aXJlZFxyXG5cdFx0XHRcdHJldi5wdXNoIGZpZWxkLmNvZGVcclxuXHRyZXR1cm4gcmV2O1xyXG5cclxuX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzID0gKGZpZWxkcywgc3RlcHMpLT5cclxuXHRzdGFydFN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwic3RlcF90eXBlXCIsXCJzdGFydFwiKVxyXG5cclxuXHRlZGl0YWJsZUNvZGUgPSBbXVxyXG5cclxuXHRfLmtleXMoc3RhcnRTdGVwLnBlcm1pc3Npb25zKS5mb3JFYWNoIChrZXkpLT5cclxuXHRcdGlmIHN0YXJ0U3RlcC5wZXJtaXNzaW9uc1trZXldID09ICdlZGl0YWJsZSdcclxuXHRcdFx0ZWRpdGFibGVDb2RlLnB1c2gga2V5XHJcblxyXG5cdHJldHVybiBlZGl0YWJsZUNvZGVcclxuXHJcbl9nZXRTdGFydFN0ZXBSZXF1aXJlZEZpZWxkcyA9IChmaWVsZHMsIHN0ZXBzKS0+XHJcblx0cmVxdWlyZWRGaWVsZHMgPSBfZ2V0UmVxdWlyZWRGaWVsZHMoZmllbGRzKVxyXG5cclxuXHRlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcylcclxuXHJcblx0cmV0dXJuIF8uaW50ZXJzZWN0aW9uKHJlcXVpcmVkRmllbGRzLCBlZGl0YWJsZUNvZGUpXHJcblxyXG5fZ2V0VGVtcGxhdGVEYXRhID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oaW5zdGFuY2UpXHJcblxyXG5cdGxvY2FsZSA9IF9nZXRMb2NhbGUodXNlcilcclxuXHJcblx0c3RlZWRvc0RhdGEgPSB7fVxyXG5cclxuXHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNuYW1lID0gaW5zdGFuY2UubmFtZVxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX3N0YXRlID0gaW5zdGFuY2Uuc3RhdGVcclxuXHRcdHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvblxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2NvZGUgPSBpbnN0YW5jZS5jb2RlXHJcblx0XHRzdGVlZG9zRGF0YS5pbnNfaXNfYXJjaGl2ZWQgPSBpbnN0YW5jZS5pc19hcmNoaXZlZFxyXG5cdFx0c3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZFxyXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50X25hbWUgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxyXG5cdFx0c3RlZWRvc0RhdGEuYXBwbGljYW50Q29udGV4dCA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblxyXG5cdHN0ZWVkb3NEYXRhLmluc3RhbmNlID0gaW5zdGFuY2VcclxuXHRzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb25cclxuXHRzdGVlZG9zRGF0YS5sb2NhbGUgPSBsb2NhbGVcclxuXHRzdGVlZG9zRGF0YS51dGNPZmZzZXQgPSB1c2VyLnV0Y09mZnNldFxyXG5cdHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRzdGVlZG9zRGF0YS5zZXNzaW9uVXNlcklkID0gdXNlci5faWRcclxuXHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRpZiBvcHRpb25zPy5lZGl0YWJsZVxyXG5cdFx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSlcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxyXG5cclxuXHRcdFx0c3RlZWRvc0RhdGEuc3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZm9ybS5jdXJyZW50LmZpZWxkcywgZmxvdy5jdXJyZW50LnN0ZXBzKTtcclxuXHJcblx0cmV0dXJuIHN0ZWVkb3NEYXRhO1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUgPSAoZGF0ZSwgdXRjT2Zmc2V0KS0+XHJcblx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRwYXNzaW5nID0gZmFsc2U7XHJcblx0ZWxzZVxyXG5cdFx0cGFzc2luZyA9IHRydWU7XHJcblxyXG5cdGlmICF1dGNPZmZzZXQgJiYgdXRjT2Zmc2V0ICE9MFxyXG5cdFx0dXRjT2Zmc2V0ID0gOFxyXG5cclxuXHRyZXR1cm4gbW9tZW50KGRhdGUpLnV0Y09mZnNldCh1dGNPZmZzZXQsIHBhc3NpbmcpLmZvcm1hdChcIllZWVktTU0tREQgSEg6bW1cIik7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRpbnN0YW5jZVRlbXBsYXRlID0gVGVtcGxhdGVNYW5hZ2VyLmdldFRlbXBsYXRlKGluc3RhbmNlLCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUpO1xyXG5cclxuXHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZyxcImFmU2VsZWN0VXNlclJlYWRcIilcclxuXHJcblx0aWYgIW9wdGlvbnM/LmVkaXRhYmxlXHJcblx0XHRpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZkZvcm1Hcm91cC9nLFwiYWZGb3JtR3JvdXBSZWFkXCIpXHJcblxyXG5cdGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0aW5zdGFuY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJpbnN0YW5jZV9yZWFkb25seV92aWV3XCIsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0SW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmluaXQoc3RlZWRvc0RhdGEpO1xyXG5cclxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBcIlwiXCJcclxuXHRcdDxkaXYgaWQ9J2luc3RhbmNlZm9ybScgPlxyXG5cdFx0XHQje2JvZHl9XHJcblx0XHQ8L2Rpdj5cclxuXHRcIlwiXCJcclxuXHJcbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09IFwidGFibGVcIiB8fCBvcHRpb25zPy50ZW1wbGF0ZU5hbWUgPT0gXCJ0YWJsZVwiXHJcblx0XHR0cmFjZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX3RhYmxlLmh0bWwnKVxyXG5cdGVsc2VcclxuXHRcdHRyYWNlc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS90cmFjZXMuaHRtbCcpXHJcblxyXG5cdHRyYWNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0dHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XHJcblxyXG5cdFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUudHJhY2VfcmVhZG9ubHlfdmlldy5oZWxwZXJzIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcylcclxuXHJcblx0cmV0dXJuIGJvZHk7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0QXR0YWNobWVudFZpZXcgPSAodXNlciwgc3BhY2UsIGluc3RhbmNlKS0+XHJcblxyXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblxyXG5cdGF0dGFjaG1lbnRIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvaW5zdGFuY2VfYXR0YWNobWVudHMuaHRtbCcpXHJcblxyXG5cdGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0YXR0YWNobWVudFJlbmRlckZ1bmN0aW9uID0gZXZhbChhdHRhY2htZW50Q29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiYXR0YWNobWVudHNfcmVhZG9ubHlfdmlld1wiLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5oZWxwZXJzIEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXcpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3ID0gKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyktPlxyXG5cdHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblxyXG5cdHN0ZWVkb3NEYXRhLmFic29sdXRlID0gZmFsc2U7XHJcblxyXG5cdGlmIG9wdGlvbnM/LmFic29sdXRlXHJcblx0XHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvcmVsYXRlZF9pbnN0YW5jZXMuaHRtbCcpXHJcblxyXG5cdHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUocmVsYXRlZEluc3RhbmNlc0h0bWwsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblx0cmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGFcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldy5oZWxwZXJzIFJlbGF0ZWRJbnN0YW5jZXMuaGVscGVyc1xyXG5cclxuXHRib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpXHJcblxyXG5cdHJldHVybiBib2R5O1xyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHRzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKVxyXG5cclxuXHRzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xyXG5cclxuXHRpZiBvcHRpb25zPy5hYnNvbHV0ZVxyXG5cdFx0c3RlZWRvc0RhdGEuYWJzb2x1dGUgPSB0cnVlO1xyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpXHJcblxyXG5cdHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHJlbGF0ZWRSZWNvcmRzSHRtbCwge2lzQm9keTogdHJ1ZX0pO1xyXG5cclxuXHRyZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkUmVjb3Jkc0NvbXBpbGVkKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJyZWxhdGVkX3JlY29yZHNfdmlld1wiLCByZWxhdGVkUmVjb3Jkc1JlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0VGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YVxyXG5cclxuXHRUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzIFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnNcclxuXHJcblx0Ym9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnJlbGF0ZWRfcmVjb3Jkc192aWV3LCBzdGVlZG9zRGF0YSlcclxuXHJcblx0cmV0dXJuIGJvZHk7XHJcblxyXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gKGluc3RhbmNlKS0+XHJcblx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm1WZXJzaW9uKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHJcblx0Zm9ybV9zY3JpcHQgPSBmb3JtX3ZlcnNpb24uZm9ybV9zY3JpcHQ7XHJcblxyXG5cdGlmIGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLFwiXCIpLnJlcGxhY2UoL1xccy9nLFwiXCIpLmxlbmd0aCA+IDBcclxuXHRcdGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHRcclxuXHRcdGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCJcclxuXHRlbHNlXHJcblx0XHRmb3JtX3NjcmlwdCA9IFwiXCJcclxuXHJcblxyXG5cclxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9ICh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpLT5cclxuXHJcblx0Ym9keSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcclxuXHJcblx0b25Mb2FkU2NyaXB0ID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldE9uTG9hZFNjcmlwdChpbnN0YW5jZSk7XHJcblxyXG5cdGNyZWF0b3JTZXJ2aWNlID0gTWV0ZW9yLnNldHRpbmdzLnB1YmxpYy53ZWJzZXJ2aWNlcz8uY3JlYXRvcj8udXJsXHJcblx0aW5zX3JlY29yZF9pZHMgPSBpbnN0YW5jZS5yZWNvcmRfaWRzXHJcblxyXG5cdG9wZW5GaWxlU2NyaXB0ID0gXCJcIlwiXHJcblx0XHRcdGlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xyXG5cdFx0XHRcdGF0dGFjaHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zX2F0dGFjaF9ocmVmXCIpO1xyXG5cdFx0XHRcdGZvcih2YXIgaSA9IDA7IGkgPCBhdHRhY2hzLmxlbmd0aDsgaSsrKXtcclxuXHRcdFx0XHRcdGF0dGFjaCA9IGF0dGFjaHNbaV07XHJcblx0XHRcdFx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcclxuXHRcdFx0XHRcdFx0XHRlLnByZXZlbnREZWZhdWx0KCk7XHJcblx0XHRcdFx0XHRcdFx0b3BlbldpbmRvdyhcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgdGhpcy5kYXRhc2V0LmlkKTtcclxuXHRcdFx0XHRcdFx0fWVsc2UgaWYobndfY29yZS5jYW5PcGVuRmlsZSh0aGlzLmRhdGFzZXQubmFtZSkpe1xyXG5cdFx0XHRcdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcclxuXHRcdFx0XHRcdFx0XHRud19jb3JlLm9wZW5GaWxlKHRoaXMuaHJlZiwgdGhpcy5kYXRhc2V0Lm5hbWUpXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIGZsb3cgPSBcIiN7aW5zdGFuY2UuZmxvd31cIjtcclxuXHRcdFx0dmFyIHNwYWNlID0gXCIje2luc3RhbmNlLnNwYWNlfVwiO1xyXG5cclxuXHRcdFx0ZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xyXG5cdFx0XHRcdGxldCBwYXR0ZXJuID0gUmVnRXhwKG5hbWUgKyBcIj0uW147XSpcIilcclxuXHRcdFx0XHRsZXQgbWF0Y2hlZCA9IGRvY3VtZW50LmNvb2tpZS5tYXRjaChwYXR0ZXJuKVxyXG5cdFx0XHRcdGlmKG1hdGNoZWQpe1xyXG5cdFx0XHRcdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxyXG5cdFx0XHRcdFx0cmV0dXJuIGNvb2tpZVsxXVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRyZXR1cm4gJydcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0dmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFwiaW5zLXJlbGF0ZWQtcmVjb3Jkc1wiKTtcclxuXHRcdFx0Zm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xyXG5cdFx0XHRcdFx0dmFyIHJlY29yZCA9IHJlY29yZHNbaV07XHJcblx0XHRcdFx0XHRyZWNvcmQuYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdFx0XHR2YXIgY3JlYXRvclNlcnZpY2UgPSBcIiN7Y3JlYXRvclNlcnZpY2V9XCJcclxuXHRcdFx0XHRcdFx0dmFyIGluc19yZWNvcmRfaWRzID0gI3tKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcyl9XHJcblx0XHRcdFx0XHRcdGlmKGNyZWF0b3JTZXJ2aWNlICYmIGluc19yZWNvcmRfaWRzICYmIGluc19yZWNvcmRfaWRzLmxlbmd0aCA+IDApe1xyXG5cdFx0XHRcdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xyXG5cdFx0XHRcdFx0XHRcdHZhciBpZCA9IGluc19yZWNvcmRfaWRzWzBdLmlkc1swXVxyXG5cdFx0XHRcdFx0XHRcdHZhciB1b2JqID0ge307XHJcblx0XHRcdFx0XHRcdFx0dW9ialtcIlgtVXNlci1JZFwiXSA9IGdldENvb2tpZShcIlgtVXNlci1JZFwiKTtcclxuXHRcdFx0XHRcdFx0XHR1b2JqW1wiWC1BdXRoLVRva2VuXCJdID0gZ2V0Q29va2llKFwiWC1BdXRoLVRva2VuXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHJlZGlyZWN0VXJsID0gY3JlYXRvclNlcnZpY2UgKyBcImFwcC8tL1wiICsgb2JqY2V0TmFtZSArIFwiL3ZpZXcvXCIgKyBpZCArIFwiP1wiICsgJC5wYXJhbSh1b2JqKTtcclxuXHRcdFx0XHRcdFx0XHRvcGVuV2luZG93KHJlZGlyZWN0VXJsKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcIlwiXCI7XHJcblxyXG5cclxuXHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRcdGlmIGZvcm0/Lmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcclxuXHRcdFx0aW5zdGFuY2Vfc3R5bGUgPSBcImluc3RhbmNlLXRhYmxlXCJcclxuXHJcblx0aWYgb3B0aW9ucz8udGVtcGxhdGVOYW1lID09ICd0YWJsZSdcclxuXHRcdGluc3RhbmNlX3N0eWxlID0gXCJpbnN0YW5jZS10YWJsZVwiXHJcblxyXG5cdGlmIG9wdGlvbnM/Lmluc3RhbmNlX3N0eWxlXHJcblx0XHRpbnN0YW5jZV9zdHlsZSA9IG9wdGlvbnMuaW5zdGFuY2Vfc3R5bGVcclxuXHJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT0gdHJ1ZVxyXG5cdFx0dHJhY2UgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VHJhY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0dHJhY2UgPSBcIlwiXHJcblxyXG5cdGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xyXG5cclxuXHRpZiBpbnN0YW5jZSAmJiBpbnN0YW5jZS5maW5hbF9kZWNpc2lvblxyXG5cdFx0aWYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1zdWNjZXNzXCJcclxuXHRcdGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0aW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LWRhbmdlclwiXHJcblx0aWYgIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93QXR0YWNobWVudHMgPT0gdHJ1ZVxyXG5cdFx0YXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpXHJcblx0XHRyZWxhdGVkX2luc3RhbmNlcyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkSW5zdGFuY2VzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpXHJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZFJlY29yZHNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucylcclxuXHRlbHNlXHJcblx0XHRhdHRhY2htZW50ID0gXCJcIlxyXG5cdFx0cmVsYXRlZF9pbnN0YW5jZXMgPSBcIlwiXHJcblx0XHRyZWxhdGVkX3JlY29yZHMgPSBcIlwiXHJcblxyXG5cdGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKClcclxuXHJcblx0d2lkdGggPSBcIjk2MHB4XCJcclxuXHQjXHTlpoLmnpznu5l0YWJsZeeahHBhcmVudOiuvue9rndpZHRo77yM5YiZ5Lya5a+86Ie06Zi/6YeM5LqR6YKu566x5pi+56S6dGFibGUg5byC5bi4XHJcblx0aWYgb3B0aW9ucz8ud2lkdGhcclxuXHRcdHdpZHRoID0gXCJcIlxyXG5cclxuXHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIilcclxuXHJcblx0YWxsQ3NzTGluayA9IFwiXCJcIjxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBjbGFzcz1cIl9fbWV0ZW9yLWNzc19fXCIgaHJlZj1cIiN7Y3NzSHJlZn1cIj5cIlwiXCJcclxuXHJcblx0dHJhY2VDaGVjayA9IFwiXCJcclxuXHRpZiAhXy5pc0VtcHR5KHRyYWNlKVxyXG5cdFx0dHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiXHJcblx0aWYgb3B0aW9ucz8udGFnZ2VyID09ICdlbWFpbCdcclxuXHRcdHNob3dUcmFjZXNCdG4gPSBcIlwiXHJcblx0ZWxzZVxyXG5cdFx0c2hvd1RyYWNlc0J0biA9IFwiXCJcIlxyXG5cdFx0XHQ8ZGl2IGNsYXNzPVwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XCIgc3R5bGU9XCJtaW4td2lkdGg6IDYwMHB4OyB6LWluZGV4OiA5OTlcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwicHJpbnQtdG9vbFwiPlxyXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY2J4LWxhYmVsXCI+PGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1wiIGlkPVwiY2J4LXByaW50LWF0dGFjaG1lbnRzXCIgY2hlY2tlZD1cImNoZWNrZWRcIj48c3Bhbj7pmYTku7Y8L3NwYW4+PC9sYWJlbD5cclxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNieC1sYWJlbFwiPjxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cImNieC1wcmludCBjYngtcHJpbnQtdHJhY2VzXCIgaWQ9XCJjYngtcHJpbnQtdHJhY2VzXCIgY2hlY2tlZD1cIiN7dHJhY2VDaGVja31cIj48c3Bhbj4je3QoJ2luc3RhbmNlX2FwcHJvdmFsX2hpc3RvcnknKX08L3NwYW4+PC9sYWJlbD5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9kaXY+XHJcblx0XHRcdFwiXCJcIlxyXG5cclxuXHRzaG93VHJhY2VzU2NyaXB0ID0gXCJcIlwiXHJcblx0XHQkKCBkb2N1bWVudCApLnJlYWR5KGZ1bmN0aW9uKCl7XHJcblx0XHRcdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcclxuXHRcdFx0dmFyIHQgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKCdpbnN0YW5jZS10cmFjZXMnKVswXTtcclxuXHRcdFx0aWYgKGIuY2hlY2tlZCl7XHJcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBub25lOydcclxuXHRcdFx0fVxyXG5cdFx0XHRiLmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xyXG5cdFx0XHRcdGlmIChlLnRhcmdldC5jaGVja2VkKXtcclxuXHRcdFx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHR2YXIgYXR0YWNobWVudHNDaGVja2JveCA9IGRvY3VtZW50LmdldEVsZW1lbnRCeUlkKCdjYngtcHJpbnQtYXR0YWNobWVudHMnKTtcclxuXHRcdFx0dmFyIGF0dGFjaG1lbnRzVmlldyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoJ2F0dGFjaG1lbnRzLXNlY3Rpb24nKVswXTtcclxuXHRcdFx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCl7XHJcblx0XHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcclxuXHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdH1cclxuXHRcdFx0YXR0YWNobWVudHNDaGVja2JveC5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcclxuXHRcdFx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XHJcblx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xyXG5cdFx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH0pO1xyXG5cclxuXHRcIlwiXCJcclxuXHJcblx0aWYgb3B0aW9ucz8uc3R5bGVzXHJcblx0XHRhbGxDc3NMaW5rID0gXCJcIlxyXG5cclxuXHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZS5mb3JtfSk7XHJcblx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcclxuXHRpZiBmb3JtXHJcblx0XHRmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uXHJcblx0XHRpZiBmb3JtRGVzY3JpcHRpb25cclxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uID0gZm9ybURlc2NyaXB0aW9uLnJlcGxhY2UoL1xcbi9nLFwiPGJyLz5cIilcclxuXHRcdFx0Zm9ybURlc2NyaXB0aW9uSHRtbCA9IFwiXCJcIlxyXG5cdFx0XHRcdDxkaXYgY2xhc3M9XCJib3gtaGVhZGVyICB3aXRoLWJvcmRlciBpbnN0YW5jZS1oZWFkZXJcIj5cclxuXHRcdFx0XHRcdDxkaXY+XHJcblx0XHRcdFx0XHRcdCN7Zm9ybURlc2NyaXB0aW9ufVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XCJcIlwiXHJcblxyXG5cdGh0bWwgPSBcIlwiXCJcclxuXHRcdDwhRE9DVFlQRSBodG1sPlxyXG5cdFx0PGh0bWw+XHJcblx0XHRcdDxoZWFkPlxyXG5cdFx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJDb250ZW50LVR5cGVcIiBjb250ZW50PVwidGV4dC9odG1sOyBjaGFyc2V0PVVURi04XCIvPlxyXG5cdFx0XHRcdCN7YWxsQ3NzTGlua31cclxuXHRcdFx0XHQ8c2NyaXB0IHNyYz1cImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiPjwvc2NyaXB0PlxyXG5cdFx0XHRcdDxzY3JpcHQgc3JjPVwiL2pzL253X2NvcmUuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblx0XHRcdFx0I3tvcHRpb25zLnBsdWdpbnMgfHwgXCJcIn1cclxuXHJcblx0XHRcdFx0PHN0eWxlPlxyXG5cdFx0XHRcdFx0LnN0ZWVkb3N7XHJcblx0XHRcdFx0XHRcdHdpZHRoOiAje3dpZHRofTtcclxuXHRcdFx0XHRcdFx0bWFyZ2luLWxlZnQ6IGF1dG87XHJcblx0XHRcdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtbmFtZXtcclxuXHRcdFx0XHRcdFx0ZGlzcGxheTogaW5saW5lICFpbXBvcnRhbnRcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdC5ib3gtdG9vbHN7XHJcblx0XHRcdFx0XHRcdGRpc3BsYXk6IG5vbmU7XHJcblx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHQuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1ib2R5LC5ib3guY29sbGFwc2VkLWJveCAuYm94LWZvb3RlciB7XHJcblx0XHRcdFx0XHQgIGRpc3BsYXk6IGJsb2NrO1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdGJvZHl7XHJcblx0XHRcdFx0XHRcdGJhY2tncm91bmQ6IGF6dXJlICFpbXBvcnRhbnQ7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLXRyYWNlc3tcclxuXHRcdFx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xyXG5cdFx0XHRcdFx0XHRwYWRkaW5nLXJpZ2h0OiAxNXB4O1xyXG5cdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdCN7b3B0aW9ucz8uc3R5bGVzIHx8IFwiXCJ9XHJcblx0XHRcdFx0PC9zdHlsZT5cclxuXHRcdFx0PC9oZWFkPlxyXG5cdFx0XHQ8Ym9keT5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInNraW4tZ3JlZW4gc2tpbi1hZG1pbi1sdGVcIj5cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cIndyYXBwZXJcIj5cclxuXHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29udGVudC13cmFwcGVyXCI+XHJcblx0XHRcdFx0XHRcdFx0XHQje3Nob3dUcmFjZXNCdG59XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtcHJpbnRcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlICN7aW5zdGFuY2Vfc3R5bGV9XCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGZvcm0gbmFtZT1cImluc3RhbmNlRm9ybVwiPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImluc3RhbmNlLWZvcm0gYm94ICN7aW5zdGFuY2VCb3hTdHlsZX1cIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tmb3JtRGVzY3JpcHRpb25IdG1sfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYm94LWJvZHlcIj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiY29sLW1kLTEyXCI+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3thdHRhY2htZW50fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfaW5zdGFuY2VzfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQje3JlbGF0ZWRfcmVjb3Jkc31cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0I3tib2R5fVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZm9ybT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHQje3RyYWNlfVxyXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHJcblx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0PC9ib2R5PlxyXG5cdFx0XHQ8c2NyaXB0PiN7b3BlbkZpbGVTY3JpcHR9OyN7b25Mb2FkU2NyaXB0fTsje3Nob3dUcmFjZXNTY3JpcHR9PC9zY3JpcHQ+XHJcblx0XHQ8L2h0bWw+XHJcblx0XCJcIlwiXHJcblxyXG5cdHJldHVybiBodG1sIiwidmFyIF9nZXRMb2NhbGUsIF9nZXRSZXF1aXJlZEZpZWxkcywgX2dldFN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzLCBfZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMsIF9nZXRUZW1wbGF0ZURhdGEsIF9nZXRWaWV3SHRtbCwgZ2V0TGlua1RleHQ7ICAgICAgICAgICAgICAgICAgICAgICAgICBcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlID0ge307XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbnN0YW5jZV9hdHRhY2htZW50ID0gXCI8dHI+XFxuXHQ8dGQgY2xhc3M9XFxcImlucy1hdHRhY2gtdmlld1xcXCI+XFxuXHRcdDxhIGhyZWY9XFxcInt7aW5zX2F0dGFjaF9kb3dubG9hZF91cmwgX2lkIGFic29sdXRlfX1cXFwiIGNsYXNzPVxcXCJpbnNfYXR0YWNoX2hyZWZcXFwiIHRhcmdldD1cXFwiX3BhcmVudFxcXCIgZGF0YS1uYW1lPVxcXCJ7e3RoaXMubmFtZX19XFxcIiBkYXRhLXR5cGU9XFxcInt7dGhpcy5vcmlnaW5hbC50eXBlfX1cXFwiIGRhdGEtaWQ9XFxcInt7X2lkfX1cXFwiPnt7dGhpcy5uYW1lfX08L2E+XFxuXHQ8L3RkPlxcbjwvdHI+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZlNlbGVjdFVzZXJSZWFkID0gXCI8ZGl2IGNsYXNzPSdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50Jz57e3ZhbHVlfX08L2Rpdj5cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmFmRm9ybUdyb3VwUmVhZCA9IFwiPGRpdiBjbGFzcz0nZm9ybS1ncm91cCc+XFxuXHR7eyN3aXRoIGdldEZpZWxkIHRoaXMubmFtZX19XFxuXHRcdHt7I2lmIGVxdWFscyB0eXBlICdzZWN0aW9uJ319XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdzZWN0aW9uIGNhbGxvdXQgY2FsbG91dC1kZWZhdWx0Jz5cXG5cdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2ZfbGFiZWwgdGhpc319PC9sYWJlbD5cXG5cdFx0XHRcdFx0PHA+e3t7ZGVzY3JpcHRpb259fX08L3A+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0e3tlbHNlfX1cXG5cdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAndGFibGUnfX1cXG5cdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsIHBhbmVsLWRlZmF1bHQgc3RlZWRvcy10YWJsZVxcXCI+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWJvZHlcXFwiIHN0eWxlPVxcXCJwYWRkaW5nOjBweDtcXFwiPlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInBhbmVsLWhlYWRpbmdcXFwiID5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz0nY29udHJvbC1sYWJlbCc+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9XFxcImRlc2NyaXB0aW9uXFxcIj57e3tkZXNjcmlwdGlvbn19fTwvc3Bhbj5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJyZWFkb25seS10YWJsZVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O292ZXJmbG93LXg6YXV0bztcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8dGFibGUgdHlwZT0ndGFibGUnIGNsYXNzPVxcXCJ0YWJsZSB0YWJsZS1ib3JkZXJlZCB0YWJsZS1jb25kZW5zZWQgYXV0b2Zvcm0tdGFibGVcXFwiIHN0eWxlPSdtYXJnaW4tYm90dG9tOjBweDsnIHt7dGhpcy5hdHRzfX0gaWQ9XFxcInt7dGhpcy5jb2RlfX1UYWJsZVxcXCIgbmFtZT1cXFwie3t0aGlzLmNvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e3RoaXMubmFtZX19XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGhlYWQgaWQ9XFxcInt7dGhpcy5uYW1lfX1UaGVhZFxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlVGhlYWQgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGhlYWQ+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PHRib2R5IGlkPVxcXCJ7e3RoaXMubmFtZX19VGJvZHlcXFwiIG5hbWU9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e3tnZXRUYWJsZUJvZHkgdGhpc319fVxcblx0XHRcdFx0XHRcdFx0XHRcdDwvdGJvZHk+XFxuXHRcdFx0XHRcdFx0XHRcdDwvdGFibGU+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdHt7I2lmIHNob3dMYWJlbH19XFxuXHRcdFx0XHRcdDxsYWJlbD57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdHt7L2lmfX1cXG5cdFx0e3svaWZ9fVxcblx0e3svd2l0aH19XFxuPC9kaXY+XCI7XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5hZkZvcm1Hcm91cCA9IFwiXFxue3sjd2l0aCBnZXRGaWVsZCB0aGlzLm5hbWV9fVxcblx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VjdGlvbid9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0nc2VjdGlvbiBjYWxsb3V0IGNhbGxvdXQtZGVmYXVsdCc+XFxuXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tmX2xhYmVsIHRoaXN9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdDxwPnt7e2Rlc2NyaXB0aW9ufX19PC9wPlxcblx0XHRcdFx0PC9kaXY+XFxuICBcdFx0XHRcdDwvZGl2Plxcblx0XHR7e2Vsc2V9fVxcblx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICd0YWJsZSd9fVxcblx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwgcGFuZWwtZGVmYXVsdCBzdGVlZG9zLXRhYmxlXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtYm9keVxcXCIgc3R5bGU9XFxcInBhZGRpbmc6MHB4O1xcXCI+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwicGFuZWwtaGVhZGluZ1xcXCIgPlxcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPSdjb250cm9sLWxhYmVsJz57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cXFwiZGVzY3JpcHRpb25cXFwiPnt7e2Rlc2NyaXB0aW9ufX19PC9zcGFuPlxcblx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcInJlYWRvbmx5LXRhYmxlXFxcIiBzdHlsZT1cXFwicGFkZGluZzowcHg7b3ZlcmZsb3cteDphdXRvO1xcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDx0YWJsZSB0eXBlPSd0YWJsZScgY2xhc3M9XFxcInRhYmxlIHRhYmxlLWJvcmRlcmVkIHRhYmxlLWNvbmRlbnNlZCBhdXRvZm9ybS10YWJsZVxcXCIgc3R5bGU9J21hcmdpbi1ib3R0b206MHB4Oycge3t0aGlzLmF0dHN9fSBpZD1cXFwie3t0aGlzLmNvZGV9fVRhYmxlXFxcIiBuYW1lPVxcXCJ7e3RoaXMuY29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7dGhpcy5uYW1lfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDx0aGVhZCBpZD1cXFwie3t0aGlzLm5hbWV9fVRoZWFkXFxcIiBuYW1lPVxcXCJ7e3RoaXMubmFtZX19VGhlYWRcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0e3t7Z2V0VGFibGVUaGVhZCB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90aGVhZD5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8dGJvZHkgaWQ9XFxcInt7dGhpcy5uYW1lfX1UYm9keVxcXCIgbmFtZT1cXFwie3t0aGlzLm5hbWV9fVRib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7e2dldFRhYmxlQm9keSB0aGlzfX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0PC90Ym9keT5cXG5cdFx0XHRcdFx0XHRcdFx0PC90YWJsZT5cXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2lucHV0J319XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiIGRhdGEtcmVxdWlyZWQ9XFxcInt7I2lmIGlzX3JlcXVpcmVkfX10cnVle3svaWZ9fVxcXCI+XFxuXHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIHt7Z2V0UGVybWlzc2lvbnMgY29kZX19IGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdudW1iZXInfX1cXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcIm51bWJlclxcXCIgdGl0bGU9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBuYW1lPVxcXCJ7e2NvZGV9fVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGUnfX1cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInRleHRcXFwiIHRpdGxlPVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtdHlwZT1cXFwiZGF0ZVxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCIgY2xhc3M9XFxcImZvcm0tY29udHJvbFxcXCI+XFxuXHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ2RhdGVUaW1lJ319XFxuXHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdDxpbnB1dCB0eXBlPVxcXCJ0ZXh0XFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXR5cGU9J2RhdGV0aW1lJyBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAncGFzc3dvcmQnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcInBhc3N3b3JkXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnc2VsZWN0J319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxzZWxlY3QgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIGNsYXNzPVxcXCJmb3JtLWNvbnRyb2xcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2VhY2ggb3B0aW9ucyB0aGlzfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxvcHRpb24gdmFsdWU9XFxcInt7dmFsdWV9fVxcXCI+e3tsYWJlbH19PC9vcHRpb24+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svZWFjaH19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvc2VsZWN0Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3tlbHNlfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHt7I2lmIGVxdWFscyB0eXBlICdyYWRpbyd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgZm9yPVxcXCI3WlFuRHNYQkdvaFpNZXRBNVxcXCIgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7Z2V0TGFiZWwgY29kZX19PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJhZi1yYWRpby1ncm91cFxcXCIgZGF0YS1zY2hlbWEta2V5PVxcXCJ7e2dldExhYmVsIGNvZGV9fVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuICAgICAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcInJhZGlvLWlubGluZSBmaXgtaW5kZW50XFxcIj48aW5wdXQgdHlwZT1cXFwicmFkaW9cXFwiIHZhbHVlPVxcXCJ7e3ZhbHVlfX1cXFwiIG5hbWU9XFxcInt7Li4vY29kZX19XFxcIiBjbGFzcz1cXFwicmFkaW8taW5saW5lIGZpeC1pbmRlbnRcXFwiPiB7e2xhYmVsfX08L2xhYmVsPlxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcbiAgICBcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnbXVsdGlTZWxlY3QnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiYWYtY2hlY2tib3gtZ3JvdXBcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNlYWNoIG9wdGlvbnMgdGhpc319XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY2hlY2tib3gtaW5saW5lIGZpeC1pbmRlbnRcXFwiPjxpbnB1dCB0eXBlPVxcXCJjaGVja2JveFxcXCIgdmFsdWU9XFxcInt7dmFsdWV9fVxcXCIgbmFtZT1cXFwie3suLi9jb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+IHt7bGFiZWx9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7L2VhY2h9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3sjaWYgZXF1YWxzIHR5cGUgJ3VybCd9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8aW5wdXQgdHlwZT1cXFwidXJsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdHt7ZWxzZX19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnZW1haWwnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGlucHV0IHR5cGU9XFxcImVtYWlsXFxcIiB0aXRsZT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiIG5hbWU9XFxcInt7Y29kZX19XFxcIiBkYXRhLXNjaGVtYS1rZXk9XFxcInt7Z2V0TGFiZWwgY29kZX19XFxcIiBjbGFzcz1cXFwiZm9ybS1jb250cm9sXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7eyNpZiBlcXVhbHMgdHlwZSAnY2hlY2tib3gnfX1cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJmb3JtLWdyb3VwXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxsYWJlbCBmb3I9XFxcIjdaUW5Ec1hCR29oWk1ldEE1XFxcIiBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3tnZXRMYWJlbCBjb2RlfX08L2xhYmVsPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY2hlY2tib3hcXFwiIGRhdGEtc2NoZW1hLWtleT1cXFwie3tnZXRMYWJlbCBjb2RlfX1cXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8bGFiZWwgc3R5bGU9XFxcIndpZHRoOiAxMDAlO1xcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiB2YWx1ZT1cXFwidHJ1ZVxcXCIgbmFtZT1cXFwie3tjb2RlfX1cXFwiIGNsYXNzPVxcXCJjaGVja2JveC1pbmxpbmUgZml4LWluZGVudFxcXCI+PC9sYWJlbD5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7e2Vsc2V9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImZvcm0tZ3JvdXBcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGxhYmVsIGZvcj1cXFwiN1pRbkRzWEJHb2haTWV0QTVcXFwiIGNsYXNzPVxcXCJjb250cm9sLWxhYmVsXFxcIj57e2dldExhYmVsIGNvZGV9fTwvbGFiZWw+XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSd7e2dldENmQ2xhc3MgdGhpc319IGZvcm0tY29udHJvbCcgcmVhZG9ubHkgZGlzYWJsZWQ+e3t7Z2V0VmFsdWUgY29kZX19fTwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHRcdFx0e3svaWZ9fVxcblx0XHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0XHR7ey9pZn19XFxuXHRcdFx0e3svaWZ9fVxcblx0XHR7ey9pZn19XFxuXHR7ey93aXRofX1cIjtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZSA9IGZ1bmN0aW9uKHRlbXBhbHRlTmFtZSwgc3RlZWRvc0RhdGEpIHtcbiAgdmFyIHRlbXBsYXRlLCB0ZW1wbGF0ZUNvbXBpbGVkLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uO1xuICB0ZW1wbGF0ZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZVt0ZW1wYWx0ZU5hbWVdO1xuICB0ZW1wbGF0ZUNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdGVtcGxhdGVSZW5kZXJGdW5jdGlvbiA9IGV2YWwodGVtcGxhdGVDb21waWxlZCk7XG4gIFRlbXBsYXRlW3RlbXBhbHRlTmFtZV0gPSBuZXcgQmxhemUuVGVtcGxhdGUodGVtcGFsdGVOYW1lLCB0ZW1wbGF0ZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGVbdGVtcGFsdGVOYW1lXS5oZWxwZXJzKEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMpO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQgPSBmdW5jdGlvbihzdGVlZG9zRGF0YSkge1xuICB2YXIgaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkLCBpbnN0YW5jZVNpZ25UZXh0SHRtbCwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uO1xuICBpbnN0YW5jZVNpZ25UZXh0SHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2luc3RhbmNlX3NpZ25fdGV4dC5odG1sJyk7XG4gIGluc3RhbmNlU2lnblRleHRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW5zdGFuY2VTaWduVGV4dEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlU2lnblRleHRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoaW5zdGFuY2VTaWduVGV4dENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dCA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImluc3RhbmNlU2lnblRleHRcIiwgaW5zdGFuY2VTaWduVGV4dFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzKEluc3RhbmNlU2lnblRleHQuaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlSW1hZ2VTaWduID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgdmFyIGltYWdlU2lnbkNvbXBpbGVkLCBpbWFnZVNpZ25IdG1sLCBpbWFnZVNpZ25SZW5kZXJGdW5jdGlvbjtcbiAgaW1hZ2VTaWduSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL2ltYWdlX3NpZ24uaHRtbCcpO1xuICBpbWFnZVNpZ25Db21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoaW1hZ2VTaWduSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgaW1hZ2VTaWduUmVuZGVyRnVuY3Rpb24gPSBldmFsKGltYWdlU2lnbkNvbXBpbGVkKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW1hZ2VTaWduXCIsIGltYWdlU2lnblJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW1hZ2VTaWduLnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIHJldHVybiBUZW1wbGF0ZS5pbWFnZVNpZ24uaGVscGVycyhJbWFnZVNpZ24uaGVscGVycyk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlVHJhY2VzSGFubGRlciA9IGZ1bmN0aW9uKHN0ZWVkb3NEYXRhKSB7XG4gIHZhciB0cmFjZXNIYW5sZGVyQ29tcGlsZWQsIHRyYWNlc0hhbmxkZXJIdG1sLCB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb247XG4gIHRyYWNlc0hhbmxkZXJIdG1sID0gX2dldFZpZXdIdG1sKCdjbGllbnQvdmlld3MvaW5zdGFuY2UvdHJhY2VzX2hhbmRsZXIuaHRtbCcpO1xuICB0cmFjZXNIYW5sZGVyQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKHRyYWNlc0hhbmxkZXJIdG1sLCB7XG4gICAgaXNCb2R5OiB0cnVlXG4gIH0pO1xuICB0cmFjZXNIYW5sZGVyUmVuZGVyRnVuY3Rpb24gPSBldmFsKHRyYWNlc0hhbmxkZXJDb21waWxlZCk7XG4gIFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXJcIiwgdHJhY2VzSGFubGRlclJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfdHJhY2VzX2hhbmRsZXIuc3RlZWRvc0RhdGEgPSBzdGVlZG9zRGF0YTtcbiAgcmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlX3RyYWNlc19oYW5kbGVyLmhlbHBlcnMoVHJhY2VzSGFuZGxlci5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0ID0gZnVuY3Rpb24oc3RlZWRvc0RhdGEpIHtcbiAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmU2VsZWN0VXNlclJlYWRcIiwgc3RlZWRvc0RhdGEpO1xuICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZShcImFmRm9ybUdyb3VwXCIsIHN0ZWVkb3NEYXRhKTtcbiAgfVxuICBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuY3JlYXRlKFwiYWZGb3JtR3JvdXBSZWFkXCIsIHN0ZWVkb3NEYXRhKTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGUoXCJpbnN0YW5jZV9hdHRhY2htZW50XCIsIHtcbiAgICAgIGFic29sdXRlOiBzdGVlZG9zRGF0YS5hYnNvbHV0ZVxuICAgIH0pO1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVJbWFnZVNpZ24oc3RlZWRvc0RhdGEpO1xuICAgIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5jcmVhdGVUcmFjZXNIYW5sZGVyKHN0ZWVkb3NEYXRhKTtcbiAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmNyZWF0ZUluc3RhbmNlU2lnblRleHQoc3RlZWRvc0RhdGEpO1xuICB9XG59O1xuXG5nZXRMaW5rVGV4dCA9IGZ1bmN0aW9uKGl0ZW0sIGxhYmVsLCBkZXRhaWxfdXJsKSB7XG4gIGlmIChkZXRhaWxfdXJsKSB7XG4gICAgZGV0YWlsX3VybCA9IGRldGFpbF91cmwucmVwbGFjZShcIntfaWR9XCIsIGl0ZW0uX2lkKTtcbiAgICBpZiAoIS9eaHR0cChzPyk6XFwvXFwvLy50ZXN0KGRldGFpbF91cmwpKSB7XG4gICAgICBkZXRhaWxfdXJsID0gU3RlZWRvcy5hYnNvbHV0ZVVybChkZXRhaWxfdXJsKTtcbiAgICB9XG4gICAgcmV0dXJuICc8YSBocmVmPVwiJyArIGRldGFpbF91cmwgKyAnXCIgdGFyZ2V0PVwiX2JsYW5rXCI+JyArIGxhYmVsICsgJzwvYT4nO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBsYWJlbDtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlID0gZnVuY3Rpb24odmFsdWUsIGZpZWxkLCBsb2NhbGUsIHV0Y09mZnNldCkge1xuICB2YXIgZGF0ZSwgZGV0YWlsX3VybCwgZSwgaG91cnMsIG1vbnRoLCBzZWNvbmRzLCB0LCB0MCwgdDEsIHllYXI7XG4gIGlmICghdmFsdWUgJiYgdmFsdWUgIT09IGZhbHNlKSB7XG4gICAgcmV0dXJuICcnO1xuICB9XG4gIHN3aXRjaCAoZmllbGQudHlwZSkge1xuICAgIGNhc2UgJ2VtYWlsJzpcbiAgICAgIHZhbHVlID0gdmFsdWUgPyAnPGEgaHJlZj1cXCdtYWlsdG86JyArIHZhbHVlICsgJ1xcJz4nICsgdmFsdWUgKyAnPC9hPicgOiAnJztcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VybCc6XG4gICAgICBpZiAodmFsdWUpIHtcbiAgICAgICAgaWYgKHZhbHVlLmluZGV4T2YoXCJodHRwXCIpID09PSAwKSB7XG4gICAgICAgICAgdHJ5IHtcbiAgICAgICAgICAgIHZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSAnJztcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgIGlmIChmaWVsZC5pc19tdWx0aXNlbGVjdCkge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpLnRvU3RyaW5nKCkgOiB2b2lkIDA7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3VzZXInOlxuICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XG4gICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpIDogdm9pZCAwO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSB2YWx1ZSAhPSBudWxsID8gdmFsdWUubmFtZSA6IHZvaWQgMDtcbiAgICAgIH1cbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ3Bhc3N3b3JkJzpcbiAgICAgIHZhbHVlID0gJyoqKioqKic7XG4gICAgICBicmVhaztcbiAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICBpZiAodmFsdWUgJiYgdmFsdWUgIT09ICdmYWxzZScpIHtcbiAgICAgICAgdmFsdWUgPSBUQVBpMThuLl9fKFwiZm9ybV9maWVsZF9jaGVja2JveF95ZXNcIiwge30sIGxvY2FsZSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnZGF0ZVRpbWUnOlxuICAgICAgaWYgKHZhbHVlICYmIHZhbHVlLmxlbmd0aCA9PT0gMTYpIHtcbiAgICAgICAgdCA9IHZhbHVlLnNwbGl0KFwiVFwiKTtcbiAgICAgICAgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcbiAgICAgICAgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcbiAgICAgICAgeWVhciA9IHQwWzBdO1xuICAgICAgICBtb250aCA9IHQwWzFdO1xuICAgICAgICBkYXRlID0gdDBbMl07XG4gICAgICAgIGhvdXJzID0gdDFbMF07XG4gICAgICAgIHNlY29uZHMgPSB0MVsxXTtcbiAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpO1xuICAgICAgfVxuICAgICAgdmFsdWUgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSh2YWx1ZSwgdXRjT2Zmc2V0KTtcbiAgICAgIGJyZWFrO1xuICAgIGNhc2UgJ2lucHV0JzpcbiAgICAgIGlmIChmaWVsZC5pc190ZXh0YXJlYSkge1xuICAgICAgICB2YWx1ZSA9IFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKHZhbHVlKSk7XG4gICAgICB9XG4gICAgICBicmVhaztcbiAgICBjYXNlICdudW1iZXInOlxuICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09PSAwKSB7XG4gICAgICAgIGlmICh0eXBlb2YgdmFsdWUgPT09ICdzdHJpbmcnKSB7XG4gICAgICAgICAgdmFsdWUgPSBwYXJzZUZsb2F0KHZhbHVlKTtcbiAgICAgICAgfVxuICAgICAgICB2YWx1ZSA9IHZhbHVlLnRvRml4ZWQoZmllbGQuZGlnaXRzKTtcbiAgICAgICAgdmFsdWUgPSBTdGVlZG9zLm51bWJlclRvU3RyaW5nKHZhbHVlLCBsb2NhbGUpO1xuICAgICAgfVxuICAgICAgYnJlYWs7XG4gICAgY2FzZSAnb2RhdGEnOlxuICAgICAgZGV0YWlsX3VybCA9IGZpZWxkLmRldGFpbF91cmw7XG4gICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcbiAgICAgICAgdmFsdWUgPSBfLm1hcCh2YWx1ZSwgZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICAgIHJldHVybiBnZXRMaW5rVGV4dChpdGVtLCBpdGVtWydAbGFiZWwnXSwgZGV0YWlsX3VybCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdmFsdWUgPSBnZXRMaW5rVGV4dCh2YWx1ZSwgdmFsdWVbJ0BsYWJlbCddLCBkZXRhaWxfdXJsKTtcbiAgICAgIH1cbiAgfVxuICByZXR1cm4gdmFsdWU7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgPSBmdW5jdGlvbihmaWVsZHMsIGNvZGUpIHtcbiAgdmFyIGZpZWxkO1xuICBmaWVsZCA9IGZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKTtcbiAgaWYgKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLm5hbWUpIHtcbiAgICAgIHJldHVybiBmaWVsZC5uYW1lO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmllbGQuY29kZTtcbiAgICB9XG4gIH1cbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm0sIGZvcm1fZmllbGRzLCBmb3JtX3ZlcnNpb247XG4gIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xuICBmb3JtX3ZlcnNpb24gPSB7fTtcbiAgZm9ybV9maWVsZHMgPSBbXTtcbiAgaWYgKGZvcm0uY3VycmVudC5faWQgPT09IGluc3RhbmNlLmZvcm1fdmVyc2lvbikge1xuICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudDtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBfLndoZXJlKGZvcm0uaGlzdG9yeXMsIHtcbiAgICAgIF9pZDogaW5zdGFuY2UuZm9ybV92ZXJzaW9uXG4gICAgfSlbMF07XG4gIH1cbiAgZm9ybV92ZXJzaW9uLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKGZpZWxkLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICBpZiAoZmllbGQuZmllbGRzKSB7XG4gICAgICAgIHJldHVybiBmaWVsZC5maWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICAgICAgcmV0dXJuIGZvcm1fZmllbGRzLnB1c2goZik7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgZmllbGRbJ3NmaWVsZHMnXSA9IGZpZWxkWydmaWVsZHMnXTtcbiAgICAgIGRlbGV0ZSBmaWVsZFsnZmllbGRzJ107XG4gICAgICByZXR1cm4gZm9ybV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmb3JtX2ZpZWxkcy5wdXNoKGZpZWxkKTtcbiAgICB9XG4gIH0pO1xuICBmb3JtX3ZlcnNpb24uZmllbGRzID0gZm9ybV9maWVsZHM7XG4gIHJldHVybiBmb3JtX3ZlcnNpb247XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24gPSBmdW5jdGlvbihpbnN0YW5jZSkge1xuICB2YXIgZmxvdywgZmxvd192ZXJzaW9uO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZShpbnN0YW5jZS5mbG93KTtcbiAgZmxvd192ZXJzaW9uID0ge307XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBpbnN0YW5jZS5mbG93X3ZlcnNpb24pIHtcbiAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gIH0gZWxzZSB7XG4gICAgZmxvd192ZXJzaW9uID0gXy53aGVyZShmbG93Lmhpc3RvcnlzLCB7XG4gICAgICBfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvblxuICAgIH0pWzBdO1xuICB9XG4gIHJldHVybiBmbG93X3ZlcnNpb247XG59O1xuXG5fZ2V0Vmlld0h0bWwgPSBmdW5jdGlvbihwYXRoKSB7XG4gIHZhciB2aWV3SHRtbDtcbiAgdmlld0h0bWwgPSBBc3NldHMuZ2V0VGV4dChwYXRoKTtcbiAgaWYgKHZpZXdIdG1sKSB7XG4gICAgdmlld0h0bWwgPSB2aWV3SHRtbC5yZXBsYWNlKC88dGVtcGxhdGVbXFx3XFxzXFxcIlxcPSddKz4vaSwgXCJcIikucmVwbGFjZSgvPFxcL3RlbXBsYXRlPi9pLCBcIlwiKTtcbiAgfVxuICByZXR1cm4gdmlld0h0bWw7XG59O1xuXG5fZ2V0TG9jYWxlID0gZnVuY3Rpb24odXNlcikge1xuICB2YXIgbG9jYWxlLCByZWYsIHJlZjE7XG4gIGlmICgodXNlciAhPSBudWxsID8gKHJlZiA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDAgOiB2b2lkIDApID09PSAnemgtY24nKSB7XG4gICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICB9IGVsc2UgaWYgKCh1c2VyICE9IG51bGwgPyAocmVmMSA9IHVzZXIubG9jYWxlKSAhPSBudWxsID8gcmVmMS50b0xvY2FsZUxvd2VyQ2FzZSgpIDogdm9pZCAwIDogdm9pZCAwKSA9PT0gJ2VuLXVzJykge1xuICAgIGxvY2FsZSA9IFwiZW5cIjtcbiAgfSBlbHNlIHtcbiAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gIH1cbiAgcmV0dXJuIGxvY2FsZTtcbn07XG5cbl9nZXRSZXF1aXJlZEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcywgcmV2KSB7XG4gIGlmICghcmV2KSB7XG4gICAgcmV2ID0gW107XG4gIH1cbiAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQpIHtcbiAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICByZXR1cm4gX2dldFJlcXVpcmVkRmllbGRzKGZpZWxkLmZpZWxkcywgcmV2KTtcbiAgICB9IGVsc2UgaWYgKGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcblxuICAgIH0gZWxzZSB7XG4gICAgICBpZiAoZmllbGQuaXNfcmVxdWlyZWQpIHtcbiAgICAgICAgcmV0dXJuIHJldi5wdXNoKGZpZWxkLmNvZGUpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIHJldHVybiByZXY7XG59O1xuXG5fZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHN0YXJ0U3RlcDtcbiAgc3RhcnRTdGVwID0gc3RlcHMuZmluZFByb3BlcnR5QnlQSyhcInN0ZXBfdHlwZVwiLCBcInN0YXJ0XCIpO1xuICBlZGl0YWJsZUNvZGUgPSBbXTtcbiAgXy5rZXlzKHN0YXJ0U3RlcC5wZXJtaXNzaW9ucykuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICBpZiAoc3RhcnRTdGVwLnBlcm1pc3Npb25zW2tleV0gPT09ICdlZGl0YWJsZScpIHtcbiAgICAgIHJldHVybiBlZGl0YWJsZUNvZGUucHVzaChrZXkpO1xuICAgIH1cbiAgfSk7XG4gIHJldHVybiBlZGl0YWJsZUNvZGU7XG59O1xuXG5fZ2V0U3RhcnRTdGVwUmVxdWlyZWRGaWVsZHMgPSBmdW5jdGlvbihmaWVsZHMsIHN0ZXBzKSB7XG4gIHZhciBlZGl0YWJsZUNvZGUsIHJlcXVpcmVkRmllbGRzO1xuICByZXF1aXJlZEZpZWxkcyA9IF9nZXRSZXF1aXJlZEZpZWxkcyhmaWVsZHMpO1xuICBlZGl0YWJsZUNvZGUgPSBfZ2V0U3RhcnRTdGVwRWRpdGFibGVGaWVsZHMoZmllbGRzLCBzdGVwcyk7XG4gIHJldHVybiBfLmludGVyc2VjdGlvbihyZXF1aXJlZEZpZWxkcywgZWRpdGFibGVDb2RlKTtcbn07XG5cbl9nZXRUZW1wbGF0ZURhdGEgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGZsb3csIGZvcm0sIGZvcm1fdmVyc2lvbiwgbG9jYWxlLCBzdGVlZG9zRGF0YTtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGZvcm1fdmVyc2lvbiA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKGluc3RhbmNlKTtcbiAgfSBlbHNlIHtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbihpbnN0YW5jZSk7XG4gIH1cbiAgbG9jYWxlID0gX2dldExvY2FsZSh1c2VyKTtcbiAgc3RlZWRvc0RhdGEgPSB7fTtcbiAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgIHN0ZWVkb3NEYXRhID0gXy5jbG9uZShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCkpO1xuICAgIHN0ZWVkb3NEYXRhLmluc25hbWUgPSBpbnN0YW5jZS5uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmluc19zdGF0ZSA9IGluc3RhbmNlLnN0YXRlO1xuICAgIHN0ZWVkb3NEYXRhLmluc19maW5hbF9kZWNpc2lvbiA9IGluc3RhbmNlLmluc19maW5hbF9kZWNpc2lvbjtcbiAgICBzdGVlZG9zRGF0YS5pbnNfY29kZSA9IGluc3RhbmNlLmNvZGU7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2FyY2hpdmVkID0gaW5zdGFuY2UuaXNfYXJjaGl2ZWQ7XG4gICAgc3RlZWRvc0RhdGEuaW5zX2lzX2RlbGV0ZWQgPSBpbnN0YW5jZS5pbnNfaXNfZGVsZXRlZDtcbiAgICBzdGVlZG9zRGF0YS5hcHBsaWNhbnRfbmFtZSA9IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lO1xuICAgIHN0ZWVkb3NEYXRhLmFwcGxpY2FudENvbnRleHQgPSBpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZTtcbiAgfVxuICBzdGVlZG9zRGF0YS5pbnN0YW5jZSA9IGluc3RhbmNlO1xuICBzdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb24gPSBmb3JtX3ZlcnNpb247XG4gIHN0ZWVkb3NEYXRhLmxvY2FsZSA9IGxvY2FsZTtcbiAgc3RlZWRvc0RhdGEudXRjT2Zmc2V0ID0gdXNlci51dGNPZmZzZXQ7XG4gIHN0ZWVkb3NEYXRhLnNwYWNlID0gaW5zdGFuY2Uuc3BhY2U7XG4gIHN0ZWVkb3NEYXRhLnNlc3Npb25Vc2VySWQgPSB1c2VyLl9pZDtcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIGlmIChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSB7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZm9ybVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2UuZmxvd1xuICAgICAgfSk7XG4gICAgICBzdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyA9IF9nZXRTdGFydFN0ZXBFZGl0YWJsZUZpZWxkcyhmb3JtLmN1cnJlbnQuZmllbGRzLCBmbG93LmN1cnJlbnQuc3RlcHMpO1xuICAgIH1cbiAgfVxuICByZXR1cm4gc3RlZWRvc0RhdGE7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZm9ybWF0RGF0ZSA9IGZ1bmN0aW9uKGRhdGUsIHV0Y09mZnNldCkge1xuICB2YXIgcGFzc2luZztcbiAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgIHBhc3NpbmcgPSBmYWxzZTtcbiAgfSBlbHNlIHtcbiAgICBwYXNzaW5nID0gdHJ1ZTtcbiAgfVxuICBpZiAoIXV0Y09mZnNldCAmJiB1dGNPZmZzZXQgIT09IDApIHtcbiAgICB1dGNPZmZzZXQgPSA4O1xuICB9XG4gIHJldHVybiBtb21lbnQoZGF0ZSkudXRjT2Zmc2V0KHV0Y09mZnNldCwgcGFzc2luZykuZm9ybWF0KFwiWVlZWS1NTS1ERCBISDptbVwiKTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZVZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGluc3RhbmNlQ29tcGlsZWQsIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24sIGluc3RhbmNlVGVtcGxhdGUsIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgc3RlZWRvc0RhdGEuYWJzb2x1dGUgPSBmYWxzZTtcbiAgaWYgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuYWJzb2x1dGUgOiB2b2lkIDApIHtcbiAgICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IHRydWU7XG4gIH1cbiAgaW5zdGFuY2VUZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShpbnN0YW5jZSwgb3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50ZW1wbGF0ZU5hbWUgOiB2b2lkIDApO1xuICBpbnN0YW5jZVRlbXBsYXRlID0gaW5zdGFuY2VUZW1wbGF0ZS5yZXBsYWNlKC9hZlNlbGVjdFVzZXIvZywgXCJhZlNlbGVjdFVzZXJSZWFkXCIpO1xuICBpZiAoIShvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLmVkaXRhYmxlIDogdm9pZCAwKSkge1xuICAgIGluc3RhbmNlVGVtcGxhdGUgPSBpbnN0YW5jZVRlbXBsYXRlLnJlcGxhY2UoL2FmRm9ybUdyb3VwL2csIFwiYWZGb3JtR3JvdXBSZWFkXCIpO1xuICB9XG4gIGluc3RhbmNlQ29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKGluc3RhbmNlVGVtcGxhdGUsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGluc3RhbmNlUmVuZGVyRnVuY3Rpb24gPSBldmFsKGluc3RhbmNlQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwiaW5zdGFuY2VfcmVhZG9ubHlfdmlld1wiLCBpbnN0YW5jZVJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuaW5zdGFuY2VfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5pbnN0YW5jZV9yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyk7XG4gIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5pbml0KHN0ZWVkb3NEYXRhKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLmluc3RhbmNlX3JlYWRvbmx5X3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIFwiPGRpdiBpZD0naW5zdGFuY2Vmb3JtJyA+XFxuXHRcIiArIGJvZHkgKyBcIlxcbjwvZGl2PlwiO1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFRyYWNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIGZvcm0sIHN0ZWVkb3NEYXRhLCB0cmFjZUNvbXBpbGVkLCB0cmFjZVJlbmRlckZ1bmN0aW9uLCB0cmFjZXNIdG1sO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zdGFuY2UuZm9ybSk7XG4gIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSBcInRhYmxlXCIgfHwgKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMudGVtcGxhdGVOYW1lIDogdm9pZCAwKSA9PT0gXCJ0YWJsZVwiKSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlc190YWJsZS5odG1sJyk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3RyYWNlcy5odG1sJyk7XG4gIH1cbiAgdHJhY2VDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUodHJhY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgdHJhY2VSZW5kZXJGdW5jdGlvbiA9IGV2YWwodHJhY2VDb21waWxlZCk7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcgPSBuZXcgQmxhemUuVGVtcGxhdGUoXCJ0cmFjZV9yZWFkb25seV92aWV3XCIsIHRyYWNlUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS50cmFjZV9yZWFkb25seV92aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcuaGVscGVycyhUcmFjZXNUZW1wbGF0ZS5oZWxwZXJzKTtcbiAgYm9keSA9IEJsYXplLnRvSFRNTFdpdGhEYXRhKFRlbXBsYXRlLnRyYWNlX3JlYWRvbmx5X3ZpZXcsIGluc3RhbmNlLnRyYWNlcyk7XG4gIHJldHVybiBib2R5O1xufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEF0dGFjaG1lbnRWaWV3ID0gZnVuY3Rpb24odXNlciwgc3BhY2UsIGluc3RhbmNlKSB7XG4gIHZhciBhdHRhY2htZW50Q29tcGlsZWQsIGF0dGFjaG1lbnRIdG1sLCBhdHRhY2htZW50UmVuZGVyRnVuY3Rpb24sIGJvZHksIHN0ZWVkb3NEYXRhO1xuICBzdGVlZG9zRGF0YSA9IF9nZXRUZW1wbGF0ZURhdGEodXNlciwgc3BhY2UsIGluc3RhbmNlKTtcbiAgYXR0YWNobWVudEh0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9pbnN0YW5jZV9hdHRhY2htZW50cy5odG1sJyk7XG4gIGF0dGFjaG1lbnRDb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoYXR0YWNobWVudEh0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIGF0dGFjaG1lbnRSZW5kZXJGdW5jdGlvbiA9IGV2YWwoYXR0YWNobWVudENvbXBpbGVkKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcImF0dGFjaG1lbnRzX3JlYWRvbmx5X3ZpZXdcIiwgYXR0YWNobWVudFJlbmRlckZ1bmN0aW9uKTtcbiAgVGVtcGxhdGUuYXR0YWNobWVudHNfcmVhZG9ubHlfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3LmhlbHBlcnMoSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyk7XG4gIGJvZHkgPSBCbGF6ZS50b0hUTUxXaXRoRGF0YShUZW1wbGF0ZS5hdHRhY2htZW50c19yZWFkb25seV92aWV3KTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0UmVsYXRlZEluc3RhbmNlc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRJbnN0YW5jZXNDb21waWxlZCwgcmVsYXRlZEluc3RhbmNlc0h0bWwsIHJlbGF0ZWRJbnN0YW5jZXNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkSW5zdGFuY2VzSHRtbCA9IF9nZXRWaWV3SHRtbCgnY2xpZW50L3ZpZXdzL2luc3RhbmNlL3JlbGF0ZWRfaW5zdGFuY2VzLmh0bWwnKTtcbiAgcmVsYXRlZEluc3RhbmNlc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkSW5zdGFuY2VzSHRtbCwge1xuICAgIGlzQm9keTogdHJ1ZVxuICB9KTtcbiAgcmVsYXRlZEluc3RhbmNlc1JlbmRlckZ1bmN0aW9uID0gZXZhbChyZWxhdGVkSW5zdGFuY2VzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3ID0gbmV3IEJsYXplLlRlbXBsYXRlKFwicmVsYXRlZF9pbnN0YW5jZXNfdmlld1wiLCByZWxhdGVkSW5zdGFuY2VzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX2luc3RhbmNlc192aWV3LnN0ZWVkb3NEYXRhID0gc3RlZWRvc0RhdGE7XG4gIFRlbXBsYXRlLnJlbGF0ZWRfaW5zdGFuY2VzX3ZpZXcuaGVscGVycyhSZWxhdGVkSW5zdGFuY2VzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9pbnN0YW5jZXNfdmlldywgc3RlZWRvc0RhdGEpO1xuICByZXR1cm4gYm9keTtcbn07XG5cbkluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRSZWxhdGVkUmVjb3Jkc1ZpZXcgPSBmdW5jdGlvbih1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpIHtcbiAgdmFyIGJvZHksIHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQsIHJlbGF0ZWRSZWNvcmRzSHRtbCwgcmVsYXRlZFJlY29yZHNSZW5kZXJGdW5jdGlvbiwgc3RlZWRvc0RhdGE7XG4gIHN0ZWVkb3NEYXRhID0gX2dldFRlbXBsYXRlRGF0YSh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICBzdGVlZG9zRGF0YS5hYnNvbHV0ZSA9IGZhbHNlO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5hYnNvbHV0ZSA6IHZvaWQgMCkge1xuICAgIHN0ZWVkb3NEYXRhLmFic29sdXRlID0gdHJ1ZTtcbiAgfVxuICByZWxhdGVkUmVjb3Jkc0h0bWwgPSBfZ2V0Vmlld0h0bWwoJ2NsaWVudC92aWV3cy9pbnN0YW5jZS9yZWxhdGVkX3JlY29yZHMuaHRtbCcpO1xuICByZWxhdGVkUmVjb3Jkc0NvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZShyZWxhdGVkUmVjb3Jkc0h0bWwsIHtcbiAgICBpc0JvZHk6IHRydWVcbiAgfSk7XG4gIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24gPSBldmFsKHJlbGF0ZWRSZWNvcmRzQ29tcGlsZWQpO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldyA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShcInJlbGF0ZWRfcmVjb3Jkc192aWV3XCIsIHJlbGF0ZWRSZWNvcmRzUmVuZGVyRnVuY3Rpb24pO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5zdGVlZG9zRGF0YSA9IHN0ZWVkb3NEYXRhO1xuICBUZW1wbGF0ZS5yZWxhdGVkX3JlY29yZHNfdmlldy5oZWxwZXJzKFJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMpO1xuICBib2R5ID0gQmxhemUudG9IVE1MV2l0aERhdGEoVGVtcGxhdGUucmVsYXRlZF9yZWNvcmRzX3ZpZXcsIHN0ZWVkb3NEYXRhKTtcbiAgcmV0dXJuIGJvZHk7XG59O1xuXG5JbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0T25Mb2FkU2NyaXB0ID0gZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgdmFyIGZvcm1fc2NyaXB0LCBmb3JtX3ZlcnNpb247XG4gIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICBmb3JtX3NjcmlwdCA9IGZvcm1fdmVyc2lvbi5mb3JtX3NjcmlwdDtcbiAgaWYgKGZvcm1fc2NyaXB0ICYmIGZvcm1fc2NyaXB0LnJlcGxhY2UoL1xcbi9nLCBcIlwiKS5yZXBsYWNlKC9cXHMvZywgXCJcIikubGVuZ3RoID4gMCkge1xuICAgIGZvcm1fc2NyaXB0ID0gXCJDb3JlRm9ybSA9IHt9O0NvcmVGb3JtLmluc3RhbmNlZm9ybSA9IHt9O1wiICsgZm9ybV9zY3JpcHQ7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ICs9IFwiO2lmKENvcmVGb3JtLmZvcm1fT25Mb2FkKXt3aW5kb3cub25sb2FkID0gQ29yZUZvcm0uZm9ybV9PbkxvYWQoKTt9XCI7XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIGZvcm1fc2NyaXB0ID0gXCJcIjtcbiAgfVxufTtcblxuSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldEluc3RhbmNlSHRtbCA9IGZ1bmN0aW9uKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucykge1xuICB2YXIgYWJzb2x1dGVVcmwsIGFsbENzc0xpbmssIGF0dGFjaG1lbnQsIGJvZHksIGNyZWF0b3JTZXJ2aWNlLCBjc3NIcmVmLCBmb3JtLCBmb3JtRGVzY3JpcHRpb24sIGZvcm1EZXNjcmlwdGlvbkh0bWwsIGh0bWwsIGluc19yZWNvcmRfaWRzLCBpbnN0YW5jZUJveFN0eWxlLCBpbnN0YW5jZV9zdHlsZSwgb25Mb2FkU2NyaXB0LCBvcGVuRmlsZVNjcmlwdCwgcmVmLCByZWYxLCByZWxhdGVkX2luc3RhbmNlcywgcmVsYXRlZF9yZWNvcmRzLCBzaG93VHJhY2VzQnRuLCBzaG93VHJhY2VzU2NyaXB0LCB0cmFjZSwgdHJhY2VDaGVjaywgd2lkdGg7XG4gIGJvZHkgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIG9uTG9hZFNjcmlwdCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRPbkxvYWRTY3JpcHQoaW5zdGFuY2UpO1xuICBjcmVhdG9yU2VydmljZSA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3NbXCJwdWJsaWNcIl0ud2Vic2VydmljZXMpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jcmVhdG9yKSAhPSBudWxsID8gcmVmMS51cmwgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGluc19yZWNvcmRfaWRzID0gaW5zdGFuY2UucmVjb3JkX2lkcztcbiAgb3BlbkZpbGVTY3JpcHQgPSBcImlmKHdpbmRvdy5pc05vZGUgJiYgaXNOb2RlKCkpe1xcblx0YXR0YWNocyA9IGRvY3VtZW50LmdldEVsZW1lbnRzQnlDbGFzc05hbWUoXFxcImluc19hdHRhY2hfaHJlZlxcXCIpO1xcblx0Zm9yKHZhciBpID0gMDsgaSA8IGF0dGFjaHMubGVuZ3RoOyBpKyspe1xcblx0XHRhdHRhY2ggPSBhdHRhY2hzW2ldO1xcblx0XHRhdHRhY2guYWRkRXZlbnRMaXN0ZW5lcihcXFwiY2xpY2tcXFwiLCBmdW5jdGlvbihlKXtcXG5cdFx0XHRpZihpc0ltYWdlKHRoaXMuZGF0YXNldC50eXBlKSB8fCBpc0h0bWwodGhpcy5kYXRhc2V0LnR5cGUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG9wZW5XaW5kb3coXFxcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1xcXCIgKyB0aGlzLmRhdGFzZXQuaWQpO1xcblx0XHRcdH1lbHNlIGlmKG53X2NvcmUuY2FuT3BlbkZpbGUodGhpcy5kYXRhc2V0Lm5hbWUpKXtcXG5cdFx0XHRcdGUucHJldmVudERlZmF1bHQoKTtcXG5cdFx0XHRcdG53X2NvcmUub3BlbkZpbGUodGhpcy5ocmVmLCB0aGlzLmRhdGFzZXQubmFtZSlcXG5cdFx0XHR9XFxuXHRcdH0pO1xcblx0fVxcbn1cXG5cXG52YXIgZmxvdyA9IFxcXCJcIiArIGluc3RhbmNlLmZsb3cgKyBcIlxcXCI7XFxudmFyIHNwYWNlID0gXFxcIlwiICsgaW5zdGFuY2Uuc3BhY2UgKyBcIlxcXCI7XFxuXFxuZnVuY3Rpb24gZ2V0Q29va2llKG5hbWUpe1xcblx0bGV0IHBhdHRlcm4gPSBSZWdFeHAobmFtZSArIFxcXCI9LlteO10qXFxcIilcXG5cdGxldCBtYXRjaGVkID0gZG9jdW1lbnQuY29va2llLm1hdGNoKHBhdHRlcm4pXFxuXHRpZihtYXRjaGVkKXtcXG5cdFx0bGV0IGNvb2tpZSA9IG1hdGNoZWRbMF0uc3BsaXQoJz0nKVxcblx0XHRyZXR1cm4gY29va2llWzFdXFxuXHR9XFxuXHRyZXR1cm4gJydcXG59XFxuXFxudmFyIHJlY29yZHMgPSBkb2N1bWVudC5nZXRFbGVtZW50c0J5Q2xhc3NOYW1lKFxcXCJpbnMtcmVsYXRlZC1yZWNvcmRzXFxcIik7XFxuZm9yKHZhciBpID0gMDsgaSA8IHJlY29yZHMubGVuZ3RoOyBpKyspe1xcblx0XHR2YXIgcmVjb3JkID0gcmVjb3Jkc1tpXTtcXG5cdFx0cmVjb3JkLmFkZEV2ZW50TGlzdGVuZXIoXFxcImNsaWNrXFxcIiwgZnVuY3Rpb24oZSl7XFxuXHRcdFx0dmFyIGNyZWF0b3JTZXJ2aWNlID0gXFxcIlwiICsgY3JlYXRvclNlcnZpY2UgKyBcIlxcXCJcXG5cdFx0XHR2YXIgaW5zX3JlY29yZF9pZHMgPSBcIiArIChKU09OLnN0cmluZ2lmeShpbnNfcmVjb3JkX2lkcykpICsgXCJcXG5cdFx0XHRpZihjcmVhdG9yU2VydmljZSAmJiBpbnNfcmVjb3JkX2lkcyAmJiBpbnNfcmVjb3JkX2lkcy5sZW5ndGggPiAwKXtcXG5cdFx0XHRcdHZhciBvYmpjZXROYW1lID0gaW5zX3JlY29yZF9pZHNbMF0ub1xcblx0XHRcdFx0dmFyIGlkID0gaW5zX3JlY29yZF9pZHNbMF0uaWRzWzBdXFxuXHRcdFx0XHR2YXIgdW9iaiA9IHt9O1xcblx0XHRcdFx0dW9ialtcXFwiWC1Vc2VyLUlkXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtVXNlci1JZFxcXCIpO1xcblx0XHRcdFx0dW9ialtcXFwiWC1BdXRoLVRva2VuXFxcIl0gPSBnZXRDb29raWUoXFxcIlgtQXV0aC1Ub2tlblxcXCIpO1xcblx0XHRcdFx0cmVkaXJlY3RVcmwgPSBjcmVhdG9yU2VydmljZSArIFxcXCJhcHAvLS9cXFwiICsgb2JqY2V0TmFtZSArIFxcXCIvdmlldy9cXFwiICsgaWQgKyBcXFwiP1xcXCIgKyAkLnBhcmFtKHVvYmopO1xcblx0XHRcdFx0b3BlbldpbmRvdyhyZWRpcmVjdFVybCk7XFxuXHRcdFx0fVxcblx0XHR9KTtcXG5cdH1cXG5cIjtcbiAgaWYgKCFTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgICBpZiAoKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApID09PSAndGFibGUnKSB7XG4gICAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgICB9XG4gIH1cbiAgaWYgKChvcHRpb25zICE9IG51bGwgPyBvcHRpb25zLnRlbXBsYXRlTmFtZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICBpbnN0YW5jZV9zdHlsZSA9IFwiaW5zdGFuY2UtdGFibGVcIjtcbiAgfVxuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZSA6IHZvaWQgMCkge1xuICAgIGluc3RhbmNlX3N0eWxlID0gb3B0aW9ucy5pbnN0YW5jZV9zdHlsZTtcbiAgfVxuICBpZiAoIW9wdGlvbnMgfHwgb3B0aW9ucy5zaG93VHJhY2UgPT09IHRydWUpIHtcbiAgICB0cmFjZSA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRUcmFjZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSk7XG4gIH0gZWxzZSB7XG4gICAgdHJhY2UgPSBcIlwiO1xuICB9XG4gIGluc3RhbmNlQm94U3R5bGUgPSBcIlwiO1xuICBpZiAoaW5zdGFuY2UgJiYgaW5zdGFuY2UuZmluYWxfZGVjaXNpb24pIHtcbiAgICBpZiAoaW5zdGFuY2UuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgaW5zdGFuY2VCb3hTdHlsZSA9IFwiYm94LXN1Y2Nlc3NcIjtcbiAgICB9IGVsc2UgaWYgKGluc3RhbmNlLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgIGluc3RhbmNlQm94U3R5bGUgPSBcImJveC1kYW5nZXJcIjtcbiAgICB9XG4gIH1cbiAgaWYgKCFvcHRpb25zIHx8IG9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzID09PSB0cnVlKSB7XG4gICAgYXR0YWNobWVudCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRBdHRhY2htZW50Vmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UpO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRJbnN0YW5jZXNWaWV3KHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gICAgcmVsYXRlZF9yZWNvcmRzID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFJlbGF0ZWRSZWNvcmRzVmlldyh1c2VyLCBzcGFjZSwgaW5zdGFuY2UsIG9wdGlvbnMpO1xuICB9IGVsc2Uge1xuICAgIGF0dGFjaG1lbnQgPSBcIlwiO1xuICAgIHJlbGF0ZWRfaW5zdGFuY2VzID0gXCJcIjtcbiAgICByZWxhdGVkX3JlY29yZHMgPSBcIlwiO1xuICB9XG4gIGFic29sdXRlVXJsID0gTWV0ZW9yLmFic29sdXRlVXJsKCk7XG4gIHdpZHRoID0gXCI5NjBweFwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy53aWR0aCA6IHZvaWQgMCkge1xuICAgIHdpZHRoID0gXCJcIjtcbiAgfVxuICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKFwic3RlZWRvcy1jc3NcIik7XG4gIGFsbENzc0xpbmsgPSBcIjxsaW5rIHJlbD1cXFwic3R5bGVzaGVldFxcXCIgdHlwZT1cXFwidGV4dC9jc3NcXFwiIGNsYXNzPVxcXCJfX21ldGVvci1jc3NfX1xcXCIgaHJlZj1cXFwiXCIgKyBjc3NIcmVmICsgXCJcXFwiPlwiO1xuICB0cmFjZUNoZWNrID0gXCJcIjtcbiAgaWYgKCFfLmlzRW1wdHkodHJhY2UpKSB7XG4gICAgdHJhY2VDaGVjayA9IFwiY2hlY2tlZFwiO1xuICB9XG4gIGlmICgob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy50YWdnZXIgOiB2b2lkIDApID09PSAnZW1haWwnKSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiXCI7XG4gIH0gZWxzZSB7XG4gICAgc2hvd1RyYWNlc0J0biA9IFwiPGRpdiBjbGFzcz1cXFwibmF2aWdhdGlvbi1iYXIgYnRuLWdyb3VwIG5vLXByaW50XFxcIiBzdHlsZT1cXFwibWluLXdpZHRoOiA2MDBweDsgei1pbmRleDogOTk5XFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcInByaW50LXRvb2xcXFwiPlxcblx0XHQ8bGFiZWwgY2xhc3M9XFxcImNieC1sYWJlbFxcXCI+PGlucHV0IHR5cGU9XFxcImNoZWNrYm94XFxcIiBjbGFzcz1cXFwiY2J4LXByaW50IGNieC1wcmludC1hdHRhY2htZW50c1xcXCIgaWQ9XFxcImNieC1wcmludC1hdHRhY2htZW50c1xcXCIgY2hlY2tlZD1cXFwiY2hlY2tlZFxcXCI+PHNwYW4+6ZmE5Lu2PC9zcGFuPjwvbGFiZWw+XFxuXHRcdDxsYWJlbCBjbGFzcz1cXFwiY2J4LWxhYmVsXFxcIj48aW5wdXQgdHlwZT1cXFwiY2hlY2tib3hcXFwiIGNsYXNzPVxcXCJjYngtcHJpbnQgY2J4LXByaW50LXRyYWNlc1xcXCIgaWQ9XFxcImNieC1wcmludC10cmFjZXNcXFwiIGNoZWNrZWQ9XFxcIlwiICsgdHJhY2VDaGVjayArIFwiXFxcIj48c3Bhbj5cIiArICh0KCdpbnN0YW5jZV9hcHByb3ZhbF9oaXN0b3J5JykpICsgXCI8L3NwYW4+PC9sYWJlbD5cXG5cdDwvZGl2PlxcbjwvZGl2PlwiO1xuICB9XG4gIHNob3dUcmFjZXNTY3JpcHQgPSBcIiQoIGRvY3VtZW50ICkucmVhZHkoZnVuY3Rpb24oKXtcXG5cdHZhciBiID0gZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoJ2NieC1wcmludC10cmFjZXMnKTtcXG5cdHZhciB0ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnaW5zdGFuY2UtdHJhY2VzJylbMF07XFxuXHRpZiAoYi5jaGVja2VkKXtcXG5cdFx0dC5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2Uge1xcblx0XHR0LnN0eWxlID0gJ2Rpc3BsYXk6IG5vbmU7J1xcblx0fVxcblx0Yi5hZGRFdmVudExpc3RlbmVyKCdjaGFuZ2UnLCBmdW5jdGlvbihlKXtcXG5cdFx0aWYgKGUudGFyZ2V0LmNoZWNrZWQpe1xcblx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogYmxvY2s7J1xcblx0XHR9IGVsc2Uge1xcblx0XHRcdHQuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdH1cXG5cdH0pO1xcblxcblx0dmFyIGF0dGFjaG1lbnRzQ2hlY2tib3ggPSBkb2N1bWVudC5nZXRFbGVtZW50QnlJZCgnY2J4LXByaW50LWF0dGFjaG1lbnRzJyk7XFxuXHR2YXIgYXR0YWNobWVudHNWaWV3ID0gZG9jdW1lbnQuZ2V0RWxlbWVudHNCeUNsYXNzTmFtZSgnYXR0YWNobWVudHMtc2VjdGlvbicpWzBdO1xcblx0aWYgKGF0dGFjaG1lbnRzQ2hlY2tib3guY2hlY2tlZCl7XFxuXHRcdGF0dGFjaG1lbnRzVmlldy5zdHlsZSA9ICdkaXNwbGF5OiBibG9jazsnXFxuXHR9IGVsc2Uge1xcblx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHR9XFxuXHRhdHRhY2htZW50c0NoZWNrYm94LmFkZEV2ZW50TGlzdGVuZXIoJ2NoYW5nZScsIGZ1bmN0aW9uKGUpe1xcblx0XHRpZiAoZS50YXJnZXQuY2hlY2tlZCl7XFxuXHRcdFx0YXR0YWNobWVudHNWaWV3LnN0eWxlID0gJ2Rpc3BsYXk6IGJsb2NrOydcXG5cdFx0fSBlbHNlIHtcXG5cdFx0XHRhdHRhY2htZW50c1ZpZXcuc3R5bGUgPSAnZGlzcGxheTogbm9uZTsnXFxuXHRcdH1cXG5cdH0pO1xcbn0pO1xcblwiO1xuICBpZiAob3B0aW9ucyAhPSBudWxsID8gb3B0aW9ucy5zdHlsZXMgOiB2b2lkIDApIHtcbiAgICBhbGxDc3NMaW5rID0gXCJcIjtcbiAgfVxuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZS5mb3JtXG4gIH0pO1xuICBmb3JtRGVzY3JpcHRpb25IdG1sID0gXCJcIjtcbiAgaWYgKGZvcm0pIHtcbiAgICBmb3JtRGVzY3JpcHRpb24gPSBmb3JtLmRlc2NyaXB0aW9uO1xuICAgIGlmIChmb3JtRGVzY3JpcHRpb24pIHtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbiA9IGZvcm1EZXNjcmlwdGlvbi5yZXBsYWNlKC9cXG4vZywgXCI8YnIvPlwiKTtcbiAgICAgIGZvcm1EZXNjcmlwdGlvbkh0bWwgPSBcIjxkaXYgY2xhc3M9XFxcImJveC1oZWFkZXIgIHdpdGgtYm9yZGVyIGluc3RhbmNlLWhlYWRlclxcXCI+XFxuXHQ8ZGl2Plxcblx0XHRcIiArIGZvcm1EZXNjcmlwdGlvbiArIFwiXFxuXHQ8L2Rpdj5cXG48L2Rpdj5cIjtcbiAgICB9XG4gIH1cbiAgaHRtbCA9IFwiPCFET0NUWVBFIGh0bWw+XFxuPGh0bWw+XFxuXHQ8aGVhZD5cXG5cdFx0PG1ldGEgaHR0cC1lcXVpdj1cXFwiQ29udGVudC1UeXBlXFxcIiBjb250ZW50PVxcXCJ0ZXh0L2h0bWw7IGNoYXJzZXQ9VVRGLThcXFwiLz5cXG5cdFx0XCIgKyBhbGxDc3NMaW5rICsgXCJcXG5cdFx0PHNjcmlwdCBzcmM9XFxcImh0dHBzOi8vd3d3LnN0ZWVkb3MuY29tL3dlYnNpdGUvbGlicy9qcXVlcnkubWluLmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0Plxcblx0XHQ8c2NyaXB0IHNyYz1cXFwiL2pzL253X2NvcmUuanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXHRcdFwiICsgKG9wdGlvbnMucGx1Z2lucyB8fCBcIlwiKSArIFwiXFxuXFxuXHRcdDxzdHlsZT5cXG5cdFx0XHQuc3RlZWRvc3tcXG5cdFx0XHRcdHdpZHRoOiBcIiArIHdpZHRoICsgXCI7XFxuXHRcdFx0XHRtYXJnaW4tbGVmdDogYXV0bztcXG5cdFx0XHRcdG1hcmdpbi1yaWdodDogYXV0bztcXG5cdFx0XHR9XFxuXFxuXHRcdFx0Lmluc3RhbmNlLXZpZXcgLmluc3RhbmNlLW5hbWV7XFxuXHRcdFx0XHRkaXNwbGF5OiBpbmxpbmUgIWltcG9ydGFudFxcblx0XHRcdH1cXG5cdFx0XHQuYm94LXRvb2xze1xcblx0XHRcdFx0ZGlzcGxheTogbm9uZTtcXG5cdFx0XHR9XFxuXHRcdFx0LmJveC5jb2xsYXBzZWQtYm94IC5ib3gtYm9keSwuYm94LmNvbGxhcHNlZC1ib3ggLmJveC1mb290ZXIge1xcblx0XHRcdCAgZGlzcGxheTogYmxvY2s7XFxuXHRcdFx0fVxcblxcblx0XHRcdGJvZHl7XFxuXHRcdFx0XHRiYWNrZ3JvdW5kOiBhenVyZSAhaW1wb3J0YW50O1xcblx0XHRcdH1cXG5cXG5cdFx0XHQuaW5zdGFuY2UtdmlldyAuaW5zdGFuY2UtdHJhY2Vze1xcblx0XHRcdFx0cGFkZGluZy1sZWZ0OiAxNXB4O1xcblx0XHRcdFx0cGFkZGluZy1yaWdodDogMTVweDtcXG5cdFx0XHR9XFxuXFxuXHRcdFx0XCIgKyAoKG9wdGlvbnMgIT0gbnVsbCA/IG9wdGlvbnMuc3R5bGVzIDogdm9pZCAwKSB8fCBcIlwiKSArIFwiXFxuXHRcdDwvc3R5bGU+XFxuXHQ8L2hlYWQ+XFxuXHQ8Ym9keT5cXG5cdFx0PGRpdiBjbGFzcz1cXFwic3RlZWRvcyB3b3JrZmxvdyBpbnN0YW5jZS1wcmludFxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwic2tpbi1ncmVlbiBza2luLWFkbWluLWx0ZVxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVxcXCJ3cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29udGVudC13cmFwcGVyXFxcIj5cXG5cdFx0XHRcdFx0XHRcIiArIHNob3dUcmFjZXNCdG4gKyBcIlxcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLXByaW50XFxcIj5cXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlIFwiICsgaW5zdGFuY2Vfc3R5bGUgKyBcIlxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdDxmb3JtIG5hbWU9XFxcImluc3RhbmNlRm9ybVxcXCI+XFxuXHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiaW5zdGFuY2UtZm9ybSBib3ggXCIgKyBpbnN0YW5jZUJveFN0eWxlICsgXCJcXFwiPlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XCIgKyBmb3JtRGVzY3JpcHRpb25IdG1sICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XFxcImJveC1ib2R5XFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdhdHRhY2htZW50cy1zZWN0aW9uJz5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgYXR0YWNobWVudCArIFwiXFxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIHJlbGF0ZWRfaW5zdGFuY2VzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdFwiICsgcmVsYXRlZF9yZWNvcmRzICsgXCJcXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcIiArIGJvZHkgKyBcIlxcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0XHRcdFx0XHQ8L2Zvcm0+XFxuXHRcdFx0XHRcdFx0XHRcdFwiICsgdHJhY2UgKyBcIlxcblx0XHRcdFx0XHRcdFx0PC9kaXY+XFxuXFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC9kaXY+XFxuXHRcdDwvZGl2Plxcblx0PC9ib2R5Plxcblx0PHNjcmlwdD5cIiArIG9wZW5GaWxlU2NyaXB0ICsgXCI7XCIgKyBvbkxvYWRTY3JpcHQgKyBcIjtcIiArIHNob3dUcmFjZXNTY3JpcHQgKyBcIjwvc2NyaXB0PlxcbjwvaHRtbD5cIjtcbiAgcmV0dXJuIGh0bWw7XG59O1xuIiwiVGVtcGxhdGVNYW5hZ2VyID0ge307XHJcblxyXG5mb3JtSWQgPSAnaW5zdGFuY2Vmb3JtJztcclxuXHJcblxyXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSAoKS0+XHJcblx0cGFnZVRpdGxlID0gXCJcIlwiXHJcblx0XHR7e2luc3RhbmNlLm5hbWV9fVxyXG5cdFwiXCJcIlxyXG5cclxuXHRwYWdlVGl0bGVUckNsYXNzID0gXCJpbnN0YW5jZS1uYW1lXCJcclxuXHJcblx0aWYgQ29yZUZvcm0/LnBhZ2VUaXRsZUZpZWxkTmFtZVxyXG5cdFx0cGFnZVRpdGxlID0gXCJcIlwiXHJcblx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje0NvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZX1cIiBsYWJlbD1mYWxzZX19XHJcblx0XHRcIlwiXCJcclxuXHRcdHBhZ2VUaXRsZVRyQ2xhc3MgPSBcIlwiXHJcblxyXG5cdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVcclxuXHRcdHBhZ2VUaXRsZSA9IFwiXCJcIlxyXG5cdFx0XHQje0NvcmVGb3JtLnBhZ2VUaXRsZX1cclxuXHRcdFwiXCJcIlxyXG5cdFx0cGFnZVRpdGxlVHJDbGFzcyA9IFwiXCJcclxuXHJcblx0dmFsID1cclxuXHRcdHBhZ2VUaXRsZTogcGFnZVRpdGxlXHJcblx0XHRwYWdlVGl0bGVUckNsYXNzOiBwYWdlVGl0bGVUckNsYXNzXHJcblxyXG5cdHJldHVybiB2YWxcclxuXHJcblRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlID0gKGluc3RhbmNlLCBfZXhwb3J0KSAtPlxyXG5cclxuXHR0ZW1wbGF0ZSA9IFwiXCJcIlxyXG5cdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cclxuXHRcdDx0YWJsZSBjbGFzcz1cInRhYmxlLXBhZ2UtdGl0bGUgZm9ybS10YWJsZSBuby1ib3JkZXIgdGV4dC1hbGlnbi1jZW50ZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cclxuXHRcdFx0PHRyIGNsYXNzPVwiI3t0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlVHJDbGFzc31cIj5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJpbnN0YW5jZS10YWJsZS1uYW1lLXRkIHBhZ2UtdGl0bGVcIj5cclxuXHRcdFx0XHRcdCN7dGhpcy5pbnN0YW5jZV90aXRsZSgpLnBhZ2VUaXRsZX1cclxuXHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHQ8L3RyPlxyXG5cclxuXHRcdDwvdGFibGU+XHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWJvZHkgZm9ybS10YWJsZVwiPlxyXG5cdFx0XHRcdDx0ciBzdHlsZT1cImhlaWdodDowcHhcIj5cclxuXHRcdFx0XHRcdDx0aCBzdHlsZT0nd2lkdGg6IDE2JSc+PC90aD5cclxuXHRcdFx0XHRcdDx0aD48L3RoPlxyXG5cdFx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxyXG5cdFx0XHRcdFx0PHRoPjwvdGg+XHJcblx0XHRcdFx0PC90cj5cclxuXHRcIlwiXCI7XHJcblxyXG5cdHRhYmxlX2ZpZWxkcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudGFibGVfZmllbGRzKGluc3RhbmNlKVxyXG5cclxuXHR0YWJsZV9maWVsZHMuZm9yRWFjaCAodGFibGVfZmllbGQpLT5cclxuXHJcblx0XHRyZXF1aXJlZCA9IFwiXCJcclxuXHRcdGlmICFDb3JlRm9ybT8ucGFnZVRpdGxlRmllbGROYW1lIHx8IENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgIT0gdGFibGVfZmllbGQuY29kZVxyXG5cdFx0XHRpZiB0YWJsZV9maWVsZC5pc19yZXF1aXJlZFxyXG5cdFx0XHRcdHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiXHJcblxyXG5cdFx0XHRpZiBfZXhwb3J0XHJcblx0XHRcdFx0cmVxdWlyZWQgPSBcIlwiO1xyXG5cclxuXHRcdFx0cHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XHJcblxyXG5cdFx0XHRpZiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkKHRhYmxlX2ZpZWxkKVxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0XHJcblx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXHJcblx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSAje3JlcXVpcmVkfVwiPlxyXG5cdFx0XHRcdFx0XHR7e2FmRmllbGRMYWJlbFRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XHJcblx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZCBvcGluaW9uLWZpZWxkLSN7cHVyZUNvZGV9IGF1dG9tYXRpY1wiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT1cIiN7dGFibGVfZmllbGQuY29kZX1cIn19XHJcblx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZFxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbmNsdWRlcyh0YWJsZV9maWVsZC50eXBlLCAnc2VjdGlvbix0YWJsZScpXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gXCJcIlwiXHJcblx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWNoaWxkZmllbGQgdGQtY2hpbGRmaWVsZC0je3B1cmVDb2RlfVwiIGNvbHNwYW4gPSBcIiN7dGFibGVfZmllbGQudGRfY29sc3Bhbn1cIj5cclxuXHRcdFx0XHRcdFx0ICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCIgbGFiZWw9ZmFsc2V9fVxyXG5cdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9lbmRcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHR0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydFxyXG5cclxuXHRcdFx0XHRcdGlmIF9leHBvcnRcclxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwiXCJcclxuXHRcdFx0XHRcdFx0ZmllbGRfcGVybWlzc2lvbiA9IFwiXCJcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0dGl0bGVfcGVybWlzc2lvbiA9IFwidGl0bGUtXCIgKyB0YWJsZV9maWVsZC5wZXJtaXNzaW9uXHJcblx0XHRcdFx0XHRcdGZpZWxkX3Blcm1pc3Npb24gPSBcImZpZWxkLVwiICsgdGFibGVfZmllbGQucGVybWlzc2lvblxyXG5cclxuXHRcdFx0XHRcdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB0ZC10aXRsZS0je3B1cmVDb2RlfSAje3RpdGxlX3Blcm1pc3Npb259ICN7cmVxdWlyZWR9XCI+XHJcblx0XHRcdFx0XHRcdFx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XCIje3RhYmxlX2ZpZWxkLmNvZGV9XCJ9fVxyXG5cdFx0XHRcdFx0XHQ8L3RkPlxyXG5cdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1maWVsZCB0ZC1maWVsZC0je3B1cmVDb2RlfSAje2ZpZWxkX3Blcm1pc3Npb259XCIgY29sc3BhbiA9IFwiI3t0YWJsZV9maWVsZC50ZF9jb2xzcGFufVwiPlxyXG5cdFx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPVwiI3t0YWJsZV9maWVsZC5jb2RlfVwiIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHRcdFx0dGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kXHJcblxyXG5cdHRlbXBsYXRlICs9IFwiXCJcIlxyXG5cdFx0PC90YWJsZT5cclxuXHJcblx0XHQ8dGFibGUgY2xhc3M9XCJ0YWJsZS1wYWdlLWZvb3RlciBmb3JtLXRhYmxlIG5vLWJvcmRlclwiPlxyXG5cdFx0XHQ8dHIgY2xhc3M9XCJhcHBsaWNhbnQtd3JhcHBlclwiPlxyXG5cdFx0XHRcdDx0ZCBjbGFzcz1cIm5vd3JhcFwiPlxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxyXG5cdFx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XCJjb250cm9sLWxhYmVsXCI+e3tfdCBcImluc3RhbmNlX2luaXRpYXRvclwifX3vvJo8L2xhYmVsPlxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS10YWJsZS13cmFwcGVyLXRkIGlubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxyXG5cdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0PC90ZD5cclxuXHRcdFx0XHQ8dGQgY2xhc3M9XCJub3dyYXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J3B1bGwtbGVmdCc+XHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1sZWZ0Jz5cclxuXHRcdFx0XHRcdFx0XHQ8bGFiZWw+e3tfdCBcImluc3RhbmNlX3N1Ym1pdF9kYXRlXCJ9fe+8mjwvbGFiZWw+XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtcmlnaHQnPlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJmb3JtLWdyb3VwXCI+XHJcblx0XHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcImZvcm1hdFwiOlwiWVlZWS1NTS1ERFwifSd9fVxyXG5cdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdDwvdGQ+XHJcblx0XHRcdDwvdHI+XHJcblx0XHQ8L3RhYmxlPlxyXG5cdDwvZGl2PlxyXG5cdFwiXCJcIlxyXG5cdHJldHVybiB0ZW1wbGF0ZVxyXG5cclxuI+atpOWkhOaooeadv+WFrOeUqOS4ju+8mmluc3RhbmNlIOe8lui+keOAgeafpeeci+OAgeaJk+WNsOOAgei9rOWPkeaXtueUn+aIkOmZhOS7tuOAgeWPkemAgemCruS7tmJvZHnpg6jliIYodGFibGUg5qih5p2/KVxyXG4j5aaC5p6c5pyJ5L+u5pS577yM6K+35rWL6K+V56Gu6K6k5YW25LuW5Yqf6IO95piv5ZCm5q2j5bi444CCXHJcblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPVxyXG5cdGRlZmF1bHQ6IChpbnN0YW5jZSktPlxyXG5cclxuXHRcdHRlbXBsYXRlID0gXCJcIlwiXHJcblx0XHRcdDxkaXYgY2xhc3M9XCJ3aXRoLWJvcmRlciBjb2wtbWQtMTJcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5zdGFuY2UtbmFtZVwiPlxyXG5cdFx0XHRcdFx0PGgzIGNsYXNzPVwiYm94LXRpdGxlXCI+I3tUZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGV9PC9oMz5cclxuXHRcdFx0XHRcdDxzcGFuIGNsYXNzPVwiaGVscC1ibG9ja1wiPjwvc3Bhbj5cclxuXHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XHR7eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxyXG5cdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxyXG5cdFx0XHRcdFx0PGRpdiBjbGFzcz1cInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVwiPlxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0PGxhYmVsIGNsYXNzPVwiY29udHJvbC1sYWJlbFwiPnt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19PC9sYWJlbD5cclxuXHJcblx0XHRcdFx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxyXG5cdFx0XHRcdFx0XHQ8L2Rpdj5cclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdHt7ZWxzZX19XHJcblx0XHRcdFx0XHR7eyNpZiBpbmNsdWRlcyB0aGlzLnR5cGUgJ3NlY3Rpb24sdGFibGUnfX1cclxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cclxuXHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHR7e2Vsc2V9fVxyXG5cdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPVwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XCI+XHJcblx0XHRcdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZX19XHJcblx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3svaWZ9fVxyXG5cdFx0XHRcdHt7L2lmfX1cclxuXHRcdFx0e3svZWFjaH19XHJcblx0XHRcdDxkaXYgY2xhc3M9XCJjb2wtbWQtMTJcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXIgZm9ybS1ncm91cCBmb3JtLWhvcml6b250YWxcIj5cclxuXHRcdFx0XHQ8ZGl2IGNsYXNzPVwiaW5wdXQtZ3JvdXBcIj5cclxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJpbnB1dC1ncm91cC1hZGRvblwiPlxyXG5cdFx0XHRcdFx0ICB7e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzpcclxuXHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0e3s+VGVtcGxhdGUuZHluYW1pYyAgdGVtcGxhdGU9XCJhZlNlbGVjdFVzZXJcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxyXG5cdFx0XHRcdCAgPC9kaXY+XHJcblx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdDwvZGl2PlxyXG5cdFx0XCJcIlwiXHJcblx0XHRyZXR1cm4gdGVtcGxhdGVcclxuXHJcblx0dGFibGU6IChpbnN0YW5jZSktPlxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5oYW5kbGVUYWJsZVRlbXBsYXRlKGluc3RhbmNlKVxyXG4jXHR0YWJsZTogJycnXHJcbiNcdFx0PHRhYmxlIGNsYXNzPVwiYm94LWhlYWRlciAgd2l0aC1ib3JkZXJcIiBzdHlsZT1cIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcIj5cclxuI1x0XHRcdDx0ciBjbGFzcz1cImluc3RhbmNlLW5hbWVcIj5cclxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtbmFtZS10ZFwiPlxyXG4jXHRcdFx0XHRcdDxoMyBjbGFzcz1cImJveC10aXRsZVwiPnt7aW5zdGFuY2UubmFtZX19PC9oMz5cclxuI1x0XHRcdFx0XHQ8c3BhbiBjbGFzcz1cImhlbHAtYmxvY2tcIj48L3NwYW4+XHJcbiNcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHQ8L3RyPlxyXG4jICAgICAgICAgICAgPHRyIGNsYXNzPVwiYXBwbGljYW50LXdyYXBwZXJcIj5cclxuI1x0XHRcdFx0PHRkIGNsYXNzPVwiaW5zdGFuY2UtdGFibGUtd3JhcHBlci10ZFwiPlxyXG4jXHRcdFx0XHRcdDxsYWJlbCBjbGFzcz1cImNvbnRyb2wtbGFiZWxcIj57e190IFwiaW5zdGFuY2VfaW5pdGlhdG9yXCJ9fSZuYnNwOzo8L2xhYmVsPlxyXG4jXHRcdFx0XHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVwiYWZTZWxlY3RVc2VyXCIgZGF0YT1hcHBsaWNhbnRDb250ZXh0fX1cclxuI1x0XHRcdFx0PC90ZD5cclxuI1x0XHRcdDwvdHI+XHJcbiMgICAgICAgIDwvdGFibGU+XHJcbiNcdFx0PHRhYmxlIGNsYXNzPVwiZm9ybS10YWJsZVwiPlxyXG4jXHRcdCAgICB7eyNlYWNoIHRhYmxlX2ZpZWxkc319XHJcbiNcdFx0XHRcdHt7I2lmIGlzT3BpbmlvbkZpZWxkIHRoaXN9fVxyXG4jXHRcdFx0XHRcdHt7e3RyX3N0YXJ0fX19XHJcbiNcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC10aXRsZSB7eyNpZiBpc19yZXF1aXJlZH19aXMtcmVxdWlyZWR7ey9pZn19XCI+XHJcbiNcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XHJcbiNcdFx0XHRcdFx0XHQ8L3RkPlxyXG4jXHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtZmllbGQgb3Bpbmlvbi1maWVsZFwiIGNvbHNwYW4gPSAne3t0ZF9jb2xzcGFufX0nPlxyXG4jXHRcdFx0XHRcdFx0XHR7ez4gaW5zdGFuY2VTaWduVGV4dCBzdGVwPShnZXRPcGluaW9uRmllbGRTdGVwTmFtZSB0aGlzKSBkZWZhdWx0PScnfX1cclxuI1x0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0e3t7dHJfZW5kfX19XHJcbiNcdFx0XHRcdHt7ZWxzZX19XHJcbiNcdFx0XHRcdFx0e3sjaWYgaW5jbHVkZXMgdGhpcy50eXBlICdzZWN0aW9uLHRhYmxlJ319XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9zdGFydH19fVxyXG4jXHRcdFx0XHRcdFx0XHQ8dGQgY2xhc3M9XCJ0ZC1jaGlsZGZpZWxkXCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XHJcbiNcdFx0XHRcdFx0XHRcdCAgIHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHR7e3t0cl9lbmR9fX1cclxuI1x0XHRcdFx0XHR7e2Vsc2V9fVxyXG4jXHRcdFx0XHRcdFx0e3t7dHJfc3RhcnR9fX1cclxuI1x0XHRcdFx0XHRcdFx0PHRkIGNsYXNzPVwidGQtdGl0bGUge3sjaWYgaXNfcmVxdWlyZWR9fWlzLXJlcXVpcmVke3svaWZ9fVwiPlxyXG4jXHRcdFx0XHRcdFx0XHRcdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPXRoaXMuY29kZX19XHJcbiNcdFx0XHRcdFx0XHRcdDwvdGQ+XHJcbiNcdFx0XHRcdFx0XHRcdDx0ZCBjbGFzcz1cInRkLWZpZWxkIHt7cGVybWlzc2lvbn19XCIgY29sc3BhbiA9ICd7e3RkX2NvbHNwYW59fSc+XHJcbiNcdFx0XHRcdFx0XHRcdFx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9dGhpcy5jb2RlIGxhYmVsPWZhbHNlfX1cclxuI1x0XHRcdFx0XHRcdFx0PC90ZD5cclxuI1x0XHRcdFx0XHRcdHt7e3RyX2VuZH19fVxyXG4jXHRcdFx0XHRcdHt7L2lmfX1cclxuI1x0XHRcdFx0e3svaWZ9fVxyXG4jXHJcbiNcdFx0ICAgIHt7L2VhY2h9fVxyXG4jXHRcdDwvdGFibGU+XHJcbiNcdCcnJ1xyXG5cclxuVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZUhlbHBzID1cclxuXHRhcHBsaWNhbnRDb250ZXh0OiAtPlxyXG5cdFx0c3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0ZGF0YSA9IHtcclxuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRhdHRzOiB7XHJcblx0XHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRcdGlkOiAnaW5zX2FwcGxpY2FudCcsXHJcblx0XHRcdFx0Y2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCcsXHJcblx0XHRcdFx0c3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiNcdFx0aWYgbm90IHN0ZWVkb3NfaW5zdGFuY2UgfHwgc3RlZWRvc19pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCJcclxuXHRcdGRhdGEuYXR0cy5kaXNhYmxlZCA9IHRydWVcclxuXHRcdHJldHVybiBkYXRhO1xyXG5cclxuaW5zdGFuY2VJZDogLT5cclxuXHRyZXR1cm4gJ2luc3RhbmNlZm9ybSc7I1wiaW5zdGFuY2VfXCIgKyBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIik7XHJcblxyXG5mb3JtX3R5cGVzOiAtPlxyXG5cdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cdFx0cmV0dXJuICdkaXNhYmxlZCc7XHJcblx0ZWxzZVxyXG5cdFx0cmV0dXJuICdtZXRob2QnO1xyXG5cclxuc3RlZWRvc19mb3JtOiAtPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRyZXR1cm4gZm9ybV92ZXJzaW9uXHJcblxyXG5pbm5lcnN1YmZvcm1Db250ZXh0OiAob2JqKS0+XHJcblx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcclxuXHRvYmpbXCJ0YWJsZVZhbHVlc1wiXSA9IGlmIGRvY192YWx1ZXMgdGhlbiBkb2NfdmFsdWVzW29iai5jb2RlXSBlbHNlIFtdXHJcblx0b2JqW1wiZm9ybUlkXCJdID0gZm9ybUlkO1xyXG5cdHJldHVybiBvYmo7XHJcblxyXG5pbnN0YW5jZTogLT5cclxuXHRTZXNzaW9uLmdldChcImNoYW5nZV9kYXRlXCIpXHJcblx0aWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSlcclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdHJldHVybiBzdGVlZG9zX2luc3RhbmNlO1xyXG5cclxuZXF1YWxzOiAoYSwgYikgLT5cclxuXHRyZXR1cm4gKGEgPT0gYilcclxuXHJcbmluY2x1ZGVzOiAoYSwgYikgLT5cclxuXHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xyXG5cclxuZmllbGRzOiAtPlxyXG5cdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xyXG5cclxuZG9jX3ZhbHVlczogLT5cclxuXHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblxyXG5pbnN0YW5jZV9ib3hfc3R5bGU6IC0+XHJcblx0Ym94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIilcclxuXHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcclxuXHRcdGp1ZGdlID0gU2Vzc2lvbi5nZXQoXCJqdWRnZVwiKVxyXG5cdFx0aWYganVkZ2VcclxuXHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtc3VjY2Vzc1wiXHJcblx0XHRcdGVsc2UgaWYgKGp1ZGdlID09IFwicmVqZWN0ZWRcIilcclxuXHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRpZiBpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uXHJcblx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcclxuXHRcdGVsc2UgaWYgKGlucy5maW5hbF9kZWNpc2lvbiA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxyXG5cclxuXHJcblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IChpbnN0YW5jZSwgdGVtcGxhdGVOYW1lKSAtPlxyXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xyXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xyXG5cclxuXHRpZiB0ZW1wbGF0ZU5hbWVcclxuXHRcdGlmIHRlbXBsYXRlTmFtZSA9PSAndGFibGUnXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKVxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHJcblx0aWYgU2Vzc2lvbj8uZ2V0KFwiaW5zdGFuY2VQcmludFwiKVxyXG5cdFx0aWYgZmxvdz8ucHJpbnRfdGVtcGxhdGVcclxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5wcmludF90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcclxuXHRcdFx0XHRyZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIlxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUudGFibGUoaW5zdGFuY2UpXHJcblx0ZWxzZVxyXG5cdFx0aWYgU3RlZWRvcy5pc01vYmlsZSgpXHJcblx0XHRcdHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLmRlZmF1bHQoaW5zdGFuY2UpXHJcblxyXG5cdFx0aWYgZmxvdz8uaW5zdGFuY2VfdGVtcGxhdGVcclxuXHRcdFx0cmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCJcclxuXHJcblx0XHRpZiBmb3JtPy5pbnN0YW5jZV9zdHlsZVxyXG5cdFx0XHRpZiBmb3JtLmluc3RhbmNlX3N0eWxlID09ICd0YWJsZSdcclxuXHRcdFx0XHRyZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSlcclxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUuZGVmYXVsdChpbnN0YW5jZSlcclxuXHJcbiNUZW1wbGF0ZU1hbmFnZXIuZXhwb3J0VGVtcGxhdGUgPSAoZmxvd0lkKSAtPlxyXG4jXHR0ZW1wbGF0ZSA9IFRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZShmbG93SWQpO1xyXG4jXHJcbiNcdGZsb3cgPSBXb3JrZmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93SWQpO1xyXG4jXHJcbiNcdGlmIGZsb3c/Lmluc3RhbmNlX3RlbXBsYXRlXHJcbiNcdFx0cmV0dXJuIHRlbXBsYXRlO1xyXG4jXHJcbiNcdHJldHVybiB0ZW1wbGF0ZTtcclxuXHJcbiIsInZhciBmb3JtSWQ7ICAgICAgICAgICAgICAgICBcblxuVGVtcGxhdGVNYW5hZ2VyID0ge307XG5cbmZvcm1JZCA9ICdpbnN0YW5jZWZvcm0nO1xuXG5UZW1wbGF0ZU1hbmFnZXIuaW5zdGFuY2VfdGl0bGUgPSBmdW5jdGlvbigpIHtcbiAgdmFyIHBhZ2VUaXRsZSwgcGFnZVRpdGxlVHJDbGFzcywgdmFsO1xuICBwYWdlVGl0bGUgPSBcInt7aW5zdGFuY2UubmFtZX19XCI7XG4gIHBhZ2VUaXRsZVRyQ2xhc3MgPSBcImluc3RhbmNlLW5hbWVcIjtcbiAgaWYgKHR5cGVvZiBDb3JlRm9ybSAhPT0gXCJ1bmRlZmluZWRcIiAmJiBDb3JlRm9ybSAhPT0gbnVsbCA/IENvcmVGb3JtLnBhZ2VUaXRsZUZpZWxkTmFtZSA6IHZvaWQgMCkge1xuICAgIHBhZ2VUaXRsZSA9IFwie3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lICsgXCJcXFwiIGxhYmVsPWZhbHNlfX1cIjtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICBpZiAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlIDogdm9pZCAwKSB7XG4gICAgcGFnZVRpdGxlID0gXCJcIiArIENvcmVGb3JtLnBhZ2VUaXRsZTtcbiAgICBwYWdlVGl0bGVUckNsYXNzID0gXCJcIjtcbiAgfVxuICB2YWwgPSB7XG4gICAgcGFnZVRpdGxlOiBwYWdlVGl0bGUsXG4gICAgcGFnZVRpdGxlVHJDbGFzczogcGFnZVRpdGxlVHJDbGFzc1xuICB9O1xuICByZXR1cm4gdmFsO1xufTtcblxuVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUgPSBmdW5jdGlvbihpbnN0YW5jZSwgX2V4cG9ydCkge1xuICB2YXIgdGFibGVfZmllbGRzLCB0ZW1wbGF0ZTtcbiAgdGVtcGxhdGUgPSBcIjxkaXYgY2xhc3M9J2luc3RhbmNlLXRlbXBsYXRlJz5cXG5cdDx0YWJsZSBjbGFzcz1cXFwidGFibGUtcGFnZS10aXRsZSBmb3JtLXRhYmxlIG5vLWJvcmRlciB0ZXh0LWFsaWduLWNlbnRlclxcXCIgc3R5bGU9XFxcIndpZHRoOiAxMDAlO2Rpc3BsYXk6IGlubGluZS10YWJsZTtcXFwiPlxcblx0XHQ8dHIgY2xhc3M9XFxcIlwiICsgKHRoaXMuaW5zdGFuY2VfdGl0bGUoKS5wYWdlVGl0bGVUckNsYXNzKSArIFwiXFxcIj5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcImluc3RhbmNlLXRhYmxlLW5hbWUtdGQgcGFnZS10aXRsZVxcXCI+XFxuXHRcdFx0XHRcIiArICh0aGlzLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiXFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cXG5cdDwvdGFibGU+XFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtYm9keSBmb3JtLXRhYmxlXFxcIj5cXG5cdFx0XHQ8dHIgc3R5bGU9XFxcImhlaWdodDowcHhcXFwiPlxcblx0XHRcdFx0PHRoIHN0eWxlPSd3aWR0aDogMTYlJz48L3RoPlxcblx0XHRcdFx0PHRoPjwvdGg+XFxuXHRcdFx0XHQ8dGggc3R5bGU9J3dpZHRoOiAxNiUnPjwvdGg+XFxuXHRcdFx0XHQ8dGg+PC90aD5cXG5cdFx0XHQ8L3RyPlwiO1xuICB0YWJsZV9maWVsZHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRhYmxlX2ZpZWxkcyhpbnN0YW5jZSk7XG4gIHRhYmxlX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHRhYmxlX2ZpZWxkKSB7XG4gICAgdmFyIGZpZWxkX3Blcm1pc3Npb24sIHB1cmVDb2RlLCByZXF1aXJlZCwgdGl0bGVfcGVybWlzc2lvbjtcbiAgICByZXF1aXJlZCA9IFwiXCI7XG4gICAgaWYgKCEodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSB8fCAodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSAhPT0gdGFibGVfZmllbGQuY29kZSkge1xuICAgICAgaWYgKHRhYmxlX2ZpZWxkLmlzX3JlcXVpcmVkKSB7XG4gICAgICAgIHJlcXVpcmVkID0gXCJpcy1yZXF1aXJlZFwiO1xuICAgICAgfVxuICAgICAgaWYgKF9leHBvcnQpIHtcbiAgICAgICAgcmVxdWlyZWQgPSBcIlwiO1xuICAgICAgfVxuICAgICAgcHVyZUNvZGUgPSBTdGVlZG9zLnJlbW92ZVNwZWNpYWxDaGFyYWN0ZXIodGFibGVfZmllbGQuY29kZSk7XG4gICAgICBpZiAoSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZCh0YWJsZV9maWVsZCkpIHtcbiAgICAgICAgdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfc3RhcnQ7XG4gICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSBcIiArIHJlcXVpcmVkICsgXCJcXFwiPlxcblx0e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cXG48dGQgY2xhc3M9XFxcInRkLWZpZWxkIG9waW5pb24tZmllbGQgb3Bpbmlvbi1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgYXV0b21hdGljXFxcIiBjb2xzcGFuID0gXFxcIlwiICsgdGFibGVfZmllbGQudGRfY29sc3BhbiArIFwiXFxcIj5cXG5cdHt7PiBpbnN0YW5jZVNpZ25UZXh0IG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIn19XFxuPC90ZD5cIjtcbiAgICAgICAgcmV0dXJuIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX2VuZDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzKHRhYmxlX2ZpZWxkLnR5cGUsICdzZWN0aW9uLHRhYmxlJykpIHtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSB0YWJsZV9maWVsZC50cl9zdGFydDtcbiAgICAgICAgICB0ZW1wbGF0ZSArPSBcIjx0ZCBjbGFzcz1cXFwidGQtY2hpbGRmaWVsZCB0ZC1jaGlsZGZpZWxkLVwiICsgcHVyZUNvZGUgKyBcIlxcXCIgY29sc3BhbiA9IFxcXCJcIiArIHRhYmxlX2ZpZWxkLnRkX2NvbHNwYW4gKyBcIlxcXCI+XFxuICAge3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHRlbXBsYXRlICs9IHRhYmxlX2ZpZWxkLnRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChfZXhwb3J0KSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJcIjtcbiAgICAgICAgICAgIGZpZWxkX3Blcm1pc3Npb24gPSBcIlwiO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aXRsZV9wZXJtaXNzaW9uID0gXCJ0aXRsZS1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgICBmaWVsZF9wZXJtaXNzaW9uID0gXCJmaWVsZC1cIiArIHRhYmxlX2ZpZWxkLnBlcm1pc3Npb247XG4gICAgICAgICAgfVxuICAgICAgICAgIHRlbXBsYXRlICs9IFwiPHRkIGNsYXNzPVxcXCJ0ZC10aXRsZSB0ZC10aXRsZS1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyB0aXRsZV9wZXJtaXNzaW9uICsgXCIgXCIgKyByZXF1aXJlZCArIFwiXFxcIj5cXG5cdHt7YWZGaWVsZExhYmVsVGV4dCBuYW1lPVxcXCJcIiArIHRhYmxlX2ZpZWxkLmNvZGUgKyBcIlxcXCJ9fVxcbjwvdGQ+XFxuPHRkIGNsYXNzPVxcXCJ0ZC1maWVsZCB0ZC1maWVsZC1cIiArIHB1cmVDb2RlICsgXCIgXCIgKyBmaWVsZF9wZXJtaXNzaW9uICsgXCJcXFwiIGNvbHNwYW4gPSBcXFwiXCIgKyB0YWJsZV9maWVsZC50ZF9jb2xzcGFuICsgXCJcXFwiPlxcblx0e3s+IGFmRm9ybUdyb3VwIG5hbWU9XFxcIlwiICsgdGFibGVfZmllbGQuY29kZSArIFwiXFxcIiBsYWJlbD1mYWxzZX19XFxuPC90ZD5cIjtcbiAgICAgICAgICByZXR1cm4gdGVtcGxhdGUgKz0gdGFibGVfZmllbGQudHJfZW5kO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgdGVtcGxhdGUgKz0gXCJcdDwvdGFibGU+XFxuXFxuXHQ8dGFibGUgY2xhc3M9XFxcInRhYmxlLXBhZ2UtZm9vdGVyIGZvcm0tdGFibGUgbm8tYm9yZGVyXFxcIj5cXG5cdFx0PHRyIGNsYXNzPVxcXCJhcHBsaWNhbnQtd3JhcHBlclxcXCI+XFxuXHRcdFx0PHRkIGNsYXNzPVxcXCJub3dyYXBcXFwiPlxcblx0XHRcdFx0PGRpdiBjbGFzcz0naW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHQ8bGFiZWwgY2xhc3M9XFxcImNvbnRyb2wtbGFiZWxcXFwiPnt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fe+8mjwvbGFiZWw+XFxuXHRcdFx0XHQ8L2Rpdj5cXG5cdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLXRhYmxlLXdyYXBwZXItdGQgaW5saW5lLWxlZnQnPlxcblx0XHRcdFx0XHR7ez5UZW1wbGF0ZS5keW5hbWljICB0ZW1wbGF0ZT1cXFwiYWZTZWxlY3RVc2VyXFxcIiBkYXRhPWFwcGxpY2FudENvbnRleHR9fVxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0XHQ8dGQgY2xhc3M9XFxcIm5vd3JhcFxcXCI+XFxuXHRcdFx0XHQ8ZGl2IGNsYXNzPSdwdWxsLWxlZnQnPlxcblx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbmxpbmUtbGVmdCc+XFxuXHRcdFx0XHRcdFx0PGxhYmVsPnt7X3QgXFxcImluc3RhbmNlX3N1Ym1pdF9kYXRlXFxcIn1977yaPC9sYWJlbD5cXG5cdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDxkaXYgY2xhc3M9J2lubGluZS1yaWdodCc+XFxuXHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cFxcXCI+XFxuXHRcdFx0XHRcdFx0XHR7e2Zvcm1hdERhdGUgaW5zdGFuY2Uuc3VibWl0X2RhdGUgJ3tcXFwiZm9ybWF0XFxcIjpcXFwiWVlZWS1NTS1ERFxcXCJ9J319XFxuXHRcdFx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0XHRcdDwvZGl2Plxcblx0XHRcdFx0PC9kaXY+XFxuXHRcdFx0PC90ZD5cXG5cdFx0PC90cj5cXG5cdDwvdGFibGU+XFxuPC9kaXY+XCI7XG4gIHJldHVybiB0ZW1wbGF0ZTtcbn07XG5cblRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGUgPSB7XG4gIFwiZGVmYXVsdFwiOiBmdW5jdGlvbihpbnN0YW5jZSkge1xuICAgIHZhciB0ZW1wbGF0ZTtcbiAgICB0ZW1wbGF0ZSA9IFwiPGRpdiBjbGFzcz1cXFwid2l0aC1ib3JkZXIgY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImluc3RhbmNlLW5hbWVcXFwiPlxcblx0XHQ8aDMgY2xhc3M9XFxcImJveC10aXRsZVxcXCI+XCIgKyAoVGVtcGxhdGVNYW5hZ2VyLmluc3RhbmNlX3RpdGxlKCkucGFnZVRpdGxlKSArIFwiPC9oMz5cXG5cdFx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG5cdDwvZGl2Plxcblx0PHNwYW4gY2xhc3M9XFxcImhlbHAtYmxvY2tcXFwiPjwvc3Bhbj5cXG48L2Rpdj5cXG57eyNlYWNoIHN0ZWVkb3NfZm9ybS5maWVsZHN9fVxcblx0e3sjaWYgaXNPcGluaW9uRmllbGQgdGhpc319XFxuXHRcdDxkaXYgY2xhc3M9XFxcInt7I2lmIHRoaXMuaXNfd2lkZX19Y29sLW1kLTEye3tlbHNlfX1jb2wtbWQtNnt7L2lmfX0gZmllbGQte3t0aGlzLmNvZGV9fVxcXCI+XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwiZm9ybS1ncm91cCBhdXRvbWF0aWMgb3Bpbmlvbi1maWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdDxsYWJlbCBjbGFzcz1cXFwiY29udHJvbC1sYWJlbFxcXCI+e3thZkZpZWxkTGFiZWxUZXh0IG5hbWU9dGhpcy5jb2RlfX08L2xhYmVsPlxcblxcblx0XHRcdFx0e3s+IGluc3RhbmNlU2lnblRleHQgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHQ8L2Rpdj5cXG5cdHt7ZWxzZX19XFxuXHRcdHt7I2lmIGluY2x1ZGVzIHRoaXMudHlwZSAnc2VjdGlvbix0YWJsZSd9fVxcblx0XHRcdDxkaXYgY2xhc3M9XFxcImNvbC1tZC0xMiBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHRcdHt7PiBhZkZvcm1Hcm91cCBuYW1lPXRoaXMuY29kZSBsYWJlbD1mYWxzZX19XFxuXHRcdFx0PC9kaXY+XFxuXHRcdHt7ZWxzZX19XFxuXHRcdFx0PGRpdiBjbGFzcz1cXFwie3sjaWYgdGhpcy5pc193aWRlfX1jb2wtbWQtMTJ7e2Vsc2V9fWNvbC1tZC02e3svaWZ9fSBmaWVsZC17e3RoaXMuY29kZX19XFxcIj5cXG5cdFx0XHR7ez4gYWZGb3JtR3JvdXAgbmFtZT10aGlzLmNvZGV9fVxcblx0XHRcdDwvZGl2Plxcblx0XHR7ey9pZn19XFxuXHR7ey9pZn19XFxue3svZWFjaH19XFxuPGRpdiBjbGFzcz1cXFwiY29sLW1kLTEyXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImFwcGxpY2FudC13cmFwcGVyIGZvcm0tZ3JvdXAgZm9ybS1ob3Jpem9udGFsXFxcIj5cXG5cdDxkaXYgY2xhc3M9XFxcImlucHV0LWdyb3VwXFxcIj5cXG5cdFx0PGRpdiBjbGFzcz1cXFwiaW5wdXQtZ3JvdXAtYWRkb25cXFwiPlxcblx0XHQgIHt7X3QgXFxcImluc3RhbmNlX2luaXRpYXRvclxcXCJ9fSZuYnNwOzpcXG5cdFx0PC9kaXY+XFxuXHRcdHt7PlRlbXBsYXRlLmR5bmFtaWMgIHRlbXBsYXRlPVxcXCJhZlNlbGVjdFVzZXJcXFwiIGRhdGE9YXBwbGljYW50Q29udGV4dH19XFxuXHQgIDwvZGl2Plxcblx0PC9kaXY+XFxuPC9kaXY+XCI7XG4gICAgcmV0dXJuIHRlbXBsYXRlO1xuICB9LFxuICB0YWJsZTogZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoaW5zdGFuY2UpO1xuICB9XG59O1xuXG5UZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlSGVscHMgPSB7XG4gIGFwcGxpY2FudENvbnRleHQ6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBkYXRhLCBzdGVlZG9zX2luc3RhbmNlO1xuICAgIHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sJyxcbiAgICAgICAgc3R5bGU6ICdwYWRkaW5nOjZweCAxMnB4O3dpZHRoOjE0MHB4O2Rpc3BsYXk6aW5saW5lJ1xuICAgICAgfVxuICAgIH07XG4gICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICByZXR1cm4gZGF0YTtcbiAgfVxufTtcblxuKHtcbiAgaW5zdGFuY2VJZDogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuICdpbnN0YW5jZWZvcm0nO1xuICB9LFxuICBmb3JtX3R5cGVzOiBmdW5jdGlvbigpIHtcbiAgICBpZiAoQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgICByZXR1cm4gJ2Rpc2FibGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICdtZXRob2QnO1xuICAgIH1cbiAgfSxcbiAgc3RlZWRvc19mb3JtOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbjtcbiAgICB9XG4gIH0sXG4gIGlubmVyc3ViZm9ybUNvbnRleHQ6IGZ1bmN0aW9uKG9iaikge1xuICAgIHZhciBkb2NfdmFsdWVzO1xuICAgIGRvY192YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgb2JqW1widGFibGVWYWx1ZXNcIl0gPSBkb2NfdmFsdWVzID8gZG9jX3ZhbHVlc1tvYmouY29kZV0gOiBbXTtcbiAgICBvYmpbXCJmb3JtSWRcIl0gPSBmb3JtSWQ7XG4gICAgcmV0dXJuIG9iajtcbiAgfSxcbiAgaW5zdGFuY2U6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBzdGVlZG9zX2luc3RhbmNlO1xuICAgIFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIik7XG4gICAgaWYgKFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgICAgcmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgfVxuICB9LFxuICBlcXVhbHM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYSA9PT0gYjtcbiAgfSxcbiAgaW5jbHVkZXM6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZG9jX3ZhbHVlczogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcbiAgfSxcbiAgaW5zdGFuY2VfYm94X3N0eWxlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgYm94LCBpbnMsIGp1ZGdlO1xuICAgIGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpO1xuICAgIGlmIChib3ggPT09IFwiaW5ib3hcIiB8fCBib3ggPT09IFwiZHJhZnRcIikge1xuICAgICAganVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpO1xuICAgICAgaWYgKGp1ZGdlKSB7XG4gICAgICAgIGlmIChqdWRnZSA9PT0gXCJhcHByb3ZlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgICAgfSBlbHNlIGlmIChqdWRnZSA9PT0gXCJyZWplY3RlZFwiKSB7XG4gICAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGlmIChpbnMgJiYgaW5zLmZpbmFsX2RlY2lzaW9uKSB7XG4gICAgICBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LXN1Y2Nlc3NcIjtcbiAgICAgIH0gZWxzZSBpZiAoaW5zLmZpbmFsX2RlY2lzaW9uID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgcmV0dXJuIFwiYm94LWRhbmdlclwiO1xuICAgICAgfVxuICAgIH1cbiAgfVxufSk7XG5cblRlbXBsYXRlTWFuYWdlci5nZXRUZW1wbGF0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlLCB0ZW1wbGF0ZU5hbWUpIHtcbiAgdmFyIGZsb3csIGZvcm07XG4gIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xuICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcbiAgaWYgKHRlbXBsYXRlTmFtZSkge1xuICAgIGlmICh0ZW1wbGF0ZU5hbWUgPT09ICd0YWJsZScpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICB9XG4gICAgcmV0dXJuIFRlbXBsYXRlTWFuYWdlci5fdGVtcGxhdGVbXCJkZWZhdWx0XCJdKGluc3RhbmNlKTtcbiAgfVxuICBpZiAodHlwZW9mIFNlc3Npb24gIT09IFwidW5kZWZpbmVkXCIgJiYgU2Vzc2lvbiAhPT0gbnVsbCA/IFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSA6IHZvaWQgMCkge1xuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LnByaW50X3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93LnByaW50X3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGZsb3cgIT0gbnVsbCA/IGZsb3cuaW5zdGFuY2VfdGVtcGxhdGUgOiB2b2lkIDApIHtcbiAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtdGVtcGxhdGUnPlwiICsgZmxvdy5pbnN0YW5jZV90ZW1wbGF0ZSArIFwiPC9kaXY+XCI7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gVGVtcGxhdGVNYW5hZ2VyLl90ZW1wbGF0ZS50YWJsZShpbnN0YW5jZSk7XG4gICAgICB9XG4gICAgfVxuICB9IGVsc2Uge1xuICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlIDogdm9pZCAwKSB7XG4gICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS10ZW1wbGF0ZSc+XCIgKyBmbG93Lmluc3RhbmNlX3RlbXBsYXRlICsgXCI8L2Rpdj5cIjtcbiAgICB9XG4gICAgaWYgKGZvcm0gIT0gbnVsbCA/IGZvcm0uaW5zdGFuY2Vfc3R5bGUgOiB2b2lkIDApIHtcbiAgICAgIGlmIChmb3JtLmluc3RhbmNlX3N0eWxlID09PSAndGFibGUnKSB7XG4gICAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlLnRhYmxlKGluc3RhbmNlKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBUZW1wbGF0ZU1hbmFnZXIuX3RlbXBsYXRlW1wiZGVmYXVsdFwiXShpbnN0YW5jZSk7XG4gICAgfVxuICB9XG59O1xuIiwiU3RlZWRvc1RhYmxlID0ge307XHJcblxyXG5TdGVlZG9zVGFibGUuZm9ybUlkID0gXCJpbnN0YW5jZWZvcm1cIjtcclxuXHJcblN0ZWVkb3NUYWJsZS5jaGVja0l0ZW0gPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCkge1xyXG4gICAgdmFyIGZpZWxkT2JqID0gU3RlZWRvc1RhYmxlLmdldEZpZWxkKGZpZWxkKTtcclxuXHJcbiAgICB2YXIgZmllbGRWYWwgPSBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGl0ZW1faW5kZXgpO1xyXG5cclxuICAgIHZhciBzZl9uYW1lID0gJyc7XHJcbiAgICB2YXIgcmV2ID0gdHJ1ZTtcclxuICAgIGZpZWxkT2JqLnNmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihzZikge1xyXG4gICAgICAgIGlmIChzZi5wZXJtaXNzaW9uID09ICdlZGl0YWJsZScpIHtcclxuICAgICAgICAgICAgc2ZfbmFtZSA9IGZpZWxkT2JqLmNvZGUgKyBcIi5cIiArIHNmLmNvZGU7XHJcbiAgICAgICAgICAgIGlmICghSW5zdGFuY2VNYW5hZ2VyLmNoZWNrRm9ybUZpZWxkVmFsdWUoJChcIltuYW1lPSdcIiArIHNmX25hbWUgKyBcIiddXCIpWzBdKSkge1xyXG4gICAgICAgICAgICAgICAgcmV2ID0gZmFsc2U7XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICByZXR1cm4gcmV2O1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuc2V0VGFibGVJdGVtVmFsdWUgPSBmdW5jdGlvbihmaWVsZCwgaXRlbV9pbmRleCwgaXRlbV92YWx1ZSkge1xyXG5cclxuICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpO1xyXG4gICAgdGFibGVWYWx1ZVtpdGVtX2luZGV4XSA9IGl0ZW1fdmFsdWU7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRUYWJsZUl0ZW1WYWx1ZSA9IGZ1bmN0aW9uKGZpZWxkLCBpdGVtX2luZGV4KSB7XHJcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUoZmllbGQpW2l0ZW1faW5kZXhdO1xyXG59XHJcblxyXG5TdGVlZG9zVGFibGUucmVtb3ZlVGFibGVJdGVtID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuICAgIHZhciBpdGVtX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpdGVtX2luZGV4KTtcclxuICAgIGl0ZW1fdmFsdWUucmVtb3ZlZCA9IHRydWU7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XHJcbiAgICAkKFwidGFibGVbbmFtZT0nXCIgKyBmaWVsZCArIFwiJ11cIikudmFsKHtcclxuICAgICAgICB2YWw6IHZhbHVlXHJcbiAgICB9KTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUgPSBmdW5jdGlvbihmaWVsZCkge1xyXG4gICAgcmV0dXJuICQoXCJ0YWJsZVtuYW1lPSdcIiArIGZpZWxkICsgXCInXVwiKS52YWwoKS52YWw7XHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRWYWxpZFZhbHVlID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHZhciB2YWx1ZSA9IFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKTtcclxuXHJcbiAgICBpZiAoIXZhbHVlKSB7XHJcbiAgICAgICAgcmV0dXJuXHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHZhbGlkVmFsdWUgPSBbXTtcclxuXHJcbiAgICB2YWx1ZS5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICBpZiAoIXYucmVtb3ZlZCkge1xyXG4gICAgICAgICAgICB2YWxpZFZhbHVlLnB1c2godik7XHJcbiAgICAgICAgfVxyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdmFsaWRWYWx1ZTtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5oYW5kbGVEYXRhID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlcykge1xyXG5cclxuICAgIGlmICghdmFsdWVzIHx8ICEodmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpKSB7XHJcbiAgICAgICAgcmV0dXJuIHZhbHVlcztcclxuICAgIH1cclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIHZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKHYpIHtcclxuICAgICAgICBmaWVsZE9iai5zZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZikge1xyXG4gICAgICAgICAgICBpZiAoZi50eXBlID09ICd1c2VyJyB8fCBmLnR5cGUgPT0gJ2dyb3VwJykge1xyXG4gICAgICAgICAgICAgICAgdmFyIHZhbHVlID0gdltmLmNvZGVdXHJcbiAgICAgICAgICAgICAgICBpZiAoZi5pc19tdWx0aXNlbGVjdCkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZSAmJiB2YWx1ZS5sZW5ndGggPiAwICYmIHR5cGVvZih2YWx1ZVswXSkgPT0gJ29iamVjdCcpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdltmLmNvZGVdID0gdltmLmNvZGVdLmdldFByb3BlcnR5KFwiaWRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUgJiYgdHlwZW9mKHZhbHVlKSA9PSAnb2JqZWN0Jykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2W2YuY29kZV0gPSB2W2YuY29kZV0uaWQ7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PSAnZGF0ZVRpbWUnKSB7XHJcbiAgICAgICAgICAgICAgICB2YXIgdmFsdWUgPSB2W2YuY29kZV1cclxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xyXG4gICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPT0gMTYpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQgPSB2YWx1ZS5zcGxpdChcIlRcIik7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0MCA9IHRbMF0uc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDEgPSB0WzFdLnNwbGl0KFwiOlwiKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHllYXIgPSB0MFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0MFsxXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgZGF0ZSA9IHQwWzJdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBob3VycyA9IHQxWzBdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBzZWNvbmRzID0gdDFbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUoeWVhciwgbW9udGggLSAxLCBkYXRlLCBob3Vycywgc2Vjb25kcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZbZi5jb2RlXSA9IHZhbHVlO1xyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuXHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIHZhbHVlcztcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldEZpZWxkID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIHZhciBpbnN0YW5jZUZpZWxkcyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZpZWxkcygpO1xyXG4gICAgaWYgKCFpbnN0YW5jZUZpZWxkcylcclxuICAgICAgICByZXR1cm47XHJcblxyXG4gICAgdmFyIGZpZWxkT2JqID0gaW5zdGFuY2VGaWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgZmllbGQpO1xyXG5cclxuICAgIHJldHVybiBmaWVsZE9iajtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRNb2RhbERhdGEgPSBmdW5jdGlvbihmaWVsZCwgaW5kZXgpIHtcclxuXHJcbiAgICB2YXIgZGF0YSA9IHt9O1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgaWYgKCFmaWVsZE9iaikge1xyXG4gICAgICAgIHJldHVybjtcclxuICAgIH1cclxuXHJcbiAgICBkYXRhLmZpZWxkID0gZmllbGRPYmo7XHJcblxyXG4gICAgZGF0YS5maWVsZC5mb3JtdWxhID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmaWVsZE9iai5zZmllbGRzKTtcclxuXHJcbiAgICBkYXRhLnZhbHVlID0ge307XHJcblxyXG4gICAgZGF0YS52YWx1ZVtmaWVsZF0gPSBTdGVlZG9zVGFibGUuZ2V0VGFibGVJdGVtVmFsdWUoZmllbGQsIGluZGV4KTtcclxuXHJcbiAgICBkYXRhLmluZGV4ID0gaW5kZXg7XHJcblxyXG4gICAgcmV0dXJuIGRhdGE7XHJcbn1cclxuXHJcblxyXG5cclxuU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlID0gZnVuY3Rpb24oZmllbGQsIGl0ZW1faW5kZXgpIHtcclxuXHJcbiAgICBpZiAoIUF1dG9Gb3JtLmdldEZvcm1WYWx1ZXMoXCJzdGVlZG9zX3RhYmxlX21vZGFsX1wiICsgZmllbGQgKyBcIl9cIiArIGl0ZW1faW5kZXgpKSB7XHJcbiAgICAgICAgcmV0dXJuIHt9XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwic3RlZWRvc190YWJsZV9tb2RhbF9cIiArIGZpZWxkICsgXCJfXCIgKyBpdGVtX2luZGV4KS5pbnNlcnREb2NbZmllbGRdO1xyXG4gICAgcmV0dXJuIGl0ZW1fdmFsdWU7XHJcbn1cclxuXHJcblxyXG5TdGVlZG9zVGFibGUuYWRkSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgX2l0ZW1fdmFsdWUpIHtcclxuICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgdmFyIGl0ZW1fdmFsdWUgPSBfaXRlbV92YWx1ZSB8fCBTdGVlZG9zVGFibGUuZ2V0SXRlbU1vZGFsVmFsdWUoZmllbGQsIGluZGV4KTtcclxuICAgICQoXCJ0Ym9keVtuYW1lPSdcIiArIGZpZWxkICsgXCJUYm9keSddXCIpLmFwcGVuZChTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCB0cnVlKSlcclxuXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS51cGRhdGVJdGVtID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCBfaXRlbV92YWx1ZSkge1xyXG5cclxuICAgIHZhciBpdGVtID0gJChcInRyW25hbWU9J1wiICsgZmllbGQgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIiddXCIpO1xyXG5cclxuICAgIHZhciBpdGVtX3ZhbHVlID0gX2l0ZW1fdmFsdWUgfHwgU3RlZWRvc1RhYmxlLmdldEl0ZW1Nb2RhbFZhbHVlKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgaWYgKGl0ZW0gJiYgaXRlbS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIGtleXMgPSBTdGVlZG9zVGFibGUuZ2V0S2V5cyhmaWVsZCk7XHJcbiAgICAgICAgdmFyIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgICAgICB2YXIgc2ZpZWxkcyA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCkuc2ZpZWxkcztcclxuXHJcbiAgICAgICAga2V5cy5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xyXG4gICAgICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xyXG5cclxuICAgICAgICAgICAgdmFyIHZhbHVlID0gaXRlbV92YWx1ZVtrZXldO1xyXG5cclxuICAgICAgICAgICAgdGRzID0gdGRzICsgU3RlZWRvc1RhYmxlLmdldFRkKHNmaWVsZCwgaW5kZXgsIHZhbHVlKTtcclxuXHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIGl0ZW0uZW1wdHkoKTtcclxuXHJcbiAgICAgICAgaXRlbS5hcHBlbmQodGRzKTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG5cclxuICAgICAgICBTdGVlZG9zVGFibGUuYWRkSXRlbShmaWVsZCwgaW5kZXgpO1xyXG4gICAgfVxyXG5cclxuICAgIGlmIChTdGVlZG9zVGFibGUuZ2V0VGFibGVWYWx1ZShmaWVsZCkpIHtcclxuXHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlSXRlbVZhbHVlKGZpZWxkLCBpbmRleCwgaXRlbV92YWx1ZSk7XHJcblxyXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF1baW5kZXhdID0gaXRlbV92YWx1ZTtcclxuXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIC8vU3RlZWRvc1RhYmxlLnZhbHVlSGFzaFtmaWVsZF0gPSBbaXRlbV92YWx1ZV07XHJcblxyXG4gICAgICAgIFN0ZWVkb3NUYWJsZS5zZXRUYWJsZVZhbHVlKGZpZWxkLCBbaXRlbV92YWx1ZV0pXHJcblxyXG4gICAgfVxyXG5cclxuICAgIC8v5omn6KGM5Li76KGo5YWs5byP6K6h566XXHJcbiAgICBJbnN0YW5jZU1hbmFnZXIucnVuRm9ybXVsYShmaWVsZCk7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUucmVtb3ZlSXRlbSA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCkge1xyXG5cclxuICAgICQoXCJ0cltuYW1lPSdcIiArIGZpZWxkICsgXCJfaXRlbV9cIiArIGluZGV4ICsgXCInXVwiKS5oaWRlKCk7XHJcblxyXG4gICAgU3RlZWRvc1RhYmxlLnJlbW92ZVRhYmxlSXRlbShmaWVsZCwgaW5kZXgpO1xyXG5cclxuICAgIEluc3RhbmNlTWFuYWdlci5ydW5Gb3JtdWxhKGZpZWxkKTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLnNob3dNb2RhbCA9IGZ1bmN0aW9uKGZpZWxkLCBpbmRleCwgbWV0aG9kKSB7XHJcblxyXG5cclxuICAgIHZhciBtb2RhbERhdGEgPSBTdGVlZG9zVGFibGUuZ2V0TW9kYWxEYXRhKGZpZWxkLCBpbmRleCk7XHJcblxyXG4gICAgbW9kYWxEYXRhLm1ldGhvZCA9IG1ldGhvZDtcclxuXHJcbiAgICBNb2RhbC5zaG93KFwic3RlZWRvc1RhYmxlTW9kYWxcIiwgbW9kYWxEYXRhKTtcclxuXHJcbn1cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRLZXlzID0gZnVuY3Rpb24oZmllbGQpIHtcclxuICAgIGlmICghQXV0b0Zvcm0uZ2V0Q3VycmVudERhdGFGb3JGb3JtKFN0ZWVkb3NUYWJsZS5mb3JtSWQpKSB7XHJcbiAgICAgICAgcmV0dXJuIFtdO1xyXG4gICAgfVxyXG5cclxuICAgIHZhciBzcyA9IEF1dG9Gb3JtLmdldEZvcm1TY2hlbWEoU3RlZWRvc1RhYmxlLmZvcm1JZCk7XHJcblxyXG4gICAgdmFyIGtleXMgPSBbXTtcclxuXHJcbiAgICBpZiAoc3Muc2NoZW1hKGZpZWxkICsgXCIuJFwiKS50eXBlID09PSBPYmplY3QpIHtcclxuICAgICAgICBrZXlzID0gc3Mub2JqZWN0S2V5cyhTaW1wbGVTY2hlbWEuX21ha2VHZW5lcmljKGZpZWxkKSArICcuJCcpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIGtleXM7XHJcblxyXG59XHJcblxyXG5TdGVlZG9zVGFibGUuZ2V0VGhlYWQgPSBmdW5jdGlvbihmaWVsZCwgZWRpdGFibGUpIHtcclxuXHJcbiAgICB2YXIgZmllbGRPYmogPSBmaWVsZDtcclxuICAgIGlmICghXy5pc09iamVjdChmaWVsZCkpXHJcbiAgICAgICAgZmllbGRPYmogPSBTdGVlZG9zVGFibGUuZ2V0RmllbGQoZmllbGQpO1xyXG5cclxuICAgIGlmICghZmllbGRPYmopIHtcclxuICAgICAgICByZXR1cm4gJyc7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHRoZWFkID0gJycsXHJcbiAgICAgICAgdHJzID0gJycsXHJcbiAgICAgICAgbGFiZWwgPSAnJyxcclxuICAgICAgICB3aWR0aCA9IDEwMDtcclxuXHJcbiAgICBpZiAoZWRpdGFibGUpIHtcclxuICAgICAgICAvLyB0cnMgPSBcIjx0aCBjbGFzcz0ncmVtb3ZlZCc+PC90aD5cIlxyXG5cdFx0dHJzID0gXCJcIlxyXG4gICAgfVxyXG5cclxuICAgIHZhciBzZmllbGRzID0gZmllbGRPYmouc2ZpZWxkcztcclxuXHJcbiAgICBpZighc2ZpZWxkcyl7XHJcbiAgICBcdHJldHVybiB0aGVhZDtcclxuXHR9XHJcblxyXG4gICAgdmFyIHNmX2xlbmd0aCA9IHNmaWVsZHMubGVuZ3RoO1xyXG5cclxuICAgIGlmIChzZl9sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgdmFyIHdpZGVfZmllbGRzID0gc2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XHJcblxyXG4gICAgICAgIHdpZHRoID0gMTAwIC8gKHNmX2xlbmd0aCArIHdpZGVfZmllbGRzLmxlbmd0aCk7XHJcbiAgICB9XHJcblxyXG4gICAgc2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKHNmLCBpbmRleCkge1xyXG5cclxuICAgICAgICBsYWJlbCA9IChzZi5uYW1lICE9IG51bGwgJiYgc2YubmFtZS5sZW5ndGggPiAwKSA/IHNmLm5hbWUgOiBzZi5jb2RlO1xyXG5cclxuICAgICAgICB0cnMgPSB0cnMgKyBcIjx0ZCBcIjsgLy8gbm93cmFwPSdub3dyYXAnXHJcblxyXG4gICAgICAgIHRycyA9IHRycyArIFwiIGNsYXNzPSd0aXRsZSBcIiArIHNmLnR5cGUgKyBcIidcIjtcclxuXHJcbiAgICAgICAgaWYgKGluZGV4ICE9IChzZl9sZW5ndGggLSAxKSkge1xyXG4gICAgICAgICAgICBpZiAoc2YuaXNfd2lkZSkge1xyXG4gICAgICAgICAgICAgICAgdHJzID0gdHJzICsgXCJzdHlsZT0nd2lkdGg6XCIgKyB3aWR0aCAqIDIgKyBcIiUnXCJcclxuICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgIHRycyA9IHRycyArIFwic3R5bGU9J3dpZHRoOlwiICsgd2lkdGggKyBcIiUnXCJcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgdHJzID0gdHJzICsgXCI+XCIgKyBsYWJlbCArIFwiPC90ZD5cIlxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhlYWQgPSAnPHRyPicgKyB0cnMgKyAnPC90cj4nO1xyXG5cclxuICAgIHJldHVybiB0aGVhZDtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRib2R5ID0gZnVuY3Rpb24oa2V5cywgZmllbGQsIHZhbHVlcywgZWRpdGFibGUpIHtcclxuICAgIHZhciB0Ym9keSA9IFwiXCI7XHJcblxyXG4gICAgaWYgKHZhbHVlcyBpbnN0YW5jZW9mIEFycmF5KSB7XHJcbiAgICAgICAgdmFsdWVzLmZvckVhY2goZnVuY3Rpb24odmFsdWUsIGluZGV4KSB7XHJcbiAgICAgICAgICAgIHRib2R5ID0gdGJvZHkgKyBTdGVlZG9zVGFibGUuZ2V0VHIoa2V5cywgdmFsdWUsIGluZGV4LCBmaWVsZCwgZWRpdGFibGUpO1xyXG4gICAgICAgIH0pO1xyXG4gICAgfVxyXG5cclxuICAgIHJldHVybiB0Ym9keTtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRyID0gZnVuY3Rpb24oa2V5cywgaXRlbV92YWx1ZSwgaW5kZXgsIGZpZWxkLCBlZGl0YWJsZSkge1xyXG5cclxuICAgIHZhciBmaWVsZE9iaiA9IGZpZWxkO1xyXG4gICAgaWYgKCFfLmlzT2JqZWN0KGZpZWxkKSlcclxuICAgICAgICBmaWVsZE9iaiA9IFN0ZWVkb3NUYWJsZS5nZXRGaWVsZChmaWVsZCk7XHJcblxyXG4gICAgdmFyIHRyID0gXCI8dHIgaWQ9J1wiICsgZmllbGRPYmouY29kZSArIFwiX2l0ZW1fXCIgKyBpbmRleCArIFwiJyBuYW1lPSdcIiArIGZpZWxkT2JqLmNvZGUgKyBcIl9pdGVtX1wiICsgaW5kZXggKyBcIicgZGF0YS1pbmRleD0nXCIgKyBpbmRleCArIFwiJ1wiXHJcblxyXG4gICAgaWYgKGVkaXRhYmxlKSB7XHJcbiAgICAgICAgdHIgPSB0ciArIFwiJyBjbGFzcz0naXRlbSBlZGl0J1wiXHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICAgIGlmKFN0ZWVkb3MuaXNNb2JpbGUoKSl7XHJcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSBpdGVtLXJlYWRvbmx5J1wiXHJcbiAgICAgICAgfWVsc2V7XHJcblx0XHRcdHRyID0gdHIgKyBcIiBjbGFzcz0naXRlbSAnXCJcclxuICAgICAgICB9XHJcbiAgICB9XHJcblxyXG4gICAgaWYgKGl0ZW1fdmFsdWUucmVtb3ZlZCkge1xyXG4gICAgICAgIHRyID0gdHIgKyBcIiBzdHlsZT0nZGlzcGxheTpub25lJyBcIjtcclxuICAgIH1cclxuXHJcbiAgICB0ciA9IHRyICsgXCInPlwiO1xyXG5cclxuICAgIHZhciB0ZHMgPSBcIlwiO1xyXG5cclxuICAgIGlmIChlZGl0YWJsZSkge1xyXG4gICAgICAgIHRkcyA9IFN0ZWVkb3NUYWJsZS5nZXRSZW1vdmVUZChmaWVsZE9iai5jb2RlLCBpbmRleCk7XHJcbiAgICB9XHJcblxyXG4gICAgdmFyIHNmaWVsZHMgPSBmaWVsZE9iai5zZmllbGRzO1xyXG5cclxuICAgIGtleXMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcclxuICAgICAgICB2YXIgc2ZpZWxkID0gc2ZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBrZXkpO1xyXG5cclxuICAgICAgICB2YXIgdmFsdWUgPSBpdGVtX3ZhbHVlW2tleV07XHJcblxyXG4gICAgICAgIHRkcyA9IHRkcyArIFN0ZWVkb3NUYWJsZS5nZXRUZChzZmllbGQsIGluZGV4LCB2YWx1ZSk7XHJcblxyXG4gICAgfSk7XHJcblxyXG4gICAgdHIgPSB0ciArIHRkcyArIFwiPC90cj5cIjtcclxuICAgIHJldHVybiB0cjtcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFJlbW92ZVRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XHJcbiAgICAvLyByZXR1cm4gXCI8dGQgY2xhc3M9J3N0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSByZW1vdmVkJyBkYXRhLWluZGV4PSdcIiArIGluZGV4ICsgXCInPjxpIGNsYXNzPSdmYSBmYS10aW1lcycgYXJpYS1oaWRkZW49J3RydWUnPjwvdGQ+XCI7XHJcblx0cmV0dXJuIFwiXCJcclxufVxyXG5cclxuU3RlZWRvc1RhYmxlLmdldFRkID0gZnVuY3Rpb24oZmllbGQsIGluZGV4LCB2YWx1ZSkge1xyXG4gICAgdmFyIHRkID0gXCI8dGQgXCI7XHJcblxyXG4gICAgdGQgPSB0ZCArIFwiIGNsYXNzPSdzdGVlZG9zVGFibGUtaXRlbS1maWVsZCBcIiArIGZpZWxkLnR5cGUgKyBcIicgXCI7XHJcblxyXG4gICAgdmFyIHRkX3ZhbHVlID0gXCJcIjtcclxuXHJcbiAgICBpZihNZXRlb3IuaXNDbGllbnQpe1xyXG4gICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFREVmFsdWUoZmllbGQsIHZhbHVlKVxyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cclxuICAgICAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0XHJcblxyXG4gICAgICAgIHRkX3ZhbHVlID0gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlKHZhbHVlLCBmaWVsZCwgbG9jYWxlLCB1dGNPZmZzZXQpXHJcbiAgICB9XHJcblxyXG4gICAgdGQgPSB0ZCArIFwiIGRhdGEtaW5kZXg9J1wiICsgaW5kZXggKyBcIic+XCIgKyB0ZF92YWx1ZSArIFwiPC90ZD5cIlxyXG5cclxuICAgIHJldHVybiB0ZDtcclxufVxyXG5cclxuXHJcblN0ZWVkb3NUYWJsZS5nZXRURFZhbHVlID0gZnVuY3Rpb24oZmllbGQsIHZhbHVlKSB7XHJcbiAgICB2YXIgdGRfdmFsdWUgPSBcIlwiO1xyXG4gICAgaWYgKCFmaWVsZCkge1xyXG4gICAgICAgIHJldHVybiB0ZF92YWx1ZVxyXG4gICAgfVxyXG4gICAgdHJ5IHtcclxuXHJcbiAgICAgICAgc3dpdGNoIChmaWVsZC50eXBlKSB7XHJcbiAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgaWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmICh2YWx1ZS5sZW5ndGggPiAwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoXCJzdHJpbmdcIiA9PSB0eXBlb2YodmFsdWVbMF0pKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFTcGFjZVVzZXJzKHZhbHVlKS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSB2YWx1ZS5nZXRQcm9wZXJ0eShcIm5hbWVcIikudG9TdHJpbmcoKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHZhciB1ID0gQ0ZEYXRhTWFuYWdlci5nZXRGb3JtdWxhU3BhY2VVc2Vycyh2YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHUgPyB1Lm5hbWUgOiAnJztcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUubmFtZTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdncm91cCc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAoZmllbGQuaXNfbXVsdGlzZWxlY3QpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKHZhbHVlLmxlbmd0aCA+IDApIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChcInN0cmluZ1wiID09IHR5cGVvZih2YWx1ZVswXSkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IENGRGF0YU1hbmFnZXIuZ2V0Rm9ybXVsYU9yZ2FuaXphdGlvbnModmFsdWUpLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLmdldFByb3BlcnR5KFwibmFtZVwiKS50b1N0cmluZygpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKFwic3RyaW5nXCIgPT0gdHlwZW9mKHZhbHVlKSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdmFyIG8gPSBDRkRhdGFNYW5hZ2VyLmdldEZvcm11bGFPcmdhbml6YXRpb24odmFsdWUpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBvID8gby5uYW1lIDogJyc7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IHZhbHVlLm5hbWU7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnY2hlY2tib3gnOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09ICd0cnVlJykge1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xyXG4gICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuICAgICAgICAgICAgICAgICAgICB0ZF92YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ2VtYWlsJzpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyBcIjxhIGhyZWY9J21haWx0bzpcIiArIHZhbHVlICsgXCInPlwiICsgdmFsdWUgKyBcIjwvYT5cIiA6IFwiXCI7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAndXJsJzpcclxuICAgICAgICAgICAgICAgIGlmKHZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICBpZih2YWx1ZS5pbmRleE9mKFwiaHR0cFwiKSA9PSAwKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdHJ5IHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gXCI8YSBocmVmPSdcIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9JycgdGFyZ2V0PSdfYmxhbmsnPlwiICsgdmFsdWUgKyBcIjwvYT5cIjtcclxuICAgICAgICAgICAgICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICAgICAgICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIjxhIGhyZWY9J2h0dHA6Ly9cIiArIGVuY29kZVVSSSh2YWx1ZSkgKyBcIicgdGFyZ2V0PSdfYmxhbmsnPmh0dHA6Ly9cIiArIHZhbHVlICsgXCI8L2E+XCI7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgdGRfdmFsdWUgPSBcIlwiO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgICAgIGNhc2UgJ3Bhc3N3b3JkJzpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJyoqKioqKic7XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDEwKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCItXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdFswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgbW9udGggPSB0WzFdO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBkYXRlID0gdFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUpO1xyXG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQnKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XHJcbiAgICAgICAgICAgICAgICBpZiAodmFsdWUpIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodmFsdWUubGVuZ3RoID09IDE2KSB7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhciB0ID0gdmFsdWUuc3BsaXQoXCJUXCIpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgdDAgPSB0WzBdLnNwbGl0KFwiLVwiKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHQxID0gdFsxXS5zcGxpdChcIjpcIik7XHJcblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB5ZWFyID0gdDBbMF07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIG1vbnRoID0gdDBbMV07XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGRhdGUgPSB0MFsyXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaG91cnMgPSB0MVswXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgc2Vjb25kcyA9IHQxWzFdO1xyXG5cclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBuZXcgRGF0ZSh5ZWFyLCBtb250aCAtIDEsIGRhdGUsIGhvdXJzLCBzZWNvbmRzKTtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcclxuXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbHVlID0gbmV3IERhdGUodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gJC5mb3JtYXQuZGF0ZSh2YWx1ZSwgJ3l5eXktTU0tZGQgSEg6bW0nKTtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIGJyZWFrO1xyXG4gICAgICAgICAgICBjYXNlICdudW1iZXInOlxyXG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlIHx8IHZhbHVlID09IDApIHtcclxuICAgICAgICAgICAgICAgICAgICBpZiAodHlwZW9mKHZhbHVlKSA9PSAnc3RyaW5nJykge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YWx1ZSA9IHBhcnNlRmxvYXQodmFsdWUpXHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUudG9GaXhlZChmaWVsZC5kaWdpdHMpO1xyXG4gICAgICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gU3RlZWRvcy5udW1iZXJUb1N0cmluZyh0ZF92YWx1ZSk7XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxyXG4gICAgICAgICAgICAgICAgaWYodmFsdWUpe1xyXG5cdFx0XHRcdFx0aWYgKGZpZWxkLmlzX211bHRpc2VsZWN0KXtcclxuXHRcdFx0XHRcdFx0dGRfdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKVxyXG5cdFx0XHRcdFx0fWVsc2V7XHJcblx0XHRcdFx0XHRcdHRkX3ZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXHJcblx0XHRcdFx0XHR9XHJcbiAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICBicmVhaztcclxuICAgICAgICAgICAgZGVmYXVsdDpcclxuICAgICAgICAgICAgICAgIHRkX3ZhbHVlID0gdmFsdWUgPyB2YWx1ZSA6ICcnO1xyXG4gICAgICAgICAgICAgICAgYnJlYWs7XHJcbiAgICAgICAgfVxyXG4gICAgfSBjYXRjaCAoZSkge1xyXG4gICAgICAgIGU7XHJcblxyXG4gICAgICAgIHJldHVybiAnJztcclxuICAgIH1cclxuICAgIHJldHVybiB0ZF92YWx1ZTtcclxufTtcclxuXHJcbmlmKE1ldGVvci5pc0NsaWVudCl7XHJcbiAgICBBdXRvRm9ybS5hZGRJbnB1dFR5cGUoXCJ0YWJsZVwiLCB7XHJcbiAgICAgICAgdGVtcGxhdGU6IFwiYWZUYWJsZVwiLFxyXG4gICAgICAgIHZhbHVlT3V0OiBmdW5jdGlvbigpIHtcclxuICAgICAgICAgICAgdmFyIG5hbWUgPSB0aGlzLmRhdGEoXCJzY2hlbWFLZXlcIik7XHJcbiAgICAgICAgICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VmFsaWRWYWx1ZShuYW1lKTtcclxuICAgICAgICB9LFxyXG4gICAgICAgIHZhbHVlQ29udmVydGVyczoge1xyXG4gICAgICAgICAgICBcInN0cmluZ0FycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb1N0cmluZ0FycmF5LFxyXG4gICAgICAgICAgICBcIm51bWJlclwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXIsXHJcbiAgICAgICAgICAgIFwibnVtZXJBcnJheVwiOiBBdXRvRm9ybS52YWx1ZUNvbnZlcnRlcnMuc3RyaW5nVG9OdW1iZXJBcnJheSxcclxuICAgICAgICAgICAgXCJib29sZWFuXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW4sXHJcbiAgICAgICAgICAgIFwiYm9vbGVhbkFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0Jvb2xlYW5BcnJheSxcclxuICAgICAgICAgICAgXCJkYXRlXCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGUsXHJcbiAgICAgICAgICAgIFwiZGF0ZUFycmF5XCI6IEF1dG9Gb3JtLnZhbHVlQ29udmVydGVycy5zdHJpbmdUb0RhdGVBcnJheVxyXG4gICAgICAgIH0sXHJcbiAgICAgICAgY29udGV4dEFkanVzdDogZnVuY3Rpb24oY29udGV4dCkge1xyXG4gICAgICAgICAgICBpZiAodHlwZW9mIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPT09ICd1bmRlZmluZWQnICYmIHR5cGVvZiBjb250ZXh0Lm1heCA9PT0gJ251bWJlcicpIHtcclxuICAgICAgICAgICAgICAgIGNvbnRleHQuYXR0cy5tYXhsZW5ndGggPSBjb250ZXh0Lm1heDtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICByZXR1cm4gY29udGV4dDtcclxuICAgICAgICB9XHJcbiAgICB9KTtcclxuXHJcbiAgICBUZW1wbGF0ZS5hZlRhYmxlLmV2ZW50cyh7XHJcbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tYWRkLC5hZGQtaXRlbS10cic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgbmFtZSA9IHRlbXBsYXRlLmRhdGEubmFtZTtcclxuXHJcbiAgICAgICAgICAgIHZhciB0YWJsZVZhbHVlID0gU3RlZWRvc1RhYmxlLmdldFRhYmxlVmFsdWUobmFtZSk7XHJcblxyXG4gICAgICAgICAgICB2YXIgbmV3X2l0ZW1faW5kZXggPSB0YWJsZVZhbHVlID8gdGFibGVWYWx1ZS5sZW5ndGggOiAwO1xyXG5cclxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChuYW1lLCBuZXdfaXRlbV9pbmRleCwgXCJhZGRcIik7XHJcbiAgICAgICAgfSxcclxuXHJcbiAgICAgICAgJ3RhcCAuc3RlZWRvcy10YWJsZSAuc3RlZWRvc1RhYmxlLWl0ZW0tZmllbGQnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcclxuICAgICAgICAgICAgaWYgKHRlbXBsYXRlLmRhdGEuYXR0cy5lZGl0YWJsZSkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG4gICAgICAgICAgICAgICAgdmFyIGluZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xyXG4gICAgICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnNob3dNb2RhbChmaWVsZCwgaW5kZXgsIFwiZWRpdFwiKTtcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLnN0ZWVkb3NUYWJsZS1pdGVtLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xyXG4gICAgICAgICAgICB2YXIgZmllbGQgPSB0ZW1wbGF0ZS5kYXRhLm5hbWU7XHJcbiAgICAgICAgICAgIHZhciBpdGVtX2luZGV4ID0gZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmluZGV4O1xyXG4gICAgICAgICAgICBTZXNzaW9uLnNldChcImluc3RhbmNlX2NoYW5nZVwiLCB0cnVlKTtcclxuICAgICAgICAgICAgU3RlZWRvc1RhYmxlLnJlbW92ZUl0ZW0oZmllbGQsIGl0ZW1faW5kZXgpO1xyXG4gICAgICAgIH0sXHJcblxyXG4gICAgICAgICd0YXAgLnN0ZWVkb3MtdGFibGUgLml0ZW0tcmVhZG9ubHknOiBmdW5jdGlvbiAoZXZlbnQsIHRlbXBsYXRlKSB7XHJcblx0XHRcdGlmICghdGVtcGxhdGUuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XHJcblx0XHRcdFx0dmFyIGZpZWxkID0gdGVtcGxhdGUuZGF0YS5uYW1lO1xyXG5cdFx0XHRcdHZhciBpbmRleCA9IGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5pbmRleDtcclxuXHRcdFx0XHRTdGVlZG9zVGFibGUuc2hvd01vZGFsKGZpZWxkLCBpbmRleCwgXCJyZWFkXCIpO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcbiAgICB9KTtcclxuXHJcblxyXG5cclxuICAgIFRlbXBsYXRlLmFmVGFibGUucmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcclxuXHJcbiAgICAgICAgdmFyIGZpZWxkID0gdGhpcy5kYXRhLm5hbWU7XHJcblxyXG4gICAgICAgIHZhciBrZXlzID0gU3RlZWRvc1RhYmxlLmdldEtleXMoZmllbGQpO1xyXG4gICAgICAgIHZhciB2YWxpZFZhbHVlID0gU3RlZWRvc1RhYmxlLmhhbmRsZURhdGEoZmllbGQsIHRoaXMuZGF0YS52YWx1ZSk7XHJcbiAgICAgICAgU3RlZWRvc1RhYmxlLnNldFRhYmxlVmFsdWUoZmllbGQsIHZhbGlkVmFsdWUpO1xyXG5cclxuICAgICAgICAkKFwidGhlYWRbbmFtZT0nXCIgKyBmaWVsZCArIFwiVGhlYWQnXVwiKS5odG1sKFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcclxuXHJcbiAgICAgICAgJChcInRib2R5W25hbWU9J1wiICsgZmllbGQgKyBcIlRib2R5J11cIikuaHRtbChTdGVlZG9zVGFibGUuZ2V0VGJvZHkoa2V5cywgZmllbGQsIFN0ZWVkb3NUYWJsZS5nZXRUYWJsZVZhbHVlKGZpZWxkKSwgdGhpcy5kYXRhLmF0dHMuZWRpdGFibGUpKTtcclxuICAgICAgICBcclxuICAgICAgICBzdHIgPSB0KFwic3RlZWRvc190YWJsZV9hZGRfaXRlbVwiKTtcclxuICAgICAgICBhZGRJdGVtVHIgPSBcIjx0ciBjbGFzcz0nYWRkLWl0ZW0tdHInPjx0ZCBjb2xzcGFuPSdcIitrZXlzLmxlbmd0aCtcIic+PGkgY2xhc3M9J2lvbiBpb24tcGx1cy1yb3VuZCc+PC9pPlwiK3N0citcIjwvdGQ+PC90cj5cIjtcclxuXHJcbiAgICAgICAgaWYgKHRoaXMuZGF0YS5hdHRzLmVkaXRhYmxlKSB7XHJcbiAgICAgICAgICAgJChcInRmb290W25hbWU9J1wiICsgZmllbGQgKyBcIlRmb290J11cIikuYXBwZW5kKGFkZEl0ZW1Ucik7XHJcbiAgICAgICAgfVxyXG4gICAgfTtcclxufSIsIkltYWdlU2lnbi5oZWxwZXJzID1cclxuXHRzcGFjZVVzZXJTaWduOiAodXNlcklkKS0+XHJcblx0XHRzcGFjZSA9IFwiXCJcclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0c3BhY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuc3BhY2VcclxuXHRcdGVsc2VcclxuXHRcdFx0c3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIilcclxuXHJcblx0XHRzcGFjZVVzZXJTaWduID0gZGIuc3BhY2VfdXNlcl9zaWducy5maW5kT25lKHtzcGFjZTogc3BhY2UsIHVzZXI6IHVzZXJJZH0pO1xyXG5cdFx0cmV0dXJuIHNwYWNlVXNlclNpZ25cclxuXHJcblx0aW1hZ2VVUkw6ICh1c2VySWQpLT5cclxuXHJcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbih1c2VySWQpO1xyXG5cclxuXHRcdGFic29sdXRlID0gZmFsc2VcclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0YWJzb2x1dGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuYWJzb2x1dGVcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXHJcblx0XHRcdGlmIGFic29sdXRlXHJcblx0XHRcdFx0cmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xyXG4iLCJJbWFnZVNpZ24uaGVscGVycyA9IHtcbiAgc3BhY2VVc2VyU2lnbjogZnVuY3Rpb24odXNlcklkKSB7XG4gICAgdmFyIHNwYWNlLCBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlID0gXCJcIjtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzcGFjZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zcGFjZTtcbiAgICB9IGVsc2Uge1xuICAgICAgc3BhY2UgPSBTZXNzaW9uLmdldChcInNwYWNlSWRcIik7XG4gICAgfVxuICAgIHNwYWNlVXNlclNpZ24gPSBkYi5zcGFjZV91c2VyX3NpZ25zLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlLFxuICAgICAgdXNlcjogdXNlcklkXG4gICAgfSk7XG4gICAgcmV0dXJuIHNwYWNlVXNlclNpZ247XG4gIH0sXG4gIGltYWdlVVJMOiBmdW5jdGlvbih1c2VySWQpIHtcbiAgICB2YXIgYWJzb2x1dGUsIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24odXNlcklkKTtcbiAgICBhYnNvbHV0ZSA9IGZhbHNlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGFic29sdXRlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmFic29sdXRlO1xuICAgIH1cbiAgICBpZiAoc3BhY2VVc2VyU2lnbiAhPSBudWxsID8gc3BhY2VVc2VyU2lnbi5zaWduIDogdm9pZCAwKSB7XG4gICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS9maWxlcy9hdmF0YXJzL1wiICsgc3BhY2VVc2VyU2lnbi5zaWduKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBTdGVlZG9zLmFic29sdXRlVXJsKFwiYXBpL2ZpbGVzL2F2YXRhcnMvXCIgKyBzcGFjZVVzZXJTaWduLnNpZ24pO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcbiIsIlRyYWNlc0hhbmRsZXIuaGVscGVycyA9XHJcblx0c2hvd1NpZ25JbWFnZTogKGhhbmRsZXIpIC0+XHJcblx0XHRzcGFjZVVzZXJTaWduID0gSW1hZ2VTaWduLmhlbHBlcnMuc3BhY2VVc2VyU2lnbihoYW5kbGVyKTtcclxuXHJcblx0XHRpZiBzcGFjZVVzZXJTaWduPy5zaWduXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZSIsIlRyYWNlc0hhbmRsZXIuaGVscGVycyA9IHtcbiAgc2hvd1NpZ25JbWFnZTogZnVuY3Rpb24oaGFuZGxlcikge1xuICAgIHZhciBzcGFjZVVzZXJTaWduO1xuICAgIHNwYWNlVXNlclNpZ24gPSBJbWFnZVNpZ24uaGVscGVycy5zcGFjZVVzZXJTaWduKGhhbmRsZXIpO1xuICAgIGlmIChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9XG59O1xuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9XHJcblx0YXBwbGljYW50Q29udGV4dDogLT5cclxuXHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGRhdGEgPSB7XHJcblx0XHRcdG5hbWU6ICdpbnNfYXBwbGljYW50JyxcclxuXHRcdFx0YXR0czoge25hbWU6ICdpbnNfYXBwbGljYW50JywgaWQ6ICdpbnNfYXBwbGljYW50JywgY2xhc3M6ICdzZWxlY3RVc2VyIGZvcm0tY29udHJvbCBpbnNfYXBwbGljYW50J30sXHJcblx0XHRcdHZhbHVlOiBzdGVlZG9zX2luc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblx0XHR9XHJcblx0XHRpZiBub3Qgc3RlZWRvc19pbnN0YW5jZSB8fCBzdGVlZG9zX2luc3RhbmNlLnN0YXRlICE9IFwiZHJhZnRcIlxyXG5cdFx0XHRkYXRhLmF0dHMuZGlzYWJsZWQgPSB0cnVlXHJcblx0XHRyZXR1cm4gZGF0YTtcclxuXHJcblx0aW5zdGFuY2VJZDogLT5cclxuXHRcdHJldHVybiAnaW5zdGFuY2Vmb3JtJzsjXCJpbnN0YW5jZV9cIiArIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKTtcclxuXHJcblx0Zm9ybV90eXBlczogLT5cclxuXHRcdGlmIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cdFx0XHRyZXR1cm4gJ2Rpc2FibGVkJztcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuICdtZXRob2QnO1xyXG5cclxuXHRzdGVlZG9zX2Zvcm06IC0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBmb3JtX3ZlcnNpb25cclxuXHJcblx0aW5uZXJzdWJmb3JtQ29udGV4dDogKG9iaiktPlxyXG5cdFx0ZG9jX3ZhbHVlcyA9IFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWFWYWx1ZXMoKTtcclxuXHRcdG9ialtcInRhYmxlVmFsdWVzXCJdID0gaWYgZG9jX3ZhbHVlcyB0aGVuIGRvY192YWx1ZXNbb2JqLmNvZGVdIGVsc2UgW11cclxuXHRcdG9ialtcImZvcm1JZFwiXSA9IFwiaW5zdGFuY2Vmb3JtXCI7XHJcblx0XHRyZXR1cm4gb2JqO1xyXG5cclxuXHRpbnN0YW5jZTogLT5cclxuXHRcdFNlc3Npb24uZ2V0KFwiY2hhbmdlX2RhdGVcIilcclxuXHRcdGlmIChTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIikpXHJcblx0XHRcdHN0ZWVkb3NfaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdFx0cmV0dXJuIHN0ZWVkb3NfaW5zdGFuY2U7XHJcblxyXG5cdGVtcHR5OiAodmFsKSAtPlxyXG5cdFx0aWYgdmFsXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0dW5lbXB0eTogKHZhbCkgLT5cclxuXHRcdGlmIHZhbFxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRlcXVhbHM6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIChhID09IGIpXHJcblxyXG5cdHVuZXF1YWxzOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiAhKGEgPT0gYilcclxuXHJcblx0aW5jbHVkZXM6IChhLCBiKSAtPlxyXG5cdFx0cmV0dXJuIGIuc3BsaXQoJywnKS5pbmNsdWRlcyhhKTtcclxuXHJcblx0aW5jbHVkZTogKGEsIGIpIC0+XHJcblx0XHRyZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xyXG5cclxuXHRmaWVsZHM6IC0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xyXG5cdFx0aWYgZm9ybV92ZXJzaW9uXHJcblx0XHRcdHJldHVybiBuZXcgU2ltcGxlU2NoZW1hKFdvcmtmbG93TWFuYWdlcl9mb3JtYXQuZ2V0QXV0b2Zvcm1TY2hlbWEoZm9ybV92ZXJzaW9uKSk7XHJcblxyXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XHJcblx0XHRpZiAhZGF0ZVxyXG5cdFx0XHRyZXR1cm4gXCJcIjtcclxuXHRcdGlmIG9wdGlvbnMgJiYgdHlwZW9mKG9wdGlvbnMpID09ICdzdHJpbmcnXHJcblx0XHRcdG9wdGlvbnMgPSBKU09OLnBhcnNlKG9wdGlvbnMpO1xyXG5cclxuXHRcdGlmICFvcHRpb25zLmZvcm1hdFxyXG5cdFx0XHRvcHRpb25zID0ge2Zvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJ9XHJcblxyXG5cdFx0cmV0dXJuIG1vbWVudChkYXRlKS5mb3JtYXQob3B0aW9ucy5mb3JtYXQpO1xyXG5cclxuXHR0cmFjZXM6IC0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0c3RlZWRvc0RhdGEgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy52aWV3Py50ZW1wbGF0ZT8uc3RlZWRvc0RhdGFcclxuXHRcdFx0aW5zdGFuY2UgPSBzdGVlZG9zRGF0YT8uaW5zdGFuY2VcclxuXHRcdFx0ZmxvdyA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRGbG93VmVyc2lvbihpbnN0YW5jZSk7XHJcblx0XHRcdGxvY2FsZSA9IHN0ZWVkb3NEYXRhPy5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuXHRcdFx0ZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZsb3dWZXJzaW9uKClcclxuXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHJcblx0XHRpZiAhaW5zdGFuY2UgfHwgIWZsb3dcclxuXHRcdFx0cmV0dXJuIHt9O1xyXG5cclxuXHRcdHN0ZXBzID0gZmxvdy5zdGVwcztcclxuXHJcblx0XHR0cmFjZXMgPSB7fTtcclxuXHJcblx0XHRpbnN0YW5jZS50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XHJcblx0XHRcdHN0ZXAgPSBzdGVwcy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHRyYWNlLnN0ZXApXHJcblxyXG5cdFx0XHRhcHByb3ZlcyA9IFtdXHJcblxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cclxuXHRcdFx0XHRpZiB0cmFjZS5pc19maW5pc2hlZCA9PSB0cnVlXHJcbiMg5bey57uT5p2f55qE5pi+56S65Li65qC45YeGL+mps+Wbni/lj5bmtojnlLPor7dcclxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuanVkZ2UgPT0gJ2FwcHJvdmVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIGFwcHJvdmVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3JlamVjdGVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlamVjdGVkXCIsIHt9LCBsb2NhbGUpXHJcblx0XHRcdFx0XHRlbHNlIGlmIGFwcHJvdmUuanVkZ2UgPT0gJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICdyZWFzc2lnbmVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlYXNzaWduZWRcIiwge30sIGxvY2FsZSlcclxuXHRcdFx0XHRcdGVsc2UgaWYgYXBwcm92ZS5qdWRnZSA9PSAncmVsb2NhdGVkJ1xyXG5cdFx0XHRcdFx0XHRqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHJlbG9jYXRlZFwiLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRcdFx0ZWxzZSBpZiBhcHByb3ZlLmp1ZGdlID09ICcnXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBcIlwiXHJcblxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdGp1ZGdlX25hbWUgPSBUQVBpMThuLl9fKFwiSW5zdGFuY2UgU3RhdGUgcGVuZGluZ1wiLCB7fSwgbG9jYWxlKVxyXG5cclxuXHRcdFx0XHRhcHByb3Zlcy5wdXNoXHJcblx0XHRcdFx0XHRfaWQ6IGFwcHJvdmUuX2lkXHJcblx0XHRcdFx0XHRoYW5kbGVyOiBhcHByb3ZlLnVzZXJcclxuXHRcdFx0XHRcdGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWVcclxuXHRcdFx0XHRcdGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVxyXG5cdFx0XHRcdFx0aGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcclxuXHRcdFx0XHRcdGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlXHJcblx0XHRcdFx0XHRqdWRnZTogYXBwcm92ZS5qdWRnZVxyXG5cdFx0XHRcdFx0anVkZ2VfbmFtZToganVkZ2VfbmFtZVxyXG5cdFx0XHRcdFx0ZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb25cclxuXHRcdFx0XHRcdGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHR0eXBlOiBhcHByb3ZlLnR5cGVcclxuXHRcdFx0XHRcdG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZVxyXG5cdFx0XHRcdFx0c2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdFx0aXNfcmVhZDogYXBwcm92ZS5pc19yZWFkXHJcblx0XHRcdFx0XHRzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XHJcblxyXG5cclxuXHRcdFx0aWYgc3RlcFxyXG5cdFx0XHRcdGlmIHN0ZXAubmFtZSBvZiB0cmFjZXNcclxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gdHJhY2VzW3N0ZXAubmFtZV0uY29uY2F0KGFwcHJvdmVzKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRyYWNlc1tzdGVwLm5hbWVdID0gYXBwcm92ZXNcclxuXHJcblx0XHRyZXR1cm4gdHJhY2VzO1xyXG5cclxuXHJcblxyXG5cdGRvY192YWx1ZXM6IC0+XHJcblx0XHRXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XHJcblxyXG5cdGluc3RhbmNlX2JveF9zdHlsZTogLT5cclxuXHRcdGJveCA9IFNlc3Npb24uZ2V0KFwiYm94XCIpXHJcblx0XHRpZiBib3ggPT0gXCJpbmJveFwiIHx8IGJveCA9PSBcImRyYWZ0XCJcclxuXHRcdFx0anVkZ2UgPSBTZXNzaW9uLmdldChcImp1ZGdlXCIpXHJcblx0XHRcdGlmIGp1ZGdlXHJcblx0XHRcdFx0aWYgKGp1ZGdlID09IFwiYXBwcm92ZWRcIilcclxuXHRcdFx0XHRcdHJldHVybiBcImJveC1zdWNjZXNzXCJcclxuXHRcdFx0XHRlbHNlIGlmIChqdWRnZSA9PSBcInJlamVjdGVkXCIpXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJib3gtZGFuZ2VyXCJcclxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0aWYgaW5zICYmIGlucy5maW5hbF9kZWNpc2lvblxyXG5cdFx0XHRpZiBpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJhcHByb3ZlZFwiXHJcblx0XHRcdFx0cmV0dXJuIFwiYm94LXN1Y2Nlc3NcIlxyXG5cdFx0XHRlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT0gXCJyZWplY3RlZFwiKVxyXG5cdFx0XHRcdHJldHVybiBcImJveC1kYW5nZXJcIlxyXG5cclxuI2lzX2Rpc2FibGVkOiAtPlxyXG4jICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG4jICAgIGlmICFpbnNcclxuIyAgICAgICAgcmV0dXJuO1xyXG4jICAgIGlmIGlucy5zdGF0ZSE9XCJkcmFmdFwiXHJcbiMgICAgICAgIHJldHVybiBcImRpc2FibGVkXCI7XHJcbiMgICAgcmV0dXJuO1xyXG5cclxuXHR0YWJsZV9maWVsZHM6IChpbnN0YW5jZSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XHJcblx0XHRlbHNlXHJcblx0XHRcdGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pXHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0ZmllbGRzID0gXy5jbG9uZShmb3JtX3ZlcnNpb24uZmllbGRzKTtcclxuXHJcblx0XHRcdGZpZWxkcy5mb3JFYWNoIChmaWVsZCwgaW5kZXgpIC0+XHJcblx0XHRcdFx0ZmllbGQudHJfc3RhcnQgPSBcIlwiO1xyXG5cdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiXCI7XHJcblx0XHRcdFx0dGRfY29sc3BhbiA9IDE7XHJcbiNcdFx0XHRcdOW8uuWItuiuvue9ruagh+WktOWtl+auteS4uuWuveWtl+autVxyXG5cdFx0XHRcdGlmIENvcmVGb3JtPy5wYWdlVGl0bGVGaWVsZE5hbWUgPT0gZmllbGQuY29kZVxyXG5cdFx0XHRcdFx0ZmllbGQuaXNfd2lkZSA9IHRydWVcclxuXHJcblx0XHRcdFx0aWYgZmllbGQuZm9ybXVsYSAmJiBmaWVsZC50eXBlICE9ICdvZGF0YSdcclxuXHRcdFx0XHRcdGZpZWxkLnBlcm1pc3Npb24gPSBcInJlYWRvbmx5XCI7XHJcblxyXG5cdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG4jIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxyXG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRmaWVsZC50ZF9jb2xzcGFuID0gMztcclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCAhPSAwXHJcblx0XHRcdFx0XHRcdGZpZWxkLnRyX3N0YXJ0ID0gXCI8dHI+XCI7XHJcblx0XHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRwcmVfZmllbGRzID0gZmllbGRzLnNsaWNlKDAsIGluZGV4KTtcclxuXHJcblx0XHRcdFx0XHRwcmVfd2lkZV9maWVsZHMgPSBwcmVfZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfd2lkZVwiLCB0cnVlKTtcclxuXHJcblx0XHRcdFx0XHR0cl9zdGFydCA9IFwiXCI7XHJcblxyXG5cdFx0XHRcdFx0dHJfZW5kID0gXCJcIjtcclxuXHJcblx0XHRcdFx0XHQjIOWFiOiuoeeul+W9k+WJjeWtl+auteaYr+WQpuS4uuWuveWtl+autVxyXG5cdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gbnVsbDtcclxuXHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gbnVsbDtcclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA+IDBcclxuXHRcdFx0XHRcdFx0YmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV1cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxXHJcblx0XHRcdFx0XHRcdGFmdGVyX2ZpZWxkID0gZmllbGRzW2luZGV4ICsgMV1cclxuXHJcblx0XHRcdFx0XHQjIOWmguaenOW9k+WJjeWtl+auteaYr+WIhue7hOOAgeihqOagvOOAgeWuveWtl+autVxyXG5cdFx0XHRcdFx0aWYgZmllbGQudHlwZSA9PSAnc2VjdGlvbicgfHwgZmllbGQudHlwZSA9PSAndGFibGUnXHJcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSA0O1xyXG5cdFx0XHRcdFx0ZWxzZSBpZiBmaWVsZC5pc193aWRlXHJcblx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cdFx0XHRcdFx0ZWxzZVxyXG4jIOWJjeWQjumDveaYr+WuveWtl+autVxyXG5cdFx0XHRcdFx0XHRpZiBiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlkI7ovrnnmoTlrZfmrrXmmK/lrr3lrZfmrrVcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdFx0IyDlvZPliY3mmK90ciDkuIvnmoQg56ys5LiA5LiqdGQgJiDlvZPliY3lrZfmrrXmmK/mnIDlkI7kuIDkuKrlrZfmrrVcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgJiYgYWZ0ZXJfZmllbGQgPT0gbnVsbFxyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRcdHRkX2NvbHNwYW4gPSAzO1xyXG5cclxuXHRcdFx0XHRcdGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCA9PSAwXHJcbiMgdHJfc3RhcnQgPSBcIjx0cj5cIjsg55Sx5LqOVGVtcGxhdGXnmoTnvJbor5FidWfvvIzlr7zoh7Tmr4/mrKHnu5nkuIDkuKp0cuW8gOWni+aXtu+8jOS8muiHquWKqOihpeWktOaIluihpeWwvuOAguWboOatpOWcqOesrOS4gOihjOi/lOWbnuS4gOS4quepuuWtl+espuS4si5cclxuXHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09IDAgfHwgZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHRcdGlmIGZpZWxkLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XHJcblx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0dHJfc3RhcnQgPSBcIjx0cj5cIjtcclxuXHJcblx0XHRcdFx0XHRmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xyXG5cclxuXHJcblx0XHRcdFx0XHRpZiBpbmRleCArIDEgPT0gZmllbGRzLmxlbmd0aCB8fCBmaWVsZC50eXBlID09ICdzZWN0aW9uJyB8fCBmaWVsZC50eXBlID09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZVxyXG5cdFx0XHRcdFx0XHR0cl9lbmQgPSBcIjwvdHI+XCI7XHJcblxyXG5cdFx0XHRcdFx0aWYgKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9IDBcclxuXHRcdFx0XHRcdFx0dHJfZW5kID0gXCI8L3RyPlwiO1xyXG5cclxuXHRcdFx0XHRcdGZpZWxkLnRyX2VuZCA9IHRyX2VuZDtcclxuXHJcblx0XHRcdHJldHVybiBmaWVsZHM7XHJcblxyXG5cdHNvcnRfYXBwcm92ZTogKGFwcHJvdmVzLCBvcmRlciktPlxyXG5cdFx0aWYgIWFwcHJvdmVzXHJcblx0XHRcdHJldHVybiBbXVxyXG5cclxuXHRcdGlmICFhcHByb3ZlcyBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdHJldHVybiBbXVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBvcmRlciA9PSAnZGVzYydcclxuXHRcdFx0XHRhcHByb3Zlcy5zb3J0IChwMSwgcDIpIC0+XHJcblx0XHRcdFx0XHRfcDEgPSAwXHJcblx0XHRcdFx0XHRfcDIgPSAwXHJcblxyXG5cdFx0XHRcdFx0aWYgcDEuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHRcdFx0aWYgcDIuZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0X3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xyXG5cclxuXHRcdFx0XHRcdHJldHVybiBfcDIgLSBfcDFcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdGFwcHJvdmVzLnNvcnQgKHAxLCBwMikgLT5cclxuXHRcdFx0XHRcdF9wMSA9IDBcclxuXHRcdFx0XHRcdF9wMiA9IDBcclxuXHJcblx0XHRcdFx0XHRpZiBwMS5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKClcclxuXHJcblx0XHRcdFx0XHRpZiBwMi5maW5pc2hfZGF0ZVxyXG5cdFx0XHRcdFx0XHRfcDIgPSBwMi5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XHJcblxyXG5cdFx0XHRcdFx0cmV0dXJuIF9wMSAtIF9wMlxyXG5cdFx0cmV0dXJuIGFwcHJvdmVzXHJcblxyXG5cdF90OiAoa2V5KS0+XHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblx0Z2V0RmllbGQ6IChjb2RlKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRpZiBmb3JtX3ZlcnNpb25cclxuXHRcdFx0cmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSlcclxuXHJcblx0Z2V0VmFsdWU6IChjb2RlKS0+XHJcblx0XHRpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZVxyXG5cclxuXHRcdGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb25cclxuXHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblxyXG5cdFx0dXRjT2Zmc2V0ID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnV0Y09mZnNldFxyXG5cclxuXHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxyXG5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcclxuXHJcblx0XHRyZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmdldFZhbHVlIHZhbHVlc1tjb2RlXSwgZm9ybV92ZXJzaW9uLmZpZWxkcy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCBjb2RlKSwgbG9jYWxlLCB1dGNPZmZzZXRcclxuXHJcblx0Z2V0TGFiZWw6IChjb2RlKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZVxyXG5cclxuXHRnZXRDZkNsYXNzOiAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkPy50eXBlID09IFwiaW5wdXRcIiAmJiBmaWVsZD8uaXNfdGV4dGFyZWFcclxuXHRcdFx0cmV0dXJuIFwiY2ZUZXh0YXJlYVwiXHJcblxyXG5cdGdldFRhYmxlVGhlYWQ6IChmaWVsZCktPlxyXG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUaGVhZChmaWVsZCwgZmFsc2UpXHJcblxyXG5cdGdldFRhYmxlQm9keTogKGZpZWxkKS0+XHJcblxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlXHJcblx0XHRcdHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKClcclxuXHJcblx0XHR0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xyXG5cdFx0cmV0dXJuIFN0ZWVkb3NUYWJsZS5nZXRUYm9keShmaWVsZC5zZmllbGRzLmdldFByb3BlcnR5KFwiY29kZVwiKSwgZmllbGQsIHRhYmxlVmFsdWUsIGZhbHNlKVxyXG5cclxuXHRzaG93TGFiZWw6IChmaWVsZCktPlxyXG5cdFx0dGVtcGxhdGVEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhXHJcblx0XHRpZiB0ZW1wbGF0ZURhdGEubGFiZWwgPT0gZmFsc2VcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuI1x0YWZGaWVsZExhYmVsVGV4dDogKG9wKS0+XHJcbiNcdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YVxyXG4jXHRcdFx0cmV0dXJuIEF1dG9Gb3JtLmdldExhYmVsRm9yRmllbGQob3AubmFtZSlcclxuI1x0XHRlbHNlXHJcbiNcdFx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcbiNcdFx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcclxuXHJcblx0aXNPcGluaW9uRmllbGQ6IChmaWVsZCktPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSlcclxuXHJcblx0aXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmc6IChmaWVsZF9mb3JtdWxhKS0+XHJcblx0XHRyZXR1cm4gSW5zdGFuY2VTaWduVGV4dC5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cclxuXHRpbmNsdWRlc09waW5pb25GaWVsZDogKGZvcm0sIGZvcm1fdmVyc2lvbiktPlxyXG5cclxuXHRcdGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdFx0ZmllbGRzID0gZGIuZm9ybV92ZXJzaW9ucy5maW5kT25lKHtfaWQ6IGZvcm1fdmVyc2lvbiwgZm9ybTogZm9ybX0pPy5maWVsZHMgfHwgW11cclxuXHJcblx0XHRmaWVsZHMuZm9yRWFjaCAoZiktPlxyXG5cdFx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRcdGNvbnNvbGUubG9nICdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZSdcclxuXHRcdFx0ZWxzZSBpZiBmLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblx0XHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxyXG5cdFx0XHRcdFx0ZmllbGRfZm9ybXVsYXMucHVzaCBmMS5mb3JtdWxhXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhcy5wdXNoIGYuZm9ybXVsYVxyXG5cclxuXHRcdF8uc29tZSBmaWVsZF9mb3JtdWxhcywgKGZpZWxkX2Zvcm11bGEpLT5cclxuXHRcdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSlcclxuXHJcblx0Z2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lOiAoZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKS0+XHJcblxyXG5cdFx0b3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xyXG4jXHRcdGNvbnNvbGUubG9nKFwiZmllbGRfZm9ybXVsYVwiLCBmaWVsZF9mb3JtdWxhKVxyXG5cdFx0aWYgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc09waW5pb25GaWVsZF9mcm9tX3N0cmluZyhmaWVsZF9mb3JtdWxhKVxyXG5cdFx0XHRpZiBmaWVsZF9mb3JtdWxhXHJcblxyXG4jXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIixcIilcclxuXHRcdFx0XHRmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIilcclxuXHJcbiNcdFx0XHRcdGlmIHRvcF9rZXl3b3Jkc1xyXG4jXHRcdFx0XHRcdGZvbzEgPSBmaWVsZF9mb3JtdWxhLnNwbGl0KFwiO1wiKVxyXG5cclxuXHRcdFx0XHRmb28xLmZvckVhY2ggKGZvbyktPlxyXG5cdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cclxuXHJcblx0XHRcdFx0XHR0cnlcclxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKVxyXG5cdFx0XHRcdFx0Y2F0Y2hcclxuXHRcdFx0XHRcdFx0anNvbl9mb3JtdWxhID0ge31cclxuXHJcblx0XHRcdFx0XHRpZiBqc29uX2Zvcm11bGE/LnlpamlhbmxhblxyXG5cdFx0XHRcdFx0XHRzZiA9IHt9XHJcblxyXG5cdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uc3RlcFxyXG5cclxuXHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW4uaW1hZ2Vfc2lnbiB8fCBmYWxzZVxyXG5cclxuXHRcdFx0XHRcdFx0c2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlXHJcblxyXG5cdFx0XHRcdFx0XHRzZi5kZWZhdWx0X2Rlc2NyaXB0aW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5kZWZhdWx0XHJcblxyXG5cdFx0XHRcdFx0XHRzZi5vbmx5X2hhbmRsZXIgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLm9ubHlfaGFuZGxlclxyXG5cclxuXHRcdFx0XHRcdFx0c2YudG9wX2tleXdvcmRzID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi50b3Bfa2V5d29yZHMgfHwgdG9wX2tleXdvcmRzXHJcblxyXG5cdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLnB1c2goc2YpO1xyXG5cclxuXHRcdFx0XHRcdGVsc2UgaWYoZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcInt0cmFjZXMuXCIpID4gLTEgfHwgZmllbGRfZm9ybXVsYT8uaW5kZXhPZihcIntzaWduYXR1cmUudHJhY2VzLlwiKSA+IC0xKVxyXG5cclxuXHRcdFx0XHRcdFx0c2YgPSB7b25seV9jY19vcGluaW9uOiBmYWxzZSwgaW1hZ2Vfc2lnbjogZmFsc2UsIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzfVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgZm9vLmluZGV4T2YoXCJ7c2lnbmF0dXJlLlwiKSA+IC0xXHJcblx0XHRcdFx0XHRcdFx0c2YuaW1hZ2Vfc2lnbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRmb28gPSBmb28ucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIik7XHJcblxyXG5cdFx0XHRcdFx0XHRzMSA9IGZvby5yZXBsYWNlKFwie1wiLFwiXCIpLnJlcGxhY2UoXCJ9XCIsXCJcIilcclxuXHRcdFx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDFcclxuXHRcdFx0XHRcdFx0XHRzZi5zdGVwTmFtZSA9IHMxLnNwbGl0KFwiLlwiKVsxXVxyXG5cdFx0XHRcdFx0XHRcdGlmIG9waW5pb25GaWVsZHMuZmlsdGVyUHJvcGVydHkoXCJzdGVwTmFtZVwiLHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRcdFx0XHRvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSk/Lm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIikubGVuZ3RoID4gMlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiBzMS5zcGxpdChcIi5cIilbMl0/LnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ2NjJ1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWVcclxuXHRcdFx0XHRcdFx0b3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcclxuXHJcblx0XHRyZXR1cm4gb3BpbmlvbkZpZWxkc1xyXG5cclxuXHRzaG93Q0NPcGluaW9uOiAoZmllbGQpLT5cclxuXHRcdGlmIGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA+IC0xIHx8IGZpZWxkLmZvcm11bGE/LmluZGV4T2YoXCJ7c2lnbmF0dXJlLnRyYWNlcy5cIikgPiAtMVxyXG5cdFx0XHRzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsXCJcIikucmVwbGFjZShcIntcIixcIlwiKS5yZXBsYWNlKFwifVwiLFwiXCIpXHJcblx0XHRcdGlmIHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyXHJcblx0XHRcdFx0aWYgczEuc3BsaXQoXCIuXCIpWzJdPy50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICdjYydcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxyXG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcclxuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcclxuXHRcdFx0cmVuZGVyZXIubGluayA9ICggaHJlZiwgdGl0bGUsIHRleHQgKSAtPlxyXG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcclxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6cmVuZGVyZXJ9KSlcclxuXHJcblx0Zl9sYWJlbDogKHRoYXQpLT5cclxuXHRcdHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlXHJcblxyXG5pZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnN0ZWVkb3NfZm9ybSA9IC0+XHJcblx0XHRyZXR1cm4gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pc1NlY3Rpb24gPSAoY29kZSktPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHRcdHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT0gJ3NlY3Rpb24nXHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZG9jX3ZhbHVlcyA9IC0+XHJcblx0XHRpbnN0YW5jZSA9IHRoaXMuaW5zdGFuY2U7XHJcblx0XHRyZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSAtPlxyXG5cdFx0aW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xyXG5cdFx0ZGF0YSA9IHtcclxuXHRcdFx0bmFtZTogJ2luc19hcHBsaWNhbnQnLFxyXG5cdFx0XHRhdHRzOiB7bmFtZTogJ2luc19hcHBsaWNhbnQnLCBpZDogJ2luc19hcHBsaWNhbnQnLCBjbGFzczogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnfSxcclxuXHRcdFx0dmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXHJcblx0XHR9XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UgPSAtPlxyXG5cdFx0cmV0dXJuIHRoaXMuaW5zdGFuY2VcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5maWVsZHMgPSAtPlxyXG5cdFx0Zm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb25cclxuXHRcdGlmIGZvcm1fdmVyc2lvblxyXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1fdHlwZXMgPSAtPlxyXG5cdFx0cmV0dXJuIFwiZGlzYWJsZWRcIlxyXG5cclxuXHRUZW1wbGF0ZS5yZWdpc3RlckhlbHBlciBcImFmRmllbGRMYWJlbFRleHRcIiwgKG9wKS0+XHJcblx0XHRmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uXHJcblx0XHRJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwgZm9ybV92ZXJzaW9uLmZpZWxkcywgb3A/Lmhhc2g/Lm5hbWVcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IChrZXkpLT5cclxuXHRcdGxvY2FsZSA9IHRoaXMubG9jYWxlXHJcblxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKVxyXG5cclxuXHRJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc19hdHRhY2hfZG93bmxvYWRfdXJsID0gKF9pZCwgYWJzb2x1dGUpLT5cclxuXHRcdGlmIGFic29sdXRlXHJcblx0XHRcdHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy8je19pZH0/ZG93bmxvYWQ9dHJ1ZVwiKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIFwiL2FwaS9maWxlcy9pbnN0YW5jZXMvI3tfaWR9P2Rvd25sb2FkPXRydWVcIjtcclxuXHJcblx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gKGZpZWxkKS0+XHJcblx0XHRvcHRpb25zID0gZmllbGQ/Lm9wdGlvbnM/LnNwbGl0KFwiXFxuXCIpXHJcblx0XHRyZXYgPSBbXVxyXG5cdFx0b3B0aW9ucz8uZm9yRWFjaCAoaXRlbSktPlxyXG5cdFx0XHRyZXYucHVzaCh7bGFiZWw6IGl0ZW0sIHZhbHVlOiBpdGVtfSlcclxuXHJcblx0XHRyZXR1cm4gcmV2XHJcblxyXG5cdEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSAoY29kZSktPlxyXG5cdFx0aWYgIVRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5zdGFydFN0ZXBFZGl0YWJsZUZpZWxkcz8uaW5jbHVkZXMoY29kZSlcclxuXHRcdFx0cmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIlxyXG5cdFx0cmV0dXJuIFwiXCJcclxuXHJcbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9XHJcblx0J2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogKGV2ZW50KS0+XHJcblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXHJcblxyXG5cdCd0eXBlYWhlYWQ6Y2hhbmdlIC5mb3JtLWNvbnRyb2wnOiAoZXZlbnQpIC0+XHJcblx0XHRJbnN0YW5jZU1hbmFnZXIuaW5zdGFuY2Vmb3JtQ2hhbmdlRXZlbnQoZXZlbnQpXHJcblxyXG5cdCdjbGljayAuY2ZUZXh0YXJlYSBhJzogKGV2ZW50KS0+XHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xyXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KGV2ZW50LnRhcmdldC5ocmVmKTtcclxuXHJcblxyXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSAoKS0+XHJcblx0aW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRpZiAhaW5zdGFuY2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0dGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xyXG5cclxuXHR0cnlcclxuXHRcdGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge2lzQm9keTogdHJ1ZX0pO1xyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUubG9nIFwiSW5zdGFuY2UgVGVtcGxhdGUgRXJyb3JcIiwgZVxyXG5cdFx0Y29tcGlsZWQgPSBTcGFjZWJhcnNDb21waWxlci5jb21waWxlKFwiXCIsIHtpc0JvZHk6IHRydWV9KTtcclxuXHJcblxyXG5cdHJlbmRlckZ1bmN0aW9uID0gZXZhbChjb21waWxlZCk7XHJcblxyXG5cdGluc3RhbmNlVmlldyA9IG5ldyBCbGF6ZS5WaWV3KFwiY3VzdG9tX2luc3RhbmNlX3RlbXBsYXRlXCIsIHJlbmRlckZ1bmN0aW9uKTtcclxuXHJcblx0aW5zdGFuY2VDdXN0b21UZW1wbGF0ZSA9IG5ldyBCbGF6ZS5UZW1wbGF0ZShpbnN0YW5jZVZpZXcubmFtZSwgcmVuZGVyRnVuY3Rpb24pO1xyXG5cclxuXHRUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUgPSBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlXHJcblxyXG5cdFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZS5oZWxwZXJzIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnNcclxuXHJcblxyXG5cclxuXHJcbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSAoKS0+XHJcblx0IyB0ID0gdGhpcztcclxuXHJcblx0I3Quc3Vic2NyaWJlIFwiaW5zdGFuY2VfZGF0YVwiLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIC0+XHJcblx0IyAgICBUcmFja2VyLmFmdGVyRmx1c2ggLT5cclxuXHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdGlmICFpbnN0YW5jZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnNlbGVjdDIoKS52YWwoaW5zdGFuY2UuYXBwbGljYW50KS50cmlnZ2VyKCdjaGFuZ2UnKTtcclxuXHQjJChcIiNpbnNfYXBwbGljYW50XCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnQpO1xyXG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIilbMF0/LmRhdGFzZXQudmFsdWVzID0gaW5zdGFuY2UuYXBwbGljYW50O1xyXG5cdCQoXCJpbnB1dFtuYW1lPSdpbnNfYXBwbGljYW50J11cIikudmFsKGluc3RhbmNlLmFwcGxpY2FudF9uYW1lKVxyXG5cclxuXHJcblx0QXBwcm92ZU1hbmFnZXIuZXJyb3IgPSB7bmV4dFN0ZXBzOiAnJywgbmV4dFN0ZXBVc2VyczogJyd9O1xyXG5cclxuXHQjIGluc3RhbmNlIGZyb23nu5Hlrprkuovku7ZcclxuXHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdkcmFmdCdcclxuXHRcdEluc3RhbmNlRXZlbnQuaW5pdEV2ZW50cyhpbnN0YW5jZS5mbG93KTtcclxuXHJcblx0aWYgIUFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cclxuXHRcdGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XHJcblxyXG5cclxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzID0gJChcIltkYXRhLWZvcm11bGFdXCIsICQoXCIjaW5zdGFuY2Vmb3JtXCIpKVxyXG5cclxuXHRcdGluc3RhbmNlTnVtYmVyRmllbGRzLmVhY2ggKCktPlxyXG5cdFx0XHRzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5XHJcblx0XHRcdGVsZW1lbnQgPSAkKHRoaXMpXHJcblx0XHRcdGlmICEkKHRoaXMpLnZhbCgpICYmIHNjaGVtYUtleSAmJiBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIilcclxuXHRcdFx0XHRNZXRlb3IuY2FsbCAnZ2V0SW5zdGFuY2VWYWx1ZXMnLCBTZXNzaW9uLmdldChcImluc3RhbmNlSWRcIiksIChlcnJvciwgcmVzdWx0KS0+XHJcblx0XHRcdFx0XHRpZiBlcnJvclxyXG5cdFx0XHRcdFx0XHR0b2FzdHIuZXJyb3IoZXJyb3IucmVhc29uKVxyXG5cclxuXHRcdFx0XHRcdGlmICFyZXN1bHRbc2NoZW1hS2V5XVxyXG5cdFx0XHRcdFx0XHRrZXkgPSBlbGVtZW50LmRhdGEoXCJmb3JtdWxhXCIpPy5yZXBsYWNlKFwiYXV0b19udW1iZXIoXCIsIFwiXCIpLnJlcGxhY2UoXCIpXCIsIFwiXCIpXHJcblxyXG5cdFx0XHRcdFx0XHRrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIilcclxuXHJcblx0XHRcdFx0XHRcdGlmIGtleS5pbmRleE9mKFwie1wiKSA+IC0xXHJcblx0XHRcdFx0XHRcdFx0a2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsXCJcIikucmVwbGFjZShcIn1cIixcIlwiKVxyXG5cdFx0XHRcdFx0XHRcdGtleSA9IGtleS50cmltKClcclxuXHRcdFx0XHRcdFx0XHRrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpXHJcblx0XHRcdFx0XHRcdEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyIGVsZW1lbnQsIGtleVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRlbGVtZW50Py52YWwocmVzdWx0W3NjaGVtYUtleV0pLnRyaWdnZXIoXCJjaGFuZ2VcIilcclxuXHJcblx0XHRqdWRnZSA9IGN1cnJlbnRBcHByb3ZlLmp1ZGdlXHJcblx0XHRjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xyXG5cdFx0Zm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcclxuXHJcblx0XHRmb3JtdWxhX2ZpZWxkcyA9IEZvcm1fZm9ybXVsYS5nZXRGb3JtdWxhRmllbGRWYXJpYWJsZShcIkZvcm1fZm9ybXVsYS5maWVsZF92YWx1ZXNcIiwgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XHJcblx0XHRGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XHJcblx0XHQj5Zyo5q2k5aSE5Yid5aeL5YyWc2Vzc2lvbiDkuK3nmoQgZm9ybV92YWx1ZXMg5Y+Y6YeP77yM55So5LqO6Kem5Y+R5LiL5LiA5q2l5q2l6aqk6K6h566XXHJcblx0XHRTZXNzaW9uLnNldChcImluc3RhbmNlX2Zvcm1fdmFsdWVzXCIsIHtpbnN0YW5jZUlkOiBpbnN0YW5jZS5faWQsIHZhbHVlczogQXV0b0Zvcm0uZ2V0Rm9ybVZhbHVlcyhcImluc3RhbmNlZm9ybVwiKS5pbnNlcnREb2N9KTtcclxuXHJcblxyXG5cclxuIiwiSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycyA9IHtcbiAgYXBwbGljYW50Q29udGV4dDogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGRhdGEsIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgc3RlZWRvc19pbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIGRhdGEgPSB7XG4gICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICBhdHRzOiB7XG4gICAgICAgIG5hbWU6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgaWQ6ICdpbnNfYXBwbGljYW50JyxcbiAgICAgICAgXCJjbGFzc1wiOiAnc2VsZWN0VXNlciBmb3JtLWNvbnRyb2wgaW5zX2FwcGxpY2FudCdcbiAgICAgIH0sXG4gICAgICB2YWx1ZTogc3RlZWRvc19pbnN0YW5jZS5hcHBsaWNhbnRfbmFtZVxuICAgIH07XG4gICAgaWYgKCFzdGVlZG9zX2luc3RhbmNlIHx8IHN0ZWVkb3NfaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgZGF0YS5hdHRzLmRpc2FibGVkID0gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGRhdGE7XG4gIH0sXG4gIGluc3RhbmNlSWQ6IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiAnaW5zdGFuY2Vmb3JtJztcbiAgfSxcbiAgZm9ybV90eXBlczogZnVuY3Rpb24oKSB7XG4gICAgaWYgKEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKSkge1xuICAgICAgcmV0dXJuICdkaXNhYmxlZCc7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiAnbWV0aG9kJztcbiAgICB9XG4gIH0sXG4gIHN0ZWVkb3NfZm9ybTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGlmIChmb3JtX3ZlcnNpb24pIHtcbiAgICAgIHJldHVybiBmb3JtX3ZlcnNpb247XG4gICAgfVxuICB9LFxuICBpbm5lcnN1YmZvcm1Db250ZXh0OiBmdW5jdGlvbihvYmopIHtcbiAgICB2YXIgZG9jX3ZhbHVlcztcbiAgICBkb2NfdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIG9ialtcInRhYmxlVmFsdWVzXCJdID0gZG9jX3ZhbHVlcyA/IGRvY192YWx1ZXNbb2JqLmNvZGVdIDogW107XG4gICAgb2JqW1wiZm9ybUlkXCJdID0gXCJpbnN0YW5jZWZvcm1cIjtcbiAgICByZXR1cm4gb2JqO1xuICB9LFxuICBpbnN0YW5jZTogZnVuY3Rpb24oKSB7XG4gICAgdmFyIHN0ZWVkb3NfaW5zdGFuY2U7XG4gICAgU2Vzc2lvbi5nZXQoXCJjaGFuZ2VfZGF0ZVwiKTtcbiAgICBpZiAoU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpKSB7XG4gICAgICBzdGVlZG9zX2luc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICByZXR1cm4gc3RlZWRvc19pbnN0YW5jZTtcbiAgICB9XG4gIH0sXG4gIGVtcHR5OiBmdW5jdGlvbih2YWwpIHtcbiAgICBpZiAodmFsKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdW5lbXB0eTogZnVuY3Rpb24odmFsKSB7XG4gICAgaWYgKHZhbCkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gIH0sXG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICB1bmVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiAhKGEgPT09IGIpO1xuICB9LFxuICBpbmNsdWRlczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBiLnNwbGl0KCcsJykuaW5jbHVkZXMoYSk7XG4gIH0sXG4gIGluY2x1ZGU6IGZ1bmN0aW9uKGEsIGIpIHtcbiAgICByZXR1cm4gYi5zcGxpdCgnLCcpLmluY2x1ZGVzKGEpO1xuICB9LFxuICBmaWVsZHM6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKTtcbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYShXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hKGZvcm1fdmVyc2lvbikpO1xuICAgIH1cbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghZGF0ZSkge1xuICAgICAgcmV0dXJuIFwiXCI7XG4gICAgfVxuICAgIGlmIChvcHRpb25zICYmIHR5cGVvZiBvcHRpb25zID09PSAnc3RyaW5nJykge1xuICAgICAgb3B0aW9ucyA9IEpTT04ucGFyc2Uob3B0aW9ucyk7XG4gICAgfVxuICAgIGlmICghb3B0aW9ucy5mb3JtYXQpIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIGZvcm1hdDogXCJZWVlZLU1NLUREIEhIOm1tXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBtb21lbnQoZGF0ZSkuZm9ybWF0KG9wdGlvbnMuZm9ybWF0KTtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgZmxvdywgaW5zdGFuY2UsIGxvY2FsZSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCBzdGVlZG9zRGF0YSwgc3RlcHMsIHRyYWNlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBzdGVlZG9zRGF0YSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYudmlldykgIT0gbnVsbCA/IChyZWYyID0gcmVmMS50ZW1wbGF0ZSkgIT0gbnVsbCA/IHJlZjIuc3RlZWRvc0RhdGEgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICBpbnN0YW5jZSA9IHN0ZWVkb3NEYXRhICE9IG51bGwgPyBzdGVlZG9zRGF0YS5pbnN0YW5jZSA6IHZvaWQgMDtcbiAgICAgIGZsb3cgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0Rmxvd1ZlcnNpb24oaW5zdGFuY2UpO1xuICAgICAgbG9jYWxlID0gc3RlZWRvc0RhdGEgIT0gbnVsbCA/IHN0ZWVkb3NEYXRhLmxvY2FsZSA6IHZvaWQgMDtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgICBmbG93ID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRmxvd1ZlcnNpb24oKTtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlmICghaW5zdGFuY2UgfHwgIWZsb3cpIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgc3RlcHMgPSBmbG93LnN0ZXBzO1xuICAgIHRyYWNlcyA9IHt9O1xuICAgIGlmICgocmVmMyA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgcmVmMy5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgIHZhciBhcHByb3ZlcywgcmVmNCwgc3RlcDtcbiAgICAgICAgc3RlcCA9IHN0ZXBzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2Uuc3RlcCk7XG4gICAgICAgIGFwcHJvdmVzID0gW107XG4gICAgICAgIGlmICgocmVmNCA9IHRyYWNlLmFwcHJvdmVzKSAhPSBudWxsKSB7XG4gICAgICAgICAgcmVmNC5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgIHZhciBqdWRnZV9uYW1lO1xuICAgICAgICAgICAgaWYgKHRyYWNlLmlzX2ZpbmlzaGVkID09PSB0cnVlKSB7XG4gICAgICAgICAgICAgIGlmIChhcHByb3ZlLmp1ZGdlID09PSAnYXBwcm92ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAncmVqZWN0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWplY3RlZFwiLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChhcHByb3ZlLmp1ZGdlID09PSAndGVybWluYXRlZCcpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gVEFQaTE4bi5fXyhcIkluc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJ3JlYXNzaWduZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgICB9IGVsc2UgaWYgKGFwcHJvdmUuanVkZ2UgPT09ICdyZWxvY2F0ZWQnKSB7XG4gICAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWRcIiwge30sIGxvY2FsZSk7XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAoYXBwcm92ZS5qdWRnZSA9PT0gJycpIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBqdWRnZV9uYW1lID0gXCJcIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAganVkZ2VfbmFtZSA9IFRBUGkxOG4uX18oXCJJbnN0YW5jZSBTdGF0ZSBwZW5kaW5nXCIsIHt9LCBsb2NhbGUpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIGFwcHJvdmVzLnB1c2goe1xuICAgICAgICAgICAgICBfaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBoYW5kbGVyOiBhcHByb3ZlLnVzZXIsXG4gICAgICAgICAgICAgIGhhbmRsZXJfbmFtZTogYXBwcm92ZS5oYW5kbGVyX25hbWUsXG4gICAgICAgICAgICAgIGhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSxcbiAgICAgICAgICAgICAgaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWU6IGFwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUsXG4gICAgICAgICAgICAgIGZpbmlzaF9kYXRlOiBhcHByb3ZlLmZpbmlzaF9kYXRlLFxuICAgICAgICAgICAgICBqdWRnZTogYXBwcm92ZS5qdWRnZSxcbiAgICAgICAgICAgICAganVkZ2VfbmFtZToganVkZ2VfbmFtZSxcbiAgICAgICAgICAgICAgZGVzY3JpcHRpb246IGFwcHJvdmUuZGVzY3JpcHRpb24sXG4gICAgICAgICAgICAgIGlzX2ZpbmlzaGVkOiBhcHByb3ZlLmlzX2ZpbmlzaGVkLFxuICAgICAgICAgICAgICB0eXBlOiBhcHByb3ZlLnR5cGUsXG4gICAgICAgICAgICAgIG9waW5pb25fZmllbGRzX2NvZGU6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSxcbiAgICAgICAgICAgICAgc2lnbl9maWVsZF9jb2RlOiBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSxcbiAgICAgICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgICAgICBzaWduX3Nob3c6IGFwcHJvdmUuc2lnbl9zaG93XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgICBpZiAoc3RlcCkge1xuICAgICAgICAgIGlmIChzdGVwLm5hbWUgaW4gdHJhY2VzKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSB0cmFjZXNbc3RlcC5uYW1lXS5jb25jYXQoYXBwcm92ZXMpO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXR1cm4gdHJhY2VzW3N0ZXAubmFtZV0gPSBhcHByb3ZlcztcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gdHJhY2VzO1xuICB9LFxuICBkb2NfdmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICB9LFxuICBpbnN0YW5jZV9ib3hfc3R5bGU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBib3gsIGlucywganVkZ2U7XG4gICAgYm94ID0gU2Vzc2lvbi5nZXQoXCJib3hcIik7XG4gICAgaWYgKGJveCA9PT0gXCJpbmJveFwiIHx8IGJveCA9PT0gXCJkcmFmdFwiKSB7XG4gICAgICBqdWRnZSA9IFNlc3Npb24uZ2V0KFwianVkZ2VcIik7XG4gICAgICBpZiAoanVkZ2UpIHtcbiAgICAgICAgaWYgKGp1ZGdlID09PSBcImFwcHJvdmVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgICB9IGVsc2UgaWYgKGp1ZGdlID09PSBcInJlamVjdGVkXCIpIHtcbiAgICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgaWYgKGlucyAmJiBpbnMuZmluYWxfZGVjaXNpb24pIHtcbiAgICAgIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwiYXBwcm92ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtc3VjY2Vzc1wiO1xuICAgICAgfSBlbHNlIGlmIChpbnMuZmluYWxfZGVjaXNpb24gPT09IFwicmVqZWN0ZWRcIikge1xuICAgICAgICByZXR1cm4gXCJib3gtZGFuZ2VyXCI7XG4gICAgICB9XG4gICAgfVxuICB9LFxuICB0YWJsZV9maWVsZHM6IGZ1bmN0aW9uKGluc3RhbmNlKSB7XG4gICAgdmFyIGZpZWxkcywgZm9ybV92ZXJzaW9uO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZUZvcm1WZXJzaW9uKCk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtVmVyc2lvbihpbnN0YW5jZS5mb3JtLCBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pO1xuICAgIH1cbiAgICBpZiAoZm9ybV92ZXJzaW9uKSB7XG4gICAgICBmaWVsZHMgPSBfLmNsb25lKGZvcm1fdmVyc2lvbi5maWVsZHMpO1xuICAgICAgZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZmllbGQsIGluZGV4KSB7XG4gICAgICAgIHZhciBhZnRlcl9maWVsZCwgYmVmb3JlX2ZpZWxkLCBwcmVfZmllbGRzLCBwcmVfd2lkZV9maWVsZHMsIHRkX2NvbHNwYW4sIHRyX2VuZCwgdHJfc3RhcnQ7XG4gICAgICAgIGZpZWxkLnRyX3N0YXJ0ID0gXCJcIjtcbiAgICAgICAgZmllbGQudHJfZW5kID0gXCJcIjtcbiAgICAgICAgdGRfY29sc3BhbiA9IDE7XG4gICAgICAgIGlmICgodHlwZW9mIENvcmVGb3JtICE9PSBcInVuZGVmaW5lZFwiICYmIENvcmVGb3JtICE9PSBudWxsID8gQ29yZUZvcm0ucGFnZVRpdGxlRmllbGROYW1lIDogdm9pZCAwKSA9PT0gZmllbGQuY29kZSkge1xuICAgICAgICAgIGZpZWxkLmlzX3dpZGUgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIGlmIChmaWVsZC5mb3JtdWxhICYmIGZpZWxkLnR5cGUgIT09ICdvZGF0YScpIHtcbiAgICAgICAgICBmaWVsZC5wZXJtaXNzaW9uID0gXCJyZWFkb25seVwiO1xuICAgICAgICB9XG4gICAgICAgIGlmIChTdGVlZG9zLmlzTW9iaWxlKCkpIHtcbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBmaWVsZC50ZF9jb2xzcGFuID0gMztcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKGluZGV4ICE9PSAwKSB7XG4gICAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IFwiPHRyPlwiO1xuICAgICAgICAgICAgcmV0dXJuIGZpZWxkLnRyX2VuZCA9IFwiPC90cj5cIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcHJlX2ZpZWxkcyA9IGZpZWxkcy5zbGljZSgwLCBpbmRleCk7XG4gICAgICAgICAgcHJlX3dpZGVfZmllbGRzID0gcHJlX2ZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcImlzX3dpZGVcIiwgdHJ1ZSk7XG4gICAgICAgICAgdHJfc3RhcnQgPSBcIlwiO1xuICAgICAgICAgIHRyX2VuZCA9IFwiXCI7XG4gICAgICAgICAgYmVmb3JlX2ZpZWxkID0gbnVsbDtcbiAgICAgICAgICBhZnRlcl9maWVsZCA9IG51bGw7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgYmVmb3JlX2ZpZWxkID0gZmllbGRzW2luZGV4IC0gMV07XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChpbmRleCA8IGZpZWxkcy5sZW5ndGggLSAxKSB7XG4gICAgICAgICAgICBhZnRlcl9maWVsZCA9IGZpZWxkc1tpbmRleCArIDFdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICAgIHRkX2NvbHNwYW4gPSA0O1xuICAgICAgICAgIH0gZWxzZSBpZiAoZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChiZWZvcmVfZmllbGQgJiYgYWZ0ZXJfZmllbGQgJiYgYmVmb3JlX2ZpZWxkLmlzX3dpZGUgJiYgYWZ0ZXJfZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyID09PSAwICYmIGFmdGVyX2ZpZWxkICYmIGFmdGVyX2ZpZWxkLmlzX3dpZGUpIHtcbiAgICAgICAgICAgICAgZmllbGQuaXNfd2lkZSA9IHRydWU7XG4gICAgICAgICAgICAgIHRkX2NvbHNwYW4gPSAzO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCAmJiBhZnRlcl9maWVsZCA9PT0gbnVsbCkge1xuICAgICAgICAgICAgICBmaWVsZC5pc193aWRlID0gdHJ1ZTtcbiAgICAgICAgICAgICAgdGRfY29sc3BhbiA9IDM7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGZpZWxkLnRkX2NvbHNwYW4gPSB0ZF9jb2xzcGFuO1xuICAgICAgICAgIGlmIChpbmRleCA9PT0gMCkge1xuICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaWYgKChwcmVfZmllbGRzLmxlbmd0aCArIHByZV93aWRlX2ZpZWxkcy5sZW5ndGgpICUgMiA9PT0gMCB8fCBmaWVsZC5pc193aWRlKSB7XG4gICAgICAgICAgICAgIGlmIChmaWVsZC50eXBlID09PSAndGFibGUnKSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0ciBjbGFzcyA9IFxcXCJ0ci1jaGlsZC10YWJsZVxcXCI+XCI7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdHJfc3RhcnQgPSBcIjx0cj5cIjtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgICBmaWVsZC50cl9zdGFydCA9IHRyX3N0YXJ0O1xuICAgICAgICAgIGlmIChpbmRleCArIDEgPT09IGZpZWxkcy5sZW5ndGggfHwgZmllbGQudHlwZSA9PT0gJ3NlY3Rpb24nIHx8IGZpZWxkLnR5cGUgPT09ICd0YWJsZScgfHwgZmllbGQuaXNfd2lkZSkge1xuICAgICAgICAgICAgdHJfZW5kID0gXCI8L3RyPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoKHByZV9maWVsZHMubGVuZ3RoICsgcHJlX3dpZGVfZmllbGRzLmxlbmd0aCkgJSAyICE9PSAwKSB7XG4gICAgICAgICAgICB0cl9lbmQgPSBcIjwvdHI+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBmaWVsZC50cl9lbmQgPSB0cl9lbmQ7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuIGZpZWxkcztcbiAgICB9XG4gIH0sXG4gIHNvcnRfYXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZXMsIG9yZGVyKSB7XG4gICAgaWYgKCFhcHByb3Zlcykge1xuICAgICAgcmV0dXJuIFtdO1xuICAgIH1cbiAgICBpZiAoIWFwcHJvdmVzIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgIHJldHVybiBbXTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKG9yZGVyID09PSAnZGVzYycpIHtcbiAgICAgICAgYXBwcm92ZXMuc29ydChmdW5jdGlvbihwMSwgcDIpIHtcbiAgICAgICAgICB2YXIgX3AxLCBfcDI7XG4gICAgICAgICAgX3AxID0gMDtcbiAgICAgICAgICBfcDIgPSAwO1xuICAgICAgICAgIGlmIChwMS5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AxID0gcDEuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAocDIuZmluaXNoX2RhdGUpIHtcbiAgICAgICAgICAgIF9wMiA9IHAyLmZpbmlzaF9kYXRlLmdldFRpbWUoKTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIF9wMiAtIF9wMTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBhcHByb3Zlcy5zb3J0KGZ1bmN0aW9uKHAxLCBwMikge1xuICAgICAgICAgIHZhciBfcDEsIF9wMjtcbiAgICAgICAgICBfcDEgPSAwO1xuICAgICAgICAgIF9wMiA9IDA7XG4gICAgICAgICAgaWYgKHAxLmZpbmlzaF9kYXRlKSB7XG4gICAgICAgICAgICBfcDEgPSBwMS5maW5pc2hfZGF0ZS5nZXRUaW1lKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwMi5maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgX3AyID0gcDIuZmluaXNoX2RhdGUuZ2V0VGltZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gX3AxIC0gX3AyO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGFwcHJvdmVzO1xuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5KTtcbiAgfSxcbiAgZ2V0RmllbGQ6IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIGZvcm1fdmVyc2lvbi5maWVsZHMuZmluZFByb3BlcnR5QnlQSyhcImNvZGVcIiwgY29kZSk7XG4gICAgfVxuICB9LFxuICBnZXRWYWx1ZTogZnVuY3Rpb24oY29kZSkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIGluc3RhbmNlLCBsb2NhbGUsIHV0Y09mZnNldCwgdmFsdWVzO1xuICAgIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xuICAgIGZvcm1fdmVyc2lvbiA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5mb3JtX3ZlcnNpb247XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICB1dGNPZmZzZXQgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEudXRjT2Zmc2V0O1xuICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICB2YWx1ZXMgPSBXb3JrZmxvd01hbmFnZXJfZm9ybWF0LmdldEF1dG9mb3JtU2NoZW1hVmFsdWVzKCk7XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0VmFsdWUodmFsdWVzW2NvZGVdLCBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLCBsb2NhbGUsIHV0Y09mZnNldCk7XG4gIH0sXG4gIGdldExhYmVsOiBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIGZvcm1fdmVyc2lvbjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgY29kZSk7XG4gIH0sXG4gIGdldENmQ2xhc3M6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgaWYgKChmaWVsZCAhPSBudWxsID8gZmllbGQudHlwZSA6IHZvaWQgMCkgPT09IFwiaW5wdXRcIiAmJiAoZmllbGQgIT0gbnVsbCA/IGZpZWxkLmlzX3RleHRhcmVhIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwiY2ZUZXh0YXJlYVwiO1xuICAgIH1cbiAgfSxcbiAgZ2V0VGFibGVUaGVhZDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICByZXR1cm4gU3RlZWRvc1RhYmxlLmdldFRoZWFkKGZpZWxkLCBmYWxzZSk7XG4gIH0sXG4gIGdldFRhYmxlQm9keTogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHRhYmxlVmFsdWUsIHZhbHVlcztcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBpbnN0YW5jZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5pbnN0YW5jZTtcbiAgICAgIHZhbHVlcyA9IGluc3RhbmNlLnZhbHVlcyB8fCB7fTtcbiAgICB9IGVsc2Uge1xuICAgICAgdmFsdWVzID0gV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYVZhbHVlcygpO1xuICAgIH1cbiAgICB0YWJsZVZhbHVlID0gdmFsdWVzW2ZpZWxkLmNvZGVdO1xuICAgIHJldHVybiBTdGVlZG9zVGFibGUuZ2V0VGJvZHkoZmllbGQuc2ZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIiksIGZpZWxkLCB0YWJsZVZhbHVlLCBmYWxzZSk7XG4gIH0sXG4gIHNob3dMYWJlbDogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgdGVtcGxhdGVEYXRhO1xuICAgIHRlbXBsYXRlRGF0YSA9IFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YTtcbiAgICBpZiAodGVtcGxhdGVEYXRhLmxhYmVsID09PSBmYWxzZSkge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gdHJ1ZTtcbiAgfSxcbiAgaXNPcGluaW9uRmllbGQ6IGZ1bmN0aW9uKGZpZWxkKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGQuZm9ybXVsYSk7XG4gIH0sXG4gIGlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nOiBmdW5jdGlvbihmaWVsZF9mb3JtdWxhKSB7XG4gICAgcmV0dXJuIEluc3RhbmNlU2lnblRleHQuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gIH0sXG4gIGluY2x1ZGVzT3BpbmlvbkZpZWxkOiBmdW5jdGlvbihmb3JtLCBmb3JtX3ZlcnNpb24pIHtcbiAgICB2YXIgZmllbGRfZm9ybXVsYXMsIGZpZWxkcywgcmVmO1xuICAgIGZpZWxkX2Zvcm11bGFzID0gbmV3IEFycmF5KCk7XG4gICAgZmllbGRzID0gKChyZWYgPSBkYi5mb3JtX3ZlcnNpb25zLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmb3JtX3ZlcnNpb24sXG4gICAgICBmb3JtOiBmb3JtXG4gICAgfSkpICE9IG51bGwgPyByZWYuZmllbGRzIDogdm9pZCAwKSB8fCBbXTtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmMTtcbiAgICAgIGlmIChmLnR5cGUgPT09ICd0YWJsZScpIHtcbiAgICAgICAgcmV0dXJuIGNvbnNvbGUubG9nKCdpZ25vcmUgb3BpbmlvbiBmaWVsZCBpbiB0YWJsZScpO1xuICAgICAgfSBlbHNlIGlmIChmLnR5cGUgPT09ICdzZWN0aW9uJykge1xuICAgICAgICByZXR1cm4gZiAhPSBudWxsID8gKHJlZjEgPSBmLmZpZWxkcykgIT0gbnVsbCA/IHJlZjEuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYxLmZvcm11bGEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9mb3JtdWxhcy5wdXNoKGYuZm9ybXVsYSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIF8uc29tZShmaWVsZF9mb3JtdWxhcywgZnVuY3Rpb24oZmllbGRfZm9ybXVsYSkge1xuICAgICAgcmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaXNPcGluaW9uRmllbGRfZnJvbV9zdHJpbmcoZmllbGRfZm9ybXVsYSk7XG4gICAgfSk7XG4gIH0sXG4gIGdldE9waW5pb25GaWVsZFN0ZXBzTmFtZTogZnVuY3Rpb24oZmllbGRfZm9ybXVsYSwgdG9wX2tleXdvcmRzKSB7XG4gICAgdmFyIGZvbzEsIG9waW5pb25GaWVsZHM7XG4gICAgb3BpbmlvbkZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICAgIGlmIChJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzT3BpbmlvbkZpZWxkX2Zyb21fc3RyaW5nKGZpZWxkX2Zvcm11bGEpKSB7XG4gICAgICBpZiAoZmllbGRfZm9ybXVsYSkge1xuICAgICAgICBmb28xID0gZmllbGRfZm9ybXVsYS5zcGxpdChcIjtcIik7XG4gICAgICAgIGZvbzEuZm9yRWFjaChmdW5jdGlvbihmb28pIHtcbiAgICAgICAgICB2YXIganNvbl9mb3JtdWxhLCByZWYsIHJlZjEsIHMxLCBzZjtcbiAgICAgICAgICBqc29uX2Zvcm11bGEgPSB7fTtcbiAgICAgICAgICB0cnkge1xuICAgICAgICAgICAganNvbl9mb3JtdWxhID0gZXZhbChcIihcIiArIGZvbyArIFwiKVwiKTtcbiAgICAgICAgICB9IGNhdGNoIChlcnJvcjEpIHtcbiAgICAgICAgICAgIGpzb25fZm9ybXVsYSA9IHt9O1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoanNvbl9mb3JtdWxhICE9IG51bGwgPyBqc29uX2Zvcm11bGEueWlqaWFubGFuIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBzZiA9IHt9O1xuICAgICAgICAgICAgc2Yuc3RlcE5hbWUgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnN0ZXA7XG4gICAgICAgICAgICBzZi5pbWFnZV9zaWduID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5pbWFnZV9zaWduIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2Yub25seV9jY19vcGluaW9uID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2NjIHx8IGZhbHNlO1xuICAgICAgICAgICAgc2YuZGVmYXVsdF9kZXNjcmlwdGlvbiA9IGpzb25fZm9ybXVsYS55aWppYW5sYW5bXCJkZWZhdWx0XCJdO1xuICAgICAgICAgICAgc2Yub25seV9oYW5kbGVyID0ganNvbl9mb3JtdWxhLnlpamlhbmxhbi5vbmx5X2hhbmRsZXI7XG4gICAgICAgICAgICBzZi50b3Bfa2V5d29yZHMgPSBqc29uX2Zvcm11bGEueWlqaWFubGFuLnRvcF9rZXl3b3JkcyB8fCB0b3Bfa2V5d29yZHM7XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9IGVsc2UgaWYgKChmaWVsZF9mb3JtdWxhICE9IG51bGwgPyBmaWVsZF9mb3JtdWxhLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoZmllbGRfZm9ybXVsYSAhPSBudWxsID8gZmllbGRfZm9ybXVsYS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICAgICAgICBzZiA9IHtcbiAgICAgICAgICAgICAgb25seV9jY19vcGluaW9uOiBmYWxzZSxcbiAgICAgICAgICAgICAgaW1hZ2Vfc2lnbjogZmFsc2UsXG4gICAgICAgICAgICAgIHRvcF9rZXl3b3JkczogdG9wX2tleXdvcmRzXG4gICAgICAgICAgICB9O1xuICAgICAgICAgICAgaWYgKGZvby5pbmRleE9mKFwie3NpZ25hdHVyZS5cIikgPiAtMSkge1xuICAgICAgICAgICAgICBzZi5pbWFnZV9zaWduID0gdHJ1ZTtcbiAgICAgICAgICAgICAgZm9vID0gZm9vLnJlcGxhY2UoXCJ7c2lnbmF0dXJlLlwiLCBcIlwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHMxID0gZm9vLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAxKSB7XG4gICAgICAgICAgICAgIHNmLnN0ZXBOYW1lID0gczEuc3BsaXQoXCIuXCIpWzFdO1xuICAgICAgICAgICAgICBpZiAob3BpbmlvbkZpZWxkcy5maWx0ZXJQcm9wZXJ0eShcInN0ZXBOYW1lXCIsIHNmLnN0ZXBOYW1lKS5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgaWYgKChyZWYgPSBvcGluaW9uRmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJzdGVwTmFtZVwiLCBzZi5zdGVwTmFtZSkpICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICAgIHJlZi5vbmx5X2NjX29waW5pb24gPSB0cnVlO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICBpZiAoczEuc3BsaXQoXCIuXCIpLmxlbmd0aCA+IDIpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoKHJlZjEgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYxLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgICAgICAgICAgIHNmLm9ubHlfY2Nfb3BpbmlvbiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gb3BpbmlvbkZpZWxkcy5wdXNoKHNmKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gb3BpbmlvbkZpZWxkcztcbiAgfSxcbiAgc2hvd0NDT3BpbmlvbjogZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgcmVmLCByZWYxLCByZWYyLCBzMTtcbiAgICBpZiAoKChyZWYgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmLmluZGV4T2YoXCJ7dHJhY2VzLlwiKSA6IHZvaWQgMCkgPiAtMSB8fCAoKHJlZjEgPSBmaWVsZC5mb3JtdWxhKSAhPSBudWxsID8gcmVmMS5pbmRleE9mKFwie3NpZ25hdHVyZS50cmFjZXMuXCIpIDogdm9pZCAwKSA+IC0xKSB7XG4gICAgICBzMSA9IGZpZWxkLmZvcm11bGEucmVwbGFjZShcIntzaWduYXR1cmUuXCIsIFwiXCIpLnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgaWYgKHMxLnNwbGl0KFwiLlwiKS5sZW5ndGggPiAyKSB7XG4gICAgICAgIGlmICgoKHJlZjIgPSBzMS5zcGxpdChcIi5cIilbMl0pICE9IG51bGwgPyByZWYyLnRvTG9jYWxlTG93ZXJDYXNlKCkgOiB2b2lkIDApID09PSAnY2MnKSB7XG4gICAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgZl9sYWJlbDogZnVuY3Rpb24odGhhdCkge1xuICAgIHJldHVybiB0aGF0Lm5hbWUgfHwgdGhhdC5jb2RlO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuc3RlZWRvc19mb3JtID0gZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIHRoaXMuZm9ybV92ZXJzaW9uO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmlzU2VjdGlvbiA9IGZ1bmN0aW9uKGNvZGUpIHtcbiAgICB2YXIgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm1fdmVyc2lvbiA9IHRoaXMuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBmb3JtX3ZlcnNpb24uZmllbGRzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJjb2RlXCIsIGNvZGUpLnR5cGUgPT09ICdzZWN0aW9uJztcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5kb2NfdmFsdWVzID0gZnVuY3Rpb24oKSB7XG4gICAgdmFyIGluc3RhbmNlO1xuICAgIGluc3RhbmNlID0gdGhpcy5pbnN0YW5jZTtcbiAgICByZXR1cm4gaW5zdGFuY2UudmFsdWVzO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmFwcGxpY2FudENvbnRleHQgPSBmdW5jdGlvbigpIHtcbiAgICB2YXIgZGF0YSwgaW5zdGFuY2U7XG4gICAgaW5zdGFuY2UgPSB0aGlzLmluc3RhbmNlO1xuICAgIHJldHVybiBkYXRhID0ge1xuICAgICAgbmFtZTogJ2luc19hcHBsaWNhbnQnLFxuICAgICAgYXR0czoge1xuICAgICAgICBuYW1lOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIGlkOiAnaW5zX2FwcGxpY2FudCcsXG4gICAgICAgIFwiY2xhc3NcIjogJ3NlbGVjdFVzZXIgZm9ybS1jb250cm9sIGluc19hcHBsaWNhbnQnXG4gICAgICB9LFxuICAgICAgdmFsdWU6IGluc3RhbmNlLmFwcGxpY2FudF9uYW1lXG4gICAgfTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnN0YW5jZSA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiB0aGlzLmluc3RhbmNlO1xuICB9O1xuICBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZpZWxkcyA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb247XG4gICAgZm9ybV92ZXJzaW9uID0gdGhpcy5mb3JtX3ZlcnNpb247XG4gICAgaWYgKGZvcm1fdmVyc2lvbikge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoV29ya2Zsb3dNYW5hZ2VyX2Zvcm1hdC5nZXRBdXRvZm9ybVNjaGVtYShmb3JtX3ZlcnNpb24pKTtcbiAgICB9XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZm9ybV90eXBlcyA9IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBcImRpc2FibGVkXCI7XG4gIH07XG4gIFRlbXBsYXRlLnJlZ2lzdGVySGVscGVyKFwiYWZGaWVsZExhYmVsVGV4dFwiLCBmdW5jdGlvbihvcCkge1xuICAgIHZhciBmb3JtX3ZlcnNpb24sIHJlZjtcbiAgICBmb3JtX3ZlcnNpb24gPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuZm9ybV92ZXJzaW9uO1xuICAgIHJldHVybiBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0TGFiZWwoZm9ybV92ZXJzaW9uLmZpZWxkcywgb3AgIT0gbnVsbCA/IChyZWYgPSBvcC5oYXNoKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICB9KTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5fdCA9IGZ1bmN0aW9uKGtleSkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gdGhpcy5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5pbnNfYXR0YWNoX2Rvd25sb2FkX3VybCA9IGZ1bmN0aW9uKF9pZCwgYWJzb2x1dGUpIHtcbiAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgIHJldHVybiBNZXRlb3IuYWJzb2x1dGVVcmwoXCIvYXBpL2ZpbGVzL2luc3RhbmNlcy9cIiArIF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBcIi9hcGkvZmlsZXMvaW5zdGFuY2VzL1wiICsgX2lkICsgXCI/ZG93bmxvYWQ9dHJ1ZVwiO1xuICAgIH1cbiAgfTtcbiAgSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy5vcHRpb25zID0gZnVuY3Rpb24oZmllbGQpIHtcbiAgICB2YXIgb3B0aW9ucywgcmVmLCByZXY7XG4gICAgb3B0aW9ucyA9IGZpZWxkICE9IG51bGwgPyAocmVmID0gZmllbGQub3B0aW9ucykgIT0gbnVsbCA/IHJlZi5zcGxpdChcIlxcblwiKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICByZXYgPSBbXTtcbiAgICBpZiAob3B0aW9ucyAhPSBudWxsKSB7XG4gICAgICBvcHRpb25zLmZvckVhY2goZnVuY3Rpb24oaXRlbSkge1xuICAgICAgICByZXR1cm4gcmV2LnB1c2goe1xuICAgICAgICAgIGxhYmVsOiBpdGVtLFxuICAgICAgICAgIHZhbHVlOiBpdGVtXG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiByZXY7XG4gIH07XG4gIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0UGVybWlzc2lvbnMgPSBmdW5jdGlvbihjb2RlKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoISgocmVmID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLnN0YXJ0U3RlcEVkaXRhYmxlRmllbGRzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGNvZGUpIDogdm9pZCAwKSkge1xuICAgICAgcmV0dXJuIFwicmVhZG9ubHkgZGlzYWJsZWRcIjtcbiAgICB9XG4gICAgcmV0dXJuIFwiXCI7XG4gIH07XG59XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NoYW5nZSAuZm9ybS1jb250cm9sLC5jaGVja2JveCBpbnB1dCwuYWYtcmFkaW8tZ3JvdXAgaW5wdXQsLmFmLWNoZWNrYm94LWdyb3VwIGlucHV0JzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICByZXR1cm4gSW5zdGFuY2VNYW5hZ2VyLmluc3RhbmNlZm9ybUNoYW5nZUV2ZW50KGV2ZW50KTtcbiAgfSxcbiAgJ3R5cGVhaGVhZDpjaGFuZ2UgLmZvcm0tY29udHJvbCc6IGZ1bmN0aW9uKGV2ZW50KSB7XG4gICAgcmV0dXJuIEluc3RhbmNlTWFuYWdlci5pbnN0YW5jZWZvcm1DaGFuZ2VFdmVudChldmVudCk7XG4gIH0sXG4gICdjbGljayAuY2ZUZXh0YXJlYSBhJzogZnVuY3Rpb24oZXZlbnQpIHtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBTdGVlZG9zLm9wZW5XaW5kb3coZXZlbnQudGFyZ2V0LmhyZWYpO1xuICB9XG59O1xuXG5JbnN0YW5jZWZvcm1UZW1wbGF0ZS5vbkNyZWF0ZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGNvbXBpbGVkLCBlLCBpbnN0YW5jZSwgaW5zdGFuY2VDdXN0b21UZW1wbGF0ZSwgaW5zdGFuY2VWaWV3LCByZW5kZXJGdW5jdGlvbiwgdGVtcGxhdGU7XG4gIGluc3RhbmNlID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gIGlmICghaW5zdGFuY2UpIHtcbiAgICByZXR1cm47XG4gIH1cbiAgdGVtcGxhdGUgPSBUZW1wbGF0ZU1hbmFnZXIuZ2V0VGVtcGxhdGUoaW5zdGFuY2UpO1xuICB0cnkge1xuICAgIGNvbXBpbGVkID0gU3BhY2ViYXJzQ29tcGlsZXIuY29tcGlsZSh0ZW1wbGF0ZSwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgIGUgPSBlcnJvcjE7XG4gICAgY29uc29sZS5sb2coXCJJbnN0YW5jZSBUZW1wbGF0ZSBFcnJvclwiLCBlKTtcbiAgICBjb21waWxlZCA9IFNwYWNlYmFyc0NvbXBpbGVyLmNvbXBpbGUoXCJcIiwge1xuICAgICAgaXNCb2R5OiB0cnVlXG4gICAgfSk7XG4gIH1cbiAgcmVuZGVyRnVuY3Rpb24gPSBldmFsKGNvbXBpbGVkKTtcbiAgaW5zdGFuY2VWaWV3ID0gbmV3IEJsYXplLlZpZXcoXCJjdXN0b21faW5zdGFuY2VfdGVtcGxhdGVcIiwgcmVuZGVyRnVuY3Rpb24pO1xuICBpbnN0YW5jZUN1c3RvbVRlbXBsYXRlID0gbmV3IEJsYXplLlRlbXBsYXRlKGluc3RhbmNlVmlldy5uYW1lLCByZW5kZXJGdW5jdGlvbik7XG4gIFRlbXBsYXRlLmluc3RhbmNlX2N1c3RvbV90ZW1wbGF0ZSA9IGluc3RhbmNlQ3VzdG9tVGVtcGxhdGU7XG4gIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZV9jdXN0b21fdGVtcGxhdGUuaGVscGVycyhJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzKTtcbn07XG5cbkluc3RhbmNlZm9ybVRlbXBsYXRlLm9uUmVuZGVyZWQgPSBmdW5jdGlvbigpIHtcbiAgdmFyIGN1cnJlbnRBcHByb3ZlLCBjdXJyZW50U3RlcCwgZm9ybV92ZXJzaW9uLCBmb3JtdWxhX2ZpZWxkcywgaW5zdGFuY2UsIGluc3RhbmNlTnVtYmVyRmllbGRzLCBqdWRnZSwgcmVmO1xuICBpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICBpZiAoIWluc3RhbmNlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmICgocmVmID0gJChcImlucHV0W25hbWU9J2luc19hcHBsaWNhbnQnXVwiKVswXSkgIT0gbnVsbCkge1xuICAgIHJlZi5kYXRhc2V0LnZhbHVlcyA9IGluc3RhbmNlLmFwcGxpY2FudDtcbiAgfVxuICAkKFwiaW5wdXRbbmFtZT0naW5zX2FwcGxpY2FudCddXCIpLnZhbChpbnN0YW5jZS5hcHBsaWNhbnRfbmFtZSk7XG4gIEFwcHJvdmVNYW5hZ2VyLmVycm9yID0ge1xuICAgIG5leHRTdGVwczogJycsXG4gICAgbmV4dFN0ZXBVc2VyczogJydcbiAgfTtcbiAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnZHJhZnQnKSB7XG4gICAgSW5zdGFuY2VFdmVudC5pbml0RXZlbnRzKGluc3RhbmNlLmZsb3cpO1xuICB9XG4gIGlmICghQXBwcm92ZU1hbmFnZXIuaXNSZWFkT25seSgpKSB7XG4gICAgY3VycmVudEFwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoKTtcbiAgICBpbnN0YW5jZU51bWJlckZpZWxkcyA9ICQoXCJbZGF0YS1mb3JtdWxhXVwiLCAkKFwiI2luc3RhbmNlZm9ybVwiKSk7XG4gICAgaW5zdGFuY2VOdW1iZXJGaWVsZHMuZWFjaChmdW5jdGlvbigpIHtcbiAgICAgIHZhciBlbGVtZW50LCBzY2hlbWFLZXk7XG4gICAgICBzY2hlbWFLZXkgPSB0aGlzLmRhdGFzZXQuc2NoZW1hS2V5O1xuICAgICAgZWxlbWVudCA9ICQodGhpcyk7XG4gICAgICBpZiAoISQodGhpcykudmFsKCkgJiYgc2NoZW1hS2V5ICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VJZFwiKSkge1xuICAgICAgICByZXR1cm4gTWV0ZW9yLmNhbGwoJ2dldEluc3RhbmNlVmFsdWVzJywgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZUlkXCIpLCBmdW5jdGlvbihlcnJvciwgcmVzdWx0KSB7XG4gICAgICAgICAgdmFyIGtleSwgcmVmMTtcbiAgICAgICAgICBpZiAoZXJyb3IpIHtcbiAgICAgICAgICAgIHRvYXN0ci5lcnJvcihlcnJvci5yZWFzb24pO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoIXJlc3VsdFtzY2hlbWFLZXldKSB7XG4gICAgICAgICAgICBrZXkgPSAocmVmMSA9IGVsZW1lbnQuZGF0YShcImZvcm11bGFcIikpICE9IG51bGwgPyByZWYxLnJlcGxhY2UoXCJhdXRvX251bWJlcihcIiwgXCJcIikucmVwbGFjZShcIilcIiwgXCJcIikgOiB2b2lkIDA7XG4gICAgICAgICAgICBrZXkgPSBrZXkucmVwbGFjZSgvXFxcIi9nLCBcIlwiKS5yZXBsYWNlKC9cXCcvZywgXCJcIik7XG4gICAgICAgICAgICBpZiAoa2V5LmluZGV4T2YoXCJ7XCIpID4gLTEpIHtcbiAgICAgICAgICAgICAga2V5ID0ga2V5LnJlcGxhY2UoXCJ7XCIsIFwiXCIpLnJlcGxhY2UoXCJ9XCIsIFwiXCIpO1xuICAgICAgICAgICAgICBrZXkgPSBrZXkudHJpbSgpO1xuICAgICAgICAgICAgICBrZXkgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKGtleSwgJ2luc3RhbmNlZm9ybScpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIEluc3RhbmNlTnVtYmVyUnVsZXMuaW5zdGFuY2VOdW1iZXJCdWlsZGVyKGVsZW1lbnQsIGtleSk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBlbGVtZW50ICE9IG51bGwgPyBlbGVtZW50LnZhbChyZXN1bHRbc2NoZW1hS2V5XSkudHJpZ2dlcihcImNoYW5nZVwiKSA6IHZvaWQgMDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGp1ZGdlID0gY3VycmVudEFwcHJvdmUuanVkZ2U7XG4gICAgY3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcbiAgICBmb3JtX3ZlcnNpb24gPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpO1xuICAgIGZvcm11bGFfZmllbGRzID0gRm9ybV9mb3JtdWxhLmdldEZvcm11bGFGaWVsZFZhcmlhYmxlKFwiRm9ybV9mb3JtdWxhLmZpZWxkX3ZhbHVlc1wiLCBmb3JtX3ZlcnNpb24uZmllbGRzKTtcbiAgICBGb3JtX2Zvcm11bGEucnVuKFwiXCIsIFwiXCIsIGZvcm11bGFfZmllbGRzLCBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvYywgZm9ybV92ZXJzaW9uLmZpZWxkcyk7XG4gICAgcmV0dXJuIFNlc3Npb24uc2V0KFwiaW5zdGFuY2VfZm9ybV92YWx1ZXNcIiwge1xuICAgICAgaW5zdGFuY2VJZDogaW5zdGFuY2UuX2lkLFxuICAgICAgdmFsdWVzOiBBdXRvRm9ybS5nZXRGb3JtVmFsdWVzKFwiaW5zdGFuY2Vmb3JtXCIpLmluc2VydERvY1xuICAgIH0pO1xuICB9XG59O1xuIiwiSW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycyA9IHtcclxuXHJcblx0c2hvd01haW5UaXRsZTogZnVuY3Rpb24oKSB7XHJcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS53b3JrZmxvd01haW5BdHRhY2hUaXRsZS5nZXQoKTtcclxuXHR9LFxyXG5cdGVuYWJsZWRfYWRkX21haW5fYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJkcmFmdFwiICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9IFwiaW5ib3hcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHQvLyDlt7Lnu4/nu5PmnZ/nmoTljZXlrZDkuI3og73mlLnpmYTku7ZcclxuXHRcdGlmIChpbnMuc3RhdGUgPT0gXCJjb21wbGV0ZWRcIikge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdH1cclxuXHJcblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblxyXG5cdFx0aWYgKCFjdXJyZW50X3N0ZXApXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHJcblx0XHQvLyDliIblj5HnmoTmraPmlofmiJbogIXpmYTku7bkuI3mmL7npLrovazkuLpwZGbmjInpkq5cclxuXHRcdC8vIOWmguaenOacieato+aWh+adg+mZkOWImeS4uuato+aWh++8jOWQpuWImeWIhuWPkeS4uumZhOS7tlxyXG5cdFx0Ly8g5YiG5Y+R55qE6ZmE5Lu25LiN5YWB6K645L+u5pS5IOWIoOmZpCDmlrDlop7niYjmnKxcclxuXHRcdHZhciBtYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5faWQsXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHR9KS5jb3VudCgpO1xyXG5cclxuXHRcdHZhciBkaXN0cmlidXRlX21haW5fYXR0YWNoX2NvdW50ID0gMDtcclxuXHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSkge1xyXG5cdFx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcclxuXHRcdFx0aWYgKHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2gpIHtcclxuXHRcdFx0XHR2YXIgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHRcdFx0fSkuY291bnQoKTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggPT0gdHJ1ZSAmJiBtYWluX2F0dGFjaF9jb3VudCA8IDEgJiYgZGlzdHJpYnV0ZV9tYWluX2F0dGFjaF9jb3VudCA8IDEpIHtcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH1cclxuXHJcblx0XHQvLyDmraPmlofmnIDlpJrlj6rog73mnInkuIDkuKpcclxuXHRcdGlmIChtYWluX2F0dGFjaF9jb3VudCA+PSAxIHx8IGRpc3RyaWJ1dGVfbWFpbl9hdHRhY2hfY291bnQgPj0gMSkge1xyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblx0XHR9XHJcblxyXG5cdFx0Ly8g5byA5aeL6IqC54K55bm25LiU6K6+572u5LqG5Y+v5Lul5LiK5Lyg5q2j5paH5omN5pi+56S65LiK5Lyg5q2j5paH55qE5oyJ6ZKuXHJcblx0XHR2YXIgY3VycmVudF9zdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRTdGVwKCk7XHJcblx0XHRpZiAoY3VycmVudF9zdGVwICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT0gXCJzdGFydFwiICYmIGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH0sXHJcblxyXG5cdGVuYWJsZWRfZWRpdF9ub3JtYWxfYXR0YWNobWVudDogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0aWYgKFNlc3Npb24gJiYgU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHR2YXIgZmxvdyA9IFdvcmtmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcclxuXHRcdGlmICghZmxvdylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cclxuXHRcdC8vIOWIhuWPkeWQjueahCDpmYTku7bvvIzkuI3lj6/ku6XnvJbovpEv5Yig6Zmk77yM5Lmf5LiN6K6p5LiK5Lyg5paw55qE6ZmE5Lu2LCDmtYHnqIvliJfooajvvJrmt7vliqDlsZ7mgKcg4oCY6KKr5YiG5Y+R5ZCO5piv5ZCm5YWB6K645LiK5Lyg6ZmE5Lu24oCZICMxODM3XHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiAhZmxvdy51cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPSBcImRyYWZ0XCIgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gXCJpbmJveFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOW3sue7j+e7k+adn+eahOWNleWtkOS4jeiDveaUuemZhOS7tlxyXG5cdFx0aWYgKGlucy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiKSB7XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmIChJbnN0YW5jZU1hbmFnZXIuaXNDQyhpbnMpKSB7XHJcblx0XHRcdHZhciBzdGVwID0gSW5zdGFuY2VNYW5hZ2VyLmdldENDU3RlcCgpO1xyXG5cdFx0XHRpZiAoc3RlcCAmJiAoc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHVuZGVmaW5lZCkpXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdHZhciBjdXJyZW50X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHRcdFx0aWYgKGN1cnJlbnRfc3RlcCAmJiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PSB1bmRlZmluZWQpKVxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblx0fSxcclxuXHJcblx0bWFpbl9hdHRhY2htZW50OiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHR2YXIgc3RhcnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRTdGFydFN0ZXAoKTtcclxuXHJcblx0XHQvLyDlpoLmnpzmmK/ooqvliIblj5HnmoTnlLPor7fljZXlubbkuJTmnInkv67mlLnmraPmlofnmoTmnYPpmZDvvIzliJnkvJjlhYjmmL7npLrljp/nlLPor7fljZXmlofku7ZcclxuXHRcdHZhciBtYWluX2F0dGFjaCA9IG51bGw7XHJcblx0XHRpZiAoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSAmJiBzdGFydF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoID09IHRydWUpIHtcclxuXHRcdFx0bWFpbl9hdHRhY2ggPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsXHJcblx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5tYWluJzogdHJ1ZVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblx0XHRpZiAoIW1haW5fYXR0YWNoKSB7XHJcblx0XHRcdG1haW5fYXR0YWNoID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKHtcclxuXHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnMuX2lkLFxyXG5cdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdFx0fSk7XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoO1xyXG5cdH0sXHJcblxyXG5cdG5vcm1hbF9hdHRhY2htZW50czogZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblx0XHRpZiAoIWlucylcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdFx0dmFyIHNlbGVjdG9yID0ge1xyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xyXG5cdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0fTtcclxuXHJcblx0XHR2YXIgYXR0cyA9IG5ldyBBcnJheSgpO1xyXG5cclxuXHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XHJcblx0XHRcdC8vIOWmguaenOaYr+iiq+WIhuWPkeeahOeUs+ivt+WNle+8jOWImeaYvuekuuWOn+eUs+ivt+WNleaWh+S7tiwg5aaC5p6c6YCJ5oup5LqG5bCG5Y6f6KGo5Y2V5a2Y5YKo5Li66ZmE5Lu25Lmf6KaB5pi+56S6LCDlkIzml7bkuZ/opoHmmL7npLrmlrDkuIrkvKDnmoTpmYTku7ZcclxuXHRcdFx0dmFyIGRmaXMgPSBfLmNsb25lKGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzKSB8fCBbXTtcclxuXHRcdFx0ZGZpcy5wdXNoKGlucy5faWQpO1xyXG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IHtcclxuXHRcdFx0XHQkaW46IGRmaXNcclxuXHRcdFx0fTtcclxuXHJcblxyXG5cdFx0XHRzZWxlY3RvcltcIiRvclwiXSA9IFt7XHJcblx0XHRcdFx0XCJtZXRhZGF0YS5pbnN0YW5jZVwiOiBpbnMuX2lkXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHRcIm1ldGFkYXRhLmluc3RhbmNlXCI6IHtcclxuXHRcdFx0XHRcdCRpbjogaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXNcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XHJcblx0XHRcdFx0XHQkbmU6IHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1dXHJcblxyXG5cdFx0XHQvLyDlpoLmnpzljp/nlLPor7fljZXmnInmraPmlofkvYbmmK/liIblj5HlkI7msqHmnInmraPmlofmnYPpmZDvvIzliJnljp/nlLPor7fljZXmraPmlofmmL7npLrlnKjpmYTku7bmoI9cclxuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0U3RhcnRTdGVwKCk7XHJcblx0XHRcdGlmIChzdGFydF9zdGVwICYmIHN0YXJ0X3N0ZXAuY2FuX2VkaXRfbWFpbl9hdHRhY2ggIT0gdHJ1ZSkge1xyXG5cdFx0XHRcdHZhciBkaXN0cmlidXRlX21haW4gPSBjZnMuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdFx0XHQkaW46IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXHJcblx0XHRcdFx0XHR9LFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlLFxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGlmIChkaXN0cmlidXRlX21haW4pIHtcclxuXHRcdFx0XHRcdHZhciBmaXJzdFZlcnNpb25NYWluID0gY2ZzLmluc3RhbmNlcy5maW5kT25lKGRpc3RyaWJ1dGVfbWFpbi5tZXRhZGF0YS5wYXJlbnQpO1xyXG5cdFx0XHRcdFx0ZGlzdHJpYnV0ZV9tYWluLmF0dGFjaG1lbnRVcGxvYWRlZEF0ID0gZmlyc3RWZXJzaW9uTWFpbiA/IGZpcnN0VmVyc2lvbk1haW4udXBsb2FkZWRBdCA6IGRpc3RyaWJ1dGVfbWFpbi51cGxvYWRlZEF0O1xyXG5cdFx0XHRcdFx0YXR0cy5wdXNoKGRpc3RyaWJ1dGVfbWFpbik7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZWxlY3RvclsnbWV0YWRhdGEuaW5zdGFuY2UnXSA9IGlucy5faWQ7XHJcblx0XHR9XHJcblxyXG5cdFx0Y2ZzLmluc3RhbmNlcy5maW5kKHNlbGVjdG9yKS5mb3JFYWNoKGZ1bmN0aW9uKGMpIHtcclxuXHRcdFx0dmFyIGZpcnN0VmVyc2lvbiA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZShjLm1ldGFkYXRhLnBhcmVudCk7XHJcblx0XHRcdGMuYXR0YWNobWVudFVwbG9hZGVkQXQgPSBmaXJzdFZlcnNpb24gPyBmaXJzdFZlcnNpb24udXBsb2FkZWRBdCA6IGMudXBsb2FkZWRBdDtcclxuXHRcdFx0YXR0cy5wdXNoKGMpO1xyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gXy5zb3J0QnkoYXR0cywgJ2F0dGFjaG1lbnRVcGxvYWRlZEF0Jyk7XHJcblx0fSxcclxuXHJcblx0c2hvd0F0dGFjaG1lbnRzOiBmdW5jdGlvbigpIHtcclxuXHRcdHZhciBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGlmICghaW5zKVxyXG5cdFx0XHRyZXR1cm4gZmFsc2U7XHJcblxyXG5cdFx0Ly8g5aaC5p6c5piv6KKr5YiG5Y+R55qE55Sz6K+35Y2V77yM5YiZ5pi+56S65Y6f55Sz6K+35Y2V5paH5Lu2IOWSjOWIhuWPkeWQjueUs+ivt+WNleaWh+S7tlxyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jbG9uZShpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGlucy5faWQpO1xyXG5cdFx0dmFyIGF0dGFjaG1lbnRzX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcblx0XHR9KS5jb3VudCgpO1xyXG5cclxuXHRcdGlmIChTZXNzaW9uICYmIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhdHRhY2htZW50c19jb3VudCA8IDEpXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gXCJpbmJveFwiIHx8IGF0dGFjaG1lbnRzX2NvdW50ID4gMClcclxuXHRcdFx0cmV0dXJuIHRydWU7XHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZTtcclxuXHR9LFxyXG5cclxuXHRfdDogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblx0fSxcclxuXHJcblx0XzogZnVuY3Rpb24oa2V5KSB7XHJcblx0XHR2YXIgbG9jYWxlO1xyXG5cdFx0aWYgKE1ldGVvci5pc0NsaWVudCkge1xyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcclxuXHRcdFx0cmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcclxuXHRcdH1cclxuXHR9LFxyXG5cclxufVxyXG5cclxuaWYgKE1ldGVvci5pc1NlcnZlcikge1xyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcclxuXHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdHJldHVybiBUQVBpMThuLl9fKGtleSwge30sIGxvY2FsZSlcclxuXHR9XHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2FkZF9tYWluX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH07XHJcblx0SW5zdGFuY2VBdHRhY2htZW50VGVtcGxhdGUuaGVscGVycy5lbmFibGVkX2VkaXRfbm9ybWFsX2F0dGFjaG1lbnQgPSBmdW5jdGlvbigpIHtcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cdH07XHJcblxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMubWFpbl9hdHRhY2htZW50ID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNvbXBhY3QoW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSwgaW5zdGFuY2UuX2lkXSk7XHJcblx0XHR2YXIgYXR0YWNobWVudCA9IGNmcy5pbnN0YW5jZXMuZmluZE9uZSh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcclxuXHRcdFx0J21ldGFkYXRhLm1haW4nOiB0cnVlXHJcblx0XHR9KTtcclxuXHJcblx0XHRyZXR1cm4gYXR0YWNobWVudDtcclxuXHR9O1xyXG5cclxuXHRJbnN0YW5jZUF0dGFjaG1lbnRUZW1wbGF0ZS5oZWxwZXJzLm5vcm1hbF9hdHRhY2htZW50cyA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIHN0ZWVkb3NEYXRhID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBzdGVlZG9zRGF0YS5pbnN0YW5jZTtcclxuXHRcdHZhciBpbnN0YW5jZUlkcyA9IF8uY2xvbmUoaW5zdGFuY2UuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcykgfHwgW107XHJcblx0XHRpbnN0YW5jZUlkcy5wdXNoKGluc3RhbmNlLl9pZCk7XHJcblx0XHR2YXIgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiB7XHJcblx0XHRcdFx0JGluOiBpbnN0YW5jZUlkc1xyXG5cdFx0XHR9LFxyXG5cdFx0XHQnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsXHJcblx0XHRcdCdtZXRhZGF0YS5tYWluJzoge1xyXG5cdFx0XHRcdCRuZTogdHJ1ZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHQkb3I6IFt7XHJcblx0XHRcdFx0J21ldGFkYXRhLmlzX3ByaXZhdGUnOiB7XHJcblx0XHRcdFx0XHQkbmU6IHRydWVcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHQnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsXHJcblx0XHRcdFx0XCJtZXRhZGF0YS5vd25lclwiOiBzdGVlZG9zRGF0YS51c2VySWRcclxuXHRcdFx0fV1cclxuXHRcdH0pLmZldGNoKCk7XHJcblxyXG5cdFx0cmV0dXJuIGF0dGFjaG1lbnRzO1xyXG5cdH07XHJcblxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd0F0dGFjaG1lbnRzID0gZnVuY3Rpb24oKSB7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEuaW5zdGFuY2U7XHJcblx0XHR2YXIgaW5zdGFuY2VJZHMgPSBfLmNsb25lKGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xyXG5cdFx0aW5zdGFuY2VJZHMucHVzaChpbnN0YW5jZS5faWQpO1xyXG5cclxuXHRcdHZhciBhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdCdtZXRhZGF0YS5pbnN0YW5jZSc6IHtcclxuXHRcdFx0XHQkaW46IGluc3RhbmNlSWRzXHJcblx0XHRcdH0sXHJcblx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxyXG5cdFx0fSkuZmV0Y2goKTtcclxuXHJcblx0XHRpZiAoYXR0YWNobWVudHMgJiYgYXR0YWNobWVudHMubGVuZ3RoID4gMCkge1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHRcdH1cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHR9XHJcblxyXG5cdEluc3RhbmNlQXR0YWNobWVudFRlbXBsYXRlLmhlbHBlcnMuc2hvd01haW5UaXRsZSA9IGZ1bmN0aW9uKCkge1xyXG5cdFx0dmFyIGluc3RhbmNlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmluc3RhbmNlO1xyXG5cdFx0dmFyIGluc3RhbmNlSWRzID0gXy5jb21wYWN0KFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UsIGluc3RhbmNlLl9pZF0pO1xyXG5cdFx0dmFyIG1haW5fYXR0YWNoX2NvdW50ID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0J21ldGFkYXRhLmluc3RhbmNlJzoge1xyXG5cdFx0XHRcdCRpbjogaW5zdGFuY2VJZHNcclxuXHRcdFx0fSxcclxuXHRcdFx0J21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxyXG5cdFx0XHQnbWV0YWRhdGEubWFpbic6IHRydWVcclxuXHRcdH0pLmNvdW50KCk7XHJcblxyXG5cdFx0cmV0dXJuIG1haW5fYXR0YWNoX2NvdW50ID4gMFxyXG5cdH1cclxufVxyXG4iLCJJbnN0YW5jZVNpZ25UZXh0LmhlbHBlcnMgPVxyXG5cdHNob3c6IChzdGVwTmFtZSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdGlmIFNlc3Npb24uZ2V0KCdpbnN0YW5jZVByaW50JylcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdFx0aWYgSW5zdGFuY2VNYW5hZ2VyLmlzSW5ib3goKVxyXG5cdFx0XHRcdG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXHJcblx0XHRcdFx0aWYgbXlBcHByb3ZlXHJcblx0XHRcdFx0XHRpbnN0YW5jZSA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cdFx0XHRcdFx0bXlUcmFjZSA9IGluc3RhbmNlPy50cmFjZXM/LmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgbXlBcHByb3ZlLnRyYWNlKVxyXG5cdFx0XHRcdFx0cmV0dXJuIG15VHJhY2U/Lm5hbWUgPT0gc3RlcE5hbWVcclxuXHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRkZWZhdWx0RGVzY3JpcHRpb246ICgpLT5cclxuI1x0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiKVxyXG5cdFx0cmV0dXJuIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5kZWZhdWx0X2Rlc2NyaXB0aW9uXHJcblxyXG5cdHRyYWNlczogKCktPlxyXG5cdFx0SW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxyXG5cclxuXHR0cmFjZTogKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3JkcyktPlxyXG5cdFx0aW5zdGFuY2UgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluc3RhbmNlKClcclxuXHJcblx0XHRpc19jb21wbGV0ZWQgPSBpbnN0YW5jZT8uc3RhdGUgPT0gXCJjb21wbGV0ZWRcIlxyXG5cclxuXHRcdGNvbXBsZXRlZF9kYXRlID0gaWYgaXNfY29tcGxldGVkIHRoZW4gXy5sYXN0KGluc3RhbmNlLnRyYWNlcyk/LmZpbmlzaF9kYXRlPy5nZXRUaW1lKCkgZWxzZSAwXHJcblxyXG5cdFx0aWYgaXNfY29tcGxldGVkICYmIGluc3RhbmNlLmZpbmlzaF9kYXRlXHJcblx0XHRcdGNvbXBsZXRlZF9kYXRlID0gaW5zdGFuY2UuZmluaXNoX2RhdGU/LmdldFRpbWUoKVxyXG5cclxuXHRcdHRyYWNlcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudHJhY2VzKClcclxuXHJcblx0XHRhcHByb3ZlcyA9IF8uY2xvbmUodHJhY2VzW3N0ZXBOYW1lXSlcclxuXHJcblx0XHRhcHByb3ZlX3NvcnQgPSAoYXBwcm92ZXMsIHRvcF9rZXl3b3JkcyktPlxyXG5cclxuI+WvuUFwcHJvdmVz5o6S5bqP77yMIOaMieeFp+aPkOS6pOaXtumXtOaOkuWAkuW6j++8jOWmguaenOayoeacieaPkOS6pOWImeaYvuekuuWcqOacgOS4iui+uVxyXG5cdFx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeSBhcHByb3ZlcywgKGFwcHJvdmUpLT5cclxuXHRcdFx0XHRyZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKVxyXG5cclxuXHRcdFx0I+mAmui/h+WFs+mUruWtl+aOkuW6j1xyXG5cdFx0XHRpZiB0b3Bfa2V5d29yZHNcclxuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRcdFx0XHR0b3Bfa2V5d29yZHMuc3BsaXQoXCIsXCIpLmZvckVhY2ggKGtleSkgLT5cclxuXHRcdFx0XHRcdHRvcF9hcHByb3ZlcyA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBfLmZpbHRlcihhcHByb3Zlc19zb3J0ZWQsIChhcHByb3ZlKS0+XHJcblx0XHRcdFx0XHRcdHJldHVybiBhcHByb3ZlPy5oYW5kbGVyX25hbWU/LmluZGV4T2Yoa2V5KSA+IC0xXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0IyDlr7nnva7pobbmhI/op4HmjInnhaflpITnkIbkuovku7bmjpLlgJLluo9cclxuXHRcdFx0XHR0b3BfYXBwcm92ZXMgPSBfLnNvcnRCeSB0b3BfYXBwcm92ZXMsICh0b3BfYXBwcm92ZSktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIC0odG9wX2FwcHJvdmUuZmluaXNoX2RhdGUgfHwgbmV3IERhdGUoKSkuZ2V0VGltZSgpXHJcblxyXG5cdFx0XHRcdGFwcHJvdmVzX3NvcnRlZCA9IF8udW5pb24gdG9wX2FwcHJvdmVzLCBhcHByb3Zlc19zb3J0ZWRcclxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzX3NvcnRlZCB8fCBbXVxyXG5cclxuXHRcdGFwcHJvdmVzID0gXy5maWx0ZXIgYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdHJldHVybiBhLnR5cGUgaXNudCBcImZvcndhcmRcIiBhbmQgYS50eXBlIGlzbnQgXCJkaXN0cmlidXRlXCIgYW5kIGEudHlwZSBpc250IFwidGVybWluYXRlZFwiXHJcblxyXG5cdFx0aWYgb25seV9jY19vcGluaW9uXHJcblx0XHRcdGFwcHJvdmVzID0gYXBwcm92ZXM/LmZpbHRlclByb3BlcnR5KFwidHlwZVwiLCBcImNjXCIpXHJcblxyXG5cdFx0YXBwcm92ZXNfc29ydGVkID0gYXBwcm92ZV9zb3J0KGFwcHJvdmVzLCB0b3Bfa2V5d29yZHMpXHJcblxyXG5cdFx0YXBwcm92ZXNHcm91cCA9IF8uZ3JvdXBCeShhcHByb3ZlcywgXCJoYW5kbGVyXCIpO1xyXG5cclxuXHRcdGhhc05leHQgPSAoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkgLT5cclxuXHRcdFx0aGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdXHJcblx0XHRcdHJldHVybiBfLmluZGV4T2YoaGFuZGxlckFwcHJvdmVzLCBhcHByb3ZlKSArIDEgPCBoYW5kbGVyQXBwcm92ZXMubGVuZ3RoXHJcblxyXG5cdFx0aGF2ZURlc2NyaXB0aW9uQXBwcm92ZSA9IChhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSAtPlxyXG5cdFx0XHRoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl1cclxuXHJcblx0XHRcdGRlc2NyaXB0aW9uQXBwcm92ZXMgPSBfLmZpbHRlciBoYW5kbGVyQXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0aWYgYS5kZXNjcmlwdGlvblxyXG5cdFx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRcdGlmIGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cclxuXHRcdGFwcHJvdmVzX3NvcnRlZC5mb3JFYWNoIChhcHByb3ZlKSAtPlxyXG4jXHRcdFx05pyJ6L6T5YWl5oSP6KeBIOaIliDmnIDmlrDkuIDmnaHlubbkuJTnlKjmiLfmsqHmnInovpPlhaXov4fmhI/op4FcclxuI1x0XHRcdGlmICFhcHByb3ZlLmlzX2ZpbmlzaGVkIHx8IGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApICYmICFoYXZlRGVzY3JpcHRpb25BcHByb3ZlKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKVxyXG4jXHRcdFx0aWYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cClcclxuXHRcdFx0aWYgYXBwcm92ZS5zaWduX3Nob3cgIT0gZmFsc2UgJiYgKGFwcHJvdmUuZGVzY3JpcHRpb24gfHwgKCFhcHByb3ZlLmRlc2NyaXB0aW9uICYmICFoYXNOZXh0KGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApKSApXHJcblx0XHRcdFx0aWYgYXBwcm92ZS5qdWRnZSBpc250ICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRcdFx0YXBwcm92ZS5fZGlzcGxheSA9IHRydWVcclxuXHJcblx0XHRhcHByb3Zlc19zb3J0ZWQgPSBfLmZpbHRlciBhcHByb3Zlc19zb3J0ZWQsIChhKSAtPlxyXG5cdFx0XHRpZiBpc19jb21wbGV0ZWRcclxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlICYmIGEuaXNfZmluaXNoZWQgJiYgYS5maW5pc2hfZGF0ZT8uZ2V0VGltZSgpIDw9IGNvbXBsZXRlZF9kYXRlXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gYS5fZGlzcGxheSA9PSB0cnVlXHJcblxyXG5cdFx0cmV0dXJuIGFwcHJvdmVzX3NvcnRlZFxyXG5cclxuXHRpbmNsdWRlOiAoYSwgYikgLT5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGUoYSwgYilcclxuXHJcblx0dW5lbXB0eTogKHZhbCktPlxyXG5cdFx0cmV0dXJuIEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMudW5lbXB0eSh2YWwpXHJcblxyXG5cdGZvcm1hdERhdGU6IChkYXRlLCBvcHRpb25zKS0+XHJcblx0XHRpZiAhb3B0aW9uc1xyXG5cdFx0XHRvcHRpb25zID0ge1wiZm9ybWF0XCI6IFwiWVlZWS1NTS1ERFwifVxyXG5cclxuXHRcdHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucylcclxuXHJcblx0aXNNeUFwcHJvdmU6IChhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIC0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XHJcblxyXG5cdFx0XHRjdXJyZW50QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpXHJcblxyXG5cdFx0XHRpZiAhYXBwcm92ZT8uX2lkXHJcblx0XHRcdFx0YXBwcm92ZSA9IGN1cnJlbnRBcHByb3ZlXHJcblxyXG5cdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBjdXJyZW50QXBwcm92ZT8uX2lkICYmIGN1cnJlbnRBcHByb3ZlPy50eXBlID09ICdjYycgJiYgVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLm5hbWVcclxuXHRcdFx0XHRpZiBfLmluZGV4T2YoY3VycmVudEFwcHJvdmU/Lm9waW5pb25fZmllbGRzX2NvZGUsIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lKSA+IC0xXHJcblx0XHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRcdFx0aWYgIShjdXJyZW50QXBwcm92ZT8udHlwZSA9PSAnY2MnKSAmJiBvbmx5X2NjX29waW5pb25cclxuXHRcdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRcdGlmIGN1cnJlbnRBcHByb3ZlICYmIGFwcHJvdmUuX2lkID09IGN1cnJlbnRBcHByb3ZlLl9pZFxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0bXlBcHByb3ZlRGVzY3JpcHRpb246IChhcHByb3ZlSWQpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnXHJcblx0XHRcdFx0bXlBcHByb3ZlID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8ubXlBcHByb3ZlPy5nZXQoKVxyXG5cdFx0XHRcdGlmIG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT0gYXBwcm92ZUlkXHJcblx0XHRcdFx0XHRpZiAhbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09IFRlbXBsYXRlLmluc3RhbmNlKCk/LmRhdGE/Lm5hbWVcclxuXHRcdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybiBteUFwcHJvdmU/LmRlc2NyaXB0aW9uIHx8IFwiXCJcclxuXHRcdFx0XHRcdFx0cmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxyXG5cclxuXHRub3c6ICgpLT5cclxuXHRcdHJldHVybiBuZXcgRGF0ZSgpO1xyXG5cclxuXHRpc1JlYWRPbmx5OiAoKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0cmV0dXJuIEFwcHJvdmVNYW5hZ2VyLmlzUmVhZE9ubHkoKVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGlzT3Bpbmlvbk9mRmllbGQ6IChhcHByb3ZlKS0+XHJcblx0XHRpZiBhcHByb3ZlLnR5cGUgPT0gXCJjY1wiICYmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lXHJcblx0XHRcdGlmIFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09IGFwcHJvdmUuc2lnbl9maWVsZF9jb2RlXHJcblx0XHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gdHJ1ZTtcclxuXHJcblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxyXG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcclxuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcclxuXHRcdFx0cmVuZGVyZXIubGluayA9IChocmVmLCB0aXRsZSwgdGV4dCkgLT5cclxuXHRcdFx0XHRyZXR1cm4gXCI8YSB0YXJnZXQ9J19ibGFuaycgaHJlZj0nI3tocmVmfScgdGl0bGU9JyN7dGl0bGV9Jz4je3RleHR9PC9hPlwiXHJcblx0XHRcdHJldHVybiBTcGFjZWJhcnMuU2FmZVN0cmluZyhNYXJrZG93bihtYXJrRG93blN0cmluZywge3JlbmRlcmVyOiByZW5kZXJlcn0pKVxyXG5cclxuXHRzdGVwczogKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbiktPlxyXG5cdFx0c3RlcHMgPSBbXVxyXG5cdFx0aWYgIXN0ZXBcclxuXHRcdFx0aWYgIWZpZWxkX2Zvcm11bGFcclxuXHRcdFx0XHRmaWVsZF9mb3JtdWxhID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlRm9ybVZlcnNpb24oKT8uZmllbGRzPy5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGFcclxuXHRcdFx0c3RlcHMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmdldE9waW5pb25GaWVsZFN0ZXBzTmFtZShmaWVsZF9mb3JtdWxhLCBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhLnRvcF9rZXl3b3JkcylcclxuXHRcdGVsc2VcclxuXHRcdFx0c3RlcHMgPSBbe3N0ZXBOYW1lOiBzdGVwLCBvbmx5X2NjX29waW5pb246IG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbjogaW1hZ2Vfc2lnbn1dXHJcblx0XHRyZXR1cm4gc3RlcHNcclxuXHJcblx0aW1hZ2VTaWduRGF0YTogKGhhbmRsZXIpIC0+XHJcblx0XHRyZXR1cm4ge3VzZXI6IGhhbmRsZXJ9XHJcblxyXG5cdHNob3dTaWduSW1hZ2U6IChoYW5kbGVyLCBpbWFnZV9zaWduKSAtPlxyXG5cdFx0c3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XHJcblxyXG5cdFx0aWYgc3BhY2VVc2VyU2lnbj8uc2lnbiAmJiBpbWFnZV9zaWduXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cclxuXHRnZXRMYXN0U2lnbkFwcHJvdmU6ICgpLT5cclxuXHRcdGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xyXG5cclxuXHRcdHJldHVybiBfLmxhc3QoVHJhY2VzTWFuYWdlci5nZXRIYW5kbGVyU2lnblNob3dBcHByb3ZlcyBpbnMsIE1ldGVvci51c2VySWQoKSlcclxuXHJcblxyXG5cdGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogKCktPlxyXG5cdFx0dHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKVxyXG5cdFx0Y3VycmVudFN0ZXAgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFN0ZXAoKTtcclxuXHRcdGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pXHJcblxyXG5cdFx0YXBwcm92ZXMgPSBhcHByb3Zlcy5maWx0ZXJQcm9wZXJ0eShcImhhbmRsZXJcIiwgTWV0ZW9yLnVzZXJJZCgpKVxyXG5cclxuXHRcdGlmIGFwcHJvdmVzLmxlbmd0aCA+IDFcclxuXHRcdFx0cmV0dXJuIGFwcHJvdmVzW2FwcHJvdmVzLmxlbmd0aCAtIDJdPy5kZXNjcmlwdGlvblxyXG5cclxuXHRcdHJldHVybiBcIlwiO1xyXG5cclxuXHRzaG93QXBwcm92ZTogKGFwcHJvdmUpLT5cclxuXHRcdGlmICFhcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PSBUZW1wbGF0ZS5pbnN0YW5jZSgpPy5kYXRhPy5uYW1lXHJcblx0XHRcdGlmIGFwcHJvdmU/LmlzX3JlYWRcclxuXHRcdFx0XHRpZiBhcHByb3ZlLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHRyZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlO1xyXG5cdFx0cmV0dXJuIGZhbHNlO1xyXG5cclxuXHRqdWRnZV9kZXNjcmlwdGlvbjogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4gdChqdWRnZSArIFwiX2Rlc2NyaXB0aW9uXCIpXHJcblxyXG5cdGlzX2FwcHJvdmVkOiAoanVkZ2UpLT5cclxuXHRcdHJldHVybiBcImFwcHJvdmVkXCIgPT0ganVkZ2VcclxuXHJcblx0aXNfcmVqZWN0ZWQ6IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIFwicmVqZWN0ZWRcIiA9PSBqdWRnZVxyXG5cclxuXHRpc19yZWFkZWQ6IChqdWRnZSktPlxyXG5cdFx0cmV0dXJuIFtcImFwcHJvdmVkXCIsIFwicmVqZWN0ZWRcIiwgXCJzdWJtaXR0ZWRcIiwgXCJyZWFkZWRcIl0uaW5jbHVkZXMoanVkZ2UpXHJcblxyXG5cdGFkZENsYXNzOiAoKS0+XHJcblx0XHRuYW1lID0gVGVtcGxhdGUuaW5zdGFuY2UoKT8uZGF0YT8ubmFtZVxyXG5cdFx0c2V0VGltZW91dCAoKSAtPlxyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRlbGVtZW50ID0gJChcIi5hdXRvbWF0aWMub3Bpbmlvbi1maWVsZC1cIiArIG5hbWUpXHJcblx0XHRcdFx0aWYgZWxlbWVudC5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRpZiBlbGVtZW50Py5pcyhcInRkXCIpXHJcblx0XHRcdFx0XHRcdGVsZW1lbnQuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJylcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0JChcIi5pbnN0YW5jZS1zaWduXCIsIGVsZW1lbnQpLmFkZENsYXNzKCdmaWVsZC1lZGl0YWJsZScpXHJcblx0XHRcdGNhdGNoIGVcclxuXHRcdFx0XHRjb25zb2xlLmxvZyBlXHJcblx0XHQsIDFcclxuXHRcdHJldHVybiAnJ1xyXG5cclxuaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0SW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzLmRlZmF1bHREZXNjcmlwdGlvbiA9IC0+XHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRyZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiLCB7fSwgbG9jYWxlKSIsIkluc3RhbmNlU2lnblRleHQuaGVscGVycyA9IHtcbiAgc2hvdzogZnVuY3Rpb24oc3RlcE5hbWUpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlUcmFjZSwgcmVmO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldCgnaW5zdGFuY2VQcmludCcpKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChJbnN0YW5jZU1hbmFnZXIuaXNJbmJveCgpKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50QXBwcm92ZSgpO1xuICAgICAgICBpZiAobXlBcHByb3ZlKSB7XG4gICAgICAgICAgaW5zdGFuY2UgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgICAgICBteVRyYWNlID0gaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCBteUFwcHJvdmUudHJhY2UpIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIHJldHVybiAobXlUcmFjZSAhPSBudWxsID8gbXlUcmFjZS5uYW1lIDogdm9pZCAwKSA9PT0gc3RlcE5hbWU7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBkZWZhdWx0RGVzY3JpcHRpb246IGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEuZGVmYXVsdF9kZXNjcmlwdGlvbjtcbiAgfSxcbiAgdHJhY2VzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgfSxcbiAgdHJhY2U6IGZ1bmN0aW9uKHN0ZXBOYW1lLCBvbmx5X2NjX29waW5pb24sIGltYWdlX3NpZ24sIHRvcF9rZXl3b3Jkcykge1xuICAgIHZhciBhcHByb3ZlX3NvcnQsIGFwcHJvdmVzLCBhcHByb3Zlc0dyb3VwLCBhcHByb3Zlc19zb3J0ZWQsIGNvbXBsZXRlZF9kYXRlLCBoYXNOZXh0LCBoYXZlRGVzY3JpcHRpb25BcHByb3ZlLCBpbnN0YW5jZSwgaXNfY29tcGxldGVkLCByZWYsIHJlZjEsIHJlZjIsIHRyYWNlcztcbiAgICBpbnN0YW5jZSA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuaW5zdGFuY2UoKTtcbiAgICBpc19jb21wbGV0ZWQgPSAoaW5zdGFuY2UgIT0gbnVsbCA/IGluc3RhbmNlLnN0YXRlIDogdm9pZCAwKSA9PT0gXCJjb21wbGV0ZWRcIjtcbiAgICBjb21wbGV0ZWRfZGF0ZSA9IGlzX2NvbXBsZXRlZCA/IChyZWYgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMS5nZXRUaW1lKCkgOiB2b2lkIDAgOiB2b2lkIDAgOiAwO1xuICAgIGlmIChpc19jb21wbGV0ZWQgJiYgaW5zdGFuY2UuZmluaXNoX2RhdGUpIHtcbiAgICAgIGNvbXBsZXRlZF9kYXRlID0gKHJlZjIgPSBpbnN0YW5jZS5maW5pc2hfZGF0ZSkgIT0gbnVsbCA/IHJlZjIuZ2V0VGltZSgpIDogdm9pZCAwO1xuICAgIH1cbiAgICB0cmFjZXMgPSBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnRyYWNlcygpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbc3RlcE5hbWVdKTtcbiAgICBhcHByb3ZlX3NvcnQgPSBmdW5jdGlvbihhcHByb3ZlcywgdG9wX2tleXdvcmRzKSB7XG4gICAgICB2YXIgYXBwcm92ZXNfc29ydGVkLCB0b3BfYXBwcm92ZXM7XG4gICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnNvcnRCeShhcHByb3ZlcywgZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgICByZXR1cm4gLShhcHByb3ZlLmZpbmlzaF9kYXRlIHx8IG5ldyBEYXRlKCkpLmdldFRpbWUoKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRvcF9rZXl3b3Jkcykge1xuICAgICAgICB0b3BfYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgdG9wX2tleXdvcmRzLnNwbGl0KFwiLFwiKS5mb3JFYWNoKGZ1bmN0aW9uKGtleSkge1xuICAgICAgICAgIHJldHVybiB0b3BfYXBwcm92ZXMgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgICAgICAgICB2YXIgcmVmMztcbiAgICAgICAgICAgIHJldHVybiAoYXBwcm92ZSAhPSBudWxsID8gKHJlZjMgPSBhcHByb3ZlLmhhbmRsZXJfbmFtZSkgIT0gbnVsbCA/IHJlZjMuaW5kZXhPZihrZXkpIDogdm9pZCAwIDogdm9pZCAwKSA+IC0xO1xuICAgICAgICAgIH0pKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRvcF9hcHByb3ZlcyA9IF8uc29ydEJ5KHRvcF9hcHByb3ZlcywgZnVuY3Rpb24odG9wX2FwcHJvdmUpIHtcbiAgICAgICAgICByZXR1cm4gLSh0b3BfYXBwcm92ZS5maW5pc2hfZGF0ZSB8fCBuZXcgRGF0ZSgpKS5nZXRUaW1lKCk7XG4gICAgICAgIH0pO1xuICAgICAgICBhcHByb3Zlc19zb3J0ZWQgPSBfLnVuaW9uKHRvcF9hcHByb3ZlcywgYXBwcm92ZXNfc29ydGVkKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBhcHByb3Zlc19zb3J0ZWQgfHwgW107XG4gICAgfTtcbiAgICBhcHByb3ZlcyA9IF8uZmlsdGVyKGFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICByZXR1cm4gYS50eXBlICE9PSBcImZvcndhcmRcIiAmJiBhLnR5cGUgIT09IFwiZGlzdHJpYnV0ZVwiICYmIGEudHlwZSAhPT0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgfSk7XG4gICAgaWYgKG9ubHlfY2Nfb3Bpbmlvbikge1xuICAgICAgYXBwcm92ZXMgPSBhcHByb3ZlcyAhPSBudWxsID8gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJ0eXBlXCIsIFwiY2NcIikgOiB2b2lkIDA7XG4gICAgfVxuICAgIGFwcHJvdmVzX3NvcnRlZCA9IGFwcHJvdmVfc29ydChhcHByb3ZlcywgdG9wX2tleXdvcmRzKTtcbiAgICBhcHByb3Zlc0dyb3VwID0gXy5ncm91cEJ5KGFwcHJvdmVzLCBcImhhbmRsZXJcIik7XG4gICAgaGFzTmV4dCA9IGZ1bmN0aW9uKGFwcHJvdmUsIGFwcHJvdmVzR3JvdXApIHtcbiAgICAgIHZhciBoYW5kbGVyQXBwcm92ZXM7XG4gICAgICBoYW5kbGVyQXBwcm92ZXMgPSBhcHByb3Zlc0dyb3VwW2FwcHJvdmUuaGFuZGxlcl07XG4gICAgICByZXR1cm4gXy5pbmRleE9mKGhhbmRsZXJBcHByb3ZlcywgYXBwcm92ZSkgKyAxIDwgaGFuZGxlckFwcHJvdmVzLmxlbmd0aDtcbiAgICB9O1xuICAgIGhhdmVEZXNjcmlwdGlvbkFwcHJvdmUgPSBmdW5jdGlvbihhcHByb3ZlLCBhcHByb3Zlc0dyb3VwKSB7XG4gICAgICB2YXIgZGVzY3JpcHRpb25BcHByb3ZlcywgaGFuZGxlckFwcHJvdmVzO1xuICAgICAgaGFuZGxlckFwcHJvdmVzID0gYXBwcm92ZXNHcm91cFthcHByb3ZlLmhhbmRsZXJdO1xuICAgICAgZGVzY3JpcHRpb25BcHByb3ZlcyA9IF8uZmlsdGVyKGhhbmRsZXJBcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICBpZiAoYS5kZXNjcmlwdGlvbikge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH0pO1xuICAgICAgaWYgKGRlc2NyaXB0aW9uQXBwcm92ZXMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH07XG4gICAgYXBwcm92ZXNfc29ydGVkLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgICAgaWYgKGFwcHJvdmUuc2lnbl9zaG93ICE9PSBmYWxzZSAmJiAoYXBwcm92ZS5kZXNjcmlwdGlvbiB8fCAoIWFwcHJvdmUuZGVzY3JpcHRpb24gJiYgIWhhc05leHQoYXBwcm92ZSwgYXBwcm92ZXNHcm91cCkpKSkge1xuICAgICAgICBpZiAoYXBwcm92ZS5qdWRnZSAhPT0gJ3Rlcm1pbmF0ZWQnKSB7XG4gICAgICAgICAgcmV0dXJuIGFwcHJvdmUuX2Rpc3BsYXkgPSB0cnVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgYXBwcm92ZXNfc29ydGVkID0gXy5maWx0ZXIoYXBwcm92ZXNfc29ydGVkLCBmdW5jdGlvbihhKSB7XG4gICAgICB2YXIgcmVmMztcbiAgICAgIGlmIChpc19jb21wbGV0ZWQpIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWUgJiYgYS5pc19maW5pc2hlZCAmJiAoKHJlZjMgPSBhLmZpbmlzaF9kYXRlKSAhPSBudWxsID8gcmVmMy5nZXRUaW1lKCkgOiB2b2lkIDApIDw9IGNvbXBsZXRlZF9kYXRlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIGEuX2Rpc3BsYXkgPT09IHRydWU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuIGFwcHJvdmVzX3NvcnRlZDtcbiAgfSxcbiAgaW5jbHVkZTogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGUoYSwgYik7XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKHZhbCkge1xuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLnVuZW1wdHkodmFsKTtcbiAgfSxcbiAgZm9ybWF0RGF0ZTogZnVuY3Rpb24oZGF0ZSwgb3B0aW9ucykge1xuICAgIGlmICghb3B0aW9ucykge1xuICAgICAgb3B0aW9ucyA9IHtcbiAgICAgICAgXCJmb3JtYXRcIjogXCJZWVlZLU1NLUREXCJcbiAgICAgIH07XG4gICAgfVxuICAgIHJldHVybiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmZvcm1hdERhdGUoZGF0ZSwgb3B0aW9ucyk7XG4gIH0sXG4gIGlzTXlBcHByb3ZlOiBmdW5jdGlvbihhcHByb3ZlLCBvbmx5X2NjX29waW5pb24pIHtcbiAgICB2YXIgY3VycmVudEFwcHJvdmUsIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICAgIGN1cnJlbnRBcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKCk7XG4gICAgICBpZiAoIShhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLl9pZCA6IHZvaWQgMCkpIHtcbiAgICAgICAgYXBwcm92ZSA9IGN1cnJlbnRBcHByb3ZlO1xuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuX2lkID09PSAoY3VycmVudEFwcHJvdmUgIT0gbnVsbCA/IGN1cnJlbnRBcHByb3ZlLl9pZCA6IHZvaWQgMCkgJiYgKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJyAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgICBpZiAoXy5pbmRleE9mKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlIDogdm9pZCAwLCBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkgPiAtMSkge1xuICAgICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKCEoKGN1cnJlbnRBcHByb3ZlICE9IG51bGwgPyBjdXJyZW50QXBwcm92ZS50eXBlIDogdm9pZCAwKSA9PT0gJ2NjJykgJiYgb25seV9jY19vcGluaW9uKSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICAgIGlmIChjdXJyZW50QXBwcm92ZSAmJiBhcHByb3ZlLl9pZCA9PT0gY3VycmVudEFwcHJvdmUuX2lkKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlSWQpIHtcbiAgICB2YXIgbXlBcHByb3ZlLCByZWYsIHJlZjEsIHJlZjIsIHJlZjM7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYubXlBcHByb3ZlKSAhPSBudWxsID8gcmVmMS5nZXQoKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmICghbXlBcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBteUFwcHJvdmUuc2lnbl9maWVsZF9jb2RlID09PSAoKHJlZjIgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjMgPSByZWYyLmRhdGEpICE9IG51bGwgPyByZWYzLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICAgICAgICBpZiAoIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKSkge1xuICAgICAgICAgICAgICByZXR1cm4gKG15QXBwcm92ZSAhPSBudWxsID8gbXlBcHByb3ZlLmRlc2NyaXB0aW9uIDogdm9pZCAwKSB8fCBcIlwiO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIFNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIG5vdzogZnVuY3Rpb24oKSB7XG4gICAgcmV0dXJuIG5ldyBEYXRlKCk7XG4gIH0sXG4gIGlzUmVhZE9ubHk6IGZ1bmN0aW9uKCkge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIHJldHVybiBBcHByb3ZlTWFuYWdlci5pc1JlYWRPbmx5KCk7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgaXNPcGluaW9uT2ZGaWVsZDogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBUZW1wbGF0ZS5pbnN0YW5jZSgpLmRhdGEubmFtZSkge1xuICAgICAgaWYgKFRlbXBsYXRlLmluc3RhbmNlKCkuZGF0YS5uYW1lID09PSBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBmYWxzZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICB9LFxuICBtYXJrRG93blRvSHRtbDogZnVuY3Rpb24obWFya0Rvd25TdHJpbmcpIHtcbiAgICB2YXIgcmVuZGVyZXI7XG4gICAgaWYgKG1hcmtEb3duU3RyaW5nKSB7XG4gICAgICByZW5kZXJlciA9IG5ldyBNYXJrZG93bi5SZW5kZXJlcigpO1xuICAgICAgcmVuZGVyZXIubGluayA9IGZ1bmN0aW9uKGhyZWYsIHRpdGxlLCB0ZXh0KSB7XG4gICAgICAgIHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIiArIGhyZWYgKyBcIicgdGl0bGU9J1wiICsgdGl0bGUgKyBcIic+XCIgKyB0ZXh0ICsgXCI8L2E+XCI7XG4gICAgICB9O1xuICAgICAgcmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7XG4gICAgICAgIHJlbmRlcmVyOiByZW5kZXJlclxuICAgICAgfSkpO1xuICAgIH1cbiAgfSxcbiAgc3RlcHM6IGZ1bmN0aW9uKGZpZWxkX2Zvcm11bGEsIHN0ZXAsIG9ubHlfY2Nfb3BpbmlvbiwgaW1hZ2Vfc2lnbikge1xuICAgIHZhciByZWYsIHJlZjEsIHJlZjIsIHN0ZXBzO1xuICAgIHN0ZXBzID0gW107XG4gICAgaWYgKCFzdGVwKSB7XG4gICAgICBpZiAoIWZpZWxkX2Zvcm11bGEpIHtcbiAgICAgICAgZmllbGRfZm9ybXVsYSA9IChyZWYgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VGb3JtVmVyc2lvbigpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZmllbGRzKSAhPSBudWxsID8gcmVmMS5maW5kUHJvcGVydHlCeVBLKFwiY29kZVwiLCB0aGlzLm5hbWUpLmZvcm11bGEgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9XG4gICAgICBzdGVwcyA9IEluc3RhbmNlZm9ybVRlbXBsYXRlLmhlbHBlcnMuZ2V0T3BpbmlvbkZpZWxkU3RlcHNOYW1lKGZpZWxkX2Zvcm11bGEsIChyZWYyID0gVGVtcGxhdGUuaW5zdGFuY2UoKSkgIT0gbnVsbCA/IHJlZjIuZGF0YS50b3Bfa2V5d29yZHMgOiB2b2lkIDApO1xuICAgIH0gZWxzZSB7XG4gICAgICBzdGVwcyA9IFtcbiAgICAgICAge1xuICAgICAgICAgIHN0ZXBOYW1lOiBzdGVwLFxuICAgICAgICAgIG9ubHlfY2Nfb3Bpbmlvbjogb25seV9jY19vcGluaW9uLFxuICAgICAgICAgIGltYWdlX3NpZ246IGltYWdlX3NpZ25cbiAgICAgICAgfVxuICAgICAgXTtcbiAgICB9XG4gICAgcmV0dXJuIHN0ZXBzO1xuICB9LFxuICBpbWFnZVNpZ25EYXRhOiBmdW5jdGlvbihoYW5kbGVyKSB7XG4gICAgcmV0dXJuIHtcbiAgICAgIHVzZXI6IGhhbmRsZXJcbiAgICB9O1xuICB9LFxuICBzaG93U2lnbkltYWdlOiBmdW5jdGlvbihoYW5kbGVyLCBpbWFnZV9zaWduKSB7XG4gICAgdmFyIHNwYWNlVXNlclNpZ247XG4gICAgc3BhY2VVc2VyU2lnbiA9IEltYWdlU2lnbi5oZWxwZXJzLnNwYWNlVXNlclNpZ24oaGFuZGxlcik7XG4gICAgaWYgKChzcGFjZVVzZXJTaWduICE9IG51bGwgPyBzcGFjZVVzZXJTaWduLnNpZ24gOiB2b2lkIDApICYmIGltYWdlX3NpZ24pIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICBnZXRMYXN0U2lnbkFwcHJvdmU6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBpbnM7XG4gICAgaW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlKCk7XG4gICAgcmV0dXJuIF8ubGFzdChUcmFjZXNNYW5hZ2VyLmdldEhhbmRsZXJTaWduU2hvd0FwcHJvdmVzKGlucywgTWV0ZW9yLnVzZXJJZCgpKSk7XG4gIH0sXG4gIGxhc3RNeUFwcHJvdmVEZXNjcmlwdGlvbjogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGFwcHJvdmVzLCBjdXJyZW50U3RlcCwgcmVmLCB0cmFjZXM7XG4gICAgdHJhY2VzID0gSW5zdGFuY2Vmb3JtVGVtcGxhdGUuaGVscGVycy50cmFjZXMoKTtcbiAgICBjdXJyZW50U3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgIGFwcHJvdmVzID0gXy5jbG9uZSh0cmFjZXNbY3VycmVudFN0ZXAubmFtZV0pO1xuICAgIGFwcHJvdmVzID0gYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIE1ldGVvci51c2VySWQoKSk7XG4gICAgaWYgKGFwcHJvdmVzLmxlbmd0aCA+IDEpIHtcbiAgICAgIHJldHVybiAocmVmID0gYXBwcm92ZXNbYXBwcm92ZXMubGVuZ3RoIC0gMl0pICE9IG51bGwgPyByZWYuZGVzY3JpcHRpb24gOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBcIlwiO1xuICB9LFxuICBzaG93QXBwcm92ZTogZnVuY3Rpb24oYXBwcm92ZSkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgaWYgKCFhcHByb3ZlLnNpZ25fZmllbGRfY29kZSB8fCBhcHByb3ZlLnNpZ25fZmllbGRfY29kZSA9PT0gKChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZGF0YSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgIGlmIChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLmlzX3JlYWQgOiB2b2lkIDApIHtcbiAgICAgICAgaWYgKGFwcHJvdmUuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICByZXR1cm4gW1wiYXBwcm92ZWRcIiwgXCJyZWplY3RlZFwiLCBcInN1Ym1pdHRlZFwiLCBcInJlYWRlZFwiXS5pbmNsdWRlcyhhcHByb3ZlLmp1ZGdlKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIGp1ZGdlX2Rlc2NyaXB0aW9uOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiB0KGp1ZGdlICsgXCJfZGVzY3JpcHRpb25cIik7XG4gIH0sXG4gIGlzX2FwcHJvdmVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBcImFwcHJvdmVkXCIgPT09IGp1ZGdlO1xuICB9LFxuICBpc19yZWplY3RlZDogZnVuY3Rpb24oanVkZ2UpIHtcbiAgICByZXR1cm4gXCJyZWplY3RlZFwiID09PSBqdWRnZTtcbiAgfSxcbiAgaXNfcmVhZGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBbXCJhcHByb3ZlZFwiLCBcInJlamVjdGVkXCIsIFwic3VibWl0dGVkXCIsIFwicmVhZGVkXCJdLmluY2x1ZGVzKGp1ZGdlKTtcbiAgfSxcbiAgYWRkQ2xhc3M6IGZ1bmN0aW9uKCkge1xuICAgIHZhciBuYW1lLCByZWYsIHJlZjE7XG4gICAgbmFtZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYuZGF0YSkgIT0gbnVsbCA/IHJlZjEubmFtZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGUsIGVsZW1lbnQ7XG4gICAgICB0cnkge1xuICAgICAgICBlbGVtZW50ID0gJChcIi5hdXRvbWF0aWMub3Bpbmlvbi1maWVsZC1cIiArIG5hbWUpO1xuICAgICAgICBpZiAoZWxlbWVudC5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgaWYgKGVsZW1lbnQgIT0gbnVsbCA/IGVsZW1lbnQuaXMoXCJ0ZFwiKSA6IHZvaWQgMCkge1xuICAgICAgICAgICAgcmV0dXJuIGVsZW1lbnQuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiAkKFwiLmluc3RhbmNlLXNpZ25cIiwgZWxlbWVudCkuYWRkQ2xhc3MoJ2ZpZWxkLWVkaXRhYmxlJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgIHJldHVybiBjb25zb2xlLmxvZyhlKTtcbiAgICAgIH1cbiAgICB9LCAxKTtcbiAgICByZXR1cm4gJyc7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgSW5zdGFuY2VTaWduVGV4dC5oZWxwZXJzLmRlZmF1bHREZXNjcmlwdGlvbiA9IGZ1bmN0aW9uKCkge1xuICAgIHZhciBsb2NhbGU7XG4gICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5kYXRhLmRlZmF1bHRfZGVzY3JpcHRpb24gfHwgVEFQaTE4bi5fXyhcImluc3RhbmNlX2RlZmF1bHRfb3BpbmlvblwiLCB7fSwgbG9jYWxlKTtcbiAgfTtcbn1cbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPVxyXG5cdGVxdWFsczogKGEsIGIpIC0+XHJcblx0XHRhID09IGJcclxuXHRlbXB0eTogKGEpIC0+XHJcblx0XHRpZiBhXHJcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoIDwgMVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0cnVlXHJcblx0dW5lbXB0eTogKGEpIC0+XHJcblx0XHRpZiBhXHJcblx0XHRcdGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRmYWxzZVxyXG5cclxuXHRhcHBlbmQ6IChhLCBiKSAtPlxyXG5cdFx0YSArIGJcclxuXHJcblx0ZGF0ZUZvcm1hdDogKGRhdGUpIC0+XHJcblx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiBkYXRlPy5nZXRGdWxsWWVhcigpID09IChuZXcgRGF0ZSkuZ2V0RnVsbFllYXIoKVxyXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcIk1NLWRkIEhIOm1tXCJcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHJldHVybiAkLmZvcm1hdC5kYXRlIG5ldyBEYXRlKGRhdGUpLCBcInl5eXktTU0tZGQgSEg6bW1cIlxyXG5cclxuXHRnZXRTdGVwTmFtZTogKHN0ZXBJZCkgLT5cclxuXHRcdHN0ZXAgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VTdGVwKHN0ZXBJZClcclxuXHRcdGlmIHN0ZXBcclxuXHRcdFx0cmV0dXJuIHN0ZXAubmFtZVxyXG5cdFx0bnVsbFxyXG5cdHNob3dEZWxldGVCdXR0b246IChhcHByb3ZlZCkgLT5cclxuXHRcdGlmIGFwcHJvdmVkIGFuZCBhcHByb3ZlZC50eXBlID09ICdjYycgYW5kIGFwcHJvdmVkLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kIGFwcHJvdmVkLmlzX2ZpbmlzaGVkICE9IHRydWUgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIilcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0aXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uOiAoYXBwcm92ZWQpIC0+XHJcblx0XHRhcHByb3ZlX2FkbWlucyA9IE1ldGVvci5zZXR0aW5ncz8ucHVibGljPy53b3JrZmxvdz8uYXBwcm92ZV9hZG1pbnNcclxuXHRcdGlmIGFwcHJvdmVfYWRtaW5zPy5sZW5ndGhcclxuXHRcdFx0aXNTaG93ID0gYXBwcm92ZV9hZG1pbnM/LmNvbnRhaW5zIE1ldGVvci51c2VySWQoKVxyXG5cdFx0dW5sZXNzIGlzU2hvd1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdHJldHVybiBhcHByb3ZlZC5oYW5kbGVyID09IE1ldGVvci51c2VySWQoKVxyXG5cdGlzRWRpdGluZzogKCkgLT5cclxuXHRcdCByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2UoKS5pc19lZGl0aW5nPy5nZXQoKVxyXG5cdGlzU2hvd0Rlc2NyaXB0aW9uOiAoYXBwcm92ZWQpLT5cclxuXHRcdCMgZGVidWdnZXJcclxuXHRcdGlmIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uIGFwcHJvdmVkXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRyZXR1cm4gYXBwcm92ZWQuZGVzY3JpcHRpb24/LnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA+IDBcclxuXHRpc0NDOiAoYXBwcm92ZWQpIC0+XHJcblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnY2MnXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRmYWxzZVxyXG5cdGdldEFwcHJvdmVTdGF0dXNJY29uOiAoYXBwcm92ZUp1ZGdlKSAtPlxyXG5cdFx0I+W3sue7k+adn+eahOaYvuekuuS4uuaguOWHhi/pqbPlm54v5Y+W5raI55Sz6K+377yM5bm25pi+56S65aSE55CG54q25oCB5Zu+5qCHXHJcblx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9IHVuZGVmaW5lZFxyXG5cdFx0c3dpdGNoIGFwcHJvdmVKdWRnZVxyXG5cdFx0XHR3aGVuICdhcHByb3ZlZCdcclxuXHRcdFx0XHQjIOW3suaguOWHhlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJ1xyXG5cdFx0XHR3aGVuICdyZWplY3RlZCdcclxuXHRcdFx0XHQjIOW3sumps+WbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnXHJcblx0XHRcdHdoZW4gJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0IyDlt7Llj5bmtohcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nXHJcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXHJcblx0XHRcdFx0IyDovaznrb7moLhcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCdcclxuXHRcdFx0d2hlbiAncmVsb2NhdGVkJ1xyXG5cdFx0XHRcdCMg6YeN5a6a5L2NXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnXHJcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcclxuXHRcdFx0XHQjIOW3suWPluWbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzSWNvbiA9ICcnXHJcblx0XHRcdFx0YnJlYWtcclxuXHRcdGFwcHJvdmVTdGF0dXNJY29uXHJcblx0Z2V0QXBwcm92ZVN0YXR1c1RleHQ6IChhcHByb3ZlSnVkZ2UpIC0+XHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0XHRpZiBsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PSAnemgtY24nXHJcblx0XHRcdFx0bG9jYWxlID0gXCJ6aC1DTlwiXHJcblx0XHRlbHNlXHJcblx0XHRcdGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIilcclxuXHRcdCPlt7Lnu5PmnZ/nmoTmmL7npLrkuLrmoLjlh4Yv6amz5ZueL+WPlua2iOeUs+ivt++8jOW5tuaYvuekuuWkhOeQhueKtuaAgeWbvuagh1xyXG5cdFx0YXBwcm92ZVN0YXR1c1RleHQgPSB1bmRlZmluZWRcclxuXHRcdHN3aXRjaCBhcHByb3ZlSnVkZ2VcclxuXHRcdFx0d2hlbiAnYXBwcm92ZWQnXHJcblx0XHRcdFx0IyDlt7LmoLjlh4ZcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIGFwcHJvdmVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmVqZWN0ZWQnXHJcblx0XHRcdFx0IyDlt7LpqbPlm55cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlamVjdGVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAndGVybWluYXRlZCdcclxuXHRcdFx0XHQjIOW3suWPlua2iFxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgdGVybWluYXRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JlYXNzaWduZWQnXHJcblx0XHRcdFx0IyDovaznrb7moLhcclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlYXNzaWduZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHR3aGVuICdyZWxvY2F0ZWQnXHJcblx0XHRcdFx0IyDph43lrprkvY1cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJlbG9jYXRlZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdHdoZW4gJ3JldHJpZXZlZCdcclxuXHRcdFx0XHQjIOW3suWPluWbnlxyXG5cdFx0XHRcdGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmV0cmlldmVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmV0dXJuZWQnXHJcblx0XHRcdFx0IyDlt7LpgIDlm55cclxuXHRcdFx0XHRhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHVybmVkJywge30sIGxvY2FsZSlcclxuXHRcdFx0d2hlbiAncmVhZGVkJ1xyXG5cdFx0XHRcdCMg5bey6ZiFXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFkZWQnLCB7fSwgbG9jYWxlKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0YXBwcm92ZVN0YXR1c1RleHQgPSAnJ1xyXG5cdFx0XHRcdGJyZWFrXHJcblx0XHRhcHByb3ZlU3RhdHVzVGV4dFxyXG5cdF90OiAoa2V5KS0+XHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXkpXHJcblxyXG5cdG15QXBwcm92ZURlc2NyaXB0aW9uOiAoYXBwcm92ZUlkKS0+XHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdG15QXBwcm92ZSA9IFRlbXBsYXRlLmluc3RhbmNlKCk/Lm15QXBwcm92ZT8uZ2V0KClcclxuXHRcdFx0XHRpZiBteUFwcHJvdmUgJiYgbXlBcHByb3ZlLmlkID09IGFwcHJvdmVJZFxyXG5cdFx0XHRcdFx0aWYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VfbXlfYXBwcm92ZV9kZXNjcmlwdGlvblwiKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbXlBcHByb3ZlPy5kZXNjcmlwdGlvbiB8fCBcIlwiXHJcblx0XHRcdFx0XHRyZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpXHJcblx0aXNGb3J3YXJkOiAoYXBwcm92ZWQpIC0+XHJcblx0XHRpZiBhcHByb3ZlZCBhbmQgYXBwcm92ZWQudHlwZSA9PSAnZm9yd2FyZCdcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0c2hvd0ZvcndhcmREZWxldGVCdXR0b246IChhcHByb3ZlKSAtPlxyXG5cdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpIGlzIDBcclxuXHRcdFx0cmV0dXJuIGZhbHNlXHJcblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2ZvcndhcmQnIGFuZCBhcHByb3ZlLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKCkgYW5kICFTZXNzaW9uLmdldChcImluc3RhbmNlUHJpbnRcIikgYW5kIGFwcHJvdmUuanVkZ2UgaXNudCAndGVybWluYXRlZCdcclxuXHRcdFx0cmV0dXJuIHRydWVcclxuXHRcdGZhbHNlXHJcblx0bWFya0Rvd25Ub0h0bWw6IChtYXJrRG93blN0cmluZyktPlxyXG5cdFx0aWYgbWFya0Rvd25TdHJpbmdcclxuXHRcdFx0cmVuZGVyZXIgPSBuZXcgTWFya2Rvd24uUmVuZGVyZXIoKTtcclxuXHRcdFx0cmVuZGVyZXIubGluayA9ICggaHJlZiwgdGl0bGUsIHRleHQgKSAtPlxyXG5cdFx0XHRcdHJldHVybiBcIjxhIHRhcmdldD0nX2JsYW5rJyBocmVmPScje2hyZWZ9JyB0aXRsZT0nI3t0aXRsZX0nPiN7dGV4dH08L2E+XCJcclxuXHRcdFx0cmV0dXJuIFNwYWNlYmFycy5TYWZlU3RyaW5nKE1hcmtkb3duKG1hcmtEb3duU3RyaW5nLCB7cmVuZGVyZXI6cmVuZGVyZXJ9KSlcclxuXHRpc0Rpc3RyaWJ1dGU6IChhcHByb3ZlKSAtPlxyXG5cdFx0aWYgYXBwcm92ZSBhbmQgYXBwcm92ZS50eXBlID09ICdkaXN0cmlidXRlJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0ZmFsc2VcclxuXHRzaG93RGlzdHJpYnV0ZURlbGV0ZUJ1dHRvbjogKGFwcHJvdmUpIC0+XHJcblx0XHRpZiBkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgaXMgMFxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0XHRpZiBhcHByb3ZlIGFuZCBhcHByb3ZlLnR5cGUgPT0gJ2Rpc3RyaWJ1dGUnIGFuZCAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzbnQgJ3Rlcm1pbmF0ZWQnIGFuZCBTdGVlZG9zLmlzTGVnYWxWZXJzaW9uKCcnLFwid29ya2Zsb3cuZW50ZXJwcmlzZVwiKVxyXG5cdFx0XHQjIOa1geeoi+euoeeQhuWRmOWSjOezu+e7n+euoeeQhuWRmO+8jOWPr+S7peaJp+ihjOS7u+S9leaDheWGteS4i+eahOaWh+S7tuWPlua2iOWIhuWPkVxyXG5cdFx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBhcHByb3ZlLmluc3RhbmNlfSwge2ZpZWxkczoge2Zsb3c6IDEsIHNwYWNlOiAxfX0pXHJcblx0XHRcdGlmIGlucyBhbmQgaW5zLmZsb3cgYW5kIGlucy5zcGFjZVxyXG5cdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSlcclxuXHRcdFx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdFx0XHRpZiBhcHByb3ZlLmZyb21fdXNlciA9PSBNZXRlb3IudXNlcklkKClcclxuXHRcdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cclxuXHRcdGZhbHNlXHJcblxyXG5cdGZpbmlzaERhdGVTY2hlbWE6ICgpIC0+XHJcblx0XHRpZiBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcclxuXHRcdFx0cmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xyXG5cdFx0XHRcdGZpbmlzaF9kYXRlOiB7XHJcblx0XHRcdFx0XHRhdXRvZm9ybToge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXHJcblx0XHRcdFx0XHR0eXBlOiBEYXRlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XHJcblx0XHRcdFx0ZmluaXNoX2RhdGU6IHtcclxuXHRcdFx0XHRcdGF1dG9mb3JtOiB7XHJcblx0XHRcdFx0XHRcdHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCJcclxuXHRcdFx0XHRcdFx0cmVhZG9ubHk6IHRydWVcclxuXHRcdFx0XHRcdFx0ZGF0ZVRpbWVQaWNrZXJPcHRpb25zOntcclxuXHRcdFx0XHRcdFx0XHRmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxyXG5cdFx0XHRcdFx0XHRcdGlnbm9yZVJlYWRvbmx5OnRydWUsXHJcblx0XHRcdFx0XHRcdFx0bG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxyXG5cdFx0XHRcdFx0XHRcdHdpZGdldFBvc2l0aW9uaW5nOntcclxuXHRcdFx0XHRcdFx0XHRcdGhvcml6b250YWw6ICdyaWdodCdcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0sXHJcblx0XHRcdFx0XHRvcHRpb25hbDogZmFsc2UsXHJcblx0XHRcdFx0XHR0eXBlOiBEYXRlXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cclxuXHRmaW5pc2hEYXRlVmFsdWVzOiAoKSAtPlxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0ZmluaXNoX2RhdGU6dGhpcy5maW5pc2hfZGF0ZVxyXG5cdFx0fTtcclxuXHJcblx0IyMjXHJcbiAgICBcdOatpOWHveaVsOeUqOS6juaOp+WItuaYr+WQpuaYvuekunRyYWNlcyB2aWV3XHJcbiAgICBcdHRydWU6IOaYvuekunRyYWNlcyB2aWV3LOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjuaYr+ebtOaOpeWumuS9jeWIsHRyYWNlcyB2aWV3XHJcbiAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xyXG5cdCMjI1xyXG5cdHNob3dUcmFjZXNWaWV3OiAoZm9ybSwgZm9ybV92ZXJzaW9uKS0+XHJcbiNcdFx0cmV0dXJuICEoSW5zdGFuY2VNYW5hZ2VyLmlzVGFibGVTdHlsZShmb3JtKSAmJiBJbnN0YW5jZWZvcm1UZW1wbGF0ZS5oZWxwZXJzLmluY2x1ZGVzT3BpbmlvbkZpZWxkKGZvcm0sIGZvcm1fdmVyc2lvbikpXHJcblxyXG5cdFx0c2hvd19tb2RhbF90cmFjZXNfbGlzdCA9IGRiLnNwYWNlX3NldHRpbmdzLmZpbmRPbmUoe3NwYWNlOiBTZXNzaW9uLmdldChcInNwYWNlSWRcIiksIGtleTogXCJzaG93X21vZGFsX3RyYWNlc19saXN0XCJ9KT8udmFsdWVzIHx8IGZhbHNlXHJcblxyXG5cdFx0cmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0XHJcblxyXG5cdGdldEluc3RhbmNlU3RhdGVUZXh0OiAoaW5zdGFuY2VfaWQpLT5cclxuXHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRcdGlmIGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09ICd6aC1jbidcclxuXHRcdFx0XHRsb2NhbGUgPSBcInpoLUNOXCJcclxuXHRcdGVsc2VcclxuXHRcdFx0bG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKVxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxLCBpc19yZWFkOiAxfX0pXHJcblx0XHRpZiBub3QgaW5zXHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKCdpbnN0YW5jZV9kZWxldGVkJywge30sIGxvY2FsZSlcclxuXHJcblx0XHR0ZXh0ID0gJydcclxuXHRcdGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJ1xyXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSlcclxuXHRcdGVsc2UgaWYgaW5zLnN0YXRlIGlzICdwZW5kaW5nJ1xyXG5cdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygncGVuZGluZycsIHt9LCBsb2NhbGUpXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnXHJcblx0XHRcdGlmIGlucy5pc19yZWFkXHJcblx0XHRcdFx0dGV4dCA9IFRBUGkxOG4uX18oJ2luc3RhbmNlX2FwcHJvdmVfcmVhZCcsIHt9LCBsb2NhbGUpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR0ZXh0ID0gVEFQaTE4bi5fXygnaW5zdGFuY2VfYXBwcm92ZV9ub3RfeWV0X2hhbmRsZWQnLCB7fSwgbG9jYWxlKVxyXG5cclxuXHRcdHJldHVybiB0ZXh0XHJcblxyXG5cdGdldEluc3RhbmNlU3RhdGVDb2xvcjogKGluc3RhbmNlX2lkKS0+XHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHtmaWVsZHM6IHtzdGF0ZTogMSwgaXNfcmVhZDogMX19KVxyXG5cdFx0aWYgbm90IGluc1xyXG5cdFx0XHRyZXR1cm4gXCJcIlxyXG5cclxuXHRcdGNsYSA9ICcnXHJcblx0XHRpZiBpbnMuc3RhdGUgaXMgJ2RyYWZ0J1xyXG5cdFx0XHRpZiBpbnMuaXNfcmVhZFxyXG5cdFx0XHRcdGNsYSA9ICdibHVlJ1xyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0Y2xhID0gJ3JlZCdcclxuXHRcdHJldHVybiBjbGFcclxuXHJcblx0Zmlyc3RUcmFjZTogKGluZGV4KS0+XHJcblx0XHRyZXR1cm4gaW5kZXggaXMgMFxyXG5cclxuXHRsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogKGluc3RhbmNlX2lkKS0+XHJcblx0XHRpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZV9pZCwgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7JGV4aXN0czogdHJ1ZX19LHtmaWVsZHM6e2NyZWF0ZWQ6IDEsIGNyZWF0ZWRfYnk6IDF9fSlcclxuXHRcdGlmIGluc1xyXG5cdFx0XHRkaXNfaW5mbyA9IHt9XHJcblx0XHRcdHVzZXIgPSB7fVxyXG5cdFx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0XHR1c2VyID0gVVVmbG93X2FwaS5nZXROYW1lRm9yVXNlcihpbnMuY3JlYXRlZF9ieSlcclxuXHRcdFx0ZWxzZSBpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0XHR1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7X2lkOiBpbnMuY3JlYXRlZF9ieX0sIHtmaWVsZHM6IHtuYW1lOiAxfX0pXHJcblxyXG5cdFx0XHRpZiB1c2VyLm5hbWVcclxuXHRcdFx0XHRkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZVxyXG5cdFx0XHRcdGRpc19pbmZvLmNyZWF0ZWQgPSBpbnMuY3JlYXRlZFxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShkaXNfaW5mbylcclxuXHRcdFx0XHRyZXR1cm4gZGlzX2luZm9cclxuXHRcdHJldHVyblxyXG5cclxuXHRpc0NDT3JEaXN0cmlidXRlT3JGb3J3YXJkVGVybWluYXRlZDogKGFwcHJvdmUpLT5cclxuXHRcdGlmIChhcHByb3ZlLnR5cGUgaXMgJ2NjJyBvciBhcHByb3ZlLnR5cGUgaXMgJ2Rpc3RyaWJ1dGUnIG9yIGFwcHJvdmUudHlwZSBpcyAnZm9yd2FyZCcpIGFuZCBhcHByb3ZlLmp1ZGdlIGlzICd0ZXJtaW5hdGVkJ1xyXG5cdFx0XHRyZXR1cm4gdHJ1ZVxyXG5cdFx0cmV0dXJuIGZhbHNlXHJcblxyXG5cdGp1ZGdlVGVybWluYXRlZDogKGp1ZGdlKS0+XHJcblx0XHRyZXR1cm4ganVkZ2UgaXMgJ3Rlcm1pbmF0ZWQnXHJcblxyXG5cdGluc3RhbmNlRXhpc3RzOiAoaW5zdGFuY2VfaWQpLT5cclxuXHRcdHJldHVybiAhIWRiLmluc3RhbmNlcy5maW5kKGluc3RhbmNlX2lkKS5jb3VudCgpXHJcblxyXG5cdGFnZW50RGVzY3JpcHRpb246ICh1c2VyTmFtZSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0XHRcdGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGVcclxuXHRcdFx0aWYgbG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gJ3poLWNuJ1xyXG5cdFx0XHRcdGxvY2FsZSA9IFwiemgtQ05cIlxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpXHJcblxyXG5cdFx0cmV0dXJuIFRBUGkxOG4uX18oJ3Byb2Nlc3NfZGVsZWdhdGlvbl9ydWxlc19kZXNjcmlwdGlvbicsIHt1c2VyTmFtZTogdXNlck5hbWV9LCBsb2NhbGUpXHJcblx0dHJhY2VOYW1lOiAoaW5zdGFuY2VfaWQsIHRyYWNlSWQpLT5cclxuXHRcdHJldHVybiBfLmZpbmQoZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQsIHtmaWVsZHM6IHt0cmFjZXM6IDF9fSk/LnRyYWNlcywgKHRyYWNlKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gdHJhY2UuX2lkID09ICB0cmFjZUlkXHJcblx0XHQpPy5uYW1lXHJcbmlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuZGF0ZUZvcm1hdCA9IChkYXRlKS0+XHJcblx0XHRpZiBkYXRlXHJcblx0XHRcdHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXRcclxuXHRcdFx0cmV0dXJuIEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5mb3JtYXREYXRlKGRhdGUsIHV0Y09mZnNldCk7XHJcblxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSAoa2V5KS0+XHJcblx0XHRsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlXHJcblx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXHJcblxyXG5cdFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuc2hvd0RlbGV0ZUJ1dHRvbiA9IChhcHByb3ZlZCkgLT5cclxuXHRcdHJldHVybiBmYWxzZTtcclxuXHJcblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9XHJcblx0J2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRldmVudC5zdG9wUHJvcGFnYXRpb24oKVxyXG5cdFx0aWYgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgKiAxICE9IDFcclxuXHRcdFx0ZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxXHJcblx0XHRcdCQoXCJpXCIsZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpXHJcblx0XHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdFx0IyBDQUxMIOWIoOmZpGFwcHJvdmXlh73mlbDjgIJcclxuXHRcdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cclxuXHRcdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0XHRpZiBlcnJcclxuXHRcdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcclxuXHRcdFx0XHRcdGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nID0gMFxyXG5cdFx0XHRcdFx0JChcImlcIixldmVudC5jdXJyZW50VGFyZ2V0KS5yZW1vdmVDbGFzcyhcImZhLXNwaW5cIilcclxuXHRcdFx0XHRpZiByZXN1bHQgPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcclxuXHRcdFx0XHRcdGlmICQoXCIuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsXCIpLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tY2MtYXBwcm92ZS1yZW1vdmUnOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0aW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJylcclxuXHRcdGFwcHJvdmVJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmFwcHJvdmVcclxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdE1ldGVvci5jYWxsICdjY19yZW1vdmUnLCBpbnN0YW5jZUlkLCBhcHByb3ZlSWQsIChlcnIsIHJlc3VsdCkgLT5cclxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBlcnJcclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwicmVtb3ZlX2NjX2FwcHJvdmVcIikpO1xyXG5cdFx0XHRcdE1vZGFsLmhpZGUgXCJpbnN0YW5jZV90cmFjZV9kZXRhaWxfbW9kYWxcIlxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdHJldHVyblxyXG5cclxuXHQnY2xpY2sgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcclxuXHJcblx0J3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRNb2RhbC5zaG93IFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXNcclxuXHJcblx0J3RhcGVuZCAuYXBwcm92ZS1pdGVtLC5hcHByb3ZlLWRlc2NyaXB0aW9uJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdCMg5LiK6L+w6ZW/5oyJ5omT5byAYXBwcm92Zeivpue7hueql+WPo+eahOS6i+S7tnRhcGhvbGTkvJrop6blj5HmiZPlvIDnqpflj6PlkI7nmoR0b3VjaGVuZOS6i+S7tu+8jOmAoOaIkOmVv+aMieaJk+W8gOeql+WPo+WQjuS4gOaUvuaJi+eql+WPo+WwseWPiOWFs+aOieS6hlxyXG5cdFx0IyDov5nph4zlj6rog73pgJrov4fpmLvmraJ0YXBlbmTkuovku7Yo5LiN5Y+v5Lul55SodG91Y2hlbmTkuovku7bvvIzlm6DkuLrkvJrlvbHlk410YXBob2xk5Yqf6IO977yM6YCg5oiQ5rKh5pyJ6ZW/5oyJ5pWI5p6c5pe25Lmf5Lya6Kem5Y+RdGFwaG9sZOS6i+S7tinlhpLms6HmnaXpgb/lhY3pl67popjjgIJcclxuXHRcdGV2ZW50LnN0b3BQcm9wYWdhdGlvbigpXHJcblx0XHRldmVudC5wcmV2ZW50RGVmYXVsdCgpXHJcblx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWFwcHJvdmUtcmVtb3ZlJzogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdGluc3RhbmNlSWQgPSBTZXNzaW9uLmdldCgnaW5zdGFuY2VJZCcpXHJcblx0XHRhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlXHJcblx0XHR0cmFjZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQudHJhY2VcclxuXHRcdCMgQ0FMTCDliKDpmaRhcHByb3Zl5Ye95pWw44CCXHJcblx0XHQkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdE1ldGVvci5jYWxsICdmb3J3YXJkX3JlbW92ZScsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgKGVyciwgcmVzdWx0KSAtPlxyXG5cdFx0XHQkKFwiYm9keVwiKS5yZW1vdmVDbGFzcyhcImxvYWRpbmdcIilcclxuXHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0dG9hc3RyLmVycm9yIFRBUGkxOG4uX18oZXJyLnJlYXNvbilcclxuXHRcdFx0aWYgcmVzdWx0ID09IHRydWVcclxuXHRcdFx0XHR0b2FzdHIuc3VjY2VzcyhUQVBpMThuLl9fKFwiaW5zdGFuY2VfYXBwcm92ZV9mb3J3YXJkX3JlbW92ZV9zdWNjZXNzXCIpKTtcclxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcclxuXHRcdFx0cmV0dXJuXHJcblx0XHRyZXR1cm5cclxuXHJcblx0J2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWluc3RhbmNlLWxvb2snOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0Zm9yd2FyZF9zcGFjZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRzcGFjZVxyXG5cdFx0Zm9yd2FyZF9pbnN0YW5jZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRpbnN0YW5jZVxyXG5cdFx0U3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpXHJcblxyXG5cdCdjbGljayAuYnRuLW1vZGlmaWNhdGlvbidcdDogKGV2ZW50LCB0ZW1wbGF0ZSkgLT5cclxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcclxuXHRcdHVubGVzcyBTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKClcclxuXHRcdFx0VHJhY2tlci5hZnRlckZsdXNoIC0+XHJcblx0XHRcdFx0IyDmmL7npLrml6Xlv5fnmoTml7blgJnmiormu5rliqjmnaHlvoDkuIvnp7vngrnvvIzorqnml6XmnJ/mjqfku7bmmL7npLrlh7rkuIDpg6jliIbvvIzku6Xpgb/lhY3nlKjmiLfnnIvkuI3liLDml6XmnJ/mjqfku7ZcclxuXHRcdFx0XHQkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uIFwiZHAuc2hvd1wiLCAoKSAtPlxyXG5cdFx0XHRcdFx0JChcIi5tb2RhbC1ib2R5XCIpLnNjcm9sbFRvcCgxMDApXHJcblxyXG5cdCdjbGljayAuYnRuLWNhbmNlbEJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cclxuXHRcdHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcclxuXHJcblx0J2NsaWNrIC5idG4tc2F2ZUJ1dCcgOiAoZXZlbnQsIHRlbXBsYXRlKSAtPlxyXG5cdFx0IyB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSlcclxuXHJcblx0XHRpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKVxyXG5cdFx0YXBwcm92ZUlkID0gZXZlbnQudGFyZ2V0LmRhdGFzZXQuYXBwcm92ZVxyXG5cdFx0dHJhY2VJZCA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LnRyYWNlXHJcblx0XHRvcGluaW9uX2lucHV0ID0gJCgnI29waW5pb25faW5wdXQnKS52YWwoKVxyXG5cdFx0ZmluaXNoX2lucHV0ID0gQXV0b0Zvcm0uZ2V0RmllbGRWYWx1ZShcImZpbmlzaF9kYXRlXCIsIFwiZmluaXNoRGF0ZUF1dG9Gb3JtXCIpXHJcblxyXG5cdFx0JChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRNZXRlb3IuY2FsbCAnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCAoZXJyLCByZXN1bHQpLT5cclxuXHRcdFx0JChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpXHJcblx0XHRcdGlmIGVyclxyXG5cdFx0XHRcdHRvYXN0ci5lcnJvciBUQVBpMThuLl9fKGVyci5yZWFzb24pXHJcblx0XHRcdGlmIHJlc3VsdCA9PSB0cnVlXHJcblx0XHRcdFx0dG9hc3RyLnN1Y2Nlc3ModChcImluc3RhbmNlX2FwcHJvdmVfbW9kYWxfbW9kaWZpY2F0aW9uc2F2ZVwiKSlcclxuXHRcdFx0XHRNb2RhbC5oaWRlIFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCJcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdCdjbGljayAuaW5zdGFuY2UtdHJhY2UtZGV0YWlsLW1vZGFsIC5idG4tZGlzdHJpYnV0ZS1hcHByb3ZlLXJlbW92ZSc6IChldmVudCwgdGVtcGxhdGUpIC0+XHJcblx0XHRNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZVxyXG5cdFx0TW9kYWwuc2hvdyAnY2FuY2VsX2Rpc3RyaWJ1dGVfbW9kYWwnXHJcbiIsIlRyYWNlc1RlbXBsYXRlLmhlbHBlcnMgPSB7XG4gIGVxdWFsczogZnVuY3Rpb24oYSwgYikge1xuICAgIHJldHVybiBhID09PSBiO1xuICB9LFxuICBlbXB0eTogZnVuY3Rpb24oYSkge1xuICAgIGlmIChhKSB7XG4gICAgICByZXR1cm4gYS50b1N0cmluZygpLnRyaW0oKS5sZW5ndGggPCAxO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVuZW1wdHk6IGZ1bmN0aW9uKGEpIHtcbiAgICBpZiAoYSkge1xuICAgICAgcmV0dXJuIGEudG9TdHJpbmcoKS50cmltKCkubGVuZ3RoID4gMDtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfSxcbiAgYXBwZW5kOiBmdW5jdGlvbihhLCBiKSB7XG4gICAgcmV0dXJuIGEgKyBiO1xuICB9LFxuICBkYXRlRm9ybWF0OiBmdW5jdGlvbihkYXRlKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAoZGF0ZSAhPSBudWxsID8gZGF0ZS5nZXRGdWxsWWVhcigpIDogdm9pZCAwKSA9PT0gKG5ldyBEYXRlKS5nZXRGdWxsWWVhcigpKSB7XG4gICAgICByZXR1cm4gJC5mb3JtYXQuZGF0ZShuZXcgRGF0ZShkYXRlKSwgXCJNTS1kZCBISDptbVwiKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuICQuZm9ybWF0LmRhdGUobmV3IERhdGUoZGF0ZSksIFwieXl5eS1NTS1kZCBISDptbVwiKTtcbiAgICB9XG4gIH0sXG4gIGdldFN0ZXBOYW1lOiBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICB2YXIgc3RlcDtcbiAgICBzdGVwID0gV29ya2Zsb3dNYW5hZ2VyLmdldEluc3RhbmNlU3RlcChzdGVwSWQpO1xuICAgIGlmIChzdGVwKSB7XG4gICAgICByZXR1cm4gc3RlcC5uYW1lO1xuICAgIH1cbiAgICByZXR1cm4gbnVsbDtcbiAgfSxcbiAgc2hvd0RlbGV0ZUJ1dHRvbjogZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICBpZiAoYXBwcm92ZWQgJiYgYXBwcm92ZWQudHlwZSA9PT0gJ2NjJyAmJiBhcHByb3ZlZC5mcm9tX3VzZXIgPT09IE1ldGVvci51c2VySWQoKSAmJiBhcHByb3ZlZC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiAhU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZVByaW50XCIpKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBpc1Nob3dNb2RpZmljYXRpb25CdXR0b246IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgdmFyIGFwcHJvdmVfYWRtaW5zLCBpc1Nob3csIHJlZiwgcmVmMSwgcmVmMjtcbiAgICBhcHByb3ZlX2FkbWlucyA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3MpICE9IG51bGwgPyAocmVmMSA9IHJlZltcInB1YmxpY1wiXSkgIT0gbnVsbCA/IChyZWYyID0gcmVmMS53b3JrZmxvdykgIT0gbnVsbCA/IHJlZjIuYXBwcm92ZV9hZG1pbnMgOiB2b2lkIDAgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgaWYgKGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5sZW5ndGggOiB2b2lkIDApIHtcbiAgICAgIGlzU2hvdyA9IGFwcHJvdmVfYWRtaW5zICE9IG51bGwgPyBhcHByb3ZlX2FkbWlucy5jb250YWlucyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwO1xuICAgIH1cbiAgICBpZiAoIWlzU2hvdykge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZWQuaGFuZGxlciA9PT0gTWV0ZW9yLnVzZXJJZCgpO1xuICB9LFxuICBpc0VkaXRpbmc6IGZ1bmN0aW9uKCkge1xuICAgIHZhciByZWY7XG4gICAgcmV0dXJuIChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLmlzX2VkaXRpbmcpICE9IG51bGwgPyByZWYuZ2V0KCkgOiB2b2lkIDA7XG4gIH0sXG4gIGlzU2hvd0Rlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIHZhciByZWY7XG4gICAgaWYgKFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuaXNTaG93TW9kaWZpY2F0aW9uQnV0dG9uKGFwcHJvdmVkKSkge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiAoKHJlZiA9IGFwcHJvdmVkLmRlc2NyaXB0aW9uKSAhPSBudWxsID8gcmVmLnRvU3RyaW5nKCkudHJpbSgpLmxlbmd0aCA6IHZvaWQgMCkgPiAwO1xuICB9LFxuICBpc0NDOiBmdW5jdGlvbihhcHByb3ZlZCkge1xuICAgIGlmIChhcHByb3ZlZCAmJiBhcHByb3ZlZC50eXBlID09PSAnY2MnKSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gICAgcmV0dXJuIGZhbHNlO1xuICB9LFxuICBnZXRBcHByb3ZlU3RhdHVzSWNvbjogZnVuY3Rpb24oYXBwcm92ZUp1ZGdlKSB7XG4gICAgdmFyIGFwcHJvdmVTdGF0dXNJY29uO1xuICAgIGFwcHJvdmVTdGF0dXNJY29uID0gdm9pZCAwO1xuICAgIHN3aXRjaCAoYXBwcm92ZUp1ZGdlKSB7XG4gICAgICBjYXNlICdhcHByb3ZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2hlY2ttYXJrLXJvdW5kJztcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWplY3RlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2lvbiBpb24tY2xvc2Utcm91bmQnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdmYSBmYS1iYW4nO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYXNzaWduZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzSWNvbiA9ICdpb24gaW9uLWFuZHJvaWQtY29udGFjdCc7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c0ljb24gPSAnaW9uIGlvbi1hcnJvdy1zaHJpbmsnO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHJpZXZlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJ2ZhIGZhLXVuZG8nO1xuICAgICAgICBicmVhaztcbiAgICAgIGRlZmF1bHQ6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNJY29uID0gJyc7XG4gICAgICAgIGJyZWFrO1xuICAgIH1cbiAgICByZXR1cm4gYXBwcm92ZVN0YXR1c0ljb247XG4gIH0sXG4gIGdldEFwcHJvdmVTdGF0dXNUZXh0OiBmdW5jdGlvbihhcHByb3ZlSnVkZ2UpIHtcbiAgICB2YXIgYXBwcm92ZVN0YXR1c1RleHQsIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgaWYgKGxvY2FsZS50b0xvY2FsZUxvd2VyQ2FzZSgpID09PSAnemgtY24nKSB7XG4gICAgICAgIGxvY2FsZSA9IFwiemgtQ05cIjtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgbG9jYWxlID0gU2Vzc2lvbi5nZXQoXCJUQVBpMThuOjpsb2FkZWRfbGFuZ1wiKTtcbiAgICB9XG4gICAgYXBwcm92ZVN0YXR1c1RleHQgPSB2b2lkIDA7XG4gICAgc3dpdGNoIChhcHByb3ZlSnVkZ2UpIHtcbiAgICAgIGNhc2UgJ2FwcHJvdmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSBhcHByb3ZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlamVjdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWplY3RlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3Rlcm1pbmF0ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHRlcm1pbmF0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZWFzc2lnbmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWFzc2lnbmVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgY2FzZSAncmVsb2NhdGVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZWxvY2F0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgICAgYnJlYWs7XG4gICAgICBjYXNlICdyZXRyaWV2ZWQnOlxuICAgICAgICBhcHByb3ZlU3RhdHVzVGV4dCA9IFRBUGkxOG4uX18oJ0luc3RhbmNlIFN0YXRlIHJldHJpZXZlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JldHVybmVkJzpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSBUQVBpMThuLl9fKCdJbnN0YW5jZSBTdGF0ZSByZXR1cm5lZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgICBicmVhaztcbiAgICAgIGNhc2UgJ3JlYWRlZCc6XG4gICAgICAgIGFwcHJvdmVTdGF0dXNUZXh0ID0gVEFQaTE4bi5fXygnSW5zdGFuY2UgU3RhdGUgcmVhZGVkJywge30sIGxvY2FsZSk7XG4gICAgICAgIGJyZWFrO1xuICAgICAgZGVmYXVsdDpcbiAgICAgICAgYXBwcm92ZVN0YXR1c1RleHQgPSAnJztcbiAgICAgICAgYnJlYWs7XG4gICAgfVxuICAgIHJldHVybiBhcHByb3ZlU3RhdHVzVGV4dDtcbiAgfSxcbiAgX3Q6IGZ1bmN0aW9uKGtleSkge1xuICAgIHJldHVybiBUQVBpMThuLl9fKGtleSk7XG4gIH0sXG4gIG15QXBwcm92ZURlc2NyaXB0aW9uOiBmdW5jdGlvbihhcHByb3ZlSWQpIHtcbiAgICB2YXIgbXlBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIG15QXBwcm92ZSA9IChyZWYgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpKSAhPSBudWxsID8gKHJlZjEgPSByZWYubXlBcHByb3ZlKSAhPSBudWxsID8gcmVmMS5nZXQoKSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKG15QXBwcm92ZSAmJiBteUFwcHJvdmUuaWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIGlmICghU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpKSB7XG4gICAgICAgICAgICByZXR1cm4gKG15QXBwcm92ZSAhPSBudWxsID8gbXlBcHByb3ZlLmRlc2NyaXB0aW9uIDogdm9pZCAwKSB8fCBcIlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gU2Vzc2lvbi5nZXQoXCJpbnN0YW5jZV9teV9hcHByb3ZlX2Rlc2NyaXB0aW9uXCIpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfVxuICB9LFxuICBpc0ZvcndhcmQ6IGZ1bmN0aW9uKGFwcHJvdmVkKSB7XG4gICAgaWYgKGFwcHJvdmVkICYmIGFwcHJvdmVkLnR5cGUgPT09ICdmb3J3YXJkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2hvd0ZvcndhcmREZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoZGIuaW5zdGFuY2VzLmZpbmQoYXBwcm92ZS5mb3J3YXJkX2luc3RhbmNlKS5jb3VudCgpID09PSAwKSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlICYmIGFwcHJvdmUudHlwZSA9PT0gJ2ZvcndhcmQnICYmIGFwcHJvdmUuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcpIHtcbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgICByZXR1cm4gZmFsc2U7XG4gIH0sXG4gIG1hcmtEb3duVG9IdG1sOiBmdW5jdGlvbihtYXJrRG93blN0cmluZykge1xuICAgIHZhciByZW5kZXJlcjtcbiAgICBpZiAobWFya0Rvd25TdHJpbmcpIHtcbiAgICAgIHJlbmRlcmVyID0gbmV3IE1hcmtkb3duLlJlbmRlcmVyKCk7XG4gICAgICByZW5kZXJlci5saW5rID0gZnVuY3Rpb24oaHJlZiwgdGl0bGUsIHRleHQpIHtcbiAgICAgICAgcmV0dXJuIFwiPGEgdGFyZ2V0PSdfYmxhbmsnIGhyZWY9J1wiICsgaHJlZiArIFwiJyB0aXRsZT0nXCIgKyB0aXRsZSArIFwiJz5cIiArIHRleHQgKyBcIjwvYT5cIjtcbiAgICAgIH07XG4gICAgICByZXR1cm4gU3BhY2ViYXJzLlNhZmVTdHJpbmcoTWFya2Rvd24obWFya0Rvd25TdHJpbmcsIHtcbiAgICAgICAgcmVuZGVyZXI6IHJlbmRlcmVyXG4gICAgICB9KSk7XG4gICAgfVxuICB9LFxuICBpc0Rpc3RyaWJ1dGU6IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICBpZiAoYXBwcm92ZSAmJiBhcHByb3ZlLnR5cGUgPT09ICdkaXN0cmlidXRlJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgc2hvd0Rpc3RyaWJ1dGVEZWxldGVCdXR0b246IGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChkYi5pbnN0YW5jZXMuZmluZChhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgaWYgKGFwcHJvdmUgJiYgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgJiYgIVNlc3Npb24uZ2V0KFwiaW5zdGFuY2VQcmludFwiKSAmJiBhcHByb3ZlLmp1ZGdlICE9PSAndGVybWluYXRlZCcgJiYgU3RlZWRvcy5pc0xlZ2FsVmVyc2lvbignJywgXCJ3b3JrZmxvdy5lbnRlcnByaXNlXCIpKSB7XG4gICAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogYXBwcm92ZS5pbnN0YW5jZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBmbG93OiAxLFxuICAgICAgICAgIHNwYWNlOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKGlucyAmJiBpbnMuZmxvdyAmJiBpbnMuc3BhY2UpIHtcbiAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIE1ldGVvci51c2VySWQoKSkpIHtcbiAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgaWYgKGFwcHJvdmUuZnJvbV91c2VyID09PSBNZXRlb3IudXNlcklkKCkpIHtcbiAgICAgICAgcmV0dXJuIHRydWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgZmluaXNoRGF0ZVNjaGVtYTogZnVuY3Rpb24oKSB7XG4gICAgaWYgKFN0ZWVkb3MuaXNBbmRyb2lkT3JJT1MoKSkge1xuICAgICAgcmV0dXJuIG5ldyBTaW1wbGVTY2hlbWEoe1xuICAgICAgICBmaW5pc2hfZGF0ZToge1xuICAgICAgICAgIGF1dG9mb3JtOiB7XG4gICAgICAgICAgICB0eXBlOiBcImRhdGV0aW1lLWxvY2FsXCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIG9wdGlvbmFsOiBmYWxzZSxcbiAgICAgICAgICB0eXBlOiBEYXRlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbmV3IFNpbXBsZVNjaGVtYSh7XG4gICAgICAgIGZpbmlzaF9kYXRlOiB7XG4gICAgICAgICAgYXV0b2Zvcm06IHtcbiAgICAgICAgICAgIHR5cGU6IFwiYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyXCIsXG4gICAgICAgICAgICByZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgIGRhdGVUaW1lUGlja2VyT3B0aW9uczoge1xuICAgICAgICAgICAgICBmb3JtYXQ6IFwiWVlZWS1NTS1ERCBISDptbVwiLFxuICAgICAgICAgICAgICBpZ25vcmVSZWFkb25seTogdHJ1ZSxcbiAgICAgICAgICAgICAgbG9jYWxlOiBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpLFxuICAgICAgICAgICAgICB3aWRnZXRQb3NpdGlvbmluZzoge1xuICAgICAgICAgICAgICAgIGhvcml6b250YWw6ICdyaWdodCdcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sXG4gICAgICAgICAgb3B0aW9uYWw6IGZhbHNlLFxuICAgICAgICAgIHR5cGU6IERhdGVcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICBmaW5pc2hEYXRlVmFsdWVzOiBmdW5jdGlvbigpIHtcbiAgICByZXR1cm4ge1xuICAgICAgZmluaXNoX2RhdGU6IHRoaXMuZmluaXNoX2RhdGVcbiAgICB9O1xuICB9LFxuXG4gIC8qXG4gICAgIFx05q2k5Ye95pWw55So5LqO5o6n5Yi25piv5ZCm5pi+56S6dHJhY2VzIHZpZXdcbiAgICAgXHR0cnVlOiDmmL7npLp0cmFjZXMgdmlldyznrb7moLjljobnqIvmjInpkq7ngrnlh7vlkI7mmK/nm7TmjqXlrprkvY3liLB0cmFjZXMgdmlld1xuICAgICBcdGZhbHNlOiDkuI3mmL7npLp0cmFjZXMgdmlld++8jOetvuaguOWOhueoi+aMiemSrueCueWHu+WQjizku6VNb2RhbCDmlrnlvI/mmL7npLp0cmFjZXMgdmlld1xuICAgKi9cbiAgc2hvd1RyYWNlc1ZpZXc6IGZ1bmN0aW9uKGZvcm0sIGZvcm1fdmVyc2lvbikge1xuICAgIHZhciByZWYsIHNob3dfbW9kYWxfdHJhY2VzX2xpc3Q7XG4gICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICBzcGFjZTogU2Vzc2lvbi5nZXQoXCJzcGFjZUlkXCIpLFxuICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgIH0pKSAhPSBudWxsID8gcmVmLnZhbHVlcyA6IHZvaWQgMCkgfHwgZmFsc2U7XG4gICAgcmV0dXJuICFzaG93X21vZGFsX3RyYWNlc19saXN0O1xuICB9LFxuICBnZXRJbnN0YW5jZVN0YXRlVGV4dDogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgaW5zLCBsb2NhbGUsIHRleHQ7XG4gICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgbG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZTtcbiAgICAgIGlmIChsb2NhbGUudG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsb2NhbGUgPSBcInpoLUNOXCI7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIGxvY2FsZSA9IFNlc3Npb24uZ2V0KFwiVEFQaTE4bjo6bG9hZGVkX2xhbmdcIik7XG4gICAgfVxuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGlzX3JlYWQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oJ2luc3RhbmNlX2RlbGV0ZWQnLCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gICAgdGV4dCA9ICcnO1xuICAgIGlmIChpbnMuc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICB0ZXh0ID0gVEFQaTE4bi5fXygnY29tcGxldGVkJywge30sIGxvY2FsZSk7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJykge1xuICAgICAgdGV4dCA9IFRBUGkxOG4uX18oJ3BlbmRpbmcnLCB7fSwgbG9jYWxlKTtcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0Jykge1xuICAgICAgaWYgKGlucy5pc19yZWFkKSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX3JlYWQnLCB7fSwgbG9jYWxlKTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRleHQgPSBUQVBpMThuLl9fKCdpbnN0YW5jZV9hcHByb3ZlX25vdF95ZXRfaGFuZGxlZCcsIHt9LCBsb2NhbGUpO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGV4dDtcbiAgfSxcbiAgZ2V0SW5zdGFuY2VTdGF0ZUNvbG9yOiBmdW5jdGlvbihpbnN0YW5jZV9pZCkge1xuICAgIHZhciBjbGEsIGlucztcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19yZWFkOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBcIlwiO1xuICAgIH1cbiAgICBjbGEgPSAnJztcbiAgICBpZiAoaW5zLnN0YXRlID09PSAnZHJhZnQnKSB7XG4gICAgICBpZiAoaW5zLmlzX3JlYWQpIHtcbiAgICAgICAgY2xhID0gJ2JsdWUnO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgY2xhID0gJ3JlZCc7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBjbGE7XG4gIH0sXG4gIGZpcnN0VHJhY2U6IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgcmV0dXJuIGluZGV4ID09PSAwO1xuICB9LFxuICBsYXN0X2Rpc3RyaWJ1dGVfZnJvbTogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICB2YXIgZGlzX2luZm8sIGlucywgdXNlcjtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlOiB7XG4gICAgICAgICRleGlzdHM6IHRydWVcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIGRpc19pbmZvID0ge307XG4gICAgICB1c2VyID0ge307XG4gICAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICAgIHVzZXIgPSBVVWZsb3dfYXBpLmdldE5hbWVGb3JVc2VyKGlucy5jcmVhdGVkX2J5KTtcbiAgICAgIH0gZWxzZSBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICAgIHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICBfaWQ6IGlucy5jcmVhdGVkX2J5XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHVzZXIubmFtZSkge1xuICAgICAgICBkaXNfaW5mby5mcm9tX3VzZXJfbmFtZSA9IHVzZXIubmFtZTtcbiAgICAgICAgZGlzX2luZm8uY3JlYXRlZCA9IGlucy5jcmVhdGVkO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoZGlzX2luZm8pKSB7XG4gICAgICAgIHJldHVybiBkaXNfaW5mbztcbiAgICAgIH1cbiAgICB9XG4gIH0sXG4gIGlzQ0NPckRpc3RyaWJ1dGVPckZvcndhcmRUZXJtaW5hdGVkOiBmdW5jdGlvbihhcHByb3ZlKSB7XG4gICAgaWYgKChhcHByb3ZlLnR5cGUgPT09ICdjYycgfHwgYXBwcm92ZS50eXBlID09PSAnZGlzdHJpYnV0ZScgfHwgYXBwcm92ZS50eXBlID09PSAnZm9yd2FyZCcpICYmIGFwcHJvdmUuanVkZ2UgPT09ICd0ZXJtaW5hdGVkJykge1xuICAgICAgcmV0dXJuIHRydWU7XG4gICAgfVxuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAganVkZ2VUZXJtaW5hdGVkOiBmdW5jdGlvbihqdWRnZSkge1xuICAgIHJldHVybiBqdWRnZSA9PT0gJ3Rlcm1pbmF0ZWQnO1xuICB9LFxuICBpbnN0YW5jZUV4aXN0czogZnVuY3Rpb24oaW5zdGFuY2VfaWQpIHtcbiAgICByZXR1cm4gISFkYi5pbnN0YW5jZXMuZmluZChpbnN0YW5jZV9pZCkuY291bnQoKTtcbiAgfSxcbiAgYWdlbnREZXNjcmlwdGlvbjogZnVuY3Rpb24odXNlck5hbWUpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgICBpZiAobG9jYWxlLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT09ICd6aC1jbicpIHtcbiAgICAgICAgbG9jYWxlID0gXCJ6aC1DTlwiO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBTZXNzaW9uLmdldChcIlRBUGkxOG46OmxvYWRlZF9sYW5nXCIpO1xuICAgIH1cbiAgICByZXR1cm4gVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgdXNlck5hbWU6IHVzZXJOYW1lXG4gICAgfSwgbG9jYWxlKTtcbiAgfSxcbiAgdHJhY2VOYW1lOiBmdW5jdGlvbihpbnN0YW5jZV9pZCwgdHJhY2VJZCkge1xuICAgIHZhciByZWYsIHJlZjE7XG4gICAgcmV0dXJuIChyZWYgPSBfLmZpbmQoKHJlZjEgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHRyYWNlczogMVxuICAgICAgfVxuICAgIH0pKSAhPSBudWxsID8gcmVmMS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICByZXR1cm4gdHJhY2UuX2lkID09PSB0cmFjZUlkO1xuICAgIH0pKSAhPSBudWxsID8gcmVmLm5hbWUgOiB2b2lkIDA7XG4gIH1cbn07XG5cbmlmIChNZXRlb3IuaXNTZXJ2ZXIpIHtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5kYXRlRm9ybWF0ID0gZnVuY3Rpb24oZGF0ZSkge1xuICAgIHZhciB1dGNPZmZzZXQ7XG4gICAgaWYgKGRhdGUpIHtcbiAgICAgIHV0Y09mZnNldCA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS51dGNPZmZzZXQ7XG4gICAgICByZXR1cm4gSW5zdGFuY2VSZWFkT25seVRlbXBsYXRlLmZvcm1hdERhdGUoZGF0ZSwgdXRjT2Zmc2V0KTtcbiAgICB9XG4gIH07XG4gIFRyYWNlc1RlbXBsYXRlLmhlbHBlcnMuX3QgPSBmdW5jdGlvbihrZXkpIHtcbiAgICB2YXIgbG9jYWxlO1xuICAgIGxvY2FsZSA9IFRlbXBsYXRlLmluc3RhbmNlKCkudmlldy50ZW1wbGF0ZS5zdGVlZG9zRGF0YS5sb2NhbGU7XG4gICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgfTtcbiAgVHJhY2VzVGVtcGxhdGUuaGVscGVycy5zaG93RGVsZXRlQnV0dG9uID0gZnVuY3Rpb24oYXBwcm92ZWQpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH07XG59XG5cblRyYWNlc1RlbXBsYXRlLmV2ZW50cyA9IHtcbiAgJ2NsaWNrIC5jYy1hcHByb3ZlLXJlbW92ZSc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGluc3RhbmNlSWQ7XG4gICAgZXZlbnQuc3RvcFByb3BhZ2F0aW9uKCk7XG4gICAgaWYgKGV2ZW50LmN1cnJlbnRUYXJnZXQuZGF0YXNldC5jYWxsaW5nICogMSAhPT0gMSkge1xuICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAxO1xuICAgICAgJChcImlcIiwgZXZlbnQuY3VycmVudFRhcmdldCkuYWRkQ2xhc3MoXCJmYS1zcGluXCIpO1xuICAgICAgaW5zdGFuY2VJZCA9IFNlc3Npb24uZ2V0KCdpbnN0YW5jZUlkJyk7XG4gICAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgTWV0ZW9yLmNhbGwoJ2NjX3JlbW92ZScsIGluc3RhbmNlSWQsIGFwcHJvdmVJZCwgZnVuY3Rpb24oZXJyLCByZXN1bHQpIHtcbiAgICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgICBpZiAoZXJyKSB7XG4gICAgICAgICAgdG9hc3RyLmVycm9yKGVycik7XG4gICAgICAgICAgZXZlbnQuY3VycmVudFRhcmdldC5kYXRhc2V0LmNhbGxpbmcgPSAwO1xuICAgICAgICAgICQoXCJpXCIsIGV2ZW50LmN1cnJlbnRUYXJnZXQpLnJlbW92ZUNsYXNzKFwiZmEtc3BpblwiKTtcbiAgICAgICAgfVxuICAgICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgICBpZiAoJChcIi5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWxcIikubGVuZ3RoKSB7XG4gICAgICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWNjLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgICQoXCJib2R5XCIpLmFkZENsYXNzKFwibG9hZGluZ1wiKTtcbiAgICBNZXRlb3IuY2FsbCgnY2NfcmVtb3ZlJywgaW5zdGFuY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoZXJyKTtcbiAgICAgIH1cbiAgICAgIGlmIChyZXN1bHQgPT09IHRydWUpIHtcbiAgICAgICAgdG9hc3RyLnN1Y2Nlc3MoVEFQaTE4bi5fXyhcInJlbW92ZV9jY19hcHByb3ZlXCIpKTtcbiAgICAgICAgTW9kYWwuaGlkZShcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfSxcbiAgJ2NsaWNrIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICByZXR1cm4gTW9kYWwuc2hvdyhcImluc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbFwiLCB0aGlzKTtcbiAgfSxcbiAgJ3RhcGhvbGQgLmFwcHJvdmUtaXRlbSwuYXBwcm92ZS1kZXNjcmlwdGlvbic6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHJldHVybiBNb2RhbC5zaG93KFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIsIHRoaXMpO1xuICB9LFxuICAndGFwZW5kIC5hcHByb3ZlLWl0ZW0sLmFwcHJvdmUtZGVzY3JpcHRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBldmVudC5zdG9wUHJvcGFnYXRpb24oKTtcbiAgICBldmVudC5wcmV2ZW50RGVmYXVsdCgpO1xuICAgIHJldHVybiBmYWxzZTtcbiAgfSxcbiAgJ2NsaWNrIC5pbnN0YW5jZS10cmFjZS1kZXRhaWwtbW9kYWwgLmJ0bi1mb3J3YXJkLWFwcHJvdmUtcmVtb3ZlJzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgdmFyIGFwcHJvdmVJZCwgaW5zdGFuY2VJZCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICAkKFwiYm9keVwiKS5hZGRDbGFzcyhcImxvYWRpbmdcIik7XG4gICAgTWV0ZW9yLmNhbGwoJ2ZvcndhcmRfcmVtb3ZlJywgaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKFRBUGkxOG4uX18oXCJpbnN0YW5jZV9hcHByb3ZlX2ZvcndhcmRfcmVtb3ZlX3N1Y2Nlc3NcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWZvcndhcmQtaW5zdGFuY2UtbG9vayc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBmb3J3YXJkX2luc3RhbmNlLCBmb3J3YXJkX3NwYWNlO1xuICAgIGZvcndhcmRfc3BhY2UgPSBldmVudC50YXJnZXQuZGF0YXNldC5mb3J3YXJkc3BhY2U7XG4gICAgZm9yd2FyZF9pbnN0YW5jZSA9IGV2ZW50LnRhcmdldC5kYXRhc2V0LmZvcndhcmRpbnN0YW5jZTtcbiAgICByZXR1cm4gU3RlZWRvcy5vcGVuV2luZG93KFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGZvcndhcmRfc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZm9yd2FyZF9pbnN0YW5jZSkpO1xuICB9LFxuICAnY2xpY2sgLmJ0bi1tb2RpZmljYXRpb24nOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICB0ZW1wbGF0ZS5pc19lZGl0aW5nLnNldCghdGVtcGxhdGUuaXNfZWRpdGluZy5nZXQoKSk7XG4gICAgaWYgKCFTdGVlZG9zLmlzQW5kcm9pZE9ySU9TKCkpIHtcbiAgICAgIHJldHVybiBUcmFja2VyLmFmdGVyRmx1c2goZnVuY3Rpb24oKSB7XG4gICAgICAgIHJldHVybiAkKFwiI2luc3RhbmNlX3RyYWNlX2RldGFpbF9tb2RhbCAjZmluaXNoX2lucHV0XCIpLm9uKFwiZHAuc2hvd1wiLCBmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5tb2RhbC1ib2R5XCIpLnNjcm9sbFRvcCgxMDApO1xuICAgICAgICB9KTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgJ2NsaWNrIC5idG4tY2FuY2VsQnV0JzogZnVuY3Rpb24oZXZlbnQsIHRlbXBsYXRlKSB7XG4gICAgcmV0dXJuIHRlbXBsYXRlLmlzX2VkaXRpbmcuc2V0KCF0ZW1wbGF0ZS5pc19lZGl0aW5nLmdldCgpKTtcbiAgfSxcbiAgJ2NsaWNrIC5idG4tc2F2ZUJ1dCc6IGZ1bmN0aW9uKGV2ZW50LCB0ZW1wbGF0ZSkge1xuICAgIHZhciBhcHByb3ZlSWQsIGZpbmlzaF9pbnB1dCwgaW5zdGFuY2VJZCwgb3Bpbmlvbl9pbnB1dCwgdHJhY2VJZDtcbiAgICBpbnN0YW5jZUlkID0gU2Vzc2lvbi5nZXQoJ2luc3RhbmNlSWQnKTtcbiAgICBhcHByb3ZlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC5hcHByb3ZlO1xuICAgIHRyYWNlSWQgPSBldmVudC50YXJnZXQuZGF0YXNldC50cmFjZTtcbiAgICBvcGluaW9uX2lucHV0ID0gJCgnI29waW5pb25faW5wdXQnKS52YWwoKTtcbiAgICBmaW5pc2hfaW5wdXQgPSBBdXRvRm9ybS5nZXRGaWVsZFZhbHVlKFwiZmluaXNoX2RhdGVcIiwgXCJmaW5pc2hEYXRlQXV0b0Zvcm1cIik7XG4gICAgJChcImJvZHlcIikuYWRkQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgIHJldHVybiBNZXRlb3IuY2FsbCgnY2hhbmdlX2FwcHJvdmVfaW5mbycsIGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgb3Bpbmlvbl9pbnB1dCwgZmluaXNoX2lucHV0LCBmdW5jdGlvbihlcnIsIHJlc3VsdCkge1xuICAgICAgJChcImJvZHlcIikucmVtb3ZlQ2xhc3MoXCJsb2FkaW5nXCIpO1xuICAgICAgaWYgKGVycikge1xuICAgICAgICB0b2FzdHIuZXJyb3IoVEFQaTE4bi5fXyhlcnIucmVhc29uKSk7XG4gICAgICB9XG4gICAgICBpZiAocmVzdWx0ID09PSB0cnVlKSB7XG4gICAgICAgIHRvYXN0ci5zdWNjZXNzKHQoXCJpbnN0YW5jZV9hcHByb3ZlX21vZGFsX21vZGlmaWNhdGlvbnNhdmVcIikpO1xuICAgICAgICBNb2RhbC5oaWRlKFwiaW5zdGFuY2VfdHJhY2VfZGV0YWlsX21vZGFsXCIpO1xuICAgICAgfVxuICAgIH0pO1xuICB9LFxuICAnY2xpY2sgLmluc3RhbmNlLXRyYWNlLWRldGFpbC1tb2RhbCAuYnRuLWRpc3RyaWJ1dGUtYXBwcm92ZS1yZW1vdmUnOiBmdW5jdGlvbihldmVudCwgdGVtcGxhdGUpIHtcbiAgICBNb2RhbC5hbGxvd011bHRpcGxlID0gdHJ1ZTtcbiAgICByZXR1cm4gTW9kYWwuc2hvdygnY2FuY2VsX2Rpc3RyaWJ1dGVfbW9kYWwnKTtcbiAgfVxufTtcbiIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9XHJcblx0c2hvd1JlbGF0ZWRJbnN0YWNlczogLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxyXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcclxuXHRcdFx0aWYgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaW5zLnJlbGF0ZWRfaW5zdGFuY2VzfX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgbmFtZTogMX19KS5jb3VudCgpID4gMFxyXG5cdFx0XHRcdHJldHVybiB0cnVlXHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHJcblx0cmVsYXRlZF9pbnN0YWNlczogLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxyXG5cdFx0aWYgaW5zPy5yZWxhdGVkX2luc3RhbmNlcyAmJiBfLmlzQXJyYXkoaW5zPy5yZWxhdGVkX2luc3RhbmNlcylcclxuXHRcdFx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc319LCB7ZmllbGRzOiB7c3BhY2U6IDEsIG5hbWU6IDF9fSkuZmV0Y2goKVxyXG5cclxuXHRyZWxhdGVkX2luc3RhY2VfdXJsOiAoaW5zKSAtPlxyXG5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpXHJcblx0XHRcdHJldHVybiAnJ1xyXG5cclxuXHRcdGFic29sdXRlID0gZmFsc2VcclxuXHJcblx0XHRpZiBNZXRlb3IuaXNTZXJ2ZXJcclxuXHRcdFx0YWJzb2x1dGUgPSB0aGlzLmFic29sdXRlXHJcblx0XHRpZiBhYnNvbHV0ZVxyXG5cdFx0XHRyZXR1cm4gTWV0ZW9yLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIraW5zLnNwYWNlK1wiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJylcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitpbnMuc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxyXG5cclxuXHRfdDogKGtleSktPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdHJldHVybiBUQVBpMThuLl9fKGtleSlcclxuXHRcdGVsc2VcclxuXHRcdFx0bG9jYWxlID0gVGVtcGxhdGUuaW5zdGFuY2UoKS52aWV3LnRlbXBsYXRlLnN0ZWVkb3NEYXRhLmxvY2FsZVxyXG5cdFx0XHRyZXR1cm4gVEFQaTE4bi5fXyhrZXksIHt9LCBsb2NhbGUpXHJcblxyXG5cdHNob3dfZGVsZXRlOiAoKS0+XHJcblx0XHRpZiAhTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdHJldHVybiBmYWxzZVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSBcImRyYWZ0XCIgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpXHJcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwXHJcblx0XHRcdFx0XHRpZiAoY3VycmVudF9zdGVwLmNhbl9lZGl0X21haW5fYXR0YWNoIHx8IGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9ub3JtYWxfYXR0YWNoID09IHRydWUgfHwgY3VycmVudF9zdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPT0gdW5kZWZpbmVkKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdHJ1ZSIsIlJlbGF0ZWRJbnN0YW5jZXMuaGVscGVycyA9IHtcbiAgc2hvd1JlbGF0ZWRJbnN0YWNlczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKChpbnMgIT0gbnVsbCA/IGlucy5yZWxhdGVkX2luc3RhbmNlcyA6IHZvaWQgMCkgJiYgXy5pc0FycmF5KGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSkge1xuICAgICAgaWYgKGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgX2lkOiB7XG4gICAgICAgICAgJGluOiBpbnMucmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICAgIHJldHVybiB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfVxuICB9LFxuICByZWxhdGVkX2luc3RhY2VzOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgaW5zO1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgIGlucyA9IFdvcmtmbG93TWFuYWdlci5nZXRJbnN0YW5jZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICBpbnMgPSB0aGlzLmluc3RhbmNlO1xuICAgIH1cbiAgICBpZiAoKGlucyAhPSBudWxsID8gaW5zLnJlbGF0ZWRfaW5zdGFuY2VzIDogdm9pZCAwKSAmJiBfLmlzQXJyYXkoaW5zICE9IG51bGwgPyBpbnMucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDApKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IGlucy5yZWxhdGVkX2luc3RhbmNlc1xuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICB9XG4gIH0sXG4gIHJlbGF0ZWRfaW5zdGFjZV91cmw6IGZ1bmN0aW9uKGlucykge1xuICAgIHZhciBhYnNvbHV0ZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSkpIHtcbiAgICAgIHJldHVybiAnJztcbiAgICB9XG4gICAgYWJzb2x1dGUgPSBmYWxzZTtcbiAgICBpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gICAgICBhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGU7XG4gICAgfVxuICAgIGlmIChhYnNvbHV0ZSkge1xuICAgICAgcmV0dXJuIE1ldGVvci5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiICsgaW5zLnNwYWNlICsgXCIvdmlldy9yZWFkb25seS9cIiArIGlucy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGlucy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBpbnMuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgfVxuICB9LFxuICBfdDogZnVuY3Rpb24oa2V5KSB7XG4gICAgdmFyIGxvY2FsZTtcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gVEFQaTE4bi5fXyhrZXkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBsb2NhbGUgPSBUZW1wbGF0ZS5pbnN0YW5jZSgpLnZpZXcudGVtcGxhdGUuc3RlZWRvc0RhdGEubG9jYWxlO1xuICAgICAgcmV0dXJuIFRBUGkxOG4uX18oa2V5LCB7fSwgbG9jYWxlKTtcbiAgICB9XG4gIH0sXG4gIHNob3dfZGVsZXRlOiBmdW5jdGlvbigpIHtcbiAgICB2YXIgY3VycmVudF9zdGVwO1xuICAgIGlmICghTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICByZXR1cm4gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gXCJkcmFmdFwiIHx8IFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgIGN1cnJlbnRfc3RlcCA9IEluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50U3RlcCgpO1xuICAgICAgICBpZiAoY3VycmVudF9zdGVwKSB7XG4gICAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaCB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PT0gdHJ1ZSB8fCBjdXJyZW50X3N0ZXAuY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCA9PT0gdm9pZCAwKSB7XG4gICAgICAgICAgICByZXR1cm4gdHJ1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIH1cbn07XG4iLCJSZWxhdGVkUmVjb3Jkcy5oZWxwZXJzID1cclxuXHRzaG93UmVsYXRlZFJlY29yZHM6ICgpLT5cclxuXHRcdGlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFx0XHRpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0aW5zID0gdGhpcy5pbnN0YW5jZVxyXG5cdFx0aWYgIWluc1xyXG5cdFx0XHRyZXR1cm4gZmFsc2VcclxuXHRcdHJldHVybiAhXy5pc0VtcHR5KGlucy5yZWNvcmRfaWRzKSIsIlJlbGF0ZWRSZWNvcmRzLmhlbHBlcnMgPSB7XG4gIHNob3dSZWxhdGVkUmVjb3JkczogZnVuY3Rpb24oKSB7XG4gICAgdmFyIGlucztcbiAgICBpZiAoTWV0ZW9yLmlzQ2xpZW50KSB7XG4gICAgICBpbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoKTtcbiAgICB9IGVsc2Uge1xuICAgICAgaW5zID0gdGhpcy5pbnN0YW5jZTtcbiAgICB9XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG4gICAgcmV0dXJuICFfLmlzRW1wdHkoaW5zLnJlY29yZF9pZHMpO1xuICB9XG59O1xuIiwiTWV0ZW9yLm1ldGhvZHNcclxuXHRzZXRfaW5zdGFuY2Vfc3RlcF9hcHByb3ZlOiAoaW5zX2lkLCBzdGVwX2FwcHJvdmUsIHN0ZXBzQXBwcm92ZXNPcHRpb25zKS0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkfSwge2ZpZWxkczoge3N0YXRlOiAxfX0pXHJcblxyXG5cdFx0aWYgaW5zLnN0YXRlICE9ICdkcmFmdCdcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRfa2V5czEgPSBfLmtleXMoc3RlcF9hcHByb3ZlKTtcclxuXHRcdF9rZXlzMiA9IF8ua2V5cyhzdGVwc0FwcHJvdmVzT3B0aW9ucyk7XHJcblxyXG5cdFx0a2V5cyA9IF8uY29tcGFjdChfLnVuaW9uKF9rZXlzMSwgX2tleXMyKSk7XHJcblxyXG5cdFx0c3RlcHNBcHByb3ZlcyA9IHt9O1xyXG5cclxuXHRcdF8uZWFjaCBrZXlzLCAoc3RlcElkKS0+XHJcblx0XHRcdHN0ZXBBcHByb3ZlcyA9IHN0ZXBfYXBwcm92ZVtzdGVwSWRdXHJcblx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwc0FwcHJvdmVzT3B0aW9uc1tzdGVwSWRdXHJcblx0XHRcdGlmIHN0ZXBBcHByb3Zlc1xyXG5cdFx0XHRcdHN0ZXBzQXBwcm92ZXNbc3RlcElkXSA9IHN0ZXBBcHByb3Zlc1xyXG5cdFx0XHRcdGlmIHN0ZXBzQXBwcm92ZU9wdGlvbnNcclxuXHRcdFx0XHRcdGlmIF8uaXNBcnJheShzdGVwQXBwcm92ZXMpXHJcblx0XHRcdFx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwQXBwcm92ZXMuY29uY2F0KHN0ZXBzQXBwcm92ZU9wdGlvbnMpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHN0ZXBzQXBwcm92ZU9wdGlvbnMucHVzaChzdGVwQXBwcm92ZXMpXHJcblx0XHRcdGlmIHN0ZXBzQXBwcm92ZU9wdGlvbnNcclxuXHRcdFx0XHRzdGVwc0FwcHJvdmVzW3N0ZXBJZCArICdfb3B0aW9ucyddID0gXy51bmlxKHN0ZXBzQXBwcm92ZU9wdGlvbnMpXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlIHtfaWQ6IGluc19pZH0sIHskc2V0OiB7c3RlcF9hcHByb3ZlOiBzdGVwc0FwcHJvdmVzfX1cclxuXHRzZXRfaW5zdGFuY2Vfc2tpcF9zdGVwczogKGluc19pZCwgc3RlcElkLCBhY3Rpb24pLT5cclxuXHRcdGlmIGFjdGlvbiA9PSAncHVsbCdcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7X2lkOiBpbnNfaWR9LCB7JHB1bGw6IHtza2lwX3N0ZXBzOiBzdGVwSWR9fVxyXG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gJ3B1c2gnXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUge19pZDogaW5zX2lkfSwgeyRwdXNoOiB7c2tpcF9zdGVwczogc3RlcElkfX0iLCJNZXRlb3IubWV0aG9kcyh7XG4gIHNldF9pbnN0YW5jZV9zdGVwX2FwcHJvdmU6IGZ1bmN0aW9uKGluc19pZCwgc3RlcF9hcHByb3ZlLCBzdGVwc0FwcHJvdmVzT3B0aW9ucykge1xuICAgIHZhciBfa2V5czEsIF9rZXlzMiwgaW5zLCBrZXlzLCBzdGVwc0FwcHJvdmVzO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zLnN0YXRlICE9PSAnZHJhZnQnKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9rZXlzMSA9IF8ua2V5cyhzdGVwX2FwcHJvdmUpO1xuICAgIF9rZXlzMiA9IF8ua2V5cyhzdGVwc0FwcHJvdmVzT3B0aW9ucyk7XG4gICAga2V5cyA9IF8uY29tcGFjdChfLnVuaW9uKF9rZXlzMSwgX2tleXMyKSk7XG4gICAgc3RlcHNBcHByb3ZlcyA9IHt9O1xuICAgIF8uZWFjaChrZXlzLCBmdW5jdGlvbihzdGVwSWQpIHtcbiAgICAgIHZhciBzdGVwQXBwcm92ZXMsIHN0ZXBzQXBwcm92ZU9wdGlvbnM7XG4gICAgICBzdGVwQXBwcm92ZXMgPSBzdGVwX2FwcHJvdmVbc3RlcElkXTtcbiAgICAgIHN0ZXBzQXBwcm92ZU9wdGlvbnMgPSBzdGVwc0FwcHJvdmVzT3B0aW9uc1tzdGVwSWRdO1xuICAgICAgaWYgKHN0ZXBBcHByb3Zlcykge1xuICAgICAgICBzdGVwc0FwcHJvdmVzW3N0ZXBJZF0gPSBzdGVwQXBwcm92ZXM7XG4gICAgICAgIGlmIChzdGVwc0FwcHJvdmVPcHRpb25zKSB7XG4gICAgICAgICAgaWYgKF8uaXNBcnJheShzdGVwQXBwcm92ZXMpKSB7XG4gICAgICAgICAgICBzdGVwc0FwcHJvdmVPcHRpb25zID0gc3RlcEFwcHJvdmVzLmNvbmNhdChzdGVwc0FwcHJvdmVPcHRpb25zKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgc3RlcHNBcHByb3ZlT3B0aW9ucy5wdXNoKHN0ZXBBcHByb3Zlcyk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9XG4gICAgICBpZiAoc3RlcHNBcHByb3ZlT3B0aW9ucykge1xuICAgICAgICByZXR1cm4gc3RlcHNBcHByb3Zlc1tzdGVwSWQgKyAnX29wdGlvbnMnXSA9IF8udW5pcShzdGVwc0FwcHJvdmVPcHRpb25zKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgc3RlcF9hcHByb3ZlOiBzdGVwc0FwcHJvdmVzXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHNldF9pbnN0YW5jZV9za2lwX3N0ZXBzOiBmdW5jdGlvbihpbnNfaWQsIHN0ZXBJZCwgYWN0aW9uKSB7XG4gICAgaWYgKGFjdGlvbiA9PT0gJ3B1bGwnKSB7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRwdWxsOiB7XG4gICAgICAgICAgc2tpcF9zdGVwczogc3RlcElkXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uID09PSAncHVzaCcpIHtcbiAgICAgIHJldHVybiBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgX2lkOiBpbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHB1c2g6IHtcbiAgICAgICAgICBza2lwX3N0ZXBzOiBzdGVwSWRcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzKHtcclxuXHJcblx0Z2V0X2luc3RhbmNlX2RhdGE6IGZ1bmN0aW9uIChpbnN0YW5jZV9pZCwgZm9ybUNhY2hlZCwgZmxvd0NhY2hlZCkge1xyXG5cclxuXHRcdGNoZWNrKGluc3RhbmNlX2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soZm9ybUNhY2hlZCwgQm9vbGVhbik7XHJcblx0XHRjaGVjayhmbG93Q2FjaGVkLCBCb29sZWFuKTtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZCk7XHJcblxyXG5cdFx0aWYgKCFpbnN0YW5jZSlcclxuXHRcdFx0cmV0dXJuIHtcclxuXHRcdFx0XHRpbnN0YW5jZTogbnVsbFxyXG5cdFx0XHR9O1xyXG5cclxuXHRcdGlmIChmb3JtQ2FjaGVkICYmIGZsb3dDYWNoZWQpXHJcblx0XHRcdHJldHVybiB7XHJcblx0XHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlXHJcblx0XHRcdH07XHJcblxyXG5cdFx0aWYgKCFmb3JtQ2FjaGVkKSB7XHJcblx0XHRcdHZhciBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShpbnN0YW5jZS5mb3JtKTtcclxuXHRcdFx0dmFyIGZvcm1fdmVyc2lvbiA9IHt9O1xyXG5cdFx0XHRpZiAoZm9ybS5jdXJyZW50Ll9pZCA9PSBpbnN0YW5jZS5mb3JtX3ZlcnNpb24pIHtcclxuXHRcdFx0XHRmb3JtX3ZlcnNpb24gPSBmb3JtLmN1cnJlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0ZWxzZSB7XHJcblx0XHRcdFx0Zm9ybV92ZXJzaW9uID0gXy53aGVyZShmb3JtLmhpc3RvcnlzLCB7X2lkOiBpbnN0YW5jZS5mb3JtX3ZlcnNpb259KVswXTtcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHJcblx0XHRpZiAoIWZsb3dDYWNoZWQpIHtcclxuXHRcdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGluc3RhbmNlLmZsb3cpO1xyXG5cdFx0XHR2YXIgZmxvd192ZXJzaW9uID0ge307XHJcblx0XHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGluc3RhbmNlLmZsb3dfdmVyc2lvbikge1xyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudDtcclxuXHRcdFx0fVxyXG5cdFx0XHRlbHNlIHtcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24gPSBfLndoZXJlKGZsb3cuaGlzdG9yeXMsIHtfaWQ6IGluc3RhbmNlLmZsb3dfdmVyc2lvbn0pWzBdO1xyXG5cdFx0XHR9XHJcblx0XHR9XHJcblxyXG5cdFx0cmV0dXJuIHtcclxuXHRcdFx0aW5zdGFuY2U6IGluc3RhbmNlLFxyXG5cdFx0XHRmb3JtX3ZlcnNpb246IGZvcm1fdmVyc2lvbixcclxuXHRcdFx0Zmxvd192ZXJzaW9uOiBmbG93X3ZlcnNpb25cclxuXHRcdH1cclxuXHJcblx0fVxyXG5cclxufSk7XHJcbiIsIk1ldGVvci5tZXRob2RzKHtcclxuXHJcblx0ZHJhZnRfc2F2ZV9pbnN0YW5jZTogZnVuY3Rpb24gKGlucykge1xyXG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0dmFyIHJlc3VsdCA9IHRydWU7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cdFx0dmFyIGluc19pZCA9IGlucy5faWQ7XHJcblx0XHR2YXIgdHJhY2VfaWQgPSBpbnMudHJhY2VzWzBdLl9pZDtcclxuXHRcdHZhciBhcHByb3ZlX2lkID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS5faWQ7XHJcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLmRlc2NyaXB0aW9uO1xyXG5cdFx0dmFyIG5leHRfc3RlcHMgPSBpbnMudHJhY2VzWzBdLmFwcHJvdmVzWzBdLm5leHRfc3RlcHM7XHJcblx0XHR2YXIgdmFsdWVzID0gaW5zLnRyYWNlc1swXS5hcHByb3Zlc1swXS52YWx1ZXMgfHwge307XHJcblx0XHR2YXIgYXBwbGljYW50X2lkID0gaW5zLmFwcGxpY2FudDtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0YXBwbGljYW50OiAxLFxyXG5cdFx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRcdHN1Ym1pdHRlcjogMSxcclxuXHRcdFx0XHR0cmFjZXM6IDEsXHJcblx0XHRcdFx0Zm9ybTogMSxcclxuXHRcdFx0XHRmbG93X3ZlcnNpb246IDEsXHJcblx0XHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdFx0ZmxvdzogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHR2YXIgc3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZTtcclxuXHRcdHZhciBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcclxuXHRcdHZhciBmb3JtX2lkID0gaW5zdGFuY2UuZm9ybTtcclxuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XHJcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcclxuXHRcdH0pO1xyXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0aWYgKGEuX2lkID09IGFwcHJvdmVfaWQpIHtcclxuXHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHRcdHZhciBrZXlfc3RyID0gJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuJztcclxuXHJcblx0XHQvLyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuaLn+eov+eKtuaAgVxyXG5cdFx0dmFyIGN1cnJlbnRfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXHJcblx0XHR9LCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGxvY2FsZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSwgbGFuZyk7XHJcblx0XHQvLyDliKTmlq3kuIDkuKrnlKjmiLfmmK/lkKbmmK/kuIDkuKppbnN0YW5jZeeahOaPkOS6pOiAhVxyXG5cdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyKGluc3RhbmNlLCB0aGlzLnVzZXJJZCk7XHJcblxyXG5cdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XCJjdXJyZW50Ll9pZFwiOiAxLFxyXG5cdFx0XHRcdFwiY3VycmVudC5mb3JtX3ZlcnNpb25cIjogMSxcclxuXHRcdFx0XHRcIm5hbWVcIjogMSxcclxuXHRcdFx0XHRcImN1cnJlbnQuc3RlcHNcIjogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0aWYgKGZsb3cuY3VycmVudC5faWQgIT0gaW5zdGFuY2UuZmxvd192ZXJzaW9uKSB7XHJcblx0XHRcdHJlc3VsdCA9IFwidXBncmFkZWRcIjtcclxuXHRcdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAocykge1xyXG5cdFx0XHRcdHJldHVybiBzLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCI7XHJcblx0XHRcdH0pO1xyXG5cdFx0XHQvLyDmtYHnqIvlt7LljYfnuqdcclxuXHRcdFx0c2V0T2JqLmZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudC5faWQ7XHJcblx0XHRcdHNldE9iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xyXG5cdFx0XHQvLyDlrZjlhaXlvZPliY3mnIDmlrDniYhmbG935Lit5byA5aeL6IqC54K555qEc3RlcF9pZFxyXG5cdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5zdGVwXCJdID0gc3RhcnRfc3RlcC5faWQ7XHJcblx0XHRcdHNldE9ialtcInRyYWNlcy4kLm5hbWVcIl0gPSBzdGFydF9zdGVwLm5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0aWYgKGluc3RhbmNlLmFwcGxpY2FudCAhPSBhcHBsaWNhbnRfaWQpIHtcclxuXHRcdFx0Ly8g55Sz6K+35Lq65bey5Y+Y5o2iXHJcblx0XHRcdHZhciB1c2VyID0gZGIudXNlcnMuZmluZE9uZShhcHBsaWNhbnRfaWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgYXBwbGljYW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdHVzZXI6IGFwcGxpY2FudF9pZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRvcmdhbml6YXRpb246IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgb3JnX2lkID0gYXBwbGljYW50LmZldGNoKClbMF0ub3JnYW5pemF0aW9uO1xyXG5cdFx0XHR2YXIgb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKG9yZ19pZCwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnQgPSBhcHBsaWNhbnRfaWQ7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfbmFtZSA9IHVzZXIubmFtZTtcclxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb24gPSBvcmdfaWQ7XHJcblx0XHRcdHNldE9iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdhbml6YXRpb24ubmFtZTtcclxuXHRcdFx0c2V0T2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBvcmdhbml6YXRpb24uZnVsbG5hbWU7XHJcblxyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICd1c2VyJ10gPSBhcHBsaWNhbnRfaWQ7XHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3VzZXJfbmFtZSddID0gdXNlci5uYW1lO1xyXG5cdFx0fVxyXG5cclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ3ZhbHVlcyddID0gdmFsdWVzO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnZGVzY3JpcHRpb24nXSA9IGRlc2NyaXB0aW9uO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9ICdzdWJtaXR0ZWQnO1xyXG5cdFx0c2V0T2JqW2tleV9zdHIgKyAncmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0aWYgKHJlc3VsdCAhPSBcInVwZ3JhZGVkXCIgJiYgbmV4dF9zdGVwcykge1xyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICduZXh0X3N0ZXBzJ10gPSBuZXh0X3N0ZXBzO1xyXG5cdFx0fVxyXG5cclxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxyXG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcclxuXHRcdFx0X2lkOiBmb3JtX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFwiY3VycmVudC5uYW1lX2ZvcnVtbGFcIjogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xyXG5cdFx0aWYgKG5hbWVfZm9ydW1sYSkge1xyXG5cdFx0XHQvLyB2YXIgaXNjcmlwdCA9IG5hbWVfZm9ydW1sYS5yZXBsYWNlKC9cXHsvZywgXCIodmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xyXG5cdFx0XHQvLyB2YXIgcmV2ID0gZXZhbChpc2NyaXB0KTtcclxuXHRcdFx0c2V0T2JqLm5hbWUgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlTmFtZShpbnMsIHZhbHVlcyk7XHJcblx0XHR9XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiByZXN1bHQ7XHJcblx0fSxcclxuXHJcblx0aW5ib3hfc2F2ZV9pbnN0YW5jZTogZnVuY3Rpb24gKGFwcHJvdmUpIHtcclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblx0XHR2YXIgaW5kZXggPSAwO1xyXG5cdFx0dmFyIGluc19pZCA9IGFwcHJvdmUuaW5zdGFuY2U7XHJcblx0XHR2YXIgdHJhY2VfaWQgPSBhcHByb3ZlLnRyYWNlO1xyXG5cdFx0dmFyIGFwcHJvdmVfaWQgPSBhcHByb3ZlLmlkO1xyXG5cdFx0dmFyIHZhbHVlcyA9IGFwcHJvdmUudmFsdWVzO1xyXG5cdFx0dmFyIG5leHRfc3RlcHMgPSBhcHByb3ZlLm5leHRfc3RlcHM7XHJcblx0XHR2YXIgZGVzY3JpcHRpb24gPSBhcHByb3ZlLmRlc2NyaXB0aW9uO1xyXG5cdFx0dmFyIGp1ZGdlID0gYXBwcm92ZS5qdWRnZTtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGZsb3dfdmVyc2lvbjogMSxcclxuXHRcdFx0XHRmbG93OiAxLFxyXG5cdFx0XHRcdHN0YXRlOiAxLFxyXG5cdFx0XHRcdGZvcm06IDEsXHJcblx0XHRcdFx0Zm9ybV92ZXJzaW9uOiAxLFxyXG5cdFx0XHRcdHZhbHVlczogMSxcclxuXHRcdFx0XHRjb2RlOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQodHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KTtcclxuXHRcdHZhciBjdXJyZW50X2FwcHJvdmUgPSBfLmZpbmQoY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcclxuXHRcdFx0cmV0dXJuIGEuX2lkID09IGFwcHJvdmVfaWQ7XHJcblx0XHR9KTtcclxuXHJcblx0XHQvLyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0dmFyIGN1cnJlbnRfdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRfaWQ6IHRoaXMudXNlcklkXHJcblx0XHR9LCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdGxvY2FsZTogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBsYW5nID0gY3VycmVudF91c2VyLmxvY2FsZSA9PSAnemgtY24nID8gJ3poLUNOJyA6ICdlbic7XHJcblx0XHR0cnkge1xyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlLCBsYW5nKTtcclxuXHRcdFx0Ly8g5Yik5pat5LiA5LiqdHJhY2XmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc1RyYWNlTm90RmluaXNoZWQoY3VycmVudF90cmFjZSk7XHJcblx0XHRcdC8vIOWIpOaWreS4gOS4qmFwcHJvdmXmmK/lkKbkuLrmnKrlrozmiJDnirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0FwcHJvdmVOb3RGaW5pc2hlZChjdXJyZW50X2FwcHJvdmUpO1xyXG5cdFx0XHQvLyDliKTmlq3lvZPliY3nlKjmiLfmmK/lkKZhcHByb3ZlIOWvueW6lOeahOWkhOeQhuS6uuaIluS7o+eQhuS6ulxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSGFuZGxlck9yQWdlbnQoY3VycmVudF9hcHByb3ZlLCB0aGlzLnVzZXJJZCk7XHJcblx0XHR9IGNhdGNoIChlKSB7XHJcblx0XHRcdGNvbnNvbGUubG9nKGUuc3RhY2spXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblx0XHR9XHJcblxyXG5cclxuXHRcdHZhciBmbG93X3ZlcnNpb24gPSBpbnN0YW5jZS5mbG93X3ZlcnNpb247XHJcblx0XHR2YXIgZmxvd19pZCA9IGluc3RhbmNlLmZsb3c7XHJcblx0XHR2YXIgc3RlcF9pZCA9IFwiXCI7XHJcblx0XHRzdGVwX2lkID0gY3VycmVudF90cmFjZS5zdGVwO1xyXG5cdFx0dmFyIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0Y3VycmVudDogMSxcclxuXHRcdFx0XHRoaXN0b3J5czogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBzdGVwID0gbnVsbDtcclxuXHRcdGlmIChmbG93LmN1cnJlbnQuX2lkID09IGZsb3dfdmVyc2lvbikge1xyXG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAocykge1xyXG5cdFx0XHRcdGlmIChzLl9pZCA9PSBzdGVwX2lkKVxyXG5cdFx0XHRcdFx0c3RlcCA9IHM7XHJcblx0XHRcdH0pXHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmbG93Lmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcclxuXHRcdFx0XHRoLnN0ZXBzLmZvckVhY2goZnVuY3Rpb24gKHMpIHtcclxuXHRcdFx0XHRcdGlmIChzLl9pZCA9PSBzdGVwX2lkKVxyXG5cdFx0XHRcdFx0XHRzdGVwID0gcztcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHR9KVxyXG5cdFx0fVxyXG5cclxuXHRcdGlmICghc3RlcClcclxuXHRcdFx0cmV0dXJuIGZhbHNlO1xyXG5cdFx0dmFyIHN0ZXBfdHlwZSA9IHN0ZXAuc3RlcF90eXBlO1xyXG5cclxuXHRcdGN1cnJlbnRfdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlX2lkKSB7XHJcblx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblxyXG5cdFx0dmFyIGtleV9zdHIgPSAndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy4nO1xyXG5cclxuXHRcdHZhciBwZXJtaXNzaW9uc192YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMsIHN0ZXAucGVybWlzc2lvbnMsIGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbik7XHJcblxyXG5cdFx0dmFyIGNoYW5nZV92YWx1ZXMgPSBhcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMoaW5zdGFuY2UudmFsdWVzLCBwZXJtaXNzaW9uc192YWx1ZXMpO1xyXG5cclxuXHRcdHNldE9iai52YWx1ZXMgPSBfLmV4dGVuZCgoaW5zdGFuY2UudmFsdWVzIHx8IHt9KSwgcGVybWlzc2lvbnNfdmFsdWVzKTtcclxuXHJcblx0XHRpZiAoIV8uaXNFbXB0eShjaGFuZ2VfdmFsdWVzKSkge1xyXG5cclxuXHRcdFx0dmFsdWVzX2hpc3RvcnkgPSBjdXJyZW50X2FwcHJvdmUudmFsdWVzX2hpc3RvcnkgfHwgW11cclxuXHJcblx0XHRcdHZhbHVlc19oaXN0b3J5LnB1c2goe1xyXG5cdFx0XHRcdHZhbHVlczogY2hhbmdlX3ZhbHVlcyxcclxuXHRcdFx0XHRjcmVhdGU6IG5ldyBEYXRlKClcclxuXHRcdFx0fSlcclxuXHJcblx0XHRcdHNldE9ialtrZXlfc3RyICsgJ3ZhbHVlc19oaXN0b3J5J10gPSB2YWx1ZXNfaGlzdG9yeVxyXG5cdFx0fVxyXG5cclxuXHRcdHNldE9ialtrZXlfc3RyICsgJ2lzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdyZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICd2YWx1ZXMnXSA9IHNldE9iai52YWx1ZXM7XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICdkZXNjcmlwdGlvbiddID0gZGVzY3JpcHRpb247XHJcblx0XHRzZXRPYmpba2V5X3N0ciArICduZXh0X3N0ZXBzJ10gPSBuZXh0X3N0ZXBzO1xyXG5cdFx0aWYgKHN0ZXBfdHlwZSA9PSBcInN1Ym1pdFwiIHx8IHN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcclxuXHRcdFx0c2V0T2JqW2tleV9zdHIgKyAnanVkZ2UnXSA9IFwic3VibWl0dGVkXCI7XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRzZXRPYmpba2V5X3N0ciArICdqdWRnZSddID0ganVkZ2U7XHJcblx0XHR9XHJcblxyXG5cdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cclxuXHRcdC8vIOiuoeeul+eUs+ivt+WNleagh+mimFxyXG5cdFx0dmFyIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGluc3RhbmNlLmZvcm0pO1xyXG5cdFx0dmFyIGZvcm1fdiA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybVZlcnNpb24oZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcclxuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtX3YubmFtZV9mb3J1bWxhO1xyXG5cdFx0aWYgKG5hbWVfZm9ydW1sYSkge1xyXG5cdFx0XHRzZXRPYmoubmFtZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2VOYW1lKGluc3RhbmNlLCBzZXRPYmoudmFsdWVzKTtcclxuXHRcdH1cclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdFwidHJhY2VzLl9pZFwiOiB0cmFjZV9pZFxyXG5cdFx0fSwge1xyXG5cdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdH0pO1xyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG5cclxufSkiLCJNZXRlb3IubWV0aG9kcyh7XHJcblx0Ly8gPz8/IOiDveWQpuS8oOmYhee7meW9k+WJjeatpemqpOWkhOeQhuS6uiDlpoLmnpzlvZPliY3mraXpqqTmmK/kvJrnrb7jgIJcclxuXHRjY19kbzogZnVuY3Rpb24gKGFwcHJvdmUsIGNjX3VzZXJfaWRzLCBkZXNjcmlwdGlvbikge1xyXG5cclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHRcdHZhciBpbnNfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xyXG5cdFx0dmFyIHRyYWNlX2lkID0gYXBwcm92ZS50cmFjZTtcclxuXHRcdHZhciBhcHByb3ZlX2lkID0gYXBwcm92ZS5faWQ7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0c3BhY2U6IDEsXHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxyXG5cdFx0XHRcdHZhbHVlczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcclxuXHRcdHZhciBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xyXG5cdFx0dmFyIG5ld19hcHByb3ZlcyA9IFtdO1xyXG5cclxuXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSkubmFtZVxyXG5cclxuXHRcdGNjX3VzZXJfaWRzLmZvckVhY2goZnVuY3Rpb24gKHVzZXJJZCwgaWR4KSB7XHJcblx0XHRcdHZhciB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VySWQsIHtcclxuXHRcdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cdFx0XHR2YXIgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHR1c2VyOiB1c2VySWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIG9yZ19pZCA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xyXG5cdFx0XHR2YXIgb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKG9yZ19pZCwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcklkKTtcclxuXHRcdFx0dmFyIGhhbmRsZXJfaWQgPSB1c2VySWQ7XHJcblx0XHRcdHZhciBoYW5kbGVyX2luZm8gPSB1c2VyO1xyXG5cdFx0XHR2YXIgaGFuZGxlcl9zcGFjZV91c2VyID0gc3BhY2VfdXNlcjtcclxuXHRcdFx0dmFyIGhhbmRsZXJfb3JnX2luZm8gPSBvcmdhbml6YXRpb247XHJcblx0XHRcdGlmIChhZ2VudCkge1xyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudDtcclxuXHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGFnZW50LCB7XHJcblx0XHRcdFx0XHRmaWxlZHM6IHtcclxuXHRcdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGhhbmRsZXJfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBhZ2VudCk7XHJcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xyXG5cdFx0XHRcdGNjX3VzZXJfaWRzW2lkeF0gPSBhZ2VudDtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgYXBwciA9IHtcclxuXHRcdFx0XHQnX2lkJzogbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cixcclxuXHRcdFx0XHQnaW5zdGFuY2UnOiBpbnNfaWQsXHJcblx0XHRcdFx0J3RyYWNlJzogdHJhY2VfaWQsXHJcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogZmFsc2UsXHJcblx0XHRcdFx0J3VzZXInOiB1c2VySWQsXHJcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXIubmFtZSxcclxuXHRcdFx0XHQnaGFuZGxlcic6IGhhbmRsZXJfaWQsXHJcblx0XHRcdFx0J2hhbmRsZXJfbmFtZSc6IGhhbmRsZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyX29yZ2FuaXphdGlvbic6IGhhbmRsZXJfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBoYW5kbGVyX29yZ19pbmZvLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lJzogaGFuZGxlcl9vcmdfaW5mby5mdWxsbmFtZSxcclxuXHRcdFx0XHQndHlwZSc6ICdjYycsXHJcblx0XHRcdFx0J3N0YXJ0X2RhdGUnOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdCdpc19yZWFkJzogZmFsc2UsXHJcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcclxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcclxuXHRcdFx0XHQnb3Bpbmlvbl9maWVsZHNfY29kZSc6IGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSxcclxuXHRcdFx0XHQnc2lnbl9maWVsZF9jb2RlJzogKGFwcHJvdmUub3Bpbmlvbl9maWVsZHNfY29kZSAmJiBhcHByb3ZlLm9waW5pb25fZmllbGRzX2NvZGUubGVuZ3RoID09IDEpID8gYXBwcm92ZS5vcGluaW9uX2ZpZWxkc19jb2RlWzBdIDogXCJcIixcclxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogYXBwcm92ZV9pZCxcclxuXHRcdFx0XHQnY2NfZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvblxyXG5cdFx0XHR9O1xyXG5cdFx0XHRpZiAoYWdlbnQpIHtcclxuXHRcdFx0XHRhcHByLmFnZW50ID0gYWdlbnQ7XHJcblx0XHRcdH1cclxuXHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgYXBwcilcclxuXHRcdFx0bmV3X2FwcHJvdmVzLnB1c2goYXBwcik7XHJcblx0XHR9KVxyXG5cclxuXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHQndHJhY2VzLl9pZCc6IHRyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9iaixcclxuXHRcdFx0JGFkZFRvU2V0OiB7XHJcblx0XHRcdFx0J3RyYWNlcy4kLmFwcHJvdmVzJzoge1xyXG5cdFx0XHRcdFx0JGVhY2g6IG5ld19hcHByb3Zlc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSxcclxuXHRcdFx0JHB1c2g6IHtcclxuXHRcdFx0XHRjY191c2Vyczoge1xyXG5cdFx0XHRcdFx0JGVhY2g6IGNjX3VzZXJfaWRzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkKTtcclxuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY1wiLCBpbnN0YW5jZSwgXCJcIiwgY3VycmVudF91c2VyX2luZm8sIGNjX3VzZXJfaWRzKTtcclxuXHJcblx0XHRmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcclxuXHRcdGFwcHJvdmUuY2NfdXNlcl9pZHMgPSBjY191c2VyX2lkczsgLy8g6K6w5b2V5LiL5pys5qyh5Lyg6ZiF55qE5Lq65ZGYSUTkvZzkuLpob29r5o6l5Y+j5Lit55qE5Y+C5pWwXHJcblx0XHQvLyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgYXBwcm92ZSwgJ2NjX2RvJywgY3VycmVudF91c2VyX2lkLCBjY191c2VyX2lkcylcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdGNjX3JlYWQ6IGZ1bmN0aW9uIChhcHByb3ZlKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblx0XHR2YXIgaW5zX2lkID0gYXBwcm92ZS5pbnN0YW5jZTtcclxuXHRcdHZhciB0cmFjZV9pZCA9IGFwcHJvdmUudHJhY2U7XHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0dHJhY2VzOiAxXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdFx0dmFyIGN1cnJlbnRfdXNlcl9pZCA9IHRoaXMudXNlcklkO1xyXG5cdFx0dmFyIGN1cnJlbnRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRyZXR1cm4gdC5faWQgPT0gdHJhY2VfaWQ7XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBpbmRleCA9IDA7XHJcblxyXG5cdFx0Y3VycmVudF90cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0aWYgKGEudHlwZSA9PSAnY2MnICYmIGEuaGFuZGxlciA9PSBjdXJyZW50X3VzZXJfaWQgJiYgIWEuaXNfcmVhZCkge1xyXG5cdFx0XHRcdGluZGV4ID0gaWR4O1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpbmRleCArICcuaXNfcmVhZCddID0gdHJ1ZTtcclxuXHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGluZGV4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblxyXG5cdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHR9KTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdGNjX3N1Ym1pdDogZnVuY3Rpb24gKGluc19pZCwgZGVzY3JpcHRpb24pIHtcclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQsIHtcclxuXHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0dHJhY2VzOiAxLFxyXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxyXG5cdFx0XHRcdG91dGJveF91c2VyczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XHJcblx0XHR2YXIgY3VycmVudF9hcHByb3ZlO1xyXG5cclxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdGlmIChhLnR5cGUgPT0gJ2NjJyAmJiBhLmhhbmRsZXIgPT0gY3VycmVudF91c2VyX2lkICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0Y3VycmVudF9hcHByb3ZlID0gYTtcclxuXHRcdFx0XHRcdFx0dmFyIHVwb2JqID0ge307XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKTtcclxuXHRcdFx0XHRcdFx0dXBvYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmp1ZGdlJ10gPSBcInN1Ym1pdHRlZFwiO1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuY29zdF90aW1lJ10gPSBuZXcgRGF0ZSgpIC0gYS5zdGFydF9kYXRlO1xyXG5cdFx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0XHRfaWQ6IGluc19pZCxcclxuXHRcdFx0XHRcdFx0XHQndHJhY2VzLl9pZCc6IHQuX2lkXHJcblx0XHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0XHQkc2V0OiB1cG9ialxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAoY3VycmVudF9hcHByb3ZlKSB7XHJcblx0XHRcdHZhciBpbmRleCA9IDA7XHJcblxyXG5cdFx0XHQvL+iuvue9ruaEj+inge+8jOaEj+ingeWPqua3u+WKoOWIsOacgOWQjuS4gOadoWFwcHJvdmXkuK1cclxuXHRcdFx0dHJhY2VzLmZvckVhY2goZnVuY3Rpb24gKHQpIHtcclxuXHRcdFx0XHRpZiAoY3VycmVudF9hcHByb3ZlICYmIHQuX2lkID09PSBjdXJyZW50X2FwcHJvdmUudHJhY2UpIHtcclxuXHRcdFx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09PSBjdXJyZW50X2FwcHJvdmUuX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRhLmRlc2NyaXB0aW9uID0gZGVzY3JpcHRpb247XHJcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IGlkeDtcclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSk7XHJcblxyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmRlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcclxuXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF9hcHByb3ZlLnRyYWNlXHJcblx0XHRcdH0sIHtcclxuXHRcdFx0XHQkc2V0OiBzZXRPYmosXHJcblx0XHRcdFx0JHB1bGw6IHtcclxuXHRcdFx0XHRcdGNjX3VzZXJzOiBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0XHR9LFxyXG5cdFx0XHRcdCRhZGRUb1NldDoge1xyXG5cdFx0XHRcdFx0b3V0Ym94X3VzZXJzOiB7XHJcblx0XHRcdFx0XHRcdCRlYWNoOiBbY3VycmVudF91c2VyX2lkLCBjdXJyZW50X2FwcHJvdmUudXNlcl1cclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9XHJcblx0XHRcdH0pO1xyXG5cclxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpO1xyXG5cclxuXHRcdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcl9pZCk7XHJcblx0XHRcdC8v5Lyg6ZiF5o+Q5Lqk5LiN6YCa55+l5Lyg6ZiF6ICFXHJcblx0XHRcdGlmIChmYWxzZSAmJiBkZXNjcmlwdGlvbiAmJiBjdXJyZW50X2FwcHJvdmUgJiYgY3VycmVudF9hcHByb3ZlLmZyb21fdXNlcikge1xyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwidHJhY2VfYXBwcm92ZV9jY19zdWJtaXRcIiwgaW5zdGFuY2UsIFwiXCIsIGN1cnJlbnRfdXNlcl9pbmZvLCBbY3VycmVudF9hcHByb3ZlLmZyb21fdXNlcl0pO1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyX2lkKTtcclxuXHJcblx0XHRcdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xyXG5cdFx0XHQvLyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGZsb3dfaWQsIGluc3RhbmNlLCBjdXJyZW50X2FwcHJvdmUsICdjY19zdWJtaXQnLCBjdXJyZW50X3VzZXJfaWQsIFtdKTtcclxuXHRcdH1cclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjY19yZW1vdmU6IGZ1bmN0aW9uIChpbnN0YW5jZUlkLCBhcHByb3ZlSWQpIHtcclxuXHRcdHZhciBzZXRPYmogPSB7fTtcclxuXHJcblx0XHR2YXIgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMSxcclxuXHRcdFx0XHRjY191c2VyczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XHJcblx0XHR2YXIgdHJhY2VfaWQsIHJlbW92ZV91c2VyX2lkLCBtdWx0aSA9IGZhbHNlO1xyXG5cclxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdGlmIChhLl9pZCA9PSBhcHByb3ZlSWQpIHtcclxuXHRcdFx0XHRcdFx0dHJhY2VfaWQgPSBhLnRyYWNlO1xyXG5cdFx0XHRcdFx0XHRyZW1vdmVfdXNlcl9pZCA9IGEuaGFuZGxlcjtcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdGlmICghdHJhY2VfaWQgfHwgIXJlbW92ZV91c2VyX2lkKVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdFx0dmFyIG11bHRpID0gMDtcclxuXHRcdHRyYWNlcy5mb3JFYWNoKGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdGlmICh0LmFwcHJvdmVzKSB7XHJcblx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhKSB7XHJcblx0XHRcdFx0XHRpZiAoYS5oYW5kbGVyID09IHJlbW92ZV91c2VyX2lkICYmIGEudHlwZSA9PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT0gZmFsc2UpIHtcclxuXHRcdFx0XHRcdFx0bXVsdGkrKztcclxuXHRcdFx0XHRcdH1cclxuXHRcdFx0XHR9KTtcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0aWYgKG11bHRpID4gMSkge1xyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0J3RyYWNlcy5faWQnOiB0cmFjZV9pZFxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0JHNldDogc2V0T2JqXHJcblx0XHRcdH0pO1xyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdCd0cmFjZXMuX2lkJzogdHJhY2VfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdCRzZXQ6IHNldE9iaixcclxuXHRcdFx0XHQkcHVsbDoge1xyXG5cdFx0XHRcdFx0Y2NfdXNlcnM6IHJlbW92ZV91c2VyX2lkXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdH1cclxuXHJcblxyXG5cdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHJlbW92ZV91c2VyX2lkKTtcclxuXHRcdHJldHVybiB0cnVlO1xyXG5cdH0sXHJcblxyXG5cdGNjX3NhdmU6IGZ1bmN0aW9uIChpbnNfaWQsIGRlc2NyaXB0aW9uKSB7XHJcblx0XHR2YXIgc2V0T2JqID0ge307XHJcblxyXG5cdFx0dmFyIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHRyYWNlczogMVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHRcdHZhciB0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXM7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2lkID0gdGhpcy51c2VySWQ7XHJcblxyXG5cdFx0dmFyIGN1cnJlbnRfYXBwcm92ZTtcclxuXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHQuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYS5oYW5kbGVyID09IGN1cnJlbnRfdXNlcl9pZCAmJiBhLnR5cGUgPT0gJ2NjJyAmJiBhLmlzX2ZpbmlzaGVkID09IGZhbHNlKSB7XHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfYXBwcm92ZSA9IGE7XHJcblx0XHRcdFx0XHRcdHZhciB1cG9iaiA9IHt9O1xyXG5cdFx0XHRcdFx0XHR1cG9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwic3VibWl0dGVkXCI7XHJcblx0XHRcdFx0XHRcdHVwb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRcdF9pZDogaW5zX2lkLFxyXG5cdFx0XHRcdFx0XHRcdCd0cmFjZXMuX2lkJzogdC5faWRcclxuXHRcdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHRcdCRzZXQ6IHVwb2JqXHJcblx0XHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdHZhciBpbmRleCA9IDA7XHJcblxyXG5cdFx0Ly/orr7nva7mhI/op4HvvIzmhI/op4Hlj6rmt7vliqDliLDmnIDlkI7kuIDmnaFhcHByb3Zl5LitXHJcblx0XHR0cmFjZXMuZm9yRWFjaChmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAoY3VycmVudF9hcHByb3ZlICYmIHQuX2lkID09PSBjdXJyZW50X2FwcHJvdmUudHJhY2UpIHtcclxuXHRcdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdFx0dC5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uIChhLCBpZHgpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGEuX2lkID09PSBjdXJyZW50X2FwcHJvdmUuX2lkKSB7XHJcblx0XHRcdFx0XHRcdFx0aW5kZXggPSBpZHg7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaW5kZXggKyAnLmRlc2NyaXB0aW9uJ10gPSBkZXNjcmlwdGlvbjtcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0X2lkOiBpbnNfaWQsXHJcblx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF9hcHByb3ZlLnRyYWNlXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0fSk7XHJcblxyXG5cdFx0cmV0dXJuIHRydWU7XHJcblx0fVxyXG59KSIsIk1ldGVvci5tZXRob2RzKHtcclxuXHQvLyDmlLnkuLrpgJrov4dhcGnosIPnlKhcclxuXHRmb3J3YXJkX2luc3RhbmNlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHNwYWNlX2lkLCBmbG93X2lkLCBoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIGRlc2NyaXB0aW9uLCBpc0ZvcndhcmRBdHRhY2htZW50cywgc2VsZWN0ZWRVc2VycywgYWN0aW9uX3R5cGUsIHJlbGF0ZWQsIGZyb21fYXBwcm92ZV9pZCkge1xyXG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignbm90LWF1dGhvcml6ZWQnKTtcclxuXHJcblx0XHRyZXR1cm47XHJcblx0fSxcclxuXHJcblxyXG5cdGZvcndhcmRfcmVtb3ZlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIHRyYWNlX2lkLCBhcHByb3ZlX2lkKSB7XHJcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKHRyYWNlX2lkLCBTdHJpbmcpO1xyXG5cdFx0Y2hlY2soYXBwcm92ZV9pZCwgU3RyaW5nKTtcclxuXHJcblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xyXG5cclxuXHRcdGlmICghaW5zKSB7XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3BhcmFtcyBlcnJvciEnLCAncmVjb3JkIG5vdCBleGlzdHMhJyk7XHJcblx0XHR9XHJcblxyXG5cdFx0dmFyIHRyYWNlID0gXy5maW5kKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdHJldHVybiB0Ll9pZCA9PSB0cmFjZV9pZDtcclxuXHRcdH0pO1xyXG5cclxuXHRcdHZhciBhcHByb3ZlID0gXy5maW5kKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbiAoYXBwcikge1xyXG5cdFx0XHRyZXR1cm4gYXBwci5faWQgPT0gYXBwcm92ZV9pZDtcclxuXHRcdH0pXHJcblxyXG5cdFx0dmFyIGhhc0FkbWluUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNGbG93QWRtaW5QZXJtaXNzaW9uKGlucy5mbG93LCBpbnMuc3BhY2UsIHRoaXMudXNlcklkKVxyXG5cclxuXHRcdGlmICghYXBwcm92ZSB8fCAhWydmb3J3YXJkJywgJ2Rpc3RyaWJ1dGUnXS5pbmNsdWRlcyhhcHByb3ZlLnR5cGUpIHx8ICFhcHByb3ZlLmZvcndhcmRfaW5zdGFuY2UpIHtcclxuXHRcdFx0aWYgKCFoYXNBZG1pblBlcm1pc3Npb24pIHtcclxuXHRcdFx0XHRpZiAoYXBwcm92ZS5mcm9tX3VzZXIgIT0gdGhpcy51c2VySWQpXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCAnaW5zdGFuY2VfZm9yd2FyZF9jYW5ub3RfY2FuY2VsJyk7XHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGFwcHJvdmUuZm9yd2FyZF9pbnN0YW5jZTtcclxuXHRcdHZhciBmb3J3YXJkX2luc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoZm9yd2FyZF9pbnN0YW5jZV9pZCk7XHJcblx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZSkge1xyXG5cdFx0XHRpZiAoZm9yd2FyZF9pbnN0YW5jZS5zdGF0ZSAhPSBcImRyYWZ0XCIpIHtcclxuXHRcdFx0XHRpZiAoIWhhc0FkbWluUGVybWlzc2lvbilcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsICdpbnN0YW5jZV9mb3J3YXJkX2luc3RhbmNlX3N0YXRlX2NoYW5nZWQnKTtcclxuXHRcdFx0fVxyXG5cdFx0XHR2YXIgaW5ib3hfdXNlcnMgPSBmb3J3YXJkX2luc3RhbmNlLmluYm94X3VzZXJzIHx8IFtdO1xyXG5cclxuXHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkID0gbmV3IERhdGUoKTtcclxuXHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHZhciBkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQgPSBkYi5kZWxldGVkX2luc3RhbmNlcy5pbnNlcnQoZm9yd2FyZF9pbnN0YW5jZSk7XHJcblx0XHRcdGlmIChkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQpIHtcclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKHtcclxuXHRcdFx0XHRcdF9pZDogZm9yd2FyZF9pbnN0YW5jZV9pZFxyXG5cdFx0XHRcdH0pO1xyXG5cclxuXHRcdFx0XHQvLyDliKDpmaTnlLPor7fljZXlkI7ph43mlrDorqHnrpdpbmJveF91c2Vyc+eahGJhZGdlXHJcblx0XHRcdFx0Xy5lYWNoKGluYm94X3VzZXJzLCBmdW5jdGlvbiAodV9pZCkge1xyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVfaWQpO1xyXG5cdFx0XHRcdH0pXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHR2YXIgc2V0X29iaiA9IG5ldyBPYmplY3Q7XHJcblx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHJcblx0XHRfLmVhY2godHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uIChhcHByLCBpZHgpIHtcclxuXHRcdFx0aWYgKGFwcHIuX2lkID09IGFwcHJvdmVfaWQpIHtcclxuXHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnO1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2ZpbmlzaGVkJ10gPSB0cnVlO1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWU7XHJcblx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRfaWQ6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VfaWRcclxuXHRcdH0sIHtcclxuXHRcdFx0JHNldDogc2V0X29ialxyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZTtcclxuXHR9LFxyXG5cclxuXHRjYW5jZWxEaXN0cmlidXRlOiBmdW5jdGlvbiAoaW5zdGFuY2VfaWQsIGFwcHJvdmVfaWRzKSB7XHJcblx0XHRjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soYXBwcm92ZV9pZHMsIEFycmF5KVxyXG5cclxuXHRcdHZhciBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9pZClcclxuXHJcblx0XHRpZiAoIWlucykge1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpXHJcblx0XHR9XHJcblxyXG5cdFx0dXNlcklkID0gdGhpcy51c2VySWRcclxuXHJcblx0XHR2YXIgaGFzQWRtaW5QZXJtaXNzaW9uID0gV29ya2Zsb3dNYW5hZ2VyLmhhc0Zsb3dBZG1pblBlcm1pc3Npb24oaW5zLmZsb3csIGlucy5zcGFjZSwgdXNlcklkKVxyXG5cclxuXHRcdF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbiAodCkge1xyXG5cdFx0XHRpZiAodC5hcHByb3Zlcykge1xyXG5cdFx0XHRcdHZhciBleGlzdHMgPSBmYWxzZVxyXG5cdFx0XHRcdHZhciBzZXRfb2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbiAoYSwgaWR4KSB7XHJcblx0XHRcdFx0XHRpZiAoYXBwcm92ZV9pZHMuaW5jbHVkZXMoYS5faWQpICYmIChhLmZyb21fdXNlciA9PSB1c2VySWQgfHwgaGFzQWRtaW5QZXJtaXNzaW9uKSAmJiAnZGlzdHJpYnV0ZScgPT0gYS50eXBlICYmIGEuZm9yd2FyZF9pbnN0YW5jZSkge1xyXG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGEuZm9yd2FyZF9pbnN0YW5jZVxyXG5cdFx0XHRcdFx0XHR2YXIgZm9yd2FyZF9pbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGZvcndhcmRfaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0XHRcdGlmIChmb3J3YXJkX2luc3RhbmNlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGZvcndhcmRfaW5zdGFuY2Uuc3RhdGUgIT0gXCJkcmFmdFwiKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0dmFyIGluYm94X3VzZXJzID0gZm9yd2FyZF9pbnN0YW5jZS5pbmJveF91c2VycyB8fCBbXVxyXG5cclxuXHRcdFx0XHRcdFx0XHRmb3J3YXJkX2luc3RhbmNlLmRlbGV0ZWQgPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHRcdFx0Zm9yd2FyZF9pbnN0YW5jZS5kZWxldGVkX2J5ID0gdXNlcklkXHJcblx0XHRcdFx0XHRcdFx0dmFyIGRlbGV0ZWRfZm9yd2FyZF9pbnN0YW5jZV9pZCA9IGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChmb3J3YXJkX2luc3RhbmNlKVxyXG5cdFx0XHRcdFx0XHRcdGlmIChkZWxldGVkX2ZvcndhcmRfaW5zdGFuY2VfaWQpIHtcclxuXHRcdFx0XHRcdFx0XHRcdGRiLmluc3RhbmNlcy5yZW1vdmUoe1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRfaWQ6IGZvcndhcmRfaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0Ly8g5Yig6Zmk55Sz6K+35Y2V5ZCO6YeN5paw6K6h566XaW5ib3hfdXNlcnPnmoRiYWRnZVxyXG5cdFx0XHRcdFx0XHRcdFx0Xy5lYWNoKGluYm94X3VzZXJzLCBmdW5jdGlvbiAodV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdV9pZClcclxuXHRcdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gJ3Rlcm1pbmF0ZWQnXHJcblx0XHRcdFx0XHRcdFx0c2V0X29ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5maW5pc2hfZGF0ZSddID0gbmV3IERhdGUoKVxyXG5cdFx0XHRcdFx0XHRcdHNldF9vYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRzZXRfb2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0ZXhpc3RzID0gdHJ1ZVxyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH0pXHJcblxyXG5cdFx0XHRcdGlmICghZXhpc3RzKVxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHVzZXJJZFxyXG5cclxuXHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdC5faWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiBzZXRfb2JqXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0fSlcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdH1cclxuXHJcblxyXG59KSIsIk1ldGVvci5tZXRob2RzKHtcclxuICAgIGNmc19pbnN0YW5jZXNfcmVtb3ZlOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xyXG4gICAgICAgIGNoZWNrKGZpbGVfaWQsIFN0cmluZyk7XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy5yZW1vdmUoZmlsZV9pZCk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIGNmc19pbnN0YW5jZXNfc2V0X2N1cnJlbnQ6IGZ1bmN0aW9uIChmaWxlX2lkKSB7XHJcbiAgICAgICAgY2hlY2soZmlsZV9pZCwgU3RyaW5nKTtcclxuICAgICAgICBjZnMuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcbiAgICAgICAgICAgIF9pZDogZmlsZV9pZFxyXG4gICAgICAgIH0sIHtcclxuICAgICAgICAgICAgJHNldDoge1xyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9KTtcclxuICAgICAgICByZXR1cm4gdHJ1ZTtcclxuICAgIH0sXHJcblxyXG4gICAgY2ZzX2luc3RhbmNlc19sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCwgdXNlcl9pZCwgdXNlcl9uYW1lKSB7XHJcbiAgICAgICAgY2ZzLmluc3RhbmNlcy51cGRhdGUoe1xyXG4gICAgICAgICAgICBfaWQ6IGZpbGVfaWRcclxuICAgICAgICB9LCB7XHJcbiAgICAgICAgICAgICRzZXQ6IHtcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnknOiB1c2VyX2lkLFxyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF9ieV9uYW1lJzogdXNlcl9uYW1lLFxyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogbmV3IERhdGUoKVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSk7XHJcbiAgICAgICAgcmV0dXJuIHRydWU7XHJcbiAgICB9LFxyXG5cclxuICAgIGNmc19pbnN0YW5jZXNfdW5sb2NrOiBmdW5jdGlvbiAoZmlsZV9pZCkge1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMudXBkYXRlKHtcclxuICAgICAgICAgICAgX2lkOiBmaWxlX2lkXHJcbiAgICAgICAgfSwge1xyXG4gICAgICAgICAgICAkdW5zZXQ6IHtcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnknOiAnJyxcclxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5sb2NrZWRfYnlfbmFtZSc6ICcnLFxyXG4gICAgICAgICAgICAgICAgJ21ldGFkYXRhLmxvY2tlZF90aW1lJzogJydcclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIH0pO1xyXG4gICAgICAgIHJldHVybiB0cnVlO1xyXG4gICAgfSxcclxuXHJcbiAgICBkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiBmdW5jdGlvbiAoc3BhY2VJZCwgY2ZzUmVjb3JkSWRzKSB7XHJcbiAgICAgICAgaWYgKCF0aGlzLnVzZXJJZClcclxuICAgICAgICAgICAgcmV0dXJuIFwi5LiN56ym5ZCI5omn6KGM5p2h5Lu2XCJcclxuXHJcbiAgICAgICAgaWYgKE1ldGVvci51c2Vycy5maW5kKHtcclxuICAgICAgICAgICAgICAgIF9pZDogdGhpcy51c2VySWQsXHJcbiAgICAgICAgICAgICAgICBpc19jbG91ZGFkbWluOiB0cnVlXHJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPCAxKVxyXG4gICAgICAgICAgICByZXR1cm4gXCLkuI3nrKblkIjmiafooYzmnaHku7ZcIlxyXG5cclxuICAgICAgICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xyXG5cclxuICAgICAgICB2YXIgc3RvcmUgPSBcImluc3RhbmNlc1wiO1xyXG4gICAgICAgIHZhciBmcyA9IHJlcXVpcmUoJ2ZzJyk7XHJcbiAgICAgICAgdmFyIHBhdGggPSByZXF1aXJlKCdwYXRoJyk7XHJcbiAgICAgICAgdmFyIG1rZGlycCA9IHJlcXVpcmUoJ21rZGlycCcpO1xyXG4gICAgICAgIHZhciBwYXRobmFtZSA9IHBhdGguam9pbihfX21ldGVvcl9ib290c3RyYXBfXy5zZXJ2ZXJEaXIsICcuLi8uLi8uLi9jZnMvc3BhY2VJbnN0YW5jZUF0dGFjaG1lbnRzJyk7XHJcbiAgICAgICAgLy8gU2V0IGFic29sdXRlIHBhdGhcclxuICAgICAgICB2YXIgYWJzb2x1dGVQYXRoID0gcGF0aC5yZXNvbHZlKHBhdGhuYW1lKTtcclxuICAgICAgICAvLyBFbnN1cmUgdGhlIHBhdGggZXhpc3RzXHJcbiAgICAgICAgbWtkaXJwLnN5bmMoYWJzb2x1dGVQYXRoKTtcclxuICAgICAgICBjb25zb2xlLmxvZygnYWJzb2x1dGVQYXRoOiAnLCBhYnNvbHV0ZVBhdGgpO1xyXG4gICAgICAgIGNvbnNvbGUudGltZSgnZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzaycpO1xyXG4gICAgICAgIHZhciBxdWVyeSA9IHtcclxuICAgICAgICAgICAgJ21ldGFkYXRhLnNwYWNlJzogc3BhY2VJZFxyXG4gICAgICAgIH1cclxuICAgICAgICBpZiAoY2ZzUmVjb3JkSWRzKSB7XHJcbiAgICAgICAgICAgIHF1ZXJ5Ll9pZCA9IHtcclxuICAgICAgICAgICAgICAgICRpbjogY2ZzUmVjb3JkSWRzXHJcbiAgICAgICAgICAgIH07XHJcbiAgICAgICAgfVxyXG4gICAgICAgIHZhciBkb3dubG9hZEZhaWxlZFJlY29yZElkcyA9IFtdO1xyXG4gICAgICAgIGNmcy5pbnN0YW5jZXMuZmluZChxdWVyeSkuZm9yRWFjaChmdW5jdGlvbiAoYykge1xyXG4gICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVOYW1lID0gc3RvcmUgKyAnLScgKyBjLl9pZCArICctJyArIGMubmFtZSgpO1xyXG4gICAgICAgICAgICAgICAgdmFyIGZpbGVQYXRoID0gcGF0aC5qb2luKGFic29sdXRlUGF0aCwgZmlsZU5hbWUpO1xyXG4gICAgICAgICAgICAgICAgTWV0ZW9yLndyYXBBc3luYyhmdW5jdGlvbiAoY2FsbGJhY2spIHtcclxuICAgICAgICAgICAgICAgICAgICB0cnkge1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB2YXIgd3JpdGVyID0gZnMuY3JlYXRlV3JpdGVTdHJlYW0oZmlsZVBhdGgpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3cml0ZXIub24oJ2ZpbmlzaCcsIGZ1bmN0aW9uICgpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKVxyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNhbGxiYWNrKClcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9KTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdmFyIHJlYWRlciA9IGMuY3JlYXRlUmVhZFN0cmVhbShzdG9yZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5vbignZXJyb3InLCBmdW5jdGlvbiAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRvd25sb2FkRmFpbGVkUmVjb3JkSWRzLnB1c2goYy5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcihlcnJvci5zdGFjayk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoY2FsbGJhY2sgJiYgXy5pc0Z1bmN0aW9uKGNhbGxiYWNrKSlcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm5cclxuICAgICAgICAgICAgICAgICAgICAgICAgfSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJlYWRlci5waXBlKHdyaXRlcik7XHJcbiAgICAgICAgICAgICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgY29uc29sZS5lcnJvcignZG93bmxvYWRfc3BhY2VfaW5zdGFuY2VfYXR0YWNobWVudHNfdG9fZGlzazogJywgYy5faWQpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgaWYgKGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaykpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBjYWxsYmFjaygpXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVyblxyXG4gICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIH0pKClcclxuXHJcbiAgICAgICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrOiAnLCBjLl9pZCk7XHJcbiAgICAgICAgICAgICAgICBjb25zb2xlLmVycm9yKGVycm9yLnN0YWNrKTtcclxuICAgICAgICAgICAgfVxyXG5cclxuICAgICAgICB9KVxyXG5cclxuICAgICAgICBpZiAoZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMubGVuZ3RoID4gMCkge1xyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yKCdkb3dubG9hZEZhaWxlZFJlY29yZElkczogJyk7XHJcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZG93bmxvYWRGYWlsZWRSZWNvcmRJZHMpO1xyXG4gICAgICAgIH1cclxuXHJcbiAgICAgICAgY29uc29sZS50aW1lRW5kKCdkb3dubG9hZF9zcGFjZV9pbnN0YW5jZV9hdHRhY2htZW50c190b19kaXNrJyk7XHJcblxyXG4gICAgICAgIHJldHVybiBkb3dubG9hZEZhaWxlZFJlY29yZElkcztcclxuICAgIH1cclxufSkiLCJNZXRlb3IubWV0aG9kc1xyXG5cdHNldF9hcHByb3ZlX2hhdmVfcmVhZDogKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkgLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRzZWxmID0gdGhpc1xyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblxyXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxyXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHRzZXRPYmogPSB7XHJcblx0XHRcdFx0bW9kaWZpZWQ6IG5ldyBEYXRlLFxyXG5cdFx0XHRcdG1vZGlmaWVkX2J5OiBzZWxmLnVzZXJJZFxyXG5cdFx0XHR9XHJcblx0XHRcdHRyYWNlLmFwcHJvdmVzLmZvckVhY2ggKGFwcHJvdmUsIGlkeCkgLT5cclxuXHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBhcHByb3ZlSWQgJiYgIWFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmlzX3JlYWRcIl0gPSB0cnVlXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdGNoYW5nZV9hcHByb3ZlX2luZm86IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIGRlc2NyaXB0aW9uLCBmaW5pc2hfZGF0ZSkgLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHRcdGNoZWNrKGluc3RhbmNlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHRyYWNlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKGFwcHJvdmVJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcclxuXHRcdGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKVxyXG5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IGluc3RhbmNlSWQsIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkIH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblxyXG5cdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxyXG5cdFx0XHR0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXVxyXG5cdFx0XHRzZXRPYmogPSB7fVxyXG5cdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XHJcblx0XHRcdFx0aWYgYXBwcm92ZS5faWQgPT0gYXBwcm92ZUlkXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0aWYgbm90IF8uaXNFbXB0eShzZXRPYmopXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XHRcInRyYWNlcy5faWRcIjogdHJhY2VJZFxyXG5cdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cdHVwZGF0ZV9hcHByb3ZlX3NpZ246IChpbnN0YW5jZUlkLCB0cmFjZUlkLCBhcHByb3ZlSWQsIHNpZ25fZmllbGRfY29kZSwgZGVzY3JpcHRpb24sIHNpZ25fdHlwZSwgbGFzdFNpZ25BcHByb3ZlKS0+XHJcblx0XHRjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayh0cmFjZUlkLCBTdHJpbmcpXHJcblx0XHRjaGVjayhhcHByb3ZlSWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZylcclxuXHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0c2Vzc2lvbl91c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cclxuXHRcdGlmIGxhc3RTaWduQXBwcm92ZVxyXG5cclxuXHRcdFx0aWYgbGFzdFNpZ25BcHByb3ZlLmN1c3RvbV9zaWduX3Nob3dcclxuXHRcdFx0XHRyZXR1cm5cclxuXHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xyXG5cdFx0XHRcdF9pZDogaW5zdGFuY2VJZCxcclxuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogbGFzdFNpZ25BcHByb3ZlLnRyYWNlXHJcblx0XHRcdH0sIHsgZmllbGRzOiB7IFwidHJhY2VzLiRcIjogMSB9IH0pXHJcblxyXG5cdFx0XHRsYXN0VHJhY2UgPSBfLmZpbmQgaW5zdGFuY2U/LnRyYWNlcywgKHQpIC0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlXHJcblxyXG5cdFx0XHRpZiBsYXN0VHJhY2VcclxuXHRcdFx0XHRzZXRPYmogPSB7fVxyXG5cdFx0XHRcdGxhc3RUcmFjZT8uYXBwcm92ZXMuZm9yRWFjaCAoYSwgaWR4KSAtPlxyXG5cdFx0XHRcdFx0aWYgYS5faWQgPT0gbGFzdFNpZ25BcHByb3ZlLl9pZFxyXG5cdFx0XHRcdFx0XHRpZiBzaWduX3R5cGUgPT0gXCJ1cGRhdGVcIlxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZFwiXSA9IG5ldyBEYXRlKClcclxuXHRcdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZFxyXG5cclxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcclxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRfaWQ6IGluc3RhbmNlSWQsXHJcblx0XHRcdFx0XHRcdFwidHJhY2VzLl9pZFwiOiBsYXN0VHJhY2UuX2lkXHJcblx0XHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRcdCRzZXQ6IHNldE9ialxyXG5cdFx0XHRcdFx0fSlcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZUlkLCBcInRyYWNlcy5faWRcIjogdHJhY2VJZCB9LCB7IGZpZWxkczogeyBcInRyYWNlcy4kXCI6IDEgfSB9KVxyXG5cclxuXHRcdGlmIGluc3RhbmNlPy50cmFjZXM/Lmxlbmd0aCA+IDBcclxuXHJcblx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXHJcblx0XHRcdHVwT2JqID0ge31cclxuXHRcdFx0dHJhY2UuYXBwcm92ZXMuZm9yRWFjaCAoYXBwcm92ZSwgaWR4KSAtPlxyXG5cdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IGFwcHJvdmVJZFxyXG5cdFx0XHRcdFx0aWYgc2lnbl9maWVsZF9jb2RlXHJcblx0XHRcdFx0XHRcdHVwT2JqW1widHJhY2VzLiQuYXBwcm92ZXMuI3tpZHh9LnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZVxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvblxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0uc2lnbl9zaG93XCJdID0gdHJ1ZVxyXG5cdFx0XHRcdFx0dXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ubW9kaWZpZWRcIl0gPSBuZXcgRGF0ZSgpXHJcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkXHJcblx0XHRcdFx0XHR1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0XHRpZiBub3QgXy5pc0VtcHR5KHVwT2JqKVxyXG5cdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0X2lkOiBpbnN0YW5jZUlkLFxyXG5cdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHQkc2V0OiB1cE9ialxyXG5cdFx0XHRcdH0pXHJcblx0XHRcdHJldHVybiB0cnVlXHJcblxyXG5cclxuXHR1cGRhdGVfc2lnbl9zaG93OiAob2JqcywgbXlBcHByb3ZlX2lkKSAtPlxyXG5cdFx0b2Jqcy5mb3JFYWNoIChvYmosIGluZGV4KSAtPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHsgX2lkOiBvYmouaW5zdGFuY2UsIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2UgfSwgeyBmaWVsZHM6IHsgXCJ0cmFjZXMuJFwiOiAxIH0gfSlcclxuXHRcdFx0aWYgaW5zdGFuY2U/LnRyYWNlcz8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdXHJcblx0XHRcdFx0c2V0T2JqID0ge31cclxuXHRcdFx0XHR0cmFjZS5hcHByb3Zlcy5mb3JFYWNoIChhcHByb3ZlLCBpZHgpIC0+XHJcblx0XHRcdFx0XHRpZiBhcHByb3ZlLl9pZCA9PSBvYmouX2lkXHJcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5zaWduX3Nob3dcIl0gPSBvYmouc2lnbl9zaG93XHJcblx0XHRcdFx0XHRcdHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLiN7aWR4fS5jdXN0b21fc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvd1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0XHRcdGlmIGFwcHJvdmUuX2lkID09IG15QXBwcm92ZV9pZFxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy4je2lkeH0ucmVhZF9kYXRlXCJdID0gbmV3IERhdGUoKVxyXG5cclxuXHRcdFx0XHRpZiBub3QgXy5pc0VtcHR5KHNldE9iailcclxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHRfaWQ6IG9iai5pbnN0YW5jZSxcclxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxyXG5cdFx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0XHQkc2V0OiBzZXRPYmpcclxuXHRcdFx0XHRcdH0pXHJcblxyXG5cdFx0cmV0dXJuIHRydWVcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBzZXRfYXBwcm92ZV9oYXZlX3JlYWQ6IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCBzZWxmLCBzZXRPYmosIHRyYWNlO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc2VsZiA9IHRoaXM7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICB0cmFjZSA9IGluc3RhbmNlLnRyYWNlc1swXTtcbiAgICAgIHNldE9iaiA9IHtcbiAgICAgICAgbW9kaWZpZWQ6IG5ldyBEYXRlLFxuICAgICAgICBtb2RpZmllZF9ieTogc2VsZi51c2VySWRcbiAgICAgIH07XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCAmJiAhYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5pc19yZWFkXCJdID0gdHJ1ZTtcbiAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIGNoYW5nZV9hcHByb3ZlX2luZm86IGZ1bmN0aW9uKGluc3RhbmNlSWQsIHRyYWNlSWQsIGFwcHJvdmVJZCwgZGVzY3JpcHRpb24sIGZpbmlzaF9kYXRlKSB7XG4gICAgdmFyIGluc3RhbmNlLCByZWYsIHNldE9iaiwgdHJhY2U7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKGRlc2NyaXB0aW9uLCBTdHJpbmcpO1xuICAgIGNoZWNrKGZpbmlzaF9kYXRlLCBEYXRlKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgc2V0T2JqID0ge307XG4gICAgICB0cmFjZS5hcHByb3Zlcy5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUsIGlkeCkge1xuICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IGFwcHJvdmVJZCkge1xuICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuZGVzY3JpcHRpb25cIl0gPSBkZXNjcmlwdGlvbjtcbiAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmZpbmlzaF9kYXRlXCJdID0gZmluaXNoX2RhdGU7XG4gICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5jb3N0X3RpbWVcIl0gPSBuZXcgRGF0ZSgpIC0gYXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgIHJldHVybiBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IHRyYWNlSWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB0cnVlO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2FwcHJvdmVfc2lnbjogZnVuY3Rpb24oaW5zdGFuY2VJZCwgdHJhY2VJZCwgYXBwcm92ZUlkLCBzaWduX2ZpZWxkX2NvZGUsIGRlc2NyaXB0aW9uLCBzaWduX3R5cGUsIGxhc3RTaWduQXBwcm92ZSkge1xuICAgIHZhciBpbnN0YW5jZSwgbGFzdFRyYWNlLCByZWYsIHNlc3Npb25fdXNlcklkLCBzZXRPYmosIHRyYWNlLCB1cE9iajtcbiAgICBjaGVjayhpbnN0YW5jZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHRyYWNlSWQsIFN0cmluZyk7XG4gICAgY2hlY2soYXBwcm92ZUlkLCBTdHJpbmcpO1xuICAgIGNoZWNrKHNpZ25fZmllbGRfY29kZSwgU3RyaW5nKTtcbiAgICBjaGVjayhkZXNjcmlwdGlvbiwgU3RyaW5nKTtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHNlc3Npb25fdXNlcklkID0gdGhpcy51c2VySWQ7XG4gICAgaWYgKGxhc3RTaWduQXBwcm92ZSkge1xuICAgICAgaWYgKGxhc3RTaWduQXBwcm92ZS5jdXN0b21fc2lnbl9zaG93KSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlSWQsXG4gICAgICAgIFwidHJhY2VzLl9pZFwiOiBsYXN0U2lnbkFwcHJvdmUudHJhY2VcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgXCJ0cmFjZXMuJFwiOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgbGFzdFRyYWNlID0gXy5maW5kKGluc3RhbmNlICE9IG51bGwgPyBpbnN0YW5jZS50cmFjZXMgOiB2b2lkIDAsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID0gbGFzdFNpZ25BcHByb3ZlLnRyYWNlO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdFRyYWNlKSB7XG4gICAgICAgIHNldE9iaiA9IHt9O1xuICAgICAgICBpZiAobGFzdFRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICBsYXN0VHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhLCBpZHgpIHtcbiAgICAgICAgICAgIGlmIChhLl9pZCA9PT0gbGFzdFNpZ25BcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgICBpZiAoc2lnbl90eXBlID09PSBcInVwZGF0ZVwiKSB7XG4gICAgICAgICAgICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5zaWduX3Nob3dcIl0gPSBmYWxzZTtcbiAgICAgICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5tb2RpZmllZF9ieVwiXSA9IHNlc3Npb25fdXNlcklkO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKCFfLmlzRW1wdHkoc2V0T2JqKSkge1xuICAgICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBpbnN0YW5jZUlkLFxuICAgICAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IGxhc3RUcmFjZS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgIFwidHJhY2VzLl9pZFwiOiB0cmFjZUlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIFwidHJhY2VzLiRcIjogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICgoaW5zdGFuY2UgIT0gbnVsbCA/IChyZWYgPSBpbnN0YW5jZS50cmFjZXMpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgdXBPYmogPSB7fTtcbiAgICAgIHRyYWNlLmFwcHJvdmVzLmZvckVhY2goZnVuY3Rpb24oYXBwcm92ZSwgaWR4KSB7XG4gICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gYXBwcm92ZUlkKSB7XG4gICAgICAgICAgaWYgKHNpZ25fZmllbGRfY29kZSkge1xuICAgICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fZmllbGRfY29kZVwiXSA9IHNpZ25fZmllbGRfY29kZTtcbiAgICAgICAgICB9XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLmRlc2NyaXB0aW9uXCJdID0gZGVzY3JpcHRpb247XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnNpZ25fc2hvd1wiXSA9IHRydWU7XG4gICAgICAgICAgdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLm1vZGlmaWVkXCJdID0gbmV3IERhdGUoKTtcbiAgICAgICAgICB1cE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIubW9kaWZpZWRfYnlcIl0gPSBzZXNzaW9uX3VzZXJJZDtcbiAgICAgICAgICByZXR1cm4gdXBPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCFfLmlzRW1wdHkodXBPYmopKSB7XG4gICAgICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VJZCxcbiAgICAgICAgICBcInRyYWNlcy5faWRcIjogdHJhY2VJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogdXBPYmpcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9XG4gIH0sXG4gIHVwZGF0ZV9zaWduX3Nob3c6IGZ1bmN0aW9uKG9ianMsIG15QXBwcm92ZV9pZCkge1xuICAgIG9ianMuZm9yRWFjaChmdW5jdGlvbihvYmosIGluZGV4KSB7XG4gICAgICB2YXIgaW5zdGFuY2UsIHJlZiwgc2V0T2JqLCB0cmFjZTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgXCJ0cmFjZXMuX2lkXCI6IG9iai50cmFjZVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBcInRyYWNlcy4kXCI6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAoKGluc3RhbmNlICE9IG51bGwgPyAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgIHRyYWNlID0gaW5zdGFuY2UudHJhY2VzWzBdO1xuICAgICAgICBzZXRPYmogPSB7fTtcbiAgICAgICAgdHJhY2UuYXBwcm92ZXMuZm9yRWFjaChmdW5jdGlvbihhcHByb3ZlLCBpZHgpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS5faWQgPT09IG9iai5faWQpIHtcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuc2lnbl9zaG93XCJdID0gb2JqLnNpZ25fc2hvdztcbiAgICAgICAgICAgIHNldE9ialtcInRyYWNlcy4kLmFwcHJvdmVzLlwiICsgaWR4ICsgXCIuY3VzdG9tX3NpZ25fc2hvd1wiXSA9IG9iai5zaWduX3Nob3c7XG4gICAgICAgICAgICBzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChhcHByb3ZlLl9pZCA9PT0gbXlBcHByb3ZlX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXMuXCIgKyBpZHggKyBcIi5yZWFkX2RhdGVcIl0gPSBuZXcgRGF0ZSgpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmICghXy5pc0VtcHR5KHNldE9iaikpIHtcbiAgICAgICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgICBfaWQ6IG9iai5pbnN0YW5jZSxcbiAgICAgICAgICAgIFwidHJhY2VzLl9pZFwiOiBvYmoudHJhY2VcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0aW5zdGFuY2VfcmV0dXJuOiAoYXBwcm92ZSwgcmVhc29uKS0+XHJcblx0XHRjaGVjayhhcHByb3ZlLCBPYmplY3QpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gdGhpcy51c2VySWRcclxuXHRcdGluc3RhbmNlX2lkID0gYXBwcm92ZS5pbnN0YW5jZVxyXG5cclxuXHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRzcGFjZV9pZCA9IGlucy5zcGFjZVxyXG5cclxuXHRcdCMgLSDlvoXlrqHmoLjnrrFcclxuXHRcdGlmIGlucy5zdGF0ZSBpc250IFwicGVuZGluZ1wiIG9yICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdCMgLSDmlofku7bkuI3mmK/kvKDpmIVcclxuXHRcdGlmIGFwcHJvdmUudHlwZSBpcyBcImNjXCIgYW5kIGlucy5jY191c2Vycy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblxyXG5cdFx0IyAtIOetvuaguOWOhueoi+S4reW9k+WJjeatpemqpOS4iuS4gOatpemqpOS4jeaYr+S8muetvlxyXG5cdFx0aWYgaW5zLnRyYWNlcy5sZW5ndGggPCAyXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpXHJcblx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KVxyXG5cdFx0cHJlX3RyYWNlID0gaW5zLnRyYWNlc1tpbnMudHJhY2VzLmxlbmd0aCAtIDJdXHJcblx0XHRwcmVfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIHByZV90cmFjZS5zdGVwKVxyXG5cdFx0aWYgcHJlX3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdCMgLSDlvZPliY3mraXpqqTkuLrloavlhpnmiJbogIXlrqHmiblcclxuXHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcylcclxuXHRcdGN1cnJlbnRfc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGxhc3RfdHJhY2Uuc3RlcClcclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcInN1Ym1pdFwiIGFuZCBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzbnQgXCJzaWduXCIgYW5kIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgaXNudCBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIilcclxuXHJcblx0XHQjIC0g5Y+C5pWwYXBwcm92ZeS4rXRyYWNl5LiO5b2T5YmN6I635Y+W55qEdHJhY2XmmK/lkKbljLnphY1cclxuXHRcdGlmIGFwcHJvdmUudHJhY2UgaXNudCBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKVxyXG5cclxuXHRcdG5ld19pbmJveF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoIHByZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0aWYgKCFhLnR5cGUgb3IgYS50eXBlIGlzIFwiZHJhZnRcIiBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIilcclxuXHRcdFx0XHRuZXdfaW5ib3hfdXNlcnMucHVzaChhLnVzZXIpXHJcblxyXG5cdFx0aWYgXy5pc0VtcHR5KG5ld19pbmJveF91c2VycylcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDkuIvkuIDmraXlpITnkIbkurrvvIzpgIDlm57lpLHotKVcIilcclxuXHJcblx0XHR0cmFjZXMgPSBpbnMudHJhY2VzXHJcblxyXG5cdFx0YXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pXHJcblxyXG5cdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdHJlc3RfY291bnRlcl91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoIHRyYWNlcywgKHQpLT5cclxuXHRcdFx0aWYgdC5faWQgaXMgbGFzdF90cmFjZS5faWRcclxuXHRcdFx0XHRpZiBub3QgdC5hcHByb3Zlc1xyXG5cdFx0XHRcdFx0dC5hcHByb3ZlcyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYSwgaWR4KS0+XHJcblx0XHRcdFx0XHRpZiAoIWEudHlwZSBvciBhLnR5cGUgaXMgXCJyZWFzc2lnblwiKSBhbmQgKCFhLmp1ZGdlIG9yIGEuanVkZ2UgaXMgXCJzdWJtaXR0ZWRcIiBvciBhLmp1ZGdlIGlzIFwiYXBwcm92ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVqZWN0ZWRcIiBvciBhLmp1ZGdlIGlzIFwicmVhZGVkXCIpIGFuZCBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmZpbmlzaF9kYXRlJ10gPSBub3dcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5yZWFkX2RhdGUnXSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX3JlYWQnXSA9IHRydWVcclxuXHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5pc19maW5pc2hlZCddID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcudmFsdWVzJ10gPSBhcHByb3ZlX3ZhbHVlc1xyXG5cdFx0XHRcdFx0XHRpZiBhLmhhbmRsZXIgaXMgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5qdWRnZSddID0gXCJyZXR1cm5lZFwiXHJcblx0XHRcdFx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy5kZXNjcmlwdGlvbiddID0gcmVhc29uXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRyZXN0X2NvdW50ZXJfdXNlcnMucHVzaCBhLmhhbmRsZXJcclxuXHJcblx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxyXG5cdFx0XHRcdHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWVcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmZpbmlzaF9kYXRlJ10gPSB0cnVlXHJcblx0XHRcdFx0c2V0T2JqWyd0cmFjZXMuJC5qdWRnZSddID0gXCJyZXR1cm5lZFwiXHJcblxyXG5cdFx0aW5zLnZhbHVlcyA9IF8uZXh0ZW5kKChpbnMudmFsdWVzIHx8IHt9KSwgYXBwcm92ZV92YWx1ZXMpXHJcblxyXG5cdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyXHJcblx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdXHJcblx0XHRuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXBcclxuXHRcdG5ld1RyYWNlLm5hbWUgPSBwcmVfdHJhY2UubmFtZVxyXG5cdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3VycylcclxuXHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdF8uZWFjaCBuZXdfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XHJcblx0XHRcdCMg5o+S5YWl5LiL5LiA5q2ldHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcclxuXHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdG5ld0FwcHJvdmUudXNlciA9IG5leHRfc3RlcF91c2VyX2lkXHJcblxyXG5cdFx0XHR1c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKG5leHRfc3RlcF91c2VyX2lkLCB7ZmllbGRzOiB7bmFtZTogMX19KVxyXG5cdFx0XHRuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWRcclxuXHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXHJcblx0XHRcdGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgbmV4dF9zdGVwX3VzZXJfaWQpXHJcblx0XHRcdGlmIGFnZW50XHJcblx0XHRcdFx0bmV3X2luYm94X3VzZXJzW2lkeF0gPSBhZ2VudFxyXG5cdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxyXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudFxyXG5cclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxyXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRuZXh0X3N0ZXBfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBoYW5kbGVyX2lkKVxyXG5cdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXHJcblx0XHRcdG5leHRfc3RlcF91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKG5leHRfc3RlcF9zcGFjZV91c2VyKVxyXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHJcblx0XHRcdG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0bmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnMudmFsdWVzLCBuZXdBcHByb3ZlKVxyXG5cdFx0XHRuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpXHJcblxyXG5cdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3X2luYm94X3VzZXJzXHJcblx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cclxuXHRcdGlucy5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpXHJcblx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGlucy5vdXRib3hfdXNlcnMpXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0c2V0T2JqLnZhbHVlcyA9IGlucy52YWx1ZXNcclxuXHJcblx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmVfdHJhY2UubmFtZVxyXG5cclxuXHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkLCAndHJhY2VzLl9pZCc6IGxhc3RfdHJhY2UuX2lkfSwgeyRzZXQ6IHNldE9ian0pXHJcblx0XHRiID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskcHVzaDoge3RyYWNlczogbmV3VHJhY2V9fSlcclxuXHRcdGlmIHIgJiYgYlxyXG5cdFx0XHQjIOaWsGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxyXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmV0dXJuX3BlbmRpbmdfaW5ib3hcIiwgaW5zdGFuY2UsIHJlYXNvbiwgY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdCMg5aaC5p6c5piv5Lya562+5YiZ57uZ5Lya562+5pyq5o+Q5Lqk55qE5Lq65Y+R6YCBcHVzaFxyXG5cdFx0XHRfLmVhY2ggcmVzdF9jb3VudGVyX3VzZXJzLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0cmV0dXJuIHRydWUiLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JldHVybjogZnVuY3Rpb24oYXBwcm92ZSwgcmVhc29uKSB7XG4gICAgdmFyIGFwcHJvdmVfdmFsdWVzLCBiLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGZsb3csIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBuZXdUcmFjZSwgbmV3X2luYm94X3VzZXJzLCBub3csIHByZV9zdGVwLCBwcmVfdHJhY2UsIHIsIHJlc3RfY291bnRlcl91c2Vycywgc2V0T2JqLCBzcGFjZV9pZCwgdHJhY2VzO1xuICAgIGNoZWNrKGFwcHJvdmUsIE9iamVjdCk7XG4gICAgY3VycmVudF91c2VyID0gdGhpcy51c2VySWQ7XG4gICAgaW5zdGFuY2VfaWQgPSBhcHByb3ZlLmluc3RhbmNlO1xuICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgIHNwYWNlX2lkID0gaW5zLnNwYWNlO1xuICAgIGlmIChpbnMuc3RhdGUgIT09IFwicGVuZGluZ1wiIHx8ICFpbnMuaW5ib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnR5cGUgPT09IFwiY2NcIiAmJiBpbnMuY2NfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChpbnMudHJhY2VzLmxlbmd0aCA8IDIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5LiN56ym5ZCI6YCA5Zue5p2h5Lu2XCIpO1xuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGlucy5mbG93KTtcbiAgICBwcmVfdHJhY2UgPSBpbnMudHJhY2VzW2lucy50cmFjZXMubGVuZ3RoIC0gMl07XG4gICAgcHJlX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBwcmVfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKHByZV9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb3VudGVyU2lnblwiKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeespuWQiOmAgOWbnuadoeS7tlwiKTtcbiAgICB9XG4gICAgbGFzdF90cmFjZSA9IF8ubGFzdChpbnMudHJhY2VzKTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuc3RlcF90eXBlICE9PSBcInN1Ym1pdFwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwic2lnblwiICYmIGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgIT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIGlmIChhcHByb3ZlLnRyYWNlICE9PSBsYXN0X3RyYWNlLl9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3nrKblkIjpgIDlm57mnaHku7ZcIik7XG4gICAgfVxuICAgIG5ld19pbmJveF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2gocHJlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoKCFhLnR5cGUgfHwgYS50eXBlID09PSBcImRyYWZ0XCIgfHwgYS50eXBlID09PSBcInJlYXNzaWduXCIpICYmICghYS5qdWRnZSB8fCBhLmp1ZGdlID09PSBcInN1Ym1pdHRlZFwiIHx8IGEuanVkZ2UgPT09IFwiYXBwcm92ZWRcIiB8fCBhLmp1ZGdlID09PSBcInJlamVjdGVkXCIpKSB7XG4gICAgICAgIHJldHVybiBuZXdfaW5ib3hfdXNlcnMucHVzaChhLnVzZXIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChfLmlzRW1wdHkobmV3X2luYm94X3VzZXJzKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDkuIvkuIDmraXlpITnkIbkurrvvIzpgIDlm57lpLHotKVcIik7XG4gICAgfVxuICAgIHRyYWNlcyA9IGlucy50cmFjZXM7XG4gICAgYXBwcm92ZV92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldEFwcHJvdmVWYWx1ZXMoYXBwcm92ZS52YWx1ZXMgfHwge30sIGN1cnJlbnRfc3RlcC5wZXJtaXNzaW9ucywgaW5zLmZvcm0sIGlucy5mb3JtX3ZlcnNpb24pO1xuICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgbm93ID0gbmV3IERhdGU7XG4gICAgcmVzdF9jb3VudGVyX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0Ll9pZCA9PT0gbGFzdF90cmFjZS5faWQpIHtcbiAgICAgICAgaWYgKCF0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgdC5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgfVxuICAgICAgICBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSwgaWR4KSB7XG4gICAgICAgICAgaWYgKCghYS50eXBlIHx8IGEudHlwZSA9PT0gXCJyZWFzc2lnblwiKSAmJiAoIWEuanVkZ2UgfHwgYS5qdWRnZSA9PT0gXCJzdWJtaXR0ZWRcIiB8fCBhLmp1ZGdlID09PSBcImFwcHJvdmVkXCIgfHwgYS5qdWRnZSA9PT0gXCJyZWplY3RlZFwiIHx8IGEuanVkZ2UgPT09IFwicmVhZGVkXCIpICYmIGEuaXNfZmluaXNoZWQgIT09IHRydWUpIHtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZmluaXNoX2RhdGUnXSA9IG5vdztcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcucmVhZF9kYXRlJ10gPSBub3c7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmlzX2Vycm9yJ10gPSBmYWxzZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfcmVhZCddID0gdHJ1ZTtcbiAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgICAgICBzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzLicgKyBpZHggKyAnLmNvc3RfdGltZSddID0gbm93IC0gYS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3Zlcy4nICsgaWR4ICsgJy52YWx1ZXMnXSA9IGFwcHJvdmVfdmFsdWVzO1xuICAgICAgICAgICAgaWYgKGEuaGFuZGxlciA9PT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuanVkZ2UnXSA9IFwicmV0dXJuZWRcIjtcbiAgICAgICAgICAgICAgcmV0dXJuIHNldE9ialsndHJhY2VzLiQuYXBwcm92ZXMuJyArIGlkeCArICcuZGVzY3JpcHRpb24nXSA9IHJlYXNvbjtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIHJldHVybiByZXN0X2NvdW50ZXJfdXNlcnMucHVzaChhLmhhbmRsZXIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuaXNfZmluaXNoZWQnXSA9IHRydWU7XG4gICAgICAgIHNldE9ialsndHJhY2VzLiQuZmluaXNoX2RhdGUnXSA9IHRydWU7XG4gICAgICAgIHJldHVybiBzZXRPYmpbJ3RyYWNlcy4kLmp1ZGdlJ10gPSBcInJldHVybmVkXCI7XG4gICAgICB9XG4gICAgfSk7XG4gICAgaW5zLnZhbHVlcyA9IF8uZXh0ZW5kKGlucy52YWx1ZXMgfHwge30sIGFwcHJvdmVfdmFsdWVzKTtcbiAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlLl9pZF07XG4gICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICBuZXdUcmFjZS5zdGVwID0gcHJlX3RyYWNlLnN0ZXA7XG4gICAgbmV3VHJhY2UubmFtZSA9IHByZV90cmFjZS5uYW1lO1xuICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgbmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJlX3N0ZXAudGltZW91dF9ob3Vycyk7XG4gICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICBfLmVhY2gobmV3X2luYm94X3VzZXJzLCBmdW5jdGlvbihuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KSB7XG4gICAgICB2YXIgYWdlbnQsIGhhbmRsZXJfaWQsIGhhbmRsZXJfaW5mbywgbmV3QXBwcm92ZSwgbmV4dF9zdGVwX3NwYWNlX3VzZXIsIG5leHRfc3RlcF91c2VyX29yZ19pbmZvLCB1c2VyX2luZm87XG4gICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgIHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgbmFtZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XG4gICAgICBoYW5kbGVyX2lkID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4gICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKTtcbiAgICAgIGlmIChhZ2VudCkge1xuICAgICAgICBuZXdfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50O1xuICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUuYWdlbnQgPSBhZ2VudDtcbiAgICAgIH1cbiAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgbmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZCk7XG4gICAgICBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcik7XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl07XG4gICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2U7XG4gICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICByZXR1cm4gbmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKTtcbiAgICB9KTtcbiAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXdfaW5ib3hfdXNlcnM7XG4gICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgaW5zLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcik7XG4gICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnMub3V0Ym94X3VzZXJzKTtcbiAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgIHNldE9iai52YWx1ZXMgPSBpbnMudmFsdWVzO1xuICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZV90cmFjZS5uYW1lO1xuICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgIF9pZDogaW5zdGFuY2VfaWQsXG4gICAgICAndHJhY2VzLl9pZCc6IGxhc3RfdHJhY2UuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDogc2V0T2JqXG4gICAgfSk7XG4gICAgYiA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgIH0sIHtcbiAgICAgICRwdXNoOiB7XG4gICAgICAgIHRyYWNlczogbmV3VHJhY2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAociAmJiBiKSB7XG4gICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmV0dXJuX3BlbmRpbmdfaW5ib3hcIiwgaW5zdGFuY2UsIHJlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgXy5lYWNoKHJlc3RfY291bnRlcl91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0aW5zdGFuY2VfcmVtaW5kOiAocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpLT5cclxuXHRcdGNoZWNrIHJlbWluZF91c2VycywgQXJyYXlcclxuXHRcdGNoZWNrIHJlbWluZF9jb3VudCwgTWF0Y2guT25lT2YoJ3NpbmdsZScsICdtdWx0aScpXHJcblx0XHRjaGVjayByZW1pbmRfZGVhZGxpbmUsIERhdGVcclxuXHRcdGNoZWNrIGluc3RhbmNlX2lkLCBTdHJpbmdcclxuXHRcdGNoZWNrIGFjdGlvbl90eXBlcywgQXJyYXlcclxuXHRcdGNoZWNrIHRyYWNlX2lkLCBTdHJpbmdcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZFxyXG5cdFx0bGFzdF9yZW1pbmRfdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlX2lkfSwge2ZpZWxkczoge25hbWU6IDEsIHRyYWNlczogMSwgdmFsdWVzOiAxLCBzcGFjZTogMX19KVxyXG5cdFx0aWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdhZG1pbicpXHJcblx0XHRcdGlmIHJlbWluZF9jb3VudCBpcyAnc2luZ2xlJ1xyXG5cdFx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhcCktPlxyXG5cdFx0XHRcdFx0XHRpZiByZW1pbmRfdXNlcnMuaW5jbHVkZXMoYXAudXNlcikgYW5kIGFwLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxyXG5cdFx0XHRlbHNlIGlmIHJlbWluZF9jb3VudCBpcyAnbXVsdGknXHJcblx0XHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0XHRwcmlvcml0eSA9IGlucy52YWx1ZXMucHJpb3JpdHlcclxuXHRcdFx0XHRfLmVhY2ggaW5zLnRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cclxuXHRcdFx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdFx0XHRsYXN0X3JlbWluZF91c2Vycy5wdXNoIGFwLnVzZXJcclxuXHRcdFx0XHRcdFx0XHRhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHQjIO+8iDHvvInigJzmma7pgJrigJ3vvJrlpoLkuInkuKrlt6XkvZzml6XlhoXmnKrlpITnkIbvvIzns7vnu5/oh6rliqjlj5Hnn63kv6Hmj5DphpLvvJrlip7nu5Pml7bpmZDkuLrkuozml6XlhoXvvJtcclxuXHRcdFx0XHRcdFx0XHQjICDlpoLkuozml6XlkI7ku43mnKrlpITnkIbvvIzns7vnu5/mr4/lpKnoh6rliqjlj5Hnn63kv6Hmj5DphpLvvIzlip7nu5Pml7bpmZDkuLrkuIDml6XlhoXjgIJcclxuXHRcdFx0XHRcdFx0XHRpZiBwcmlvcml0eSBpcyBcIuaZrumAmlwiIG9yIG5vdCBwcmlvcml0eVxyXG5cdFx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdFx0IyDvvIgy77yJ4oCc5Yqe5paH4oCd77ya5aaC5LiA5Liq5bel5L2c5pel5YaF5pyq5aSE55CG77yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg5aaC5LiA5pel5ZCO5LuN5pyq5aSE55CG77yM57O757uf5q+P5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5YiZ5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIuWKnuaWh1wiXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcclxuXHJcblx0XHRcdFx0XHRcdFx0IyDvvIgz77yJ4oCc57Sn5oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5aSp6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6Led56a75Yqe57uT5pe26ZmQ5Li65Y2K5pel5pe277yM5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIue0p+aApVwiXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcclxuXHJcblx0XHRcdFx0XHRcdFx0IyDvvIg077yJ4oCc54m55oCl4oCd77ya5Zyo5Y+R6YCB55qE5ZCM5pe277yM57O757uf6Ieq5Yqo5Y+R55+t5L+h5o+Q6YaS77ya5Yqe57uT5pe26ZmQ5Li66KGo5Y2V5LiK55qE4oCc5Yqe57uT5pe26ZmQ4oCd77yI5paH5Lmm5b2V5YWl55qE5pe26Ze077yJ77ybXHJcblx0XHRcdFx0XHRcdFx0IyAg5aaC5Y2K5pel5YaF5LuN5pyq5aSE55CG77yM57O757uf5q+P5Y2K5Liq5bel5L2c5pel5o+Q6YaS5Zub5qyh77ya5Yqe57uT5pe26ZmQ5LiN5Y+Y77yb6LaF6L+H5Yqe57uT5pe26ZmQ5ZCO5LuN54S25oyJ54Wn5q+P5Y2K5pel5Zub5qyh5o+Q6YaS44CCXHJcblx0XHRcdFx0XHRcdFx0ZWxzZSBpZiBwcmlvcml0eSBpcyBcIueJueaApVwiXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUgIyDotoXov4fkuoblip7nu5Pml7bpmZDmiJbogIXot53nprvlip7nu5Pml7bpmZDljYrml6XlhoVcclxuXHRcdFx0XHRcdFx0XHRcdFx0YXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRcdGVsc2UgaWYgU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmVcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y2FjdWxhdGVfZGF0ZSA9IChiYXNlX2RhdGUpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmIHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0XHRcdFx0XHRjYWN1bGF0ZV9kYXRlKG5vdylcclxuXHJcblx0XHRcdFx0aWYgbm90IF8uaXNFbXB0eShsYXN0X3JlbWluZF91c2VycylcclxuXHRcdFx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWR9LCB7JHNldDogeyd0cmFjZXMnOiBpbnMudHJhY2VzfX0pXHJcblxyXG5cdFx0ZWxzZSBpZiBhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FwcGxpY2FudCcpXHJcblx0XHRcdHRyYWNlID0gXy5maW5kIGlucy50cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHRyYWNlX2lkXHJcblx0XHRcdF8uZWFjaCB0cmFjZS5hcHByb3ZlcywgKGFwKS0+XHJcblx0XHRcdFx0aWYgcmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpIGFuZCBhcC5pc19maW5pc2hlZCBpc250IHRydWVcclxuXHRcdFx0XHRcdGxhc3RfcmVtaW5kX3VzZXJzLnB1c2ggYXAudXNlclxyXG5cclxuXHRcdGVsc2UgaWYgYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpXHJcblx0XHRcdF8uZWFjaCBpbnMudHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdF8uZWFjaCB0LmFwcHJvdmVzLCAoYXApLT5cclxuXHRcdFx0XHRcdGlmIHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSBhbmQgYXAuaXNfZmluaXNoZWQgaXNudCB0cnVlIGFuZCBhcC50eXBlIGlzICdjYycgYW5kIGFwLmZyb21fdXNlciBpcyBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0XHRcdFx0bGFzdF9yZW1pbmRfdXNlcnMucHVzaCBhcC51c2VyXHJcblxyXG5cdFx0dXVmbG93TWFuYWdlci5zZW5kUmVtaW5kU01TIGlucy5uYW1lLCByZW1pbmRfZGVhZGxpbmUsIGxhc3RfcmVtaW5kX3VzZXJzLCBpbnMuc3BhY2UsIGlucy5faWRcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlX3JlbWluZDogZnVuY3Rpb24ocmVtaW5kX3VzZXJzLCByZW1pbmRfY291bnQsIHJlbWluZF9kZWFkbGluZSwgaW5zdGFuY2VfaWQsIGFjdGlvbl90eXBlcywgdHJhY2VfaWQpIHtcbiAgICB2YXIgY3VycmVudF91c2VyX2lkLCBpbnMsIGxhc3RfcmVtaW5kX3VzZXJzLCBub3csIHByaW9yaXR5LCB0cmFjZTtcbiAgICBjaGVjayhyZW1pbmRfdXNlcnMsIEFycmF5KTtcbiAgICBjaGVjayhyZW1pbmRfY291bnQsIE1hdGNoLk9uZU9mKCdzaW5nbGUnLCAnbXVsdGknKSk7XG4gICAgY2hlY2socmVtaW5kX2RlYWRsaW5lLCBEYXRlKTtcbiAgICBjaGVjayhpbnN0YW5jZV9pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhhY3Rpb25fdHlwZXMsIEFycmF5KTtcbiAgICBjaGVjayh0cmFjZV9pZCwgU3RyaW5nKTtcbiAgICBjdXJyZW50X3VzZXJfaWQgPSB0aGlzLnVzZXJJZDtcbiAgICBsYXN0X3JlbWluZF91c2VycyA9IG5ldyBBcnJheTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHRyYWNlczogMSxcbiAgICAgICAgdmFsdWVzOiAxLFxuICAgICAgICBzcGFjZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChhY3Rpb25fdHlwZXMuaW5jbHVkZXMoJ2FkbWluJykpIHtcbiAgICAgIGlmIChyZW1pbmRfY291bnQgPT09ICdzaW5nbGUnKSB7XG4gICAgICAgIF8uZWFjaChpbnMudHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgcmV0dXJuIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2UgaWYgKHJlbWluZF9jb3VudCA9PT0gJ211bHRpJykge1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgcHJpb3JpdHkgPSBpbnMudmFsdWVzLnByaW9yaXR5O1xuICAgICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYXApIHtcbiAgICAgICAgICAgIHZhciBjYWN1bGF0ZV9kYXRlO1xuICAgICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSkge1xuICAgICAgICAgICAgICBsYXN0X3JlbWluZF91c2Vycy5wdXNoKGFwLnVzZXIpO1xuICAgICAgICAgICAgICBhcC5tYW51YWxfZGVhZGxpbmUgPSByZW1pbmRfZGVhZGxpbmU7XG4gICAgICAgICAgICAgIGlmIChwcmlvcml0eSA9PT0gXCLmma7pgJpcIiB8fCAhcHJpb3JpdHkpIHtcblxuICAgICAgICAgICAgICB9IGVsc2UgaWYgKHByaW9yaXR5ID09PSBcIuWKnuaWh1wiKSB7XG4gICAgICAgICAgICAgICAgaWYgKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93KSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGFwLnJlbWluZF9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3csIHRydWUpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoU3RlZWRvcy5jYWN1bGF0ZVdvcmtpbmdUaW1lKG5vdywgMSkgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUgPSBmdW5jdGlvbihiYXNlX2RhdGUpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFyIHBsdXNfaGFsZmRheV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICBwbHVzX2hhbGZkYXlfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlKTtcbiAgICAgICAgICAgICAgICAgICAgaWYgKHBsdXNfaGFsZmRheV9kYXRlID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICAgICAgYXAucmVtaW5kX2RhdGUgPSBiYXNlX2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZShTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSwgdHJ1ZSkpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIGNhY3VsYXRlX2RhdGUobm93KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0gZWxzZSBpZiAocHJpb3JpdHkgPT09IFwi57Sn5oClXCIpIHtcbiAgICAgICAgICAgICAgICBpZiAoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShub3cpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gYXAucmVtaW5kX2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdywgdHJ1ZSk7XG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmIChTdGVlZG9zLmNhY3VsYXRlV29ya2luZ1RpbWUobm93LCAxKSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgY2FjdWxhdGVfZGF0ZSA9IGZ1bmN0aW9uKGJhc2VfZGF0ZSkge1xuICAgICAgICAgICAgICAgICAgICB2YXIgcGx1c19oYWxmZGF5X2RhdGU7XG4gICAgICAgICAgICAgICAgICAgIHBsdXNfaGFsZmRheV9kYXRlID0gU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUpO1xuICAgICAgICAgICAgICAgICAgICBpZiAocGx1c19oYWxmZGF5X2RhdGUgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgICAgICBhcC5yZW1pbmRfZGF0ZSA9IGJhc2VfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlKFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkoYmFzZV9kYXRlLCB0cnVlKSk7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY2FjdWxhdGVfZGF0ZShub3cpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgfSBlbHNlIGlmIChwcmlvcml0eSA9PT0gXCLnibnmgKVcIikge1xuICAgICAgICAgICAgICAgIGlmIChTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KG5vdykgPiByZW1pbmRfZGVhZGxpbmUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBhcC5yZW1pbmRfZGF0ZSA9IFN0ZWVkb3MuY2FjdWxhdGVQbHVzSGFsZldvcmtpbmdEYXkobm93LCB0cnVlKTtcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKFN0ZWVkb3MuY2FjdWxhdGVXb3JraW5nVGltZShub3csIDEpID4gcmVtaW5kX2RlYWRsaW5lKSB7XG4gICAgICAgICAgICAgICAgICBjYWN1bGF0ZV9kYXRlID0gZnVuY3Rpb24oYmFzZV9kYXRlKSB7XG4gICAgICAgICAgICAgICAgICAgIHZhciBwbHVzX2hhbGZkYXlfZGF0ZTtcbiAgICAgICAgICAgICAgICAgICAgcGx1c19oYWxmZGF5X2RhdGUgPSBTdGVlZG9zLmNhY3VsYXRlUGx1c0hhbGZXb3JraW5nRGF5KGJhc2VfZGF0ZSk7XG4gICAgICAgICAgICAgICAgICAgIGlmIChwbHVzX2hhbGZkYXlfZGF0ZSA+IHJlbWluZF9kZWFkbGluZSkge1xuICAgICAgICAgICAgICAgICAgICAgIGFwLnJlbWluZF9kYXRlID0gYmFzZV9kYXRlO1xuICAgICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICAgIGNhY3VsYXRlX2RhdGUoU3RlZWRvcy5jYWN1bGF0ZVBsdXNIYWxmV29ya2luZ0RheShiYXNlX2RhdGUsIHRydWUpKTtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfTtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBjYWN1bGF0ZV9kYXRlKG5vdyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIV8uaXNFbXB0eShsYXN0X3JlbWluZF91c2VycykpIHtcbiAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgICd0cmFjZXMnOiBpbnMudHJhY2VzXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbl90eXBlcy5pbmNsdWRlcygnYXBwbGljYW50JykpIHtcbiAgICAgIHRyYWNlID0gXy5maW5kKGlucy50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSB0cmFjZV9pZDtcbiAgICAgIH0pO1xuICAgICAgXy5lYWNoKHRyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhcCkge1xuICAgICAgICBpZiAocmVtaW5kX3VzZXJzLmluY2x1ZGVzKGFwLnVzZXIpICYmIGFwLmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgICAgcmV0dXJuIGxhc3RfcmVtaW5kX3VzZXJzLnB1c2goYXAudXNlcik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0gZWxzZSBpZiAoYWN0aW9uX3R5cGVzLmluY2x1ZGVzKCdjYycpKSB7XG4gICAgICBfLmVhY2goaW5zLnRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwKSB7XG4gICAgICAgICAgaWYgKHJlbWluZF91c2Vycy5pbmNsdWRlcyhhcC51c2VyKSAmJiBhcC5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhcC50eXBlID09PSAnY2MnICYmIGFwLmZyb21fdXNlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICAgICAgICByZXR1cm4gbGFzdF9yZW1pbmRfdXNlcnMucHVzaChhcC51c2VyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfSk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuc2VuZFJlbWluZFNNUyhpbnMubmFtZSwgcmVtaW5kX2RlYWRsaW5lLCBsYXN0X3JlbWluZF91c2VycywgaW5zLnNwYWNlLCBpbnMuX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdG5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQ6IChkZWFsX3R5cGUsIHN0ZXBfbmFtZSwgcGFyYW1zKSAtPlxyXG5cdFx0Y2hlY2sgZGVhbF90eXBlLCBTdHJpbmdcclxuXHRcdGNoZWNrIHN0ZXBfbmFtZSwgU3RyaW5nXHJcblx0XHRjaGVjayBwYXJhbXMsIE9iamVjdFxyXG5cclxuXHRcdHN0ciA9IFwiXCJcclxuXHRcdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB0aGlzLnVzZXJJZCB9LCB7IGZpZWxkczogeyBsb2NhbGU6IDEgfSB9KVxyXG5cdFx0I+iuvue9ruW9k+WJjeivreiogOeOr+Wig1xyXG5cdFx0bGFuZyA9ICdlbidcclxuXHRcdGlmIHVzZXIubG9jYWxlIGlzICd6aC1jbidcclxuXHRcdFx0bGFuZyA9ICd6aC1DTidcclxuXHJcblx0XHQjIOaMh+WumuWuoeaJueWyl+S9jVxyXG5cdFx0aWYgZGVhbF90eXBlIGlzICdhcHBsaWNhbnRSb2xlJ1xyXG5cdFx0XHRhcHByb3Zlcl9yb2xlcyA9IHBhcmFtcy5hcHByb3Zlcl9yb2xlc1xyXG5cdFx0XHRyb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogeyAkaW46IGFwcHJvdmVyX3JvbGVzIH0gfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pLmZldGNoKClcclxuXHRcdFx0cm9sZXNfbmFtZSA9IF8ucGx1Y2socm9sZXMsICduYW1lJykudG9TdHJpbmcoKVxyXG5cdFx0XHRzdHIgPSBUQVBpMThuLl9fICduZXh0X3N0ZXBfdXNlcnNfbm90X2ZvdW5kLmFwcGxpY2FudF9yb2xlJywgeyBzdGVwX25hbWU6IHN0ZXBfbmFtZSwgcm9sZV9uYW1lOiByb2xlc19uYW1lIH0sIGxhbmdcclxuXHJcblxyXG5cdFx0cmV0dXJuIHN0clxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIG5leHRfc3RlcF91c2Vyc19ub3RfZm91bmQ6IGZ1bmN0aW9uKGRlYWxfdHlwZSwgc3RlcF9uYW1lLCBwYXJhbXMpIHtcbiAgICB2YXIgYXBwcm92ZXJfcm9sZXMsIGxhbmcsIHJvbGVzLCByb2xlc19uYW1lLCBzdHIsIHVzZXI7XG4gICAgY2hlY2soZGVhbF90eXBlLCBTdHJpbmcpO1xuICAgIGNoZWNrKHN0ZXBfbmFtZSwgU3RyaW5nKTtcbiAgICBjaGVjayhwYXJhbXMsIE9iamVjdCk7XG4gICAgc3RyID0gXCJcIjtcbiAgICB1c2VyID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGxvY2FsZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGxhbmcgPSAnZW4nO1xuICAgIGlmICh1c2VyLmxvY2FsZSA9PT0gJ3poLWNuJykge1xuICAgICAgbGFuZyA9ICd6aC1DTic7XG4gICAgfVxuICAgIGlmIChkZWFsX3R5cGUgPT09ICdhcHBsaWNhbnRSb2xlJykge1xuICAgICAgYXBwcm92ZXJfcm9sZXMgPSBwYXJhbXMuYXBwcm92ZXJfcm9sZXM7XG4gICAgICByb2xlcyA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogYXBwcm92ZXJfcm9sZXNcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBuYW1lOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICByb2xlc19uYW1lID0gXy5wbHVjayhyb2xlcywgJ25hbWUnKS50b1N0cmluZygpO1xuICAgICAgc3RyID0gVEFQaTE4bi5fXygnbmV4dF9zdGVwX3VzZXJzX25vdF9mb3VuZC5hcHBsaWNhbnRfcm9sZScsIHtcbiAgICAgICAgc3RlcF9uYW1lOiBzdGVwX25hbWUsXG4gICAgICAgIHJvbGVfbmFtZTogcm9sZXNfbmFtZVxuICAgICAgfSwgbGFuZyk7XG4gICAgfVxuICAgIHJldHVybiBzdHI7XG4gIH1cbn0pO1xuIiwiX2V2YWwgPSByZXF1aXJlKCdldmFsJylcclxuXHJcbk1ldGVvci5tZXRob2RzXHJcblx0aW5zdGFuY2VOdW1iZXJCdWlsZGVyOiAoc3BhY2VJZCwgbmFtZSktPlxyXG5cclxuXHRcdG51bWJlclJ1bGVzID0gZGIuaW5zdGFuY2VfbnVtYmVyX3J1bGVzLmZpbmRPbmUoe3NwYWNlOiBzcGFjZUlkLCBuYW1lOiBuYW1lfSlcclxuXHJcblx0XHRpZiAhbnVtYmVyUnVsZXNcclxuXHRcdFx0dGhyb3cgbmV3ICBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiI3tuYW1lfVwiKVxyXG5cclxuXHRcdGRhdGUgPSBuZXcgRGF0ZSgpXHJcblxyXG5cdFx0Y29udGV4dCA9IHt9XHJcblxyXG5cdFx0Y29udGV4dC5fID0gX1xyXG5cclxuXHRcdF9ZWVlZID0gZGF0ZS5nZXRGdWxsWWVhcigpXHJcblxyXG5cdFx0X05VTUJFUiA9IChudW1iZXJSdWxlcy5udW1iZXIgfHwgMCkgKyAxXHJcblxyXG5cdFx0Y29udGV4dC5ZWVlZID0gXy5jbG9uZShfWVlZWSlcclxuXHJcblx0XHRjb250ZXh0Lk1NID0gZGF0ZS5nZXRNb250aCgpICsgMVxyXG5cclxuXHRcdGNvbnRleHQubW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxXHJcblxyXG5cdFx0aWYgY29udGV4dC5NTSA8IDEwXHJcblx0XHRcdGNvbnRleHQuTU0gPSBcIjBcIiArIGNvbnRleHQuTU1cclxuXHJcblx0XHRjb250ZXh0LkREID0gZGF0ZS5nZXREYXRlKClcclxuXHJcblx0XHRjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKClcclxuXHJcblx0XHRpZiBjb250ZXh0LkREIDwgMTBcclxuXHRcdFx0Y29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERFxyXG5cclxuXHRcdGlmIGNvbnRleHQuWVlZWSAhPSBudW1iZXJSdWxlcy55ZWFyXHJcblx0XHRcdF9OVU1CRVIgPSBudW1iZXJSdWxlcy5maXJzdF9udW1iZXIgfHwgMVxyXG5cclxuXHRcdGNvbnRleHQuTlVNQkVSID0gXy5jbG9uZShfTlVNQkVSKVxyXG5cclxuXHRcdHJ1bGVzID0gbnVtYmVyUnVsZXMucnVsZXMucmVwbGFjZShcIntZWVlZfVwiLCBcIicgKyBZWVlZICsgJ1wiKS5yZXBsYWNlKFwie01NfVwiLCBcIicgKyBNTSArICdcIikucmVwbGFjZShcIntOVU1CRVJ9XCIsIFwiJyArIE5VTUJFUiArICdcIilcclxuXHJcblx0XHRzY3JpcHQgPSBcInZhciBuZXdObyA9ICcje3J1bGVzfSc7IGV4cG9ydHMubmV3Tm8gPSBuZXdOb1wiO1xyXG5cclxuXHRcdHRyeVxyXG5cdFx0XHRyZXMgPSBfZXZhbChzY3JpcHQsIFwibmV3Tm9cIiwgY29udGV4dCwgZmFsc2UpLm5ld05vXHJcblxyXG5cdFx0XHRkYi5pbnN0YW5jZV9udW1iZXJfcnVsZXMudXBkYXRlKHtfaWQ6IG51bWJlclJ1bGVzLl9pZH0sIHskc2V0OiB7eWVhcjogX1lZWVksIG51bWJlcjogX05VTUJFUn19KVxyXG5cclxuXHRcdFx0Y29uc29sZS5sb2cgdGhpcy51c2VySWQsIHJlc1xyXG5cclxuXHRcdGNhdGNoIGVcclxuXHRcdFx0cmVzID0ge19lcnJvcjogZX1cclxuXHJcblx0XHRyZXR1cm4gcmVzO1xyXG4iLCJ2YXIgX2V2YWw7XG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIGluc3RhbmNlTnVtYmVyQnVpbGRlcjogZnVuY3Rpb24oc3BhY2VJZCwgbmFtZSkge1xuICAgIHZhciBfTlVNQkVSLCBfWVlZWSwgY29udGV4dCwgZGF0ZSwgZSwgbnVtYmVyUnVsZXMsIHJlcywgcnVsZXMsIHNjcmlwdDtcbiAgICBudW1iZXJSdWxlcyA9IGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy5maW5kT25lKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgbmFtZTogbmFtZVxuICAgIH0pO1xuICAgIGlmICghbnVtYmVyUnVsZXMpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiXCIgKyBuYW1lKTtcbiAgICB9XG4gICAgZGF0ZSA9IG5ldyBEYXRlKCk7XG4gICAgY29udGV4dCA9IHt9O1xuICAgIGNvbnRleHQuXyA9IF87XG4gICAgX1lZWVkgPSBkYXRlLmdldEZ1bGxZZWFyKCk7XG4gICAgX05VTUJFUiA9IChudW1iZXJSdWxlcy5udW1iZXIgfHwgMCkgKyAxO1xuICAgIGNvbnRleHQuWVlZWSA9IF8uY2xvbmUoX1lZWVkpO1xuICAgIGNvbnRleHQuTU0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGNvbnRleHQubW0gPSBkYXRlLmdldE1vbnRoKCkgKyAxO1xuICAgIGlmIChjb250ZXh0Lk1NIDwgMTApIHtcbiAgICAgIGNvbnRleHQuTU0gPSBcIjBcIiArIGNvbnRleHQuTU07XG4gICAgfVxuICAgIGNvbnRleHQuREQgPSBkYXRlLmdldERhdGUoKTtcbiAgICBjb250ZXh0LmRkID0gZGF0ZS5nZXREYXRlKCk7XG4gICAgaWYgKGNvbnRleHQuREQgPCAxMCkge1xuICAgICAgY29udGV4dC5ERCA9IFwiMFwiICsgY29udGV4dC5ERDtcbiAgICB9XG4gICAgaWYgKGNvbnRleHQuWVlZWSAhPT0gbnVtYmVyUnVsZXMueWVhcikge1xuICAgICAgX05VTUJFUiA9IG51bWJlclJ1bGVzLmZpcnN0X251bWJlciB8fCAxO1xuICAgIH1cbiAgICBjb250ZXh0Lk5VTUJFUiA9IF8uY2xvbmUoX05VTUJFUik7XG4gICAgcnVsZXMgPSBudW1iZXJSdWxlcy5ydWxlcy5yZXBsYWNlKFwie1lZWVl9XCIsIFwiJyArIFlZWVkgKyAnXCIpLnJlcGxhY2UoXCJ7TU19XCIsIFwiJyArIE1NICsgJ1wiKS5yZXBsYWNlKFwie05VTUJFUn1cIiwgXCInICsgTlVNQkVSICsgJ1wiKTtcbiAgICBzY3JpcHQgPSBcInZhciBuZXdObyA9ICdcIiArIHJ1bGVzICsgXCInOyBleHBvcnRzLm5ld05vID0gbmV3Tm9cIjtcbiAgICB0cnkge1xuICAgICAgcmVzID0gX2V2YWwoc2NyaXB0LCBcIm5ld05vXCIsIGNvbnRleHQsIGZhbHNlKS5uZXdObztcbiAgICAgIGRiLmluc3RhbmNlX251bWJlcl9ydWxlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IG51bWJlclJ1bGVzLl9pZFxuICAgICAgfSwge1xuICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgeWVhcjogX1lZWVksXG4gICAgICAgICAgbnVtYmVyOiBfTlVNQkVSXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2codGhpcy51c2VySWQsIHJlcyk7XG4gICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgIGUgPSBlcnJvcjtcbiAgICAgIHJlcyA9IHtcbiAgICAgICAgX2Vycm9yOiBlXG4gICAgICB9O1xuICAgIH1cbiAgICByZXR1cm4gcmVzO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0Y2hlY2tfbWFpbl9hdHRhY2g6IChpbnNfaWQsIG5hbWUpLT5cclxuXHRcdGNoZWNrIGluc19pZCwgU3RyaW5nXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmNoZWNrTWFpbkF0dGFjaChpbnNfaWQsIG5hbWUpXHJcblx0XHRyZXR1cm4gJ3N1Y2Nlc3MnXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdHJlbW92ZV9yZWxhdGVkOiAoaW5zX2lkLCByZV9pbnNfaWQpLT5cclxuXHRcdGNoZWNrKGluc19pZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2socmVfaW5zX2lkLCBTdHJpbmcpXHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkfSwge2ZpZWxkczoge3JlbGF0ZWRfaW5zdGFuY2VzOiAxfX0pXHJcblxyXG5cdFx0aWYgaW5zXHJcblx0XHRcdHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXVxyXG5cclxuXHRcdFx0aW5kZXggPSByZXMuaW5kZXhPZihyZV9pbnNfaWQpXHJcblxyXG5cdFx0XHRpZiBpbmRleCA+IC0xXHJcblx0XHRcdFx0cmVzLnJlbW92ZShpbmRleClcclxuXHJcblx0XHRcdHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cdFx0XHRzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcclxuXHRcdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xyXG5cdFx0XHRzZXRfb2JqLnJlbGF0ZWRfaW5zdGFuY2VzID0gcmVzXHJcblxyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc19pZH0sIHskc2V0OiBzZXRfb2JqfSlcclxuXHJcblx0dXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IChpbnNfaWQsIHJlbGF0ZWRfaW5zdGFuY2VzKS0+XHJcblx0XHRjaGVjayhpbnNfaWQsIFN0cmluZylcclxuXHRcdGNoZWNrKHJlbGF0ZWRfaW5zdGFuY2VzLCBBcnJheSlcclxuXHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zX2lkLCAkb3I6IFt7c3VibWl0dGVyOiB0aGlzLnVzZXJJZH0sIHthcHBsaWNhbnQ6IHRoaXMudXNlcklkfSwge2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XX0sIHtmaWVsZHM6IHtzdGF0ZTogMX19KVxyXG5cclxuXHRcdGlmIGluc1xyXG5cdFx0XHRzZXRfb2JqID0gbmV3IE9iamVjdDtcclxuXHRcdFx0c2V0X29iai5tb2RpZmllZCA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0c2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzXHJcblx0XHRcdGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zX2lkfSwgeyRzZXQ6IHNldF9vYmp9KVxyXG5cclxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluOiAgcmVsYXRlZF9pbnN0YW5jZXN9fSwge2ZpZWxkczoge19pZDogMSwgdmFsdWVzOiAxfX0pLmZldGNoKClcclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICByZW1vdmVfcmVsYXRlZDogZnVuY3Rpb24oaW5zX2lkLCByZV9pbnNfaWQpIHtcbiAgICB2YXIgaW5kZXgsIGlucywgcmVzLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZV9pbnNfaWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbnMpIHtcbiAgICAgIHJlcyA9IGlucy5yZWxhdGVkX2luc3RhbmNlcyB8fCBbXTtcbiAgICAgIGluZGV4ID0gcmVzLmluZGV4T2YocmVfaW5zX2lkKTtcbiAgICAgIGlmIChpbmRleCA+IC0xKSB7XG4gICAgICAgIHJlcy5yZW1vdmUoaW5kZXgpO1xuICAgICAgfVxuICAgICAgc2V0X29iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRfb2JqLm1vZGlmaWVkID0gbmV3IERhdGUoKTtcbiAgICAgIHNldF9vYmoubW9kaWZpZWRfYnkgPSB0aGlzLnVzZXJJZDtcbiAgICAgIHNldF9vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSByZXM7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgfSxcbiAgdXBkYXRlX2luc3RhbmNlX3JlbGF0ZWQ6IGZ1bmN0aW9uKGluc19pZCwgcmVsYXRlZF9pbnN0YW5jZXMpIHtcbiAgICB2YXIgaW5zLCBzZXRfb2JqO1xuICAgIGNoZWNrKGluc19pZCwgU3RyaW5nKTtcbiAgICBjaGVjayhyZWxhdGVkX2luc3RhbmNlcywgQXJyYXkpO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAkb3I6IFtcbiAgICAgICAge1xuICAgICAgICAgIHN1Ym1pdHRlcjogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGFwcGxpY2FudDogdGhpcy51c2VySWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGluYm94X3VzZXJzOiB0aGlzLnVzZXJJZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoaW5zKSB7XG4gICAgICBzZXRfb2JqID0gbmV3IE9iamVjdDtcbiAgICAgIHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xuICAgICAgc2V0X29iai5tb2RpZmllZF9ieSA9IHRoaXMudXNlcklkO1xuICAgICAgc2V0X29iai5yZWxhdGVkX2luc3RhbmNlcyA9IHJlbGF0ZWRfaW5zdGFuY2VzO1xuICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zX2lkXG4gICAgICB9LCB7XG4gICAgICAgICRzZXQ6IHNldF9vYmpcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogcmVsYXRlZF9pbnN0YW5jZXNcbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0dXBkYXRlRmxvd1Bvc2l0aW9uOiAoZGF0YSkgLT5cclxuXHRcdGRiLmZsb3dfcG9zaXRpb25zLnVwZGF0ZSB7IF9pZDogZGF0YS5faWQgfSwgJHNldDpcclxuXHRcdFx0cm9sZTogZGF0YS5yb2xlXHJcblx0XHRcdHVzZXJzOiBkYXRhLnVzZXJzXHJcblx0XHRcdG9yZzogZGF0YS5vcmdcclxuXHJcblx0dXBkYXRlRmxvd1JvbGU6IChkYXRhKSAtPlxyXG5cdFx0Y29uc29sZS5sb2cgZGF0YS5faWRcclxuXHRcdGNvbnNvbGUubG9nIGRhdGEubmFtZVxyXG5cdFx0ZGIuZmxvd19yb2xlcy51cGRhdGUgeyBfaWQ6IGRhdGEuX2lkIH0sICRzZXQ6XHJcblx0XHRcdG5hbWU6IGRhdGEubmFtZSIsIk1ldGVvci5tZXRob2RzKHtcbiAgdXBkYXRlRmxvd1Bvc2l0aW9uOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLnVwZGF0ZSh7XG4gICAgICBfaWQ6IGRhdGEuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDoge1xuICAgICAgICByb2xlOiBkYXRhLnJvbGUsXG4gICAgICAgIHVzZXJzOiBkYXRhLnVzZXJzLFxuICAgICAgICBvcmc6IGRhdGEub3JnXG4gICAgICB9XG4gICAgfSk7XG4gIH0sXG4gIHVwZGF0ZUZsb3dSb2xlOiBmdW5jdGlvbihkYXRhKSB7XG4gICAgY29uc29sZS5sb2coZGF0YS5faWQpO1xuICAgIGNvbnNvbGUubG9nKGRhdGEubmFtZSk7XG4gICAgcmV0dXJuIGRiLmZsb3dfcm9sZXMudXBkYXRlKHtcbiAgICAgIF9pZDogZGF0YS5faWRcbiAgICB9LCB7XG4gICAgICAkc2V0OiB7XG4gICAgICAgIG5hbWU6IGRhdGEubmFtZVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0c3RhcnRfZmxvdzogKHNwYWNlLCBmbG93SWQsIHN0YXJ0KSAtPlxyXG5cclxuXHRcdGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZSwgdXNlcjogdGhpcy51c2VySWQsIGtleTogJ3N0YXJ0X2Zsb3dzJyB9LCB7IGZpZWxkczogeyB2YWx1ZTogMSB9IH0pXHJcblxyXG5cdFx0c3RhcnRfZmxvd3MgPSBrZXlWYWx1ZT8udmFsdWUgfHwgW11cclxuXHJcblx0XHRpZiBzdGFydFxyXG5cdFx0XHRzdGFydF9mbG93cy5wdXNoKGZsb3dJZClcclxuXHJcblx0XHRcdHN0YXJ0X2Zsb3dzID0gXy51bmlxKHN0YXJ0X2Zsb3dzKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRzdGFydF9mbG93cy5yZW1vdmUoc3RhcnRfZmxvd3MuaW5kZXhPZihmbG93SWQpKVxyXG5cclxuXHRcdGlmIGtleVZhbHVlXHJcblx0XHRcdGRiLnN0ZWVkb3Nfa2V5dmFsdWVzLnVwZGF0ZSh7IF9pZDoga2V5VmFsdWUuX2lkIH0sIHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnLCB2YWx1ZTogc3RhcnRfZmxvd3MgfSlcclxuXHRcdGVsc2VcclxuXHRcdFx0ZGIuc3RlZWRvc19rZXl2YWx1ZXMuaW5zZXJ0KHsgc3BhY2U6IHNwYWNlLCB1c2VyOiB0aGlzLnVzZXJJZCwga2V5OiAnc3RhcnRfZmxvd3MnLCB2YWx1ZTogc3RhcnRfZmxvd3MgfSlcclxuXHJcbiIsIk1ldGVvci5tZXRob2RzKHtcbiAgc3RhcnRfZmxvdzogZnVuY3Rpb24oc3BhY2UsIGZsb3dJZCwgc3RhcnQpIHtcbiAgICB2YXIga2V5VmFsdWUsIHN0YXJ0X2Zsb3dzO1xuICAgIGtleVZhbHVlID0gZGIuc3RlZWRvc19rZXl2YWx1ZXMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogc3BhY2UsXG4gICAgICB1c2VyOiB0aGlzLnVzZXJJZCxcbiAgICAgIGtleTogJ3N0YXJ0X2Zsb3dzJ1xuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIHN0YXJ0X2Zsb3dzID0gKGtleVZhbHVlICE9IG51bGwgPyBrZXlWYWx1ZS52YWx1ZSA6IHZvaWQgMCkgfHwgW107XG4gICAgaWYgKHN0YXJ0KSB7XG4gICAgICBzdGFydF9mbG93cy5wdXNoKGZsb3dJZCk7XG4gICAgICBzdGFydF9mbG93cyA9IF8udW5pcShzdGFydF9mbG93cyk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHN0YXJ0X2Zsb3dzLnJlbW92ZShzdGFydF9mbG93cy5pbmRleE9mKGZsb3dJZCkpO1xuICAgIH1cbiAgICBpZiAoa2V5VmFsdWUpIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGtleVZhbHVlLl9pZFxuICAgICAgfSwge1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBkYi5zdGVlZG9zX2tleXZhbHVlcy5pbnNlcnQoe1xuICAgICAgICBzcGFjZTogc3BhY2UsXG4gICAgICAgIHVzZXI6IHRoaXMudXNlcklkLFxuICAgICAgICBrZXk6ICdzdGFydF9mbG93cycsXG4gICAgICAgIHZhbHVlOiBzdGFydF9mbG93c1xuICAgICAgfSk7XG4gICAgfVxuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0Z2V0X2luc3RhbmNlX3RyYWNlczogKGluc19pZCktPlxyXG5cdFx0aWYgKCF0aGlzLnVzZXJJZClcclxuXHRcdFx0cmV0dXJuO1xyXG5cdFx0bWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsXHJcblx0XHRcdCdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbiddXHJcblxyXG5cdFx0aW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUge19pZDogaW5zX2lkfSwge1xyXG5cdFx0XHRmaWVsZHM6IHtcclxuXHRcdFx0XHRcInRyYWNlcy5faWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5pc19maW5pc2hlZFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLnN0ZXBcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMubmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmZpbmlzaF9kYXRlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuanVkZ2VcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5faWRcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5pc19maW5pc2hlZFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9uYW1lXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy50eXBlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuc3RhcnRfZGF0ZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfcmVhZFwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmp1ZGdlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mcm9tX3VzZXJfbmFtZVwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmZyb21fdXNlclwiOiAxLFxyXG5cdFx0XHRcdFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMudHJhY2VcIjogMSxcclxuXHRcdFx0XHRcInRyYWNlcy5hcHByb3Zlcy5mb3J3YXJkX3NwYWNlXCI6IDEsXHJcblx0XHRcdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXHJcblx0XHRcdH1cclxuXHRcdH1cclxuXHJcblx0XHRpZiAhaW5zXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdHJldHVybiBpbnM/LnRyYWNlc1xyXG5cclxuIiwiTWV0ZW9yLm1ldGhvZHMoe1xuICBnZXRfaW5zdGFuY2VfdHJhY2VzOiBmdW5jdGlvbihpbnNfaWQpIHtcbiAgICB2YXIgaW5zLCBtaW5pQXBwcm92ZUZpZWxkcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG1pbmlBcHByb3ZlRmllbGRzID0gWydfaWQnLCAnaXNfZmluaXNoZWQnLCAndXNlcicsICdoYW5kbGVyJywgJ2hhbmRsZXJfbmFtZScsICd0eXBlJywgJ3N0YXJ0X2RhdGUnLCAnZGVzY3JpcHRpb24nLCAnaXNfcmVhZCcsICdqdWRnZScsICdmaW5pc2hfZGF0ZScsICdmcm9tX3VzZXJfbmFtZScsICdmcm9tX3VzZXInLCAnY2NfZGVzY3JpcHRpb24nXTtcbiAgICBpbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc19pZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBcInRyYWNlcy5faWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuaXNfZmluaXNoZWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgICAgICBcInRyYWNlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLm5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuX2lkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX2ZpbmlzaGVkXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnVzZXJcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlclwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMudHlwZVwiOiAxLFxuICAgICAgICBcInRyYWNlcy5hcHByb3Zlcy5zdGFydF9kYXRlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmlzX3JlYWRcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuanVkZ2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZmluaXNoX2RhdGVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyX25hbWVcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV91c2VyXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX2Rlc2NyaXB0aW9uXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLnRyYWNlXCI6IDEsXG4gICAgICAgIFwidHJhY2VzLmFwcHJvdmVzLmZvcndhcmRfc3BhY2VcIjogMSxcbiAgICAgICAgXCJ0cmFjZXMuYXBwcm92ZXMuZm9yd2FyZF9pbnN0YW5jZVwiOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgcmV0dXJuIGlucyAhPSBudWxsID8gaW5zLnRyYWNlcyA6IHZvaWQgMDtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzJzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aWYgIXNwYWNlXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKVxyXG5cclxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXHJcblxyXG5cdCdnZXRfYmF0Y2hfaW5zdGFuY2VzX2NvdW50JzogKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKS0+XHJcblx0XHRpZiAhdGhpcy51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0aWYgIXNwYWNlXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKVxyXG5cclxuXHRcdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzPy5sZW5ndGggfHwgMFxyXG5cclxuXHQnZ2V0X215X2FwcHJvdmVzJzogKGluc3RhbmNlSWRzKS0+XHJcblxyXG5cdFx0dGhhdCA9IHRoaXNcclxuXHJcblx0XHRpZiAhdGhhdC51c2VySWRcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0bXlBcHByb3ZlcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0aW5zdGFuY2VJZHMuZm9yRWFjaCAoaW5zSWQpLT5cclxuXHRcdFx0bXlfYXBwcm92ZSA9IEluc3RhbmNlTWFuYWdlci5nZXRNeUFwcHJvdmUoaW5zSWQsIHRoYXQudXNlcklkKVxyXG5cdFx0XHRpZiBteV9hcHByb3ZlXHJcblx0XHRcdFx0bXlBcHByb3Zlcy5wdXNoKG15X2FwcHJvdmUpXHJcblxyXG5cdFx0cmV0dXJuIG15QXBwcm92ZXNcclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gICdnZXRfYmF0Y2hfaW5zdGFuY2VzJzogZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMpIHtcbiAgICB2YXIgX2JhdGNoX2luc3RhbmNlcztcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGlmICghc3BhY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgX2JhdGNoX2luc3RhbmNlcyA9IEluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyhzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgdGhpcy51c2VySWQpO1xuICAgIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzO1xuICB9LFxuICAnZ2V0X2JhdGNoX2luc3RhbmNlc19jb3VudCc6IGZ1bmN0aW9uKHNwYWNlLCBjYXRlZ29yeUlkLCBmbG93SWRzKSB7XG4gICAgdmFyIF9iYXRjaF9pbnN0YW5jZXM7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIF9iYXRjaF9pbnN0YW5jZXMgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0QmF0Y2hJbnN0YW5jZXMoc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIHRoaXMudXNlcklkKTtcbiAgICByZXR1cm4gKF9iYXRjaF9pbnN0YW5jZXMgIT0gbnVsbCA/IF9iYXRjaF9pbnN0YW5jZXMubGVuZ3RoIDogdm9pZCAwKSB8fCAwO1xuICB9LFxuICAnZ2V0X215X2FwcHJvdmVzJzogZnVuY3Rpb24oaW5zdGFuY2VJZHMpIHtcbiAgICB2YXIgbXlBcHByb3ZlcywgdGhhdDtcbiAgICB0aGF0ID0gdGhpcztcbiAgICBpZiAoIXRoYXQudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG15QXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICBpbnN0YW5jZUlkcy5mb3JFYWNoKGZ1bmN0aW9uKGluc0lkKSB7XG4gICAgICB2YXIgbXlfYXBwcm92ZTtcbiAgICAgIG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlKGluc0lkLCB0aGF0LnVzZXJJZCk7XG4gICAgICBpZiAobXlfYXBwcm92ZSkge1xuICAgICAgICByZXR1cm4gbXlBcHByb3Zlcy5wdXNoKG15X2FwcHJvdmUpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBteUFwcHJvdmVzO1xuICB9XG59KTtcbiIsIk1ldGVvci5tZXRob2RzXHJcblx0Y2hhbmdlX2Zsb3dfc3RhdGU6IChmbG93cykgLT5cclxuXHRcdGNoZWNrIGZsb3dzLCBBcnJheVxyXG5cclxuXHRcdF91c2VySWQgPSB0aGlzLnVzZXJJZFxyXG5cclxuXHRcdGlmICFfdXNlcklkXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGZsb3dzLmZvckVhY2ggKGZsb3cpIC0+XHJcblx0XHRcdHNwYWNlSWQgPSBmbG93LnNwYWNlXHJcblx0XHRcdGZvcm1JZCA9IGZsb3cuZm9ybVxyXG5cdFx0XHRmbG93SWQgPSBmbG93LmlkXHJcblx0XHRcdHN0YXRlID0gZmxvdy5zdGF0ZVxyXG5cclxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIF91c2VySWQpXHJcblx0XHRcdFx0dGhyb3cgIE1ldGVvci5FcnJvcig0MDEsIFwiTm8gcGVybWlzc2lvblwiKVxyXG5cclxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZvcm1JZCB9LCB7IGZpZWxkczogeyBoaXN0b3J5czogMCB9IH0pXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd0lkIH0sIHsgZmllbGRzOiB7IGhpc3RvcnlzOiAwIH0gfSlcclxuXHJcblx0XHRcdGlmIHN0YXRlICE9ICdlbmFibGVkJyAmJiBzdGF0ZSAhPSAnZGlzYWJsZWQnXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIilcclxuXHJcblx0XHRcdGlmICFmb3JtXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKVxyXG5cclxuXHRcdFx0aWYgIWZsb3dcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpXHJcblxyXG5cdFx0XHRpZiAhZm9ybS5pc192YWxpZFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVsje2Zvcm0ubmFtZX1d6aqM6K+B5pyq6YCa6L+H77yM6K+35omT5byA5rWB56iL6K6+6K6h5Zmo5qOA5p+l6KGo5Y2V6K6+572uXCIpXHJcblxyXG5cdFx0XHRpZiAhZmxvdy5pc192YWxpZFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpea1geeoi+iuvue9rlwiKVxyXG5cclxuXHRcdFx0aWYgIVsnbmV3JywgJ21vZGlmeScsICdkZWxldGUnXS5pbmNsdWRlcyhmbG93LmZsb3d0eXBlKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jGZsb3d0eXBl5YC85b+F6aG75pivbmV344CBbW9kaWZ544CBZGVsZXRl5YW25Lit5LmL5LiAXCIpXHJcblxyXG5cdFx0XHRpZiAhXy5pc0FycmF5KGZsb3cuY3VycmVudC5zdGVwcylcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzmtYHnqIvnmoTmraXpqqTkuI3og73kuLrnqbpcIilcclxuXHJcblx0XHRcdGlmIF8udW5pcShmbG93LmN1cnJlbnQuc3RlcHMsICduYW1lJykubGVuZ3RoICE9IGZsb3cuY3VycmVudC5zdGVwcy5sZW5ndGhcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzlkIzkuIDkuKrmtYHnqIvkuIvnmoTmraXpqqTnmoTlkI3np7DkuI3og73ph43lpI1cIilcclxuXHJcblx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblxyXG5cdFx0XHRpZiBzdGF0ZSA9PSAnZW5hYmxlZCdcclxuXHRcdFx0XHQj5rWB56iL5ZCv55So5YmN77yM5qCh6aqM5YW24oCc5oyH5a6a5Y6G5Y+y5q2l6aqk4oCd5bGe5oCn5Lit6KKr5byV55So55qE5q2l6aqk5piv5ZCm5a2Y5Zyo5LiU6IO96KKr5om+5Yiw77yI5LuF6ZmQ5LqO5rWB56iL55qE5pyA5paw54mI77yJXHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XHJcblx0XHRcdFx0XHRpZiBbJ3NwZWNpZnlTdGVwVXNlcicsICdzcGVjaWZ5U3RlcFJvbGUnXS5pbmNsdWRlcyhzdGVwLmRlYWxfdHlwZSlcclxuXHRcdFx0XHRcdFx0aWYgIXN0ZXAuYXBwcm92ZXJfc3RlcFxyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFsje3N0ZXAubmFtZX1d5Lit55qE5oyH5a6a5Y6G5Y+y5q2l6aqk5LiN5a2Y5Zyo44CCXCIpXHJcblx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRzcGVjaWZ5U3RlcCA9IF8uZmluZCBmbG93LmN1cnJlbnQuc3RlcHMsIChfc3RlcCkgLT5cclxuXHRcdFx0XHRcdFx0XHRcdHJldHVybiBzdGVwLmFwcHJvdmVyX3N0ZXAgPT0gX3N0ZXAuX2lkXHJcblxyXG5cdFx0XHRcdFx0XHRcdGlmICFzcGVjaWZ5U3RlcFxyXG5cdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5q2l6aqkWyN7c3RlcC5uYW1lfV3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIilcclxuXHJcblx0XHRcdFx0Zm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlID0gZm9ybS5jdXJyZW50LmZpZWxkcy5nZXRQcm9wZXJ0eShcImNvZGVcIilcclxuXHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2ggKHN0ZXApIC0+XHJcblx0XHRcdFx0XHRzdGVwLmZpZWxkc19tb2RpZmlhYmxlID0gXy5pbnRlcnNlY3Rpb24oc3RlcC5maWVsZHNfbW9kaWZpYWJsZSwgZm9ybV9jdXJyZW50X2ZpZWxkc19jb2RlKVxyXG5cclxuXHRcdFx0XHQj5aaC5p6cIOa1geeoi+WvueW6lOihqOWNlSDmmK/lgZznlKjnmoQg5YiZ5ZCv55SoXHJcblx0XHRcdFx0aWYgZm9ybS5zdGF0ZSA9PSAnZGlzYWJsZWQnXHJcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudC5zdGFydF9kYXRlXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkXCI6IG5vdywgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWR9fSlcclxuXHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50Lm1vZGlmaWVkID0gbm93XHJcblx0XHRcdFx0Zmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRmbG93LmN1cnJlbnQubW9kaWZpZWRfYnkgPSBfdXNlcklkXHJcblxyXG5cdFx0XHRcdGRiLmZsb3dzLnVwZGF0ZSh7IF9pZDogZmxvdy5faWQgfSwgeyAkc2V0OiB7IFwic3RhdGVcIjogXCJlbmFibGVkXCIsIFwiY3VycmVudFwiOiBmbG93LmN1cnJlbnQgfSB9KVxyXG5cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdCPnpoHnlKjmtYHnqItcclxuXHRcdFx0XHRkYi5mbG93cy51cGRhdGUoe19pZDogZmxvdy5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXHJcblxyXG5cdFx0XHRcdCMg5Yik5pat6KGo5Y2V5omA5pyJ5rWB56iL5piv5ZCm5bey57uP5YWo6YOo5YGc55SoIOWmguaenOW3suWFqOmDqOWBnOeUqCDliJnkv67mlLnooajljZXnirbmgIHkuLrlgZznlKhcclxuXHRcdFx0XHRfZmxvd3MgPSBkYi5mbG93cy5maW5kKHsgZm9ybTogZm9ybS5faWQgfSwgeyBmaWVsZHM6IHsgX2lkOiAxLCBzdGF0ZTogMSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRcdFx0X2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIilcclxuXHJcblx0XHRcdFx0aWYgIV9mbG93c19zdGF0ZS5pbmNsdWRlcygnZW5hYmxlZCcpXHJcblx0XHRcdFx0XHRkYi5mb3Jtcy51cGRhdGUoe19pZDogZm9ybS5faWR9LCB7JHNldDoge1wic3RhdGVcIjogXCJkaXNhYmxlZFwiLCBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LCBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkfX0pXHJcblxyXG5cclxuXHJcblxyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGNoYW5nZV9mbG93X3N0YXRlOiBmdW5jdGlvbihmbG93cykge1xuICAgIHZhciBfdXNlcklkO1xuICAgIGNoZWNrKGZsb3dzLCBBcnJheSk7XG4gICAgX3VzZXJJZCA9IHRoaXMudXNlcklkO1xuICAgIGlmICghX3VzZXJJZCkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICByZXR1cm4gZmxvd3MuZm9yRWFjaChmdW5jdGlvbihmbG93KSB7XG4gICAgICB2YXIgX2Zsb3dzLCBfZmxvd3Nfc3RhdGUsIGZsb3dJZCwgZm9ybSwgZm9ybUlkLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUsIG5vdywgc3BhY2VJZCwgc3RhdGU7XG4gICAgICBzcGFjZUlkID0gZmxvdy5zcGFjZTtcbiAgICAgIGZvcm1JZCA9IGZsb3cuZm9ybTtcbiAgICAgIGZsb3dJZCA9IGZsb3cuaWQ7XG4gICAgICBzdGF0ZSA9IGZsb3cuc3RhdGU7XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIF91c2VySWQpKSB7XG4gICAgICAgIHRocm93IE1ldGVvci5FcnJvcig0MDEsIFwiTm8gcGVybWlzc2lvblwiKTtcbiAgICAgIH1cbiAgICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmb3JtSWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaGlzdG9yeXM6IDBcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvd0lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGhpc3RvcnlzOiAwXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKHN0YXRlICE9PSAnZW5hYmxlZCcgJiYgc3RhdGUgIT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwic3RhdGXml6DmlYhcIik7XG4gICAgICB9XG4gICAgICBpZiAoIWZvcm0pIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwiZm9ybeaXoOaViFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmxvdykge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCJmbG935peg5pWIXCIpO1xuICAgICAgfVxuICAgICAgaWYgKCFmb3JtLmlzX3ZhbGlkKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+W8leeUqOeahOihqOWNlVtcIiArIGZvcm0ubmFtZSArIFwiXemqjOivgeacqumAmui/h++8jOivt+aJk+W8gOa1geeoi+iuvuiuoeWZqOajgOafpeihqOWNleiuvue9rlwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghZmxvdy5pc192YWxpZCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIzor7fmiZPlvIDmtYHnqIvorr7orqHlmajmo4Dmn6XmtYHnqIvorr7nva5cIik7XG4gICAgICB9XG4gICAgICBpZiAoIVsnbmV3JywgJ21vZGlmeScsICdkZWxldGUnXS5pbmNsdWRlcyhmbG93LmZsb3d0eXBlKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmtYHnqIvpqozor4HmnKrpgJrov4fvvIxmbG93dHlwZeWAvOW/hemhu+aYr25ld+OAgW1vZGlmeeOAgWRlbGV0ZeWFtuS4reS5i+S4gFwiKTtcbiAgICAgIH1cbiAgICAgIGlmICghXy5pc0FycmF5KGZsb3cuY3VycmVudC5zdGVwcykpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcig1MDAsIFwi5rWB56iL6aqM6K+B5pyq6YCa6L+H77yM5rWB56iL55qE5q2l6aqk5LiN6IO95Li656m6XCIpO1xuICAgICAgfVxuICAgICAgaWYgKF8udW5pcShmbG93LmN1cnJlbnQuc3RlcHMsICduYW1lJykubGVuZ3RoICE9PSBmbG93LmN1cnJlbnQuc3RlcHMubGVuZ3RoKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIua1geeoi+mqjOivgeacqumAmui/h++8jOWQjOS4gOS4qua1geeoi+S4i+eahOatpemqpOeahOWQjeensOS4jeiDvemHjeWkjVwiKTtcbiAgICAgIH1cbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaWYgKHN0YXRlID09PSAnZW5hYmxlZCcpIHtcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0ZXBzLmZvckVhY2goZnVuY3Rpb24oc3RlcCkge1xuICAgICAgICAgIHZhciBzcGVjaWZ5U3RlcDtcbiAgICAgICAgICBpZiAoWydzcGVjaWZ5U3RlcFVzZXInLCAnc3BlY2lmeVN0ZXBSb2xlJ10uaW5jbHVkZXMoc3RlcC5kZWFsX3R5cGUpKSB7XG4gICAgICAgICAgICBpZiAoIXN0ZXAuYXBwcm92ZXJfc3RlcCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKDUwMCwgXCLmraXpqqRbXCIgKyBzdGVwLm5hbWUgKyBcIl3kuK3nmoTmjIflrprljoblj7LmraXpqqTkuI3lrZjlnKjjgIJcIik7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBzcGVjaWZ5U3RlcCA9IF8uZmluZChmbG93LmN1cnJlbnQuc3RlcHMsIGZ1bmN0aW9uKF9zdGVwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHN0ZXAuYXBwcm92ZXJfc3RlcCA9PT0gX3N0ZXAuX2lkO1xuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKCFzcGVjaWZ5U3RlcCkge1xuICAgICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNTAwLCBcIuatpemqpFtcIiArIHN0ZXAubmFtZSArIFwiXeS4reeahOaMh+WumuWOhuWPsuatpemqpOS4jeWtmOWcqOOAglwiKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGZvcm1fY3VycmVudF9maWVsZHNfY29kZSA9IGZvcm0uY3VycmVudC5maWVsZHMuZ2V0UHJvcGVydHkoXCJjb2RlXCIpO1xuICAgICAgICBmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuZmllbGRzX21vZGlmaWFibGUgPSBfLmludGVyc2VjdGlvbihzdGVwLmZpZWxkc19tb2RpZmlhYmxlLCBmb3JtX2N1cnJlbnRfZmllbGRzX2NvZGUpO1xuICAgICAgICB9KTtcbiAgICAgICAgaWYgKGZvcm0uc3RhdGUgPT09ICdkaXNhYmxlZCcpIHtcbiAgICAgICAgICBkYi5mb3Jtcy51cGRhdGUoe1xuICAgICAgICAgICAgX2lkOiBmb3JtLl9pZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImVuYWJsZWRcIixcbiAgICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRfYnlcIjogX3VzZXJJZFxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGZsb3cuY3VycmVudC5tb2RpZmllZCA9IG5vdztcbiAgICAgICAgZmxvdy5jdXJyZW50LnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIGZsb3cuY3VycmVudC5tb2RpZmllZF9ieSA9IF91c2VySWQ7XG4gICAgICAgIHJldHVybiBkYi5mbG93cy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogZmxvdy5faWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIFwic3RhdGVcIjogXCJlbmFibGVkXCIsXG4gICAgICAgICAgICBcImN1cnJlbnRcIjogZmxvdy5jdXJyZW50XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGRiLmZsb3dzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBmbG93Ll9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgXCJzdGF0ZVwiOiBcImRpc2FibGVkXCIsXG4gICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgXCJjdXJyZW50LnN0YXJ0X2RhdGVcIjogbm93LFxuICAgICAgICAgICAgXCJjdXJyZW50Lm1vZGlmaWVkX2J5XCI6IF91c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgICBmb3JtOiBmb3JtLl9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBfaWQ6IDEsXG4gICAgICAgICAgICBzdGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgICAgX2Zsb3dzX3N0YXRlID0gX2Zsb3dzLmdldFByb3BlcnR5KFwic3RhdGVcIik7XG4gICAgICAgIGlmICghX2Zsb3dzX3N0YXRlLmluY2x1ZGVzKCdlbmFibGVkJykpIHtcbiAgICAgICAgICByZXR1cm4gZGIuZm9ybXMudXBkYXRlKHtcbiAgICAgICAgICAgIF9pZDogZm9ybS5faWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAkc2V0OiB7XG4gICAgICAgICAgICAgIFwic3RhdGVcIjogXCJkaXNhYmxlZFwiLFxuICAgICAgICAgICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogbm93LFxuICAgICAgICAgICAgICBcImN1cnJlbnQuc3RhcnRfZGF0ZVwiOiBub3csXG4gICAgICAgICAgICAgIFwiY3VycmVudC5tb2RpZmllZF9ieVwiOiBfdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cclxuXHRoaWRlX2luc3RhbmNlOiAoaW5zSWQsIGlzX2hpZGRlbikgLT5cclxuXHRcdGlmICF0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRjaGVjayhpbnNJZCwgU3RyaW5nKVxyXG5cdFx0Y2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKVxyXG5cclxuXHRcdHVzZXJJZCA9IHRoaXMudXNlcklkXHJcblxyXG5cdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNJZCwgeyBmaWVsZHM6IHsgc3RhdGU6IDEsIGZsb3c6IDEsIHNwYWNlOiAxIH0gfSlcclxuXHJcblx0XHRpZiBub3QgaW5zdGFuY2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIilcclxuXHJcblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250ICdjb21wbGV0ZWQnXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpXHJcblxyXG5cdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXHJcblx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpXHJcblx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGluc3RhbmNlLnNwYWNlLCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXModXNlcklkKSlcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIilcclxuXHJcblx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKGluc0lkLCB7ICRzZXQ6IHsgaXNfaGlkZGVuOiBpc19oaWRkZW4gfSB9KVxyXG5cclxuXHRcdHJldHVybiB0cnVlO1xyXG4iLCJNZXRlb3IubWV0aG9kcyh7XG4gIGhpZGVfaW5zdGFuY2U6IGZ1bmN0aW9uKGluc0lkLCBpc19oaWRkZW4pIHtcbiAgICB2YXIgaW5zdGFuY2UsIHBlcm1pc3Npb25zLCBzcGFjZSwgdXNlcklkO1xuICAgIGlmICghdGhpcy51c2VySWQpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY2hlY2soaW5zSWQsIFN0cmluZyk7XG4gICAgY2hlY2soaXNfaGlkZGVuLCBCb29sZWFuKTtcbiAgICB1c2VySWQgPSB0aGlzLnVzZXJJZDtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3RhdGU6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHNwYWNlOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZVcIik7XG4gICAgfVxuICAgIGlmIChpbnN0YW5jZS5zdGF0ZSAhPT0gJ2NvbXBsZXRlZCcpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V54q25oCB5LiN5piv5bey57uT5p2fXCIpO1xuICAgIH1cbiAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCB1c2VySWQpO1xuICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBhZG1pbnM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSAmJiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgfVxuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoaW5zSWQsIHtcbiAgICAgICRzZXQ6IHtcbiAgICAgICAgaXNfaGlkZGVuOiBpc19oaWRkZW5cbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJNZXRlb3IubWV0aG9kc1xyXG5cdGdldEluc3RhbmNlVmFsdWVzOiAoaW5zSWQpLT5cclxuXHRcdGlmICghdGhpcy51c2VySWQpXHJcblx0XHRcdHJldHVybjtcclxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnNJZH0sIHtmaWVsZHM6IHt2YWx1ZXM6IDF9fSk/LnZhbHVlcyIsIk1ldGVvci5tZXRob2RzKHtcbiAgZ2V0SW5zdGFuY2VWYWx1ZXM6IGZ1bmN0aW9uKGluc0lkKSB7XG4gICAgdmFyIHJlZjtcbiAgICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHJldHVybiAocmVmID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpbnNJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB2YWx1ZXM6IDFcbiAgICAgIH1cbiAgICB9KSkgIT0gbnVsbCA/IHJlZi52YWx1ZXMgOiB2b2lkIDA7XG4gIH1cbn0pO1xuIiwiQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpXHJcblxyXG5nZXRJbnN0YW5jZVJlYWRPbmx5ID0gKHJlcSwgcmVzLCBuZXh0LCBvcHRpb25zKSAtPlxyXG5cclxuXHR1c2VyID0gU3RlZWRvcy5nZXRBUElMb2dpblVzZXIocmVxLCByZXMpXHJcblxyXG5cdGlmIHJlcT8ucXVlcnk/LmFjY2Vzc190b2tlblxyXG5cdFx0dXNlcklkID0gU3RlZWRvcy5nZXRVc2VySWRGcm9tQWNjZXNzVG9rZW4ocmVxLnF1ZXJ5LmFjY2Vzc190b2tlbilcclxuXHRcdGlmIHVzZXJJZFxyXG5cdFx0XHR1c2VyID0gTWV0ZW9yLnVzZXJzLmZpbmRPbmUoe19pZDogdXNlcklkfSlcclxuXHJcblx0c3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2VcclxuXHJcblx0aW5zdGFuY2VJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VfaWRcclxuXHJcblx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpbnN0YW5jZUlkfSk7XHJcblxyXG5cdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe19pZDogc3BhY2VJZH0pO1xyXG5cclxuXHRoaWRlX3RyYWNlcyA9IHJlcS5xdWVyeT8uaGlkZV90cmFjZXNcclxuXHJcblx0aWYgIW9wdGlvbnNcclxuXHRcdG9wdGlvbnMgPSB7c2hvd1RyYWNlOiB0cnVlfVxyXG5cdGVsc2VcclxuXHRcdG9wdGlvbnMuc2hvd1RyYWNlID0gdHJ1ZVxyXG5cclxuXHRpZiBoaWRlX3RyYWNlcyBpcyBcIjFcIlxyXG5cdFx0aWYgb3B0aW9uc1xyXG5cdFx0XHRvcHRpb25zLnNob3dUcmFjZSA9IGZhbHNlXHJcblx0XHRlbHNlXHJcblx0XHRcdG9wdGlvbnMgPSB7c2hvd1RyYWNlOiBmYWxzZX1cclxuXHJcblx0aWYgIW9wdGlvbnMuc2hvd0F0dGFjaG1lbnRzXHJcblx0XHRvcHRpb25zLnNob3dBdHRhY2htZW50cyA9IHRydWVcclxuXHJcblx0aWYgIXNwYWNlXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZVwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRpZiAgIWluc3RhbmNlXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRpZiAhdXNlclxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogNDAxLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuLFgtVXNlci1JZFwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRpZiBpbnN0YW5jZS5zcGFjZSAhPSBzcGFjZUlkXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZSBvciBpbnN0YW5jZVwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHJcblxyXG5cdHNwYWNlVXNlckNvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHVzZXI6IHVzZXIuX2lkLCBzcGFjZTogc3BhY2VJZCB9KS5jb3VudCgpXHJcblxyXG5cdGlmIHNwYWNlVXNlckNvdW50IGlzIDBcclxuXHRcdGlmICFzcGFjZVxyXG5cdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDQwMSxcclxuXHRcdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzYXBjZVVzZXJcIixcclxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRyZXR1cm47XHJcblxyXG5cdCPmoKHpqox1c2Vy5piv5ZCm5a+5aW5zdGFuY2XmnInmn6XnnIvmnYPpmZBcclxuXHRfaGFzUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIGluc3RhbmNlKVxyXG5cclxuXHRpZiAhX2hhc1Blcm1pc3Npb24gICYmIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZVxyXG5cdFx0X3BhcmVudF9pbnN0YW5jZXMgPSBfLnVuaW9uKFtpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VdLCBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzIHx8IFtdKVxyXG5cclxuXHRcdF9oYXNQZXJtaXNzaW9uID0gXy5maW5kIF9wYXJlbnRfaW5zdGFuY2VzLCAoX3BhcmVudF9pZCktPlxyXG5cdFx0XHRfcGFyZW50X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6X3BhcmVudF9pZH0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSlcclxuXHJcblx0XHRcdHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucylcclxuXHJcblx0aWYgIV9oYXNQZXJtaXNzaW9uXHJcblx0XHRfbG9jYWxlID0gU3RlZWRvcy5sb2NhbGUodXNlci5faWQsIHRydWUpXHJcblx0XHRlcnJvciA9IFRBUGkxOG4uX18oXCJpbnN0YW5jZV9wZXJtaXNzaW9uc19lcnJvclwiLCB7fSwgX2xvY2FsZSlcclxuXHRcdHJlcy5jaGFyc2V0ID0gXCJ1dGYtOFwiXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBlcnJvcixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdHJldHVybjtcclxuXHJcblx0aHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cdGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xyXG5cdHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpXHJcblx0cmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC0je2RhdGFCdWYubGVuZ3RoIC0gMX0vI3tkYXRhQnVmLmxlbmd0aH1cIilcclxuXHRyZXMuc3RhdHVzQ29kZSA9IDIwMFxyXG5cdHJlcy5lbmQoaHRtbClcclxuXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZFwiLCBnZXRJbnN0YW5jZVJlYWRPbmx5XHJcblxyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9yZWFkb25seS86aW5zdGFuY2VfaWQvOmluc3RhbmNlX25hbWVcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XHJcblx0cmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xyXG5cdHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nK2VuY29kZVVSSShyZXEucGFyYW1zLmluc3RhbmNlX25hbWUpKTtcclxuXHRyZXMuc2V0SGVhZGVyKCdUcmFuc2Zlci1FbmNvZGluZycsICcnKVxyXG5cclxuXHRvcHRpb25zID0ge2Fic29sdXRlOiB0cnVlfVxyXG5cclxuXHRyZXR1cm4gZ2V0SW5zdGFuY2VSZWFkT25seShyZXEsIHJlcywgbmV4dCwgb3B0aW9ucylcclxuIyMjXHJcblx06I635Y+W55Sz6K+35Y2V5YiX6KGo77yaXHJcbiAgICBmaW5hbF9kZWNpc2lvbu+8muWuoeaJuee7k+aenFxyXG4gICAgc3RhdGU6IOeUs+ivt+WNleeKtuaAgVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L2luc3RhbmNlc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblxyXG5cdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRyZXR1cm4gO1xyXG5cclxuXHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHRzcGFjZUlkID0gcmVxLmhlYWRlcnNbXCJ4LXNwYWNlLWlkXCJdXHJcblxyXG5cdGlmIG5vdCBzcGFjZUlkXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdGRhdGE6XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLVNwYWNlLUlkXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRyZXR1cm47XHJcblxyXG5cdGZsb3dJZCA9IHJlcS5xdWVyeT8uZmxvd0lkXHJcblxyXG5cdGlmICFmbG93SWRcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDQwMCxcclxuXHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIGZsb3dJZFwiLFxyXG5cdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0cmV0dXJuO1xyXG5cclxuXHRxdWVyeSA9IHt9XHJcblxyXG5cdHJldF9zeW5jX3Rva2VuID0gbmV3IERhdGUoKS5nZXRUaW1lKClcclxuXHJcblx0Zmxvd0lkcyA9IGZsb3dJZC5zcGxpdChcIixcIilcclxuXHJcblxyXG5cdGZsb3dzID0gZGIuZmxvd3MuZmluZCh7X2lkOiB7JGluOiBmbG93SWRzfX0pLmZldGNoKClcclxuXHJcblx0aSA9IDBcclxuXHR3aGlsZSBpIDwgZmxvd3MubGVuZ3RoXHJcblx0XHRmID0gZmxvd3NbaV1cclxuXHRcdHNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3NwYWNlOiBmLnNwYWNlLCB1c2VyOiB1c2VyX2lkfSlcclxuXHRcdGlmICFzcGFjZVVzZXJcclxuXHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdFx0ZGF0YTpcclxuXHRcdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb24sIGZsb3cgaXMgI3tmLl9pZH1cIixcclxuXHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRyZXR1cm47XHJcblx0XHRlbHNlXHJcblxyXG5cdCNcdOaYr+WQpuW3peS9nOWMuueuoeeQhuWRmFxyXG5cdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKHNwYWNlSWQsIHVzZXJfaWQpXHJcblx0XHRcdHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xyXG5cdFx0XHRcdF9pZDoge1xyXG5cdFx0XHRcdFx0JGluOiBzcGFjZVVzZXIub3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuZmV0Y2goKTtcclxuXHJcblx0XHRcdGlmICFXb3JrZmxvd01hbmFnZXIuY2FuTW9uaXRvcihmLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMpICYmICFXb3JrZmxvd01hbmFnZXIuY2FuQWRtaW4oZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKVxyXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0XHRjb2RlOiA0MDEsXHJcblx0XHRcdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzICN7Zi5faWR9XCIsXHJcblx0XHRcdFx0XHRcdFwic3VjY2Vzc1wiOiBmYWxzZVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHRcdGkrK1xyXG5cclxuXHJcblx0cXVlcnkuZmxvdyA9IHskaW46IGZsb3dJZHN9XHJcblxyXG5cdHF1ZXJ5LnNwYWNlID0gc3BhY2VJZFxyXG5cclxuXHRpZiByZXEucXVlcnk/LnN5bmNfdG9rZW5cclxuXHRcdHN5bmNfdG9rZW4gPSBuZXcgRGF0ZShOdW1iZXIocmVxLnF1ZXJ5LnN5bmNfdG9rZW4pKVxyXG5cdFx0cXVlcnkubW9kaWZpZWQgPSB7JGd0OiBzeW5jX3Rva2VufVxyXG5cclxuXHRpZiByZXEucXVlcnk/LmZpbmFsX2RlY2lzaW9uXHJcblx0XHRxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHskaW4gOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpfVxyXG5cdGVsc2VcclxuXHRcdHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0geyRuaW46IFtcInRlcm1pbmF0ZWRcIiwgXCJyZWplY3RlZFwiXX1cclxuXHJcblx0aWYgcmVxLnF1ZXJ5Py5zdGF0ZVxyXG5cdFx0cXVlcnkuc3RhdGUgPSB7JGluOiByZXEucXVlcnkuc3RhdGUuc3BsaXQoXCIsXCIpfVxyXG5cdGVsc2VcclxuXHRcdHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIlxyXG5cclxuI1x05pyA5aSa6L+U5ZueNTAw5p2h5pWw5o2uXHJcblx0aW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtpbmJveF91ZXJzOiAwLCBjY191c2VyczogMCwgb3V0Ym94X3VzZXJzOiAwLCB0cmFjZXM6IDAsIGF0dGFjaG1lbnRzOiAwfSwgc2tpcDogMCwgbGltaXQ6IDUwMH0pLmZldGNoKClcclxuXHRpbnN0YW5jZXMuZm9yRWFjaCAoaW5zdGFuY2UpLT5cclxuXHJcblx0XHRhdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXHJcblxyXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBhdHRhY2htZW50c1xyXG5cclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxyXG5cdFx0XHRcdFwic3luY190b2tlblwiOiByZXRfc3luY190b2tlblxyXG5cdFx0XHRcdFwiZGF0YVwiOiBpbnN0YW5jZXNcclxuXHRyZXR1cm47XHJcbiIsInZhciBDb29raWVzLCBnZXRJbnN0YW5jZVJlYWRPbmx5O1xuXG5Db29raWVzID0gcmVxdWlyZShcImNvb2tpZXNcIik7XG5cbmdldEluc3RhbmNlUmVhZE9ubHkgPSBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCwgb3B0aW9ucykge1xuICB2YXIgX2hhc1Blcm1pc3Npb24sIF9sb2NhbGUsIF9wYXJlbnRfaW5zdGFuY2VzLCBkYXRhQnVmLCBlcnJvciwgaGlkZV90cmFjZXMsIGh0bWwsIGluc3RhbmNlLCBpbnN0YW5jZUlkLCByZWYsIHJlZjEsIHNwYWNlLCBzcGFjZUlkLCBzcGFjZVVzZXJDb3VudCwgdXNlciwgdXNlcklkO1xuICB1c2VyID0gU3RlZWRvcy5nZXRBUElMb2dpblVzZXIocmVxLCByZXMpO1xuICBpZiAocmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmFjY2Vzc190b2tlbiA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgIHVzZXJJZCA9IFN0ZWVkb3MuZ2V0VXNlcklkRnJvbUFjY2Vzc1Rva2VuKHJlcS5xdWVyeS5hY2Nlc3NfdG9rZW4pO1xuICAgIGlmICh1c2VySWQpIHtcbiAgICAgIHVzZXIgPSBNZXRlb3IudXNlcnMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogdXNlcklkXG4gICAgICB9KTtcbiAgICB9XG4gIH1cbiAgc3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2U7XG4gIGluc3RhbmNlSWQgPSByZXEucGFyYW1zLmluc3RhbmNlX2lkO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICBfaWQ6IGluc3RhbmNlSWRcbiAgfSk7XG4gIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoe1xuICAgIF9pZDogc3BhY2VJZFxuICB9KTtcbiAgaGlkZV90cmFjZXMgPSAocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuaGlkZV90cmFjZXMgOiB2b2lkIDA7XG4gIGlmICghb3B0aW9ucykge1xuICAgIG9wdGlvbnMgPSB7XG4gICAgICBzaG93VHJhY2U6IHRydWVcbiAgICB9O1xuICB9IGVsc2Uge1xuICAgIG9wdGlvbnMuc2hvd1RyYWNlID0gdHJ1ZTtcbiAgfVxuICBpZiAoaGlkZV90cmFjZXMgPT09IFwiMVwiKSB7XG4gICAgaWYgKG9wdGlvbnMpIHtcbiAgICAgIG9wdGlvbnMuc2hvd1RyYWNlID0gZmFsc2U7XG4gICAgfSBlbHNlIHtcbiAgICAgIG9wdGlvbnMgPSB7XG4gICAgICAgIHNob3dUcmFjZTogZmFsc2VcbiAgICAgIH07XG4gICAgfVxuICB9XG4gIGlmICghb3B0aW9ucy5zaG93QXR0YWNobWVudHMpIHtcbiAgICBvcHRpb25zLnNob3dBdHRhY2htZW50cyA9IHRydWU7XG4gIH1cbiAgaWYgKCFzcGFjZSkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCFpbnN0YW5jZSkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBpbnN0YW5jZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgaWYgKCF1c2VyKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtQXV0aC1Ub2tlbixYLVVzZXItSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGlmIChpbnN0YW5jZS5zcGFjZSAhPT0gc3BhY2VJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBzcGFjZSBvciBpbnN0YW5jZVwiLFxuICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm47XG4gIH1cbiAgc3BhY2VVc2VyQ291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICB1c2VyOiB1c2VyLl9pZCxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9KS5jb3VudCgpO1xuICBpZiAoc3BhY2VVc2VyQ291bnQgPT09IDApIHtcbiAgICBpZiAoIXNwYWNlKSB7XG4gICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3Npbmcgc2FwY2VVc2VyXCIsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfVxuICBfaGFzUGVybWlzc2lvbiA9IFdvcmtmbG93TWFuYWdlci5oYXNJbnN0YW5jZVBlcm1pc3Npb25zKHVzZXIsIGluc3RhbmNlKTtcbiAgaWYgKCFfaGFzUGVybWlzc2lvbiAmJiBpbnN0YW5jZS5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2UpIHtcbiAgICBfcGFyZW50X2luc3RhbmNlcyA9IF8udW5pb24oW2luc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZV0sIGluc3RhbmNlLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMgfHwgW10pO1xuICAgIF9oYXNQZXJtaXNzaW9uID0gXy5maW5kKF9wYXJlbnRfaW5zdGFuY2VzLCBmdW5jdGlvbihfcGFyZW50X2lkKSB7XG4gICAgICB2YXIgX3BhcmVudF9pbnM7XG4gICAgICBfcGFyZW50X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBfcGFyZW50X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHRyYWNlczogMFxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBXb3JrZmxvd01hbmFnZXIuaGFzSW5zdGFuY2VQZXJtaXNzaW9ucyh1c2VyLCBfcGFyZW50X2lucyk7XG4gICAgfSk7XG4gIH1cbiAgaWYgKCFfaGFzUGVybWlzc2lvbikge1xuICAgIF9sb2NhbGUgPSBTdGVlZG9zLmxvY2FsZSh1c2VyLl9pZCwgdHJ1ZSk7XG4gICAgZXJyb3IgPSBUQVBpMThuLl9fKFwiaW5zdGFuY2VfcGVybWlzc2lvbnNfZXJyb3JcIiwge30sIF9sb2NhbGUpO1xuICAgIHJlcy5jaGFyc2V0ID0gXCJ1dGYtOFwiO1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMSxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBlcnJvcixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXIsIHNwYWNlLCBpbnN0YW5jZSwgb3B0aW9ucyk7XG4gIGRhdGFCdWYgPSBuZXcgQnVmZmVyKGh0bWwpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnNldEhlYWRlcignY29udGVudC1yYW5nZScsIFwiYnl0ZXMgMC1cIiArIChkYXRhQnVmLmxlbmd0aCAtIDEpICsgXCIvXCIgKyBkYXRhQnVmLmxlbmd0aCk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChodG1sKTtcbn07XG5cbkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L3JlYWRvbmx5LzppbnN0YW5jZV9pZFwiLCBnZXRJbnN0YW5jZVJlYWRPbmx5KTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvd29ya2Zsb3cvc3BhY2UvOnNwYWNlL3ZpZXcvcmVhZG9ubHkvOmluc3RhbmNlX2lkLzppbnN0YW5jZV9uYW1lXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBvcHRpb25zO1xuICByZXMuc2V0SGVhZGVyKCdDb250ZW50LXR5cGUnLCAnYXBwbGljYXRpb24veC1tc2Rvd25sb2FkJyk7XG4gIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKHJlcS5wYXJhbXMuaW5zdGFuY2VfbmFtZSkpO1xuICByZXMuc2V0SGVhZGVyKCdUcmFuc2Zlci1FbmNvZGluZycsICcnKTtcbiAgb3B0aW9ucyA9IHtcbiAgICBhYnNvbHV0ZTogdHJ1ZVxuICB9O1xuICByZXR1cm4gZ2V0SW5zdGFuY2VSZWFkT25seShyZXEsIHJlcywgbmV4dCwgb3B0aW9ucyk7XG59KTtcblxuXG4vKlxuXHTojrflj5bnlLPor7fljZXliJfooajvvJpcbiAgICBmaW5hbF9kZWNpc2lvbu+8muWuoeaJuee7k+aenFxuICAgIHN0YXRlOiDnlLPor7fljZXnirbmgIFcbiAqL1xuXG5Kc29uUm91dGVzLmFkZChcImdldFwiLCBcIi9hcGkvd29ya2Zsb3cvaW5zdGFuY2VzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBmLCBmbG93SWQsIGZsb3dJZHMsIGZsb3dzLCBpLCBpbnN0YW5jZXMsIHF1ZXJ5LCByZWYsIHJlZjEsIHJlZjIsIHJlZjMsIHJldF9zeW5jX3Rva2VuLCBzcGFjZUlkLCBzcGFjZVVzZXIsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHN5bmNfdG9rZW4sIHVzZXJfaWQ7XG4gIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgc3BhY2VJZCA9IHJlcS5oZWFkZXJzW1wieC1zcGFjZS1pZFwiXTtcbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogNDAxLFxuICAgICAgZGF0YToge1xuICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBNaXNzaW5nIFgtU3BhY2UtSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIGZsb3dJZCA9IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuZmxvd0lkIDogdm9pZCAwO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDQwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBmbG93SWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9XG4gICAgfSk7XG4gICAgcmV0dXJuO1xuICB9XG4gIHF1ZXJ5ID0ge307XG4gIHJldF9zeW5jX3Rva2VuID0gbmV3IERhdGUoKS5nZXRUaW1lKCk7XG4gIGZsb3dJZHMgPSBmbG93SWQuc3BsaXQoXCIsXCIpO1xuICBmbG93cyA9IGRiLmZsb3dzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBmbG93SWRzXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICBpID0gMDtcbiAgd2hpbGUgKGkgPCBmbG93cy5sZW5ndGgpIHtcbiAgICBmID0gZmxvd3NbaV07XG4gICAgc3BhY2VVc2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICBzcGFjZTogZi5zcGFjZSxcbiAgICAgIHVzZXI6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBpZiAoIXNwYWNlVXNlcikge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiA0MDEsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzIFwiICsgZi5faWQsXG4gICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgcmV0dXJuO1xuICAgIH0gZWxzZSB7XG5cbiAgICB9XG4gICAgaWYgKCFTdGVlZG9zLmlzU3BhY2VBZG1pbihzcGFjZUlkLCB1c2VyX2lkKSkge1xuICAgICAgc3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogc3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcbiAgICAgICAgfVxuICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIGlmICghV29ya2Zsb3dNYW5hZ2VyLmNhbk1vbml0b3IoZiwgc3BhY2VVc2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSAmJiAhV29ya2Zsb3dNYW5hZ2VyLmNhbkFkbWluKGYsIHNwYWNlVXNlciwgc3BhY2VVc2VyT3JnYW5pemF0aW9ucykpIHtcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDQwMSxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICBcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uLCBmbG93IGlzIFwiICsgZi5faWQsXG4gICAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgfVxuICAgIGkrKztcbiAgfVxuICBxdWVyeS5mbG93ID0ge1xuICAgICRpbjogZmxvd0lkc1xuICB9O1xuICBxdWVyeS5zcGFjZSA9IHNwYWNlSWQ7XG4gIGlmICgocmVmMSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEuc3luY190b2tlbiA6IHZvaWQgMCkge1xuICAgIHN5bmNfdG9rZW4gPSBuZXcgRGF0ZShOdW1iZXIocmVxLnF1ZXJ5LnN5bmNfdG9rZW4pKTtcbiAgICBxdWVyeS5tb2RpZmllZCA9IHtcbiAgICAgICRndDogc3luY190b2tlblxuICAgIH07XG4gIH1cbiAgaWYgKChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5maW5hbF9kZWNpc2lvbiA6IHZvaWQgMCkge1xuICAgIHF1ZXJ5LmZpbmFsX2RlY2lzaW9uID0ge1xuICAgICAgJGluOiByZXEucXVlcnkuZmluYWxfZGVjaXNpb24uc3BsaXQoXCIsXCIpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5maW5hbF9kZWNpc2lvbiA9IHtcbiAgICAgICRuaW46IFtcInRlcm1pbmF0ZWRcIiwgXCJyZWplY3RlZFwiXVxuICAgIH07XG4gIH1cbiAgaWYgKChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5zdGF0ZSA6IHZvaWQgMCkge1xuICAgIHF1ZXJ5LnN0YXRlID0ge1xuICAgICAgJGluOiByZXEucXVlcnkuc3RhdGUuc3BsaXQoXCIsXCIpXG4gICAgfTtcbiAgfSBlbHNlIHtcbiAgICBxdWVyeS5zdGF0ZSA9IFwiY29tcGxldGVkXCI7XG4gIH1cbiAgaW5zdGFuY2VzID0gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIGluYm94X3VlcnM6IDAsXG4gICAgICBjY191c2VyczogMCxcbiAgICAgIG91dGJveF91c2VyczogMCxcbiAgICAgIHRyYWNlczogMCxcbiAgICAgIGF0dGFjaG1lbnRzOiAwXG4gICAgfSxcbiAgICBza2lwOiAwLFxuICAgIGxpbWl0OiA1MDBcbiAgfSkuZmV0Y2goKTtcbiAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICB2YXIgYXR0YWNobWVudHM7XG4gICAgYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLFxuICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHtcbiAgICAgICAgJG5lOiB0cnVlXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGNvcGllczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcmV0dXJuIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gYXR0YWNobWVudHM7XG4gIH0pO1xuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgY29kZTogMjAwLFxuICAgIGRhdGE6IHtcbiAgICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgICAgXCJzeW5jX3Rva2VuXCI6IHJldF9zeW5jX3Rva2VuLFxuICAgICAgXCJkYXRhXCI6IGluc3RhbmNlc1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIlxyXG5Kc29uUm91dGVzLmFkZCBcImdldFwiLCBcIi9zdGVlZG9zLWNzc1wiLCAocmVxLCByZXMsIG5leHQpLT5cclxuXHJcblx0YWxsQ3NzID0gV2ViQXBwLmdldFJlZnJlc2hhYmxlQXNzZXRzKClcclxuXHJcblx0YWxsQ3NzTGluayA9IFwiXCJcclxuXHJcblx0YWxsQ3NzLmZvckVhY2ggKGNzcykgLT5cclxuXHRcdGlmIF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVhcclxuXHRcdFx0cm9vdFVybCA9IF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxcclxuXHRcdFx0aWYgcm9vdFVybC5lbmRzV2l0aChcIi9cIilcclxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVggKyBcIi9cIiwgXCJcIikgKyBjc3MudXJsXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRjc3NIcmVmID0gcm9vdFVybC5yZXBsYWNlKF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkxfUEFUSF9QUkVGSVgsIFwiXCIpICsgY3NzLnVybFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKGNzcy51cmwpXHJcblx0XHRhbGxDc3NMaW5rICs9IFwiQGltcG9ydCB1cmwoI3tjc3NIcmVmfSk7XCJcclxuXHJcblx0cmVzLnN0YXR1c0NvZGUgPSAyMDBcclxuXHRyZXMuZW5kKGFsbENzc0xpbmspIiwiSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvc3RlZWRvcy1jc3NcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGFsbENzcywgYWxsQ3NzTGluaztcbiAgYWxsQ3NzID0gV2ViQXBwLmdldFJlZnJlc2hhYmxlQXNzZXRzKCk7XG4gIGFsbENzc0xpbmsgPSBcIlwiO1xuICBhbGxDc3MuZm9yRWFjaChmdW5jdGlvbihjc3MpIHtcbiAgICB2YXIgY3NzSHJlZiwgcm9vdFVybDtcbiAgICBpZiAoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCkge1xuICAgICAgcm9vdFVybCA9IF9fbWV0ZW9yX3J1bnRpbWVfY29uZmlnX18uUk9PVF9VUkw7XG4gICAgICBpZiAocm9vdFVybC5lbmRzV2l0aChcIi9cIikpIHtcbiAgICAgICAgY3NzSHJlZiA9IHJvb3RVcmwucmVwbGFjZShfX21ldGVvcl9ydW50aW1lX2NvbmZpZ19fLlJPT1RfVVJMX1BBVEhfUFJFRklYICsgXCIvXCIsIFwiXCIpICsgY3NzLnVybDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGNzc0hyZWYgPSByb290VXJsLnJlcGxhY2UoX19tZXRlb3JfcnVudGltZV9jb25maWdfXy5ST09UX1VSTF9QQVRIX1BSRUZJWCwgXCJcIikgKyBjc3MudXJsO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICBjc3NIcmVmID0gTWV0ZW9yLmFic29sdXRlVXJsKGNzcy51cmwpO1xuICAgIH1cbiAgICByZXR1cm4gYWxsQ3NzTGluayArPSBcIkBpbXBvcnQgdXJsKFwiICsgY3NzSHJlZiArIFwiKTtcIjtcbiAgfSk7XG4gIHJlcy5zdGF0dXNDb2RlID0gMjAwO1xuICByZXR1cm4gcmVzLmVuZChhbGxDc3NMaW5rKTtcbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L3NwYWNlLzpzcGFjZS92aWV3L2RyYWZ0LzpmbG93XCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHVzZXJfaWQgPSByZXEudXNlcklkXHJcblxyXG5cdHVzZXIgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiB1c2VyX2lkIH0pXHJcblxyXG5cdHNwYWNlSWQgPSByZXEucGFyYW1zLnNwYWNlXHJcblxyXG5cdGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvd1xyXG5cclxuXHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZUlkIH0pXHJcblxyXG5cdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHsgX2lkOiBmbG93SWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSwgJ2N1cnJlbnQuX2lkJzogMSwgZm9ybTogMSB9IH0pXHJcblxyXG5cdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93LmZvcm0gfSwgeyBmaWVsZHM6IHsgJ2N1cnJlbnQuX2lkJzogMSB9IH0pXHJcblxyXG5cdG9wdGlvbnMgPSB7XHJcblx0XHRzaG93VHJhY2U6IGZhbHNlLFxyXG5cdFx0c2hvd0F0dGFjaG1lbnRzOiBmYWxzZSxcclxuXHRcdHRlbXBsYXRlTmFtZTogXCJkZWZhdWx0XCIsXHJcblx0XHRlZGl0YWJsZTogdHJ1ZSxcclxuXHRcdHdpZHRoOiBcIjEwMCVcIixcclxuXHRcdGluc3RhbmNlX3N0eWxlOiBcImluc3RhbmNlLWRlZmF1bHRcIixcclxuXHRcdHBsdWdpbnM6IFwiXCJcIlxyXG5cclxuXHRcdFx0PG1ldGEgaHR0cC1lcXVpdj1cIlgtVUEtQ29tcGF0aWJsZVwiIGNvbnRlbnQ9XCJJRT1lZGdlLGNocm9tZT0xXCIgLz5cclxuXHRcdFx0PG1ldGEgbmFtZT1cImZvcm1hdC1kZXRlY3Rpb25cIiBjb250ZW50PVwidGVsZXBob25lPW5vXCI+XHJcblx0XHRcdDxtZXRhIGh0dHAtZXF1aXY9XCJ4LXJpbS1hdXRvLW1hdGNoXCIgY29udGVudD1cIm5vbmVcIj5cclxuXHRcdFx0PHRpdGxlPiN7Zmxvdy5uYW1lfTwvdGl0bGU+XHJcblx0XHRcdDxtZXRhIGNvbnRlbnQ9J3dpZHRoPWRldmljZS13aWR0aCwgaW5pdGlhbC1zY2FsZT0xLjAsIG1heGltdW0tc2NhbGU9MS4wLCB1c2VyLXNjYWxhYmxlPTAnIG5hbWU9J3ZpZXdwb3J0JyAvPlxyXG5cdFx0XHQ8bWV0YSBuYW1lPVwidmlld3BvcnRcIiBjb250ZW50PVwid2lkdGg9ZGV2aWNlLXdpZHRoXCIgLz5cclxuXHJcblx0XHRcdDxsaW5rIHJlbD1cInN0eWxlc2hlZXRcIiB0eXBlPVwidGV4dC9jc3NcIiBocmVmPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2Nzcy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIubWluLmNzc1wiPlxyXG5cclxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvanMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cclxuXHJcblx0XHRcdDxzY3JpcHQgc3JjPVwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2xvY2FsZXMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyLnpoLUNOLmpzXCIgdHlwZT1cInRleHQvamF2YXNjcmlwdFwiIGNoYXJzZXQ9XCJVVEYtOFwiPjwvc2NyaXB0PlxyXG5cclxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5jc3NcIj5cclxuXHRcdFx0PHNjcmlwdCBzcmM9XCIvcGx1Z2lucy90b2FzdHIvdG9hc3RyLm1pbi5qc1wiIHR5cGU9XCJ0ZXh0L2phdmFzY3JpcHRcIj48L3NjcmlwdD5cclxuXHRcdFx0PGxpbmsgcmVsPVwic3R5bGVzaGVldFwiIHR5cGU9XCJ0ZXh0L2Nzc1wiIGhyZWY9XCIvanMvd29ya2Zsb3dfY2xpZW50LmNzc1wiPlxyXG5cdFx0XHQ8c2NyaXB0IHNyYz1cIi9qcy93b3JrZmxvd19jbGllbnQuanNcIiB0eXBlPVwidGV4dC9qYXZhc2NyaXB0XCI+PC9zY3JpcHQ+XHJcblx0XHRcIlwiXCJcclxuXHR9XHJcblxyXG5cdGluc3RhbmNlID0ge1xyXG5cdFx0ZmxvdzogZmxvdy5faWQsXHJcblx0XHRmbG93X3ZlcnNpb246IGZsb3cuY3VycmVudC5faWQsXHJcblx0XHRmb3JtOiBmb3JtLl9pZCxcclxuXHRcdGZvcm1fdmVyc2lvbjogZm9ybS5jdXJyZW50Ll9pZCxcclxuXHRcdHZhbHVlczoge30sXHJcblx0XHRuYW1lOiBmbG93Lm5hbWUsXHJcblx0XHRzcGFjZTogc3BhY2VJZFxyXG5cdH1cclxuXHJcblx0aHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKVxyXG5cclxuXHRkYXRhQnVmID0gbmV3IEJ1ZmZlcihodG1sKVxyXG5cclxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LWxlbmd0aCcsIGRhdGFCdWYubGVuZ3RoKVxyXG5cclxuXHRyZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLSN7ZGF0YUJ1Zi5sZW5ndGggLSAxfS8je2RhdGFCdWYubGVuZ3RofVwiKVxyXG5cclxuXHRyZXMuc3RhdHVzQ29kZSA9IDIwMFxyXG5cclxuXHRyZXMuZW5kKGh0bWwpXHJcbiIsIkpzb25Sb3V0ZXMuYWRkKFwiZ2V0XCIsIFwiL2FwaS93b3JrZmxvdy9zcGFjZS86c3BhY2Uvdmlldy9kcmFmdC86Zmxvd1wiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZGF0YUJ1ZiwgZmxvdywgZmxvd0lkLCBmb3JtLCBodG1sLCBpbnN0YW5jZSwgb3B0aW9ucywgc3BhY2UsIHNwYWNlSWQsIHVzZXIsIHVzZXJfaWQ7XG4gIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgIHJldHVybjtcbiAgfVxuICB1c2VyX2lkID0gcmVxLnVzZXJJZDtcbiAgdXNlciA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgIF9pZDogdXNlcl9pZFxuICB9KTtcbiAgc3BhY2VJZCA9IHJlcS5wYXJhbXMuc3BhY2U7XG4gIGZsb3dJZCA9IHJlcS5wYXJhbXMuZmxvdztcbiAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgX2lkOiBzcGFjZUlkXG4gIH0pO1xuICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgX2lkOiBmbG93SWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgICdjdXJyZW50Ll9pZCc6IDEsXG4gICAgICBmb3JtOiAxXG4gICAgfVxuICB9KTtcbiAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe1xuICAgIF9pZDogZmxvdy5mb3JtXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgICdjdXJyZW50Ll9pZCc6IDFcbiAgICB9XG4gIH0pO1xuICBvcHRpb25zID0ge1xuICAgIHNob3dUcmFjZTogZmFsc2UsXG4gICAgc2hvd0F0dGFjaG1lbnRzOiBmYWxzZSxcbiAgICB0ZW1wbGF0ZU5hbWU6IFwiZGVmYXVsdFwiLFxuICAgIGVkaXRhYmxlOiB0cnVlLFxuICAgIHdpZHRoOiBcIjEwMCVcIixcbiAgICBpbnN0YW5jZV9zdHlsZTogXCJpbnN0YW5jZS1kZWZhdWx0XCIsXG4gICAgcGx1Z2luczogXCJcXG48bWV0YSBodHRwLWVxdWl2PVxcXCJYLVVBLUNvbXBhdGlibGVcXFwiIGNvbnRlbnQ9XFxcIklFPWVkZ2UsY2hyb21lPTFcXFwiIC8+XFxuPG1ldGEgbmFtZT1cXFwiZm9ybWF0LWRldGVjdGlvblxcXCIgY29udGVudD1cXFwidGVsZXBob25lPW5vXFxcIj5cXG48bWV0YSBodHRwLWVxdWl2PVxcXCJ4LXJpbS1hdXRvLW1hdGNoXFxcIiBjb250ZW50PVxcXCJub25lXFxcIj5cXG48dGl0bGU+XCIgKyBmbG93Lm5hbWUgKyBcIjwvdGl0bGU+XFxuPG1ldGEgY29udGVudD0nd2lkdGg9ZGV2aWNlLXdpZHRoLCBpbml0aWFsLXNjYWxlPTEuMCwgbWF4aW11bS1zY2FsZT0xLjAsIHVzZXItc2NhbGFibGU9MCcgbmFtZT0ndmlld3BvcnQnIC8+XFxuPG1ldGEgbmFtZT1cXFwidmlld3BvcnRcXFwiIGNvbnRlbnQ9XFxcIndpZHRoPWRldmljZS13aWR0aFxcXCIgLz5cXG5cXG48bGluayByZWw9XFxcInN0eWxlc2hlZXRcXFwiIHR5cGU9XFxcInRleHQvY3NzXFxcIiBocmVmPVxcXCIvcGx1Z2lucy9ib290c3RyYXAtZGF0ZXRpbWVwaWNrZXIvY3NzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uY3NzXFxcIj5cXG5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvYm9vdHN0cmFwLWRhdGV0aW1lcGlja2VyL2pzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuXFxuPHNjcmlwdCBzcmM9XFxcIi9wbHVnaW5zL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci9qcy9sb2NhbGVzL2Jvb3RzdHJhcC1kYXRldGltZXBpY2tlci56aC1DTi5qc1xcXCIgdHlwZT1cXFwidGV4dC9qYXZhc2NyaXB0XFxcIiBjaGFyc2V0PVxcXCJVVEYtOFxcXCI+PC9zY3JpcHQ+XFxuXFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uY3NzXFxcIj5cXG48c2NyaXB0IHNyYz1cXFwiL3BsdWdpbnMvdG9hc3RyL3RvYXN0ci5taW4uanNcXFwiIHR5cGU9XFxcInRleHQvamF2YXNjcmlwdFxcXCI+PC9zY3JpcHQ+XFxuPGxpbmsgcmVsPVxcXCJzdHlsZXNoZWV0XFxcIiB0eXBlPVxcXCJ0ZXh0L2Nzc1xcXCIgaHJlZj1cXFwiL2pzL3dvcmtmbG93X2NsaWVudC5jc3NcXFwiPlxcbjxzY3JpcHQgc3JjPVxcXCIvanMvd29ya2Zsb3dfY2xpZW50LmpzXFxcIiB0eXBlPVxcXCJ0ZXh0L2phdmFzY3JpcHRcXFwiPjwvc2NyaXB0PlwiXG4gIH07XG4gIGluc3RhbmNlID0ge1xuICAgIGZsb3c6IGZsb3cuX2lkLFxuICAgIGZsb3dfdmVyc2lvbjogZmxvdy5jdXJyZW50Ll9pZCxcbiAgICBmb3JtOiBmb3JtLl9pZCxcbiAgICBmb3JtX3ZlcnNpb246IGZvcm0uY3VycmVudC5faWQsXG4gICAgdmFsdWVzOiB7fSxcbiAgICBuYW1lOiBmbG93Lm5hbWUsXG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgaHRtbCA9IEluc3RhbmNlUmVhZE9ubHlUZW1wbGF0ZS5nZXRJbnN0YW5jZUh0bWwodXNlciwgc3BhY2UsIGluc3RhbmNlLCBvcHRpb25zKTtcbiAgZGF0YUJ1ZiA9IG5ldyBCdWZmZXIoaHRtbCk7XG4gIHJlcy5zZXRIZWFkZXIoJ2NvbnRlbnQtbGVuZ3RoJywgZGF0YUJ1Zi5sZW5ndGgpO1xuICByZXMuc2V0SGVhZGVyKCdjb250ZW50LXJhbmdlJywgXCJieXRlcyAwLVwiICsgKGRhdGFCdWYubGVuZ3RoIC0gMSkgKyBcIi9cIiArIGRhdGFCdWYubGVuZ3RoKTtcbiAgcmVzLnN0YXR1c0NvZGUgPSAyMDA7XG4gIHJldHVybiByZXMuZW5kKGh0bWwpO1xufSk7XG4iLCJBcnJheS5wcm90b3R5cGUuZmlsdGVyUHJvcGVydHkgPSBmdW5jdGlvbihoLCBsKXtcclxuICAgIHZhciBnID0gW107XHJcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XHJcbiAgICAgICAgdmFyIG0gPSB0PyB0W2hdOm51bGw7XHJcbiAgICAgICAgdmFyIGQgPSBmYWxzZTtcclxuICAgICAgICBpZihtIGluc3RhbmNlb2YgQXJyYXkpe1xyXG4gICAgICAgICAgICBkID0gbS5pbmNsdWRlcyhsKTtcclxuICAgICAgICB9ZWxzZXtcclxuICAgICAgICAgICAgZCA9IChsID09PSB1bmRlZmluZWQpPyBmYWxzZTptPT1sO1xyXG4gICAgICAgIH1cclxuICAgICAgICBpZihkKXtcclxuICAgICAgICAgICAgZy5wdXNoKHQpO1xyXG4gICAgICAgIH1cclxuICAgIH0pO1xyXG4gICAgcmV0dXJuIGc7XHJcbn07XHJcblxyXG5BcnJheS5wcm90b3R5cGUuZ2V0UHJvcGVydHkgPSBmdW5jdGlvbihrKXtcclxuICAgIHZhciB2ID0gbmV3IEFycmF5KCk7XHJcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24odCl7XHJcbiAgICAgICAgdmFyIG0gPSB0PyB0W2tdOm51bGw7XHJcbiAgICAgICAgdi5wdXNoKG0pO1xyXG4gICAgfSk7XHJcbiAgICByZXR1cm4gdjtcclxufVxyXG5cclxuQXJyYXkucHJvdG90eXBlLmdldEVhY2ggPSBmdW5jdGlvbihjb2RlKXtcclxuICAgIHZhciByZXYgPSBbXTtcclxuICAgIGZvcih2YXIgaSA9IDAgOyBpIDwgdGhpcy5sZW5ndGggOyBpKyspe1xyXG4gICAgICAgIHJldi5wdXNoKHRoaXNbaV1bY29kZV0pO1xyXG4gICAgfVxyXG4gICAgcmV0dXJuIHJldjtcclxufTtcclxuXHJcbkFycmF5LnByb3RvdHlwZS51bmlxID0gZnVuY3Rpb24oKXtcclxuICAgIHZhciBhID0gW107XHJcbiAgICB0aGlzLmZvckVhY2goZnVuY3Rpb24oYil7IFxyXG4gICAgICAgIGlmKGEuaW5kZXhPZihiKSA8IDApXHJcbiAgICAgICAgICAgIHthW2EubGVuZ3RoXSA9IGJ9XHJcbiAgICB9KTtcclxuICAgIHJldHVybiBhO1xyXG59O1xyXG5cclxuRm9ybV9mb3JtdWxhID0ge307XHJcblxyXG5cclxuRm9ybV9mb3JtdWxhLm1peGluID0gZnVuY3Rpb24oZGVzdCwgc3JjKXtcclxuICAgIGZvcih2YXIga2V5IGluIHNyYyl7XHJcbiAgICAgICAgZGVzdFtrZXldID0gc3JjW2tleV07XHJcbiAgICB9XHJcbiAgICByZXR1cm4gZGVzdDtcclxufTtcclxuXHJcblxyXG5Gb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdCA9IGZ1bmN0aW9uKHUpe1xyXG5cclxuICAgIGlmKHUgaW5zdGFuY2VvZiBBcnJheSl7XHJcbiAgICAgICAgdmFyIHVzZXIgPSB7fTtcclxuXHJcbiAgICAgICAgdXNlci5uYW1lID0gdS5nZXRQcm9wZXJ0eShcIm5hbWVcIilcclxuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbiA9IHt9O1xyXG4gICAgICAgIHVzZXIub3JnYW5pemF0aW9uLm5hbWUgPSB1LmdldFByb3BlcnR5KFwib3JnYW5pemF0aW9uXCIpLmdldFByb3BlcnR5KFwibmFtZVwiKTtcclxuICAgICAgICB1c2VyLm9yZ2FuaXphdGlvbi5mdWxsbmFtZSA9IHUuZ2V0UHJvcGVydHkoXCJvcmdhbml6YXRpb25cIikuZ2V0UHJvcGVydHkoXCJmdWxsbmFtZVwiKTtcclxuXHJcbiAgICAgICAgdXNlci5ociA9IHUuZ2V0UHJvcGVydHkoXCJoclwiKVxyXG5cclxuICAgICAgICB1c2VyLnNvcnRfbm8gPSB1LmdldFByb3BlcnR5KFwic29ydF9ub1wiKVxyXG5cclxuXHRcdHVzZXIubW9iaWxlID0gdS5nZXRQcm9wZXJ0eShcIm1vYmlsZVwiKVxyXG5cclxuXHRcdHVzZXIud29ya19waG9uZSA9IHUuZ2V0UHJvcGVydHkoXCJ3b3JrX3Bob25lXCIpXHJcblxyXG5cdFx0dXNlci5wb3NpdGlvbiA9IHUuZ2V0UHJvcGVydHkoXCJwb3NpdGlvblwiKVxyXG5cclxuICAgICAgICB2YXIgdXNlclJvbGVzID0gdS5nZXRQcm9wZXJ0eShcInJvbGVzXCIpO1xyXG4gICAgICAgIHZhciByb2xlcyA9IG5ldyBBcnJheSgpO1xyXG4gICAgICAgIHVzZXJSb2xlcy5mb3JFYWNoKGZ1bmN0aW9uKGkpe1xyXG4gICAgICAgICAgICByb2xlcyA9IHJvbGVzLmNvbmNhdChpKTtcclxuICAgICAgICB9KTsgXHJcbiAgICAgICAgcm9sZXMudW5pcSgpO1xyXG4gICAgICAgIHVzZXIucm9sZXMgPSByb2xlcztcclxuICAgICAgICByZXR1cm4gdXNlcjtcclxuICAgIH1lbHNle1xyXG4gICAgICAgIHJldHVybiB1O1xyXG4gICAgfVxyXG59XHJcblxyXG5Gb3JtX2Zvcm11bGEuaGFuZGVyT3JnT2JqZWN0ID0gZnVuY3Rpb24obyl7XHJcblxyXG4gICAgaWYobyBpbnN0YW5jZW9mIEFycmF5KXtcclxuICAgICAgICB2YXIgb3JnID0ge307XHJcblx0XHRvcmcuaWQgPSBvLmdldFByb3BlcnR5KFwiX2lkXCIpO1xyXG4gICAgICAgIG9yZy5uYW1lID0gby5nZXRQcm9wZXJ0eShcIm5hbWVcIik7XHJcbiAgICAgICAgb3JnLmZ1bGxuYW1lID0gby5nZXRQcm9wZXJ0eShcImZ1bGxuYW1lXCIpO1xyXG5cclxuICAgICAgICByZXR1cm4gb3JnO1xyXG4gICAgfWVsc2V7XHJcbiAgICAgICAgcmV0dXJuIG87XHJcbiAgICB9XHJcbn1cclxuXHJcblxyXG5cclxuLyoqXHJcbiAgICAqIOiOt+W+l+WFrOW8j+mcgOimgeeUqOWIsOeahOWIneWni+WAvFxyXG4gICAgKiDovpPlhaXvvJpmaWVsZHMsIHZhbHVlcywgYXBwbGljYW50XHJcbiAgICAqIOi+k+WHuu+8ml9fdmFsdWVzXHJcbioqL1xyXG5Gb3JtX2Zvcm11bGEuaW5pdF9mb3JtdWxhX3ZhbHVlcyA9IGZ1bmN0aW9uKGZpZWxkcywgYXV0b0Zvcm1Eb2MsIGFwcHJvdmVyLCBhcHBsaWNhbnQsIHNwYWNlSWQpe1xyXG4gICAgdmFyIF9fdmFsdWVzID0ge307XHJcbiAgICAvL+eUs+ivt+WNleS4reWhq+eahOWAvOWkhOeQhlxyXG4gICAgaWYoZmllbGRzICYmIGZpZWxkcy5sZW5ndGggJiYgYXV0b0Zvcm1Eb2MpIHtcclxuICAgICAgICAvL2RlYnVnZ2VyO1xyXG4gICAgICAgIGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGZpZWxkKXtcclxuICAgICAgICAgICAgdmFyIHR5cGUgPSBmaWVsZC50eXBlO1xyXG4gICAgICAgICAgICBpZih0eXBlKSB7XHJcbiAgICAgICAgICAgICAgICBpZih0eXBlID09PSAndGFibGUnKSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLypcclxuICAgICAgICAgICAgICAgICAgICAqIOWwhuihqOagvOWtl+auteeahOWAvOi/m+ihjOi9rOaNouWQjuS8oOWFpV9fdmFsdWVz5LitXHJcbiAgICAgICAgICAgICAgICAgICAgKiB2YWx1ZXPkuK3ooajmoLznmoTlgLzmoLzlvI/kuLpcclxuICAgICAgICAgICAgICAgICAgICAqIFt7XCJhXCI6MSxcImJcIjo0fSx7XCJhXCI6MixcImJcIjo1fSx7XCJhXCI6MyxcImJcIjo2fV1cclxuICAgICAgICAgICAgICAgICAgICAqIF9fdmFsdWVz6ZyA6KaB6L2s5YyW5Li65LiL6Z2i5qC85byP5LiU5ZKM5Li76KGo55qE5YC85LiA5qC35pS+5Yiw56ys5LiA5bGCXHJcbiAgICAgICAgICAgICAgICAgICAgKiB7XCJhXCI6WzEsMiwzXSxcImJcIjpbNCw1LDZdfVxyXG4gICAgICAgICAgICAgICAgICAgICoqL1xyXG4gICAgICAgICAgICAgICAgICAgIHZhciB0YWJsZUZpZWxkcyA9IGZpZWxkLnNmaWVsZHMsXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHRhYmxlVmFsdWVzID0gYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcyA9IFtdLFxyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3RhYmxlVmFsdWVzID0ge307XHJcbiAgICAgICAgICAgICAgICAgICAgLy/mjInlhazlvI/nmoTmoLzlvI/ovazmjaLlgLzkuLpfX3RhYmxlVmFsdWVzXHJcbiAgICAgICAgICAgICAgICAgICAgaWYodGFibGVGaWVsZHMgJiYgdGFibGVGaWVsZHMubGVuZ3RoICYmIHRhYmxlVmFsdWVzICYmIHRhYmxlVmFsdWVzIGluc3RhbmNlb2YgQXJyYXkpIHtcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVWYWx1ZXMuZm9yRWFjaChmdW5jdGlvbih0YWJsZVZhbHVlKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcm11bGFUYWJsZVZhbHVlcy5wdXNoKEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKHRhYmxlRmllbGRzLCB0YWJsZVZhbHVlKSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0sIHRoaXMpO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAvL+aMieS4u+ihqOeahOagvOW8j+i9rOaNol9fdGFibGVWYWx1ZXPliqDliLBcclxuICAgICAgICAgICAgICAgICAgICAgICAgdGFibGVGaWVsZHMuZm9yRWFjaChmdW5jdGlvbih0YWJsZWZpZWxkKXtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIF9fdGFibGVWYWx1ZXNbdGFibGVmaWVsZC5jb2RlXSA9IGZvcm11bGFUYWJsZVZhbHVlcy5nZXRFYWNoKHRhYmxlZmllbGQuY29kZSk7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH0pO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5taXhpbihfX3ZhbHVlcywgX190YWJsZVZhbHVlcyk7XHJcbiAgICAgICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICd1c2VyJyl7XHJcbiAgICAgICAgICAgICAgICAgICAgX192YWx1ZXNbZmllbGQuY29kZV0gPSBGb3JtX2Zvcm11bGEuaGFuZGVyVXNlck9iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdKSk7XHJcblxyXG4gICAgICAgICAgICAgICAgfSBlbHNlIGlmICh0eXBlID09ICdncm91cCcpe1xyXG4gICAgICAgICAgICAgICAgICAgIF9fdmFsdWVzW2ZpZWxkLmNvZGVdID0gRm9ybV9mb3JtdWxhLmhhbmRlck9yZ09iamVjdChXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMoYXV0b0Zvcm1Eb2NbZmllbGQuY29kZV0pKTtcclxuXHJcbiAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKHR5cGUgPT0gJ29kYXRhJyl7XHJcblx0XHRcdFx0XHRfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdIHx8IHt9XHJcblxyXG5cdFx0XHRcdH0gZWxzZSB7XHJcbiAgICAgICAgICAgICAgICAgICAgLy/mraTlpITkvKBzcGFjZUlk57uZ6YCJ5Lq65o6n5Lu255qE5pen5pWw5o2u6K6h566Xcm9sZXPlkoxvcmdhbml6YXRpb25cclxuICAgICAgICAgICAgICAgICAgICBfX3ZhbHVlc1tmaWVsZC5jb2RlXSA9IGF1dG9Gb3JtRG9jW2ZpZWxkLmNvZGVdO1xyXG4gICAgICAgICAgICAgICAgfVxyXG4gICAgICAgICAgICB9XHJcbiAgICAgICAgfSwgdGhpcyk7XHJcbiAgICB9XHJcbiAgICAvL+W9k+WJjeWkhOeQhuS6ulxyXG4gICAgX192YWx1ZXNbXCJhcHByb3ZlclwiXSA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCBhcHByb3Zlcik7XHJcbiAgICAvL+eUs+ivt+S6ulxyXG4gICAgX192YWx1ZXNbXCJhcHBsaWNhbnRcIl0gPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3Qoc3BhY2VJZCwgYXBwbGljYW50KTtcclxuXHJcbiAgICByZXR1cm4gX192YWx1ZXM7XHJcbn07XHJcblxyXG4iLCJnZXRIYW5kbGVyc01hbmFnZXIgPSB7fVxyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzID0gKHVzZXJfaWRzLCByb2xlX2lkcywgc3BhY2VfaWQpLT5cclxuXHRhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKHVzZXJfaWRzLCAodXNlcl9pZCktPlxyXG5cdFx0aWYgZGIudXNlcnMuZmluZCh7X2lkOiB1c2VyX2lkfSkuY291bnQoKSA+IDBcclxuXHRcdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyh1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpXHJcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRhcHByb3ZlX3VzZXJzID0gYXBwcm92ZV91c2Vycy5jb25jYXQodXNlcnMpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwidXNlcl9pZOS4jeWQiOazleS4jeWQiOazlVwiKVxyXG5cdClcclxuXHRhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpXHJcblx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzID0gKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCktPlxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKHJvbGVfaWRzLCAocm9sZV9pZCktPlxyXG5cdFx0aWYgZGIuZmxvd19yb2xlcy5maW5kKHtfaWQ6IHJvbGVfaWR9KS5jb3VudCgpID4gMFxyXG5cdFx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpXHJcblx0XHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2VycylcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJyb2xlX2lk5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0KVxyXG5cdGlmIHVzZXJfaWRzLmxlbmd0aCA+IDBcclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0cmV0dXJuIHVzZXJfaWRzXHJcblx0ZWxzZVxyXG5cdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmoLnmja51c2VyX2lk5ZKMcm9sZV9pZHPmsqHmn6XliLDlr7nlupTnmoTlpITnkIbkurpcIilcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGUgPSAodXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIC0+XHJcblx0b3JncyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcnM6IHVzZXJfaWQgfSwgeyBmaWVsZHM6IHsgX2lkOiAxIH0gfSkuZmV0Y2goKVxyXG5cdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0Xy5lYWNoKG9yZ3MsIChvcmcpIC0+XHJcblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmcuX2lkLCByb2xlX2lkLCBzcGFjZV9pZClcclxuXHRcdGlmIHVzZXJzLmxlbmd0aCA+IDBcclxuXHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpXHJcblx0KVxyXG5cdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdHJldHVybiB1c2VyX2lkc1xyXG5cclxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMgPSAob3JnX2lkcywgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCktPlxyXG5cdFx0dXNlcnMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKVxyXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2VycylcclxuXHQpXHJcblx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0cmV0dXJuIHVzZXJfaWRzXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gKG9yZ19pZCwgcm9sZV9pZHMsIHNwYWNlX2lkKS0+XHJcblx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRfLmVhY2gocm9sZV9pZHMsIChyb2xlX2lkKS0+XHJcblx0XHR1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKVxyXG5cdFx0aWYgdXNlcnMubGVuZ3RoID4gMFxyXG5cdFx0XHR1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2VycylcclxuXHQpXHJcblx0aWYgdXNlcl9pZHMubGVuZ3RoID4gMFxyXG5cdFx0dXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpXHJcblx0XHRyZXR1cm4gdXNlcl9pZHNcclxuXHRlbHNlXHJcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrm9yZ19pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpXHJcblxyXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUgPSAob3JnX2lkLCByb2xlX2lkLCBzcGFjZV9pZCkgLT5cclxuXHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IG9yZ19pZCB9LCB7IGZpZWxkczogeyBwYXJlbnRzOiAxIH0gfSlcclxuXHR1c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdHBvc2l0aW9ucyA9IGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIG9yZzogb3JnX2lkLCByb2xlOiByb2xlX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdF8uZWFjaChwb3NpdGlvbnMsIChwb3NpdGlvbikgLT5cclxuXHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KHBvc2l0aW9uLnVzZXJzKVxyXG5cdClcclxuXHRpZiB1c2VyX2lkcy5sZW5ndGggaXMgMFxyXG5cdFx0cGFyZW50cyA9IG9yZy5wYXJlbnRzXHJcblx0XHRfLmVhY2gocGFyZW50cywgKHBhcmVudF9pZCkgLT5cclxuXHRcdFx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgb3JnOiBwYXJlbnRfaWQsIHJvbGU6IHJvbGVfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXHJcblx0XHRcdGlmIHBvc2l0aW9ucy5sZW5ndGggPiAwXHJcblx0XHRcdFx0Xy5lYWNoKHBvc2l0aW9ucywgKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdFx0dXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpXHJcblx0XHRcdFx0KVxyXG5cdFx0KVxyXG5cclxuXHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRyZXR1cm4gdXNlcl9pZHNcclxuXHJcbmdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyA9IChpbnN0YW5jZV9pZCwgc3RlcF9pZCkgLT5cclxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKVxyXG5cclxuXHQjIOaLn+eov+aXtiwg5Y+v5Lul6K6+5a6a5ZCO57ut5q+P5Liq5q2l6aqk55qE5aSE55CG5Lq6ICMxOTI2XHJcblx0aWYgaW5zdGFuY2Uuc3RlcF9hcHByb3ZlICYmIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXVxyXG5cdFx0cmV0dXJuIGluc3RhbmNlLnN0ZXBfYXBwcm92ZVtzdGVwX2lkXVxyXG5cclxuXHRhcHByb3ZlX3VzZXJzID0gbmV3IEFycmF5XHJcblx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93XHJcblx0Zmxvd19yZXYgPSBpbnN0YW5jZS5mbG93X3ZlcnNpb25cclxuXHRjdXJyZW50X2Zsb3cgPSBkYi5mbG93cy5maW5kT25lKGZsb3dfaWQpXHJcblx0Y3VycmVudF9zdGVwID0gbnVsbFxyXG5cdGN1cnJlbnRfc3RlcHMgPSBuZXcgQXJyYXlcclxuXHJcblx0aWYgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRjdXJyZW50X3N0ZXBzID0gY3VycmVudF9mbG93LmN1cnJlbnQuc3RlcHNcclxuXHRlbHNlXHJcblx0XHRjdXJyZW50ID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGhpc3RvcnkpIC0+XHJcblx0XHRcdHJldHVybiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0KVxyXG5cdFx0Y3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHNcclxuXHJcblx0IyDku47ojrflj5bnmoRzdGVwc+S4reagueaNrjpzdGVwX2lk5o+Q5Y+W5a+55bqU55qEc3RlcOWvueixoVxyXG5cdGN1cnJlbnRfc3RlcCA9IF8uZmluZChjdXJyZW50X3N0ZXBzLCAoc3RlcCkgLT5cclxuXHRcdHJldHVybiBzdGVwLl9pZCBpcyBzdGVwX2lkXHJcblx0KVxyXG5cdCMg5Yik5patc3RlcF90eXBlXHJcblx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcImNvbmRpdGlvblwiXHJcblx0XHR1bmZpbmlzaGVkX3RyYWNlID0gXy5maW5kKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxyXG5cdFx0XHRyZXR1cm4gdHJhY2UuaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdClcclxuXHJcblx0XHRyZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcilcclxuXHJcblx0aWYgY3VycmVudF9zdGVwLnN0ZXBfdHlwZSBpcyBcInN0YXJ0XCJcclxuXHRcdGhhbmRsZXJzID0gbmV3IEFycmF5XHJcblx0XHRoYW5kbGVycy5wdXNoKGluc3RhbmNlLmFwcGxpY2FudClcclxuXHRcdGhhbmRsZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKVxyXG5cdFx0aGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpXHJcblx0XHRyZXR1cm4gaGFuZGxlcnNcclxuXHQjIOW+l+WIsHN0ZXDnmoRcImRlYWxfdHlwZVwi77yM5bm26L+b6KGM6YC76L6R5Yik5pat5om+5Yiw5a+55bqU55qE5aSE55CG5Lq6XHJcblx0ZGVhbF90eXBlID0gY3VycmVudF9zdGVwLmRlYWxfdHlwZVxyXG5cdHVzZXJzID0gbmV3IEFycmF5XHJcblx0aWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50Um9sZVwiXHJcblx0XHQjIDEuKioqKioqKioqKirnlLPor7fkurrmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0YXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50XHJcblx0XHRpZiBhcHBsaWNhbnRcclxuXHRcdFx0c3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGFwcGxpY2FudCB9KS5jb3VudCgpXHJcblx0XHRcdGlmIHNwYWNlX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcclxuXHJcblx0XHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRcdHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoeyBfaWQ6IGFwcHJvdmVyX3JvbGUgfSkuY291bnQoKVxyXG5cdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoYXBwbGljYW50LCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcclxuXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcImhyUm9sZVwiXHJcblx0XHRhcHByb3ZlSHJSb2xlSWRzID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX2hyX3JvbGVzO1xyXG5cdFx0aWYgKGFwcHJvdmVIclJvbGVJZHMpXHJcblx0XHRcdHJldHVybiBfLnBsdWNrKFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VfaWQsIGFwcHJvdmVIclJvbGVJZHMpLCAndXNlcicpO1xyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50XCJcclxuXHRcdCMgMi4qKioqKioqKioqKueUs+ivt+S6uioqKioqKioqKioqXHJcblx0XHRhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnRcclxuXHRcdHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQgfSkuY291bnQoKVxyXG5cdFx0aWYgc3BhY2VfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIilcclxuXHRcdGVsc2VcclxuXHRcdFx0cmV0dXJuIG5ldyBBcnJheShhcHBsaWNhbnQpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJvcmdGaWVsZFJvbGVcIlxyXG5cdFx0IyAzLioqKioqKioqKioq6YOo6Zeo5a2X5q615omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxyXG5cdFx0Zm9ybV9yZXYgPSBudWxsXHJcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHQpXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcclxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcclxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XHJcblx0XHRcdClcclxuXHJcblx0XHRhcHByb3Zlcl9vcmdfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JnX2ZpZWxkXHJcblx0XHRmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHNcclxuXHRcdGZpZWxkX2NvZGUgPSBudWxsXHJcblx0XHRfLmVhY2goZm9ybV9maWVsZHMsIChmb3JtX2ZpZWxkKSAtPlxyXG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl9vcmdfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblx0XHRvcmdfaWRzID0gbmV3IEFycmF5XHJcblx0XHRvcmdfaWRzX25hbWVzID0gbmV3IEFycmF5XHJcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRcdG9yZ19pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSlcclxuXHJcblx0XHQjIOagoemqjG9yZ19pZOaVsOe7hOS4rW9yZ19pZOaYr+WQpuWQiOazlVxyXG5cdFx0Xy5lYWNoKG9yZ19pZHNfbmFtZXMsIChvcmcpIC0+XHJcblx0XHRcdGNoZWNrX29yZ19jb3VudCA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IF9pZDogb3JnW1wiaWRcIl0gfSkuY291bnQoKVxyXG5cdFx0XHRpZiBjaGVja19vcmdfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHSUTkuI3lkIjms5VcIilcclxuXHRcdFx0b3JnX2lkcy5wdXNoKG9yZ1tcImlkXCJdKVxyXG5cdFx0KVxyXG5cclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyBhbmQgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDBcclxuXHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0Xy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgKGFwcHJvdmVyX3JvbGUpIC0+XHJcblx0XHRcdFx0cm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7IF9pZDogYXBwcm92ZXJfcm9sZSB9KS5jb3VudCgpXHJcblx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBhcHByb3Zlcl9yb2xlICsgXCLlt7Lnu4/ooqvliKDpmaRcIilcclxuXHRcdFx0KVxyXG5cdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdzQW5kUm9sZXMob3JnX2lkcywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBpbnN0YW5jZS5zcGFjZSlcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIilcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcIm9yZ0ZpZWxkXCJcclxuXHRcdCMgNC4qKioqKioqKioqKumDqOmXqOWtl+auteaJgOWxnue7hOe7h+S4reeahOS6uuWRmCoqKioqKioqKioqXHJcblx0XHRmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm1cclxuXHRcdGZvcm1fcmV2ID0gbnVsbFxyXG5cdFx0aWYgZmxvd19yZXYgaXMgY3VycmVudF9mbG93LmN1cnJlbnQuX2lkXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uXHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgKGN1cnJlbnRfZmxvd19oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgaXMgZmxvd19yZXZcclxuXHRcdFx0KVxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbiBpZiBjdXJyZW50X2Zsb3dfdmVyc2lvblxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpXHJcblx0XHRjdXJyZW50X2Zvcm0gPSBudWxsXHJcblx0XHRpZiBmb3JtX3JldiBpcyBmb3JtLmN1cnJlbnQuX2lkXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudFxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgKGZvcm1faGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCBpcyBmb3JtX3JldlxyXG5cdFx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZFxyXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXHJcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxyXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCktPlxyXG5cdFx0XHRpZiBmb3JtX2ZpZWxkLl9pZCBpcyBhcHByb3Zlcl9vcmdfZmllbGRcclxuXHRcdFx0XHRmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlXHJcblx0XHQpXHJcblxyXG5cdFx0IyDlj5blvpfmnIDmlrDnmoR2YWx1ZXNcclxuXHRcdG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpXHJcblxyXG5cdFx0b3JnX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0b3JnX2lkc19uYW1lcyA9IG5ldyBBcnJheVxyXG5cdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXlcclxuXHRcdFx0XHRvcmdfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0b3JnX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXHJcblxyXG5cdFx0IyDmoKHpqoxvcmdfaWTmlbDnu4TkuK1vcmdfaWTmmK/lkKblkIjms5VcclxuXHRcdF8uZWFjaChvcmdfaWRzX25hbWVzLCAob3JnKSAtPlxyXG5cdFx0XHRjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoeyBfaWQ6IG9yZ1tcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfb3JnX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpXHJcblx0XHRcdG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHQjIOagoemqjG9yZ+S4i+WtmOWcqOWkhOeQhuS6ulxyXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaChvcmdfaWRzLCAob3JnX2lkKSAtPlxyXG5cdFx0XHRvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoeyBfaWQ6IG9yZ19pZCB9LCB7IGZpZWxkczogeyB1c2VyczogMSB9IH0pXHJcblx0XHRcdG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgcGFyZW50czogb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSkuZmV0Y2goKVxyXG5cdFx0XHRvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpXHJcblx0XHRcdGNoZWNrX29yZ3MgPSBvcmdfY2hpbGRyZW5cclxuXHRcdFx0b3JnX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdF8uZWFjaChjaGVja19vcmdzLCAoY2hlY2tfb3JnX3VzZXIpIC0+XHJcblx0XHRcdFx0aWYgY2hlY2tfb3JnX3VzZXIudXNlcnNcclxuXHRcdFx0XHRcdF8uZWFjaChjaGVja19vcmdfdXNlci51c2VycywgKG9yZ191c2VyKSAtPlxyXG5cdFx0XHRcdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlciB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInNwYWNl5LiL5LiN5a2Y5Zyo5q2kdXNlclwiKVxyXG5cdFx0XHRcdFx0KVxyXG5cdFx0XHRcdHVzZXJfaWRzID0gdXNlcl9pZHMuY29uY2F0KGNoZWNrX29yZ191c2VyLnVzZXJzKVxyXG5cdFx0XHRcdG9yZ191c2VycyA9IG9yZ191c2Vycy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpXHJcblx0XHRcdClcclxuXHJcblx0XHRcdGlmIG9yZ191c2Vycy5sZW5ndGggaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKVxyXG5cclxuXHRcdClcclxuXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdHJldHVybiB1c2VyX2lkc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwidXNlckZpZWxkUm9sZVwiXHJcblx0XHQjIDUuKioqKioqKioqKirkurrlkZjlrZfmrrXmiYDlsZ7nu4Tnu4fkuK3nmoTlrqHmibnlspfkvY0qKioqKioqKioqKlxyXG5cdFx0Zm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtXHJcblx0XHRmb3JtX3JldiA9IG51bGxcclxuXHRcdGlmIGZsb3dfcmV2IGlzIGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZFxyXG5cdFx0XHRmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvblxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIChjdXJyZW50X2Zsb3dfaGlzdG9yeSkgLT5cclxuXHRcdFx0XHRyZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkIGlzIGZsb3dfcmV2XHJcblx0XHRcdClcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb24gaWYgY3VycmVudF9mbG93X3ZlcnNpb25cclxuXHJcblx0XHRmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKVxyXG5cdFx0Y3VycmVudF9mb3JtID0gbnVsbFxyXG5cdFx0aWYgZm9ybV9yZXYgaXMgZm9ybS5jdXJyZW50Ll9pZFxyXG5cdFx0XHRjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnRcclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIChmb3JtX2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGZvcm1faGlzdG9yeS5faWQgaXMgZm9ybV9yZXZcclxuXHRcdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZFxyXG5cdFx0Zm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzXHJcblx0XHRmaWVsZF9jb2RlID0gbnVsbFxyXG5cdFx0Xy5lYWNoKGZvcm1fZmllbGRzLCAoZm9ybV9maWVsZCkgLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfdXNlcl9maWVsZFxyXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcclxuXHRcdClcclxuXHJcblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xyXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcclxuXHRcdCMg6I635Y+WdXNlcl9pZOaVsOe7hFxyXG5cdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXlcclxuXHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV1cclxuXHRcdFx0aWYgbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5XHJcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHR1c2VyX2lkc19uYW1lcy5wdXNoKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pXHJcblxyXG5cdFx0IyDmoKHpqox1c2VyX2lk5pWw57uE5LitdXNlcl9pZOaYr+WQpuWQiOazlVxyXG5cdFx0dXNlcl9pZHMgPSBuZXcgQXJyYXlcclxuXHRcdF8uZWFjaCh1c2VyX2lkc19uYW1lcywgKHVzZXIpIC0+XHJcblx0XHRcdGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiB1c2VyW1wiaWRcIl0gfSkuY291bnQoKVxyXG5cdFx0XHRpZiBjaGVja191c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpXHJcblx0XHRcdHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKVxyXG5cdFx0KVxyXG5cclxuXHRcdHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKVxyXG5cdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxyXG5cdFx0XHQjIOajgOafpWFwcHJvdmVyX3JvbGVz5Litcm9sZeaYr+WQpuS4jeWtmOWcqOaIluW3sue7j+iiq+WIoOmZpFxyXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKVxyXG5cdFx0XHQpXHJcblx0XHRcdHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXModXNlcl9pZHMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgaW5zdGFuY2Uuc3BhY2UpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJ1c2VyRmllbGRcIlxyXG5cdFx0IyA2LioqKioqKioqKioq6KGo5Y2V5Lq65ZGY5a2X5q61KioqKioqKioqKipcclxuXHRcdGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybVxyXG5cdFx0Zm9ybV9yZXYgPSBudWxsXHJcblx0XHRpZiBmbG93X3JldiBpcyBjdXJyZW50X2Zsb3cuY3VycmVudC5faWRcclxuXHRcdFx0Zm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb25cclxuXHRcdGVsc2VcclxuXHRcdFx0Y3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCAoY3VycmVudF9mbG93X2hpc3RvcnkpIC0+XHJcblx0XHRcdFx0cmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHQpXHJcblx0XHRcdGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uIGlmIGN1cnJlbnRfZmxvd192ZXJzaW9uXHJcblxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZClcclxuXHRcdGN1cnJlbnRfZm9ybSA9IG51bGxcclxuXHRcdGlmIGZvcm1fcmV2IGlzIGZvcm0uY3VycmVudC5faWRcclxuXHRcdFx0Y3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50XHJcblx0XHRlbHNlXHJcblx0XHRcdGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCAoZm9ybV9oaXN0b3J5KSAtPlxyXG5cdFx0XHRcdHJldHVybiBmb3JtX2hpc3RvcnkuX2lkIGlzIGZvcm1fcmV2XHJcblx0XHRcdClcclxuXHJcblx0XHRhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGRcclxuXHRcdGZvcm1fZmllbGRzID0gY3VycmVudF9mb3JtLmZpZWxkc1xyXG5cdFx0ZmllbGRfY29kZSA9IG51bGxcclxuXHRcdF8uZWFjaChmb3JtX2ZpZWxkcywgKGZvcm1fZmllbGQpLT5cclxuXHRcdFx0aWYgZm9ybV9maWVsZC5faWQgaXMgYXBwcm92ZXJfdXNlcl9maWVsZFxyXG5cdFx0XHRcdGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGVcclxuXHRcdClcclxuXHJcblx0XHQjIOWPluW+l+acgOaWsOeahHZhbHVlc1xyXG5cdFx0bmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcclxuXHJcblx0XHQjIOiOt+WPlnVzZXJfaWTmlbDnu4RcclxuXHRcdHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5XHJcblx0XHRpZiBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdXHJcblx0XHRcdGlmIG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0gaW5zdGFuY2VvZiBBcnJheVxyXG5cdFx0XHRcdHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0dXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKVxyXG5cclxuXHRcdCMg5qCh6aqMdXNlcl9pZOaVsOe7hOS4rXVzZXJfaWTmmK/lkKblkIjms5VcclxuXHRcdHVzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2godXNlcl9pZHNfbmFtZXMsICh1c2VyKSAtPlxyXG5cdFx0XHRjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogdXNlcltcImlkXCJdIH0pLmNvdW50KClcclxuXHRcdFx0aWYgY2hlY2tfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKVxyXG5cdFx0XHR1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSlcclxuXHRcdClcclxuXHJcblx0XHR1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcylcclxuXHRcdHJldHVybiB1c2VyX2lkc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeVN0ZXBSb2xlXCJcclxuXHRcdCMgNy4qKioqKioqKioqKuaMh+WumuatpemqpOWkhOeQhuWuoeaJueWyl+S9jSoqKioqKioqKioqXHJcblx0XHRhcHByb3Zlcl9zdGVwID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3N0ZXBcclxuXHRcdGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKGluc3RhbmNlLnRyYWNlcywgKHRyYWNlKSAtPlxyXG5cdFx0XHRpZiB0cmFjZS5zdGVwIGlzIGFwcHJvdmVyX3N0ZXBcclxuXHRcdFx0XHRmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSlcclxuXHRcdClcclxuXHRcdCMg5qC55o2uc3RhcnRfZGF0ZeWPluacgOaWsOeahHRyYWNlXHJcblx0XHRtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCAodCkgLT5cclxuXHRcdFx0cmV0dXJuIHQuc3RhcnRfZGF0ZVxyXG5cdFx0KVxyXG5cclxuXHRcdGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKVxyXG5cclxuXHRcdGlmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlc1xyXG5cdFx0XHRfLmVhY2goY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCAoYXBwcm92ZXJfcm9sZSkgLT5cclxuXHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRpZiByb2xlX2NvdW50IGlzIDBcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdClcclxuXHJcblx0XHQjIOmqjOivgeafpeWIsOeahHVzZXLmmK/lkKbpg73lkIjms5VcclxuXHRcdF8uZWFjaChhcHByb3ZlX3VzZXJzLCAoYXBwcm92ZV91c2VyKSAtPlxyXG5cdFx0XHRpZiBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKSBpcyAwXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmjIflrprmraXpqqTnmoTlpITnkIbkurrlt7Lnu4/lj5jmm7RcIilcclxuXHRcdClcclxuXHJcblx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKGFwcHJvdmVfdXNlcnMsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzcGVjaWZ5U3RlcFVzZXJcIlxyXG5cdFx0IyA4LioqKioqKioqKioq5oyH5a6a5q2l6aqk5aSE55CG5Lq6KioqKioqKioqKipcclxuXHRcdGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcFxyXG5cdFx0ZmluaXNoZWRfdHJhY2VzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2goaW5zdGFuY2UudHJhY2VzLCAodHJhY2UpIC0+XHJcblx0XHRcdGlmIHRyYWNlLnN0ZXAgaXMgYXBwcm92ZXJfc3RlcFxyXG5cdFx0XHRcdGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKVxyXG5cdFx0KVxyXG5cdFx0IyDmoLnmja5zdGFydF9kYXRl5Y+W5pyA5paw55qEdHJhY2VcclxuXHRcdG1heF9zdGFydERhdGVfdHJhY2UgPSBfLm1heChmaW5pc2hlZF90cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRyZXR1cm4gdC5zdGFydF9kYXRlXHJcblx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZV91c2VycyA9IF8ucGx1Y2sobWF4X3N0YXJ0RGF0ZV90cmFjZS5hcHByb3ZlcywgXCJ1c2VyXCIpXHJcblxyXG5cdFx0IyDpqozor4Hmn6XliLDnmoR1c2Vy5piv5ZCm6YO95ZCI5rOVXHJcblx0XHRfLmVhY2goYXBwcm92ZV91c2VycywgKGFwcHJvdmVfdXNlciktPlxyXG5cdFx0XHRjaGVja19hcHByb3ZlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3ZlX3VzZXIgfSkuY291bnQoKVxyXG5cdFx0XHRpZiBjaGVja19hcHByb3ZlX3VzZXJfY291bnQgaXMgMFxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpXHJcblx0XHQpXHJcblxyXG5cdFx0YXBwcm92ZV91c2VycyA9IF8udW5pcShhcHByb3ZlX3VzZXJzKVxyXG5cdFx0cmV0dXJuIGFwcHJvdmVfdXNlcnNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInN1Ym1pdHRlclJvbGVcIlxyXG5cdFx0IyA5LioqKioqKioqKioq5aGr5Y2V5Lq65omA5bGe57uE57uH5Lit55qE5a6h5om55bKX5L2NKioqKioqKioqKipcclxuXHRcdHN1Ym1pdHRlciA9IGluc3RhbmNlLnN1Ym1pdHRlclxyXG5cdFx0aWYgbm90IHN1Ym1pdHRlclxyXG5cdFx0XHQjIOWIpOaWreaPkOS6pOS6uuaYr+WQpuW3sue7j+iiq+WIoOmZpFxyXG5cdFx0XHRzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHN1Ym1pdHRlciB9KS5jb3VudCgpXHJcblx0XHRcdGlmIHN1Ym1pdHRlcl91c2VyX2NvdW50IGlzIDBcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaPkOS6pOS6uuW3sue7j+iiq+WIoOmZpOaIluS4jeWxnuS6juW9k+WJjeW3peS9nOWMulwiKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aWYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzIGFuZCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0IyDmo4Dmn6VhcHByb3Zlcl9yb2xlc+S4rXJvbGXmmK/lkKbkuI3lrZjlnKjmiJblt7Lnu4/ooqvliKDpmaRcclxuXHRcdFx0XHRcdF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIChhcHByb3Zlcl9yb2xlKSAtPlxyXG5cdFx0XHRcdFx0XHRyb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHsgX2lkOiBhcHByb3Zlcl9yb2xlIH0pLmNvdW50KClcclxuXHRcdFx0XHRcdFx0aWYgcm9sZV9jb3VudCBpcyAwXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpXHJcblx0XHRcdFx0XHQpXHJcblx0XHRcdFx0XHRyZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5rWB56iL5q2l6aqkXCIgKyBjdXJyZW50X3N0ZXAubmFtZSArIFwi5a6h5om55bKX5L2N5pyq5oyH5a6aXCIpXHJcblx0XHRlbHNlXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55Sz6K+35Y2V55qE5o+Q5Lqk5Lq65Li656m6XCIpXHJcblx0ZWxzZSBpZiBkZWFsX3R5cGUgaXMgXCJzdWJtaXR0ZXJcIlxyXG5cdFx0IyAxMC4qKioqKioqKioqKuaPkOS6pOS6uioqKioqKioqKioqXHJcblx0XHRzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXJcclxuXHRcdCMg5Yik5pat5o+Q5Lqk5Lq65piv5ZCm5bey57uP6KKr5Yig6ZmkXHJcblx0XHRzdWJtaXR0ZXJfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IHN1Ym1pdHRlciB9KS5jb3VudCgpXHJcblx0XHRpZiBzdWJtaXR0ZXJfdXNlcl9jb3VudCBpcyAwXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpXHJcblx0XHRlbHNlXHJcblx0XHRcdHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKVxyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwic3BlY2lmeU9yZ1wiXHJcblx0XHQjIDExLioqKioqKioqKioq5p+Q6YOo6Zeo5YaF55qE5omA5pyJ5Lq6KioqKioqKioqKipcclxuXHRcdGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3Jnc1xyXG5cdFx0aWYgbm90IGFwcHJvdmVyX29yZ19pZHMgb3IgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquWumuS5ieeUqOS6juafpeaJvuS4i+S4gOatpeWkhOeQhuS6uueahOmDqOmXqO+8jOivt+iBlOezu+euoeeQhuWRmOiwg+afpea1geeoi+WbvueahOmFjee9ruaYr+WQpuato+ehrlwiKVxyXG5cclxuXHRcdCMg6aqM6K+B5omA5oyH5a6a55qEb3JnYW5pemF0aW9uX2lk6YO95a2Y5ZyoXHJcblx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2goYXBwcm92ZXJfb3JnX2lkcywgKGFwcHJvdmVyX29yZ19pZCkgLT5cclxuXHRcdFx0aWYgZGIub3JnYW5pemF0aW9ucy5maW5kKHsgX2lkOiBhcHByb3Zlcl9vcmdfaWQgfSkuY291bnQoKSA+IDBcclxuXHRcdFx0XHR2YWxpZF9hcHByb3Zlcl9vcmdfaWRzLnVuc2hpZnQoYXBwcm92ZXJfb3JnX2lkKVxyXG5cdFx0KVxyXG5cclxuXHRcdG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKHZhbGlkX2FwcHJvdmVyX29yZ19pZHMsICh2YWxpZF9hcHByb3Zlcl9vcmdfaWQpIC0+XHJcblx0XHRcdHZhbGlkX2FwcHJvdmVyX29yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogdmFsaWRfYXBwcm92ZXJfb3JnX2lkIH0sIHsgZmllbGRzOiB7IHVzZXJzOiAxIH0gfSlcclxuXHRcdFx0aWYgdmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzXHJcblx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdCh2YWxpZF9hcHByb3Zlcl9vcmcudXNlcnMpXHJcblxyXG5cdFx0XHRjaGlsZF9vcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCBwYXJlbnRzOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWQgfSwgeyBmaWVsZHM6IHsgdXNlcnM6IDEgfSB9KS5mZXRjaCgpXHJcblx0XHRcdF8uZWFjaChjaGlsZF9vcmdzLCAoY2hpbGRfb3JnKSAtPlxyXG5cdFx0XHRcdGlmIGNoaWxkX29yZy51c2Vyc1xyXG5cdFx0XHRcdFx0b3JnX3VzZXJfaWRzID0gb3JnX3VzZXJfaWRzLmNvbmNhdChjaGlsZF9vcmcudXNlcnMpXHJcblx0XHRcdClcclxuXHRcdClcclxuXHJcblx0XHRvcmdfdXNlcl9pZHMgPSBfLnVuaXEob3JnX3VzZXJfaWRzKVxyXG5cdFx0bmV3X29yZ191c2VyX2lkcyA9IG5ldyBBcnJheVxyXG5cdFx0Xy5lYWNoKG9yZ191c2VyX2lkcywgKG9yZ191c2VyX2lkKSAtPlxyXG5cdFx0XHRzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBvcmdfdXNlcl9pZCB9KS5jb3VudCgpXHJcblx0XHRcdGlmIHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDBcclxuXHRcdFx0XHRuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIG5ld19vcmdfdXNlcl9pZHNcclxuXHRlbHNlIGlmIGRlYWxfdHlwZSBpcyBcInNwZWNpZnlVc2VyXCJcclxuXHRcdCMgMTIuKioqKioqKioqKirmjIflrprnmoTkurrlkZgqKioqKioqKioqKlxyXG5cdFx0YXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnNcclxuXHRcdGFwcHJvdmVyX3VzZXJfaWRzID0gXy51bmlxKGFwcHJvdmVyX3VzZXJfaWRzKVxyXG5cdFx0bmV3X2FwcHJvdmVyX3VzZXJfaWRzID0gbmV3IEFycmF5XHJcblx0XHRfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIChhcHByb3Zlcl91c2VyX2lkKSAtPlxyXG5cdFx0XHRzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHByb3Zlcl91c2VyX2lkIH0pLmNvdW50KClcclxuXHRcdFx0aWYgc3BhY2VfdXNlcl9pbmZvX2NvdW50ID4gMFxyXG5cdFx0XHRcdG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpXHJcblx0XHQpXHJcblxyXG5cdFx0cmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwicGlja3VwQXRSdW50aW1lXCJcclxuXHRcdCMgMTMuKioqKioqKioqKirlrqHmibnml7bmjIflrpoqKioqKioqKioqKlxyXG5cdFx0bmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCAoX3RyKSAtPlxyXG5cdFx0XHRyZXR1cm4gX3RyLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHQpXHJcblx0XHRfYXBwcm92ZSA9IF8uZmluZChfdHJhY2UuYXBwcm92ZXMsIChfYXBwKSAtPlxyXG5cdFx0XHRyZXR1cm4gX2FwcC5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgX2FwcC50eXBlIGlzbnQgJ2NjJ1xyXG5cdFx0KVxyXG5cclxuXHRcdGlmIF9hcHByb3ZlLm5leHRfc3RlcHNcclxuXHRcdFx0aWYgX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdXHJcblx0XHRcdFx0bmV4dF9zdGVwX3VzZXJzID0gX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdXHJcblxyXG5cdFx0cmV0dXJuIG5leHRfc3RlcF91c2Vyc1xyXG5cdGVsc2UgaWYgZGVhbF90eXBlIGlzIFwiYXBwbGljYW50U3VwZXJpb3JcIlxyXG5cdFx0IyAxNC4qKioqKioqKioqKueUs+ivt+S6uuS4iue6p+S4u+euoSoqKioqKioqKioqXHJcblx0XHRhcHBsaWNhbnRTdXBlcmlvcnMgPSBuZXcgQXJyYXlcclxuXHRcdF9zcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7IHNwYWNlOiBzcGFjZV9pZCwgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50IH0sIHsgZmllbGRzOiB7IG1hbmFnZXI6IDEgfSB9KVxyXG5cdFx0aWYgX3NwYWNlX3VzZXIubWFuYWdlclxyXG5cdFx0XHRhcHBsaWNhbnRTdXBlcmlvcnMucHVzaChfc3BhY2VfdXNlci5tYW5hZ2VyKVxyXG5cclxuXHRcdHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnMiLCIgICAgICAgICAgICAgICAgICAgICAgIFxuXG5nZXRIYW5kbGVyc01hbmFnZXIgPSB7fTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzID0gZnVuY3Rpb24odXNlcl9pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgYXBwcm92ZV91c2VycztcbiAgYXBwcm92ZV91c2VycyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHVzZXJfaWRzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPiAwKSB7XG4gICAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5VXNlckFuZFJvbGVzKHVzZXJfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gYXBwcm92ZV91c2VycyA9IGFwcHJvdmVfdXNlcnMuY29uY2F0KHVzZXJzKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJ1c2VyX2lk5LiN5ZCI5rOV5LiN5ZCI5rOVXCIpO1xuICAgIH1cbiAgfSk7XG4gIGFwcHJvdmVfdXNlcnMgPSBfLnVuaXEoYXBwcm92ZV91c2Vycyk7XG4gIHJldHVybiBhcHByb3ZlX3VzZXJzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMgPSBmdW5jdGlvbih1c2VyX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIGlmIChkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgX2lkOiByb2xlX2lkXG4gICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZSh1c2VyX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgICBpZiAodXNlcnMubGVuZ3RoID4gMCkge1xuICAgICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcInJvbGVfaWTlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgfVxuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA+IDApIHtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2Uge1xuICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5qC55o2udXNlcl9pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlID0gZnVuY3Rpb24odXNlcl9pZCwgcm9sZV9pZCwgc3BhY2VfaWQpIHtcbiAgdmFyIG9yZ3MsIHVzZXJfaWRzO1xuICBvcmdzID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxXG4gICAgfVxuICB9KS5mZXRjaCgpO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKG9yZ3MsIGZ1bmN0aW9uKG9yZykge1xuICAgIHZhciB1c2VycztcbiAgICB1c2VycyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVyc0J5T3JnQW5kUm9sZShvcmcuX2lkLCByb2xlX2lkLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyA9IGZ1bmN0aW9uKG9yZ19pZHMsIHJvbGVfaWRzLCBzcGFjZV9pZCkge1xuICB2YXIgdXNlcl9pZHM7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBfLmVhY2gob3JnX2lkcywgZnVuY3Rpb24ob3JnX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlcyhvcmdfaWQsIHJvbGVfaWRzLCBzcGFjZV9pZCk7XG4gICAgaWYgKHVzZXJzLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdCh1c2Vycyk7XG4gICAgfVxuICB9KTtcbiAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICByZXR1cm4gdXNlcl9pZHM7XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGVzID0gZnVuY3Rpb24ob3JnX2lkLCByb2xlX2lkcywgc3BhY2VfaWQpIHtcbiAgdmFyIHVzZXJfaWRzO1xuICB1c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgXy5lYWNoKHJvbGVfaWRzLCBmdW5jdGlvbihyb2xlX2lkKSB7XG4gICAgdmFyIHVzZXJzO1xuICAgIHVzZXJzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlPcmdBbmRSb2xlKG9yZ19pZCwgcm9sZV9pZCwgc3BhY2VfaWQpO1xuICAgIGlmICh1c2Vycy5sZW5ndGggPiAwKSB7XG4gICAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQodXNlcnMpO1xuICAgIH1cbiAgfSk7XG4gIGlmICh1c2VyX2lkcy5sZW5ndGggPiAwKSB7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIHJldHVybiB1c2VyX2lkcztcbiAgfSBlbHNlIHtcbiAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuagueaNrm9yZ19pZOWSjHJvbGVfaWRz5rKh5p+l5Yiw5a+55bqU55qE5aSE55CG5Lq6XCIpO1xuICB9XG59O1xuXG5nZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ0FuZFJvbGUgPSBmdW5jdGlvbihvcmdfaWQsIHJvbGVfaWQsIHNwYWNlX2lkKSB7XG4gIHZhciBvcmcsIHBhcmVudHMsIHBvc2l0aW9ucywgdXNlcl9pZHM7XG4gIG9yZyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7XG4gICAgX2lkOiBvcmdfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSk7XG4gIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgb3JnOiBvcmdfaWQsXG4gICAgcm9sZTogcm9sZV9pZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB1c2VyczogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKHBvc2l0aW9ucywgZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICByZXR1cm4gdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQocG9zaXRpb24udXNlcnMpO1xuICB9KTtcbiAgaWYgKHVzZXJfaWRzLmxlbmd0aCA9PT0gMCkge1xuICAgIHBhcmVudHMgPSBvcmcucGFyZW50cztcbiAgICBfLmVhY2gocGFyZW50cywgZnVuY3Rpb24ocGFyZW50X2lkKSB7XG4gICAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICBvcmc6IHBhcmVudF9pZCxcbiAgICAgICAgcm9sZTogcm9sZV9pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKHBvc2l0aW9ucy5sZW5ndGggPiAwKSB7XG4gICAgICAgIHJldHVybiBfLmVhY2gocG9zaXRpb25zLCBmdW5jdGlvbihwb3NpdGlvbikge1xuICAgICAgICAgIHJldHVybiB1c2VyX2lkcyA9IHVzZXJfaWRzLmNvbmNhdChwb3NpdGlvbi51c2Vycyk7XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHVzZXJfaWRzID0gXy51bmlxKHVzZXJfaWRzKTtcbiAgcmV0dXJuIHVzZXJfaWRzO1xufTtcblxuZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzID0gZnVuY3Rpb24oaW5zdGFuY2VfaWQsIHN0ZXBfaWQpIHtcbiAgdmFyIF9hcHByb3ZlLCBfc3BhY2VfdXNlciwgX3RyYWNlLCBhcHBsaWNhbnQsIGFwcGxpY2FudFN1cGVyaW9ycywgYXBwcm92ZUhyUm9sZUlkcywgYXBwcm92ZV91c2VycywgYXBwcm92ZXJfb3JnX2ZpZWxkLCBhcHByb3Zlcl9vcmdfaWRzLCBhcHByb3Zlcl9zdGVwLCBhcHByb3Zlcl91c2VyX2ZpZWxkLCBhcHByb3Zlcl91c2VyX2lkcywgY3VycmVudCwgY3VycmVudF9mbG93LCBjdXJyZW50X2Zsb3dfdmVyc2lvbiwgY3VycmVudF9mb3JtLCBjdXJyZW50X3N0ZXAsIGN1cnJlbnRfc3RlcHMsIGRlYWxfdHlwZSwgZmllbGRfY29kZSwgZmluaXNoZWRfdHJhY2VzLCBmbG93X2lkLCBmbG93X3JldiwgZm9ybSwgZm9ybV9maWVsZHMsIGZvcm1faWQsIGZvcm1fcmV2LCBoYW5kbGVycywgaW5zdGFuY2UsIG1heF9zdGFydERhdGVfdHJhY2UsIG5ld19hcHByb3Zlcl91c2VyX2lkcywgbmV3X29yZ191c2VyX2lkcywgbmV3ZXN0X3ZhbHVlcywgbmV4dF9zdGVwX3VzZXJzLCBvcmdfaWRzLCBvcmdfaWRzX25hbWVzLCBvcmdfdXNlcl9pZHMsIHNwYWNlX2lkLCBzcGFjZV91c2VyX2NvdW50LCBzdWJtaXR0ZXIsIHN1Ym1pdHRlcl91c2VyX2NvdW50LCB1bmZpbmlzaGVkX3RyYWNlLCB1c2VyX2lkcywgdXNlcl9pZHNfbmFtZXMsIHVzZXJzLCB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzO1xuICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2lkKTtcbiAgaWYgKGluc3RhbmNlLnN0ZXBfYXBwcm92ZSAmJiBpbnN0YW5jZS5zdGVwX2FwcHJvdmVbc3RlcF9pZF0pIHtcbiAgICByZXR1cm4gaW5zdGFuY2Uuc3RlcF9hcHByb3ZlW3N0ZXBfaWRdO1xuICB9XG4gIGFwcHJvdmVfdXNlcnMgPSBuZXcgQXJyYXk7XG4gIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gIGZsb3dfaWQgPSBpbnN0YW5jZS5mbG93O1xuICBmbG93X3JldiA9IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgY3VycmVudF9mbG93ID0gZGIuZmxvd3MuZmluZE9uZShmbG93X2lkKTtcbiAgY3VycmVudF9zdGVwID0gbnVsbDtcbiAgY3VycmVudF9zdGVwcyA9IG5ldyBBcnJheTtcbiAgaWYgKGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCA9PT0gZmxvd19yZXYpIHtcbiAgICBjdXJyZW50X3N0ZXBzID0gY3VycmVudF9mbG93LmN1cnJlbnQuc3RlcHM7XG4gIH0gZWxzZSB7XG4gICAgY3VycmVudCA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGhpc3RvcnkpIHtcbiAgICAgIHJldHVybiBoaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgfSk7XG4gICAgY3VycmVudF9zdGVwcyA9IGN1cnJlbnQuc3RlcHM7XG4gIH1cbiAgY3VycmVudF9zdGVwID0gXy5maW5kKGN1cnJlbnRfc3RlcHMsIGZ1bmN0aW9uKHN0ZXApIHtcbiAgICByZXR1cm4gc3RlcC5faWQgPT09IHN0ZXBfaWQ7XG4gIH0pO1xuICBpZiAoY3VycmVudF9zdGVwLnN0ZXBfdHlwZSA9PT0gXCJjb25kaXRpb25cIikge1xuICAgIHVuZmluaXNoZWRfdHJhY2UgPSBfLmZpbmQoaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICB9KTtcbiAgICByZXR1cm4gbmV3IEFycmF5KHVuZmluaXNoZWRfdHJhY2UuYXBwcm92ZXNbMF0udXNlcik7XG4gIH1cbiAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwic3RhcnRcIikge1xuICAgIGhhbmRsZXJzID0gbmV3IEFycmF5O1xuICAgIGhhbmRsZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KTtcbiAgICBoYW5kbGVycy5wdXNoKGluc3RhbmNlLnN1Ym1pdHRlcik7XG4gICAgaGFuZGxlcnMgPSBfLnVuaXEoaGFuZGxlcnMpO1xuICAgIHJldHVybiBoYW5kbGVycztcbiAgfVxuICBkZWFsX3R5cGUgPSBjdXJyZW50X3N0ZXAuZGVhbF90eXBlO1xuICB1c2VycyA9IG5ldyBBcnJheTtcbiAgaWYgKGRlYWxfdHlwZSA9PT0gXCJhcHBsaWNhbnRSb2xlXCIpIHtcbiAgICBhcHBsaWNhbnQgPSBpbnN0YW5jZS5hcHBsaWNhbnQ7XG4gICAgaWYgKGFwcGxpY2FudCkge1xuICAgICAgc3BhY2VfdXNlcl9jb3VudCA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgICB9XG4gICAgICBpZiAoY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzICYmIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcy5sZW5ndGggPiAwKSB7XG4gICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgICByb2xlX2NvdW50ID0gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgICAgaWYgKHJvbGVfY291bnQgPT09IDApIHtcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6KeS6Imy5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJBbmRSb2xlcyhhcHBsaWNhbnQsIGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgc3BhY2VfaWQpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwiSW5zdGFuY2XnmoTmj5DkuqTkurrkuLrnqbpcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJoclJvbGVcIikge1xuICAgIGFwcHJvdmVIclJvbGVJZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfaHJfcm9sZXM7XG4gICAgaWYgKGFwcHJvdmVIclJvbGVJZHMpIHtcbiAgICAgIHJldHVybiBfLnBsdWNrKFdvcmtmbG93TWFuYWdlci5nZXRIclJvbGVzVXNlcnMoc3BhY2VfaWQsIGFwcHJvdmVIclJvbGVJZHMpLCAndXNlcicpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuinkuiJsuacquaMh+WumlwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcImFwcGxpY2FudFwiKSB7XG4gICAgYXBwbGljYW50ID0gaW5zdGFuY2UuYXBwbGljYW50O1xuICAgIHNwYWNlX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgIHVzZXI6IGFwcGxpY2FudFxuICAgIH0pLmNvdW50KCk7XG4gICAgaWYgKHNwYWNlX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmNc3BhY2VcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoYXBwbGljYW50KTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcIm9yZ0ZpZWxkUm9sZVwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgYXBwcm92ZXJfcm9sZSArIFwi5bey57uP6KKr5Yig6ZmkXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeU9yZ3NBbmRSb2xlcyhvcmdfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJvcmdGaWVsZFwiKSB7XG4gICAgZm9ybV9pZCA9IGN1cnJlbnRfZmxvdy5mb3JtO1xuICAgIGZvcm1fcmV2ID0gbnVsbDtcbiAgICBpZiAoZmxvd19yZXYgPT09IGN1cnJlbnRfZmxvdy5jdXJyZW50Ll9pZCkge1xuICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3cuY3VycmVudC5mb3JtX3ZlcnNpb247XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZmxvd192ZXJzaW9uID0gXy5maW5kKGN1cnJlbnRfZmxvdy5oaXN0b3J5cywgZnVuY3Rpb24oY3VycmVudF9mbG93X2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGN1cnJlbnRfZmxvd19oaXN0b3J5Ll9pZCA9PT0gZmxvd19yZXY7XG4gICAgICB9KTtcbiAgICAgIGlmIChjdXJyZW50X2Zsb3dfdmVyc2lvbikge1xuICAgICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvd192ZXJzaW9uLmZvcm1fdmVyc2lvbjtcbiAgICAgIH1cbiAgICB9XG4gICAgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZm9ybV9pZCk7XG4gICAgY3VycmVudF9mb3JtID0gbnVsbDtcbiAgICBpZiAoZm9ybV9yZXYgPT09IGZvcm0uY3VycmVudC5faWQpIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IGZvcm0uY3VycmVudDtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mb3JtID0gXy5maW5kKGZvcm0uaGlzdG9yeXMsIGZ1bmN0aW9uKGZvcm1faGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gZm9ybV9oaXN0b3J5Ll9pZCA9PT0gZm9ybV9yZXY7XG4gICAgICB9KTtcbiAgICB9XG4gICAgYXBwcm92ZXJfb3JnX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX29yZ19maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX29yZ19maWVsZCkge1xuICAgICAgICByZXR1cm4gZmllbGRfY29kZSA9IGZvcm1fZmllbGQuY29kZTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBuZXdlc3RfdmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIG9yZ19pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgb3JnX2lkc19uYW1lcyA9IG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV07XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvcmdfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIF8uZWFjaChvcmdfaWRzX25hbWVzLCBmdW5jdGlvbihvcmcpIHtcbiAgICAgIHZhciBjaGVja19vcmdfY291bnQ7XG4gICAgICBjaGVja19vcmdfY291bnQgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IG9yZ1tcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX29yZ19jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIue7hOe7h0lE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIG9yZ19pZHMucHVzaChvcmdbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgdmFyIGNoZWNrX29yZ3MsIG9yZywgb3JnX2NoaWxkcmVuLCBvcmdfdXNlcnM7XG4gICAgICBvcmcgPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG9yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9yZ19jaGlsZHJlbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgcGFyZW50czogb3JnX2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIHVzZXJzOiAxXG4gICAgICAgIH1cbiAgICAgIH0pLmZldGNoKCk7XG4gICAgICBvcmdfY2hpbGRyZW4udW5zaGlmdChvcmcpO1xuICAgICAgY2hlY2tfb3JncyA9IG9yZ19jaGlsZHJlbjtcbiAgICAgIG9yZ191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgIF8uZWFjaChjaGVja19vcmdzLCBmdW5jdGlvbihjaGVja19vcmdfdXNlcikge1xuICAgICAgICBpZiAoY2hlY2tfb3JnX3VzZXIudXNlcnMpIHtcbiAgICAgICAgICBfLmVhY2goY2hlY2tfb3JnX3VzZXIudXNlcnMsIGZ1bmN0aW9uKG9yZ191c2VyKSB7XG4gICAgICAgICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICAgICAgdXNlcjogb3JnX3VzZXJcbiAgICAgICAgICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCJzcGFjZeS4i+S4jeWtmOWcqOatpHVzZXJcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgICAgdXNlcl9pZHMgPSB1c2VyX2lkcy5jb25jYXQoY2hlY2tfb3JnX3VzZXIudXNlcnMpO1xuICAgICAgICByZXR1cm4gb3JnX3VzZXJzID0gb3JnX3VzZXJzLmNvbmNhdChjaGVja19vcmdfdXNlci51c2Vycyk7XG4gICAgICB9KTtcbiAgICAgIGlmIChvcmdfdXNlcnMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi57uE57uHXCIgKyBvcmdfaWQgKyBcIuS4jeWtmOWcqOWkhOeQhuS6ulwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRSb2xlXCIpIHtcbiAgICBmb3JtX2lkID0gY3VycmVudF9mbG93LmZvcm07XG4gICAgZm9ybV9yZXYgPSBudWxsO1xuICAgIGlmIChmbG93X3JldiA9PT0gY3VycmVudF9mbG93LmN1cnJlbnQuX2lkKSB7XG4gICAgICBmb3JtX3JldiA9IGN1cnJlbnRfZmxvdy5jdXJyZW50LmZvcm1fdmVyc2lvbjtcbiAgICB9IGVsc2Uge1xuICAgICAgY3VycmVudF9mbG93X3ZlcnNpb24gPSBfLmZpbmQoY3VycmVudF9mbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihjdXJyZW50X2Zsb3dfaGlzdG9yeSkge1xuICAgICAgICByZXR1cm4gY3VycmVudF9mbG93X2hpc3RvcnkuX2lkID09PSBmbG93X3JldjtcbiAgICAgIH0pO1xuICAgICAgaWYgKGN1cnJlbnRfZmxvd192ZXJzaW9uKSB7XG4gICAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93X3ZlcnNpb24uZm9ybV92ZXJzaW9uO1xuICAgICAgfVxuICAgIH1cbiAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZShmb3JtX2lkKTtcbiAgICBjdXJyZW50X2Zvcm0gPSBudWxsO1xuICAgIGlmIChmb3JtX3JldiA9PT0gZm9ybS5jdXJyZW50Ll9pZCkge1xuICAgICAgY3VycmVudF9mb3JtID0gZm9ybS5jdXJyZW50O1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBfLmZpbmQoZm9ybS5oaXN0b3J5cywgZnVuY3Rpb24oZm9ybV9oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBmb3JtX2hpc3RvcnkuX2lkID09PSBmb3JtX3JldjtcbiAgICAgIH0pO1xuICAgIH1cbiAgICBhcHByb3Zlcl91c2VyX2ZpZWxkID0gY3VycmVudF9zdGVwLmFwcHJvdmVyX3VzZXJfZmllbGQ7XG4gICAgZm9ybV9maWVsZHMgPSBjdXJyZW50X2Zvcm0uZmllbGRzO1xuICAgIGZpZWxkX2NvZGUgPSBudWxsO1xuICAgIF8uZWFjaChmb3JtX2ZpZWxkcywgZnVuY3Rpb24oZm9ybV9maWVsZCkge1xuICAgICAgaWYgKGZvcm1fZmllbGQuX2lkID09PSBhcHByb3Zlcl91c2VyX2ZpZWxkKSB7XG4gICAgICAgIHJldHVybiBmaWVsZF9jb2RlID0gZm9ybV9maWVsZC5jb2RlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG5ld2VzdF92YWx1ZXMgPSB1dWZsb3dNYW5hZ2VyLmdldFVwZGF0ZWRWYWx1ZXMoaW5zdGFuY2UpO1xuICAgIHVzZXJfaWRzX25hbWVzID0gbmV3IEFycmF5O1xuICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKSB7XG4gICAgICBpZiAobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSBpbnN0YW5jZW9mIEFycmF5KSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzID0gbmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHVzZXJfaWRzX25hbWVzLnB1c2gobmV3ZXN0X3ZhbHVlc1tmaWVsZF9jb2RlXSk7XG4gICAgICB9XG4gICAgfVxuICAgIHVzZXJfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaCh1c2VyX2lkc19uYW1lcywgZnVuY3Rpb24odXNlcikge1xuICAgICAgdmFyIGNoZWNrX3VzZXJfY291bnQ7XG4gICAgICBjaGVja191c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogdXNlcltcImlkXCJdXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX3VzZXJfY291bnQgPT09IDApIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkurrlkZhJROS4jeWQiOazlVwiKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiB1c2VyX2lkcy5wdXNoKHVzZXJbXCJpZFwiXSk7XG4gICAgfSk7XG4gICAgdXNlcl9pZHMgPSBfLnVuaXEodXNlcl9pZHMpO1xuICAgIGlmIChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMgJiYgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLmxlbmd0aCA+IDApIHtcbiAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgdmFyIHJvbGVfY291bnQ7XG4gICAgICAgIHJvbGVfY291bnQgPSBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICB9KS5jb3VudCgpO1xuICAgICAgICBpZiAocm9sZV9jb3VudCA9PT0gMCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2Vyc0FuZFJvbGVzKHVzZXJfaWRzLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGluc3RhbmNlLnNwYWNlKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmtYHnqIvmraXpqqRcIiArIGN1cnJlbnRfc3RlcC5uYW1lICsgXCLlrqHmibnlspfkvY3mnKrmjIflrppcIik7XG4gICAgfVxuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJ1c2VyRmllbGRcIikge1xuICAgIGZvcm1faWQgPSBjdXJyZW50X2Zsb3cuZm9ybTtcbiAgICBmb3JtX3JldiA9IG51bGw7XG4gICAgaWYgKGZsb3dfcmV2ID09PSBjdXJyZW50X2Zsb3cuY3VycmVudC5faWQpIHtcbiAgICAgIGZvcm1fcmV2ID0gY3VycmVudF9mbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xuICAgIH0gZWxzZSB7XG4gICAgICBjdXJyZW50X2Zsb3dfdmVyc2lvbiA9IF8uZmluZChjdXJyZW50X2Zsb3cuaGlzdG9yeXMsIGZ1bmN0aW9uKGN1cnJlbnRfZmxvd19oaXN0b3J5KSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X2Zsb3dfaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2O1xuICAgICAgfSk7XG4gICAgICBpZiAoY3VycmVudF9mbG93X3ZlcnNpb24pIHtcbiAgICAgICAgZm9ybV9yZXYgPSBjdXJyZW50X2Zsb3dfdmVyc2lvbi5mb3JtX3ZlcnNpb247XG4gICAgICB9XG4gICAgfVxuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGZvcm1faWQpO1xuICAgIGN1cnJlbnRfZm9ybSA9IG51bGw7XG4gICAgaWYgKGZvcm1fcmV2ID09PSBmb3JtLmN1cnJlbnQuX2lkKSB7XG4gICAgICBjdXJyZW50X2Zvcm0gPSBmb3JtLmN1cnJlbnQ7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnRfZm9ybSA9IF8uZmluZChmb3JtLmhpc3RvcnlzLCBmdW5jdGlvbihmb3JtX2hpc3RvcnkpIHtcbiAgICAgICAgcmV0dXJuIGZvcm1faGlzdG9yeS5faWQgPT09IGZvcm1fcmV2O1xuICAgICAgfSk7XG4gICAgfVxuICAgIGFwcHJvdmVyX3VzZXJfZmllbGQgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcl9maWVsZDtcbiAgICBmb3JtX2ZpZWxkcyA9IGN1cnJlbnRfZm9ybS5maWVsZHM7XG4gICAgZmllbGRfY29kZSA9IG51bGw7XG4gICAgXy5lYWNoKGZvcm1fZmllbGRzLCBmdW5jdGlvbihmb3JtX2ZpZWxkKSB7XG4gICAgICBpZiAoZm9ybV9maWVsZC5faWQgPT09IGFwcHJvdmVyX3VzZXJfZmllbGQpIHtcbiAgICAgICAgcmV0dXJuIGZpZWxkX2NvZGUgPSBmb3JtX2ZpZWxkLmNvZGU7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbmV3ZXN0X3ZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSk7XG4gICAgdXNlcl9pZHNfbmFtZXMgPSBuZXcgQXJyYXk7XG4gICAgaWYgKG5ld2VzdF92YWx1ZXNbZmllbGRfY29kZV0pIHtcbiAgICAgIGlmIChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdIGluc3RhbmNlb2YgQXJyYXkpIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMgPSBuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdXNlcl9pZHNfbmFtZXMucHVzaChuZXdlc3RfdmFsdWVzW2ZpZWxkX2NvZGVdKTtcbiAgICAgIH1cbiAgICB9XG4gICAgdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKHVzZXJfaWRzX25hbWVzLCBmdW5jdGlvbih1c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfdXNlcl9jb3VudDtcbiAgICAgIGNoZWNrX3VzZXJfY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiB1c2VyW1wiaWRcIl1cbiAgICAgIH0pLmNvdW50KCk7XG4gICAgICBpZiAoY2hlY2tfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS6uuWRmElE5LiN5ZCI5rOVXCIpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIHVzZXJfaWRzLnB1c2godXNlcltcImlkXCJdKTtcbiAgICB9KTtcbiAgICB1c2VyX2lkcyA9IF8udW5pcSh1c2VyX2lkcyk7XG4gICAgcmV0dXJuIHVzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5U3RlcFJvbGVcIikge1xuICAgIGFwcHJvdmVyX3N0ZXAgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfc3RlcDtcbiAgICBmaW5pc2hlZF90cmFjZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGluc3RhbmNlLnRyYWNlcywgZnVuY3Rpb24odHJhY2UpIHtcbiAgICAgIGlmICh0cmFjZS5zdGVwID09PSBhcHByb3Zlcl9zdGVwKSB7XG4gICAgICAgIHJldHVybiBmaW5pc2hlZF90cmFjZXMucHVzaCh0cmFjZSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgbWF4X3N0YXJ0RGF0ZV90cmFjZSA9IF8ubWF4KGZpbmlzaGVkX3RyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgcmV0dXJuIHQuc3RhcnRfZGF0ZTtcbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy5wbHVjayhtYXhfc3RhcnREYXRlX3RyYWNlLmFwcHJvdmVzLCBcInVzZXJcIik7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcykge1xuICAgICAgXy5lYWNoKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcywgZnVuY3Rpb24oYXBwcm92ZXJfcm9sZSkge1xuICAgICAgICB2YXIgcm9sZV9jb3VudDtcbiAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgX2lkOiBhcHByb3Zlcl9yb2xlXG4gICAgICAgIH0pLmNvdW50KCk7XG4gICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLop5LoibLlt7Lnu4/ooqvliKDpmaRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5oyH5a6a5q2l6aqk55qE5aSE55CG5Lq65bey57uP5Y+Y5pu0XCIpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnNCeVVzZXJzQW5kUm9sZXMoYXBwcm92ZV91c2VycywgY3VycmVudF9zdGVwLmFwcHJvdmVyX3JvbGVzLCBzcGFjZV9pZCk7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlTdGVwVXNlclwiKSB7XG4gICAgYXBwcm92ZXJfc3RlcCA9IGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9zdGVwO1xuICAgIGZpbmlzaGVkX3RyYWNlcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goaW5zdGFuY2UudHJhY2VzLCBmdW5jdGlvbih0cmFjZSkge1xuICAgICAgaWYgKHRyYWNlLnN0ZXAgPT09IGFwcHJvdmVyX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZpbmlzaGVkX3RyYWNlcy5wdXNoKHRyYWNlKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBtYXhfc3RhcnREYXRlX3RyYWNlID0gXy5tYXgoZmluaXNoZWRfdHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICByZXR1cm4gdC5zdGFydF9kYXRlO1xuICAgIH0pO1xuICAgIGFwcHJvdmVfdXNlcnMgPSBfLnBsdWNrKG1heF9zdGFydERhdGVfdHJhY2UuYXBwcm92ZXMsIFwidXNlclwiKTtcbiAgICBfLmVhY2goYXBwcm92ZV91c2VycywgZnVuY3Rpb24oYXBwcm92ZV91c2VyKSB7XG4gICAgICB2YXIgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50O1xuICAgICAgY2hlY2tfYXBwcm92ZV91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwcm92ZV91c2VyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKGNoZWNrX2FwcHJvdmVfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaMh+WumuatpemqpOeahOWkhOeQhuS6uuW3sue7j+WPmOabtFwiKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBhcHByb3ZlX3VzZXJzID0gXy51bmlxKGFwcHJvdmVfdXNlcnMpO1xuICAgIHJldHVybiBhcHByb3ZlX3VzZXJzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzdWJtaXR0ZXJSb2xlXCIpIHtcbiAgICBzdWJtaXR0ZXIgPSBpbnN0YW5jZS5zdWJtaXR0ZXI7XG4gICAgaWYgKCFzdWJtaXR0ZXIpIHtcbiAgICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogc3VibWl0dGVyXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHN1Ym1pdHRlcl91c2VyX2NvdW50ID09PSAwKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5o+Q5Lqk5Lq65bey57uP6KKr5Yig6Zmk5oiW5LiN5bGe5LqO5b2T5YmN5bel5L2c5Yy6XCIpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgaWYgKGN1cnJlbnRfc3RlcC5hcHByb3Zlcl9yb2xlcyAmJiBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMubGVuZ3RoID4gMCkge1xuICAgICAgICAgIF8uZWFjaChjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIGZ1bmN0aW9uKGFwcHJvdmVyX3JvbGUpIHtcbiAgICAgICAgICAgIHZhciByb2xlX2NvdW50O1xuICAgICAgICAgICAgcm9sZV9jb3VudCA9IGRiLmZsb3dfcm9sZXMuZmluZCh7XG4gICAgICAgICAgICAgIF9pZDogYXBwcm92ZXJfcm9sZVxuICAgICAgICAgICAgfSkuY291bnQoKTtcbiAgICAgICAgICAgIGlmIChyb2xlX2NvdW50ID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIGFwcHJvdmVyX3JvbGUgKyBcIuW3sue7j+iiq+WIoOmZpFwiKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZXR1cm4gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzQnlVc2VyQW5kUm9sZXMoc3VibWl0dGVyLCBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfcm9sZXMsIHNwYWNlX2lkKTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIua1geeoi+atpemqpFwiICsgY3VycmVudF9zdGVwLm5hbWUgKyBcIuWuoeaJueWyl+S9jeacquaMh+WumlwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUs+ivt+WNleeahOaPkOS6pOS6uuS4uuepulwiKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInN1Ym1pdHRlclwiKSB7XG4gICAgc3VibWl0dGVyID0gaW5zdGFuY2Uuc3VibWl0dGVyO1xuICAgIHN1Ym1pdHRlcl91c2VyX2NvdW50ID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBzdWJtaXR0ZXJcbiAgICB9KS5jb3VudCgpO1xuICAgIGlmIChzdWJtaXR0ZXJfdXNlcl9jb3VudCA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmj5DkuqTkurrlt7Lnu4/ooqvliKDpmaTmiJbkuI3lsZ7kuo7lvZPliY3lt6XkvZzljLpcIik7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBuZXcgQXJyYXkoc3VibWl0dGVyKTtcbiAgICB9XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInNwZWNpZnlPcmdcIikge1xuICAgIGFwcHJvdmVyX29yZ19pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfb3JncztcbiAgICBpZiAoIWFwcHJvdmVyX29yZ19pZHMgfHwgYXBwcm92ZXJfb3JnX2lkcy5sZW5ndGggPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi5pyq5a6a5LmJ55So5LqO5p+l5om+5LiL5LiA5q2l5aSE55CG5Lq655qE6YOo6Zeo77yM6K+36IGU57O7566h55CG5ZGY6LCD5p+l5rWB56iL5Zu+55qE6YWN572u5piv5ZCm5q2j56GuXCIpO1xuICAgIH1cbiAgICB2YWxpZF9hcHByb3Zlcl9vcmdfaWRzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChhcHByb3Zlcl9vcmdfaWRzLCBmdW5jdGlvbihhcHByb3Zlcl9vcmdfaWQpIHtcbiAgICAgIGlmIChkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IGFwcHJvdmVyX29yZ19pZFxuICAgICAgfSkuY291bnQoKSA+IDApIHtcbiAgICAgICAgcmV0dXJuIHZhbGlkX2FwcHJvdmVyX29yZ19pZHMudW5zaGlmdChhcHByb3Zlcl9vcmdfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2godmFsaWRfYXBwcm92ZXJfb3JnX2lkcywgZnVuY3Rpb24odmFsaWRfYXBwcm92ZXJfb3JnX2lkKSB7XG4gICAgICB2YXIgY2hpbGRfb3JncywgdmFsaWRfYXBwcm92ZXJfb3JnO1xuICAgICAgdmFsaWRfYXBwcm92ZXJfb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiB2YWxpZF9hcHByb3Zlcl9vcmdfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgdXNlcnM6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBpZiAodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKSB7XG4gICAgICAgIG9yZ191c2VyX2lkcyA9IG9yZ191c2VyX2lkcy5jb25jYXQodmFsaWRfYXBwcm92ZXJfb3JnLnVzZXJzKTtcbiAgICAgIH1cbiAgICAgIGNoaWxkX29yZ3MgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgIHBhcmVudHM6IHZhbGlkX2FwcHJvdmVyX29yZ19pZFxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB1c2VyczogMVxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgcmV0dXJuIF8uZWFjaChjaGlsZF9vcmdzLCBmdW5jdGlvbihjaGlsZF9vcmcpIHtcbiAgICAgICAgaWYgKGNoaWxkX29yZy51c2Vycykge1xuICAgICAgICAgIHJldHVybiBvcmdfdXNlcl9pZHMgPSBvcmdfdXNlcl9pZHMuY29uY2F0KGNoaWxkX29yZy51c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0pO1xuICAgIG9yZ191c2VyX2lkcyA9IF8udW5pcShvcmdfdXNlcl9pZHMpO1xuICAgIG5ld19vcmdfdXNlcl9pZHMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKG9yZ191c2VyX2lkcywgZnVuY3Rpb24ob3JnX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBvcmdfdXNlcl9pZFxuICAgICAgfSkuY291bnQoKTtcbiAgICAgIGlmIChzcGFjZV91c2VyX2luZm9fY291bnQgPiAwKSB7XG4gICAgICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzLnB1c2gob3JnX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfb3JnX3VzZXJfaWRzO1xuICB9IGVsc2UgaWYgKGRlYWxfdHlwZSA9PT0gXCJzcGVjaWZ5VXNlclwiKSB7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBjdXJyZW50X3N0ZXAuYXBwcm92ZXJfdXNlcnM7XG4gICAgYXBwcm92ZXJfdXNlcl9pZHMgPSBfLnVuaXEoYXBwcm92ZXJfdXNlcl9pZHMpO1xuICAgIG5ld19hcHByb3Zlcl91c2VyX2lkcyA9IG5ldyBBcnJheTtcbiAgICBfLmVhY2goYXBwcm92ZXJfdXNlcl9pZHMsIGZ1bmN0aW9uKGFwcHJvdmVyX3VzZXJfaWQpIHtcbiAgICAgIHZhciBzcGFjZV91c2VyX2luZm9fY291bnQ7XG4gICAgICBzcGFjZV91c2VyX2luZm9fY291bnQgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgICB1c2VyOiBhcHByb3Zlcl91c2VyX2lkXG4gICAgICB9KS5jb3VudCgpO1xuICAgICAgaWYgKHNwYWNlX3VzZXJfaW5mb19jb3VudCA+IDApIHtcbiAgICAgICAgcmV0dXJuIG5ld19hcHByb3Zlcl91c2VyX2lkcy5wdXNoKGFwcHJvdmVyX3VzZXJfaWQpO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBuZXdfYXBwcm92ZXJfdXNlcl9pZHM7XG4gIH0gZWxzZSBpZiAoZGVhbF90eXBlID09PSBcInBpY2t1cEF0UnVudGltZVwiKSB7XG4gICAgbmV4dF9zdGVwX3VzZXJzID0gbmV3IEFycmF5O1xuICAgIF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKF90cikge1xuICAgICAgcmV0dXJuIF90ci5pc19maW5pc2hlZCA9PT0gZmFsc2U7XG4gICAgfSk7XG4gICAgX2FwcHJvdmUgPSBfLmZpbmQoX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihfYXBwKSB7XG4gICAgICByZXR1cm4gX2FwcC5pc19maW5pc2hlZCA9PT0gZmFsc2UgJiYgX2FwcC50eXBlICE9PSAnY2MnO1xuICAgIH0pO1xuICAgIGlmIChfYXBwcm92ZS5uZXh0X3N0ZXBzKSB7XG4gICAgICBpZiAoX2FwcHJvdmUubmV4dF9zdGVwc1swXVtcInVzZXJzXCJdKSB7XG4gICAgICAgIG5leHRfc3RlcF91c2VycyA9IF9hcHByb3ZlLm5leHRfc3RlcHNbMF1bXCJ1c2Vyc1wiXTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIG5leHRfc3RlcF91c2VycztcbiAgfSBlbHNlIGlmIChkZWFsX3R5cGUgPT09IFwiYXBwbGljYW50U3VwZXJpb3JcIikge1xuICAgIGFwcGxpY2FudFN1cGVyaW9ycyA9IG5ldyBBcnJheTtcbiAgICBfc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgc3BhY2U6IHNwYWNlX2lkLFxuICAgICAgdXNlcjogaW5zdGFuY2UuYXBwbGljYW50XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG1hbmFnZXI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoX3NwYWNlX3VzZXIubWFuYWdlcikge1xuICAgICAgYXBwbGljYW50U3VwZXJpb3JzLnB1c2goX3NwYWNlX3VzZXIubWFuYWdlcik7XG4gICAgfVxuICAgIHJldHVybiBhcHBsaWNhbnRTdXBlcmlvcnM7XG4gIH1cbn07XG4iLCJwZXJtaXNzaW9uTWFuYWdlciA9IHt9XHJcblxyXG5wZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMgPSAoZmxvd19pZCwgdXNlcl9pZCkgLT5cclxuXHQjIOagueaNrjpmbG93X2lk5p+l5Yiw5a+55bqU55qEZmxvd1xyXG5cdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coZmxvd19pZClcclxuXHRzcGFjZV9pZCA9IGZsb3cuc3BhY2VcclxuXHQjIOagueaNrnNwYWNlX2lk5ZKMOnVzZXJfaWTliLBvcmdhbml6YXRpb25z6KGo5Lit5p+l5Yiw55So5oi35omA5bGe5omA5pyJ55qEb3JnX2lk77yI5YyF5ous5LiK57qn57uESUTvvIlcclxuXHRvcmdfaWRzID0gbmV3IEFycmF5XHJcblx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XHJcblx0XHRzcGFjZTogc3BhY2VfaWQsIHVzZXJzOiB1c2VyX2lkIH0sIHsgZmllbGRzOiB7IHBhcmVudHM6IDEgfSB9KS5mZXRjaCgpXHJcblx0Xy5lYWNoKG9yZ2FuaXphdGlvbnMsIChvcmcpIC0+XHJcblx0XHRvcmdfaWRzLnB1c2gob3JnLl9pZClcclxuXHRcdGlmIG9yZy5wYXJlbnRzXHJcblx0XHRcdF8uZWFjaChvcmcucGFyZW50cywgKHBhcmVudF9pZCkgLT5cclxuXHRcdFx0XHRvcmdfaWRzLnB1c2gocGFyZW50X2lkKVxyXG5cdFx0XHQpXHJcblx0KVxyXG5cdG9yZ19pZHMgPSBfLnVuaXEob3JnX2lkcylcclxuXHRteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheVxyXG5cdGlmIGZsb3cucGVybXNcclxuXHRcdCMg5Yik5patZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRtaW7kuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcclxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZGTmmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXHJcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4imFkZFxyXG5cdFx0aWYgZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkXHJcblx0XHRcdHVzZXJzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZGRcclxuXHRcdFx0aWYgdXNlcnNfY2FuX2FkZC5pbmNsdWRlcyh1c2VyX2lkKVxyXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIilcclxuXHJcblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZFxyXG5cdFx0XHRvcmdzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZFxyXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cclxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9hZGQuaW5jbHVkZXMob3JnX2lkKVxyXG5cdFx0XHRcdFx0bXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKVxyXG5cdFx0XHQpXHJcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX21vbml0b3LkuK3mmK/lkKbljIXlkKvlvZPliY3nlKjmiLfvvIxcclxuXHRcdCMg5oiW6ICFZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9y5piv5ZCm5YyF5ZCrNOatpeW+l+WIsOeahG9yZ19pZOaVsOe7hOS4reeahOS7u+S9leS4gOS4qu+8jFxyXG5cdFx0IyDoi6XmmK/vvIzliJnlnKjov5Tlm57nmoTmlbDnu4TkuK3liqDkuIptb25pdG9yXHJcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yXHJcblx0XHRcdHVzZXJzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvclxyXG5cdFx0XHRpZiB1c2Vyc19jYW5fbW9uaXRvci5pbmNsdWRlcyh1c2VyX2lkKVxyXG5cdFx0XHRcdG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpXHJcblxyXG5cdFx0aWYgZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yXHJcblx0XHRcdG9yZ3NfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX21vbml0b3JcclxuXHRcdFx0Xy5lYWNoKG9yZ19pZHMsIChvcmdfaWQpIC0+XHJcblx0XHRcdFx0aWYgb3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpXHJcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwibW9uaXRvclwiKVxyXG5cdFx0XHQpXHJcblx0XHQjIOWIpOaWrWZsb3cucGVybXMudXNlcnNfY2FuX2FkbWlu5Lit5piv5ZCm5YyF5ZCr5b2T5YmN55So5oi377yMXHJcblx0XHQjIOaIluiAhWZsb3cucGVybXMub3Jnc19jYW5fYWRtaW7mmK/lkKbljIXlkKs05q2l5b6X5Yiw55qEb3JnX2lk5pWw57uE5Lit55qE5Lu75L2V5LiA5Liq77yMXHJcblx0XHQjIOiLpeaYr++8jOWImeWcqOi/lOWbnueahOaVsOe7hOS4reWKoOS4imFkbWluXHJcblx0XHRpZiBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxyXG5cdFx0XHR1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pblxyXG5cdFx0XHRpZiB1c2Vyc19jYW5fYWRtaW4uaW5jbHVkZXModXNlcl9pZClcclxuXHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcclxuXHJcblx0XHRpZiBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluXHJcblx0XHRcdG9yZ3NfY2FuX2FkbWluID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pblxyXG5cdFx0XHRfLmVhY2gob3JnX2lkcywgKG9yZ19pZCkgLT5cclxuXHRcdFx0XHRpZiBvcmdzX2Nhbl9hZG1pbi5pbmNsdWRlcyhvcmdfaWQpXHJcblx0XHRcdFx0XHRteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIilcclxuXHRcdFx0KVxyXG5cclxuXHRteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucylcclxuXHRyZXR1cm4gbXlfcGVybWlzc2lvbnMiLCIgICAgICAgICAgICAgICAgICAgICAgXG5cbnBlcm1pc3Npb25NYW5hZ2VyID0ge307XG5cbnBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyA9IGZ1bmN0aW9uKGZsb3dfaWQsIHVzZXJfaWQpIHtcbiAgdmFyIGZsb3csIG15X3Blcm1pc3Npb25zLCBvcmdfaWRzLCBvcmdhbml6YXRpb25zLCBvcmdzX2Nhbl9hZGQsIG9yZ3NfY2FuX2FkbWluLCBvcmdzX2Nhbl9tb25pdG9yLCBzcGFjZV9pZCwgdXNlcnNfY2FuX2FkZCwgdXNlcnNfY2FuX2FkbWluLCB1c2Vyc19jYW5fbW9uaXRvcjtcbiAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhmbG93X2lkKTtcbiAgc3BhY2VfaWQgPSBmbG93LnNwYWNlO1xuICBvcmdfaWRzID0gbmV3IEFycmF5O1xuICBvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgdXNlcnM6IHVzZXJfaWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgcGFyZW50czogMVxuICAgIH1cbiAgfSkuZmV0Y2goKTtcbiAgXy5lYWNoKG9yZ2FuaXphdGlvbnMsIGZ1bmN0aW9uKG9yZykge1xuICAgIG9yZ19pZHMucHVzaChvcmcuX2lkKTtcbiAgICBpZiAob3JnLnBhcmVudHMpIHtcbiAgICAgIHJldHVybiBfLmVhY2gob3JnLnBhcmVudHMsIGZ1bmN0aW9uKHBhcmVudF9pZCkge1xuICAgICAgICByZXR1cm4gb3JnX2lkcy5wdXNoKHBhcmVudF9pZCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH0pO1xuICBvcmdfaWRzID0gXy51bmlxKG9yZ19pZHMpO1xuICBteV9wZXJtaXNzaW9ucyA9IG5ldyBBcnJheTtcbiAgaWYgKGZsb3cucGVybXMpIHtcbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkKSB7XG4gICAgICB1c2Vyc19jYW5fYWRkID0gZmxvdy5wZXJtcy51c2Vyc19jYW5fYWRkO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9hZGQuaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMub3Jnc19jYW5fYWRkKSB7XG4gICAgICBvcmdzX2Nhbl9hZGQgPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkZDtcbiAgICAgIF8uZWFjaChvcmdfaWRzLCBmdW5jdGlvbihvcmdfaWQpIHtcbiAgICAgICAgaWYgKG9yZ3NfY2FuX2FkZC5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJhZGRcIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy51c2Vyc19jYW5fbW9uaXRvcikge1xuICAgICAgdXNlcnNfY2FuX21vbml0b3IgPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9tb25pdG9yO1xuICAgICAgaWYgKHVzZXJzX2Nhbl9tb25pdG9yLmluY2x1ZGVzKHVzZXJfaWQpKSB7XG4gICAgICAgIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yKSB7XG4gICAgICBvcmdzX2Nhbl9tb25pdG9yID0gZmxvdy5wZXJtcy5vcmdzX2Nhbl9tb25pdG9yO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fbW9uaXRvci5pbmNsdWRlcyhvcmdfaWQpKSB7XG4gICAgICAgICAgcmV0dXJuIG15X3Blcm1pc3Npb25zLnB1c2goXCJtb25pdG9yXCIpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gICAgaWYgKGZsb3cucGVybXMudXNlcnNfY2FuX2FkbWluKSB7XG4gICAgICB1c2Vyc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLnVzZXJzX2Nhbl9hZG1pbjtcbiAgICAgIGlmICh1c2Vyc19jYW5fYWRtaW4uaW5jbHVkZXModXNlcl9pZCkpIHtcbiAgICAgICAgbXlfcGVybWlzc2lvbnMucHVzaChcImFkbWluXCIpO1xuICAgICAgfVxuICAgIH1cbiAgICBpZiAoZmxvdy5wZXJtcy5vcmdzX2Nhbl9hZG1pbikge1xuICAgICAgb3Jnc19jYW5fYWRtaW4gPSBmbG93LnBlcm1zLm9yZ3NfY2FuX2FkbWluO1xuICAgICAgXy5lYWNoKG9yZ19pZHMsIGZ1bmN0aW9uKG9yZ19pZCkge1xuICAgICAgICBpZiAob3Jnc19jYW5fYWRtaW4uaW5jbHVkZXMob3JnX2lkKSkge1xuICAgICAgICAgIHJldHVybiBteV9wZXJtaXNzaW9ucy5wdXNoKFwiYWRtaW5cIik7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuICBteV9wZXJtaXNzaW9ucyA9IF8udW5pcShteV9wZXJtaXNzaW9ucyk7XG4gIHJldHVybiBteV9wZXJtaXNzaW9ucztcbn07XG4iLCJhcHByb3ZlTWFuYWdlciA9IHt9XHJcblxyXG5cclxuIyMjXHJcbiAgICDlr7nmr5RhcHByb3ZlX3ZhbHVlc+S4jmxhc3RfdmFsdWVzIOWvueixoe+8jCDov5Tlm55hcHByb3ZlX3ZhbHVlc+avlGxhc3RfdmFsdWVz5aSa5Ye655qE5oiW6ICF5pS55Y+Y55qE6YOo5YiGXHJcbiMjI1xyXG5hcHByb3ZlTWFuYWdlci5nZXRDaGFuZ2VWYWx1ZXMgPSAobGFzdF92YWx1ZXMsYXBwcm92ZV92YWx1ZXMpIC0+XHJcblxyXG5cdGNoYW5nZVZhbHVlcyA9IHt9XHJcblxyXG5cdGxhc3RfdmFsdWVzX2tleXMgPSBfLmtleXMobGFzdF92YWx1ZXMpXHJcblxyXG5cdGFwcHJvdmVfdmFsdWVzX2tleXMgPSBfLmtleXMoYXBwcm92ZV92YWx1ZXMpXHJcblxyXG4jXHRjb25zb2xlLmxvZyhcImxhc3RfdmFsdWVzX2tleXNcIiwgbGFzdF92YWx1ZXNfa2V5cylcclxuI1xyXG4jXHRjb25zb2xlLmxvZyhcImFwcHJvdmVfdmFsdWVzX2tleXNcIiwgYXBwcm92ZV92YWx1ZXNfa2V5cylcclxuXHJcblx0YXBwcm92ZV92YWx1ZXNfa2V5cy5mb3JFYWNoIChrZXkpLT5cclxuXHRcdGlmIF8uY29udGFpbnMobGFzdF92YWx1ZXNfa2V5cywga2V5KVxyXG5cdFx0XHRpZiAhXy5pc0VxdWFsKGxhc3RfdmFsdWVzW2tleV0sIGFwcHJvdmVfdmFsdWVzW2tleV0pXHJcblx0XHRcdFx0Y2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIGFwcHJvdmVfdmFsdWVzW2tleV0gIT0gJydcclxuI1x0XHRcdFx0Y29uc29sZS5sb2coa2V5LGFwcHJvdmVfdmFsdWVzW2tleV0pXHJcblx0XHRcdFx0Y2hhbmdlVmFsdWVzW2tleV0gPSBhcHByb3ZlX3ZhbHVlc1trZXldXHJcblxyXG5cdHJldHVybiBjaGFuZ2VWYWx1ZXNcclxuIiwiICAgICAgICAgICAgICAgICAgIFxuXG5hcHByb3ZlTWFuYWdlciA9IHt9O1xuXG5cbi8qXG4gICAg5a+55q+UYXBwcm92ZV92YWx1ZXPkuI5sYXN0X3ZhbHVlcyDlr7nosaHvvIwg6L+U5ZueYXBwcm92ZV92YWx1ZXPmr5RsYXN0X3ZhbHVlc+WkmuWHuueahOaIluiAheaUueWPmOeahOmDqOWIhlxuICovXG5cbmFwcHJvdmVNYW5hZ2VyLmdldENoYW5nZVZhbHVlcyA9IGZ1bmN0aW9uKGxhc3RfdmFsdWVzLCBhcHByb3ZlX3ZhbHVlcykge1xuICB2YXIgYXBwcm92ZV92YWx1ZXNfa2V5cywgY2hhbmdlVmFsdWVzLCBsYXN0X3ZhbHVlc19rZXlzO1xuICBjaGFuZ2VWYWx1ZXMgPSB7fTtcbiAgbGFzdF92YWx1ZXNfa2V5cyA9IF8ua2V5cyhsYXN0X3ZhbHVlcyk7XG4gIGFwcHJvdmVfdmFsdWVzX2tleXMgPSBfLmtleXMoYXBwcm92ZV92YWx1ZXMpO1xuICBhcHByb3ZlX3ZhbHVlc19rZXlzLmZvckVhY2goZnVuY3Rpb24oa2V5KSB7XG4gICAgaWYgKF8uY29udGFpbnMobGFzdF92YWx1ZXNfa2V5cywga2V5KSkge1xuICAgICAgaWYgKCFfLmlzRXF1YWwobGFzdF92YWx1ZXNba2V5XSwgYXBwcm92ZV92YWx1ZXNba2V5XSkpIHtcbiAgICAgICAgcmV0dXJuIGNoYW5nZVZhbHVlc1trZXldID0gYXBwcm92ZV92YWx1ZXNba2V5XTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKGFwcHJvdmVfdmFsdWVzW2tleV0gIT09ICcnKSB7XG4gICAgICAgIHJldHVybiBjaGFuZ2VWYWx1ZXNba2V5XSA9IGFwcHJvdmVfdmFsdWVzW2tleV07XG4gICAgICB9XG4gICAgfVxuICB9KTtcbiAgcmV0dXJuIGNoYW5nZVZhbHVlcztcbn07XG4iLCJmbG93TWFuYWdlciA9IHt9XHJcblxyXG5mbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3MgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxyXG5cclxuXHRjYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIHtfaWQ6IDF9KS5mZXRjaCgpXHJcblxyXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtmb3JtOiB7JGluIDogY2F0ZWdvcmllc0Zvcm1zLmdldFByb3BlcnR5KFwiX2lkXCIpfX0pXHJcblxyXG5mbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyA9IChzcGFjZUlkLCBmaWVsZHMpLT5cclxuXHJcblx0dW5DYXRlZ29yaWVzRm9ybXMgPSBmb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyhzcGFjZUlkLCB7X2lkOiAxfSkuZmV0Y2goKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7Zm9ybTogeyRpbiA6IHVuQ2F0ZWdvcmllc0Zvcm1zLmdldFByb3BlcnR5KFwiX2lkXCIpfX0pXHJcblxyXG5cclxuXHJcblxyXG5cclxuXHJcblxyXG4iLCJmb3JtTWFuYWdlciA9IHt9XHJcblxyXG5mb3JtTWFuYWdlci5nZXRDYXRlZ29yaWVzRm9ybXMgPSAoc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcyktPlxyXG5cdGlmIGZpZWxkc1xyXG5cdFx0X2ZpZWxkcyA9IHtmaWVsZHM6IGZpZWxkc31cclxuXHJcblx0cmV0dXJuIGRiLmZvcm1zLmZpbmQoe3NwYWNlOiBzcGFjZUlkLCBjYXRlZ29yeTogY2F0ZWdvcmllSWQsIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXHJcblxyXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IChzcGFjZUlkLCBmaWVsZHMpIC0+XHJcblx0aWYgZmllbGRzXHJcblx0XHRfZmllbGRzID0ge2ZpZWxkczogZmllbGRzfVxyXG5cdHJldHVybiBkYi5mb3Jtcy5maW5kKHtzcGFjZTogc3BhY2VJZCwgY2F0ZWdvcnk6IHskaW46IFtudWxsLCBcIlwiXX0sIHN0YXRlOiBcImVuYWJsZWRcIn0sIF9maWVsZHMpXHJcbiIsIiAgICAgICAgICAgICAgICBcblxuZm9ybU1hbmFnZXIgPSB7fTtcblxuZm9ybU1hbmFnZXIuZ2V0Q2F0ZWdvcmllc0Zvcm1zID0gZnVuY3Rpb24oc3BhY2VJZCwgY2F0ZWdvcmllSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiBjYXRlZ29yaWVJZCxcbiAgICBzdGF0ZTogXCJlbmFibGVkXCJcbiAgfSwgX2ZpZWxkcyk7XG59O1xuXG5mb3JtTWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGb3JtcyA9IGZ1bmN0aW9uKHNwYWNlSWQsIGZpZWxkcykge1xuICB2YXIgX2ZpZWxkcztcbiAgaWYgKGZpZWxkcykge1xuICAgIF9maWVsZHMgPSB7XG4gICAgICBmaWVsZHM6IGZpZWxkc1xuICAgIH07XG4gIH1cbiAgcmV0dXJuIGRiLmZvcm1zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgIGNhdGVnb3J5OiB7XG4gICAgICAkaW46IFtudWxsLCBcIlwiXVxuICAgIH0sXG4gICAgc3RhdGU6IFwiZW5hYmxlZFwiXG4gIH0sIF9maWVsZHMpO1xufTtcbiIsInN0ZXBNYW5hZ2VyID0ge31cclxuXHJcbnN0ZXBNYW5hZ2VyLmFsbG93QmF0Y2ggPSAoc3RlcCktPlxyXG5cdHJldHVybiBzdGVwLnN0ZXBfdHlwZSA9PSAnY291bnRlclNpZ24nICYmIHN0ZXAuYWxsb3dCYXRjaFxyXG5cclxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IChpbnN0YW5jZSwgZmxvdywgc3RlcF9pZCktPlxyXG5cdGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0aXNFeGlzdFN0ZXAgPSBudWxsXHJcblx0aWYgZmxvdy5jdXJyZW50Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0aXNFeGlzdFN0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCAoc3RlcCktPlxyXG5cdFx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxyXG5cdFx0KVxyXG5cdGVsc2VcclxuXHRcdF8uZWFjaChmbG93Lmhpc3RvcnlzLCAoaGlzdG9yeSktPlxyXG5cdFx0XHRpZiBoaXN0b3J5Ll9pZCBpcyBmbG93X3JldlxyXG5cdFx0XHRcdGlzRXhpc3RTdGVwID0gXy5maW5kKGhpc3Rvcnkuc3RlcHMsIChzdGVwKS0+XHJcblx0XHRcdFx0XHRyZXR1cm4gc3RlcC5faWQgaXMgc3RlcF9pZFxyXG5cdFx0XHRcdClcclxuXHRcdClcclxuXHJcblx0aWYgbm90IGlzRXhpc3RTdGVwXHJcblx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuS4jeiDveiOt+WPlnN0ZXBcIilcclxuXHJcblx0cmV0dXJuIGlzRXhpc3RTdGVwIiwiICAgICAgICAgICAgICAgIFxuXG5zdGVwTWFuYWdlciA9IHt9O1xuXG5zdGVwTWFuYWdlci5hbGxvd0JhdGNoID0gZnVuY3Rpb24oc3RlcCkge1xuICByZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT09ICdjb3VudGVyU2lnbicgJiYgc3RlcC5hbGxvd0JhdGNoO1xufTtcblxuc3RlcE1hbmFnZXIuZ2V0U3RlcCA9IGZ1bmN0aW9uKGluc3RhbmNlLCBmbG93LCBzdGVwX2lkKSB7XG4gIHZhciBmbG93X3JldiwgaXNFeGlzdFN0ZXA7XG4gIGZsb3dfcmV2ID0gaW5zdGFuY2UuZmxvd192ZXJzaW9uO1xuICBpc0V4aXN0U3RlcCA9IG51bGw7XG4gIGlmIChmbG93LmN1cnJlbnQuX2lkID09PSBmbG93X3Jldikge1xuICAgIGlzRXhpc3RTdGVwID0gXy5maW5kKGZsb3cuY3VycmVudC5zdGVwcywgZnVuY3Rpb24oc3RlcCkge1xuICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgIH0pO1xuICB9IGVsc2Uge1xuICAgIF8uZWFjaChmbG93Lmhpc3RvcnlzLCBmdW5jdGlvbihoaXN0b3J5KSB7XG4gICAgICBpZiAoaGlzdG9yeS5faWQgPT09IGZsb3dfcmV2KSB7XG4gICAgICAgIHJldHVybiBpc0V4aXN0U3RlcCA9IF8uZmluZChoaXN0b3J5LnN0ZXBzLCBmdW5jdGlvbihzdGVwKSB7XG4gICAgICAgICAgcmV0dXJuIHN0ZXAuX2lkID09PSBzdGVwX2lkO1xuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIWlzRXhpc3RTdGVwKSB7XG4gICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLkuI3og73ojrflj5ZzdGVwXCIpO1xuICB9XG4gIHJldHVybiBpc0V4aXN0U3RlcDtcbn07XG4iLCJfZXZhbCA9IHJlcXVpcmUoJ2V2YWwnKVxyXG5cclxuSW5zdGFuY2VNYW5hZ2VyID0ge31cclxuXHJcbmxvZ2dlciA9IG5ldyBMb2dnZXIgJ1dvcmtmbG93IC0+IEluc3RhbmNlTWFuYWdlcidcclxuXHJcbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gKGlucywgZmllbGRfbWFwKSAtPlxyXG5cdHJlcyA9IGluc1xyXG5cdGlmIGluc1xyXG5cdFx0aWYgIWZpZWxkX21hcFxyXG5cclxuXHRcdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGlucy5mbG93IH0sIHsgZmllbGRzOiB7IGZpZWxkX21hcDogMSB9IH0pXHJcblxyXG5cdFx0XHRpZiBmbG93Py5maWVsZF9tYXBcclxuXHRcdFx0XHRmaWVsZF9tYXAgPSBmbG93LmZpZWxkX21hcFxyXG5cclxuXHRcdGlmIGZpZWxkX21hcFxyXG5cdFx0XHRjb250ZXh0ID0gXy5jbG9uZShpbnMpXHJcblxyXG5cdFx0XHRjb250ZXh0Ll8gPSBfXHJcblxyXG5cdFx0XHRzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSAje2ZpZWxkX21hcH07IGV4cG9ydHMuaW5zdGFuY2VzID0gaW5zdGFuY2VzXCJcclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0cmVzID0gX2V2YWwoc2NyaXB0LCBcImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXBcIiwgY29udGV4dCwgZmFsc2UpLmluc3RhbmNlc1xyXG5cdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0cmVzID0geyBfZXJyb3I6IGUgfVxyXG5cdFx0XHRcdGxvZ2dlci5lcnJvciBlXHJcblx0cmV0dXJuIHJlc1xyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlID0gKGluc3RhbmNlLCBoYW5kbGVyKS0+XHJcblxyXG5cdGlmICFpbnN0YW5jZSBvciAhaW5zdGFuY2UudHJhY2VzIG9yIGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxXHJcblx0XHRyZXR1cm5cclxuXHJcblx0Y3VycmVudFRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcy5maWx0ZXJQcm9wZXJ0eSgnaXNfZmluaXNoZWQnLCBmYWxzZSlcclxuXHJcblx0aWYgY3VycmVudFRyYWNlcy5sZW5ndGhcclxuXHRcdGN1cnJlbnRBcHByb3ZlcyA9IGN1cnJlbnRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpLmZpbHRlclByb3BlcnR5KCdoYW5kbGVyJywgaGFuZGxlcilcclxuXHRcdGN1cnJlbnRBcHByb3ZlID0gaWYgY3VycmVudEFwcHJvdmVzLmxlbmd0aCA+IDAgdGhlbiBjdXJyZW50QXBwcm92ZXNbMF0gZWxzZSBudWxsXHJcblxyXG5cdCPkvKDpmIXnmoRhcHByb3Zl6L+U5Zue5pyA5paw5LiA5p2hXHJcblx0aWYgIWN1cnJlbnRBcHByb3ZlIG9yIGN1cnJlbnRBcHByb3ZlLnR5cGUgPT0gJ2NjJ1xyXG5cdFx0IyDlvZPliY3mmK/kvKDpmIVcclxuXHRcdF8uZWFjaCBpbnN0YW5jZS50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XHJcblx0XHRcdFx0aWYgYS50eXBlID09ICdjYycgYW5kIGEudXNlciA9PSBoYW5kbGVyIGFuZCBhLmlzX2ZpbmlzaGVkID09IGZhbHNlXHJcblx0XHRcdFx0XHRjdXJyZW50QXBwcm92ZSA9IGFcclxuXHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdGlmICFjdXJyZW50QXBwcm92ZVxyXG5cdFx0cmV0dXJuXHJcblxyXG5cdHJldHVybiBjdXJyZW50QXBwcm92ZVxyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZSA9IChpbnN0YW5jZSwgdHJhY2VJZCktPlxyXG5cdHJldHVybiBpbnN0YW5jZS50cmFjZXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB0cmFjZUlkKVxyXG5cclxuSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZSA9IChpbnN0YW5jZUlkLCB1c2VySWQpLT5cclxuXHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9KVxyXG5cclxuXHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpXHJcblxyXG5cdG15X2FwcHJvdmUgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUoaW5zdGFuY2UsIHVzZXJJZClcclxuXHJcblx0aWYgbXlfYXBwcm92ZVxyXG5cclxuI1x0XHRsYW5nID0gU3RlZWRvcy5sb2NhbGUodGhhdC51c2VySWQsIHRydWUpXHJcblxyXG5cdFx0dHJhY2UgPSBJbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudFRyYWNlKGluc3RhbmNlLCBteV9hcHByb3ZlLnRyYWNlKVxyXG5cclxuXHRcdHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHRyYWNlLnN0ZXApXHJcblxyXG5cdFx0bmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwiXCIpXHJcblxyXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA9PSAxXHJcblx0XHRcdG5leHRfdXNlcl9pZHMgPSBnZXRIYW5kbGVyc01hbmFnZXIuZ2V0SGFuZGxlcnMoaW5zdGFuY2UuX2lkICwgbmV4dFN0ZXBzWzBdKVxyXG5cdFx0XHRpZiBuZXh0X3VzZXJfaWRzLmxlbmd0aCA9PSAxXHJcblx0XHRcdFx0bXlfYXBwcm92ZS5uZXh0X3N0ZXBzID0gW3tzdGVwOiBuZXh0U3RlcHNbMF0sIHVzZXJzOiBuZXh0X3VzZXJfaWRzfV1cclxuXHRcdFx0XHRyZXR1cm4gbXlfYXBwcm92ZVxyXG4jXHRcdFx0ZWxzZVxyXG4jXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBUQVBpMThuLl9fKCd3b3JrZmxvd19lcnJvcl9tdWx0aXBsZV9uZXh0X3N0ZXBfdXNlcnMnLCB7aW5zbmFtZTogaW5zdGFuY2UubmFtZX0sIGxhbmcpKVxyXG4jXHRcdGVsc2VcclxuI1x0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFRBUGkxOG4uX18oJ3dvcmtmbG93X2Vycm9yX211bHRpcGxlX25leHRfc3RlcCcsIHtpbnNuYW1lOiBpbnN0YW5jZS5uYW1lfSwgbGFuZykpXHJcblxyXG5cdHJldHVyblxyXG5cclxuXHJcbkluc3RhbmNlTWFuYWdlci5nZXRCYXRjaEluc3RhbmNlcyA9IChzcGFjZSwgY2F0ZWdvcnlJZCwgZmxvd0lkcywgaW5ib3hfdXNlciktPlxyXG5cdF9iYXRjaF9pbnN0YW5jZXMgPSBuZXcgQXJyYXkoKVxyXG5cclxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2UsIGluYm94X3VzZXJzOiBpbmJveF91c2VyfVxyXG5cclxuXHRGSUVMRFMgPSB7bmFtZTogMSwgYXBwbGljYW50X25hbWU6IDEsIHN1Ym1pdF9kYXRlOiAxLCBmbG93X3ZlcnNpb246IDEsIFwidHJhY2VzLnN0ZXBcIjogMSwgZmxvdzogMX1cclxuXHJcblx0aWYgY2F0ZWdvcnlJZFxyXG5cclxuXHRcdGlmIGNhdGVnb3J5SWQgPT0gJy0xJ1xyXG5cdFx0XHR1bkNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRVbkNhdGVnb3JpZXNGbG93cyhzcGFjZSwge19pZDogMX0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIilcclxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IHVuQ2F0ZWdvcnlGbG93c31cclxuXHRcdGVsc2VcclxuXHRcdFx0Y2F0ZWdvcnlGbG93cyA9IGZsb3dNYW5hZ2VyLmdldENhdGVnb3JpZXNGbG93cyhzcGFjZSwgY2F0ZWdvcnlJZCwge19pZDogMX0pLmZldGNoKCkuZ2V0UHJvcGVydHkoXCJfaWRcIilcclxuXHRcdFx0cXVlcnkuZmxvdyA9IHskaW46IGNhdGVnb3J5Rmxvd3N9XHJcblxyXG5cdGlmIGZsb3dJZHNcclxuXHRcdHF1ZXJ5LmZsb3cgPSB7JGluOiBmbG93SWRzfVxyXG5cclxuI1x0Y29uc29sZS5sb2coXCJxdWVyeVwiLCBKU09OLnN0cmluZ2lmeShxdWVyeSkpXHJcblxyXG5cdGluYm94X2luc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiBGSUVMRFMsIHNraXA6IDAsIGxpbWl0OiAxMDB9KVxyXG5cclxuXHRpbmJveF9pbnN0YW5jZXMuZm9yRWFjaCAoaW5zKS0+XHJcblx0XHRjdXJyZW50U3RlcElkID0gXy5sYXN0KGlucy50cmFjZXMpLnN0ZXAgI1RPRE8g5q2k5Luj56CB5LiN6YCC55So5Lyg6ZiF5om55aSE55CGXHJcblxyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe19pZDogaW5zLmZsb3d9KVxyXG5cclxuXHRcdGN1cnJlbnRTdGVwID0gc3RlcE1hbmFnZXIuZ2V0U3RlcChpbnMsIGZsb3csIGN1cnJlbnRTdGVwSWQpXHJcblxyXG5cdFx0aWYgc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKVxyXG5cclxuXHRcdFx0ZGVsZXRlIGlucy5mbG93X3ZlcnNpb25cclxuXHJcblx0XHRcdGRlbGV0ZSBpbnMudHJhY2VzXHJcblxyXG5cdFx0XHRkZWxldGUgaW5zLmZsb3dcclxuXHJcblx0XHRcdF9iYXRjaF9pbnN0YW5jZXMucHVzaChpbnMpXHJcbiNcdFx0ZWxzZVxyXG4jXHRcdFx0Y29uc29sZS5sb2coXCLmibnph4/lrqHmibkt5byC5bi45pWw5o2uXCIsIGlucy5faWQpXHJcblxyXG5cdHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzXHJcbiIsInZhciBfZXZhbCwgbG9nZ2VyOyAgICAgICAgICAgICAgICAgXG5cbl9ldmFsID0gcmVxdWlyZSgnZXZhbCcpO1xuXG5JbnN0YW5jZU1hbmFnZXIgPSB7fTtcblxubG9nZ2VyID0gbmV3IExvZ2dlcignV29ya2Zsb3cgLT4gSW5zdGFuY2VNYW5hZ2VyJyk7XG5cbkluc3RhbmNlTWFuYWdlci5oYW5kbGVySW5zdGFuY2VCeUZpZWxkTWFwID0gZnVuY3Rpb24oaW5zLCBmaWVsZF9tYXApIHtcbiAgdmFyIGNvbnRleHQsIGUsIGZsb3csIHJlcywgc2NyaXB0O1xuICByZXMgPSBpbnM7XG4gIGlmIChpbnMpIHtcbiAgICBpZiAoIWZpZWxkX21hcCkge1xuICAgICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlucy5mbG93XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZpZWxkX21hcDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChmbG93ICE9IG51bGwgPyBmbG93LmZpZWxkX21hcCA6IHZvaWQgMCkge1xuICAgICAgICBmaWVsZF9tYXAgPSBmbG93LmZpZWxkX21hcDtcbiAgICAgIH1cbiAgICB9XG4gICAgaWYgKGZpZWxkX21hcCkge1xuICAgICAgY29udGV4dCA9IF8uY2xvbmUoaW5zKTtcbiAgICAgIGNvbnRleHQuXyA9IF87XG4gICAgICBzY3JpcHQgPSBcInZhciBpbnN0YW5jZXMgPSBcIiArIGZpZWxkX21hcCArIFwiOyBleHBvcnRzLmluc3RhbmNlcyA9IGluc3RhbmNlc1wiO1xuICAgICAgdHJ5IHtcbiAgICAgICAgcmVzID0gX2V2YWwoc2NyaXB0LCBcImhhbmRsZXJJbnN0YW5jZUJ5RmllbGRNYXBcIiwgY29udGV4dCwgZmFsc2UpLmluc3RhbmNlcztcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgcmVzID0ge1xuICAgICAgICAgIF9lcnJvcjogZVxuICAgICAgICB9O1xuICAgICAgICBsb2dnZXIuZXJyb3IoZSk7XG4gICAgICB9XG4gICAgfVxuICB9XG4gIHJldHVybiByZXM7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0Q3VycmVudEFwcHJvdmUgPSBmdW5jdGlvbihpbnN0YW5jZSwgaGFuZGxlcikge1xuICB2YXIgY3VycmVudEFwcHJvdmUsIGN1cnJlbnRBcHByb3ZlcywgY3VycmVudFRyYWNlcztcbiAgaWYgKCFpbnN0YW5jZSB8fCAhaW5zdGFuY2UudHJhY2VzIHx8IGluc3RhbmNlLnRyYWNlcy5sZW5ndGggPCAxKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIGN1cnJlbnRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoJ2lzX2ZpbmlzaGVkJywgZmFsc2UpO1xuICBpZiAoY3VycmVudFRyYWNlcy5sZW5ndGgpIHtcbiAgICBjdXJyZW50QXBwcm92ZXMgPSBjdXJyZW50VHJhY2VzWzBdLmFwcHJvdmVzLmZpbHRlclByb3BlcnR5KCdpc19maW5pc2hlZCcsIGZhbHNlKS5maWx0ZXJQcm9wZXJ0eSgnaGFuZGxlcicsIGhhbmRsZXIpO1xuICAgIGN1cnJlbnRBcHByb3ZlID0gY3VycmVudEFwcHJvdmVzLmxlbmd0aCA+IDAgPyBjdXJyZW50QXBwcm92ZXNbMF0gOiBudWxsO1xuICB9XG4gIGlmICghY3VycmVudEFwcHJvdmUgfHwgY3VycmVudEFwcHJvdmUudHlwZSA9PT0gJ2NjJykge1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIF8uZWFjaCh0LmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIGlmIChhLnR5cGUgPT09ICdjYycgJiYgYS51c2VyID09PSBoYW5kbGVyICYmIGEuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgY3VycmVudEFwcHJvdmUgPSBhO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9KTtcbiAgfVxuICBpZiAoIWN1cnJlbnRBcHByb3ZlKSB7XG4gICAgcmV0dXJuO1xuICB9XG4gIHJldHVybiBjdXJyZW50QXBwcm92ZTtcbn07XG5cbkluc3RhbmNlTWFuYWdlci5nZXRDdXJyZW50VHJhY2UgPSBmdW5jdGlvbihpbnN0YW5jZSwgdHJhY2VJZCkge1xuICByZXR1cm4gaW5zdGFuY2UudHJhY2VzLmZpbmRQcm9wZXJ0eUJ5UEsoXCJfaWRcIiwgdHJhY2VJZCk7XG59O1xuXG5JbnN0YW5jZU1hbmFnZXIuZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24oaW5zdGFuY2VJZCwgdXNlcklkKSB7XG4gIHZhciBmbG93LCBpbnN0YW5jZSwgbXlfYXBwcm92ZSwgbmV4dFN0ZXBzLCBuZXh0X3VzZXJfaWRzLCBzdGVwLCB0cmFjZTtcbiAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pO1xuICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICBteV9hcHByb3ZlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRBcHByb3ZlKGluc3RhbmNlLCB1c2VySWQpO1xuICBpZiAobXlfYXBwcm92ZSkge1xuICAgIHRyYWNlID0gSW5zdGFuY2VNYW5hZ2VyLmdldEN1cnJlbnRUcmFjZShpbnN0YW5jZSwgbXlfYXBwcm92ZS50cmFjZSk7XG4gICAgc3RlcCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgdHJhY2Uuc3RlcCk7XG4gICAgbmV4dFN0ZXBzID0gdXVmbG93TWFuYWdlci5nZXROZXh0U3RlcHMoaW5zdGFuY2UsIGZsb3csIHN0ZXAsIFwiXCIpO1xuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID09PSAxKSB7XG4gICAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc3RhbmNlLl9pZCwgbmV4dFN0ZXBzWzBdKTtcbiAgICAgIGlmIChuZXh0X3VzZXJfaWRzLmxlbmd0aCA9PT0gMSkge1xuICAgICAgICBteV9hcHByb3ZlLm5leHRfc3RlcHMgPSBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgc3RlcDogbmV4dFN0ZXBzWzBdLFxuICAgICAgICAgICAgdXNlcnM6IG5leHRfdXNlcl9pZHNcbiAgICAgICAgICB9XG4gICAgICAgIF07XG4gICAgICAgIHJldHVybiBteV9hcHByb3ZlO1xuICAgICAgfVxuICAgIH1cbiAgfVxufTtcblxuSW5zdGFuY2VNYW5hZ2VyLmdldEJhdGNoSW5zdGFuY2VzID0gZnVuY3Rpb24oc3BhY2UsIGNhdGVnb3J5SWQsIGZsb3dJZHMsIGluYm94X3VzZXIpIHtcbiAgdmFyIEZJRUxEUywgX2JhdGNoX2luc3RhbmNlcywgY2F0ZWdvcnlGbG93cywgaW5ib3hfaW5zdGFuY2VzLCBxdWVyeSwgdW5DYXRlZ29yeUZsb3dzO1xuICBfYmF0Y2hfaW5zdGFuY2VzID0gbmV3IEFycmF5KCk7XG4gIHF1ZXJ5ID0ge1xuICAgIHNwYWNlOiBzcGFjZSxcbiAgICBpbmJveF91c2VyczogaW5ib3hfdXNlclxuICB9O1xuICBGSUVMRFMgPSB7XG4gICAgbmFtZTogMSxcbiAgICBhcHBsaWNhbnRfbmFtZTogMSxcbiAgICBzdWJtaXRfZGF0ZTogMSxcbiAgICBmbG93X3ZlcnNpb246IDEsXG4gICAgXCJ0cmFjZXMuc3RlcFwiOiAxLFxuICAgIGZsb3c6IDFcbiAgfTtcbiAgaWYgKGNhdGVnb3J5SWQpIHtcbiAgICBpZiAoY2F0ZWdvcnlJZCA9PT0gJy0xJykge1xuICAgICAgdW5DYXRlZ29yeUZsb3dzID0gZmxvd01hbmFnZXIuZ2V0VW5DYXRlZ29yaWVzRmxvd3Moc3BhY2UsIHtcbiAgICAgICAgX2lkOiAxXG4gICAgICB9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpO1xuICAgICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICAgJGluOiB1bkNhdGVnb3J5Rmxvd3NcbiAgICAgIH07XG4gICAgfSBlbHNlIHtcbiAgICAgIGNhdGVnb3J5Rmxvd3MgPSBmbG93TWFuYWdlci5nZXRDYXRlZ29yaWVzRmxvd3Moc3BhY2UsIGNhdGVnb3J5SWQsIHtcbiAgICAgICAgX2lkOiAxXG4gICAgICB9KS5mZXRjaCgpLmdldFByb3BlcnR5KFwiX2lkXCIpO1xuICAgICAgcXVlcnkuZmxvdyA9IHtcbiAgICAgICAgJGluOiBjYXRlZ29yeUZsb3dzXG4gICAgICB9O1xuICAgIH1cbiAgfVxuICBpZiAoZmxvd0lkcykge1xuICAgIHF1ZXJ5LmZsb3cgPSB7XG4gICAgICAkaW46IGZsb3dJZHNcbiAgICB9O1xuICB9XG4gIGluYm94X2luc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiBGSUVMRFMsXG4gICAgc2tpcDogMCxcbiAgICBsaW1pdDogMTAwXG4gIH0pO1xuICBpbmJveF9pbnN0YW5jZXMuZm9yRWFjaChmdW5jdGlvbihpbnMpIHtcbiAgICB2YXIgY3VycmVudFN0ZXAsIGN1cnJlbnRTdGVwSWQsIGZsb3c7XG4gICAgY3VycmVudFN0ZXBJZCA9IF8ubGFzdChpbnMudHJhY2VzKS5zdGVwO1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zLmZsb3dcbiAgICB9KTtcbiAgICBjdXJyZW50U3RlcCA9IHN0ZXBNYW5hZ2VyLmdldFN0ZXAoaW5zLCBmbG93LCBjdXJyZW50U3RlcElkKTtcbiAgICBpZiAoc3RlcE1hbmFnZXIuYWxsb3dCYXRjaChjdXJyZW50U3RlcCkgJiYgSW5zdGFuY2VNYW5hZ2VyLmdldE15QXBwcm92ZShpbnMuX2lkLCBpbmJveF91c2VyKSkge1xuICAgICAgZGVsZXRlIGlucy5mbG93X3ZlcnNpb247XG4gICAgICBkZWxldGUgaW5zLnRyYWNlcztcbiAgICAgIGRlbGV0ZSBpbnMuZmxvdztcbiAgICAgIHJldHVybiBfYmF0Y2hfaW5zdGFuY2VzLnB1c2goaW5zKTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gX2JhdGNoX2luc3RhbmNlcztcbn07XG4iLCJNZXRlb3IucHVibGlzaCAnY2F0ZWdvcmllcycsIChzcGFjZUlkKSAtPlxyXG5cdGNoZWNrIHNwYWNlSWQsIFN0cmluZ1xyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHJldHVybiBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBzcGFjZTogMSwgc29ydF9ubzogMSwgYXBwOiAxIH0gfSkiLCJNZXRlb3IucHVibGlzaCgnY2F0ZWdvcmllcycsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZXR1cm4gZGIuY2F0ZWdvcmllcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBzb3J0X25vOiAxLFxuICAgICAgYXBwOiAxXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiXHJcbk1ldGVvci5wdWJsaXNoICdjZnNfaW5zdGFuY2VzJywgKGluc3RhbmNlSWRzKS0+XHJcblx0Y2hlY2soaW5zdGFuY2VJZHMsIEFycmF5KVxyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGluc3RhbmNlSWRzXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0cmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogeyRpbjogaW5zdGFuY2VJZHN9ICwgJG9yOiBbeydtZXRhZGF0YS5pc19wcml2YXRlJzogeyRuZTogdHJ1ZX19LHsnbWV0YWRhdGEuaXNfcHJpdmF0ZSc6IHRydWUsIFwibWV0YWRhdGEub3duZXJcIjogdGhpcy51c2VySWR9XX0pXHJcbiIsIk1ldGVvci5wdWJsaXNoKCdjZnNfaW5zdGFuY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZHMpIHtcbiAgY2hlY2soaW5zdGFuY2VJZHMsIEFycmF5KTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgJ21ldGFkYXRhLmluc3RhbmNlJzoge1xuICAgICAgJGluOiBpbnN0YW5jZUlkc1xuICAgIH0sXG4gICAgJG9yOiBbXG4gICAgICB7XG4gICAgICAgICdtZXRhZGF0YS5pc19wcml2YXRlJzoge1xuICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgICdtZXRhZGF0YS5pc19wcml2YXRlJzogdHJ1ZSxcbiAgICAgICAgXCJtZXRhZGF0YS5vd25lclwiOiB0aGlzLnVzZXJJZFxuICAgICAgfVxuICAgIF1cbiAgfSk7XG59KTtcbiIsIlxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfcG9zaXRpb25zJywgKHNwYWNlSWQpLT5cclxuXHRcclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7cm9sZToxLCB1c2VyczogMSwgb3JnOiAxfX0pO1xyXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19wb3NpdGlvbnMnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIGRiLmZsb3dfcG9zaXRpb25zLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHJvbGU6IDEsXG4gICAgICB1c2VyczogMSxcbiAgICAgIG9yZzogMVxuICAgIH1cbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoQ29tcG9zaXRlICdmbG93X3Bvc2l0aW9uc190YWJ1bGFyJywgKHRhYmxlTmFtZSwgaWRzLCBmaWVsZHMpLT5cclxuXHRjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XHJcblx0Y2hlY2soaWRzLCBBcnJheSk7XHJcblx0Y2hlY2soZmllbGRzLCBNYXRjaC5PcHRpb25hbChPYmplY3QpKTtcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHRoaXMudW5ibG9jaygpXHJcblxyXG5cdGZpbmQ6IC0+XHJcblx0XHR0aGlzLnVuYmxvY2soKVxyXG5cdFx0ZGIuZmxvd19wb3NpdGlvbnMuZmluZCB7X2lkOiB7JGluOiBpZHN9fSwgZmllbGRzOiBmaWVsZHNcclxuXHJcblx0Y2hpbGRyZW46IFtcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgZmxvd19yb2xlc1xyXG5cdFx0XHRcdGRiLmZsb3dfcm9sZXMuZmluZCB7IF9pZDogcG9zaXRpb24ucm9sZSB9LCBmaWVsZHM6IG5hbWU6IDFcclxuXHRcdH1cclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgb3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdGRiLm9yZ2FuaXphdGlvbnMuZmluZCB7IF9pZDogcG9zaXRpb24ub3JnIH0sIGZpZWxkczogZnVsbG5hbWU6IDFcclxuXHRcdH1cclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKHBvc2l0aW9uKSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLnNwYWNlX3VzZXJzLmZpbmQge1xyXG5cdFx0XHRcdFx0c3BhY2U6IHBvc2l0aW9uLnNwYWNlXHJcblx0XHRcdFx0XHR1c2VyOiAkaW46IHBvc2l0aW9uLnVzZXJzXHJcblx0XHRcdFx0fSwgZmllbGRzOlxyXG5cdFx0XHRcdFx0c3BhY2U6IDFcclxuXHRcdFx0XHRcdHVzZXI6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdH1cclxuXHRdIiwiTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dfcG9zaXRpb25zX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd19wb3NpdGlvbnMuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ucm9sZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIub3JnYW5pemF0aW9ucy5maW5kKHtcbiAgICAgICAgICAgIF9pZDogcG9zaXRpb24ub3JnXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIGZ1bGxuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24ocG9zaXRpb24pIHtcbiAgICAgICAgICB0aGlzLnVuYmxvY2soKTtcbiAgICAgICAgICByZXR1cm4gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogcG9zaXRpb24uc3BhY2UsXG4gICAgICAgICAgICB1c2VyOiB7XG4gICAgICAgICAgICAgICRpbjogcG9zaXRpb24udXNlcnNcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIHVzZXI6IDEsXG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIF1cbiAgfTtcbn0pO1xuIiwiXHJcblxyXG5cdE1ldGVvci5wdWJsaXNoICdmbG93X3JvbGVzJywgKHNwYWNlSWQpLT5cclxuXHRcdFxyXG5cdFx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcdFxyXG5cdFx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0XHRyZXR1cm4gZGIuZmxvd19yb2xlcy5maW5kKHtzcGFjZTogc3BhY2VJZH0sIHtmaWVsZHM6IHtuYW1lOjF9fSk7XHJcbiIsIk1ldGVvci5wdWJsaXNoKCdmbG93X3JvbGVzJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93X3JvbGVzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZmxvd3MnLCAoc3BhY2VJZCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHQjIOesrOS4gOasoeiuoumYheaXtuWIneWni+WMluW3peS9nOWMulxyXG5cdGlmIGRiLmZsb3dzLmZpbmQoe3NwYWNlOiBzcGFjZUlkfSkuY291bnQoKSA9PSAwXHJcblx0XHRkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKVxyXG5cclxuXHRyZXR1cm4gZGIuZmxvd3MuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7XHJcblx0XHRmaWVsZHM6IHtcclxuXHRcdFx0bmFtZTogMSxcclxuXHRcdFx0Zm9ybTogMSxcclxuXHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdHBlcm1zOiAxLFxyXG5cdFx0XHRzcGFjZTogMSxcclxuXHRcdFx0Y29tcGFueV9pZDogMSxcclxuXHRcdFx0c29ydF9ubzogMVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Zsb3dfdmVyc2lvbicsIChzcGFjZUlkLCBmbG93SWQsIHZlcnNpb25JZCkgLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGZsb3dJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgdmVyc2lvbklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0Z2V0Rmxvd1ZlcnNpb24gPSAoaWQgLCB2ZXJzaW9uSWQpLT5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQgOiBpZH0pO1xyXG5cdFx0aWYgZmxvd1xyXG5cdFx0XHRmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnRcclxuXHRcdFx0Zmxvd192ZXJzaW9uLmxhdGVzdCA9IHRydWVcclxuXHJcblx0XHRcdGlmIGZsb3dfdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXHJcblx0XHRcdFx0Zmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZClcclxuXHRcdFx0XHRmbG93X3ZlcnNpb24ubGF0ZXN0ID0gZmFsc2VcclxuXHJcblx0XHRcdHJldHVybiBmbG93X3ZlcnNpb25cclxuXHRoYW5kbGUgPSBkYi5mbG93cy5maW5kKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIFwiY3VycmVudC5tb2RpZmllZFwiOiAxfX0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xyXG5cdH1cclxuXHJcblxyXG5cdHNlbGYuYWRkZWQoXCJmbG93X3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rmxvd1ZlcnNpb24oZmxvd0lkLCB2ZXJzaW9uSWQpKTtcclxuXHRzZWxmLnJlYWR5KCk7XHJcblx0c2VsZi5vblN0b3AgKCktPlxyXG5cdFx0aGFuZGxlLnN0b3AoKVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggJ2Rpc3RyaWJ1dGVfb3B0aW9uYWxfZmxvd3MnLCAoZmxvd19pZHMpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGZsb3dfaWRzXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJldHVybiBkYi5mbG93cy5maW5kKHtfaWQ6IHskaW46IGZsb3dfaWRzfX0sIHtcclxuXHRcdGZpZWxkczoge1xyXG5cdFx0XHRuYW1lOiAxLFxyXG5cdFx0XHRmb3JtOiAxLFxyXG5cdFx0XHRzdGF0ZTogMSxcclxuXHRcdFx0cGVybXM6IDEsXHJcblx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX29wdGlvbmFsX3VzZXJzOiAxLFxyXG5cdFx0XHRkaXN0cmlidXRlX3RvX3NlbGY6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcclxuXHRcdFx0Y29tcGFueV9pZDogMVxyXG5cdFx0fVxyXG5cdH0pXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZmxvdycsIChzcGFjZUlkLCBmbG93SWQpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIHNwYWNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGZsb3dJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHJcblx0cmV0dXJuIGRiLmZsb3dzLmZpbmQoe19pZDogZmxvd0lkLCBzcGFjZTogc3BhY2VJZH0sIHtcclxuXHRcdGZpZWxkczoge1xyXG5cdFx0XHRwcmludF90ZW1wbGF0ZTogMSxcclxuXHRcdFx0aW5zdGFuY2VfdGVtcGxhdGU6IDEsXHJcblx0XHRcdGV2ZW50czogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcclxuXHRcdFx0ZGlzdHJpYnV0ZV90b19zZWxmOiAxLFxyXG5cdFx0XHR1cGxvYWRfYWZ0ZXJfYmVpbmdfZGlzdHJpYnV0ZWQ6IDEsXHJcblx0XHRcdGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcclxuXHRcdFx0Y29tcGFueV9pZDogMSxcclxuXHRcdFx0YWxsb3dfc2VsZWN0X3N0ZXA6IDFcclxuXHRcdH1cclxuXHR9KVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUgJ2Zsb3dzX3RhYnVsYXInLCAodGFibGVOYW1lLCBpZHMsIGZpZWxkcyktPlxyXG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcclxuXHRjaGVjayhpZHMsIEFycmF5KTtcclxuXHRjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dGhpcy51bmJsb2NrKClcclxuXHJcblx0ZmluZDogLT5cclxuXHRcdHRoaXMudW5ibG9jaygpXHJcblx0XHRkYi5mbG93cy5maW5kIHtfaWQ6IHskaW46IGlkc319LCBmaWVsZHM6IGZpZWxkc1xyXG5cclxuXHRjaGlsZHJlbjogW1xyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAoZmxvdykgLT5cclxuXHRcdFx0XHRAdW5ibG9jaygpXHJcblx0XHRcdFx0IyBQdWJsaXNoIHRoZSByZWxhdGVkIHVzZXJcclxuXHRcdFx0XHRkYi5zcGFjZV91c2Vycy5maW5kIHtcclxuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlLFxyXG5cdFx0XHRcdFx0dXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XHJcblx0XHRcdFx0fSwgZmllbGRzOlxyXG5cdFx0XHRcdFx0c3BhY2U6IDFcclxuXHRcdFx0XHRcdHVzZXI6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDFcclxuXHRcdH0sXHJcblx0XHR7XHJcblx0XHRcdGZpbmQ6IChmbG93KSAtPlxyXG5cdFx0XHRcdEB1bmJsb2NrKClcclxuXHRcdFx0XHQjIFB1Ymxpc2ggdGhlIHJlbGF0ZWQgdXNlclxyXG5cdFx0XHRcdGRiLmZvcm1zLmZpbmQge1xyXG5cdFx0XHRcdFx0c3BhY2U6IGZsb3cuc3BhY2UsXHJcblx0XHRcdFx0XHRfaWQ6IGZsb3cuZm9ybVxyXG5cdFx0XHRcdH0sIGZpZWxkczpcclxuXHRcdFx0XHRcdHNwYWNlOiAxXHJcblx0XHRcdFx0XHRfaWQ6IDFcclxuXHRcdFx0XHRcdG5hbWU6IDEsXHJcblx0XHRcdFx0XHRjYXRlZ29yeTogMVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0ZmluZDogKGZsb3cpIC0+XHJcblx0XHRcdFx0QHVuYmxvY2soKVxyXG5cdFx0XHRcdCMgUHVibGlzaCB0aGUgcmVsYXRlZCB1c2VyXHJcblx0XHRcdFx0ZGIuY2F0ZWdvcmllcy5maW5kIHtcclxuXHRcdFx0XHRcdHNwYWNlOiBmbG93LnNwYWNlXHJcblx0XHRcdFx0fSwgZmllbGRzOlxyXG5cdFx0XHRcdFx0c3BhY2U6IDFcclxuXHRcdFx0XHRcdF9pZDogMVxyXG5cdFx0XHRcdFx0bmFtZTogMVxyXG5cdFx0fVxyXG5cdF0iLCJNZXRlb3IucHVibGlzaCgnZmxvd3MnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKGRiLmZsb3dzLmZpbmQoe1xuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICBkYi5zcGFjZXMuY3JlYXRlVGVtcGxhdGVGb3JtQW5kRmxvdyhzcGFjZUlkKTtcbiAgfVxuICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgbmFtZTogMSxcbiAgICAgIGZvcm06IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIHBlcm1zOiAxLFxuICAgICAgc3BhY2U6IDEsXG4gICAgICBjb21wYW55X2lkOiAxLFxuICAgICAgc29ydF9ubzogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2goJ2Zsb3dfdmVyc2lvbicsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCwgdmVyc2lvbklkKSB7XG4gIHZhciBnZXRGbG93VmVyc2lvbiwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd0lkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXZlcnNpb25JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgc2VsZiA9IHRoaXM7XG4gIGdldEZsb3dWZXJzaW9uID0gZnVuY3Rpb24oaWQsIHZlcnNpb25JZCkge1xuICAgIHZhciBmbG93LCBmbG93X3ZlcnNpb247XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBpZFxuICAgIH0pO1xuICAgIGlmIChmbG93KSB7XG4gICAgICBmbG93X3ZlcnNpb24gPSBmbG93LmN1cnJlbnQ7XG4gICAgICBmbG93X3ZlcnNpb24ubGF0ZXN0ID0gdHJ1ZTtcbiAgICAgIGlmIChmbG93X3ZlcnNpb24uX2lkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgICAgZmxvd192ZXJzaW9uID0gZmxvdy5oaXN0b3J5cy5maW5kUHJvcGVydHlCeVBLKFwiX2lkXCIsIHZlcnNpb25JZCk7XG4gICAgICAgIGZsb3dfdmVyc2lvbi5sYXRlc3QgPSBmYWxzZTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBmbG93X3ZlcnNpb247XG4gICAgfVxuICB9O1xuICBoYW5kbGUgPSBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IGZsb3dJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd192ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZsb3dWZXJzaW9uKGZsb3dJZCwgdmVyc2lvbklkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnZGlzdHJpYnV0ZV9vcHRpb25hbF9mbG93cycsIGZ1bmN0aW9uKGZsb3dfaWRzKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghZmxvd19pZHMpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogZmxvd19pZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBmb3JtOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBwZXJtczogMSxcbiAgICAgIHNwYWNlOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgIGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcbiAgICAgIGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmbG93JywgZnVuY3Rpb24oc3BhY2VJZCwgZmxvd0lkKSB7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFmbG93SWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mbG93cy5maW5kKHtcbiAgICBfaWQ6IGZsb3dJZCxcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBwcmludF90ZW1wbGF0ZTogMSxcbiAgICAgIGluc3RhbmNlX3RlbXBsYXRlOiAxLFxuICAgICAgZXZlbnRzOiAxLFxuICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgIGRpc3RyaWJ1dGVfdG9fc2VsZjogMSxcbiAgICAgIHVwbG9hZF9hZnRlcl9iZWluZ19kaXN0cmlidXRlZDogMSxcbiAgICAgIGRpc3RyaWJ1dGVfZW5kX25vdGlmaWNhdGlvbjogMSxcbiAgICAgIGNvbXBhbnlfaWQ6IDEsXG4gICAgICBhbGxvd19zZWxlY3Rfc3RlcDogMVxuICAgIH1cbiAgfSk7XG59KTtcblxuTWV0ZW9yLnB1Ymxpc2hDb21wb3NpdGUoJ2Zsb3dzX3RhYnVsYXInLCBmdW5jdGlvbih0YWJsZU5hbWUsIGlkcywgZmllbGRzKSB7XG4gIGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcbiAgY2hlY2soaWRzLCBBcnJheSk7XG4gIGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHRoaXMudW5ibG9jaygpO1xuICByZXR1cm4ge1xuICAgIGZpbmQ6IGZ1bmN0aW9uKCkge1xuICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICByZXR1cm4gZGIuZmxvd3MuZmluZCh7XG4gICAgICAgIF9pZDoge1xuICAgICAgICAgICRpbjogaWRzXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY2hpbGRyZW46IFtcbiAgICAgIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgdXNlcjogZmxvdy5jdXJyZW50Lm1vZGlmaWVkX2J5XG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAgICAgICB1c2VyOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZmluZDogZnVuY3Rpb24oZmxvdykge1xuICAgICAgICAgIHRoaXMudW5ibG9jaygpO1xuICAgICAgICAgIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBmbG93LnNwYWNlLFxuICAgICAgICAgICAgX2lkOiBmbG93LmZvcm1cbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgICAgIF9pZDogMSxcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgY2F0ZWdvcnk6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBmaW5kOiBmdW5jdGlvbihmbG93KSB7XG4gICAgICAgICAgdGhpcy51bmJsb2NrKCk7XG4gICAgICAgICAgcmV0dXJuIGRiLmNhdGVnb3JpZXMuZmluZCh7XG4gICAgICAgICAgICBzcGFjZTogZmxvdy5zcGFjZVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgICAgICAgX2lkOiAxLFxuICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdXG4gIH07XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdmb3JtcycsIChzcGFjZUlkKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cclxuXHRyZXR1cm4gZGIuZm9ybXMuZmluZCh7c3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7bmFtZTogMSwgY2F0ZWdvcnk6IDEsIHN0YXRlOiAxLCBkZXNjcmlwdGlvbjogMSwgaW5zdGFuY2Vfc3R5bGU6IDF9fSlcclxuXHJcblxyXG5NZXRlb3IucHVibGlzaCAnZm9ybV92ZXJzaW9uJywgKHNwYWNlSWQsIGZvcm1JZCwgdmVyc2lvbklkKSAtPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3Mgc3BhY2VJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1bmxlc3MgZm9ybUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyB2ZXJzaW9uSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRnZXRGb3JtVmVyc2lvbiA9IChpZCAsIHZlcnNpb25JZCktPlxyXG5cdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoe19pZCA6IGlkfSk7XHJcblx0XHRpZiAhZm9ybVxyXG5cdFx0XHRyZXR1cm4ge31cclxuXHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uY3VycmVudFxyXG5cdFx0Zm9ybV92ZXJzaW9uLmxhdGVzdCA9IHRydWVcclxuXHRcdGlmIGZvcm1fdmVyc2lvbi5faWQgIT0gdmVyc2lvbklkXHJcblx0XHRcdGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpXHJcblx0XHRcdGZvcm1fdmVyc2lvbi5sYXRlc3QgPSBmYWxzZVxyXG5cdFx0cmV0dXJuIGZvcm1fdmVyc2lvblxyXG5cclxuXHRoYW5kbGUgPSBkYi5mb3Jtcy5maW5kKHtfaWQ6IGZvcm1JZH0sIHtmaWVsZHM6IHtfaWQ6IDEsIFwiY3VycmVudC5tb2RpZmllZFwiOiAxfX0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJmb3JtX3ZlcnNpb25zXCIsIHZlcnNpb25JZCwgZ2V0Rm9ybVZlcnNpb24oaWQsIHZlcnNpb25JZCkpO1xyXG5cdH1cclxuXHJcblx0c2VsZi5hZGRlZChcImZvcm1fdmVyc2lvbnNcIiwgdmVyc2lvbklkLCBnZXRGb3JtVmVyc2lvbihmb3JtSWQsIHZlcnNpb25JZCkpO1xyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2Zvcm1zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIXNwYWNlSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHJldHVybiBkYi5mb3Jtcy5maW5kKHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBuYW1lOiAxLFxuICAgICAgY2F0ZWdvcnk6IDEsXG4gICAgICBzdGF0ZTogMSxcbiAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgaW5zdGFuY2Vfc3R5bGU6IDFcbiAgICB9XG4gIH0pO1xufSk7XG5cbk1ldGVvci5wdWJsaXNoKCdmb3JtX3ZlcnNpb24nLCBmdW5jdGlvbihzcGFjZUlkLCBmb3JtSWQsIHZlcnNpb25JZCkge1xuICB2YXIgZ2V0Rm9ybVZlcnNpb24sIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFzcGFjZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWZvcm1JZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCF2ZXJzaW9uSWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBnZXRGb3JtVmVyc2lvbiA9IGZ1bmN0aW9uKGlkLCB2ZXJzaW9uSWQpIHtcbiAgICB2YXIgZm9ybSwgZm9ybV92ZXJzaW9uO1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogaWRcbiAgICB9KTtcbiAgICBpZiAoIWZvcm0pIHtcbiAgICAgIHJldHVybiB7fTtcbiAgICB9XG4gICAgZm9ybV92ZXJzaW9uID0gZm9ybS5jdXJyZW50O1xuICAgIGZvcm1fdmVyc2lvbi5sYXRlc3QgPSB0cnVlO1xuICAgIGlmIChmb3JtX3ZlcnNpb24uX2lkICE9PSB2ZXJzaW9uSWQpIHtcbiAgICAgIGZvcm1fdmVyc2lvbiA9IGZvcm0uaGlzdG9yeXMuZmluZFByb3BlcnR5QnlQSyhcIl9pZFwiLCB2ZXJzaW9uSWQpO1xuICAgICAgZm9ybV92ZXJzaW9uLmxhdGVzdCA9IGZhbHNlO1xuICAgIH1cbiAgICByZXR1cm4gZm9ybV92ZXJzaW9uO1xuICB9O1xuICBoYW5kbGUgPSBkYi5mb3Jtcy5maW5kKHtcbiAgICBfaWQ6IGZvcm1JZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBcImN1cnJlbnQubW9kaWZpZWRcIjogMVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGlkLCB2ZXJzaW9uSWQpKTtcbiAgICB9XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZm9ybV92ZXJzaW9uc1wiLCB2ZXJzaW9uSWQsIGdldEZvcm1WZXJzaW9uKGZvcm1JZCwgdmVyc2lvbklkKSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnB1Ymxpc2ggJ2luc3RhbmNlX2RhdGEnLCAoaW5zdGFuY2VJZCwgYm94KS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBpbnN0YW5jZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzO1xyXG5cclxuXHRtaW5pQXBwcm92ZUZpZWxkcyA9IFsnX2lkJywgJ2lzX2ZpbmlzaGVkJywgJ3VzZXInLCAnaGFuZGxlcicsICdoYW5kbGVyX25hbWUnLCAndHlwZScsICdzdGFydF9kYXRlJywgJ2Rlc2NyaXB0aW9uJyxcclxuXHRcdCdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddXHJcblxyXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHMgPSBbJ2Zvcm1fdmVyc2lvbicsICdmbG93X3ZlcnNpb24nLCAncmVsYXRlZF9pbnN0YW5jZXMnLCAnX215X2FwcHJvdmVfcmVhZF9kYXRlcyddXHJcblxyXG5cdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXMgPSB7fVxyXG5cclxuXHRpbnN0YW5jZV9maWVsZHNfMCA9IHtcclxuXHRcdFwicmVjb3JkX3N5bmNlZFwiOiAwLFxyXG5cclxuI1x0XHRcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmNvc3RfdGltZVwiOiAwLFxyXG4jXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlYWRfZGF0ZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuaXNfZXJyb3JcIjogMCxcclxuXHRcdCMgXCJ0cmFjZXMuYXBwcm92ZXMudXNlcl9uYW1lXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5kZWFkbGluZVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLnJlbWluZGVkX2NvdW50XCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5tb2RpZmllZF9ieVwiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcclxuXHRcdFwidHJhY2VzLmFwcHJvdmVzLmdlb2xvY2F0aW9uXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy5jY191c2Vyc1wiOiAwLFxyXG5cdFx0XCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXHJcblx0XHRcInRyYWNlcy5hcHByb3Zlcy52YWx1ZXNfaGlzdG9yeVwiOiAwXHJcblx0fVxyXG5cclxuXHRnZXRNeWFwcHJvdmVNb2RpZmllZCA9ICh0cmFjZXMpLT5cclxuXHRcdG15QXBwcm92ZU1vZGlmaWVkcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0dHJhY2VzPy5mb3JFYWNoICh0cmFjZSktPlxyXG5cdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cclxuXHRcdFx0XHRpZiAoYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZClcclxuXHRcdFx0XHQjICYmICFhcHByb3ZlLmlzX2ZpbmlzaGVkXHJcbiNcdFx0XHRcdFx0Y29uc29sZS5sb2coXCJhcHByb3ZlXCIsIGFwcHJvdmUuX2lkLCBhcHByb3ZlLnJlYWRfZGF0ZSlcclxuXHJcblx0XHRcdFx0XHRteUFwcHJvdmVNb2RpZmllZHMucHVzaChhcHByb3ZlLnJlYWRfZGF0ZSlcclxuXHJcblx0XHRyZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzXHJcblxyXG5cclxuXHRnZXRNaW5pSW5zdGFuY2UgPSAoX2luc3RhbmNlSWQpLT5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc3RhbmNlSWR9LCB7ZmllbGRzOiBpbnN0YW5jZV9maWVsZHNfMH0pXHJcblxyXG5cdFx0aWYgaW5zdGFuY2VcclxuXHJcblx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaCAoa2V5KS0+XHJcblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xyXG5cdFx0XHRcdFx0dHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldID0gZ2V0TXlhcHByb3ZlTW9kaWZpZWQoaW5zdGFuY2UudHJhY2VzKVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV1cclxuXHJcbiNcdFx0XHRoYXNPcGluaW9uRmllbGQgPSBJbnN0YW5jZVNpZ25UZXh0LmluY2x1ZGVzT3BpbmlvbkZpZWxkKGluc3RhbmNlLmZvcm0sIGluc3RhbmNlLmZvcm1fdmVyc2lvbilcclxuXHJcblx0XHRcdHNob3dfbW9kYWxfdHJhY2VzX2xpc3QgPSBkYi5zcGFjZV9zZXR0aW5ncy5maW5kT25lKHsgc3BhY2U6IGluc3RhbmNlLnNwYWNlLCBrZXk6IFwic2hvd19tb2RhbF90cmFjZXNfbGlzdFwiIH0sIHsgZmllbGRzOiB7IHZhbHVlczogMSB9IH0pPy52YWx1ZXMgfHwgZmFsc2VcclxuXHJcblx0XHRcdGlmIHNob3dfbW9kYWxfdHJhY2VzX2xpc3RcclxuXHJcblx0XHRcdFx0dHJhY2VzID0gbmV3IEFycmF5KCk7XHJcblxyXG5cdFx0XHRcdGluc3RhbmNlPy50cmFjZXM/LmZvckVhY2ggKHRyYWNlKS0+XHJcblx0XHRcdFx0XHRfdHJhY2UgPSBfLmNsb25lKHRyYWNlKVxyXG5cclxuXHRcdFx0XHRcdGFwcHJvdmVzID0gbmV3IEFycmF5KClcclxuXHJcblx0XHRcdFx0XHR0cmFjZT8uYXBwcm92ZXM/LmZvckVhY2ggKGFwcHJvdmUpLT5cclxuXHRcdFx0XHRcdFx0aWYgYXBwcm92ZS50eXBlICE9ICdjYycgfHwgYXBwcm92ZS51c2VyID09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PSBzZWxmLnVzZXJJZCB8fCAoIV8uaXNFbXB0eShhcHByb3ZlLnNpZ25fZmllbGRfY29kZSkpXHJcblx0XHRcdFx0XHRcdFx0YXBwcm92ZXMucHVzaChhcHByb3ZlKVxyXG5cclxuXHRcdFx0XHRcdF90cmFjZS5hcHByb3ZlcyA9IGFwcHJvdmVzXHJcblxyXG5cdFx0XHRcdFx0dHJhY2VzLnB1c2goX3RyYWNlKVxyXG5cclxuXHRcdFx0XHRpbnN0YW5jZS50cmFjZXMgPSB0cmFjZXM7XHJcblxyXG5cdFx0cmV0dXJuIGluc3RhbmNlXHJcblxyXG5cclxuXHRuZWVkQ2hhbmdlID0gKGNoYW5nZUZpZWxkcyktPlxyXG5cdFx0aWYgY2hhbmdlRmllbGRzXHJcblxyXG5cdFx0XHRfY2hhbmdlID0gZmFsc2VcclxuXHJcblx0XHRcdF9yZXYgPSBfLmZpbmQgdHJpZ2dlckNoYW5nZUZpZWxkcywgKGtleSktPlxyXG5cdFx0XHRcdF9rZXkgPSBrZXlcclxuXHJcblx0XHRcdFx0aWYga2V5ID09ICdfbXlfYXBwcm92ZV9yZWFkX2RhdGVzJ1xyXG5cdFx0XHRcdFx0X2tleSA9ICd0cmFjZXMnXHJcblxyXG5cdFx0XHRcdGlmIF8uaGFzKGNoYW5nZUZpZWxkcywgX2tleSlcclxuXHJcblx0XHRcdFx0XHRpZiBrZXkgPT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXHJcblxyXG5cdFx0XHRcdFx0XHRfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKVxyXG5cclxuI1x0XHRcdFx0XHRcdGNvbnNvbGUubG9nKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKVxyXG5cclxuXHRcdFx0XHRcdFx0cmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBfbXlfYXBwcm92ZV9tb2RpZmllZHMpXHJcblx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgY2hhbmdlRmllbGRzW2tleV0pXHJcblxyXG5cdFx0XHRpZiBfcmV2XHJcblx0XHRcdFx0X2NoYW5nZSA9IHRydWVcclxuXHJcbiNcdFx0XHRjb25zb2xlLmxvZyhfcmV2LCBfY2hhbmdlKVxyXG5cclxuXHRcdFx0cmV0dXJuIF9jaGFuZ2VcclxuXHJcblx0XHRyZXR1cm4gdHJ1ZVxyXG5cdCPmraTlpITkuI3og73mt7vliqBmaWVsZHPpmZDliLbvvIzlkKbliJnkvJrlr7zoh7TmlbDmja7kuI3lrp7ml7ZcclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiBpbnN0YW5jZUlkfSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cclxuXHRcdFx0aWYoYm94ICE9ICdpbmJveCcgfHwgbmVlZENoYW5nZShmaWVsZHMpKVxyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgZ2V0TWluaUluc3RhbmNlKGlkKSk7XHJcblx0XHRyZW1vdmVkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcclxuXHR9XHJcblxyXG5cdGluc3RhbmNlID0gZ2V0TWluaUluc3RhbmNlKGluc3RhbmNlSWQpXHJcblxyXG5cdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaW5zdGFuY2U/Ll9pZCwgaW5zdGFuY2UpO1xyXG5cclxuXHRzZWxmLnJlYWR5KCk7XHJcblxyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKClcclxuXHJcblxyXG5NZXRlb3IucHVibGlzaCAnaW5zdGFuY2VfdHJhY2VzJywgKGluc3RhbmNlSWQpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0dW5sZXNzIGluc3RhbmNlSWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0c2VsZiA9IHRoaXNcclxuXHJcblx0Z2V0SW5zdGFuY2VUcmFjZXMgPSAoX2luc0lkKS0+XHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogX2luc0lkfSwge2ZpZWxkczoge19pZDogMSwgdHJhY2VzOiAxfX0pXHJcblxyXG5cclxuXHRoYW5kbGUgPSAgZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogaW5zdGFuY2VJZH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGNoYW5nZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xyXG5cdH1cclxuXHJcblx0c2VsZi5hZGRlZChcImluc3RhbmNlX3RyYWNlc1wiLCBpbnN0YW5jZUlkLCBnZXRJbnN0YW5jZVRyYWNlcyhpbnN0YW5jZUlkKSk7XHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlX2RhdGEnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCBib3gpIHtcbiAgdmFyIGdldE1pbmlJbnN0YW5jZSwgZ2V0TXlhcHByb3ZlTW9kaWZpZWQsIGhhbmRsZSwgaW5zdGFuY2UsIGluc3RhbmNlX2ZpZWxkc18wLCBtaW5pQXBwcm92ZUZpZWxkcywgbmVlZENoYW5nZSwgc2VsZiwgdHJpZ2dlckNoYW5nZUZpZWxkcywgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgbWluaUFwcHJvdmVGaWVsZHMgPSBbJ19pZCcsICdpc19maW5pc2hlZCcsICd1c2VyJywgJ2hhbmRsZXInLCAnaGFuZGxlcl9uYW1lJywgJ3R5cGUnLCAnc3RhcnRfZGF0ZScsICdkZXNjcmlwdGlvbicsICdpc19yZWFkJywgJ2p1ZGdlJywgJ2ZpbmlzaF9kYXRlJywgJ2Zyb21fdXNlcl9uYW1lJywgJ2Zyb21fdXNlcicsICdjY19kZXNjcmlwdGlvbicsICdhdXRvX3N1Ym1pdHRlZCddO1xuICB0cmlnZ2VyQ2hhbmdlRmllbGRzID0gWydmb3JtX3ZlcnNpb24nLCAnZmxvd192ZXJzaW9uJywgJ3JlbGF0ZWRfaW5zdGFuY2VzJywgJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnXTtcbiAgdHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlcyA9IHt9O1xuICBpbnN0YW5jZV9maWVsZHNfMCA9IHtcbiAgICBcInJlY29yZF9zeW5jZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuaGFuZGxlcl9vcmdhbml6YXRpb25cIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5jb3N0X3RpbWVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5pc19lcnJvclwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmRlYWRsaW5lXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMucmVtaW5kX2RhdGVcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5yZW1pbmRlZF9jb3VudFwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLm1vZGlmaWVkX2J5XCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMubW9kaWZpZWRcIjogMCxcbiAgICBcInRyYWNlcy5hcHByb3Zlcy5nZW9sb2NhdGlvblwiOiAwLFxuICAgIFwidHJhY2VzLmFwcHJvdmVzLmNjX3VzZXJzXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMuZnJvbV9hcHByb3ZlX2lkXCI6IDAsXG4gICAgXCJ0cmFjZXMuYXBwcm92ZXMudmFsdWVzX2hpc3RvcnlcIjogMFxuICB9O1xuICBnZXRNeWFwcHJvdmVNb2RpZmllZCA9IGZ1bmN0aW9uKHRyYWNlcykge1xuICAgIHZhciBteUFwcHJvdmVNb2RpZmllZHM7XG4gICAgbXlBcHByb3ZlTW9kaWZpZWRzID0gbmV3IEFycmF5KCk7XG4gICAgaWYgKHRyYWNlcyAhPSBudWxsKSB7XG4gICAgICB0cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS51c2VyID09PSBzZWxmLnVzZXJJZCB8fCBhcHByb3ZlLmhhbmRsZXIgPT09IHNlbGYudXNlcklkKSB7XG4gICAgICAgICAgICByZXR1cm4gbXlBcHByb3ZlTW9kaWZpZWRzLnB1c2goYXBwcm92ZS5yZWFkX2RhdGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZU1vZGlmaWVkcztcbiAgfTtcbiAgZ2V0TWluaUluc3RhbmNlID0gZnVuY3Rpb24oX2luc3RhbmNlSWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIHJlZiwgcmVmMSwgc2hvd19tb2RhbF90cmFjZXNfbGlzdCwgdHJhY2VzO1xuICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczogaW5zdGFuY2VfZmllbGRzXzBcbiAgICB9KTtcbiAgICBpZiAoaW5zdGFuY2UpIHtcbiAgICAgIHRyaWdnZXJDaGFuZ2VGaWVsZHMuZm9yRWFjaChmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGdldE15YXBwcm92ZU1vZGlmaWVkKGluc3RhbmNlLnRyYWNlcyk7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgcmV0dXJuIHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSA9IGluc3RhbmNlW2tleV07XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgc2hvd19tb2RhbF90cmFjZXNfbGlzdCA9ICgocmVmID0gZGIuc3BhY2Vfc2V0dGluZ3MuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgICAga2V5OiBcInNob3dfbW9kYWxfdHJhY2VzX2xpc3RcIlxuICAgICAgfSwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICB2YWx1ZXM6IDFcbiAgICAgICAgfVxuICAgICAgfSkpICE9IG51bGwgPyByZWYudmFsdWVzIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGlmIChzaG93X21vZGFsX3RyYWNlc19saXN0KSB7XG4gICAgICAgIHRyYWNlcyA9IG5ldyBBcnJheSgpO1xuICAgICAgICBpZiAoaW5zdGFuY2UgIT0gbnVsbCkge1xuICAgICAgICAgIGlmICgocmVmMSA9IGluc3RhbmNlLnRyYWNlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgcmVmMS5mb3JFYWNoKGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgICAgIHZhciBfdHJhY2UsIGFwcHJvdmVzLCByZWYyO1xuICAgICAgICAgICAgICBfdHJhY2UgPSBfLmNsb25lKHRyYWNlKTtcbiAgICAgICAgICAgICAgYXBwcm92ZXMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlICE9IG51bGwpIHtcbiAgICAgICAgICAgICAgICBpZiAoKHJlZjIgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCkge1xuICAgICAgICAgICAgICAgICAgcmVmMi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICAgICAgICAgICAgaWYgKGFwcHJvdmUudHlwZSAhPT0gJ2NjJyB8fCBhcHByb3ZlLnVzZXIgPT09IHNlbGYudXNlcklkIHx8IGFwcHJvdmUuaGFuZGxlciA9PT0gc2VsZi51c2VySWQgfHwgKCFfLmlzRW1wdHkoYXBwcm92ZS5zaWduX2ZpZWxkX2NvZGUpKSkge1xuICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBhcHByb3Zlcy5wdXNoKGFwcHJvdmUpO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgX3RyYWNlLmFwcHJvdmVzID0gYXBwcm92ZXM7XG4gICAgICAgICAgICAgIHJldHVybiB0cmFjZXMucHVzaChfdHJhY2UpO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIGluc3RhbmNlLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIGluc3RhbmNlO1xuICB9O1xuICBuZWVkQ2hhbmdlID0gZnVuY3Rpb24oY2hhbmdlRmllbGRzKSB7XG4gICAgdmFyIF9jaGFuZ2UsIF9yZXY7XG4gICAgaWYgKGNoYW5nZUZpZWxkcykge1xuICAgICAgX2NoYW5nZSA9IGZhbHNlO1xuICAgICAgX3JldiA9IF8uZmluZCh0cmlnZ2VyQ2hhbmdlRmllbGRzLCBmdW5jdGlvbihrZXkpIHtcbiAgICAgICAgdmFyIF9rZXksIF9teV9hcHByb3ZlX21vZGlmaWVkcztcbiAgICAgICAgX2tleSA9IGtleTtcbiAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgX2tleSA9ICd0cmFjZXMnO1xuICAgICAgICB9XG4gICAgICAgIGlmIChfLmhhcyhjaGFuZ2VGaWVsZHMsIF9rZXkpKSB7XG4gICAgICAgICAgaWYgKGtleSA9PT0gJ19teV9hcHByb3ZlX3JlYWRfZGF0ZXMnKSB7XG4gICAgICAgICAgICBfbXlfYXBwcm92ZV9tb2RpZmllZHMgPSBnZXRNeWFwcHJvdmVNb2RpZmllZChjaGFuZ2VGaWVsZHMudHJhY2VzKTtcbiAgICAgICAgICAgIHJldHVybiAhXy5pc0VxdWFsKHRyaWdnZXJDaGFuZ2VGaWVsZHNWYWx1ZXNba2V5XSwgX215X2FwcHJvdmVfbW9kaWZpZWRzKTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuICFfLmlzRXF1YWwodHJpZ2dlckNoYW5nZUZpZWxkc1ZhbHVlc1trZXldLCBjaGFuZ2VGaWVsZHNba2V5XSk7XG4gICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmIChfcmV2KSB7XG4gICAgICAgIF9jaGFuZ2UgPSB0cnVlO1xuICAgICAgfVxuICAgICAgcmV0dXJuIF9jaGFuZ2U7XG4gICAgfVxuICAgIHJldHVybiB0cnVlO1xuICB9O1xuICBoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgX2lkOiBpbnN0YW5jZUlkXG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICBpZiAoYm94ICE9PSAnaW5ib3gnIHx8IG5lZWRDaGFuZ2UoZmllbGRzKSkge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBnZXRNaW5pSW5zdGFuY2UoaWQpKTtcbiAgICAgIH1cbiAgICB9LFxuICAgIHJlbW92ZWQ6IGZ1bmN0aW9uKGlkKSB7XG4gICAgICByZXR1cm4gc2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcbiAgICB9XG4gIH0pO1xuICBpbnN0YW5jZSA9IGdldE1pbmlJbnN0YW5jZShpbnN0YW5jZUlkKTtcbiAgc2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpbnN0YW5jZSAhPSBudWxsID8gaW5zdGFuY2UuX2lkIDogdm9pZCAwLCBpbnN0YW5jZSk7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuXG5NZXRlb3IucHVibGlzaCgnaW5zdGFuY2VfdHJhY2VzJywgZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICB2YXIgZ2V0SW5zdGFuY2VUcmFjZXMsIGhhbmRsZSwgc2VsZjtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgZ2V0SW5zdGFuY2VUcmFjZXMgPSBmdW5jdGlvbihfaW5zSWQpIHtcbiAgICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBfaW5zSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgX2lkOiAxLFxuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfTtcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDogaW5zdGFuY2VJZFxuICB9KS5vYnNlcnZlQ2hhbmdlcyh7XG4gICAgY2hhbmdlZDogZnVuY3Rpb24oaWQpIHtcbiAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICAgIH1cbiAgfSk7XG4gIHNlbGYuYWRkZWQoXCJpbnN0YW5jZV90cmFjZXNcIiwgaW5zdGFuY2VJZCwgZ2V0SW5zdGFuY2VUcmFjZXMoaW5zdGFuY2VJZCkpO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIlxyXG5cdE1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfbGlzdCcsIChzcGFjZUlkLCBib3gsIGZsb3dJZCktPlxyXG5cclxuXHRcdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblx0XHRcclxuXHRcdHVubGVzcyBzcGFjZUlkXHJcblx0XHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0XHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cclxuXHRcdGlmIGJveCA9PSBcImluYm94XCJcclxuXHRcdFx0cXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcclxuXHRcdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcclxuXHRcdFx0cXVlcnkub3V0Ym94X3VzZXJzID0gdGhpcy51c2VySWQ7XHJcblx0XHRlbHNlIGlmIGJveCA9PSBcImRyYWZ0XCJcclxuXHRcdFx0cXVlcnkuc3VibWl0dGVyID0gdGhpcy51c2VySWQ7XHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiXHJcblx0XHRlbHNlIGlmIGJveCA9PSBcInBlbmRpbmdcIlxyXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0ZWxzZSBpZiBib3ggPT0gXCJjb21wbGV0ZWRcIlxyXG5cdFx0XHRxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcclxuXHRcdFx0cXVlcnkuc3RhdGUgPSBcImNvbXBsZXRlZFwiXHJcblx0XHRlbHNlIGlmIGJveCA9PSBcIm1vbml0b3JcIlxyXG5cdFx0XHRxdWVyeS5mbG93ID0gZmxvd0lkO1xyXG5cdFx0XHRxdWVyeS5zdGF0ZSA9IHskaW46IFtcInBlbmRpbmdcIixcImNvbXBsZXRlZFwiXX07XHJcblx0XHRlbHNlXHJcblx0XHRcdHF1ZXJ5LnN0YXRlID0gXCJub25lXCJcclxuXHJcblx0XHRyZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtmaWVsZHM6IHtuYW1lOjEsIGNyZWF0ZWQ6MSwgZm9ybToxLCBmbG93OiAxLCBzcGFjZToxLCBtb2RpZmllZDoxLCBhcHBsaWNhbnQ6IDEsIGlzX2FyY2hpdmVkOjEsIGZvcm1fdmVyc2lvbjogMSwgZmxvd192ZXJzaW9uOiAxfX0pXHJcblxyXG4iLCJNZXRlb3IucHVibGlzaCgnaW5zdGFuY2VzX2xpc3QnLCBmdW5jdGlvbihzcGFjZUlkLCBib3gsIGZsb3dJZCkge1xuICB2YXIgcXVlcnk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghc3BhY2VJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcXVlcnkgPSB7XG4gICAgc3BhY2U6IHNwYWNlSWRcbiAgfTtcbiAgaWYgKGJveCA9PT0gXCJpbmJveFwiKSB7XG4gICAgcXVlcnkuaW5ib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwib3V0Ym94XCIpIHtcbiAgICBxdWVyeS5vdXRib3hfdXNlcnMgPSB0aGlzLnVzZXJJZDtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwiZHJhZnRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJkcmFmdFwiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJwZW5kaW5nXCIpIHtcbiAgICBxdWVyeS5zdWJtaXR0ZXIgPSB0aGlzLnVzZXJJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IFwicGVuZGluZ1wiO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgIHF1ZXJ5LnN1Ym1pdHRlciA9IHRoaXMudXNlcklkO1xuICAgIHF1ZXJ5LnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgfSBlbHNlIGlmIChib3ggPT09IFwibW9uaXRvclwiKSB7XG4gICAgcXVlcnkuZmxvdyA9IGZsb3dJZDtcbiAgICBxdWVyeS5zdGF0ZSA9IHtcbiAgICAgICRpbjogW1wicGVuZGluZ1wiLCBcImNvbXBsZXRlZFwiXVxuICAgIH07XG4gIH0gZWxzZSB7XG4gICAgcXVlcnkuc3RhdGUgPSBcIm5vbmVcIjtcbiAgfVxuICByZXR1cm4gZGIuaW5zdGFuY2VzLmZpbmQocXVlcnksIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIG5hbWU6IDEsXG4gICAgICBjcmVhdGVkOiAxLFxuICAgICAgZm9ybTogMSxcbiAgICAgIGZsb3c6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIG1vZGlmaWVkOiAxLFxuICAgICAgYXBwbGljYW50OiAxLFxuICAgICAgaXNfYXJjaGl2ZWQ6IDEsXG4gICAgICBmb3JtX3ZlcnNpb246IDEsXG4gICAgICBmbG93X3ZlcnNpb246IDFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlID0gKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spLT5cclxuXHRvcGVyYXRpb24gPSBbe1xyXG5cdFx0XCIkbWF0Y2hcIjoge1xyXG5cdFx0XHRcIl9pZFwiOiBpbnN0YW5jZWlkXHJcblx0XHR9XHJcblx0fSwge1wiJHByb2plY3RcIjoge1wibmFtZVwiOiAxLCBcIl9hcHByb3ZlXCI6IFwiJHRyYWNlcy5hcHByb3Zlc1wifX0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sIHtcIiR1bndpbmRcIjogXCIkX2FwcHJvdmVcIn0sXHJcblx0XHR7XCIkbWF0Y2hcIjoge1wiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSwgJG9yOlt7XCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZH0se1wiX2FwcHJvdmUudXNlclwiOiB1c2VySWR9XX19LFxyXG5cdFx0e1wiJGdyb3VwXCI6IHtcIl9pZFwiOiBcIiRfaWRcIiwgXCJmaW5pc2hfZGF0ZVwiOiB7XCIkbGFzdFwiOiBcIiRfYXBwcm92ZS5maW5pc2hfZGF0ZVwifX19XHJcblx0XVxyXG5cclxuXHRkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShvcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxyXG5cdFx0aWYgZXJyXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXHJcblxyXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdGRhdGFNYXAucHVzaCBkb2NcclxuXHJcblx0XHRpZiBjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spXHJcblx0XHRcdGNhbGxiYWNrKClcclxuXHRcdHJldHVyblxyXG5cclxuYXN5bmNMYXN0RmluaXNoZWRBcHByb3ZlID0gTWV0ZW9yLndyYXBBc3luYyhsYXN0RmluaXNoZWRBcHByb3ZlQWdncmVnYXRlKVxyXG5cclxuTWV0ZW9yLnB1Ymxpc2ggXCJpbnN0YW5jZV90YWJ1bGFyXCIsICh0YWJsZU5hbWUsIGlkcywgZmllbGRzKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdGNoZWNrKHRhYmxlTmFtZSwgU3RyaW5nKTtcclxuXHJcblx0Y2hlY2soaWRzLCBBcnJheSk7XHJcblxyXG5cdGNoZWNrKGZpZWxkcywgTWF0Y2guT3B0aW9uYWwoT2JqZWN0KSlcclxuXHJcblx0ZmllbGRzLmNjX3VzZXJzID0gMVxyXG5cclxuXHRzZWxmID0gdGhpcztcclxuXHJcblx0Z2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gKHVzZXJJZCwgaW5zdGFuY2VJZCktPlxyXG5cdFx0ZGF0YSA9IFtdXHJcblx0XHRhc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUoaW5zdGFuY2VJZCwgdXNlcklkLCBkYXRhKVxyXG5cdFx0aWYgZGF0YS5sZW5ndGggPiAwXHJcblx0XHRcdHJldHVybiBkYXRhWzBdXHJcblxyXG5cclxuXHRnZXRNeUFwcHJvdmUgPSAodXNlcklkLCBpbnN0YW5jZUlkKS0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGluc3RhbmNlSWR9LCB7ZmllbGRzOiB7dHJhY2VzOiAxfX0pXHJcblx0XHRteUFwcHJvdmUgPSBudWxsXHJcblxyXG5cdFx0aWYgIWluc3RhbmNlXHJcblx0XHRcdHJldHVyblxyXG5cclxuXHRcdGlmICFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDFcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0bm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSlcclxuXHJcblx0XHRpZiBub3RGaW5pc2hlZFRyYWNlcy5sZW5ndGggPiAwXHJcblx0XHRcdGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XHJcblxyXG5cdFx0XHRpZiBhcHByb3Zlcy5sZW5ndGggPiAwXHJcblx0XHRcdFx0YXBwcm92ZSA9IGFwcHJvdmVzWzBdXHJcblx0XHRcdFx0bXlBcHByb3ZlID0ge1xyXG5cdFx0XHRcdFx0aWQ6IGFwcHJvdmUuX2lkLFxyXG5cdFx0XHRcdFx0aW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXHJcblx0XHRcdFx0XHR0cmFjZTogYXBwcm92ZS50cmFjZSxcclxuXHRcdFx0XHRcdGlzX3JlYWQ6IGFwcHJvdmUuaXNfcmVhZCxcclxuXHRcdFx0XHRcdHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0YWdlbnQ6IGFwcHJvdmUuYWdlbnRcclxuXHRcdFx0XHRcdHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWVcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0aWYgIW15QXBwcm92ZVxyXG5cdFx0XHRpc19yZWFkID0gZmFsc2VcclxuXHRcdFx0aW5zdGFuY2UudHJhY2VzLmZvckVhY2ggKHRyYWNlKSAtPlxyXG5cdFx0XHRcdHRyYWNlPy5hcHByb3Zlcz8uZm9yRWFjaCAoYXBwcm92ZSkgLT5cclxuXHRcdFx0XHRcdGlmIGFwcHJvdmUudHlwZSA9PSAnY2MnIGFuZCBhcHByb3ZlLnVzZXIgPT0gdXNlcklkIGFuZCBhcHByb3ZlLmlzX2ZpbmlzaGVkID09IGZhbHNlXHJcblx0XHRcdFx0XHRcdGlmIGFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdG15QXBwcm92ZSA9IHtpZDogYXBwcm92ZS5faWQsIGlzX3JlYWQ6IGlzX3JlYWQsIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSwgYWdlbnQ6IGFwcHJvdmUuYWdlbnQsIHVzZXJfbmFtZTogYXBwcm92ZS51c2VyX25hbWV9XHJcblxyXG5cdFx0cmV0dXJuIG15QXBwcm92ZVxyXG5cclxuXHRnZXRTdGVwQ3VycmVudE5hbWUgPSAoaW5zdGFuY2VJZCkgLT5cclxuXHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaW5zdGFuY2VJZH0sIHtmaWVsZHM6IHtcInRyYWNlcy5uYW1lXCI6IDEsIFwidHJhY2VzXCI6IHskc2xpY2U6IC0xfX19KVxyXG5cdFx0aWYgaW5zdGFuY2VcclxuXHRcdFx0c3RlcEN1cnJlbnROYW1lID0gaW5zdGFuY2UudHJhY2VzP1swXT8ubmFtZVxyXG5cclxuXHRcdHJldHVybiBzdGVwQ3VycmVudE5hbWVcclxuXHJcblx0aGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe19pZDogeyRpbjogaWRzfX0sIHtmaWVsZHM6IHt0cmFjZXM6IDB9fSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxyXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXHJcblx0XHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXHJcblx0XHRcdG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXHJcblx0XHRcdGlmIG15QXBwcm92ZVxyXG5cdFx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRcdGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdGlmIG15QXBwcm92ZS5hZ2VudFxyXG5cdFx0XHRcdFx0aW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0aW5zdGFuY2UuaXNfcmVhZCA9IHRydWVcclxuXHJcblx0XHRcdGlmIG15TGFzdEZpbmlzaGVkQXBwcm92ZVxyXG5cdFx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXHJcblxyXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2VcclxuXHRcdFx0aW5zdGFuY2UuY2NfY291bnQgPSBpbnN0YW5jZS5jY191c2Vycz8ubGVuZ3RoIHx8IDBcclxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRcdHRyeVxyXG5cdFx0XHRcdHNlbGYuY2hhbmdlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpO1xyXG5cdFx0XHRjYXRjaCBlcnJvclxyXG5cdFx0XHRcdGNvbnNvbGUubG9nKCdpbnN0YW5jZSBvYnNlcnZlQ2hhbmdlcyBlcnJvcjogJywgZXJyb3IubWVzc2FnZSk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3NlbGYudXNlcklkOiAnLCBzZWxmLnVzZXJJZCk7XHJcblx0XHRcdFx0Y29uc29sZS5sb2coJ3RhYmxlTmFtZTogJywgdGFibGVOYW1lKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnaWRzOiAnLCBKU09OLnN0cmluZ2lmeShpZHMpKTtcclxuXHRcdFx0XHRjb25zb2xlLmxvZygnbXlBcHByb3ZlOiAnLCBKU09OLnN0cmluZ2lmeShteUFwcHJvdmUpKTtcclxuXHRcdHJlbW92ZWQ6IChpZCktPlxyXG5cdFx0XHRzZWxmLnJlbW92ZWQoXCJpbnN0YW5jZXNcIiwgaWQpO1xyXG5cdH1cclxuXHJcblx0aWRzLmZvckVhY2ggKGlkKS0+XHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2VcclxuXHRcdG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpXHJcblx0XHRteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKVxyXG5cdFx0aWYgbXlBcHByb3ZlXHJcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZFxyXG5cdFx0XHRpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0aWYgbXlBcHByb3ZlLmFnZW50XHJcblx0XHRcdFx0XHRpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lXHJcblx0XHRlbHNlXHJcblx0XHRcdGluc3RhbmNlLmlzX3JlYWQgPSB0cnVlXHJcblxyXG5cdFx0aWYgbXlMYXN0RmluaXNoZWRBcHByb3ZlXHJcblx0XHRcdGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlXHJcblxyXG5cdFx0aW5zdGFuY2UuaXNfY2MgPSBpbnN0YW5jZS5jY191c2Vycz8uaW5jbHVkZXMoc2VsZi51c2VySWQpIHx8IGZhbHNlXHJcblx0XHRpbnN0YW5jZS5jY19jb3VudCA9IGluc3RhbmNlLmNjX3VzZXJzPy5sZW5ndGggfHwgMFxyXG5cdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpIiwidmFyIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZSwgbGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZTtcblxubGFzdEZpbmlzaGVkQXBwcm92ZUFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKGluc3RhbmNlaWQsIHVzZXJJZCwgZGF0YU1hcCwgY2FsbGJhY2spIHtcbiAgdmFyIG9wZXJhdGlvbjtcbiAgb3BlcmF0aW9uID0gW1xuICAgIHtcbiAgICAgIFwiJG1hdGNoXCI6IHtcbiAgICAgICAgXCJfaWRcIjogaW5zdGFuY2VpZFxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHByb2plY3RcIjoge1xuICAgICAgICBcIm5hbWVcIjogMSxcbiAgICAgICAgXCJfYXBwcm92ZVwiOiBcIiR0cmFjZXMuYXBwcm92ZXNcIlxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIFwiJHVud2luZFwiOiBcIiRfYXBwcm92ZVwiXG4gICAgfSwge1xuICAgICAgXCIkdW53aW5kXCI6IFwiJF9hcHByb3ZlXCJcbiAgICB9LCB7XG4gICAgICBcIiRtYXRjaFwiOiB7XG4gICAgICAgIFwiX2FwcHJvdmUuaXNfZmluaXNoZWRcIjogdHJ1ZSxcbiAgICAgICAgJG9yOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgXCJfYXBwcm92ZS5oYW5kbGVyXCI6IHVzZXJJZFxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIFwiX2FwcHJvdmUudXNlclwiOiB1c2VySWRcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBcIiRncm91cFwiOiB7XG4gICAgICAgIFwiX2lkXCI6IFwiJF9pZFwiLFxuICAgICAgICBcImZpbmlzaF9kYXRlXCI6IHtcbiAgICAgICAgICBcIiRsYXN0XCI6IFwiJF9hcHByb3ZlLmZpbmlzaF9kYXRlXCJcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH1cbiAgXTtcbiAgcmV0dXJuIGRiLmluc3RhbmNlcy5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKG9wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICBpZiAoZXJyKSB7XG4gICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICB9XG4gICAgZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKGRvYykge1xuICAgICAgcmV0dXJuIGRhdGFNYXAucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5hc3luY0xhc3RGaW5pc2hlZEFwcHJvdmUgPSBNZXRlb3Iud3JhcEFzeW5jKGxhc3RGaW5pc2hlZEFwcHJvdmVBZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaChcImluc3RhbmNlX3RhYnVsYXJcIiwgZnVuY3Rpb24odGFibGVOYW1lLCBpZHMsIGZpZWxkcykge1xuICB2YXIgZ2V0TXlBcHByb3ZlLCBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUsIGdldFN0ZXBDdXJyZW50TmFtZSwgaGFuZGxlLCBzZWxmO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBjaGVjayh0YWJsZU5hbWUsIFN0cmluZyk7XG4gIGNoZWNrKGlkcywgQXJyYXkpO1xuICBjaGVjayhmaWVsZHMsIE1hdGNoLk9wdGlvbmFsKE9iamVjdCkpO1xuICBmaWVsZHMuY2NfdXNlcnMgPSAxO1xuICBzZWxmID0gdGhpcztcbiAgZ2V0TXlMYXN0RmluaXNoZWRBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGRhdGE7XG4gICAgZGF0YSA9IFtdO1xuICAgIGFzeW5jTGFzdEZpbmlzaGVkQXBwcm92ZShpbnN0YW5jZUlkLCB1c2VySWQsIGRhdGEpO1xuICAgIGlmIChkYXRhLmxlbmd0aCA+IDApIHtcbiAgICAgIHJldHVybiBkYXRhWzBdO1xuICAgIH1cbiAgfTtcbiAgZ2V0TXlBcHByb3ZlID0gZnVuY3Rpb24odXNlcklkLCBpbnN0YW5jZUlkKSB7XG4gICAgdmFyIGFwcHJvdmUsIGFwcHJvdmVzLCBpbnN0YW5jZSwgaXNfcmVhZCwgbXlBcHByb3ZlLCBub3RGaW5pc2hlZFRyYWNlcztcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICB0cmFjZXM6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBteUFwcHJvdmUgPSBudWxsO1xuICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgaWYgKCFpbnN0YW5jZS50cmFjZXMgfHwgaW5zdGFuY2UudHJhY2VzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbm90RmluaXNoZWRUcmFjZXMgPSBpbnN0YW5jZS50cmFjZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSk7XG4gICAgaWYgKG5vdEZpbmlzaGVkVHJhY2VzLmxlbmd0aCA+IDApIHtcbiAgICAgIGFwcHJvdmVzID0gbm90RmluaXNoZWRUcmFjZXNbMF0uYXBwcm92ZXMuZmlsdGVyUHJvcGVydHkoXCJpc19maW5pc2hlZFwiLCBmYWxzZSkuZmlsdGVyUHJvcGVydHkoXCJoYW5kbGVyXCIsIHVzZXJJZCk7XG4gICAgICBpZiAoYXBwcm92ZXMubGVuZ3RoID4gMCkge1xuICAgICAgICBhcHByb3ZlID0gYXBwcm92ZXNbMF07XG4gICAgICAgIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICBpZDogYXBwcm92ZS5faWQsXG4gICAgICAgICAgaW5zdGFuY2U6IGFwcHJvdmUuaW5zdGFuY2UsXG4gICAgICAgICAgdHJhY2U6IGFwcHJvdmUudHJhY2UsXG4gICAgICAgICAgaXNfcmVhZDogYXBwcm92ZS5pc19yZWFkLFxuICAgICAgICAgIHN0YXJ0X2RhdGU6IGFwcHJvdmUuc3RhcnRfZGF0ZSxcbiAgICAgICAgICBhZ2VudDogYXBwcm92ZS5hZ2VudCxcbiAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgfVxuICAgIGlmICghbXlBcHByb3ZlKSB7XG4gICAgICBpc19yZWFkID0gZmFsc2U7XG4gICAgICBpbnN0YW5jZS50cmFjZXMuZm9yRWFjaChmdW5jdGlvbih0cmFjZSkge1xuICAgICAgICB2YXIgcmVmO1xuICAgICAgICByZXR1cm4gdHJhY2UgIT0gbnVsbCA/IChyZWYgPSB0cmFjZS5hcHByb3ZlcykgIT0gbnVsbCA/IHJlZi5mb3JFYWNoKGZ1bmN0aW9uKGFwcHJvdmUpIHtcbiAgICAgICAgICBpZiAoYXBwcm92ZS50eXBlID09PSAnY2MnICYmIGFwcHJvdmUudXNlciA9PT0gdXNlcklkICYmIGFwcHJvdmUuaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICBpZiAoYXBwcm92ZS5pc19yZWFkKSB7XG4gICAgICAgICAgICAgIGlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgcmV0dXJuIG15QXBwcm92ZSA9IHtcbiAgICAgICAgICAgICAgaWQ6IGFwcHJvdmUuX2lkLFxuICAgICAgICAgICAgICBpc19yZWFkOiBpc19yZWFkLFxuICAgICAgICAgICAgICBzdGFydF9kYXRlOiBhcHByb3ZlLnN0YXJ0X2RhdGUsXG4gICAgICAgICAgICAgIGFnZW50OiBhcHByb3ZlLmFnZW50LFxuICAgICAgICAgICAgICB1c2VyX25hbWU6IGFwcHJvdmUudXNlcl9uYW1lXG4gICAgICAgICAgICB9O1xuICAgICAgICAgIH1cbiAgICAgICAgfSkgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIG15QXBwcm92ZTtcbiAgfTtcbiAgZ2V0U3RlcEN1cnJlbnROYW1lID0gZnVuY3Rpb24oaW5zdGFuY2VJZCkge1xuICAgIHZhciBpbnN0YW5jZSwgcmVmLCByZWYxLCBzdGVwQ3VycmVudE5hbWU7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGluc3RhbmNlSWRcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgXCJ0cmFjZXMubmFtZVwiOiAxLFxuICAgICAgICBcInRyYWNlc1wiOiB7XG4gICAgICAgICAgJHNsaWNlOiAtMVxuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKGluc3RhbmNlKSB7XG4gICAgICBzdGVwQ3VycmVudE5hbWUgPSAocmVmID0gaW5zdGFuY2UudHJhY2VzKSAhPSBudWxsID8gKHJlZjEgPSByZWZbMF0pICE9IG51bGwgPyByZWYxLm5hbWUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgfVxuICAgIHJldHVybiBzdGVwQ3VycmVudE5hbWU7XG4gIH07XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICBfaWQ6IHtcbiAgICAgICRpbjogaWRzXG4gICAgfVxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICB0cmFjZXM6IDBcbiAgICB9XG4gIH0pLm9ic2VydmVDaGFuZ2VzKHtcbiAgICBjaGFuZ2VkOiBmdW5jdGlvbihpZCkge1xuICAgICAgdmFyIGVycm9yLCBpbnN0YW5jZSwgbXlBcHByb3ZlLCBteUxhc3RGaW5pc2hlZEFwcHJvdmUsIHJlZiwgcmVmMTtcbiAgICAgIGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IGlkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczogZmllbGRzXG4gICAgICB9KTtcbiAgICAgIGlmICghaW5zdGFuY2UpIHtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgICAgbXlBcHByb3ZlID0gZ2V0TXlBcHByb3ZlKHNlbGYudXNlcklkLCBpZCk7XG4gICAgICBteUxhc3RGaW5pc2hlZEFwcHJvdmUgPSBnZXRNeUxhc3RGaW5pc2hlZEFwcHJvdmUoc2VsZi51c2VySWQsIGlkKTtcbiAgICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IG15QXBwcm92ZS5pc19yZWFkO1xuICAgICAgICBpbnN0YW5jZS5zdGFydF9kYXRlID0gbXlBcHByb3ZlLnN0YXJ0X2RhdGU7XG4gICAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgICBpbnN0YW5jZS5hZ2VudF91c2VyX25hbWUgPSBteUFwcHJvdmUudXNlcl9uYW1lO1xuICAgICAgICB9XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBpbnN0YW5jZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgIH1cbiAgICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgICAgaW5zdGFuY2UubXlfZmluaXNoX2RhdGUgPSBteUxhc3RGaW5pc2hlZEFwcHJvdmUuZmluaXNoX2RhdGU7XG4gICAgICB9XG4gICAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICAgIGluc3RhbmNlLmNjX2NvdW50ID0gKChyZWYxID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmxlbmd0aCA6IHZvaWQgMCkgfHwgMDtcbiAgICAgIGRlbGV0ZSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgIHRyeSB7XG4gICAgICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yMSkge1xuICAgICAgICBlcnJvciA9IGVycm9yMTtcbiAgICAgICAgY29uc29sZS5sb2coJ2luc3RhbmNlIG9ic2VydmVDaGFuZ2VzIGVycm9yOiAnLCBlcnJvci5tZXNzYWdlKTtcbiAgICAgICAgY29uc29sZS5sb2coJ3NlbGYudXNlcklkOiAnLCBzZWxmLnVzZXJJZCk7XG4gICAgICAgIGNvbnNvbGUubG9nKCd0YWJsZU5hbWU6ICcsIHRhYmxlTmFtZSk7XG4gICAgICAgIGNvbnNvbGUubG9nKCdpZHM6ICcsIEpTT04uc3RyaW5naWZ5KGlkcykpO1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ215QXBwcm92ZTogJywgSlNPTi5zdHJpbmdpZnkobXlBcHByb3ZlKSk7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihpZCkge1xuICAgICAgcmV0dXJuIHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG4gICAgfVxuICB9KTtcbiAgaWRzLmZvckVhY2goZnVuY3Rpb24oaWQpIHtcbiAgICB2YXIgaW5zdGFuY2UsIG15QXBwcm92ZSwgbXlMYXN0RmluaXNoZWRBcHByb3ZlLCByZWYsIHJlZjE7XG4gICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGlkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiBmaWVsZHNcbiAgICB9KTtcbiAgICBpZiAoIWluc3RhbmNlKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIG15QXBwcm92ZSA9IGdldE15QXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIG15TGFzdEZpbmlzaGVkQXBwcm92ZSA9IGdldE15TGFzdEZpbmlzaGVkQXBwcm92ZShzZWxmLnVzZXJJZCwgaWQpO1xuICAgIGlmIChteUFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLmlzX3JlYWQgPSBteUFwcHJvdmUuaXNfcmVhZDtcbiAgICAgIGluc3RhbmNlLnN0YXJ0X2RhdGUgPSBteUFwcHJvdmUuc3RhcnRfZGF0ZTtcbiAgICAgIGlmIChteUFwcHJvdmUuYWdlbnQpIHtcbiAgICAgICAgaW5zdGFuY2UuYWdlbnRfdXNlcl9uYW1lID0gbXlBcHByb3ZlLnVzZXJfbmFtZTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgaW5zdGFuY2UuaXNfcmVhZCA9IHRydWU7XG4gICAgfVxuICAgIGlmIChteUxhc3RGaW5pc2hlZEFwcHJvdmUpIHtcbiAgICAgIGluc3RhbmNlLm15X2ZpbmlzaF9kYXRlID0gbXlMYXN0RmluaXNoZWRBcHByb3ZlLmZpbmlzaF9kYXRlO1xuICAgIH1cbiAgICBpbnN0YW5jZS5pc19jYyA9ICgocmVmID0gaW5zdGFuY2UuY2NfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoc2VsZi51c2VySWQpIDogdm9pZCAwKSB8fCBmYWxzZTtcbiAgICBpbnN0YW5jZS5jY19jb3VudCA9ICgocmVmMSA9IGluc3RhbmNlLmNjX3VzZXJzKSAhPSBudWxsID8gcmVmMS5sZW5ndGggOiB2b2lkIDApIHx8IDA7XG4gICAgZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzO1xuICAgIHJldHVybiBzZWxmLmFkZGVkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XG4gIH0pO1xuICBzZWxmLnJlYWR5KCk7XG4gIHJldHVybiBzZWxmLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdpbnN0YW5jZXNfZHJhZnQnLCAoc3BhY2VJZCkgLT5cclxuXHRjaGVjayBzcGFjZUlkLCBTdHJpbmdcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVzZXJJZCA9IHRoaXMudXNlcklkXHJcblx0cmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtzdGF0ZTpcImRyYWZ0XCIsc3BhY2U6c3BhY2VJZCxzdWJtaXR0ZXI6dXNlcklkLCRvcjpbe2luYm94X3VzZXJzOiB7JGV4aXN0czpmYWxzZX19LCB7aW5ib3hfdXNlcnM6IFtdfV19LCB7ZmllbGRzOiB7X2lkOiAxLCBzdGF0ZTogMSwgc3BhY2U6IDEsIHN1Ym1pdHRlcjogMSwgaW5ib3hfdXNlcnM6IDEsIG1vZGlmaWVkOiAxLCBuYW1lOiAxfSwgc29ydDp7bW9kaWZpZWQ6IC0xfX0pIiwiTWV0ZW9yLnB1Ymxpc2goJ2luc3RhbmNlc19kcmFmdCcsIGZ1bmN0aW9uKHNwYWNlSWQpIHtcbiAgdmFyIHVzZXJJZDtcbiAgY2hlY2soc3BhY2VJZCwgU3RyaW5nKTtcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgdXNlcklkID0gdGhpcy51c2VySWQ7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgc3RhdGU6IFwiZHJhZnRcIixcbiAgICBzcGFjZTogc3BhY2VJZCxcbiAgICBzdWJtaXR0ZXI6IHVzZXJJZCxcbiAgICAkb3I6IFtcbiAgICAgIHtcbiAgICAgICAgaW5ib3hfdXNlcnM6IHtcbiAgICAgICAgICAkZXhpc3RzOiBmYWxzZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGluYm94X3VzZXJzOiBbXVxuICAgICAgfVxuICAgIF1cbiAgfSwge1xuICAgIGZpZWxkczoge1xuICAgICAgX2lkOiAxLFxuICAgICAgc3RhdGU6IDEsXG4gICAgICBzcGFjZTogMSxcbiAgICAgIHN1Ym1pdHRlcjogMSxcbiAgICAgIGluYm94X3VzZXJzOiAxLFxuICAgICAgbW9kaWZpZWQ6IDEsXG4gICAgICBuYW1lOiAxXG4gICAgfSxcbiAgICBzb3J0OiB7XG4gICAgICBtb2RpZmllZDogLTFcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJNZXRlb3IucHVibGlzaCAnZGlzdHJpYnV0ZWRfaW5zdGFuY2VzX3N0YXRlX2J5X2lkcycsIChpbnN0YW5jZV9pZHMpLT5cclxuXHRjaGVjayhpbnN0YW5jZV9pZHMsIEFycmF5KVxyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHRcclxuXHR1bmxlc3MgaW5zdGFuY2VfaWRzXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdGlmIF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHNlbGYgPSB0aGlzXHJcblxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHtfaWQ6IHskaW46IGluc3RhbmNlX2lkc319LCB7ZmllbGRzOiB7c3RhdGU6IDEsIHRyYWNlczp7JHNsaWNlOiAxfSB9IH0pLm9ic2VydmVDaGFuZ2VzIHtcclxuXHRcdGFkZGVkOiAoaWQsIGZpZWxkcyktPlxyXG5cdFx0XHRzZWxmLmFkZGVkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGUsIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXHJcblxyXG5cdFx0Y2hhbmdlZDogKGlkLCBmaWVsZHMpLT5cclxuXHRcdFx0aWYgZmllbGRzLnN0YXRlXHJcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge3N0YXRlOiBmaWVsZHMuc3RhdGV9KVxyXG5cdFx0XHRpZiBmaWVsZHMudHJhY2VzXHJcblx0XHRcdFx0c2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge2lzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZH0pXHJcblx0fVxyXG5cclxuXHR0aGlzLnJlYWR5KClcclxuXHR0aGlzLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcbiIsIk1ldGVvci5wdWJsaXNoKCdkaXN0cmlidXRlZF9pbnN0YW5jZXNfc3RhdGVfYnlfaWRzJywgZnVuY3Rpb24oaW5zdGFuY2VfaWRzKSB7XG4gIHZhciBoYW5kbGUsIHNlbGY7XG4gIGNoZWNrKGluc3RhbmNlX2lkcywgQXJyYXkpO1xuICBpZiAoIXRoaXMudXNlcklkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBpZiAoIWluc3RhbmNlX2lkcykge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKF8uaXNFbXB0eShpbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICBzZWxmID0gdGhpcztcbiAgaGFuZGxlID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgIF9pZDoge1xuICAgICAgJGluOiBpbnN0YW5jZV9pZHNcbiAgICB9XG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIHN0YXRlOiAxLFxuICAgICAgdHJhY2VzOiB7XG4gICAgICAgICRzbGljZTogMVxuICAgICAgfVxuICAgIH1cbiAgfSkub2JzZXJ2ZUNoYW5nZXMoe1xuICAgIGFkZGVkOiBmdW5jdGlvbihpZCwgZmllbGRzKSB7XG4gICAgICByZXR1cm4gc2VsZi5hZGRlZCgnaW5zdGFuY2VzJywgaWQsIHtcbiAgICAgICAgc3RhdGU6IGZpZWxkcy5zdGF0ZSxcbiAgICAgICAgaXNfcmVhZDogZmllbGRzLnRyYWNlc1swXS5hcHByb3Zlc1swXS5pc19yZWFkXG4gICAgICB9KTtcbiAgICB9LFxuICAgIGNoYW5nZWQ6IGZ1bmN0aW9uKGlkLCBmaWVsZHMpIHtcbiAgICAgIGlmIChmaWVsZHMuc3RhdGUpIHtcbiAgICAgICAgc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIHN0YXRlOiBmaWVsZHMuc3RhdGVcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgICBpZiAoZmllbGRzLnRyYWNlcykge1xuICAgICAgICByZXR1cm4gc2VsZi5jaGFuZ2VkKCdpbnN0YW5jZXMnLCBpZCwge1xuICAgICAgICAgIGlzX3JlYWQ6IGZpZWxkcy50cmFjZXNbMF0uYXBwcm92ZXNbMF0uaXNfcmVhZFxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICB0aGlzLnJlYWR5KCk7XG4gIHJldHVybiB0aGlzLm9uU3RvcChmdW5jdGlvbigpIHtcbiAgICByZXR1cm4gaGFuZGxlLnN0b3AoKTtcbiAgfSk7XG59KTtcbiIsIk1ldGVvci5wdWJsaXNoICdyZWxhdGVkX2luc3RhY2VzJywgKGluc3RhbmNlSWQsIHJlbGF0ZWRfaW5zdGFuY2VzKS0+XHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBpbnN0YW5jZUlkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHJlbGF0ZWRfaW5zdGFuY2VfaWRzID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VJZCx7ZmllbGRzOiB7cmVsYXRlZF9pbnN0YW5jZXM6IDF9fSk/LnJlbGF0ZWRfaW5zdGFuY2VzXHJcblxyXG5cdGlmIHJlbGF0ZWRfaW5zdGFuY2VfaWRzICYmIF8uaXNBcnJheShyZWxhdGVkX2luc3RhbmNlX2lkcylcclxuXHRcdHJldHVybiBkYi5pbnN0YW5jZXMuZmluZCh7X2lkOiB7JGluIDogcmVsYXRlZF9pbnN0YW5jZV9pZHN9fSwge2ZpZWxkczoge19pZDogMSwgbmFtZTogMSwgc3BhY2U6IDF9fSlcclxuXHRlbHNlXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpIiwiTWV0ZW9yLnB1Ymxpc2goJ3JlbGF0ZWRfaW5zdGFjZXMnLCBmdW5jdGlvbihpbnN0YW5jZUlkLCByZWxhdGVkX2luc3RhbmNlcykge1xuICB2YXIgcmVmLCByZWxhdGVkX2luc3RhbmNlX2lkcztcbiAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgaWYgKCFpbnN0YW5jZUlkKSB7XG4gICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgfVxuICByZWxhdGVkX2luc3RhbmNlX2lkcyA9IChyZWYgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZUlkLCB7XG4gICAgZmllbGRzOiB7XG4gICAgICByZWxhdGVkX2luc3RhbmNlczogMVxuICAgIH1cbiAgfSkpICE9IG51bGwgPyByZWYucmVsYXRlZF9pbnN0YW5jZXMgOiB2b2lkIDA7XG4gIGlmIChyZWxhdGVkX2luc3RhbmNlX2lkcyAmJiBfLmlzQXJyYXkocmVsYXRlZF9pbnN0YW5jZV9pZHMpKSB7XG4gICAgcmV0dXJuIGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgIF9pZDoge1xuICAgICAgICAkaW46IHJlbGF0ZWRfaW5zdGFuY2VfaWRzXG4gICAgICB9XG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIF9pZDogMSxcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgc3BhY2U6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBlbHNlIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG59KTtcbiIsImlmIE1ldGVvci5pc1NlcnZlclxyXG4gICAgTWV0ZW9yLnB1Ymxpc2ggJ3NwYWNlX3VzZXJfc2lnbnMnLCAoc3BhY2VJZCkgLT5cclxuICAgICAgICBjaGVjayBzcGFjZUlkLCBTdHJpbmdcclxuXHJcbiAgICAgICAgdW5sZXNzIHRoaXMudXNlcklkXHJcbiAgICAgICAgICAgIHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcbiAgICAgICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7IHNwYWNlOiBzcGFjZUlkIH0sIHtmaWVsZHM6IHtjcmVhdGVkX2J5OiAwLCBjcmVhdGVkOiAwLCBtb2RpZmllZF9ieTogMH19KVxyXG4iLCJpZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5wdWJsaXNoKCdzcGFjZV91c2VyX3NpZ25zJywgZnVuY3Rpb24oc3BhY2VJZCkge1xuICAgIGNoZWNrKHNwYWNlSWQsIFN0cmluZyk7XG4gICAgaWYgKCF0aGlzLnVzZXJJZCkge1xuICAgICAgcmV0dXJuIHRoaXMucmVhZHkoKTtcbiAgICB9XG4gICAgcmV0dXJuIGRiLnNwYWNlX3VzZXJfc2lnbnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjcmVhdGVkX2J5OiAwLFxuICAgICAgICBjcmVhdGVkOiAwLFxuICAgICAgICBtb2RpZmllZF9ieTogMFxuICAgICAgfVxuICAgIH0pO1xuICB9KTtcbn1cbiIsIiMjI1xyXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxyXG5cdHVubGVzcyB0aGlzLnVzZXJJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHR1c2VyU3BhY2VJZHMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHtcclxuXHRcdHVzZXI6IHRoaXMudXNlcklkLFxyXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxyXG5cdH0sIHtmaWVsZHM6IHtzcGFjZTogMX19KS5mZXRjaCgpLmdldEVhY2goXCJzcGFjZVwiKTtcclxuXHRxdWVyeSA9IHtzcGFjZTogeyRpbjogdXNlclNwYWNlSWRzfX1cclxuXHJcblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cclxuXHJcblx0ZmluZDogLT5cclxuXHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdHNwYWNlOiAxLFxyXG5cdFx0XHRcdGFwcGxpY2FudF9uYW1lOiAxLFxyXG5cdFx0XHRcdGZsb3c6IDEsXHJcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXHJcblx0XHRcdFx0Y2NfdXNlcnM6IDEsXHJcblx0XHRcdFx0c3RhdGU6IDEsXHJcblx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRtb2RpZmllZDogMSxcclxuXHRcdFx0XHRmb3JtOiAxXHJcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXHJcblx0XHR9KTtcclxuXHRjaGlsZHJlbjogW1xyXG5cdFx0e1xyXG5cdFx0XHRmaW5kOiAoaW5zdGFuY2UsIHBvc3QpLT5cclxuXHRcdFx0XHRkYi5mbG93cy5maW5kKHtfaWQ6IGluc3RhbmNlLmZsb3d9LCB7ZmllbGRzOiB7bmFtZTogMSwgc3BhY2U6IDF9fSk7XHJcblx0XHR9XHJcblx0XVxyXG4jIyNcclxuXHJcbiMjI1xyXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfaW5zdGFuY2VzJywgKHNwYWNlSWQpLT5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdCNcdHVzZXJTcGFjZUlkcyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQoe1xyXG5cdCNcdFx0dXNlcjogdGhpcy51c2VySWQsXHJcblx0I1x0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXHJcblx0I1x0fSwge2ZpZWxkczoge3NwYWNlOiAxfX0pLmZldGNoKCkuZ2V0RWFjaChcInNwYWNlXCIpO1xyXG5cclxuXHRxdWVyeSA9IHtzcGFjZTogc3BhY2VJZH1cclxuXHJcblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cclxuXHJcblx0ZmllbGRzID0ge1xyXG5cdFx0c3BhY2U6IDEsXHJcbiNcdFx0YXBwbGljYW50X25hbWU6IDEsXHJcblx0XHRmbG93OiAxLFxyXG5cdFx0aW5ib3hfdXNlcnM6IDEsXHJcblx0XHRjY191c2VyczogMSxcclxuXHRcdHN0YXRlOiAxLFxyXG4jXHRcdG5hbWU6IDEsXHJcbiNcdFx0bW9kaWZpZWQ6IDEsXHJcblx0XHRmb3JtOiAxXHJcblx0fVxyXG5cclxuXHRoYW5kbGUgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge3NvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogNTAwfSkub2JzZXJ2ZUNoYW5nZXMge1xyXG5cdFx0YWRkZWQ6IChpZCktPlxyXG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcclxuXHRcdFx0cmV0dXJuIGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2VcclxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXHJcblx0XHRcdHNlbGYuYWRkZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKVxyXG5cdFx0Y2hhbmdlZDogKGlkKS0+XHJcblx0XHRcdGluc3RhbmNlID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe19pZDogaWR9LCB7ZmllbGRzOiBmaWVsZHN9KVxyXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxyXG5cdFx0XHRkZWxldGUgaW5zdGFuY2UuY2NfdXNlcnNcclxuXHRcdFx0c2VsZi5jaGFuZ2VkKFwiaW5zdGFuY2VzXCIsIGlkLCBpbnN0YW5jZSk7XHJcblx0XHRyZW1vdmVkOiAoaWQpLT5cclxuXHRcdFx0c2VsZi5yZW1vdmVkKFwiaW5zdGFuY2VzXCIsIGlkKTtcclxuXHR9XHJcblxyXG5cdHNlbGYucmVhZHkoKTtcclxuXHRzZWxmLm9uU3RvcCAoKS0+XHJcblx0XHRoYW5kbGUuc3RvcCgpXHJcbiMjI1xyXG5cclxuX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUgPSAoc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKS0+XHJcblx0ZGIuaW5zdGFuY2VzLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoW1xyXG5cdFx0e1xyXG5cdFx0XHQkbWF0Y2g6IHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VJZCxcclxuXHRcdFx0XHQkb3I6IFt7aW5ib3hfdXNlcnM6IHVzZXJJZH0sIHtjY191c2VyczogdXNlcklkfV1cclxuXHRcdFx0fVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0JGdyb3VwOiB7XHJcblx0XHRcdFx0X2lkOiB7ZmxvdzogXCIkZmxvd1wiLCBjYXRlZ29yeTogXCIkY2F0ZWdvcnlcIn0sIGNvdW50OiB7JHN1bTogMX1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cdF0pLnRvQXJyYXkgKGVyciwgZGF0YSktPlxyXG5cdFx0aWYgZXJyXHJcblx0XHRcdHRocm93IG5ldyBFcnJvcihlcnIpXHJcblxyXG5cdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdF9pdGVtcy5wdXNoIGRvY1xyXG5cclxuXHRcdGlmIGNhbGxiYWNrICYmIF8uaXNGdW5jdGlvbihjYWxsYmFjaylcclxuXHRcdFx0Y2FsbGJhY2soKVxyXG5cdFx0cmV0dXJuXHJcblxyXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpXHJcblxyXG5NZXRlb3IucHVibGlzaCAnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCAoc3BhY2VJZCktPlxyXG5cclxuXHR1bmxlc3MgdGhpcy51c2VySWRcclxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcclxuXHJcblx0c2VsZiA9IHRoaXM7XHJcblxyXG5cdHF1ZXJ5ID0ge3NwYWNlOiBzcGFjZUlkfVxyXG5cclxuXHRxdWVyeS4kb3IgPSBbe2luYm94X3VzZXJzOiB0aGlzLnVzZXJJZH0sIHtjY191c2VyczogdGhpcy51c2VySWR9XVxyXG5cclxuXHRkYXRhID0gW10gICPmlbDmja7moLzlvI/vvJpbe19pZDpmbG93SWQsIGNvdW50OiDlvoXlip7mlbDph499LCB7X2lkOmZsb3dJZDIsIGNvdW50OiDlvoXlip7mlbDph48yfV1cclxuXHRfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZShzcGFjZUlkLCBzZWxmLnVzZXJJZCwgZGF0YSlcclxuXHJcblx0X2Zsb3dzRGF0YSA9IFtdXHJcblxyXG5cdF8uZWFjaCBkYXRhLCAoZGF0YUl0ZW0pLT5cclxuXHRcdF9mbG93c0RhdGEucHVzaCh7X2lkOiBkYXRhSXRlbS5faWQuZmxvdywgY2F0ZWdvcnk6IGRhdGFJdGVtLl9pZC5jYXRlZ29yeSwgY291bnQ6IGRhdGFJdGVtLmNvdW50fSlcclxuXHJcblx0c2VsZi5hZGRlZChcImZsb3dfaW5zdGFuY2VzXCIsIHNwYWNlSWQsIHtmbG93czogX2Zsb3dzRGF0YX0pO1xyXG5cclxuXHRfY2hhbmdlRGF0YSA9IChkb2MsIGFjdGlvbiktPlxyXG5cdFx0Zmxvd19pbnN0YW5jZSA9IF8uZmluZCBfZmxvd3NEYXRhLCAoZiktPlxyXG5cdFx0XHRyZXR1cm4gZi5faWQgPT0gZG9jLmZsb3dcclxuXHRcdGlmIGZsb3dfaW5zdGFuY2VcclxuXHRcdFx0aWYgYWN0aW9uID09IFwiYWRkZWRcIlxyXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQrK1xyXG5cdFx0XHRlbHNlIGlmIGFjdGlvbiA9PSBcInJlbW92ZWRcIlxyXG5cdFx0XHRcdGZsb3dfaW5zdGFuY2UuY291bnQtLVxyXG5cdFx0ZWxzZSBpZiBhY3Rpb24gPT0gXCJhZGRlZFwiXHJcblx0XHRcdF9mbG93c0RhdGEucHVzaCB7X2lkOiBkb2MuZmxvdywgY2F0ZWdvcnk6IGRvYy5jYXRlZ29yeSwgY291bnQ6IDF9XHJcblxyXG5cdFx0c2VsZi5jaGFuZ2VkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge2Zsb3dzOiBfZmxvd3NEYXRhfSk7XHJcblxyXG5cdF9pbml0ID0gdHJ1ZVxyXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7ZmllbGRzOiB7X2lkOiAxLCBpbmJveF91c2VyczogMSwgY2NfdXNlcnM6IDEsIGZsb3c6IDEsIGNhdGVnb3J5OiAxfX0pLm9ic2VydmUge1xyXG5cdFx0YWRkZWQ6IChkb2MpLT5cclxuXHRcdFx0aWYgIV9pbml0XHJcblx0XHRcdFx0X2NoYW5nZURhdGEoZG9jLCBcImFkZGVkXCIpXHJcblx0XHRyZW1vdmVkOiAoZG9jKS0+XHJcblx0XHRcdGlmICFfaW5pdFxyXG5cdFx0XHRcdF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpXHJcblx0fVxyXG5cdF9pbml0ID0gZmFsc2VcclxuXHJcblx0c2VsZi5yZWFkeSgpO1xyXG5cdHNlbGYub25TdG9wICgpLT5cclxuXHRcdGhhbmRsZS5zdG9wKCkiLCJcbi8qXG5NZXRlb3IucHVibGlzaENvbXBvc2l0ZSBcInVzZXJfaW5ib3hfaW5zdGFuY2VcIiwgKCktPlxuXHR1bmxlc3MgdGhpcy51c2VySWRcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXG5cblx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdFx0dXNlcjogdGhpcy51c2VySWQsXG5cdFx0dXNlcl9hY2NlcHRlZDogdHJ1ZVxuXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cdHF1ZXJ5ID0ge3NwYWNlOiB7JGluOiB1c2VyU3BhY2VJZHN9fVxuXG5cdHF1ZXJ5LiRvciA9IFt7aW5ib3hfdXNlcnM6IHRoaXMudXNlcklkfSwge2NjX3VzZXJzOiB0aGlzLnVzZXJJZH1dXG5cblx0ZmluZDogLT5cblx0XHRkYi5pbnN0YW5jZXMuZmluZChxdWVyeSwge1xuXHRcdFx0ZmllbGRzOiB7XG5cdFx0XHRcdHNwYWNlOiAxLFxuXHRcdFx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRcdFx0ZmxvdzogMSxcblx0XHRcdFx0aW5ib3hfdXNlcnM6IDEsXG5cdFx0XHRcdGNjX3VzZXJzOiAxLFxuXHRcdFx0XHRzdGF0ZTogMSxcblx0XHRcdFx0bmFtZTogMSxcblx0XHRcdFx0bW9kaWZpZWQ6IDEsXG5cdFx0XHRcdGZvcm06IDFcblx0XHRcdH0sIHNvcnQ6IHttb2RpZmllZDogLTF9LCBza2lwOiAwLCBsaW1pdDogMjAwXG5cdFx0fSk7XG5cdGNoaWxkcmVuOiBbXG5cdFx0e1xuXHRcdFx0ZmluZDogKGluc3RhbmNlLCBwb3N0KS0+XG5cdFx0XHRcdGRiLmZsb3dzLmZpbmQoe19pZDogaW5zdGFuY2UuZmxvd30sIHtmaWVsZHM6IHtuYW1lOiAxLCBzcGFjZTogMX19KTtcblx0XHR9XG5cdF1cbiAqL1xuXG4vKlxuTWV0ZW9yLnB1Ymxpc2ggJ215X2luYm94X2luc3RhbmNlcycsIChzcGFjZUlkKS0+XG5cdHVubGVzcyB0aGlzLnVzZXJJZFxuXHRcdHJldHVybiB0aGlzLnJlYWR5KClcblxuXHRzZWxmID0gdGhpcztcblxuXHQgKlx0dXNlclNwYWNlSWRzID0gZGIuc3BhY2VfdXNlcnMuZmluZCh7XG5cdCAqXHRcdHVzZXI6IHRoaXMudXNlcklkLFxuXHQgKlx0XHR1c2VyX2FjY2VwdGVkOiB0cnVlXG5cdCAqXHR9LCB7ZmllbGRzOiB7c3BhY2U6IDF9fSkuZmV0Y2goKS5nZXRFYWNoKFwic3BhY2VcIik7XG5cblx0cXVlcnkgPSB7c3BhY2U6IHNwYWNlSWR9XG5cblx0cXVlcnkuJG9yID0gW3tpbmJveF91c2VyczogdGhpcy51c2VySWR9LCB7Y2NfdXNlcnM6IHRoaXMudXNlcklkfV1cblxuXHRmaWVsZHMgPSB7XG5cdFx0c3BhY2U6IDEsXG4gKlx0XHRhcHBsaWNhbnRfbmFtZTogMSxcblx0XHRmbG93OiAxLFxuXHRcdGluYm94X3VzZXJzOiAxLFxuXHRcdGNjX3VzZXJzOiAxLFxuXHRcdHN0YXRlOiAxLFxuICpcdFx0bmFtZTogMSxcbiAqXHRcdG1vZGlmaWVkOiAxLFxuXHRcdGZvcm06IDFcblx0fVxuXG5cdGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7c29ydDoge21vZGlmaWVkOiAtMX0sIHNraXA6IDAsIGxpbWl0OiA1MDB9KS5vYnNlcnZlQ2hhbmdlcyB7XG5cdFx0YWRkZWQ6IChpZCktPlxuXHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZSh7X2lkOiBpZH0sIHtmaWVsZHM6IGZpZWxkc30pXG5cdFx0XHRyZXR1cm4gaWYgbm90IGluc3RhbmNlXG5cdFx0XHRpbnN0YW5jZS5pc19jYyA9IGluc3RhbmNlLmNjX3VzZXJzPy5pbmNsdWRlcyhzZWxmLnVzZXJJZCkgfHwgZmFsc2Vcblx0XHRcdGRlbGV0ZSBpbnN0YW5jZS5jY191c2Vyc1xuXHRcdFx0c2VsZi5hZGRlZChcImluc3RhbmNlc1wiLCBpZCwgaW5zdGFuY2UpXG5cdFx0Y2hhbmdlZDogKGlkKS0+XG5cdFx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKHtfaWQ6IGlkfSwge2ZpZWxkczogZmllbGRzfSlcblx0XHRcdHJldHVybiBpZiBub3QgaW5zdGFuY2Vcblx0XHRcdGluc3RhbmNlLmlzX2NjID0gaW5zdGFuY2UuY2NfdXNlcnM/LmluY2x1ZGVzKHNlbGYudXNlcklkKSB8fCBmYWxzZVxuXHRcdFx0ZGVsZXRlIGluc3RhbmNlLmNjX3VzZXJzXG5cdFx0XHRzZWxmLmNoYW5nZWQoXCJpbnN0YW5jZXNcIiwgaWQsIGluc3RhbmNlKTtcblx0XHRyZW1vdmVkOiAoaWQpLT5cblx0XHRcdHNlbGYucmVtb3ZlZChcImluc3RhbmNlc1wiLCBpZCk7XG5cdH1cblxuXHRzZWxmLnJlYWR5KCk7XG5cdHNlbGYub25TdG9wICgpLT5cblx0XHRoYW5kbGUuc3RvcCgpXG4gKi9cbnZhciBfYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSwgX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGU7XG5cbl9nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlID0gZnVuY3Rpb24oc3BhY2VJZCwgdXNlcklkLCBfaXRlbXMsIGNhbGxiYWNrKSB7XG4gIHJldHVybiBkYi5pbnN0YW5jZXMucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShbXG4gICAge1xuICAgICAgJG1hdGNoOiB7XG4gICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAkb3I6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBpbmJveF91c2VyczogdXNlcklkXG4gICAgICAgICAgfSwge1xuICAgICAgICAgICAgY2NfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgICRncm91cDoge1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICBmbG93OiBcIiRmbG93XCIsXG4gICAgICAgICAgY2F0ZWdvcnk6IFwiJGNhdGVnb3J5XCJcbiAgICAgICAgfSxcbiAgICAgICAgY291bnQ6IHtcbiAgICAgICAgICAkc3VtOiAxXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9XG4gIF0pLnRvQXJyYXkoZnVuY3Rpb24oZXJyLCBkYXRhKSB7XG4gICAgaWYgKGVycikge1xuICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgfVxuICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgIHJldHVybiBfaXRlbXMucHVzaChkb2MpO1xuICAgIH0pO1xuICAgIGlmIChjYWxsYmFjayAmJiBfLmlzRnVuY3Rpb24oY2FsbGJhY2spKSB7XG4gICAgICBjYWxsYmFjaygpO1xuICAgIH1cbiAgfSk7XG59O1xuXG5fYXN5bmNfZ2V0X2Zsb3dfaW5zdGFuY2VzX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoX2dldF9mbG93X2luc3RhbmNlc19hZ2dyZWdhdGUpO1xuXG5NZXRlb3IucHVibGlzaCgnbXlfaW5ib3hfZmxvd19pbnN0YW5jZXNfY291bnQnLCBmdW5jdGlvbihzcGFjZUlkKSB7XG4gIHZhciBfY2hhbmdlRGF0YSwgX2Zsb3dzRGF0YSwgX2luaXQsIGRhdGEsIGhhbmRsZSwgcXVlcnksIHNlbGY7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIHNlbGYgPSB0aGlzO1xuICBxdWVyeSA9IHtcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9O1xuICBxdWVyeS4kb3IgPSBbXG4gICAge1xuICAgICAgaW5ib3hfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfSwge1xuICAgICAgY2NfdXNlcnM6IHRoaXMudXNlcklkXG4gICAgfVxuICBdO1xuICBkYXRhID0gW107XG4gIF9hc3luY19nZXRfZmxvd19pbnN0YW5jZXNfYWdncmVnYXRlKHNwYWNlSWQsIHNlbGYudXNlcklkLCBkYXRhKTtcbiAgX2Zsb3dzRGF0YSA9IFtdO1xuICBfLmVhY2goZGF0YSwgZnVuY3Rpb24oZGF0YUl0ZW0pIHtcbiAgICByZXR1cm4gX2Zsb3dzRGF0YS5wdXNoKHtcbiAgICAgIF9pZDogZGF0YUl0ZW0uX2lkLmZsb3csXG4gICAgICBjYXRlZ29yeTogZGF0YUl0ZW0uX2lkLmNhdGVnb3J5LFxuICAgICAgY291bnQ6IGRhdGFJdGVtLmNvdW50XG4gICAgfSk7XG4gIH0pO1xuICBzZWxmLmFkZGVkKFwiZmxvd19pbnN0YW5jZXNcIiwgc3BhY2VJZCwge1xuICAgIGZsb3dzOiBfZmxvd3NEYXRhXG4gIH0pO1xuICBfY2hhbmdlRGF0YSA9IGZ1bmN0aW9uKGRvYywgYWN0aW9uKSB7XG4gICAgdmFyIGZsb3dfaW5zdGFuY2U7XG4gICAgZmxvd19pbnN0YW5jZSA9IF8uZmluZChfZmxvd3NEYXRhLCBmdW5jdGlvbihmKSB7XG4gICAgICByZXR1cm4gZi5faWQgPT09IGRvYy5mbG93O1xuICAgIH0pO1xuICAgIGlmIChmbG93X2luc3RhbmNlKSB7XG4gICAgICBpZiAoYWN0aW9uID09PSBcImFkZGVkXCIpIHtcbiAgICAgICAgZmxvd19pbnN0YW5jZS5jb3VudCsrO1xuICAgICAgfSBlbHNlIGlmIChhY3Rpb24gPT09IFwicmVtb3ZlZFwiKSB7XG4gICAgICAgIGZsb3dfaW5zdGFuY2UuY291bnQtLTtcbiAgICAgIH1cbiAgICB9IGVsc2UgaWYgKGFjdGlvbiA9PT0gXCJhZGRlZFwiKSB7XG4gICAgICBfZmxvd3NEYXRhLnB1c2goe1xuICAgICAgICBfaWQ6IGRvYy5mbG93LFxuICAgICAgICBjYXRlZ29yeTogZG9jLmNhdGVnb3J5LFxuICAgICAgICBjb3VudDogMVxuICAgICAgfSk7XG4gICAgfVxuICAgIHJldHVybiBzZWxmLmNoYW5nZWQoXCJmbG93X2luc3RhbmNlc1wiLCBzcGFjZUlkLCB7XG4gICAgICBmbG93czogX2Zsb3dzRGF0YVxuICAgIH0pO1xuICB9O1xuICBfaW5pdCA9IHRydWU7XG4gIGhhbmRsZSA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDEsXG4gICAgICBpbmJveF91c2VyczogMSxcbiAgICAgIGNjX3VzZXJzOiAxLFxuICAgICAgZmxvdzogMSxcbiAgICAgIGNhdGVnb3J5OiAxXG4gICAgfVxuICB9KS5vYnNlcnZlKHtcbiAgICBhZGRlZDogZnVuY3Rpb24oZG9jKSB7XG4gICAgICBpZiAoIV9pbml0KSB7XG4gICAgICAgIHJldHVybiBfY2hhbmdlRGF0YShkb2MsIFwiYWRkZWRcIik7XG4gICAgICB9XG4gICAgfSxcbiAgICByZW1vdmVkOiBmdW5jdGlvbihkb2MpIHtcbiAgICAgIGlmICghX2luaXQpIHtcbiAgICAgICAgcmV0dXJuIF9jaGFuZ2VEYXRhKGRvYywgXCJyZW1vdmVkXCIpO1xuICAgICAgfVxuICAgIH1cbiAgfSk7XG4gIF9pbml0ID0gZmFsc2U7XG4gIHNlbGYucmVhZHkoKTtcbiAgcmV0dXJuIHNlbGYub25TdG9wKGZ1bmN0aW9uKCkge1xuICAgIHJldHVybiBoYW5kbGUuc3RvcCgpO1xuICB9KTtcbn0pO1xuIiwiXHJcbk1ldGVvci5wdWJsaXNoICdmbG93X21haW5fYXR0YWNoX3RlbXBsYXRlJywgKHNwYWNlSWQsIGZsb3dJZCktPlxyXG5cdGNoZWNrKHNwYWNlSWQsIFN0cmluZylcclxuXHRjaGVjayhmbG93SWQsIFN0cmluZylcclxuXHJcblx0dW5sZXNzIHRoaXMudXNlcklkXHJcblx0XHRyZXR1cm4gdGhpcy5yZWFkeSgpXHJcblxyXG5cdHVubGVzcyBzcGFjZUlkICYmIGZsb3dJZFxyXG5cdFx0cmV0dXJuIHRoaXMucmVhZHkoKVxyXG5cclxuXHRyZXR1cm4gQ3JlYXRvci5nZXRDb2xsZWN0aW9uKCdjbXNfZmlsZXMnKS5maW5kKHsgc3BhY2U6IHNwYWNlSWQsICdwYXJlbnQubyc6ICdmbG93cycsICdwYXJlbnQuaWRzJzogZmxvd0lkLCAgbmFtZTogJ+ato+aWhy5kb2N4JyB9KVxyXG4iLCJNZXRlb3IucHVibGlzaCgnZmxvd19tYWluX2F0dGFjaF90ZW1wbGF0ZScsIGZ1bmN0aW9uKHNwYWNlSWQsIGZsb3dJZCkge1xuICBjaGVjayhzcGFjZUlkLCBTdHJpbmcpO1xuICBjaGVjayhmbG93SWQsIFN0cmluZyk7XG4gIGlmICghdGhpcy51c2VySWQpIHtcbiAgICByZXR1cm4gdGhpcy5yZWFkeSgpO1xuICB9XG4gIGlmICghKHNwYWNlSWQgJiYgZmxvd0lkKSkge1xuICAgIHJldHVybiB0aGlzLnJlYWR5KCk7XG4gIH1cbiAgcmV0dXJuIENyZWF0b3IuZ2V0Q29sbGVjdGlvbignY21zX2ZpbGVzJykuZmluZCh7XG4gICAgc3BhY2U6IHNwYWNlSWQsXG4gICAgJ3BhcmVudC5vJzogJ2Zsb3dzJyxcbiAgICAncGFyZW50Lmlkcyc6IGZsb3dJZCxcbiAgICBuYW1lOiAn5q2j5paHLmRvY3gnXG4gIH0pO1xufSk7XG4iLCJ3b3JrZmxvd1RlbXBsYXRlID0ge31cclxuXHJcbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcclxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpUZsb3dNb2R1bGVz77yM5Zyo5o6n5Yi25Y+w5omn6KGM5Lul5LiL6ISa5pys5Y2z5Y+vXHJcbiNkYi5mb3Jtcy5maW5kKHtzdGF0ZTpcImVuYWJsZWRcIn0pLmZvckVhY2goZnVuY3Rpb24oZm9ybSl7d2luZG93Lm9wZW4oTWV0ZW9yLmFic29sdXRlVXJsKFwiYXBpL3dvcmtmbG93L2V4cG9ydC9mb3JtP2Zvcm09XCIrZm9ybS5faWQpKX0pXHJcbndvcmtmbG93VGVtcGxhdGVbXCJlblwiXSA9W11cclxuXHJcbiPlj6/nlKjmraTohJrmnKzku47mqKHmnb/lt6XkvZzljLrlgZrmibnph4/lr7zlh7rvvJpcclxuI+S9v+eUqOeuoeeQhuWRmOi0puaIt+eZu+W9leWQju+8jOi/m+WFpeaooeadv+S4k+WMuu+8jOWcqOaOp+WItuWPsOaJp+ihjOS7peS4i+iEmuacrOWNs+WPr1xyXG4jZGIuZm9ybXMuZmluZCh7c3RhdGU6XCJlbmFibGVkXCJ9KS5mb3JFYWNoKGZ1bmN0aW9uKGZvcm0pe3dpbmRvdy5vcGVuKE1ldGVvci5hYnNvbHV0ZVVybChcImFwaS93b3JrZmxvdy9leHBvcnQvZm9ybT9mb3JtPVwiK2Zvcm0uX2lkKSl9KVxyXG53b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0gPVtdXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0ZnMgPSByZXF1aXJlKCdmcycpXHJcblx0cGF0aCA9IHJlcXVpcmUoJ3BhdGgnKVxyXG5cdG1pbWUgPSByZXF1aXJlKCdtaW1lJylcclxuXHRyZWFkRmlsZUxpc3QgPSAocGF0aERpciwgZmlsZXNMaXN0KS0+XHJcblx0XHRmaWxlcyA9IGZzLnJlYWRkaXJTeW5jKHBhdGhEaXIpXHJcblx0XHRmaWxlcy5mb3JFYWNoIChuYW1lLCBpbmRleCktPlxyXG5cdFx0XHRzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKVxyXG5cdFx0XHRpZiBzdGF0LmlzRGlyZWN0b3J5KClcclxuXHRcdFx0XHQjIOmAkuW9kuivu+WPluaWh+S7tlxyXG5cdFx0XHRcdHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdClcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdG9iaiA9IHt9XHJcblx0XHRcdFx0b2JqLnBhdGggPSBwYXRoRGlyXHJcblx0XHRcdFx0b2JqLm5hbWUgPSBuYW1lXHJcblx0XHRcdFx0ZmlsZXNMaXN0LnB1c2gob2JqKVxyXG5cclxuXHQj6I635Y+WemgtY27mlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcclxuXHRmaWxlc0xpc3RfY24gPSBbXVxyXG5cdHBhdGhfY24gPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfY25cclxuXHRpZiBwYXRoX2NuXHJcblx0XHRhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pXHJcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfY25cIiwgYWJzb2x1dGVfcGF0aF9jblxyXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKVxyXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF9jbiwgZmlsZXNMaXN0X2NuKVxyXG5cdFx0XHRmaWxlc0xpc3RfY24uZm9yRWFjaCAoZmlsZSktPlxyXG5cdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXHJcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXHJcblx0XHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlnpoLWNu5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cclxuXHQj6I635Y+WZW4tdXPmlofku7blpLnkuIvnmoTmiYDmnInmlofku7ZcclxuXHRmaWxlc0xpc3RfdXMgPSBbXVxyXG5cdHBhdGhfdXMgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXM/LnBhdGhfdXNcclxuXHRpZiBwYXRoX3VzXHJcblx0XHRhYnNvbHV0ZV9wYXRoX3VzID0gcGF0aC5yZXNvbHZlKHBhdGhfdXMpXHJcblx0XHRjb25zb2xlLmxvZyBcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91c1xyXG5cdFx0aWYgZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX3VzKVxyXG5cdFx0XHRyZWFkRmlsZUxpc3QoYWJzb2x1dGVfcGF0aF91cywgZmlsZXNMaXN0X3VzKVxyXG5cdFx0XHRmaWxlc0xpc3RfdXMuZm9yRWFjaCAoZmlsZSktPlxyXG5cdFx0XHRcdHRyeVxyXG5cdFx0XHRcdFx0aWYgbWltZS5nZXRUeXBlKGZpbGUubmFtZSkgaXMgXCJhcHBsaWNhdGlvbi9qc29uXCJcclxuXHRcdFx0XHRcdFx0ZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpXHJcblx0XHRcdFx0XHRcdHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpXHJcblx0XHRcdFx0Y2F0Y2ggZVxyXG5cdFx0XHRcdFx0Y29uc29sZS5lcnJvciBcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSlcclxuXHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHJcblxyXG5cclxuIiwiICAgICAgICAgICAgICAgICAgICAgXG5cbndvcmtmbG93VGVtcGxhdGUgPSB7fTtcblxud29ya2Zsb3dUZW1wbGF0ZVtcImVuXCJdID0gW107XG5cbndvcmtmbG93VGVtcGxhdGVbXCJ6aC1DTlwiXSA9IFtdO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGFic29sdXRlX3BhdGhfY24sIGFic29sdXRlX3BhdGhfdXMsIGZpbGVzTGlzdF9jbiwgZmlsZXNMaXN0X3VzLCBmcywgbWltZSwgcGF0aCwgcGF0aF9jbiwgcGF0aF91cywgcmVhZEZpbGVMaXN0LCByZWYsIHJlZjE7XG4gIGZzID0gcmVxdWlyZSgnZnMnKTtcbiAgcGF0aCA9IHJlcXVpcmUoJ3BhdGgnKTtcbiAgbWltZSA9IHJlcXVpcmUoJ21pbWUnKTtcbiAgcmVhZEZpbGVMaXN0ID0gZnVuY3Rpb24ocGF0aERpciwgZmlsZXNMaXN0KSB7XG4gICAgdmFyIGZpbGVzO1xuICAgIGZpbGVzID0gZnMucmVhZGRpclN5bmMocGF0aERpcik7XG4gICAgcmV0dXJuIGZpbGVzLmZvckVhY2goZnVuY3Rpb24obmFtZSwgaW5kZXgpIHtcbiAgICAgIHZhciBvYmosIHN0YXQ7XG4gICAgICBzdGF0ID0gZnMuc3RhdFN5bmMocGF0aC5qb2luKHBhdGhEaXIsIG5hbWUpKTtcbiAgICAgIGlmIChzdGF0LmlzRGlyZWN0b3J5KCkpIHtcbiAgICAgICAgcmV0dXJuIHJlYWRGaWxlTGlzdChwYXRoLmpvaW4ocGF0aERpciwgbmFtZSksIGZpbGVzTGlzdCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBvYmogPSB7fTtcbiAgICAgICAgb2JqLnBhdGggPSBwYXRoRGlyO1xuICAgICAgICBvYmoubmFtZSA9IG5hbWU7XG4gICAgICAgIHJldHVybiBmaWxlc0xpc3QucHVzaChvYmopO1xuICAgICAgfVxuICAgIH0pO1xuICB9O1xuICBmaWxlc0xpc3RfY24gPSBbXTtcbiAgcGF0aF9jbiA9IChyZWYgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYucGF0aF9jbiA6IHZvaWQgMDtcbiAgaWYgKHBhdGhfY24pIHtcbiAgICBhYnNvbHV0ZV9wYXRoX2NuID0gcGF0aC5yZXNvbHZlKHBhdGhfY24pO1xuICAgIGNvbnNvbGUubG9nKFwiYWJzb2x1dGVfcGF0aF9jblwiLCBhYnNvbHV0ZV9wYXRoX2NuKTtcbiAgICBpZiAoZnMuZXhpc3RzU3luYyhhYnNvbHV0ZV9wYXRoX2NuKSkge1xuICAgICAgcmVhZEZpbGVMaXN0KGFic29sdXRlX3BhdGhfY24sIGZpbGVzTGlzdF9jbik7XG4gICAgICBmaWxlc0xpc3RfY24uZm9yRWFjaChmdW5jdGlvbihmaWxlKSB7XG4gICAgICAgIHZhciBkYXRhLCBlO1xuICAgICAgICB0cnkge1xuICAgICAgICAgIGlmIChtaW1lLmdldFR5cGUoZmlsZS5uYW1lKSA9PT0gXCJhcHBsaWNhdGlvbi9qc29uXCIpIHtcbiAgICAgICAgICAgIGRhdGEgPSBmcy5yZWFkRmlsZVN5bmMocGF0aC5qb2luKGZpbGUucGF0aCwgZmlsZS5uYW1lKSwgJ3V0ZjgnKTtcbiAgICAgICAgICAgIHJldHVybiB3b3JrZmxvd1RlbXBsYXRlW1wiemgtQ05cIl0ucHVzaChKU09OLnBhcnNlKGRhdGEpKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICAgIGNvbnNvbGUuZXJyb3IoXCLojrflj5Z6aC1jbuaWh+S7tuWkueS4i+eahOaJgOacieaWh+S7tlwiLCBwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpKTtcbiAgICAgICAgICByZXR1cm4gY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9XG4gIGZpbGVzTGlzdF91cyA9IFtdO1xuICBwYXRoX3VzID0gKHJlZjEgPSBNZXRlb3Iuc2V0dGluZ3Mud29ya2Zsb3dUZW1wbGF0ZXMpICE9IG51bGwgPyByZWYxLnBhdGhfdXMgOiB2b2lkIDA7XG4gIGlmIChwYXRoX3VzKSB7XG4gICAgYWJzb2x1dGVfcGF0aF91cyA9IHBhdGgucmVzb2x2ZShwYXRoX3VzKTtcbiAgICBjb25zb2xlLmxvZyhcImFic29sdXRlX3BhdGhfdXNcIiwgYWJzb2x1dGVfcGF0aF91cyk7XG4gICAgaWYgKGZzLmV4aXN0c1N5bmMoYWJzb2x1dGVfcGF0aF91cykpIHtcbiAgICAgIHJlYWRGaWxlTGlzdChhYnNvbHV0ZV9wYXRoX3VzLCBmaWxlc0xpc3RfdXMpO1xuICAgICAgcmV0dXJuIGZpbGVzTGlzdF91cy5mb3JFYWNoKGZ1bmN0aW9uKGZpbGUpIHtcbiAgICAgICAgdmFyIGRhdGEsIGU7XG4gICAgICAgIHRyeSB7XG4gICAgICAgICAgaWYgKG1pbWUuZ2V0VHlwZShmaWxlLm5hbWUpID09PSBcImFwcGxpY2F0aW9uL2pzb25cIikge1xuICAgICAgICAgICAgZGF0YSA9IGZzLnJlYWRGaWxlU3luYyhwYXRoLmpvaW4oZmlsZS5wYXRoLCBmaWxlLm5hbWUpLCAndXRmOCcpO1xuICAgICAgICAgICAgcmV0dXJuIHdvcmtmbG93VGVtcGxhdGVbXCJlblwiXS5wdXNoKEpTT04ucGFyc2UoZGF0YSkpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICBlID0gZXJyb3I7XG4gICAgICAgICAgY29uc29sZS5lcnJvcihcIuiOt+WPlmVuLXVz5paH5Lu25aS55LiL55qE5omA5pyJ5paH5Lu2XCIsIHBhdGguam9pbihmaWxlLnBhdGgsIGZpbGUubmFtZSkpO1xuICAgICAgICAgIHJldHVybiBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH1cbn0pO1xuIiwiIyMjXHJcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXHJcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcclxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxyXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxyXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxyXG4jIyNcclxuTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8uYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uXHJcblx0XHRzY2hlZHVsZSA9IHJlcXVpcmUoJ25vZGUtc2NoZWR1bGUnKVxyXG5cdFx0IyDlrprml7bmiafooYzlkIzmraVcclxuXHRcdHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb25cclxuXHRcdGdvX25leHQgPSB0cnVlXHJcblx0XHRzY2hlZHVsZS5zY2hlZHVsZUpvYiBydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50ICgpLT5cclxuXHRcdFx0dHJ5XHJcblx0XHRcdFx0aWYgIWdvX25leHRcclxuXHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdGdvX25leHQgPSBmYWxzZVxyXG5cdFx0XHRcdGNvbnNvbGUudGltZSAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xyXG5cclxuXHRcdFx0XHRub3cgPSBuZXcgRGF0ZVxyXG5cclxuXHRcdFx0XHQjIOWwhuWnlOaJmOinhOWImeiuvue9ruS4uuS4jeWPr+eUqFxyXG5cdFx0XHRcdGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoeyBlbmFibGVkOiB0cnVlLCBlbmRfdGltZTogeyAkbHRlOiBub3cgfSB9LCB7ICRzZXQ6IHsgZW5hYmxlZDogZmFsc2UgfSB9LCB7IG11bHRpIDp0cnVlIH0pXHJcblxyXG5cdFx0XHRcdGNvbnNvbGUudGltZUVuZCAnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJ1xyXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXHJcblxyXG5cdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIlxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXHJcblxyXG5cdFx0LCAoKS0+XHJcblx0XHRcdGNvbnNvbGUubG9nICdGYWlsZWQgdG8gYmluZCBlbnZpcm9ubWVudCdcclxuIiwiXG4vKlxuKiAgICAqICAgICogICAgKiAgICAqICAgICpcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIHxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSUIGRheSBvZiB3ZWVrICgwIC0gNykgKDAgb3IgNyBpcyBTdW4pXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXG7ilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgZGF5IG9mIG1vbnRoICgxIC0gMzEpXG7ilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBob3VyICgwIC0gMjMpXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxu4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIHNlY29uZCAoMCAtIDU5LCBPUFRJT05BTClcbiAqL1xuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHZhciBnb19uZXh0LCByZWYsIHJ1bGUsIHNjaGVkdWxlO1xuICBpZiAoKHJlZiA9IE1ldGVvci5zZXR0aW5ncy5jcm9uKSAhPSBudWxsID8gcmVmLmF1dG9fZmluaXNoX3Byb2Nlc3NfZGVsZWdhdGlvbiA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi5hdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb247XG4gICAgZ29fbmV4dCA9IHRydWU7XG4gICAgcmV0dXJuIHNjaGVkdWxlLnNjaGVkdWxlSm9iKHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQoZnVuY3Rpb24oKSB7XG4gICAgICB2YXIgZSwgbm93O1xuICAgICAgdHJ5IHtcbiAgICAgICAgaWYgKCFnb19uZXh0KSB7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIGdvX25leHQgPSBmYWxzZTtcbiAgICAgICAgY29uc29sZS50aW1lKCdhdXRvX2ZpbmlzaF9wcm9jZXNzX2RlbGVnYXRpb24nKTtcbiAgICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICAgIGRiLnByb2Nlc3NfZGVsZWdhdGlvbl9ydWxlcy51cGRhdGUoe1xuICAgICAgICAgIGVuYWJsZWQ6IHRydWUsXG4gICAgICAgICAgZW5kX3RpbWU6IHtcbiAgICAgICAgICAgICRsdGU6IG5vd1xuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgIGVuYWJsZWQ6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgbXVsdGk6IHRydWVcbiAgICAgICAgfSk7XG4gICAgICAgIGNvbnNvbGUudGltZUVuZCgnYXV0b19maW5pc2hfcHJvY2Vzc19kZWxlZ2F0aW9uJyk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgY29uc29sZS5lcnJvcihcIkFVVE8gQVVUT19GSU5JU0hfUFJPQ0VTU19ERUxFR0FUSU9OIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbiogICAgKiAgICAqICAgICogICAgKiAgICAqXHJcbuKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKwgICAg4pSsXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUlCBkYXkgb2Ygd2VlayAoMCAtIDcpICgwIG9yIDcgaXMgU3VuKVxyXG7ilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSAIG1vbnRoICgxIC0gMTIpXHJcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcclxu4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgaG91ciAoMCAtIDIzKVxyXG7ilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIG1pbnV0ZSAoMCAtIDU5KVxyXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxyXG4jIyNcclxuTWV0ZW9yLnN0YXJ0dXAgLT5cclxuXHRpZiBNZXRlb3Iuc2V0dGluZ3MuY3Jvbj8udGltZW91dF9hdXRvX3N1Ym1pdFxyXG5cdFx0c2NoZWR1bGUgPSByZXF1aXJlKCdub2RlLXNjaGVkdWxlJylcclxuXHRcdCMg5a6a5pe25omn6KGM5ZCM5q2lXHJcblx0XHRydWxlID0gTWV0ZW9yLnNldHRpbmdzLmNyb24udGltZW91dF9hdXRvX3N1Ym1pdFxyXG5cdFx0Z29fbmV4dCA9IHRydWVcclxuXHRcdHNjaGVkdWxlLnNjaGVkdWxlSm9iIHJ1bGUsIE1ldGVvci5iaW5kRW52aXJvbm1lbnQgKCktPlxyXG5cdFx0XHR0cnlcclxuXHRcdFx0XHRpZiAhZ29fbmV4dFxyXG5cdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0Z29fbmV4dCA9IGZhbHNlXHJcblx0XHRcdFx0Y29uc29sZS50aW1lICd0aW1lb3V0X2F1dG9fc3VibWl0J1xyXG5cclxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnRpbWVvdXRBdXRvU3VibWl0KClcclxuXHJcblx0XHRcdFx0Y29uc29sZS50aW1lRW5kICd0aW1lb3V0X2F1dG9fc3VibWl0J1xyXG5cdFx0XHRcdGdvX25leHQgPSB0cnVlXHJcblxyXG5cdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0Y29uc29sZS5lcnJvciBcIkFVVE8gVElNRU9VVF9BVVRPX1NVQk1JVCBFUlJPUjogXCJcclxuXHRcdFx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdFx0XHRnb19uZXh0ID0gdHJ1ZVxyXG5cclxuXHRcdCwgKCktPlxyXG5cdFx0XHRjb25zb2xlLmxvZyAnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnXHJcblxyXG5NZXRlb3IubWV0aG9kc1xyXG5cdHRpbWVvdXRfYXV0b19zdWJtaXQ6IChpbnNfaWQpLT5cclxuXHRcdHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKVxyXG5cdFx0cmV0dXJuIHRydWVcclxuXHJcblxyXG4iLCJcbi8qXG4qICAgICogICAgKiAgICAqICAgICogICAgKlxu4pSsICAgIOKUrCAgICDilKwgICAg4pSsICAgIOKUrCAgICDilKxcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilIIgICAgfFxu4pSCICAgIOKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJQgZGF5IG9mIHdlZWsgKDAgLSA3KSAoMCBvciA3IGlzIFN1bilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUgiAgICDilJTilIDilIDilIDilIDilIAgbW9udGggKDEgLSAxMilcbuKUgiAgICDilIIgICAg4pSCICAgIOKUlOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgOKUgCBkYXkgb2YgbW9udGggKDEgLSAzMSlcbuKUgiAgICDilIIgICAg4pSU4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSA4pSAIGhvdXIgKDAgLSAyMylcbuKUgiAgICDilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgbWludXRlICgwIC0gNTkpXG7ilJTilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIDilIAgc2Vjb25kICgwIC0gNTksIE9QVElPTkFMKVxuICovXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgdmFyIGdvX25leHQsIHJlZiwgcnVsZSwgc2NoZWR1bGU7XG4gIGlmICgocmVmID0gTWV0ZW9yLnNldHRpbmdzLmNyb24pICE9IG51bGwgPyByZWYudGltZW91dF9hdXRvX3N1Ym1pdCA6IHZvaWQgMCkge1xuICAgIHNjaGVkdWxlID0gcmVxdWlyZSgnbm9kZS1zY2hlZHVsZScpO1xuICAgIHJ1bGUgPSBNZXRlb3Iuc2V0dGluZ3MuY3Jvbi50aW1lb3V0X2F1dG9fc3VibWl0O1xuICAgIGdvX25leHQgPSB0cnVlO1xuICAgIHJldHVybiBzY2hlZHVsZS5zY2hlZHVsZUpvYihydWxlLCBNZXRlb3IuYmluZEVudmlyb25tZW50KGZ1bmN0aW9uKCkge1xuICAgICAgdmFyIGU7XG4gICAgICB0cnkge1xuICAgICAgICBpZiAoIWdvX25leHQpIHtcbiAgICAgICAgICByZXR1cm47XG4gICAgICAgIH1cbiAgICAgICAgZ29fbmV4dCA9IGZhbHNlO1xuICAgICAgICBjb25zb2xlLnRpbWUoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgdXVmbG93TWFuYWdlci50aW1lb3V0QXV0b1N1Ym1pdCgpO1xuICAgICAgICBjb25zb2xlLnRpbWVFbmQoJ3RpbWVvdXRfYXV0b19zdWJtaXQnKTtcbiAgICAgICAgcmV0dXJuIGdvX25leHQgPSB0cnVlO1xuICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgZSA9IGVycm9yO1xuICAgICAgICBjb25zb2xlLmVycm9yKFwiQVVUTyBUSU1FT1VUX0FVVE9fU1VCTUlUIEVSUk9SOiBcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgICAgIHJldHVybiBnb19uZXh0ID0gdHJ1ZTtcbiAgICAgIH1cbiAgICB9LCBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBjb25zb2xlLmxvZygnRmFpbGVkIHRvIGJpbmQgZW52aXJvbm1lbnQnKTtcbiAgICB9KSk7XG4gIH1cbn0pO1xuXG5NZXRlb3IubWV0aG9kcyh7XG4gIHRpbWVvdXRfYXV0b19zdWJtaXQ6IGZ1bmN0aW9uKGluc19pZCkge1xuICAgIHV1Zmxvd01hbmFnZXIudGltZW91dEF1dG9TdWJtaXQoaW5zX2lkKTtcbiAgICByZXR1cm4gdHJ1ZTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L25leHRTdGVwVXNlcnNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcclxuXHR2YXJcclxuXHRcdGRlYWxfdHlwZSA9IHJlcS5xdWVyeS5kZWFsX3R5cGUsXHJcblx0XHRzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXHJcblx0XHRlcnJvciA9IFwiXCI7XHJcblxyXG5cdGlmICghZGVhbF90eXBlIHx8ICFzcGFjZUlkKSB7XHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHR9XHJcblxyXG5cdHZhclxyXG5cdFx0Ym9keSA9IHJlcS5ib2R5LFxyXG5cdFx0bmV4dFN0ZXBVc2VycyA9IFtdO1xyXG5cclxuXHJcblx0c3dpdGNoIChkZWFsX3R5cGUpIHtcclxuXHRcdGNhc2UgJ3NwZWNpZnlVc2VyJzpcclxuXHRcdFx0dmFyIHNwZWNpZnlVc2VySWRzID0gYm9keS5zcGVjaWZ5VXNlcklkcztcclxuXHJcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0VXNlcnMoc3BhY2VJZCwgc3BlY2lmeVVzZXJJZHMpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ2FwcGxpY2FudFJvbGUnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHRhcHBsaWNhbnRJZCA9IGJvZHkuYXBwbGljYW50SWQsXHJcblx0XHRcdFx0YXBwcm92ZVJvbGVJZHMgPSBib2R5LmFwcHJvdmVSb2xlSWRzO1xyXG5cdFx0XHR2YXIgYXBwbGljYW50ID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXIoc3BhY2VJZCwgYXBwbGljYW50SWQpO1xyXG5cclxuXHRcdFx0aWYgKGFwcGxpY2FudClcclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5T3Jnc0FuZFJvbGVzKHNwYWNlSWQsIGFwcGxpY2FudC5vcmdhbml6YXRpb25zLCBhcHByb3ZlUm9sZUlkcyk7XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnaHJSb2xlJzpcclxuXHRcdFx0dmFyIGFwcHJvdmVIclJvbGVJZHMgPSBib2R5LmFwcHJvdmVIclJvbGVJZHM7XHJcblx0XHRcdGlmIChhcHByb3ZlSHJSb2xlSWRzKVxyXG5cdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0SHJSb2xlc1VzZXJzKHNwYWNlSWQsIGFwcHJvdmVIclJvbGVJZHMpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ2FwcGxpY2FudFN1cGVyaW9yJzpcclxuXHRcdFx0dmFyIGFwcGxpY2FudElkID0gYm9keS5hcHBsaWNhbnRJZDtcclxuXHRcdFx0dmFyIGFwcGxpY2FudCA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcclxuXHRcdFx0aWYgKGFwcGxpY2FudC5tYW5hZ2VyKSB7XHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCBhcHBsaWNhbnQubWFuYWdlcik7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdhcHBsaWNhbnQnOlxyXG5cdFx0XHR2YXIgYXBwbGljYW50SWQgPSBib2R5LmFwcGxpY2FudElkO1xyXG5cdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIGFwcGxpY2FudElkKTtcclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICd1c2VyRmllbGQnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcclxuXHRcdFx0XHR1c2VyRmllbGRWYWx1ZSA9IGJvZHkudXNlckZpZWxkVmFsdWU7XHJcblx0XHRcdGlmICh1c2VyRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6V1c2VyRmllbGRWYWx1ZeWAvOS4ukFycmF5XHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRVc2VycyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSk7XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0bmV4dFN0ZXBVc2Vycy5wdXNoKFdvcmtmbG93TWFuYWdlci5nZXRVc2VyKHNwYWNlSWQsIHVzZXJGaWVsZFZhbHVlKSk7XHJcblx0XHRcdH1cclxuXHRcdFx0YnJlYWs7XHJcblx0XHRjYXNlICdvcmdGaWVsZCc6XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdG9yZ3MsXHJcblx0XHRcdFx0b3JnQ2hpbGRyZW5zLFxyXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcclxuXHRcdFx0XHRvcmdGaWVsZFZhbHVlID0gYm9keS5vcmdGaWVsZFZhbHVlO1xyXG5cdFx0XHRpZiAob3JnRmllbGRWYWx1ZSkge1xyXG5cdFx0XHRcdGlmIChvcmdGaWVsZC5pc19tdWx0aXNlbGVjdCkgeyAvL+WmguaenOWkmumAie+8jOS7pW9yZ0ZpZWxkVmFsdWXlgLzkuLpBcnJheVxyXG5cdFx0XHRcdFx0b3JncyA9IFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zKG9yZ0ZpZWxkVmFsdWUpO1xyXG5cdFx0XHRcdFx0b3JnQ2hpbGRyZW5zID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNDaGlsZHJlbnMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSk7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdG9yZ3MgPSBbV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbihvcmdGaWVsZFZhbHVlKV07XHJcblx0XHRcdFx0XHRvcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uQ2hpbGRyZW5zKHNwYWNlSWQsIG9yZ0ZpZWxkVmFsdWUpO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdDaGlsZHJlbnMpO1xyXG5cclxuXHRcdFx0XHRvcmdGaWVsZFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldE9yZ2FuaXphdGlvbnNVc2VycyhzcGFjZUlkLCBvcmdzKTtcclxuXHJcblx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IG5leHRTdGVwVXNlcnMuY29uY2F0KG9yZ0ZpZWxkVXNlcnMpO1xyXG5cclxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XHJcblx0XHRcdFx0XHRlcnJvciA9IFwiT1JHX05PX01FTUJFUlNcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0Y2FzZSAnc3BlY2lmeU9yZyc6XHJcblx0XHRcdHZhciBzcGVjaWZ5T3JnSWRzID0gYm9keS5zcGVjaWZ5T3JnSWRzO1xyXG5cdFx0XHR2YXIgc3BlY2lmeU9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9ucyhzcGVjaWZ5T3JnSWRzKTtcclxuXHRcdFx0dmFyIHNwZWNpZnlPcmdDaGlsZHJlbnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc0NoaWxkcmVucyhzcGFjZUlkLCBzcGVjaWZ5T3JnSWRzKTtcclxuXHJcblx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0T3JnYW5pemF0aW9uc1VzZXJzKHNwYWNlSWQsIHNwZWNpZnlPcmdzKTtcclxuXHRcdFx0bmV4dFN0ZXBVc2VycyA9IG5leHRTdGVwVXNlcnMuY29uY2F0KFdvcmtmbG93TWFuYWdlci5nZXRPcmdhbml6YXRpb25zVXNlcnMoc3BhY2VJZCwgc3BlY2lmeU9yZ0NoaWxkcmVucykpO1xyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ3VzZXJGaWVsZFJvbGUnOlxyXG5cdFx0XHR2YXJcclxuXHRcdFx0XHR1c2VyRmllbGQgPSBib2R5LnVzZXJGaWVsZCxcclxuXHRcdFx0XHR1c2VyRmllbGRWYWx1ZSA9IGJvZHkudXNlckZpZWxkVmFsdWUsXHJcblx0XHRcdFx0YXBwcm92ZXJSb2xlSWRzID0gYm9keS5hcHByb3ZlclJvbGVJZHM7XHJcblx0XHRcdGlmICh1c2VyRmllbGRWYWx1ZSkge1xyXG5cdFx0XHRcdGlmICh1c2VyRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6V1c2VyRmllbGRWYWx1ZeWAvOS4ukFycmF5XHJcblx0XHRcdFx0XHRuZXh0U3RlcFVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFJvbGVVc2Vyc0J5VXNlcnNBbmRSb2xlcyhzcGFjZUlkLCB1c2VyRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeVVzZXJzQW5kUm9sZXMoc3BhY2VJZCwgW3VzZXJGaWVsZFZhbHVlXSwgYXBwcm92ZXJSb2xlSWRzKTtcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdGlmICghbmV4dFN0ZXBVc2VycyB8fCBuZXh0U3RlcFVzZXJzLmxlbmd0aCA8IDEpIHtcclxuXHRcdFx0XHRcdGVycm9yID0gXCJST0xFX05PX01FTUJFUlNcIjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSB7XHJcblx0XHRcdFx0ZXJyb3IgPSBcIkZJRUxEX1ZBTFVFX0VNUFRZXCI7XHJcblx0XHRcdH1cclxuXHJcblxyXG5cdFx0XHRicmVhaztcclxuXHRcdGNhc2UgJ29yZ0ZpZWxkUm9sZSc6XHJcblx0XHRcdHZhclxyXG5cdFx0XHRcdG9yZ0ZpZWxkID0gYm9keS5vcmdGaWVsZCxcclxuXHRcdFx0XHRvcmdGaWVsZFZhbHVlID0gYm9keS5vcmdGaWVsZFZhbHVlLFxyXG5cdFx0XHRcdGFwcHJvdmVyUm9sZUlkcyA9IGJvZHkuYXBwcm92ZXJSb2xlSWRzO1xyXG5cclxuXHRcdFx0aWYgKG9yZ0ZpZWxkVmFsdWUpIHtcclxuXHRcdFx0XHRpZiAob3JnRmllbGQuaXNfbXVsdGlzZWxlY3QpIHsgLy/lpoLmnpzlpJrpgInvvIzku6VvcmdGaWVsZFZhbHVl5YC85Li6QXJyYXlcclxuXHRcdFx0XHRcdG5leHRTdGVwVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Um9sZVVzZXJzQnlPcmdzQW5kUm9sZXMoc3BhY2VJZCwgb3JnRmllbGRWYWx1ZSwgYXBwcm92ZXJSb2xlSWRzKTtcclxuXHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0bmV4dFN0ZXBVc2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRSb2xlVXNlcnNCeU9yZ3NBbmRSb2xlcyhzcGFjZUlkLCBbb3JnRmllbGRWYWx1ZV0sIGFwcHJvdmVyUm9sZUlkcyk7XHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRpZiAoIW5leHRTdGVwVXNlcnMgfHwgbmV4dFN0ZXBVc2Vycy5sZW5ndGggPCAxKSB7XHJcblx0XHRcdFx0XHRlcnJvciA9IFwiUk9MRV9OT19NRU1CRVJTXCI7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdGVycm9yID0gXCJGSUVMRF9WQUxVRV9FTVBUWVwiO1xyXG5cdFx0XHR9XHJcblx0XHRcdGJyZWFrO1xyXG5cdFx0ZGVmYXVsdDpcclxuXHRcdFx0YnJlYWs7XHJcblx0fVxyXG5cclxuXHR2YXIgcmVzdWx0ID0gW107XHJcblxyXG5cdG5leHRTdGVwVXNlcnMuZm9yRWFjaChmdW5jdGlvbihzdSkge1xyXG5cdFx0dmFyIG8gPSB7XHJcblx0XHRcdGlkOiBzdS5pZCxcclxuXHRcdFx0bmFtZTogc3UubmFtZVxyXG5cdFx0fTtcclxuXHRcdHJlc3VsdC5wdXNoKG8pO1xyXG5cdH0pXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J25leHRTdGVwVXNlcnMnOiBXb3JrZmxvd01hbmFnZXIudW5pcVVzZXJzKHJlc3VsdCksXHJcblx0XHRcdCdlcnJvcic6IGVycm9yXHJcblx0XHR9XHJcblx0fSk7XHJcbn0pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRTcGFjZVVzZXJzXCIsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xyXG4gIHZhclxyXG4gICAgdXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHMsXHJcbiAgICBzcGFjZUlkID0gcmVxLnF1ZXJ5LnNwYWNlSWQsXHJcbiAgICBzcGFjZVVzZXJzID0gW11cclxuICA7XHJcblxyXG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xyXG4gICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG4gICAgICBjb2RlOiAyMDAsXHJcbiAgICAgIGRhdGE6IHtcclxuICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuICAgICAgfVxyXG4gICAgfSk7XHJcbiAgfVxyXG5cclxuICBzcGFjZVVzZXJzID0gV29ya2Zsb3dNYW5hZ2VyLmdldFVzZXJzKHNwYWNlSWQsIHVzZXJJZHMpO1xyXG5cclxuICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICBjb2RlOiAyMDAsXHJcbiAgICBkYXRhOiB7XHJcbiAgICAgICdzcGFjZVVzZXJzJzogc3BhY2VVc2Vyc1xyXG4gICAgfVxyXG4gIH0pO1xyXG59KVxyXG5cclxuXHJcbiAgXHJcbiAgIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXRGb3JtdWxhVXNlck9iamVjdHNcIiwgZnVuY3Rpb24gKHJlcSwgcmVzLCBuZXh0KSB7XHJcbiAgdmFyXHJcbiAgICB1c2VySWRzID0gcmVxLmJvZHkudXNlcklkcyxcclxuICAgIHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcclxuICAgIHNwYWNlVXNlcnMgPSBbXVxyXG4gIDtcclxuXHJcbiAgaWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKSB7XHJcbiAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcbiAgICAgIGNvZGU6IDIwMCxcclxuICAgICAgZGF0YToge1xyXG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xyXG4gICAgICB9XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHZhciB1c2VycyA9IFdvcmtmbG93TWFuYWdlci5nZXRGb3JtdWxhVXNlck9iamVjdChzcGFjZUlkLCB1c2VySWRzKTtcclxuXHJcbiAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG4gICAgY29kZTogMjAwLFxyXG4gICAgZGF0YToge1xyXG4gICAgICAnc3BhY2VVc2Vycyc6IHVzZXJzXHJcbiAgICB9XHJcbiAgfSk7XHJcbn0pXHJcblxyXG5cclxuICBcclxuICAiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L2luaXRfZm9ybXVsYV92YWx1ZXNcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcclxuXHR2YXJcclxuXHRcdGZpZWxkcyA9IHJlcS5ib2R5LmZpZWxkcyxcclxuXHRcdGF1dG9Gb3JtRG9jID0gcmVxLmJvZHkuYXV0b0Zvcm1Eb2MsXHJcblx0XHRhcHByb3ZlciA9IHJlcS5ib2R5LmFwcHJvdmVyLFxyXG5cdFx0YXBwbGljYW50ID0gcmVxLmJvZHkuYXBwbGljYW50LFxyXG5cclxuXHRcdHNwYWNlSWQgPSByZXEucXVlcnkuc3BhY2VJZCxcclxuXHJcblx0XHRzcGFjZVVzZXJzID0gW107XHJcblxyXG5cdGlmICghZmllbGRzIHx8ICFzcGFjZUlkIHx8ICFhdXRvRm9ybURvYyB8fCAhYXBwcm92ZXIgfHwgIWFwcGxpY2FudCkge1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblx0XHRyZXR1cm47XHJcblx0fVxyXG5cclxuXHRmb3JtdWxhX3ZhbHVlcyA9IEZvcm1fZm9ybXVsYS5pbml0X2Zvcm11bGFfdmFsdWVzKGZpZWxkcywgYXV0b0Zvcm1Eb2MsIGFwcHJvdmVyLCBhcHBsaWNhbnQsIHNwYWNlSWQpO1xyXG5cclxuXHRKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRjb2RlOiAyMDAsXHJcblx0XHRkYXRhOiB7XHJcblx0XHRcdCdmb3JtdWxhX3ZhbHVlcyc6IGZvcm11bGFfdmFsdWVzXHJcblx0XHR9XHJcblx0fSk7XHJcbn0pXHJcbiIsIkpzb25Sb3V0ZXMuYWRkIFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZ2V0TmFtZUZvclVzZXJcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZFxyXG5cclxuXHRcdGlmIG5vdCB1c2VySWQgXHJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIFxyXG5cdFx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHQnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcclxuXHRcdFx0XHR9XHJcblxyXG5cdFx0dXNlciA9IFdvcmtmbG93TWFuYWdlci5nZXROYW1lRm9yVXNlcih1c2VySWQpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywgXHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge3VzZXI6IHVzZXJ9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcblx0XHJcblx0XHRcclxuIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9nZXROYW1lRm9yVXNlclwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgZSwgdXNlciwgdXNlcklkO1xuICB0cnkge1xuICAgIHVzZXJJZCA9IHJlcS5ib2R5LnVzZXJJZDtcbiAgICBpZiAoIXVzZXJJZCkge1xuICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3JzJzogJ+e8uuWwkeWPguaVsCdcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICAgIHVzZXIgPSBXb3JrZmxvd01hbmFnZXIuZ2V0TmFtZUZvclVzZXIodXNlcklkKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICB1c2VyOiB1c2VyXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvZGVzaWduZXIvc3RhcnR1cCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGNvbXBhbnlJZCA9IHJlcS5xdWVyeT8uY29tcGFueUlkIHx8ICcnXHJcblxyXG5cdFx0c3BhY2VzUXVlcnkgPSB7IGFkbWluczogY3VycmVudF91c2VyIH1cclxuXHJcblx0XHRpZiBjb21wYW55SWRcclxuXHRcdFx0b3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwgeyBmaWVsZHM6IHsgc3BhY2U6MSB9IH0pXHJcblx0XHRcdGlmIG5vdCBvcmdcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjb21wYW55SWQgaXMgaW52YWxpZCcpXHJcblxyXG5cdFx0XHRzcGFjZXNRdWVyeSA9IHsgX2lkOiBvcmcuc3BhY2UgfVxyXG5cclxuXHRcdHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0c3BhY2VJZHMgPSBfLnBsdWNrIHNwYWNlcywgJ19pZCdcclxuXHJcblx0XHRxdWVyeSA9IHsgc3BhY2U6IHsgJGluOiBzcGFjZUlkcyB9IH1cclxuXHRcdGlmIGNvbXBhbnlJZFxyXG5cdFx0XHRxdWVyeS5jb21wYW55X2lkID0gY29tcGFueUlkXHJcblxyXG5cdFx0c3BhY2VVc2VycyA9IGRiLnNwYWNlX3VzZXJzLmZpbmQocXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRmb3JtcyA9IGRiLmZvcm1zLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgc3RhdGU6MSwgaXNfZGVsZXRlZDoxLCBpc192YWxpZDoxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBoZWxwX3RleHQ6MSxcclxuXHRcdGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBjdXJyZW50OjEsIGNhdGVnb3J5OjEsIGluc3RhbmNlX3N0eWxlOjEsIGNvbXBhbnlfaWQ6MSB9IH0pLmZldGNoKClcclxuXHJcblx0XHRmbG93cyA9IGRiLmZsb3dzLmZpbmQocXVlcnksIHsgZmllbGRzOiB7IG5hbWU6MSwgbmFtZV9mb3JtdWxhOjEsIGNvZGVfZm9ybXVsYToxLCBzcGFjZToxLCBkZXNjcmlwdGlvbjoxLCBpc192YWxpZDoxLCBmb3JtOjEsXHJcblx0XHRmbG93dHlwZToxLCBzdGF0ZToxLCBpc19kZWxldGVkOjEsIGNyZWF0ZWQ6MSwgY3JlYXRlZF9ieToxLCBoZWxwX3RleHQ6MSwgY3VycmVudF9ubzoxLCBjdXJyZW50OjEsIHBlcm1zOjEsIGVycm9yX21lc3NhZ2U6MSwgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczoxLCBjb21wYW55X2lkOjEgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0cm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKClcclxuXHJcblx0XHRvcmdhbml6YXRpb25zID0gZGIub3JnYW5pemF0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpXHJcblxyXG5cdFx0cG9zaXRpb25zID0gZGIuZmxvd19wb3NpdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKVxyXG5cclxuXHRcdGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoeyBzcGFjZTogeyAkaW46IHNwYWNlSWRzIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdHVzZXJJZHMgPSBfLnBsdWNrIHNwYWNlVXNlcnMsICd1c2VyJ1xyXG5cdFx0dXNlcnMgPSBkYi51c2Vycy5maW5kKHsgX2lkOiB7ICRpbjogdXNlcklkcyB9IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KS5mZXRjaCgpXHJcblxyXG5cdFx0cmVzdWx0ID0ge31cclxuXHRcdHJlc3VsdC5TcGFjZVVzZXJzID0gc3BhY2VVc2Vyc1xyXG5cdFx0cmVzdWx0LlVzZXJzID0gdXNlcnNcclxuXHRcdHJlc3VsdC5Gb3JtcyA9IGZvcm1zXHJcblx0XHRyZXN1bHQuRmxvd3MgPSBmbG93c1xyXG5cdFx0cmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zXHJcblx0XHRyZXN1bHQuUG9zaXRpb25zID0gcG9zaXRpb25zXHJcblx0XHRyZXN1bHQuUm9sZXMgPSByb2xlc1xyXG5cdFx0cmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzXHJcblx0XHRyZXN1bHQuU3BhY2VzID0gc3BhY2VzXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRkYXRhOiByZXN1bHRcclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuXHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS9kZXNpZ25lci9zdGFydHVwJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGNhdGVnb3JpZXMsIGNvbXBhbnlJZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvd3MsIGZvcm1zLCBvcmcsIG9yZ2FuaXphdGlvbnMsIHBvc2l0aW9ucywgcXVlcnksIHJlZiwgcmVzdWx0LCByb2xlcywgc3BhY2VJZHMsIHNwYWNlVXNlcnMsIHNwYWNlcywgc3BhY2VzUXVlcnksIHVzZXJJZHMsIHVzZXJzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGNvbXBhbnlJZCA9ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLmNvbXBhbnlJZCA6IHZvaWQgMCkgfHwgJyc7XG4gICAgc3BhY2VzUXVlcnkgPSB7XG4gICAgICBhZG1pbnM6IGN1cnJlbnRfdXNlclxuICAgIH07XG4gICAgaWYgKGNvbXBhbnlJZCkge1xuICAgICAgb3JnID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGNvbXBhbnlJZCwge1xuICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICBzcGFjZTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghb3JnKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NvbXBhbnlJZCBpcyBpbnZhbGlkJyk7XG4gICAgICB9XG4gICAgICBzcGFjZXNRdWVyeSA9IHtcbiAgICAgICAgX2lkOiBvcmcuc3BhY2VcbiAgICAgIH07XG4gICAgfVxuICAgIHNwYWNlcyA9IGRiLnNwYWNlcy5maW5kKHNwYWNlc1F1ZXJ5KS5mZXRjaCgpO1xuICAgIHNwYWNlSWRzID0gXy5wbHVjayhzcGFjZXMsICdfaWQnKTtcbiAgICBxdWVyeSA9IHtcbiAgICAgIHNwYWNlOiB7XG4gICAgICAgICRpbjogc3BhY2VJZHNcbiAgICAgIH1cbiAgICB9O1xuICAgIGlmIChjb21wYW55SWQpIHtcbiAgICAgIHF1ZXJ5LmNvbXBhbnlfaWQgPSBjb21wYW55SWQ7XG4gICAgfVxuICAgIHNwYWNlVXNlcnMgPSBkYi5zcGFjZV91c2Vycy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGZvcm1zID0gZGIuZm9ybXMuZmluZChxdWVyeSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIG5hbWU6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpc19kZWxldGVkOiAxLFxuICAgICAgICBpc192YWxpZDogMSxcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGRlc2NyaXB0aW9uOiAxLFxuICAgICAgICBoZWxwX3RleHQ6IDEsXG4gICAgICAgIGNyZWF0ZWQ6IDEsXG4gICAgICAgIGNyZWF0ZWRfYnk6IDEsXG4gICAgICAgIGN1cnJlbnQ6IDEsXG4gICAgICAgIGNhdGVnb3J5OiAxLFxuICAgICAgICBpbnN0YW5jZV9zdHlsZTogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHF1ZXJ5LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgbmFtZTogMSxcbiAgICAgICAgbmFtZV9mb3JtdWxhOiAxLFxuICAgICAgICBjb2RlX2Zvcm11bGE6IDEsXG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBkZXNjcmlwdGlvbjogMSxcbiAgICAgICAgaXNfdmFsaWQ6IDEsXG4gICAgICAgIGZvcm06IDEsXG4gICAgICAgIGZsb3d0eXBlOiAxLFxuICAgICAgICBzdGF0ZTogMSxcbiAgICAgICAgaXNfZGVsZXRlZDogMSxcbiAgICAgICAgY3JlYXRlZDogMSxcbiAgICAgICAgY3JlYXRlZF9ieTogMSxcbiAgICAgICAgaGVscF90ZXh0OiAxLFxuICAgICAgICBjdXJyZW50X25vOiAxLFxuICAgICAgICBjdXJyZW50OiAxLFxuICAgICAgICBwZXJtczogMSxcbiAgICAgICAgZXJyb3JfbWVzc2FnZTogMSxcbiAgICAgICAgZGlzdHJpYnV0ZV9vcHRpb25hbF91c2VyczogMSxcbiAgICAgICAgY29tcGFueV9pZDogMVxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgcm9sZXMgPSBkYi5mbG93X3JvbGVzLmZpbmQocXVlcnkpLmZldGNoKCk7XG4gICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZChxdWVyeSkuZmV0Y2goKTtcbiAgICBwb3NpdGlvbnMgPSBkYi5mbG93X3Bvc2l0aW9ucy5maW5kKHF1ZXJ5KS5mZXRjaCgpO1xuICAgIGNhdGVnb3JpZXMgPSBkYi5jYXRlZ29yaWVzLmZpbmQoe1xuICAgICAgc3BhY2U6IHtcbiAgICAgICAgJGluOiBzcGFjZUlkc1xuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgdXNlcklkcyA9IF8ucGx1Y2soc3BhY2VVc2VycywgJ3VzZXInKTtcbiAgICB1c2VycyA9IGRiLnVzZXJzLmZpbmQoe1xuICAgICAgX2lkOiB7XG4gICAgICAgICRpbjogdXNlcklkc1xuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBuYW1lOiAxXG4gICAgICB9XG4gICAgfSkuZmV0Y2goKTtcbiAgICByZXN1bHQgPSB7fTtcbiAgICByZXN1bHQuU3BhY2VVc2VycyA9IHNwYWNlVXNlcnM7XG4gICAgcmVzdWx0LlVzZXJzID0gdXNlcnM7XG4gICAgcmVzdWx0LkZvcm1zID0gZm9ybXM7XG4gICAgcmVzdWx0LkZsb3dzID0gZmxvd3M7XG4gICAgcmVzdWx0Lk9yZ2FuaXphdGlvbnMgPSBvcmdhbml6YXRpb25zO1xuICAgIHJlc3VsdC5Qb3NpdGlvbnMgPSBwb3NpdGlvbnM7XG4gICAgcmVzdWx0LlJvbGVzID0gcm9sZXM7XG4gICAgcmVzdWx0LkNhdGVnb3JpZXMgPSBjYXRlZ29yaWVzO1xuICAgIHJlc3VsdC5TcGFjZXMgPSBzcGFjZXM7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHJlc3VsdFxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9lbmdpbmUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydBcHByb3ZhbHMnXSwgKGFwcHJvdmVfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIud29ya2Zsb3dfZW5naW5lKGFwcHJvdmVfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9lbmdpbmUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0FwcHJvdmFscyddLCBmdW5jdGlvbihhcHByb3ZlX2Zyb21fY2xpZW50KSB7XG4gICAgICByZXR1cm4gdXVmbG93TWFuYWdlci53b3JrZmxvd19lbmdpbmUoYXBwcm92ZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8sIGN1cnJlbnRfdXNlcik7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHt9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L2RyYWZ0cycsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHJcblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcclxuXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoeyBfaWQ6IG5ld19pbnNfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsIGZsb3c6IDEsIGZsb3dfdmVyc2lvbjogMSwgZm9ybTogMSwgZm9ybV92ZXJzaW9uOiAxIH0gfSlcclxuXHJcblx0XHRcdGluc2VydGVkX2luc3RhbmNlcy5wdXNoKG5ld19pbnMpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBpbnNlcnRzOiBpbnNlcnRlZF9pbnN0YW5jZXMgfVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cclxuXHRcdH1cclxuXHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZHJhZnRzJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhLCBpbnNlcnRlZF9pbnN0YW5jZXM7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBuZXdfaW5zLCBuZXdfaW5zX2lkO1xuICAgICAgbmV3X2luc19pZCA9IHV1Zmxvd01hbmFnZXIuY3JlYXRlX2luc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50LCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICBuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoe1xuICAgICAgICBfaWQ6IG5ld19pbnNfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgICAgZmxvdzogMSxcbiAgICAgICAgICBmbG93X3ZlcnNpb246IDEsXG4gICAgICAgICAgZm9ybTogMSxcbiAgICAgICAgICBmb3JtX3ZlcnNpb246IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICByZXR1cm4gaW5zZXJ0ZWRfaW5zdGFuY2VzLnB1c2gobmV3X2lucyk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZCAncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHJcblx0XHRpbnNlcnRlZF9pbnN0YW5jZXMgPSBuZXcgQXJyYXlcclxuXHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdCMg6I635Y+W5LiA5LiqaW5zdGFuY2VcclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cdFx0XHRzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlXHJcblx0XHRcdCMg6I635Y+W5LiA5Liqc3BhY2VcclxuXHRcdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNl5LiL55qE5LiA5LiqdXNlclxyXG5cdFx0XHRzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGluc3RhbmNlLmZsb3d9KVxyXG5cclxuXHRcdFx0c3BhY2VVc2VyT3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XHJcblx0XHRcdFx0X2lkOiB7XHJcblx0XHRcdFx0XHQkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSkuZmV0Y2goKTtcclxuXHJcblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIXmiJbogIXnlLPor7fkurog5oiWU3BhY2VBZG1pblxyXG5cdFx0XHRpZiAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMgY3VycmVudF91c2VyKSBhbmQgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKVxyXG5cdFx0XHRcdHRocm93IG5ldyAgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKVxyXG5cclxuXHRcdFx0ZGVsZXRlX29iaiA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZVxyXG5cdFx0XHRkZWxldGVfb2JqLmRlbGV0ZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHJcblx0XHRcdGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKVxyXG5cclxuXHRcdFx0IyDliKDpmaRpbnN0YW5jZVxyXG5cdFx0XHRkYi5pbnN0YW5jZXMucmVtb3ZlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cclxuXHRcdFx0aWYgZGVsZXRlX29iai5zdGF0ZSBpc250IFwiZHJhZnRcIlxyXG5cdFx0XHRcdCPlj5HpgIHnu5nlvoXlpITnkIbkurosICPlj5HpgIHnu5nooqvkvKDpmIXkurpcclxuXHRcdFx0XHRpbmJveF91c2VycyA9IGlmIGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmluYm94X3VzZXJzIGVsc2UgW11cclxuXHRcdFx0XHRjY191c2VycyA9IGlmIGRlbGV0ZV9vYmouY2NfdXNlcnMgdGhlbiBkZWxldGVfb2JqLmNjX3VzZXJzIGVsc2UgW11cclxuXHRcdFx0XHR1c2VyX2lkcyA9IF8udW5pcShpbmJveF91c2Vycy5jb25jYXQoY2NfdXNlcnMpKVxyXG5cdFx0XHRcdF8uZWFjaCB1c2VyX2lkcywgKHVfaWQpLT5cclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcInRlcm1pbmF0ZV9hcHByb3ZhbFwiLCB1X2lkKVxyXG5cclxuXHRcdFx0XHQjIOWPkemAgeWIoOmZpOmAmuefpemCruS7tue7memAmui/h+agoemqjOeahOeUs+ivt+S6ui/loavljZXkurrvvIzlr7nnlLPor7fkurov5aGr5Y2V5Lq65ZCE55Sf5oiQ5LiA5p2hc210cCBtZXNzYWdlXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgaW5zZXJ0czogaW5zZXJ0ZWRfaW5zdGFuY2VzfVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcblx0XHJcblx0XHQiLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JlbW92ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YSwgaW5zZXJ0ZWRfaW5zdGFuY2VzO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgaW5zZXJ0ZWRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY2NfdXNlcnMsIGRlbGV0ZV9vYmosIGZsb3csIGluYm94X3VzZXJzLCBpbnN0YW5jZSwgc3BhY2UsIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCB1c2VyX2lkcztcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBpbnN0YW5jZS5mbG93XG4gICAgICB9KTtcbiAgICAgIHNwYWNlVXNlck9yZ2FuaXphdGlvbnMgPSBkYi5vcmdhbml6YXRpb25zLmZpbmQoe1xuICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAkaW46IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgICAgaWYgKChpbnN0YW5jZS5zdWJtaXR0ZXIgIT09IGN1cnJlbnRfdXNlcikgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgIVdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbG93LCBzcGFjZV91c2VyLCBzcGFjZVVzZXJPcmdhbml6YXRpb25zKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuaCqOS4jeiDveWIoOmZpOatpOeUs+ivt+WNleOAglwiKTtcbiAgICAgIH1cbiAgICAgIGRlbGV0ZV9vYmogPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSk7XG4gICAgICBkZWxldGVfb2JqLmRlbGV0ZWQgPSBuZXcgRGF0ZTtcbiAgICAgIGRlbGV0ZV9vYmouZGVsZXRlZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIGRiLmRlbGV0ZWRfaW5zdGFuY2VzLmluc2VydChkZWxldGVfb2JqKTtcbiAgICAgIGRiLmluc3RhbmNlcy5yZW1vdmUoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgaWYgKGRlbGV0ZV9vYmouc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgICBpbmJveF91c2VycyA9IGRlbGV0ZV9vYmouaW5ib3hfdXNlcnMgPyBkZWxldGVfb2JqLmluYm94X3VzZXJzIDogW107XG4gICAgICAgIGNjX3VzZXJzID0gZGVsZXRlX29iai5jY191c2VycyA/IGRlbGV0ZV9vYmouY2NfdXNlcnMgOiBbXTtcbiAgICAgICAgdXNlcl9pZHMgPSBfLnVuaXEoaW5ib3hfdXNlcnMuY29uY2F0KGNjX3VzZXJzKSk7XG4gICAgICAgIF8uZWFjaCh1c2VyX2lkcywgZnVuY3Rpb24odV9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdV9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJtb25pdG9yX2RlbGV0ZV9hcHBsaWNhbnRcIiwgZGVsZXRlX29iaiwgXCJcIiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgfVxuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGluc2VydHM6IGluc2VydGVkX2luc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRyZXN1bHQgPSBbXVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHRyID0gdXVmbG93TWFuYWdlci5zdWJtaXRfaW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnQsIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHRpZiByLmFsZXJ0c1xyXG5cdFx0XHRcdHJlc3VsdC5wdXNoKHIpXHJcblx0XHRcdGlmIG5vdCBfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pXHJcblx0XHRcdFx0IyDlpoLmnpzmmK/ovazlj5HlsLHpnIDopoHnu5nlvZPliY3nlKjmiLflj5HpgIFwdXNoIOmHjeaWsOiuoeeul2JhZGdlXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIGN1cnJlbnRfdXNlcik7XHJcblxyXG5cdFx0XHRpZiBfLmlzRW1wdHkoci5hbGVydHMpXHJcblx0XHRcdFx0aW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudC5faWQpXHJcblx0XHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcclxuXHRcdFx0XHRjdXJyZW50X2FwcHJvdmUgPSBpbnN0YW5jZV9mcm9tX2NsaWVudC50cmFjZXNbMF0uYXBwcm92ZXNbMF1cclxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2VycylcclxuXHJcblx0XHRcdCMg5Yik5pat55Sz6K+35Y2V5piv5ZCm5YiG5Y+R77yM5YiG5Y+R5paH5Lu257uT5p2f5o+Q6YaS5Y+R6LW35Lq6XHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuZGlzdHJpYnV0ZWRJbnN0YW5jZXNSZW1pbmQoaW5zdGFuY2VfZnJvbV9jbGllbnQpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRkYXRhOiB7IHJlc3VsdDogcmVzdWx0IH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9zdWJtaXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGEsIHJlc3VsdDtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIHJlc3VsdCA9IFtdO1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgY3VycmVudF9hcHByb3ZlLCBmbG93X2lkLCBpbnN0YW5jZSwgcjtcbiAgICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgaWYgKHIuYWxlcnRzKSB7XG4gICAgICAgIHJlc3VsdC5wdXNoKHIpO1xuICAgICAgfVxuICAgICAgaWYgKCFfLmlzRW1wdHkoaW5zdGFuY2VfZnJvbV9jbGllbnRbJ2luYm94X3VzZXJzJ10pKSB7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCBjdXJyZW50X3VzZXIpO1xuICAgICAgfVxuICAgICAgaWYgKF8uaXNFbXB0eShyLmFsZXJ0cykpIHtcbiAgICAgICAgaW5zdGFuY2UgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnN0YW5jZV9mcm9tX2NsaWVudC5faWQpO1xuICAgICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgICAgY3VycmVudF9hcHByb3ZlID0gaW5zdGFuY2VfZnJvbV9jbGllbnQudHJhY2VzWzBdLmFwcHJvdmVzWzBdO1xuICAgICAgICBwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhmbG93X2lkLCBpbnN0YW5jZSwgY3VycmVudF9hcHByb3ZlLCAnZHJhZnRfc3VibWl0JywgY3VycmVudF91c2VyLCBpbnN0YW5jZS5pbmJveF91c2Vycyk7XG4gICAgICB9XG4gICAgICByZXR1cm4gdXVmbG93TWFuYWdlci5kaXN0cmlidXRlZEluc3RhbmNlc1JlbWluZChpbnN0YW5jZV9mcm9tX2NsaWVudCk7XG4gICAgfSk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgcmVzdWx0OiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdFx0Y3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0Xy5lYWNoIGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgKGluc3RhbmNlX2Zyb21fY2xpZW50KSAtPlxyXG5cdFx0XHR0ZXJtaW5hdGVfcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0ZXJtaW5hdGVfcmVhc29uXCJdXHJcblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl1cclxuXHRcdFx0IyDojrflj5bkuIDkuKppbnN0YW5jZVxyXG5cdFx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0Zmxvd19pZCA9IGluc3RhbmNlLmZsb3dcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZVxyXG5cdFx0XHRzcGFjZSA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xyXG5cdFx0XHRmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpXHJcblx0XHRcdCMg5Yik5pat5LiA5LiqaW5zdGFuY2XmmK/lkKbkuLrlrqHmoLjkuK3nirbmgIFcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSlcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdCMg6I635Y+Wc3BhY2VfdXNlcuaJgOWcqOeahOmDqOmXqOS/oeaBr1xyXG5cdFx0XHRzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXHJcblx0XHRcdCMg6I635Y+W57uT5p2f6IqC54K5XHJcblx0XHRcdGluc3RhbmNlX2Zsb3dfdmVyID0gbnVsbFxyXG5cdFx0XHRmbG93X3Zlcl9lbmRfc3RlcCA9IG51bGxcclxuXHRcdFx0Zmxvd192ZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdGZsb3dfdmVycy5wdXNoKGZsb3cuY3VycmVudClcclxuXHRcdFx0Zmxvd192ZXJzID0gZmxvd192ZXJzLmNvbmNhdChmbG93Lmhpc3RvcnlzKVxyXG5cdFx0XHRpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIChmX3ZlciktPlxyXG5cdFx0XHRcdHJldHVybiBmX3Zlci5faWQgaXMgaW5zdGFuY2UuZmxvd192ZXJzaW9uXHJcblx0XHRcdClcclxuXHRcdFx0aWYgbm90IGluc3RhbmNlX2Zsb3dfdmVyXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLmnKrmib7liLDnlLPor7fljZXlr7nlupTmtYHnqIvniYjmnKxcIilcclxuXHRcdFx0Zmxvd192ZXJfZW5kX3N0ZXAgPSBfLmZpbmQoaW5zdGFuY2VfZmxvd192ZXIuc3RlcHMsIChmX3N0ZXApLT5cclxuXHRcdFx0XHRyZXR1cm4gZl9zdGVwLnN0ZXBfdHlwZSBpcyBcImVuZFwiXHJcblx0XHRcdClcclxuXHRcdFx0IyDosIPnlKhnZXRGbG93UGVybWlzc2lvbnPmlrnms5XvvIznnIvov5Tlm57nmoTnu5PmnpzkuK3mmK/lkKbmnIlhZG1pblxyXG5cdFx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhmbG93X2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0IyBzcGFjZeeahGFkbWluLCDloavljZXkurog55Sz6K+35Lq6IOacieadg+mZkCDlj5bmtojnlLPor7dcclxuXHRcdFx0aWYgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSBvciBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSBvciBpbnN0YW5jZS5zdWJtaXR0ZXIgaXMgY3VycmVudF91c2VyIG9yIGluc3RhbmNlLmFwcGxpY2FudCBpcyBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRpZiBub3QgdGVybWluYXRlX3JlYXNvblxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJyxcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKVxyXG5cclxuXHRcdFx0XHRpbnN0YW5jZV90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0cmFjZSktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcclxuXHRcdFx0XHRpID0gMFxyXG5cdFx0XHRcdHdoaWxlIGkgPCB0cmFjZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRpZiB0cmFjZXNbaV0uaXNfZmluaXNoZWQgaXMgZmFsc2VcclxuXHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZeiusOW9lVxyXG5cdFx0XHRcdFx0XHR0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRoID0gMFxyXG5cdFx0XHRcdFx0XHR3aGlsZSBoIDwgdHJhY2VzW2ldLmFwcHJvdmVzLmxlbmd0aFxyXG5cdFx0XHRcdFx0XHRcdGlmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCBpcyBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5kZXNjcmlwdGlvbiA9IG51bGxcclxuXHRcdFx0XHRcdFx0XHRoKytcclxuXHRcdFx0XHRcdFx0IyDmj5LlhaXlvZPliY1UcmFjZSB0cmFjZS5hcHByb3Zl6K6w5b2V77ya5b2TdHJhY2UudHlwZeS4uuWPluWbnuOAgeW8uuWItue7k+adn+aXtu+8jGlzX3JlYWQ9dHJ1ZeS4lHJlYWRfZGF0ZeS4uuW9k+WJjeaXtumXtOOAglxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBpbnN0YW5jZV90cmFjZS5faWRcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gaW5zdGFuY2VfdHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5kZXNjcmlwdGlvbiA9IHRlcm1pbmF0ZV9yZWFzb25cclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRuZXdBcHByb3ZlLmNvc3RfdGltZSA9IG5ld0FwcHJvdmUuZmluaXNoX2RhdGUgLSBuZXdBcHByb3ZlLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcclxuXHRcdFx0XHRcdGkrK1xyXG5cclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0bmV3VHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0bmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWRcclxuXHRcdFx0XHRuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbaW5zdGFuY2VfdHJhY2UuX2lkXVxyXG5cdFx0XHRcdCMgdHlwZS0tLeWBnOeUqFxyXG5cdFx0XHRcdCMgbmV3VHJhY2UudHlwZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RlcCA9IGZsb3dfdmVyX2VuZF9zdGVwLl9pZFxyXG5cdFx0XHRcdG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdFx0c2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCJcclxuXHRcdFx0XHRvbGRfaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xyXG5cdFx0XHRcdG9sZF9jY191c2VycyA9IGluc3RhbmNlLmNjX3VzZXJzIHx8IFtdXHJcblx0XHRcdFx0b2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vyc1xyXG5cdFx0XHRcdHRlbXBVc2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdF8uZWFjaChpbnN0YW5jZV90cmFjZS5hcHByb3ZlcywgKG5mdF9hcHByb3ZlKS0+XHJcblx0XHRcdFx0XHR0ZW1wVXNlcnMucHVzaChuZnRfYXBwcm92ZS51c2VyKVxyXG5cdFx0XHRcdFx0dGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUuaGFuZGxlcilcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpXHJcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblx0XHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXHJcblx0XHRcdFx0c2V0T2JqLnRyYWNlcyA9IHRyYWNlc1xyXG5cclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXHJcblx0XHRcdFx0aWYgclxyXG5cdFx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHRcdCPpgJrnn6XloavljZXkurrjgIHnlLPor7fkurpcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdFx0XHQj5Y+R6YCB57uZ5b6F5aSE55CG5Lq6IOiiq+S8oOmYheS6ulxyXG5cdFx0XHRcdFx0aWYgb2xkX2luYm94X3VzZXJzXHJcblx0XHRcdFx0XHRcdF8uZWFjaChfLnVuaXEob2xkX2luYm94X3VzZXJzLmNvbmNhdChvbGRfY2NfdXNlcnMpKSwgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdXNlcl9pZClcclxuXHRcdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdCMg5aaC5p6c5bey57uP6YWN572ud2ViaG9va+W5tuW3sua/gOa0u+WImeinpuWPkVxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICd0ZXJtaW5hdGUnLCBjdXJyZW50X3VzZXIsIFtdKVxyXG5cclxuXHRcdCPlj5HpgIHmtojmga/nu5nlvZPliY3nlKjmiLdcclxuXHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvdGVybWluYXRlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBmbG93LCBmbG93X2lkLCBmbG93X3Zlcl9lbmRfc3RlcCwgZmxvd192ZXJzLCBoLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9mbG93X3ZlciwgaW5zdGFuY2VfaWQsIGluc3RhbmNlX3RyYWNlLCBuZXdBcHByb3ZlLCBuZXdUcmFjZSwgbm93LCBvbGRfY2NfdXNlcnMsIG9sZF9pbmJveF91c2Vycywgb2xkX291dGJveF91c2VycywgcGVybWlzc2lvbnMsIHIsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyLCBzcGFjZV91c2VyX29yZ19pbmZvLCB0ZW1wVXNlcnMsIHRlcm1pbmF0ZV9yZWFzb24sIHRyYWNlcztcbiAgICAgIHRlcm1pbmF0ZV9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRlcm1pbmF0ZV9yZWFzb25cIl07XG4gICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICBmbG93X2lkID0gaW5zdGFuY2UuZmxvdztcbiAgICAgIHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGZsb3dfaWQpO1xuICAgICAgdXVmbG93TWFuYWdlci5pc0luc3RhbmNlUGVuZGluZyhpbnN0YW5jZSk7XG4gICAgICBzcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZmxvd192ZXIgPSBudWxsO1xuICAgICAgZmxvd192ZXJfZW5kX3N0ZXAgPSBudWxsO1xuICAgICAgZmxvd192ZXJzID0gbmV3IEFycmF5O1xuICAgICAgZmxvd192ZXJzLnB1c2goZmxvdy5jdXJyZW50KTtcbiAgICAgIGZsb3dfdmVycyA9IGZsb3dfdmVycy5jb25jYXQoZmxvdy5oaXN0b3J5cyk7XG4gICAgICBpbnN0YW5jZV9mbG93X3ZlciA9IF8uZmluZChmbG93X3ZlcnMsIGZ1bmN0aW9uKGZfdmVyKSB7XG4gICAgICAgIHJldHVybiBmX3Zlci5faWQgPT09IGluc3RhbmNlLmZsb3dfdmVyc2lvbjtcbiAgICAgIH0pO1xuICAgICAgaWYgKCFpbnN0YW5jZV9mbG93X3Zlcikge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIuacquaJvuWIsOeUs+ivt+WNleWvueW6lOa1geeoi+eJiOacrFwiKTtcbiAgICAgIH1cbiAgICAgIGZsb3dfdmVyX2VuZF9zdGVwID0gXy5maW5kKGluc3RhbmNlX2Zsb3dfdmVyLnN0ZXBzLCBmdW5jdGlvbihmX3N0ZXApIHtcbiAgICAgICAgcmV0dXJuIGZfc3RlcC5zdGVwX3R5cGUgPT09IFwiZW5kXCI7XG4gICAgICB9KTtcbiAgICAgIHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBpZiAocGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSB8fCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSB8fCBpbnN0YW5jZS5zdWJtaXR0ZXIgPT09IGN1cnJlbnRfdXNlciB8fCBpbnN0YW5jZS5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICBpZiAoIXRlcm1pbmF0ZV9yZWFzb24pIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIui/mOacquWhq+WGmeW8uuWItue7k+adn+eUs+ivt+WNleeahOeQhueUse+8jOaTjeS9nOWksei0pVwiKTtcbiAgICAgICAgfVxuICAgICAgICBpbnN0YW5jZV90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHRyYWNlKSB7XG4gICAgICAgICAgcmV0dXJuIHRyYWNlLmlzX2ZpbmlzaGVkID09PSBmYWxzZTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgICAgaSA9IDA7XG4gICAgICAgIHdoaWxlIChpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICAgIGlmICh0cmFjZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgICB3aGlsZSAoaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgICAgICAgaWYgKHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19maW5pc2hlZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBudWxsO1xuICAgICAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5kZXNjcmlwdGlvbiA9IG51bGw7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgaCsrO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgbmV3QXBwcm92ZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnRyYWNlID0gaW5zdGFuY2VfdHJhY2UuX2lkO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBzcGFjZV91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZHVlX2RhdGUgPSBpbnN0YW5jZV90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19yZWFkID0gdHJ1ZTtcbiAgICAgICAgICAgIG5ld0FwcHJvdmUuZGVzY3JpcHRpb24gPSB0ZXJtaW5hdGVfcmVhc29uO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5jb3N0X3RpbWUgPSBuZXdBcHByb3ZlLmZpbmlzaF9kYXRlIC0gbmV3QXBwcm92ZS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGkrKztcbiAgICAgICAgfVxuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtpbnN0YW5jZV90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgIG5ld1RyYWNlLnN0ZXAgPSBmbG93X3Zlcl9lbmRfc3RlcC5faWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBmbG93X3Zlcl9lbmRfc3RlcC5uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3VHJhY2UuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJjb21wbGV0ZWRcIjtcbiAgICAgICAgc2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgICBvbGRfY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycyB8fCBbXTtcbiAgICAgICAgb2xkX291dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2VycztcbiAgICAgICAgdGVtcFVzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfLmVhY2goaW5zdGFuY2VfdHJhY2UuYXBwcm92ZXMsIGZ1bmN0aW9uKG5mdF9hcHByb3ZlKSB7XG4gICAgICAgICAgdGVtcFVzZXJzLnB1c2gobmZ0X2FwcHJvdmUudXNlcik7XG4gICAgICAgICAgcmV0dXJuIHRlbXBVc2Vycy5wdXNoKG5mdF9hcHByb3ZlLmhhbmRsZXIpO1xuICAgICAgICB9KTtcbiAgICAgICAgc2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KHRlbXBVc2VycykpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIHNldE9iai5jY191c2VycyA9IG5ldyBBcnJheTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9uYW1lID0gZmxvd192ZXJfZW5kX3N0ZXAubmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAocikge1xuICAgICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwic3VibWl0X3Rlcm1pbmF0ZV9hcHBsaWNhbnRcIiwgaW5zLCB0ZXJtaW5hdGVfcmVhc29uLCBjdXJyZW50X3VzZXJfaW5mbyk7XG4gICAgICAgICAgaWYgKG9sZF9pbmJveF91c2Vycykge1xuICAgICAgICAgICAgXy5lYWNoKF8udW5pcShvbGRfaW5ib3hfdXNlcnMuY29uY2F0KG9sZF9jY191c2VycykpLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJ0ZXJtaW5hdGVfYXBwcm92YWxcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAndGVybWluYXRlJywgY3VycmVudF91c2VyLCBbXSk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHQjIOmqjOivgWluc3RhbmNl5Li65a6h5qC45Lit54q25oCBXHJcblx0XHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXHJcblx0XHRcdCMg6aqM6K+B5b2T5YmN5omn6KGM6L2s562+5qC455qEdHJhY2XmnKrnu5PmnZ9cclxuXHRcdFx0bGFzdF90cmFjZV9mcm9tX2NsaWVudCA9IF8ubGFzdChpbnN0YW5jZV9mcm9tX2NsaWVudFtcInRyYWNlc1wiXSlcclxuXHRcdFx0bGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRcdHJldHVybiB0Ll9pZCBpcyBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdXHJcblx0XHRcdClcclxuXHRcdFx0aWYgbGFzdF90cmFjZS5pc19maW5pc2hlZCBpcyB0cnVlXHJcblx0XHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0XHQjIOmqjOivgWxvZ2luIHVzZXJfaWTlr7nor6XmtYHnqIvmnInnrqHnkIbnlLPor7fljZXnmoTmnYPpmZBcclxuXHRcdFx0cGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKVxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBzcGFjZV9pZCB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0XHRpZiAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpIGFuZCAobm90IHNwYWNlLmFkbWlucy5pbmNsdWRlcyhjdXJyZW50X3VzZXIpKVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi55So5oi35rKh5pyJ5a+55b2T5YmN5rWB56iL55qE566h55CG5p2D6ZmQXCIpXHJcblxyXG5cdFx0XHRpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdGluYm94X3VzZXJzX2Zyb21fY2xpZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJpbmJveF91c2Vyc1wiXVxyXG5cdFx0XHRyZWFzc2lnbl9yZWFzb24gPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlYXNzaWduX3JlYXNvblwiXVxyXG5cdFx0XHRub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KVxyXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGluYm94X3VzZXJzKVxyXG5cdFx0XHQjIOiLpWFzc2lnbmVlPeWOn2luYm94X3VzZXJz77yM6K+05piO5LiN6ZyA6KaB5omn6KGM6L2s562+5qC477yM57O757uf5LuA5LmI6YO95LiN5YGaXHJcblx0XHRcdHJldHVybiBpZiBub3RfaW5faW5ib3hfdXNlcnMubGVuZ3RoIGlzIDAgYW5kIG5ld19pbmJveF91c2Vycy5sZW5ndGggaXMgMFxyXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdGkgPSAwXHJcblx0XHRcdGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXVxyXG5cdFx0XHR3aGlsZSBpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGhcclxuXHRcdFx0XHRpZiBub3RfaW5faW5ib3hfdXNlcnMuaW5jbHVkZXMobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKVxyXG5cdFx0XHRcdFx0aWYgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5pc19maW5pc2hlZCBpcyBmYWxzZSBhbmQgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS50eXBlIGlzbnQgXCJjY1wiIGFuZCBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIlxyXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmRlc2NyaXB0aW9uID0gXCJcIlxyXG5cdFx0XHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmNvc3RfdGltZSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZmluaXNoX2RhdGUgLSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcilcclxuXHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaGFuZGxlcilcclxuXHRcdFx0XHRpKytcclxuXHRcdFx0IyDlnKjlkIzkuIB0cmFjZeS4i+aPkuWFpei9rOetvuaguOaTjeS9nOiAheeahGFwcHJvdmXorrDlvZVcclxuXHRcdFx0Y3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZSh7IF9pZDogY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCBmdWxsbmFtZTogMSB9IH0pXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIgPSBuZXcgT2JqZWN0XHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmluc3RhbmNlID0gbGFzdF90cmFjZS5pbnN0YW5jZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnRyYWNlID0gbGFzdF90cmFjZS5faWRcclxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0YXNzaWduZWVfYXBwci51c2VyID0gY3VycmVudF91c2VyXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIudXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0YXNzaWduZWVfYXBwci5oYW5kbGVyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnN0YXJ0X2RhdGUgPSBub3dcclxuXHRcdFx0YXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCJcclxuXHRcdFx0YXNzaWduZWVfYXBwci5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLmRlc2NyaXB0aW9uID0gcmVhc3NpZ25fcmVhc29uXHJcblx0XHRcdGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRhc3NpZ25lZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0YXNzaWduZWVfYXBwci5jb3N0X3RpbWUgPSBhc3NpZ25lZV9hcHByLmZpbmlzaF9kYXRlIC0gYXNzaWduZWVfYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKVxyXG5cdFx0XHQjIOWvueaWsOWinueahOavj+S9jeW+heWuoeaguOS6uu+8jOWQhOWinuWKoOS4gOadoeaWsOeahGFwcHJvdmVcclxuXHRcdFx0Xy5lYWNoKG5ld19pbmJveF91c2VycywgKHVzZXJfaWQpIC0+XHJcblx0XHRcdFx0bmV3X3VzZXIgPSBkYi51c2Vycy5maW5kT25lKHVzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgdXNlcl9pZClcclxuXHRcdFx0XHR1c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShzcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdG5ld19hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld19hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdfYXBwci5pbnN0YW5jZSA9IGxhc3RfdHJhY2UuaW5zdGFuY2VcclxuXHRcdFx0XHRuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdFx0bmV3X2FwcHIuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld19hcHByLnVzZXIgPSB1c2VyX2lkXHJcblx0XHRcdFx0bmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZVxyXG5cclxuXHRcdFx0XHRoYW5kbGVyX2lkID0gdXNlcl9pZFxyXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IG5ld191c2VyXHJcblx0XHRcdFx0YWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCB1c2VyX2lkKVxyXG5cdFx0XHRcdGlmIGFnZW50XHJcblx0XHRcdFx0XHRpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50XHJcblx0XHRcdFx0XHRoYW5kbGVyX2lkID0gYWdlbnRcclxuXHRcdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoeyBfaWQ6IGFnZW50IH0sIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0bmV3X2FwcHIuYWdlbnQgPSBhZ2VudFxyXG5cclxuXHRcdFx0XHRuZXdfYXBwci5oYW5kbGVyID0gaGFuZGxlcl9pZFxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBzcGFjZV91c2VyLm9yZ2FuaXphdGlvblxyXG5cdFx0XHRcdG5ld19hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdFx0bmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZVxyXG5cdFx0XHRcdG5ld19hcHByLmZyb21fdXNlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdG5ld19hcHByLmZyb21fdXNlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCJcclxuXHRcdFx0XHRuZXdfYXBwci5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3X2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdFx0bmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdFx0bmV3X2FwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld19hcHByLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHR1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcilcclxuXHRcdFx0XHRsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpXHJcblx0XHRcdClcclxuXHJcblx0XHRcdGluc3RhbmNlLm91dGJveF91c2Vycy5wdXNoKGN1cnJlbnRfdXNlcilcclxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKVxyXG5cdFx0XHRzZXRPYmoub3V0Ym94X3VzZXJzID0gXy51bmlxKGluc3RhbmNlLm91dGJveF91c2VycylcclxuXHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gaW5ib3hfdXNlcnNfZnJvbV9jbGllbnRcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbm93XHJcblx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRzZXRPYmpbXCJ0cmFjZXMuJC5hcHByb3Zlc1wiXSA9IGxhc3RfdHJhY2UuYXBwcm92ZXNcclxuXHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoeyBfaWQ6IGluc3RhbmNlX2lkLCBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWQgfSwgeyAkc2V0OiBzZXRPYmogfSlcclxuXHRcdFx0aWYgclxyXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0IyDnu5nooqvliKDpmaTnmoRpbmJveF91c2VycyDlkowg5b2T5YmN55So5oi3IOWPkemAgXB1c2hcclxuXHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHRcdF8uZWFjaChub3RfaW5faW5ib3hfdXNlcnMsICh1c2VyX2lkKSAtPlxyXG5cdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZClcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0IyDmj5Dlj5ZpbnN0YW5jZXMub3V0Ym94X3VzZXJz5pWw57uE5ZKM5aGr5Y2V5Lq644CB55Sz6K+35Lq6XHJcblx0XHRcdFx0X3VzZXJzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLmFwcGxpY2FudClcclxuXHRcdFx0XHRfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKVxyXG5cdFx0XHRcdF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKVxyXG5cdFx0XHRcdF8uZWFjaChfdXNlcnMsICh1c2VyX2lkKSAtPlxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWFzc2lnbl9yZWFzb24sIGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cclxuXHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRwdXNoTWFuYWdlci50cmlnZ2VyV2ViaG9vayhpbnMuZmxvdywgaW5zLCB7fSwgJ3JlYXNzaWduJywgY3VycmVudF91c2VyLCBpbnMuaW5ib3hfdXNlcnMpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge31cclxuXHRcdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbeyBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZSB9XSB9XHJcblx0XHR9XHJcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVhc3NpZ24nLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaGFzaERhdGE7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcbiAgICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICBfLmVhY2goaGFzaERhdGFbJ0luc3RhbmNlcyddLCBmdW5jdGlvbihpbnN0YW5jZV9mcm9tX2NsaWVudCkge1xuICAgICAgdmFyIF91c2VycywgYXBwcm92ZV91c2Vyc19oYW5kbGVycywgYXNzaWduZWVfYXBwciwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBpLCBpbmJveF91c2VycywgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQsIGlucywgaW5zdGFuY2UsIGluc3RhbmNlX2lkLCBsYXN0X3RyYWNlLCBsYXN0X3RyYWNlX2Zyb21fY2xpZW50LCBuZXdfaW5ib3hfdXNlcnMsIG5vdF9pbl9pbmJveF91c2Vycywgbm93LCBwZXJtaXNzaW9ucywgciwgcmVhc3NpZ25fcmVhc29uLCBzZXRPYmosIHNwYWNlLCBzcGFjZV9pZDtcbiAgICAgIGluc3RhbmNlX2lkID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ19pZCddO1xuICAgICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgIHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2U7XG4gICAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VQZW5kaW5nKGluc3RhbmNlKTtcbiAgICAgIGxhc3RfdHJhY2VfZnJvbV9jbGllbnQgPSBfLmxhc3QoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8uZmluZChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgcmV0dXJuIHQuX2lkID09PSBsYXN0X3RyYWNlX2Zyb21fY2xpZW50W1wiX2lkXCJdO1xuICAgICAgfSk7XG4gICAgICBpZiAobGFzdF90cmFjZS5pc19maW5pc2hlZCA9PT0gdHJ1ZSkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogc3BhY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBpbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzO1xuICAgICAgaW5ib3hfdXNlcnNfZnJvbV9jbGllbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdO1xuICAgICAgcmVhc3NpZ25fcmVhc29uID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWFzc2lnbl9yZWFzb25cIl07XG4gICAgICBub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzX2Zyb21fY2xpZW50KTtcbiAgICAgIG5ld19pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2Vyc19mcm9tX2NsaWVudCwgaW5ib3hfdXNlcnMpO1xuICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5sZW5ndGggPT09IDAgJiYgbmV3X2luYm94X3VzZXJzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpID0gMDtcbiAgICAgIGFwcHJvdmVfdXNlcnNfaGFuZGxlcnMgPSBbXTtcbiAgICAgIHdoaWxlIChpIDwgbGFzdF90cmFjZS5hcHByb3Zlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKG5vdF9pbl9pbmJveF91c2Vycy5pbmNsdWRlcyhsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmhhbmRsZXIpKSB7XG4gICAgICAgICAgaWYgKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJjY1wiICYmIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udHlwZSAhPT0gXCJkaXN0cmlidXRlXCIpIHtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0uZGVzY3JpcHRpb24gPSBcIlwiO1xuICAgICAgICAgICAgbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5jb3N0X3RpbWUgPSBsYXN0X3RyYWNlLmFwcHJvdmVzW2ldLmZpbmlzaF9kYXRlIC0gbGFzdF90cmFjZS5hcHByb3Zlc1tpXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgYXBwcm92ZV91c2Vyc19oYW5kbGVycy5wdXNoKGxhc3RfdHJhY2UuYXBwcm92ZXNbaV0udXNlcik7XG4gICAgICAgICAgICBhcHByb3ZlX3VzZXJzX2hhbmRsZXJzLnB1c2gobGFzdF90cmFjZS5hcHByb3Zlc1tpXS5oYW5kbGVyKTtcbiAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBhc3NpZ25lZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgYXNzaWduZWVfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgYXNzaWduZWVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICBhc3NpZ25lZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgYXNzaWduZWVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgIGFzc2lnbmVlX2FwcHIuZHVlX2RhdGUgPSBsYXN0X3RyYWNlLmR1ZV9kYXRlO1xuICAgICAgYXNzaWduZWVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICBhc3NpZ25lZV9hcHByLmp1ZGdlID0gXCJyZWFzc2lnbmVkXCI7XG4gICAgICBhc3NpZ25lZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgYXNzaWduZWVfYXBwci5kZXNjcmlwdGlvbiA9IHJlYXNzaWduX3JlYXNvbjtcbiAgICAgIGFzc2lnbmVlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgIGFzc2lnbmVlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgIGFzc2lnbmVlX2FwcHIuY29zdF90aW1lID0gYXNzaWduZWVfYXBwci5maW5pc2hfZGF0ZSAtIGFzc2lnbmVlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgIGxhc3RfdHJhY2UuYXBwcm92ZXMucHVzaChhc3NpZ25lZV9hcHByKTtcbiAgICAgIF8uZWFjaChuZXdfaW5ib3hfdXNlcnMsIGZ1bmN0aW9uKHVzZXJfaWQpIHtcbiAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld19hcHByLCBuZXdfdXNlciwgc3BhY2VfdXNlciwgdXNlcl9vcmdhbml6YXRpb247XG4gICAgICAgIG5ld191c2VyID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkLCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCB1c2VyX2lkKTtcbiAgICAgICAgdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld19hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3X2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3X2FwcHIuaW5zdGFuY2UgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgICBuZXdfYXBwci50cmFjZSA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgICBuZXdfYXBwci5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci51c2VyID0gdXNlcl9pZDtcbiAgICAgICAgbmV3X2FwcHIudXNlcl9uYW1lID0gbmV3X3VzZXIubmFtZTtcbiAgICAgICAgaGFuZGxlcl9pZCA9IHVzZXJfaWQ7XG4gICAgICAgIGhhbmRsZXJfaW5mbyA9IG5ld191c2VyO1xuICAgICAgICBhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIHVzZXJfaWQpO1xuICAgICAgICBpZiAoYWdlbnQpIHtcbiAgICAgICAgICBpbmJveF91c2Vyc19mcm9tX2NsaWVudFtpbmJveF91c2Vyc19mcm9tX2NsaWVudC5pbmRleE9mKHVzZXJfaWQpXSA9IGFnZW50O1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBhZ2VudDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgIF9pZDogYWdlbnRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICAgIG5ld19hcHByLmFnZW50ID0gYWdlbnQ7XG4gICAgICAgIH1cbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlciA9IGhhbmRsZXJfaWQ7XG4gICAgICAgIG5ld19hcHByLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xuICAgICAgICBuZXdfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgbmV3X2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSB1c2VyX29yZ2FuaXphdGlvbi5mdWxsbmFtZTtcbiAgICAgICAgbmV3X2FwcHIuZnJvbV91c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBuZXdfYXBwci5mcm9tX3VzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld19hcHByLnR5cGUgPSBcInJlYXNzaWduXCI7XG4gICAgICAgIG5ld19hcHByLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld19hcHByLmR1ZV9kYXRlID0gbGFzdF90cmFjZS5kdWVfZGF0ZTtcbiAgICAgICAgbmV3X2FwcHIuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdfYXBwci52YWx1ZXMgPSBuZXcgT2JqZWN0O1xuICAgICAgICB1dWZsb3dNYW5hZ2VyLnNldFJlbWluZEluZm8oaW5zdGFuY2UudmFsdWVzLCBuZXdfYXBwcik7XG4gICAgICAgIHJldHVybiBsYXN0X3RyYWNlLmFwcHJvdmVzLnB1c2gobmV3X2FwcHIpO1xuICAgICAgfSk7XG4gICAgICBpbnN0YW5jZS5vdXRib3hfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzID0gaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmNvbmNhdChhcHByb3ZlX3VzZXJzX2hhbmRsZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5pbmJveF91c2VycyA9IGluYm94X3VzZXJzX2Zyb21fY2xpZW50O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgc2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyO1xuICAgICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBsYXN0X3RyYWNlLmFwcHJvdmVzO1xuICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICBfaWQ6IGluc3RhbmNlX2lkLFxuICAgICAgICBcInRyYWNlcy5faWRcIjogbGFzdF90cmFjZS5faWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICAgIGlmIChyKSB7XG4gICAgICAgIGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgXy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIGlmICh1c2VyX2lkICE9PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgX3VzZXJzID0gbmV3IEFycmF5O1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuYXBwbGljYW50KTtcbiAgICAgICAgX3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcik7XG4gICAgICAgIF91c2VycyA9IF8udW5pcShfdXNlcnMuY29uY2F0KGlucy5vdXRib3hfdXNlcnMpKTtcbiAgICAgICAgXy5lYWNoKF91c2VycywgZnVuY3Rpb24odXNlcl9pZCkge1xuICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgIH0pO1xuICAgICAgICBwdXNoTWFuYWdlci5zZW5kX2luc3RhbmNlX25vdGlmaWNhdGlvbihcInJlYXNzaWduX25ld19pbmJveF91c2Vyc1wiLCBpbnMsIHJlYXNzaWduX3JlYXNvbiwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWFzc2lnbicsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvcmVsb2NhdGUnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpXHJcblx0XHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblx0XHRfLmVhY2ggaGFzaERhdGFbJ0luc3RhbmNlcyddLCAoaW5zdGFuY2VfZnJvbV9jbGllbnQpIC0+XHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXSlcclxuXHJcblx0XHRcdGxhc3RfdHJhY2UgPSBfLmxhc3QoaW5zdGFuY2UudHJhY2VzKVxyXG5cclxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXHJcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGluc3RhbmNlLmZsb3csIGN1cnJlbnRfdXNlcilcclxuXHRcdFx0c3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShpbnN0YW5jZS5zcGFjZSwgeyBmaWVsZHM6IHsgYWRtaW5zOiAxIH0gfSlcclxuXHRcdFx0aWYgKG5vdCBwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkbWluXCIpKSBhbmQgKG5vdCBzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSlcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvciEnLCBcIueUqOaIt+ayoeacieWvueW9k+WJjea1geeoi+eahOeuoeeQhuadg+mZkFwiKVxyXG5cclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHRpbnN0YW5jZV9pZCA9IGxhc3RfdHJhY2UuaW5zdGFuY2VcclxuXHRcdFx0aW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2Vyc1xyXG5cdFx0XHRyZWxvY2F0ZV9pbmJveF91c2VycyA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfaW5ib3hfdXNlcnNcIl1cclxuXHRcdFx0cmVsb2NhdGVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50W1wicmVsb2NhdGVfY29tbWVudFwiXVxyXG5cdFx0XHRyZWxvY2F0ZV9uZXh0X3N0ZXAgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX25leHRfc3RlcFwiXVxyXG5cdFx0XHRub3RfaW5faW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UoaW5ib3hfdXNlcnMsIHJlbG9jYXRlX2luYm94X3VzZXJzKVxyXG5cdFx0XHRuZXdfaW5ib3hfdXNlcnMgPSBfLmRpZmZlcmVuY2UocmVsb2NhdGVfaW5ib3hfdXNlcnMsIGluYm94X3VzZXJzKVxyXG5cclxuXHRcdFx0YXBwcm92ZV91c2VycyA9IFtdXHJcblxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmZsb3dcclxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cdFx0XHRuZXh0X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHJlbG9jYXRlX25leHRfc3RlcClcclxuXHRcdFx0bmV4dF9zdGVwX3R5cGUgPSBuZXh0X3N0ZXAuc3RlcF90eXBlXHJcblx0XHRcdG5leHRfc3RlcF9uYW1lID0gbmV4dF9zdGVwLm5hbWVcclxuXHRcdFx0Y3VycmVudF9zZXRwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBsYXN0X3RyYWNlLnN0ZXApXHJcblx0XHRcdGN1cnJlbnRfc2V0cF90eXBlID0gY3VycmVudF9zZXRwLnN0ZXBfdHlwZVxyXG5cclxuXHRcdFx0dHJhY2VzID0gaW5zdGFuY2UudHJhY2VzXHJcblx0XHRcdHNldE9iaiA9IG5ldyBPYmplY3RcclxuXHRcdFx0IyDph43lrprkvY3nmoTml7blgJnkvb/nlKhhcHByb3ZlLnZhbHVlc+WQiOW5tiBpbnN0YW5jZS52YWx1ZXPnlJ/miJDmlrDnmoRpbnN0YW5jZS52YWx1ZXMgIzEzMjhcclxuXHRcdFx0c2V0T2JqLnZhbHVlcyA9IHV1Zmxvd01hbmFnZXIuZ2V0VXBkYXRlZFZhbHVlcyhpbnN0YW5jZSlcclxuXHRcdFx0bm93ID0gbmV3IERhdGVcclxuXHRcdFx0aSA9IDBcclxuXHRcdFx0d2hpbGUgaSA8IHRyYWNlcy5sZW5ndGhcclxuXHRcdFx0XHRpZiB0cmFjZXNbaV0uX2lkIGlzIGxhc3RfdHJhY2UuX2lkXHJcblx0XHRcdFx0XHRpZiBub3QgdHJhY2VzW2ldLmFwcHJvdmVzXHJcblx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3ZlcyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdFx0IyDmm7TmlrDlvZPliY10cmFjZS5hcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRoID0gMFxyXG5cdFx0XHRcdFx0d2hpbGUgaCA8IHRyYWNlc1tpXS5hcHByb3Zlcy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkIGlzIGZhbHNlIGFuZCB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSBpc250IFwiY2NcIiBhbmQgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnR5cGUgaXNudCBcImRpc3RyaWJ1dGVcIlxyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLnJlYWRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdHRyYWNlc1tpXS5hcHByb3Zlc1toXS5qdWRnZSA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzW2hdLmNvc3RfdGltZSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSAtIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdFx0YXBwcm92ZV91c2Vycy5wdXNoKHRyYWNlc1tpXS5hcHByb3Zlc1toXS51c2VyKVxyXG5cclxuXHRcdFx0XHRcdFx0XHQjIGJlZ2luIOiiq+mHjeWumuS9jee7mUHvvIzlho3ooqvph43lrprkvY3otbDvvIzkuYvliY1B55qE5oSP6KeB5Zyo5oSP6KeB5qCP5Lit5pi+56S65LiN5Ye65p2l5LqG44CCICMxOTIxXHJcblx0XHRcdFx0XHRcdFx0aWYgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9PSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHR0YSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXVxyXG5cdFx0XHRcdFx0XHRcdFx0c2FtZVRyYWNlcyA9IF8uZmlsdGVyIHRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuIHQuc3RlcCA9PSB0cmFjZXNbaV0uc3RlcFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGwgPSBzYW1lVHJhY2VzLmxlbmd0aCAtIDFcclxuXHRcdFx0XHRcdFx0XHRcdHNpZ25TaG93QXBwcm92ZUlkID0gbnVsbFxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdHdoaWxlIGwgPiAtMVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRfLmVhY2ggc2FtZVRyYWNlc1tsXS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBhLnVzZXIgPT0gdGEudXNlciAmJiBhLmp1ZGdlICE9IFwidGVybWluYXRlZFwiICYmIGEuZGVzY3JpcHRpb24gJiYgIXNpZ25TaG93QXBwcm92ZUlkXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRzaWduU2hvd0FwcHJvdmVJZCA9IGEuX2lkXHJcblx0XHRcdFx0XHRcdFx0XHRcdGwtLVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIHNpZ25TaG93QXBwcm92ZUlkXHJcblx0XHRcdFx0XHRcdFx0XHRcdHRpID0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSB0aSA8IHRyYWNlcy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRhaCA9IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR3aGlsZSBhaCA8IHRyYWNlc1t0aV0uYXBwcm92ZXMubGVuZ3RoXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiB0cmFjZXNbdGldLmFwcHJvdmVzW2FoXS5faWQgPT0gc2lnblNob3dBcHByb3ZlSWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0dHJhY2VzW3RpXS5hcHByb3Zlc1thaF0uc2lnbl9zaG93ID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0XHR0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID0gZmFsc2VcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdGFoKytcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR0aSsrXHJcblx0XHRcdFx0XHRcdFx0IyBlbmQg6KKr6YeN5a6a5L2N57uZQe+8jOWGjeiiq+mHjeWumuS9jei1sO+8jOS5i+WJjUHnmoTmhI/op4HlnKjmhI/op4HmoI/kuK3mmL7npLrkuI3lh7rmnaXkuobjgIIgIzE5MjFcclxuXHJcblx0XHRcdFx0XHRcdGgrK1xyXG5cclxuXHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXph43lrprkvY3mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRjdXJyZW50X3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdFx0Y3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7IGZpZWxkczogeyBuYW1lOiAxICwgZnVsbG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwciA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnRyYWNlID0gdHJhY2VzW2ldLl9pZFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWVcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5kdWVfZGF0ZSA9IHRyYWNlc1tpXS5kdWVfZGF0ZVxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuanVkZ2UgPSBcInJlbG9jYXRlZFwiXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmlzX3JlYWQgPSB0cnVlXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLmRlc2NyaXB0aW9uID0gcmVsb2NhdGVfY29tbWVudFxyXG5cdFx0XHRcdFx0cmVsb2NhdGVfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRyZWxvY2F0ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdHJlbG9jYXRlX2FwcHIuY29zdF90aW1lID0gcmVsb2NhdGVfYXBwci5maW5pc2hfZGF0ZSAtIHJlbG9jYXRlX2FwcHIuc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0dHJhY2VzW2ldLmFwcHJvdmVzLnB1c2gocmVsb2NhdGVfYXBwcilcclxuXHJcblx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0XHR0cmFjZXNbaV0uaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHR0cmFjZXNbaV0uZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdHRyYWNlc1tpXS5qdWRnZSA9IFwicmVsb2NhdGVkXCJcclxuXHJcblx0XHRcdFx0aSsrXHJcblxyXG5cdFx0XHRpZiBuZXh0X3N0ZXBfdHlwZSBpcyBcImVuZFwiXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxyXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSByZWxvY2F0ZV9uZXh0X3N0ZXBcclxuXHRcdFx0XHRuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRuZXdUcmFjZS5hcHByb3ZlcyA9IFtdXHJcblx0XHRcdFx0IyDmm7TmlrBpbnN0YW5jZeiusOW9lVxyXG5cdFx0XHRcdHNldE9iai5zdGF0ZSA9IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRzZXRPYmouaW5ib3hfdXNlcnMgPSBbXVxyXG5cdFx0XHRcdHNldE9iai5maW5hbF9kZWNpc2lvbiA9IFwidGVybWluYXRlZFwiXHJcblx0XHRcdFx0c2V0T2JqLmZpbmlzaF9kYXRlID0gbmV3IERhdGVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfYXV0b19zdWJtaXQgPSBmYWxzZVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXVxyXG5cdFx0XHRcdG5ld1RyYWNlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IG5leHRfc3RlcF9uYW1lXHJcblx0XHRcdFx0bmV3VHJhY2Uuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKG5leHRfc3RlcC50aW1lb3V0X2hvdXJzKVxyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdFx0XHRfLmVhY2gocmVsb2NhdGVfaW5ib3hfdXNlcnMsIChuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KS0+XHJcblx0XHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZFxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5pc19maW5pc2hlZCA9IGZhbHNlXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBuZXh0X3N0ZXBfdXNlcl9pZFxyXG5cclxuXHRcdFx0XHRcdHVzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUobmV4dF9zdGVwX3VzZXJfaWQsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS51c2VyX25hbWUgPSB1c2VyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZFxyXG5cdFx0XHRcdFx0aGFuZGxlcl9pbmZvID0gdXNlcl9pbmZvXHJcblx0XHRcdFx0XHRhZ2VudCA9IHV1Zmxvd01hbmFnZXIuZ2V0QWdlbnQoc3BhY2VfaWQsIG5leHRfc3RlcF91c2VyX2lkKVxyXG5cdFx0XHRcdFx0aWYgYWdlbnRcclxuXHRcdFx0XHRcdFx0cmVsb2NhdGVfaW5ib3hfdXNlcnNbaWR4XSA9IGFnZW50XHJcblx0XHRcdFx0XHRcdGhhbmRsZXJfaWQgPSBhZ2VudFxyXG5cdFx0XHRcdFx0XHRoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhZ2VudCB9LCB7IGZpZWxkczogeyBuYW1lOiAxIH0gfSlcclxuXHRcdFx0XHRcdFx0bmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50XHJcblxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyID0gaGFuZGxlcl9pZFxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZVxyXG5cclxuXHRcdFx0XHRcdG5leHRfc3RlcF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGhhbmRsZXJfaWQpXHJcblx0XHRcdFx0XHQjIOiOt+WPlm5leHRfc3RlcF91c2Vy5omA5Zyo55qE6YOo6Zeo5L+h5oGvXHJcblx0XHRcdFx0XHRuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhuZXh0X3N0ZXBfc3BhY2VfdXNlcilcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gbmV4dF9zdGVwX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IG5leHRfc3RlcF91c2VyX29yZ19pbmZvW1wib3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdXHJcblxyXG5cdFx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmR1ZV9kYXRlID0gbmV3VHJhY2UuZHVlX2RhdGVcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlXHJcblx0XHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRcdG5ld0FwcHJvdmUudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcclxuXHRcdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSlcclxuXHRcdFx0XHQpXHJcblx0XHRcdFx0c2V0T2JqLmluYm94X3VzZXJzID0gcmVsb2NhdGVfaW5ib3hfdXNlcnNcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lXHJcblx0XHRcdFx0c2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IHV1Zmxvd01hbmFnZXIuZ2V0Q3VycmVudFN0ZXBBdXRvU3VibWl0KGZsb3cudGltZW91dF9hdXRvX3N1Ym1pdCwgbmV4dF9zdGVwLmxpbmVzKVxyXG5cclxuXHRcdFx0aW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cdFx0XHRpbnN0YW5jZS5vdXRib3hfdXNlcnMgPSBpbnN0YW5jZS5vdXRib3hfdXNlcnMuY29uY2F0KGluYm94X3VzZXJzKS5jb25jYXQoYXBwcm92ZV91c2VycylcclxuXHRcdFx0c2V0T2JqLm91dGJveF91c2VycyA9IF8udW5pcShpbnN0YW5jZS5vdXRib3hfdXNlcnMpXHJcblx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0c2V0T2JqLmlzX2FyY2hpdmVkID0gZmFsc2VcclxuXHRcdFx0dHJhY2VzLnB1c2gobmV3VHJhY2UpXHJcblx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcclxuXHJcblx0XHRcdGlmIHNldE9iai5zdGF0ZSA9PSAnY29tcGxldGVkJ1xyXG5cdFx0XHRcdHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmosICR1bnNldDoge2ZpbmlzaF9kYXRlOiAxfX0pXHJcblxyXG5cdFx0XHRpZiByXHJcblx0XHRcdFx0aW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0XHQjIOe7meiiq+WIoOmZpOeahGluYm94X3VzZXJzIOWSjCDlvZPliY3nlKjmiLcg5Y+R6YCBcHVzaFxyXG5cdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblx0XHRcdFx0Xy5lYWNoKG5vdF9pbl9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRcdGlmIHVzZXJfaWQgaXNudCBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0KVxyXG5cdFx0XHRcdCMg5o+Q5Y+WaW5zdGFuY2VzLm91dGJveF91c2Vyc+aVsOe7hOWSjOWhq+WNleS6uuOAgeeUs+ivt+S6ulxyXG5cdFx0XHRcdF91c2VycyA9IG5ldyBBcnJheVxyXG5cdFx0XHRcdF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpXHJcblx0XHRcdFx0X3VzZXJzLnB1c2goaW5zLnN1Ym1pdHRlcilcclxuXHRcdFx0XHRfdXNlcnMgPSBfLnVuaXEoX3VzZXJzLmNvbmNhdChpbnMub3V0Ym94X3VzZXJzKSlcclxuXHRcdFx0XHRfLmVhY2goX3VzZXJzLCAodXNlcl9pZCktPlxyXG5cdFx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9tZXNzYWdlX3RvX3NwZWNpZnlVc2VyKFwiY3VycmVudF91c2VyXCIsIHVzZXJfaWQpXHJcblx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHQjIOe7meaWsOWKoOWFpeeahGluYm94X3VzZXJz5Y+R6YCBcHVzaCBtZXNzYWdlXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIuc2VuZF9pbnN0YW5jZV9ub3RpZmljYXRpb24oXCJyZWFzc2lnbl9uZXdfaW5ib3hfdXNlcnNcIiwgaW5zLCByZWxvY2F0ZV9jb21tZW50LCBjdXJyZW50X3VzZXJfaW5mbylcclxuXHJcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHtlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZWxvY2F0ZScsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBoYXNoRGF0YTtcbiAgdHJ5IHtcbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIF8uZWFjaChoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIGZ1bmN0aW9uKGluc3RhbmNlX2Zyb21fY2xpZW50KSB7XG4gICAgICB2YXIgX3VzZXJzLCBhaCwgYXBwcm92ZV91c2VycywgY3VycmVudF9zZXRwLCBjdXJyZW50X3NldHBfdHlwZSwgY3VycmVudF9zcGFjZV91c2VyLCBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLCBmbG93LCBoLCBpLCBpbmJveF91c2VycywgaW5zLCBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIGwsIGxhc3RfdHJhY2UsIG5ld1RyYWNlLCBuZXdfaW5ib3hfdXNlcnMsIG5leHRfc3RlcCwgbmV4dF9zdGVwX25hbWUsIG5leHRfc3RlcF90eXBlLCBub3RfaW5faW5ib3hfdXNlcnMsIG5vdywgcGVybWlzc2lvbnMsIHIsIHJlbG9jYXRlX2FwcHIsIHJlbG9jYXRlX2NvbW1lbnQsIHJlbG9jYXRlX2luYm94X3VzZXJzLCByZWxvY2F0ZV9uZXh0X3N0ZXAsIHNhbWVUcmFjZXMsIHNldE9iaiwgc2lnblNob3dBcHByb3ZlSWQsIHNwYWNlLCBzcGFjZV9pZCwgdGEsIHRpLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdChpbnN0YW5jZS50cmFjZXMpO1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoaW5zdGFuY2Uuc3BhY2UsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgYWRtaW5zOiAxXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaWYgKCghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgJiYgKCFzcGFjZS5hZG1pbnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3IhJywgXCLnlKjmiLfmsqHmnInlr7nlvZPliY3mtYHnqIvnmoTnrqHnkIbmnYPpmZBcIik7XG4gICAgICB9XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgaW5zdGFuY2VfaWQgPSBsYXN0X3RyYWNlLmluc3RhbmNlO1xuICAgICAgaW5ib3hfdXNlcnMgPSBpbnN0YW5jZS5pbmJveF91c2VycztcbiAgICAgIHJlbG9jYXRlX2luYm94X3VzZXJzID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJyZWxvY2F0ZV9pbmJveF91c2Vyc1wiXTtcbiAgICAgIHJlbG9jYXRlX2NvbW1lbnQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX2NvbW1lbnRcIl07XG4gICAgICByZWxvY2F0ZV9uZXh0X3N0ZXAgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcInJlbG9jYXRlX25leHRfc3RlcFwiXTtcbiAgICAgIG5vdF9pbl9pbmJveF91c2VycyA9IF8uZGlmZmVyZW5jZShpbmJveF91c2VycywgcmVsb2NhdGVfaW5ib3hfdXNlcnMpO1xuICAgICAgbmV3X2luYm94X3VzZXJzID0gXy5kaWZmZXJlbmNlKHJlbG9jYXRlX2luYm94X3VzZXJzLCBpbmJveF91c2Vycyk7XG4gICAgICBhcHByb3ZlX3VzZXJzID0gW107XG4gICAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgICAgbmV4dF9zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCByZWxvY2F0ZV9uZXh0X3N0ZXApO1xuICAgICAgbmV4dF9zdGVwX3R5cGUgPSBuZXh0X3N0ZXAuc3RlcF90eXBlO1xuICAgICAgbmV4dF9zdGVwX25hbWUgPSBuZXh0X3N0ZXAubmFtZTtcbiAgICAgIGN1cnJlbnRfc2V0cCA9IHV1Zmxvd01hbmFnZXIuZ2V0U3RlcChpbnN0YW5jZSwgZmxvdywgbGFzdF90cmFjZS5zdGVwKTtcbiAgICAgIGN1cnJlbnRfc2V0cF90eXBlID0gY3VycmVudF9zZXRwLnN0ZXBfdHlwZTtcbiAgICAgIHRyYWNlcyA9IGluc3RhbmNlLnRyYWNlcztcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmoudmFsdWVzID0gdXVmbG93TWFuYWdlci5nZXRVcGRhdGVkVmFsdWVzKGluc3RhbmNlKTtcbiAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgaSA9IDA7XG4gICAgICB3aGlsZSAoaSA8IHRyYWNlcy5sZW5ndGgpIHtcbiAgICAgICAgaWYgKHRyYWNlc1tpXS5faWQgPT09IGxhc3RfdHJhY2UuX2lkKSB7XG4gICAgICAgICAgaWYgKCF0cmFjZXNbaV0uYXBwcm92ZXMpIHtcbiAgICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3ZlcyA9IG5ldyBBcnJheTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaCA9IDA7XG4gICAgICAgICAgd2hpbGUgKGggPCB0cmFjZXNbaV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX2ZpbmlzaGVkID09PSBmYWxzZSAmJiB0cmFjZXNbaV0uYXBwcm92ZXNbaF0udHlwZSAhPT0gXCJjY1wiICYmIHRyYWNlc1tpXS5hcHByb3Zlc1toXS50eXBlICE9PSBcImRpc3RyaWJ1dGVcIikge1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0ucmVhZF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uanVkZ2UgPSBcInRlcm1pbmF0ZWRcIjtcbiAgICAgICAgICAgICAgdHJhY2VzW2ldLmFwcHJvdmVzW2hdLmNvc3RfdGltZSA9IHRyYWNlc1tpXS5hcHByb3Zlc1toXS5maW5pc2hfZGF0ZSAtIHRyYWNlc1tpXS5hcHByb3Zlc1toXS5zdGFydF9kYXRlO1xuICAgICAgICAgICAgICBhcHByb3ZlX3VzZXJzLnB1c2godHJhY2VzW2ldLmFwcHJvdmVzW2hdLnVzZXIpO1xuICAgICAgICAgICAgICBpZiAodHJhY2VzW2ldLmFwcHJvdmVzW2hdLnNpZ25fc2hvdyA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHRhID0gdHJhY2VzW2ldLmFwcHJvdmVzW2hdO1xuICAgICAgICAgICAgICAgIHNhbWVUcmFjZXMgPSBfLmZpbHRlcih0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB0LnN0ZXAgPT09IHRyYWNlc1tpXS5zdGVwO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGwgPSBzYW1lVHJhY2VzLmxlbmd0aCAtIDE7XG4gICAgICAgICAgICAgICAgc2lnblNob3dBcHByb3ZlSWQgPSBudWxsO1xuICAgICAgICAgICAgICAgIHdoaWxlIChsID4gLTEpIHtcbiAgICAgICAgICAgICAgICAgIF8uZWFjaChzYW1lVHJhY2VzW2xdLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgICAgICAgICAgIGlmIChhLnVzZXIgPT09IHRhLnVzZXIgJiYgYS5qdWRnZSAhPT0gXCJ0ZXJtaW5hdGVkXCIgJiYgYS5kZXNjcmlwdGlvbiAmJiAhc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gc2lnblNob3dBcHByb3ZlSWQgPSBhLl9pZDtcbiAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICBsLS07XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChzaWduU2hvd0FwcHJvdmVJZCkge1xuICAgICAgICAgICAgICAgICAgdGkgPSAwO1xuICAgICAgICAgICAgICAgICAgd2hpbGUgKHRpIDwgdHJhY2VzLmxlbmd0aCkge1xuICAgICAgICAgICAgICAgICAgICBhaCA9IDA7XG4gICAgICAgICAgICAgICAgICAgIHdoaWxlIChhaCA8IHRyYWNlc1t0aV0uYXBwcm92ZXMubGVuZ3RoKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLl9pZCA9PT0gc2lnblNob3dBcHByb3ZlSWQpIHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRyYWNlc1t0aV0uYXBwcm92ZXNbYWhdLnNpZ25fc2hvdyA9IHRydWU7XG4gICAgICAgICAgICAgICAgICAgICAgICB0cmFjZXNbaV0uYXBwcm92ZXNbaF0uc2lnbl9zaG93ID0gZmFsc2U7XG4gICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICAgIGFoKys7XG4gICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgdGkrKztcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGgrKztcbiAgICAgICAgICB9XG4gICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZE9uZShjdXJyZW50X3NwYWNlX3VzZXIub3JnYW5pemF0aW9uLCB7XG4gICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgZnVsbG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByID0gbmV3IE9iamVjdDtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudHJhY2UgPSB0cmFjZXNbaV0uX2lkO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIudXNlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyID0gY3VycmVudF91c2VyO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaGFuZGxlcl9uYW1lID0gY3VycmVudF91c2VyX2luZm8ubmFtZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLm5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9mdWxsbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24uZnVsbG5hbWU7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5kdWVfZGF0ZSA9IHRyYWNlc1tpXS5kdWVfZGF0ZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnJlYWRfZGF0ZSA9IG5vdztcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmp1ZGdlID0gXCJyZWxvY2F0ZWRcIjtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLmlzX3JlYWQgPSB0cnVlO1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuZGVzY3JpcHRpb24gPSByZWxvY2F0ZV9jb21tZW50O1xuICAgICAgICAgIHJlbG9jYXRlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICByZWxvY2F0ZV9hcHByLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVsb2NhdGVfYXBwci5jb3N0X3RpbWUgPSByZWxvY2F0ZV9hcHByLmZpbmlzaF9kYXRlIC0gcmVsb2NhdGVfYXBwci5zdGFydF9kYXRlO1xuICAgICAgICAgIHRyYWNlc1tpXS5hcHByb3Zlcy5wdXNoKHJlbG9jYXRlX2FwcHIpO1xuICAgICAgICAgIHRyYWNlc1tpXS5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgdHJhY2VzW2ldLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICAgIHRyYWNlc1tpXS5qdWRnZSA9IFwicmVsb2NhdGVkXCI7XG4gICAgICAgIH1cbiAgICAgICAgaSsrO1xuICAgICAgfVxuICAgICAgaWYgKG5leHRfc3RlcF90eXBlID09PSBcImVuZFwiKSB7XG4gICAgICAgIG5ld1RyYWNlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3VHJhY2UuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgbmV3VHJhY2UuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZDtcbiAgICAgICAgbmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2UuX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmZpbmlzaF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBzZXRPYmouc3RhdGUgPSBcImNvbXBsZXRlZFwiO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbXTtcbiAgICAgICAgc2V0T2JqLmZpbmFsX2RlY2lzaW9uID0gXCJ0ZXJtaW5hdGVkXCI7XG4gICAgICAgIHNldE9iai5maW5pc2hfZGF0ZSA9IG5ldyBEYXRlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBuZXh0X3N0ZXBfbmFtZTtcbiAgICAgICAgc2V0T2JqLmN1cnJlbnRfc3RlcF9hdXRvX3N1Ym1pdCA9IGZhbHNlO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbmV3VHJhY2UgPSBuZXcgT2JqZWN0O1xuICAgICAgICBuZXdUcmFjZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICBuZXdUcmFjZS5wcmV2aW91c190cmFjZV9pZHMgPSBbbGFzdF90cmFjZS5faWRdO1xuICAgICAgICBuZXdUcmFjZS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICBuZXdUcmFjZS5zdGVwID0gcmVsb2NhdGVfbmV4dF9zdGVwO1xuICAgICAgICBuZXdUcmFjZS5uYW1lID0gbmV4dF9zdGVwX25hbWU7XG4gICAgICAgIG5ld1RyYWNlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgIG5ld1RyYWNlLmR1ZV9kYXRlID0gdXVmbG93TWFuYWdlci5nZXREdWVEYXRlKG5leHRfc3RlcC50aW1lb3V0X2hvdXJzKTtcbiAgICAgICAgbmV3VHJhY2UuYXBwcm92ZXMgPSBbXTtcbiAgICAgICAgXy5lYWNoKHJlbG9jYXRlX2luYm94X3VzZXJzLCBmdW5jdGlvbihuZXh0X3N0ZXBfdXNlcl9pZCwgaWR4KSB7XG4gICAgICAgICAgdmFyIGFnZW50LCBoYW5kbGVyX2lkLCBoYW5kbGVyX2luZm8sIG5ld0FwcHJvdmUsIG5leHRfc3RlcF9zcGFjZV91c2VyLCBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mbywgdXNlcl9pbmZvO1xuICAgICAgICAgIG5ld0FwcHJvdmUgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgIG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0cjtcbiAgICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgICAgbmV3QXBwcm92ZS50cmFjZSA9IG5ld1RyYWNlLl9pZDtcbiAgICAgICAgICBuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2U7XG4gICAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gbmV4dF9zdGVwX3VzZXJfaWQ7XG4gICAgICAgICAgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShuZXh0X3N0ZXBfdXNlcl9pZCwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xuICAgICAgICAgIGhhbmRsZXJfaWQgPSBuZXh0X3N0ZXBfdXNlcl9pZDtcbiAgICAgICAgICBoYW5kbGVyX2luZm8gPSB1c2VyX2luZm87XG4gICAgICAgICAgYWdlbnQgPSB1dWZsb3dNYW5hZ2VyLmdldEFnZW50KHNwYWNlX2lkLCBuZXh0X3N0ZXBfdXNlcl9pZCk7XG4gICAgICAgICAgaWYgKGFnZW50KSB7XG4gICAgICAgICAgICByZWxvY2F0ZV9pbmJveF91c2Vyc1tpZHhdID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2lkID0gYWdlbnQ7XG4gICAgICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICAgICAgX2lkOiBhZ2VudFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgICAgICBuYW1lOiAxXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgbmV3QXBwcm92ZS5hZ2VudCA9IGFnZW50O1xuICAgICAgICAgIH1cbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXIgPSBoYW5kbGVyX2lkO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgbmV4dF9zdGVwX3NwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgaGFuZGxlcl9pZCk7XG4gICAgICAgICAgbmV4dF9zdGVwX3VzZXJfb3JnX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlck9yZ0luZm8obmV4dF9zdGVwX3NwYWNlX3VzZXIpO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBuZXh0X3N0ZXBfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnN0YXJ0X2RhdGUgPSBub3c7XG4gICAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfcmVhZCA9IGZhbHNlO1xuICAgICAgICAgIG5ld0FwcHJvdmUuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgdXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSk7XG4gICAgICAgICAgcmV0dXJuIG5ld1RyYWNlLmFwcHJvdmVzLnB1c2gobmV3QXBwcm92ZSk7XG4gICAgICAgIH0pO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSByZWxvY2F0ZV9pbmJveF91c2VycztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IG5leHRfc3RlcF9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBuZXh0X3N0ZXAubGluZXMpO1xuICAgICAgfVxuICAgICAgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLnB1c2goY3VycmVudF91c2VyKTtcbiAgICAgIGluc3RhbmNlLm91dGJveF91c2VycyA9IGluc3RhbmNlLm91dGJveF91c2Vycy5jb25jYXQoaW5ib3hfdXNlcnMpLmNvbmNhdChhcHByb3ZlX3VzZXJzKTtcbiAgICAgIHNldE9iai5vdXRib3hfdXNlcnMgPSBfLnVuaXEoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICAgIHNldE9iai5tb2RpZmllZCA9IG5vdztcbiAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgdHJhY2VzLnB1c2gobmV3VHJhY2UpO1xuICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgIGlmIChzZXRPYmouc3RhdGUgPT09ICdjb21wbGV0ZWQnKSB7XG4gICAgICAgIHIgPSBkYi5pbnN0YW5jZXMudXBkYXRlKHtcbiAgICAgICAgICBfaWQ6IGluc3RhbmNlX2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICAkc2V0OiBzZXRPYmpcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZFxuICAgICAgICB9LCB7XG4gICAgICAgICAgJHNldDogc2V0T2JqLFxuICAgICAgICAgICR1bnNldDoge1xuICAgICAgICAgICAgZmluaXNoX2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgICAgaWYgKHIpIHtcbiAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICBfLmVhY2gobm90X2luX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgaWYgKHVzZXJfaWQgIT09IGN1cnJlbnRfdXNlcikge1xuICAgICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBfdXNlcnMgPSBuZXcgQXJyYXk7XG4gICAgICAgIF91c2Vycy5wdXNoKGlucy5hcHBsaWNhbnQpO1xuICAgICAgICBfdXNlcnMucHVzaChpbnMuc3VibWl0dGVyKTtcbiAgICAgICAgX3VzZXJzID0gXy51bmlxKF91c2Vycy5jb25jYXQoaW5zLm91dGJveF91c2VycykpO1xuICAgICAgICBfLmVhY2goX3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHB1c2hNYW5hZ2VyLnNlbmRfaW5zdGFuY2Vfbm90aWZpY2F0aW9uKFwicmVhc3NpZ25fbmV3X2luYm94X3VzZXJzXCIsIGlucywgcmVsb2NhdGVfY29tbWVudCwgY3VycmVudF91c2VyX2luZm8pO1xuICAgICAgICByZXR1cm4gcHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZWxvY2F0ZScsIGN1cnJlbnRfdXNlciwgaW5zLmluYm94X3VzZXJzKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvYXJjaGl2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qmluc3RhbmNlXHJcblx0XHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZClcclxuXHRcdFx0c3BhY2VfaWQgPSBpbnN0YW5jZS5zcGFjZVxyXG5cdFx0XHQjIOiOt+WPluS4gOS4qnNwYWNlXHJcblx0XHRcdHNwYWNlID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdFx0IyDliKTmlq3kuIDkuKppbnN0YW5jZeaYr+WQpuS4uuWujOaIkOW5tuS4lOacquW9kuaho+eKtuaAgVxyXG5cdFx0XHR1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VGaW5pc2hlZEFuZE5vdEFyY2hpZXZlZChpbnN0YW5jZSlcclxuXHRcdFx0IyDojrflj5bkuIDkuKpzcGFjZeS4i+eahOS4gOS4qnVzZXJcclxuXHRcdFx0c3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdCMg5Yik5pat5LiA5Liq55So5oi35piv5ZCm5piv5LiA5LiqaW5zdGFuY2XnmoTmj5DkuqTogIUg5oiW6ICFc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdFx0dXVmbG93TWFuYWdlci5pc0luc3RhbmNlU3VibWl0dGVyT3JBcHBsaWNhbnRPclNwYWNlQWRtaW4oaW5zdGFuY2UsIGN1cnJlbnRfdXNlciwgc3BhY2UpXHJcblx0XHRcdFxyXG5cdFx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IHRydWVcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGVcclxuXHRcdFx0c2V0T2JqLm1vZGlmaWVkX2J5ID0gY3VycmVudF91c2VyXHJcblxyXG5cdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtfaWQ6IGluc3RhbmNlX2lkfSwgeyRzZXQ6IHNldE9ian0pXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRkYXRhOiB7fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG5cdFxyXG5cdFx0IiwiSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9hcmNoaXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBpbnN0YW5jZSwgaW5zdGFuY2VfaWQsIHNldE9iaiwgc3BhY2UsIHNwYWNlX2lkLCBzcGFjZV91c2VyO1xuICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZV9mcm9tX2NsaWVudFtcIl9pZFwiXTtcbiAgICAgIGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZUZpbmlzaGVkQW5kTm90QXJjaGlldmVkKGluc3RhbmNlKTtcbiAgICAgIHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICAgIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVN1Ym1pdHRlck9yQXBwbGljYW50T3JTcGFjZUFkbWluKGluc3RhbmNlLCBjdXJyZW50X3VzZXIsIHNwYWNlKTtcbiAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICBzZXRPYmouaXNfYXJjaGl2ZWQgPSB0cnVlO1xuICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICByZXR1cm4gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgIH0sIHtcbiAgICAgICAgJHNldDogc2V0T2JqXG4gICAgICB9KTtcbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIk1ldGVvci5zdGFydHVwIC0+XHJcblx0V2ViQXBwLmNvbm5lY3RIYW5kbGVycy51c2UgXCIvYXBpL3dvcmtmbG93L2V4cG9ydC9pbnN0YW5jZXNcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdFx0dHJ5XHJcblx0XHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHJcblx0XHRcdHF1ZXJ5ID0gcmVxLnF1ZXJ5XHJcblx0XHRcdHNwYWNlX2lkID0gcXVlcnkuc3BhY2VfaWRcclxuXHRcdFx0Zmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWRcclxuXHRcdFx0dHlwZSA9IHBhcnNlSW50KHF1ZXJ5LnR5cGUpXHJcblx0XHRcdHRpbWV6b25lb2Zmc2V0ID0gcGFyc2VJbnQocXVlcnkudGltZXpvbmVvZmZzZXQpXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7IF9pZDogZmxvd19pZCB9LCB7IGZpZWxkczogeyBmb3JtOiAxIH0gfSlcclxuXHRcdFx0Zm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoeyBfaWQ6IGZsb3cuZm9ybSB9LCB7IGZpZWxkczogeyBuYW1lOiAxLCAnY3VycmVudC5maWVsZHMnOiAxIH0gfSlcclxuXHJcblx0XHRcdGZvcm1fbmFtZSA9IGZvcm0ubmFtZVxyXG5cdFx0XHRmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzXHJcblx0XHRcdHRhYmxlX2ZpZWxkcyA9IG5ldyBBcnJheVxyXG5cdFx0XHRfLmVhY2ggZm9ybS5jdXJyZW50LmZpZWxkcywgKGZpZWxkKSAtPlxyXG5cdFx0XHRcdGlmIGZpZWxkLnR5cGUgaXMgXCJ0YWJsZVwiXHJcblx0XHRcdFx0XHR0YWJsZV9maWVsZHMucHVzaChmaWVsZClcclxuXHJcblx0XHRcdGluc190b194bHMgPSBuZXcgQXJyYXlcclxuXHRcdFx0c3RhcnRfZGF0ZSA9IG51bGxcclxuXHRcdFx0ZW5kX2RhdGUgPSBudWxsXHJcblx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdCMgMC3mnKzmnIhcclxuXHRcdFx0aWYgdHlwZSBpcyAwXHJcblx0XHRcdFx0c3RhcnRfZGF0ZSA9IG5ldyBEYXRlKG5vdy5nZXRGdWxsWWVhcigpLCBub3cuZ2V0TW9udGgoKSwgMSlcclxuXHRcdFx0XHRpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xyXG5cdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0ZmxvdzogZmxvd19pZCxcclxuXHRcdFx0XHRcdHN0YXRlOiB7ICRuZTogXCJkcmFmdFwiIH0sXHJcblx0XHRcdFx0XHRzdWJtaXRfZGF0ZTogeyAkZ3RlOiBzdGFydF9kYXRlIH1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdCMgMS3kuIrmnIhcclxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDFcclxuXHRcdFx0XHRsYXN0X21vbnRoX2RhdGUgPSBuZXcgRGF0ZShuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpIC0gMTAwMCAqIDYwICogNjAgKiAyNClcclxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKVxyXG5cdFx0XHRcdGVuZF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKVxyXG5cdFx0XHRcdGluc190b194bHMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XHJcblx0XHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0XHRmbG93OiBmbG93X2lkLFxyXG5cdFx0XHRcdFx0c3RhdGU6IHsgJG5lOiBcImRyYWZ0XCIgfSxcclxuXHRcdFx0XHRcdCRhbmQ6IFt7IHN1Ym1pdF9kYXRlOiB7ICRndGU6IHN0YXJ0X2RhdGUgfSB9LCB7IHN1Ym1pdF9kYXRlOiB7ICRsdGU6IGVuZF9kYXRlIH0gfV1cclxuXHRcdFx0XHR9LCB7XHJcblx0XHRcdFx0XHRzb3J0OiB7IHN1Ym1pdF9kYXRlOiAxIH1cclxuXHRcdFx0XHR9KS5mZXRjaCgpXHJcblx0XHRcdCMgMi3mlbTkuKrlubTluqZcclxuXHRcdFx0ZWxzZSBpZiB0eXBlIGlzIDJcclxuXHRcdFx0XHRzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIDAsIDEpXHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXHJcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9LFxyXG5cdFx0XHRcdFx0c3VibWl0X2RhdGU6IHsgJGd0ZTogc3RhcnRfZGF0ZSB9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XHJcblx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cdFx0XHQjIDMt5omA5pyJXHJcblx0XHRcdGVsc2UgaWYgdHlwZSBpcyAzXHJcblx0XHRcdFx0aW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcclxuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdGZsb3c6IGZsb3dfaWQsXHJcblx0XHRcdFx0XHRzdGF0ZTogeyAkbmU6IFwiZHJhZnRcIiB9XHJcblx0XHRcdFx0fSwge1xyXG5cdFx0XHRcdFx0c29ydDogeyBzdWJtaXRfZGF0ZTogMSB9XHJcblx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cclxuXHRcdFx0ZWpzID0gcmVxdWlyZSgnZWpzJylcclxuXHRcdFx0c3RyID0gQXNzZXRzLmdldFRleHQoJ3NlcnZlci9lanMvZXhwb3J0X2luc3RhbmNlcy5lanMnKVxyXG5cclxuXHRcdFx0IyDmo4DmtYvmmK/lkKbmnInor63ms5XplJnor69cclxuXHRcdFx0ZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50JylcclxuXHRcdFx0ZXJyb3Jfb2JqID0gZWpzTGludC5saW50KHN0ciwge30pXHJcblx0XHRcdGlmIGVycm9yX29ialxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIlxyXG5cdFx0XHRcdGNvbnNvbGUuZXJyb3IgZXJyb3Jfb2JqXHJcblxyXG5cdFx0XHR0ZW1wbGF0ZSA9IGVqcy5jb21waWxlKHN0cilcclxuXHJcblx0XHRcdGxhbmcgPSAnZW4nXHJcblx0XHRcdGlmIGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSBpcyAnemgtY24nXHJcblx0XHRcdFx0bGFuZyA9ICd6aC1DTidcclxuXHJcblx0XHRcdHJldCA9IHRlbXBsYXRlKHtcclxuXHRcdFx0XHRsYW5nOiBsYW5nLFxyXG5cdFx0XHRcdHRpbWV6b25lb2Zmc2V0OiB0aW1lem9uZW9mZnNldCxcclxuXHRcdFx0XHRmb3JtX25hbWU6IGZvcm1fbmFtZSxcclxuXHRcdFx0XHRmaWVsZHM6IGZpZWxkcyxcclxuXHRcdFx0XHR0YWJsZV9maWVsZHM6IHRhYmxlX2ZpZWxkcyxcclxuXHRcdFx0XHRpbnNfdG9feGxzOiBpbnNfdG9feGxzXHJcblx0XHRcdH0pXHJcblxyXG5cdFx0XHRmaWxlTmFtZSA9IFwiU3RlZWRPU1dvcmtmbG93X1wiICsgbW9tZW50KCkuZm9ybWF0KCdZWVlZTU1EREhIbW0nKSArIFwiLnhsc1wiXHJcblx0XHRcdHJlcy5zZXRIZWFkZXIoXCJDb250ZW50LXR5cGVcIiwgXCJhcHBsaWNhdGlvbi9vY3RldC1zdHJlYW1cIilcclxuXHRcdFx0cmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSlcclxuXHRcdFx0cmVzLmVuZChyZXQpXHJcblx0XHRjYXRjaCBlXHJcblx0XHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0XHRyZXMuZW5kKGUubWVzc2FnZSkiLCJNZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKFwiL2FwaS93b3JrZmxvdy9leHBvcnQvaW5zdGFuY2VzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gICAgdmFyIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBlanMsIGVqc0xpbnQsIGVuZF9kYXRlLCBlcnJvcl9vYmosIGZpZWxkcywgZmlsZU5hbWUsIGZsb3csIGZsb3dfaWQsIGZvcm0sIGZvcm1fbmFtZSwgaW5zX3RvX3hscywgbGFuZywgbGFzdF9tb250aF9kYXRlLCBub3csIHF1ZXJ5LCByZXQsIHNwYWNlX2lkLCBzdGFydF9kYXRlLCBzdHIsIHRhYmxlX2ZpZWxkcywgdGVtcGxhdGUsIHRpbWV6b25lb2Zmc2V0LCB0eXBlO1xuICAgIHRyeSB7XG4gICAgICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICAgICAgcXVlcnkgPSByZXEucXVlcnk7XG4gICAgICBzcGFjZV9pZCA9IHF1ZXJ5LnNwYWNlX2lkO1xuICAgICAgZmxvd19pZCA9IHF1ZXJ5LmZsb3dfaWQ7XG4gICAgICB0eXBlID0gcGFyc2VJbnQocXVlcnkudHlwZSk7XG4gICAgICB0aW1lem9uZW9mZnNldCA9IHBhcnNlSW50KHF1ZXJ5LnRpbWV6b25lb2Zmc2V0KTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93X2lkXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGZvcm06IDFcbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgICBmb3JtID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIG5hbWU6IDEsXG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZvcm1fbmFtZSA9IGZvcm0ubmFtZTtcbiAgICAgIGZpZWxkcyA9IGZvcm0uY3VycmVudC5maWVsZHM7XG4gICAgICB0YWJsZV9maWVsZHMgPSBuZXcgQXJyYXk7XG4gICAgICBfLmVhY2goZm9ybS5jdXJyZW50LmZpZWxkcywgZnVuY3Rpb24oZmllbGQpIHtcbiAgICAgICAgaWYgKGZpZWxkLnR5cGUgPT09IFwidGFibGVcIikge1xuICAgICAgICAgIHJldHVybiB0YWJsZV9maWVsZHMucHVzaChmaWVsZCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgaW5zX3RvX3hscyA9IG5ldyBBcnJheTtcbiAgICAgIHN0YXJ0X2RhdGUgPSBudWxsO1xuICAgICAgZW5kX2RhdGUgPSBudWxsO1xuICAgICAgbm93ID0gbmV3IERhdGU7XG4gICAgICBpZiAodHlwZSA9PT0gMCkge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgaW5zX3RvX3hscyA9IGRiLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICAgZmxvdzogZmxvd19pZCxcbiAgICAgICAgICBzdGF0ZToge1xuICAgICAgICAgICAgJG5lOiBcImRyYWZ0XCJcbiAgICAgICAgICB9LFxuICAgICAgICAgIHN1Ym1pdF9kYXRlOiB7XG4gICAgICAgICAgICAkZ3RlOiBzdGFydF9kYXRlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgc29ydDoge1xuICAgICAgICAgICAgc3VibWl0X2RhdGU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9IGVsc2UgaWYgKHR5cGUgPT09IDEpIHtcbiAgICAgICAgbGFzdF9tb250aF9kYXRlID0gbmV3IERhdGUobmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIG5vdy5nZXRNb250aCgpLCAxKSAtIDEwMDAgKiA2MCAqIDYwICogMjQpO1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobGFzdF9tb250aF9kYXRlLmdldEZ1bGxZZWFyKCksIGxhc3RfbW9udGhfZGF0ZS5nZXRNb250aCgpLCAxKTtcbiAgICAgICAgZW5kX2RhdGUgPSBuZXcgRGF0ZShub3cuZ2V0RnVsbFllYXIoKSwgbm93LmdldE1vbnRoKCksIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgJGFuZDogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBzdWJtaXRfZGF0ZToge1xuICAgICAgICAgICAgICAgICRsdGU6IGVuZF9kYXRlXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMikge1xuICAgICAgICBzdGFydF9kYXRlID0gbmV3IERhdGUobm93LmdldEZ1bGxZZWFyKCksIDAsIDEpO1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH0sXG4gICAgICAgICAgc3VibWl0X2RhdGU6IHtcbiAgICAgICAgICAgICRndGU6IHN0YXJ0X2RhdGVcbiAgICAgICAgICB9XG4gICAgICAgIH0sIHtcbiAgICAgICAgICBzb3J0OiB7XG4gICAgICAgICAgICBzdWJtaXRfZGF0ZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSkuZmV0Y2goKTtcbiAgICAgIH0gZWxzZSBpZiAodHlwZSA9PT0gMykge1xuICAgICAgICBpbnNfdG9feGxzID0gZGIuaW5zdGFuY2VzLmZpbmQoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgICBmbG93OiBmbG93X2lkLFxuICAgICAgICAgIHN0YXRlOiB7XG4gICAgICAgICAgICAkbmU6IFwiZHJhZnRcIlxuICAgICAgICAgIH1cbiAgICAgICAgfSwge1xuICAgICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICAgIHN1Ym1pdF9kYXRlOiAxXG4gICAgICAgICAgfVxuICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgfVxuICAgICAgZWpzID0gcmVxdWlyZSgnZWpzJyk7XG4gICAgICBzdHIgPSBBc3NldHMuZ2V0VGV4dCgnc2VydmVyL2Vqcy9leHBvcnRfaW5zdGFuY2VzLmVqcycpO1xuICAgICAgZWpzTGludCA9IHJlcXVpcmUoJ2Vqcy1saW50Jyk7XG4gICAgICBlcnJvcl9vYmogPSBlanNMaW50LmxpbnQoc3RyLCB7fSk7XG4gICAgICBpZiAoZXJyb3Jfb2JqKSB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCI9PT0vYXBpL3dvcmtmbG93L2V4cG9ydDpcIik7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3Jfb2JqKTtcbiAgICAgIH1cbiAgICAgIHRlbXBsYXRlID0gZWpzLmNvbXBpbGUoc3RyKTtcbiAgICAgIGxhbmcgPSAnZW4nO1xuICAgICAgaWYgKGN1cnJlbnRfdXNlcl9pbmZvLmxvY2FsZSA9PT0gJ3poLWNuJykge1xuICAgICAgICBsYW5nID0gJ3poLUNOJztcbiAgICAgIH1cbiAgICAgIHJldCA9IHRlbXBsYXRlKHtcbiAgICAgICAgbGFuZzogbGFuZyxcbiAgICAgICAgdGltZXpvbmVvZmZzZXQ6IHRpbWV6b25lb2Zmc2V0LFxuICAgICAgICBmb3JtX25hbWU6IGZvcm1fbmFtZSxcbiAgICAgICAgZmllbGRzOiBmaWVsZHMsXG4gICAgICAgIHRhYmxlX2ZpZWxkczogdGFibGVfZmllbGRzLFxuICAgICAgICBpbnNfdG9feGxzOiBpbnNfdG9feGxzXG4gICAgICB9KTtcbiAgICAgIGZpbGVOYW1lID0gXCJTdGVlZE9TV29ya2Zsb3dfXCIgKyBtb21lbnQoKS5mb3JtYXQoJ1lZWVlNTURESEhtbScpICsgXCIueGxzXCI7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiQ29udGVudC10eXBlXCIsIFwiYXBwbGljYXRpb24vb2N0ZXQtc3RyZWFtXCIpO1xuICAgICAgcmVzLnNldEhlYWRlcihcIkNvbnRlbnQtRGlzcG9zaXRpb25cIiwgXCJhdHRhY2htZW50O2ZpbGVuYW1lPVwiICsgZW5jb2RlVVJJKGZpbGVOYW1lKSk7XG4gICAgICByZXR1cm4gcmVzLmVuZChyZXQpO1xuICAgIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgICBlID0gZXJyb3I7XG4gICAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgICAgcmV0dXJuIHJlcy5lbmQoZS5tZXNzYWdlKTtcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZCAnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRxdWVyeSA9IHJlcS5xdWVyeVxyXG5cdFx0YXV0aF90b2tlbiA9IGRiLmF1dGhfdG9rZW5zLmZpbmRPbmUoe2F1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW59KVxyXG5cclxuXHRcdGlmIChub3QgYXV0aF90b2tlbikgb3IgKG5vdCBhdXRoX3Rva2VuLmVuYWJsZWQpXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IgNDAxLCAnVW5hdXRob3JpemVkJ1xyXG5cclxuXHRcdHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl1cclxuXHRcdGZvcm1pZHMgPSBxdWVyeVtcImZvcm1pZHNcIl0gIyDpgJflj7fpmpTlvIDlrZfnrKbkuLJcclxuXHRcdGlzX2FkbWluID0gcXVlcnlbXCJpc19hZG1pblwiXVxyXG5cclxuXHRcdGRhdGEgPSB1dWZsb3dNYW5hZ2VyLmdldF9TcGFjZUNoYW5nZVNldChmb3JtaWRzLCBpc19hZG1pbiwgc3luY190b2tlbilcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdGRhdGE6IGRhdGFcclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dIH0iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy91Zi9zcGFjZS9jaGFuZ2VzZXQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXV0aF90b2tlbiwgZGF0YSwgZSwgZm9ybWlkcywgaXNfYWRtaW4sIHF1ZXJ5LCBzeW5jX3Rva2VuO1xuICB0cnkge1xuICAgIHF1ZXJ5ID0gcmVxLnF1ZXJ5O1xuICAgIGF1dGhfdG9rZW4gPSBkYi5hdXRoX3Rva2Vucy5maW5kT25lKHtcbiAgICAgIGF1dGhfdG9rZW46IHF1ZXJ5LmF1dGhfdG9rZW5cbiAgICB9KTtcbiAgICBpZiAoKCFhdXRoX3Rva2VuKSB8fCAoIWF1dGhfdG9rZW4uZW5hYmxlZCkpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoNDAxLCAnVW5hdXRob3JpemVkJyk7XG4gICAgfVxuICAgIHN5bmNfdG9rZW4gPSBxdWVyeVtcInN5bmNfdG9rZW5cIl07XG4gICAgZm9ybWlkcyA9IHF1ZXJ5W1wiZm9ybWlkc1wiXTtcbiAgICBpc19hZG1pbiA9IHF1ZXJ5W1wiaXNfYWRtaW5cIl07XG4gICAgZGF0YSA9IHV1Zmxvd01hbmFnZXIuZ2V0X1NwYWNlQ2hhbmdlU2V0KGZvcm1pZHMsIGlzX2FkbWluLCBzeW5jX3Rva2VuKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YTogZGF0YVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9yZXRyaWV2ZScsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRcdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHlcclxuXHRcdF8uZWFjaCBoYXNoRGF0YVsnSW5zdGFuY2VzJ10sIChpbnN0YW5jZV9mcm9tX2NsaWVudCkgLT5cclxuXHRcdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2Zyb21fY2xpZW50W1wiX2lkXCJdKVxyXG5cdFx0XHRyZXRyaWV2ZV9jb21tZW50ID0gaW5zdGFuY2VfZnJvbV9jbGllbnRbJ3JldHJpZXZlX2NvbW1lbnQnXVxyXG5cclxuXHRcdFx0IyDpqozor4FpbnN0YW5jZeS4uuWuoeaguOS4reeKtuaAgVxyXG5cdFx0XHQjIHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZVBlbmRpbmcoaW5zdGFuY2UpXHJcblx0XHRcdCMg5qCh6aqM55Sz6K+35Y2V5piv5b2T5YmN55So5oi35bey5a6h5qC46L+H55qE5Y2V5a2Q5oiW6ICF5b2T5YmN55So5oi35piv5o+Q5Lqk5Lq65oiW55Sz6K+35Lq6XHJcblx0XHRcdGlmIChub3QgaW5zdGFuY2Uub3V0Ym94X3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAoaW5zdGFuY2Uuc3VibWl0dGVyIGlzbnQgY3VycmVudF91c2VyIGFuZCBpbnN0YW5jZS5hcHBsaWNhbnQgaXNudCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5b2T5YmN55So5oi35LiN56ym5ZCI5Y+W5Zue5p2h5Lu2JylcclxuXHJcblx0XHRcdHJldHJpZXZlX3R5cGUgPSBcIlwiXHJcblxyXG5cdFx0XHR0cmFjZXMgPSBpbnN0YW5jZS50cmFjZXNcclxuXHJcblx0XHRcdCPojrflj5bmnIDmlrDnmoR0cmFjZe+8jCDljbPlj5blm57mraXpqqRcclxuXHRcdFx0bGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpXHJcblx0XHRcdGxhc3RfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLl9pZFxyXG5cdFx0XHRwcmV2aW91c190cmFjZV9pZCA9IGxhc3RfdHJhY2UucHJldmlvdXNfdHJhY2VfaWRzWzBdO1xyXG5cdFx0XHRwcmV2aW91c190cmFjZSA9IF8uZmluZCh0cmFjZXMsICh0KS0+XHJcblx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHByZXZpb3VzX3RyYWNlX2lkXHJcblx0XHRcdClcclxuXHRcdFx0cHJldmlvdXNfdHJhY2Vfc3RlcF9pZCA9IHByZXZpb3VzX3RyYWNlLnN0ZXBcclxuXHRcdFx0cHJldmlvdXNfdHJhY2VfbmFtZSA9IHByZXZpb3VzX3RyYWNlLm5hbWVcclxuXHRcdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxyXG5cdFx0XHRpZiBwcmV2aW91c19zdGVwLnN0ZXBfdHlwZSBpcyBcImNvdW50ZXJTaWduXCJcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7kuI3og73lj5blm54nKVxyXG5cclxuXHRcdFx0IyDlj5blm57mraXpqqTnmoTliY3kuIDkuKrmraXpqqTlpITnkIbkurrllK/kuIDvvIjljbPmjpLpmaTmjonkvKDpmIXlkozovazlj5HnmoRhcHByb3Zl5ZCO77yM5Ymp5L2Z55qEYXBwcm92ZeWPquacieS4gOS4qu+8ieW5tuS4lOaYr+W9k+WJjeeUqOaIt1xyXG5cdFx0XHRwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyIHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRcdHJldHVybiBhLnR5cGUgaXNudCAnY2MnIGFuZCBhLnR5cGUgaXNudCAnZGlzdHJpYnV0ZScgYW5kIGEudHlwZSBpc250ICdmb3J3YXJkJyBhbmQgWydhcHByb3ZlZCcsJ3N1Ym1pdHRlZCcsJ3JlamVjdGVkJ10uaW5jbHVkZXMoYS5qdWRnZSlcclxuXHJcblx0XHRcdGlmIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCBpcyAxIGFuZCAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciBpcyBjdXJyZW50X3VzZXIgb3IgcHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0uaGFuZGxlciBpcyBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0cmV0cmlldmVfdHlwZSA9ICdub3JtYWwnICMg55Sz6K+35Y2V5q2j5bi45rWB6L2s55qE5Y+W5Zue77yM5Y2z6Z2e5Lyg6ZiF5Y+W5ZueXHJcblxyXG5cdFx0XHRpID0gdHJhY2VzLmxlbmd0aFxyXG5cdFx0XHRyZXRyaWV2ZV9hcHByb3ZlID0ge31cclxuXHRcdFx0d2hpbGUgaSA+IDBcclxuXHRcdFx0XHRfLmVhY2ggdHJhY2VzW2ktMV0uYXBwcm92ZXMsIChhKS0+XHJcblx0XHRcdFx0XHRpZiBhLnR5cGUgaXMgJ2NjJyBhbmQgYS5pc19maW5pc2hlZCBpcyB0cnVlIGFuZCBhLnVzZXIgaXMgY3VycmVudF91c2VyXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX3R5cGUgPSAnY2MnXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHJvdmUgPSBhXHJcblxyXG5cdFx0XHRcdGlmIHJldHJpZXZlX3R5cGUgaXMgJ2NjJ1xyXG5cdFx0XHRcdFx0YnJlYWtcclxuXHJcblx0XHRcdFx0aS0tXHJcblxyXG5cclxuXHRcdFx0aWYgcmV0cmlldmVfdHlwZSBpcyAnbm9ybWFsJ1xyXG5cdFx0XHRcdCMg6I635Y+W5LiA5LiqZmxvd1xyXG5cdFx0XHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHRcdFx0XHRwcmV2aW91c19zdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBwcmV2aW91c190cmFjZV9zdGVwX2lkKVxyXG5cdFx0XHRcdHNwYWNlX2lkID0gaW5zdGFuY2Uuc3BhY2VcclxuXHRcdFx0XHRpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZFxyXG5cdFx0XHRcdG9sZF9pbmJveF91c2VycyA9IGluc3RhbmNlLmluYm94X3VzZXJzXHJcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0Xy5lYWNoIHRyYWNlcywgKHQpLT5cclxuXHRcdFx0XHRcdGlmIHQuX2lkIGlzIGxhc3RfdHJhY2VfaWRcclxuXHRcdFx0XHRcdFx0aWYgbm90IHQuYXBwcm92ZXNcclxuXHRcdFx0XHRcdFx0XHR0LmFwcHJvdmVzID0gbmV3IEFycmF5XHJcblx0XHRcdFx0XHRcdCMg5pu05paw5b2T5YmNdHJhY2UuYXBwcm92ZeiusOW9lVxyXG5cdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGFwcHIpLT5cclxuXHRcdFx0XHRcdFx0XHRpZiBhcHByLmlzX2ZpbmlzaGVkID09IGZhbHNlIGFuZCBhcHByLnR5cGUgaXNudCBcImNjXCJcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5maW5pc2hfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5yZWFkX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuaXNfZXJyb3IgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19yZWFkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5pc19maW5pc2hlZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0XHRcdGFwcHIuanVkZ2UgPSBcInRlcm1pbmF0ZWRcIlxyXG5cdFx0XHRcdFx0XHRcdFx0YXBwci5jb3N0X3RpbWUgPSBhcHByLmZpbmlzaF9kYXRlIC0gYXBwci5zdGFydF9kYXRlXHJcblx0XHRcdFx0XHRcdCMg5Zyo5ZCM5LiAdHJhY2XkuIvmj5LlhaXlj5blm57mk43kvZzogIXnmoRhcHByb3Zl6K6w5b2VXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblx0XHRcdFx0XHRcdGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbiwgeyBmaWVsZHM6IHsgbmFtZTogMSwgZnVsbG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudHJhY2UgPSB0Ll9pZFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmlzX2ZpbmlzaGVkID0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci51c2VyX25hbWUgPSBjdXJyZW50X3VzZXJfaW5mby5uYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlciA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5oYW5kbGVyX29yZ2FuaXphdGlvbl9uYW1lID0gY3VycmVudF91c2VyX29yZ2FuaXphdGlvbi5uYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZSA9IG5vd1xyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmZpbmlzaF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIucmVhZF9kYXRlID0gbm93XHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuanVkZ2UgPSBcInJldHJpZXZlZFwiXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWVcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5kZXNjcmlwdGlvbiA9IHJldHJpZXZlX2NvbW1lbnRcclxuXHRcdFx0XHRcdFx0cmV0cmlldmVfYXBwci5pc19lcnJvciA9IGZhbHNlXHJcblx0XHRcdFx0XHRcdHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdFx0XHRyZXRyaWV2ZV9hcHByLmNvc3RfdGltZSA9IHJldHJpZXZlX2FwcHIuZmluaXNoX2RhdGUgLSByZXRyaWV2ZV9hcHByLnN0YXJ0X2RhdGVcclxuXHRcdFx0XHRcdFx0dC5hcHByb3Zlcy5wdXNoKHJldHJpZXZlX2FwcHIpXHJcblxyXG5cdFx0XHRcdFx0XHQjIOabtOaWsOW9k+WJjXRyYWNl6K6w5b2VXHJcblx0XHRcdFx0XHRcdHQuaXNfZmluaXNoZWQgPSB0cnVlXHJcblx0XHRcdFx0XHRcdHQuZmluaXNoX2RhdGUgPSBub3dcclxuXHRcdFx0XHRcdFx0dC5qdWRnZSA9IFwicmV0cmlldmVkXCJcclxuXHJcblx0XHRcdFx0IyDmj5LlhaXkuIvkuIDmraV0cmFjZeiusOW9lVxyXG5cdFx0XHRcdG5ld1RyYWNlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHJcclxuXHRcdFx0XHRuZXdUcmFjZS5pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UucHJldmlvdXNfdHJhY2VfaWRzID0gW2xhc3RfdHJhY2VfaWRdXHJcblx0XHRcdFx0bmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdG5ld1RyYWNlLnN0ZXAgPSBwcmV2aW91c190cmFjZV9zdGVwX2lkXHJcblx0XHRcdFx0bmV3VHJhY2UubmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcclxuXHRcdFx0XHRuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3VHJhY2UuZHVlX2RhdGUgPSB1dWZsb3dNYW5hZ2VyLmdldER1ZURhdGUocHJldmlvdXNfc3RlcC50aW1lb3V0X2hvdXJzKVxyXG5cdFx0XHRcdG5ld1RyYWNlLmFwcHJvdmVzID0gW11cclxuXHRcdFx0XHQjIOaPkuWFpeS4i+S4gOatpXRyYWNlLmFwcHJvdmXorrDlvZVcclxuXHRcdFx0XHRuZXdBcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuX2lkID0gbmV3IE1vbmdvLk9iamVjdElEKCkuX3N0clxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaW5zdGFuY2UgPSBpbnN0YW5jZV9pZFxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWRcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2ZpbmlzaGVkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnVzZXIgPSBjdXJyZW50X3VzZXJcclxuXHJcblx0XHRcdFx0aGFuZGxlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIsIHsgZmllbGRzOiB7IG5hbWU6IDEgfSB9KVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWVcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXIgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfbmFtZSA9IGhhbmRsZXJfaW5mby5uYW1lXHJcblxyXG5cdFx0XHRcdHNwYWNlX3VzZXIgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlVXNlcihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cdFx0XHRcdCMg6I635Y+WbmV4dF9zdGVwX3VzZXLmiYDlnKjnmoTpg6jpl6jkv6Hmga9cclxuXHRcdFx0XHRvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb24gPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXVxyXG5cdFx0XHRcdG5ld0FwcHJvdmUuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0XHRuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl1cclxuXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5zdGFydF9kYXRlID0gbm93XHJcblx0XHRcdFx0bmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlXHJcblx0XHRcdFx0bmV3QXBwcm92ZS5pc19yZWFkID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLmlzX2Vycm9yID0gZmFsc2VcclxuXHRcdFx0XHRuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRcdFx0dXVmbG93TWFuYWdlci5zZXRSZW1pbmRJbmZvKGluc3RhbmNlLnZhbHVlcywgbmV3QXBwcm92ZSlcclxuXHJcblx0XHRcdFx0bmV3VHJhY2UuYXBwcm92ZXMucHVzaChuZXdBcHByb3ZlKVxyXG5cdFx0XHRcdHNldE9iai5pbmJveF91c2VycyA9IFtjdXJyZW50X3VzZXJdXHJcblxyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZCA9IG5vd1xyXG5cdFx0XHRcdHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdHRyYWNlcy5wdXNoKG5ld1RyYWNlKVxyXG5cdFx0XHRcdHNldE9iai50cmFjZXMgPSB0cmFjZXNcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXHJcblxyXG5cdFx0XHRcdHNldE9iai5jdXJyZW50X3N0ZXBfbmFtZSA9IHByZXZpb3VzX3RyYWNlX25hbWVcclxuXHRcdFx0XHRzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKVxyXG5cclxuXHRcdFx0XHRyID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7X2lkOiBpbnN0YW5jZV9pZH0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdCMg57uZ6KKr5Yig6Zmk55qEaW5ib3hfdXNlcnMg5ZKMIOW9k+WJjeeUqOaItyDlj5HpgIFwdXNoXHJcblx0XHRcdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKVxyXG5cdFx0XHRcdFx0Xy5lYWNoKG9sZF9pbmJveF91c2VycywgKHVzZXJfaWQpLT5cclxuXHRcdFx0XHRcdFx0aWYgdXNlcl9pZCBpc250IGN1cnJlbnRfdXNlclxyXG5cdFx0XHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV90b19zcGVjaWZ5VXNlcihcImN1cnJlbnRfdXNlclwiLCB1c2VyX2lkKVxyXG5cdFx0XHRcdFx0KVxyXG5cclxuXHRcdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0XHQjIOWmguaenOW3sue7j+mFjee9rndlYmhvb2vlubblt7Lmv4DmtLvliJnop6blj5FcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2VycylcclxuXHJcblx0XHRcdGVsc2UgaWYgcmV0cmlldmVfdHlwZSBpcyAnY2MnXHJcblx0XHRcdFx0c2V0T2JqID0gbmV3IE9iamVjdFxyXG5cdFx0XHRcdG5vdyA9IG5ldyBEYXRlXHJcblx0XHRcdFx0aW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWRcclxuXHRcdFx0XHR0aGVfdHJhY2UgPSBfLmZpbmQgdHJhY2VzLCAodCktPlxyXG5cdFx0XHRcdFx0cmV0dXJuIHQuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUudHJhY2VcclxuXHJcblx0XHRcdFx0Xy5lYWNoIHRoZV90cmFjZS5hcHByb3ZlcywgKGEpLT5cclxuXHRcdFx0XHRcdGlmIGEuX2lkIGlzIHJldHJpZXZlX2FwcHJvdmUuX2lkXHJcblx0XHRcdFx0XHRcdGEuaXNfZmluaXNoZWQgPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRhLmZpbmlzaF9kYXRlID0gdW5kZWZpbmVkXHJcblx0XHRcdFx0XHRcdGEuanVkZ2UgPSB1bmRlZmluZWRcclxuXHRcdFx0XHRcdFx0YS5jb3N0X3RpbWUgPSB1bmRlZmluZWRcclxuXHJcblx0XHRcdFx0Y2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2Vyc1xyXG5cdFx0XHRcdGNjX3VzZXJzLnB1c2goY3VycmVudF91c2VyKVxyXG5cclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWQgPSBub3dcclxuXHRcdFx0XHRzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJcclxuXHRcdFx0XHRzZXRPYmouc3RhdGUgPSBcInBlbmRpbmdcIlxyXG5cdFx0XHRcdHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlXHJcblx0XHRcdFx0c2V0T2JqLmNjX3VzZXJzID0gY2NfdXNlcnNcclxuXHRcdFx0XHRzZXRPYmpbJ3RyYWNlcy4kLmFwcHJvdmVzJ10gPSB0aGVfdHJhY2UuYXBwcm92ZXNcclxuXHJcblx0XHRcdFx0ciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe19pZDogaW5zdGFuY2VfaWQsICd0cmFjZXMuX2lkJzogcmV0cmlldmVfYXBwcm92ZS50cmFjZX0sIHskc2V0OiBzZXRPYmp9KVxyXG5cdFx0XHRcdGlmIHJcclxuXHRcdFx0XHRcdHB1c2hNYW5hZ2VyLnNlbmRfbWVzc2FnZV9jdXJyZW50X3VzZXIoY3VycmVudF91c2VyX2luZm8pXHJcblxyXG5cdFx0XHRcdGlucyA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfaWQpXHJcblx0XHRcdFx0IyDlpoLmnpzlt7Lnu4/phY3nva53ZWJob29r5bm25bey5r+A5rS75YiZ6Kem5Y+RXHJcblx0XHRcdFx0cHVzaE1hbmFnZXIudHJpZ2dlcldlYmhvb2soaW5zLmZsb3csIGlucywge30sICdyZXRyaWV2ZScsIGN1cnJlbnRfdXNlciwgW2N1cnJlbnRfdXNlcl0pXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHt9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YToge2Vycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG4iLCJKc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L3JldHJpZXZlJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgY3VycmVudF91c2VyX2luZm8sIGUsIGhhc2hEYXRhO1xuICB0cnkge1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gICAgY3VycmVudF91c2VyID0gY3VycmVudF91c2VyX2luZm8uX2lkO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgXy5lYWNoKGhhc2hEYXRhWydJbnN0YW5jZXMnXSwgZnVuY3Rpb24oaW5zdGFuY2VfZnJvbV9jbGllbnQpIHtcbiAgICAgIHZhciBjY191c2VycywgZmxvdywgaGFuZGxlcl9pbmZvLCBpLCBpbnMsIGluc3RhbmNlLCBpbnN0YW5jZV9pZCwgbGFzdF90cmFjZSwgbGFzdF90cmFjZV9pZCwgbmV3QXBwcm92ZSwgbmV3VHJhY2UsIG5vdywgb2xkX2luYm94X3VzZXJzLCBvcmdfaW5mbywgcHJldmlvdXNfc3RlcCwgcHJldmlvdXNfdHJhY2UsIHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLCBwcmV2aW91c190cmFjZV9pZCwgcHJldmlvdXNfdHJhY2VfbmFtZSwgcHJldmlvdXNfdHJhY2Vfc3RlcF9pZCwgciwgcmV0cmlldmVfYXBwcm92ZSwgcmV0cmlldmVfY29tbWVudCwgcmV0cmlldmVfdHlwZSwgc2V0T2JqLCBzcGFjZV9pZCwgc3BhY2VfdXNlciwgdGhlX3RyYWNlLCB0cmFjZXM7XG4gICAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJfaWRcIl0pO1xuICAgICAgcmV0cmlldmVfY29tbWVudCA9IGluc3RhbmNlX2Zyb21fY2xpZW50WydyZXRyaWV2ZV9jb21tZW50J107XG4gICAgICBpZiAoKCFpbnN0YW5jZS5vdXRib3hfdXNlcnMuaW5jbHVkZXMoY3VycmVudF91c2VyKSkgJiYgKGluc3RhbmNlLnN1Ym1pdHRlciAhPT0gY3VycmVudF91c2VyICYmIGluc3RhbmNlLmFwcGxpY2FudCAhPT0gY3VycmVudF91c2VyKSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICflvZPliY3nlKjmiLfkuI3nrKblkIjlj5blm57mnaHku7YnKTtcbiAgICAgIH1cbiAgICAgIHJldHJpZXZlX3R5cGUgPSBcIlwiO1xuICAgICAgdHJhY2VzID0gaW5zdGFuY2UudHJhY2VzO1xuICAgICAgbGFzdF90cmFjZSA9IF8ubGFzdCh0cmFjZXMpO1xuICAgICAgbGFzdF90cmFjZV9pZCA9IGxhc3RfdHJhY2UuX2lkO1xuICAgICAgcHJldmlvdXNfdHJhY2VfaWQgPSBsYXN0X3RyYWNlLnByZXZpb3VzX3RyYWNlX2lkc1swXTtcbiAgICAgIHByZXZpb3VzX3RyYWNlID0gXy5maW5kKHRyYWNlcywgZnVuY3Rpb24odCkge1xuICAgICAgICByZXR1cm4gdC5faWQgPT09IHByZXZpb3VzX3RyYWNlX2lkO1xuICAgICAgfSk7XG4gICAgICBwcmV2aW91c190cmFjZV9zdGVwX2lkID0gcHJldmlvdXNfdHJhY2Uuc3RlcDtcbiAgICAgIHByZXZpb3VzX3RyYWNlX25hbWUgPSBwcmV2aW91c190cmFjZS5uYW1lO1xuICAgICAgZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KTtcbiAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgaWYgKHByZXZpb3VzX3N0ZXAuc3RlcF90eXBlID09PSBcImNvdW50ZXJTaWduXCIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5LiN6IO95Y+W5ZueJyk7XG4gICAgICB9XG4gICAgICBwcmV2aW91c190cmFjZV9hcHByb3ZlcyA9IF8uZmlsdGVyKHByZXZpb3VzX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgIHJldHVybiBhLnR5cGUgIT09ICdjYycgJiYgYS50eXBlICE9PSAnZGlzdHJpYnV0ZScgJiYgYS50eXBlICE9PSAnZm9yd2FyZCcgJiYgWydhcHByb3ZlZCcsICdzdWJtaXR0ZWQnLCAncmVqZWN0ZWQnXS5pbmNsdWRlcyhhLmp1ZGdlKTtcbiAgICAgIH0pO1xuICAgICAgaWYgKHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzLmxlbmd0aCA9PT0gMSAmJiAocHJldmlvdXNfdHJhY2VfYXBwcm92ZXNbMF0udXNlciA9PT0gY3VycmVudF91c2VyIHx8IHByZXZpb3VzX3RyYWNlX2FwcHJvdmVzWzBdLmhhbmRsZXIgPT09IGN1cnJlbnRfdXNlcikpIHtcbiAgICAgICAgcmV0cmlldmVfdHlwZSA9ICdub3JtYWwnO1xuICAgICAgfVxuICAgICAgaSA9IHRyYWNlcy5sZW5ndGg7XG4gICAgICByZXRyaWV2ZV9hcHByb3ZlID0ge307XG4gICAgICB3aGlsZSAoaSA+IDApIHtcbiAgICAgICAgXy5lYWNoKHRyYWNlc1tpIC0gMV0uYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICBpZiAoYS50eXBlID09PSAnY2MnICYmIGEuaXNfZmluaXNoZWQgPT09IHRydWUgJiYgYS51c2VyID09PSBjdXJyZW50X3VzZXIpIHtcbiAgICAgICAgICAgIHJldHJpZXZlX3R5cGUgPSAnY2MnO1xuICAgICAgICAgICAgcmV0dXJuIHJldHJpZXZlX2FwcHJvdmUgPSBhO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChyZXRyaWV2ZV90eXBlID09PSAnY2MnKSB7XG4gICAgICAgICAgYnJlYWs7XG4gICAgICAgIH1cbiAgICAgICAgaS0tO1xuICAgICAgfVxuICAgICAgaWYgKHJldHJpZXZlX3R5cGUgPT09ICdub3JtYWwnKSB7XG4gICAgICAgIGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdyk7XG4gICAgICAgIHByZXZpb3VzX3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQpO1xuICAgICAgICBzcGFjZV9pZCA9IGluc3RhbmNlLnNwYWNlO1xuICAgICAgICBpbnN0YW5jZV9pZCA9IGluc3RhbmNlLl9pZDtcbiAgICAgICAgb2xkX2luYm94X3VzZXJzID0gaW5zdGFuY2UuaW5ib3hfdXNlcnM7XG4gICAgICAgIHNldE9iaiA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5vdyA9IG5ldyBEYXRlO1xuICAgICAgICBfLmVhY2godHJhY2VzLCBmdW5jdGlvbih0KSB7XG4gICAgICAgICAgdmFyIGN1cnJlbnRfc3BhY2VfdXNlciwgY3VycmVudF91c2VyX29yZ2FuaXphdGlvbiwgcmV0cmlldmVfYXBwcjtcbiAgICAgICAgICBpZiAodC5faWQgPT09IGxhc3RfdHJhY2VfaWQpIHtcbiAgICAgICAgICAgIGlmICghdC5hcHByb3Zlcykge1xuICAgICAgICAgICAgICB0LmFwcHJvdmVzID0gbmV3IEFycmF5O1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGFwcHIpIHtcbiAgICAgICAgICAgICAgaWYgKGFwcHIuaXNfZmluaXNoZWQgPT09IGZhbHNlICYmIGFwcHIudHlwZSAhPT0gXCJjY1wiKSB7XG4gICAgICAgICAgICAgICAgYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgICAgIGFwcHIuZmluaXNoX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICAgICAgYXBwci5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICAgICAgICAgIGFwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICAgICAgYXBwci5qdWRnZSA9IFwidGVybWluYXRlZFwiO1xuICAgICAgICAgICAgICAgIHJldHVybiBhcHByLmNvc3RfdGltZSA9IGFwcHIuZmluaXNoX2RhdGUgLSBhcHByLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgY3VycmVudF9zcGFjZV91c2VyID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXIoc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgICAgICAgICBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uID0gZGIub3JnYW5pemF0aW9ucy5maW5kT25lKGN1cnJlbnRfc3BhY2VfdXNlci5vcmdhbml6YXRpb24sIHtcbiAgICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgICAgbmFtZTogMSxcbiAgICAgICAgICAgICAgICBmdWxsbmFtZTogMVxuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIgPSBuZXcgT2JqZWN0O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pbnN0YW5jZSA9IGluc3RhbmNlX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci50cmFjZSA9IHQuX2lkO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5pc19maW5pc2hlZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLnVzZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXIgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfbmFtZSA9IGN1cnJlbnRfdXNlcl9pbmZvLm5hbWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gY3VycmVudF9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGN1cnJlbnRfdXNlcl9vcmdhbml6YXRpb24ubmFtZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBjdXJyZW50X3VzZXJfb3JnYW5pemF0aW9uLmZ1bGxuYW1lO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuZHVlX2RhdGUgPSB0LmR1ZV9kYXRlO1xuICAgICAgICAgICAgcmV0cmlldmVfYXBwci5yZWFkX2RhdGUgPSBub3c7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfcmVhZCA9IHRydWU7XG4gICAgICAgICAgICByZXRyaWV2ZV9hcHByLmRlc2NyaXB0aW9uID0gcmV0cmlldmVfY29tbWVudDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuaXNfZXJyb3IgPSBmYWxzZTtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIudmFsdWVzID0gbmV3IE9iamVjdDtcbiAgICAgICAgICAgIHJldHJpZXZlX2FwcHIuY29zdF90aW1lID0gcmV0cmlldmVfYXBwci5maW5pc2hfZGF0ZSAtIHJldHJpZXZlX2FwcHIuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgIHQuYXBwcm92ZXMucHVzaChyZXRyaWV2ZV9hcHByKTtcbiAgICAgICAgICAgIHQuaXNfZmluaXNoZWQgPSB0cnVlO1xuICAgICAgICAgICAgdC5maW5pc2hfZGF0ZSA9IG5vdztcbiAgICAgICAgICAgIHJldHVybiB0Lmp1ZGdlID0gXCJyZXRyaWV2ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBuZXdUcmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgICAgIG5ld1RyYWNlLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XG4gICAgICAgIG5ld1RyYWNlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld1RyYWNlLnByZXZpb3VzX3RyYWNlX2lkcyA9IFtsYXN0X3RyYWNlX2lkXTtcbiAgICAgICAgbmV3VHJhY2UuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3VHJhY2Uuc3RlcCA9IHByZXZpb3VzX3RyYWNlX3N0ZXBfaWQ7XG4gICAgICAgIG5ld1RyYWNlLm5hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBuZXdUcmFjZS5zdGFydF9kYXRlID0gbm93O1xuICAgICAgICBuZXdUcmFjZS5kdWVfZGF0ZSA9IHV1Zmxvd01hbmFnZXIuZ2V0RHVlRGF0ZShwcmV2aW91c19zdGVwLnRpbWVvdXRfaG91cnMpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3ZlcyA9IFtdO1xuICAgICAgICBuZXdBcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICAgICAgbmV3QXBwcm92ZS5faWQgPSBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyO1xuICAgICAgICBuZXdBcHByb3ZlLmluc3RhbmNlID0gaW5zdGFuY2VfaWQ7XG4gICAgICAgIG5ld0FwcHJvdmUudHJhY2UgPSBuZXdUcmFjZS5faWQ7XG4gICAgICAgIG5ld0FwcHJvdmUuaXNfZmluaXNoZWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS51c2VyID0gY3VycmVudF91c2VyO1xuICAgICAgICBoYW5kbGVyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlciwge1xuICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgbmFtZTogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIG5ld0FwcHJvdmUudXNlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XG4gICAgICAgIG5ld0FwcHJvdmUuaGFuZGxlciA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcbiAgICAgICAgc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgICAgICBvcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhzcGFjZV91c2VyKTtcbiAgICAgICAgbmV3QXBwcm92ZS5oYW5kbGVyX29yZ2FuaXphdGlvbiA9IG9yZ19pbmZvW1wib3JnYW5pemF0aW9uXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUgPSBvcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9uYW1lXCJdO1xuICAgICAgICBuZXdBcHByb3ZlLmhhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICAgIG5ld0FwcHJvdmUuc3RhcnRfZGF0ZSA9IG5vdztcbiAgICAgICAgbmV3QXBwcm92ZS5kdWVfZGF0ZSA9IG5ld1RyYWNlLmR1ZV9kYXRlO1xuICAgICAgICBuZXdBcHByb3ZlLmlzX3JlYWQgPSBmYWxzZTtcbiAgICAgICAgbmV3QXBwcm92ZS5pc19lcnJvciA9IGZhbHNlO1xuICAgICAgICBuZXdBcHByb3ZlLnZhbHVlcyA9IG5ldyBPYmplY3Q7XG4gICAgICAgIHV1Zmxvd01hbmFnZXIuc2V0UmVtaW5kSW5mbyhpbnN0YW5jZS52YWx1ZXMsIG5ld0FwcHJvdmUpO1xuICAgICAgICBuZXdUcmFjZS5hcHByb3Zlcy5wdXNoKG5ld0FwcHJvdmUpO1xuICAgICAgICBzZXRPYmouaW5ib3hfdXNlcnMgPSBbY3VycmVudF91c2VyXTtcbiAgICAgICAgc2V0T2JqLm1vZGlmaWVkID0gbm93O1xuICAgICAgICBzZXRPYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXI7XG4gICAgICAgIHRyYWNlcy5wdXNoKG5ld1RyYWNlKTtcbiAgICAgICAgc2V0T2JqLnRyYWNlcyA9IHRyYWNlcztcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX25hbWUgPSBwcmV2aW91c190cmFjZV9uYW1lO1xuICAgICAgICBzZXRPYmouY3VycmVudF9zdGVwX2F1dG9fc3VibWl0ID0gdXVmbG93TWFuYWdlci5nZXRDdXJyZW50U3RlcEF1dG9TdWJtaXQoZmxvdy50aW1lb3V0X2F1dG9fc3VibWl0LCBwcmV2aW91c19zdGVwLmxpbmVzKTtcbiAgICAgICAgciA9IGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgICAgIF9pZDogaW5zdGFuY2VfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgICBfLmVhY2gob2xkX2luYm94X3VzZXJzLCBmdW5jdGlvbih1c2VyX2lkKSB7XG4gICAgICAgICAgICBpZiAodXNlcl9pZCAhPT0gY3VycmVudF91c2VyKSB7XG4gICAgICAgICAgICAgIHJldHVybiBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgaW5zID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnN0YW5jZV9pZCk7XG4gICAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIGlucy5pbmJveF91c2Vycyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSBpZiAocmV0cmlldmVfdHlwZSA9PT0gJ2NjJykge1xuICAgICAgICBzZXRPYmogPSBuZXcgT2JqZWN0O1xuICAgICAgICBub3cgPSBuZXcgRGF0ZTtcbiAgICAgICAgaW5zdGFuY2VfaWQgPSBpbnN0YW5jZS5faWQ7XG4gICAgICAgIHRoZV90cmFjZSA9IF8uZmluZCh0cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICByZXR1cm4gdC5faWQgPT09IHJldHJpZXZlX2FwcHJvdmUudHJhY2U7XG4gICAgICAgIH0pO1xuICAgICAgICBfLmVhY2godGhlX3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICAgICAgaWYgKGEuX2lkID09PSByZXRyaWV2ZV9hcHByb3ZlLl9pZCkge1xuICAgICAgICAgICAgYS5pc19maW5pc2hlZCA9IGZhbHNlO1xuICAgICAgICAgICAgYS5maW5pc2hfZGF0ZSA9IHZvaWQgMDtcbiAgICAgICAgICAgIGEuanVkZ2UgPSB2b2lkIDA7XG4gICAgICAgICAgICByZXR1cm4gYS5jb3N0X3RpbWUgPSB2b2lkIDA7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgY2NfdXNlcnMgPSBpbnN0YW5jZS5jY191c2VycztcbiAgICAgICAgY2NfdXNlcnMucHVzaChjdXJyZW50X3VzZXIpO1xuICAgICAgICBzZXRPYmoubW9kaWZpZWQgPSBub3c7XG4gICAgICAgIHNldE9iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcjtcbiAgICAgICAgc2V0T2JqLnN0YXRlID0gXCJwZW5kaW5nXCI7XG4gICAgICAgIHNldE9iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xuICAgICAgICBzZXRPYmouY2NfdXNlcnMgPSBjY191c2VycztcbiAgICAgICAgc2V0T2JqWyd0cmFjZXMuJC5hcHByb3ZlcyddID0gdGhlX3RyYWNlLmFwcHJvdmVzO1xuICAgICAgICByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XG4gICAgICAgICAgX2lkOiBpbnN0YW5jZV9pZCxcbiAgICAgICAgICAndHJhY2VzLl9pZCc6IHJldHJpZXZlX2FwcHJvdmUudHJhY2VcbiAgICAgICAgfSwge1xuICAgICAgICAgICRzZXQ6IHNldE9ialxuICAgICAgICB9KTtcbiAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICBwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfY3VycmVudF91c2VyKGN1cnJlbnRfdXNlcl9pbmZvKTtcbiAgICAgICAgfVxuICAgICAgICBpbnMgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc3RhbmNlX2lkKTtcbiAgICAgICAgcmV0dXJuIHB1c2hNYW5hZ2VyLnRyaWdnZXJXZWJob29rKGlucy5mbG93LCBpbnMsIHt9LCAncmV0cmlldmUnLCBjdXJyZW50X3VzZXIsIFtjdXJyZW50X3VzZXJdKTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge31cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy9hcGkvd29ya2Zsb3cvZm9yd2FyZCcsIGZ1bmN0aW9uIChyZXEsIHJlcywgbmV4dCkge1xyXG5cdHRyeSB7XHJcblx0XHR2YXIgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKTtcclxuXHRcdHZhciBjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XHJcblxyXG5cdFx0dmFyIGhhc2hEYXRhID0gcmVxLmJvZHk7XHJcblx0XHR2YXIgaW5zdGFuY2VfaWQgPSBoYXNoRGF0YS5pbnN0YW5jZV9pZDtcclxuXHRcdHZhciBzcGFjZV9pZCA9IGhhc2hEYXRhLnNwYWNlX2lkO1xyXG5cdFx0dmFyIGZsb3dfaWQgPSBoYXNoRGF0YS5mbG93X2lkO1xyXG5cdFx0dmFyIGhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudCA9IGhhc2hEYXRhLmhhc1NhdmVJbnN0YW5jZVRvQXR0YWNobWVudDtcclxuXHRcdHZhciBkZXNjcmlwdGlvbiA9IGhhc2hEYXRhLmRlc2NyaXB0aW9uO1xyXG5cdFx0dmFyIGlzRm9yd2FyZEF0dGFjaG1lbnRzID0gaGFzaERhdGEuaXNGb3J3YXJkQXR0YWNobWVudHM7XHJcblx0XHR2YXIgc2VsZWN0ZWRVc2VycyA9IGhhc2hEYXRhLnNlbGVjdGVkVXNlcnM7XHJcblx0XHR2YXIgYWN0aW9uX3R5cGUgPSBoYXNoRGF0YS5hY3Rpb25fdHlwZTtcclxuXHRcdHZhciByZWxhdGVkID0gaGFzaERhdGEucmVsYXRlZDtcclxuXHRcdHZhciBmcm9tX2FwcHJvdmVfaWQgPSBoYXNoRGF0YS5mcm9tX2FwcHJvdmVfaWQ7XHJcblxyXG5cdFx0Y2hlY2soaW5zdGFuY2VfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhzcGFjZV9pZCwgU3RyaW5nKTtcclxuXHRcdGNoZWNrKGZsb3dfaWQsIFN0cmluZyk7XHJcblx0XHRjaGVjayhoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQsIEJvb2xlYW4pO1xyXG5cdFx0Y2hlY2soZGVzY3JpcHRpb24sIFN0cmluZyk7XHJcblx0XHRjaGVjayhpc0ZvcndhcmRBdHRhY2htZW50cywgQm9vbGVhbik7XHJcblx0XHRjaGVjayhzZWxlY3RlZFVzZXJzLCBBcnJheSk7XHJcblx0XHRjaGVjayhhY3Rpb25fdHlwZSwgTWF0Y2guT25lT2YoJ2ZvcndhcmQnLCAnZGlzdHJpYnV0ZScpKTtcclxuXHJcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpXHJcblx0XHRcdGNoZWNrKGZyb21fYXBwcm92ZV9pZCwgU3RyaW5nKTtcclxuXHJcblx0XHR2YXIgaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUoaW5zdGFuY2VfaWQpO1xyXG5cdFx0dmFyIG9sZF9zcGFjZV9pZCA9IGlucy5zcGFjZTtcclxuXHJcblx0XHR2YXIgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoZmxvd19pZCk7XHJcblxyXG5cdFx0dmFyIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VfaWQpO1xyXG5cclxuXHRcdGlmICghaW5zIHx8ICFmbG93IHx8ICFzcGFjZSkge1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdwYXJhbXMgZXJyb3IhJywgJ3JlY29yZCBub3QgZXhpc3RzIScpO1xyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBmb3J3YXJkX3VzZXJzID0gbmV3IEFycmF5O1xyXG5cdFx0aWYgKF8uaXNFbXB0eShzZWxlY3RlZFVzZXJzKSkge1xyXG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gW2N1cnJlbnRfdXNlcl9pZF07XHJcblx0XHR9IGVsc2Uge1xyXG5cdFx0XHRmb3J3YXJkX3VzZXJzID0gc2VsZWN0ZWRVc2VycztcclxuXHRcdH1cclxuXHJcblx0XHQvLyDmoKHpqozliIblj5Hlr7nosaHmmK/lkKbmnInliIblj5HmtYHnqIvnmoTmj5DkuqTmnYPpmZBcclxuXHRcdHZhciBub19wZXJtaXNzaW9uX3VzZXJfaWRzID0gbmV3IEFycmF5KCk7XHJcblx0XHRfLmVhY2goZm9yd2FyZF91c2VycywgZnVuY3Rpb24gKHVpZCkge1xyXG5cdFx0XHR2YXIgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd19pZCwgdWlkKTtcclxuXHRcdFx0aWYgKCFwZXJtaXNzaW9ucy5pbmNsdWRlcyhcImFkZFwiKSkge1xyXG5cdFx0XHRcdC8vIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yIScsIFwi6K+l55Sz6K+35Lq65rKh5pyJ5o+Q5Lqk5q2k55Sz6K+35Y2V55qE5p2D6ZmQ44CCXCIpXHJcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2VyX2lkcy5wdXNoKHVpZCk7XHJcblx0XHRcdH1cclxuXHRcdH0pXHJcblx0XHRpZiAoIV8uaXNFbXB0eShub19wZXJtaXNzaW9uX3VzZXJfaWRzKSkge1xyXG5cdFx0XHR2YXIgbm9fcGVybWlzc2lvbl91c2Vyc19uYW1lID0gbmV3IEFycmF5KCk7XHJcblx0XHRcdGRiLnVzZXJzLmZpbmQoe1xyXG5cdFx0XHRcdF9pZDoge1xyXG5cdFx0XHRcdFx0JGluOiBub19wZXJtaXNzaW9uX3VzZXJfaWRzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LCB7XHJcblx0XHRcdFx0ZmllbGRzOiB7XHJcblx0XHRcdFx0XHRuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KS5mb3JFYWNoKGZ1bmN0aW9uICh1KSB7XHJcblx0XHRcdFx0bm9fcGVybWlzc2lvbl91c2Vyc19uYW1lLnB1c2godS5uYW1lKTtcclxuXHRcdFx0fSk7XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ25vX3Blcm1pc3Npb24nLCBcIuivpeaPkOS6pOS6uuayoeacieaPkOS6pOatpOeUs+ivt+WNleeahOadg+mZkOOAglwiLCBub19wZXJtaXNzaW9uX3VzZXJzX25hbWUuam9pbignLCcpKVxyXG5cdFx0fVxyXG5cclxuXHRcdHZhciBuZXdfaW5zX2lkcyA9IG5ldyBBcnJheTtcclxuXHJcblx0XHR2YXIgY3VycmVudF90cmFjZSA9IG51bGw7XHJcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT0gXCJkaXN0cmlidXRlXCIpIHtcclxuXHRcdFx0Xy5lYWNoKGlucy50cmFjZXMsIGZ1bmN0aW9uICh0KSB7XHJcblx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XHJcblx0XHRcdFx0XHRfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24gKGEpIHtcclxuXHRcdFx0XHRcdFx0aWYgKCFjdXJyZW50X3RyYWNlKSB7XHJcblx0XHRcdFx0XHRcdFx0aWYgKGEuX2lkID09IGZyb21fYXBwcm92ZV9pZClcclxuXHRcdFx0XHRcdFx0XHRcdGN1cnJlbnRfdHJhY2UgPSB0O1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGN1cnJlbnRfdHJhY2UgPSBfLmxhc3QoaW5zLnRyYWNlcyk7XHJcblx0XHR9XHJcblx0XHR2YXIgY3VycmVudF90cmFjZV9pZCA9IGN1cnJlbnRfdHJhY2UuX2lkO1xyXG5cdFx0dmFyIGZvcndhcmRfYXBwcm92ZXMgPSBbXTtcclxuXHRcdHZhciBmcm9tX3VzZXJfbmFtZSA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyX2lkLCB7XHJcblx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdG5hbWU6IDFcclxuXHRcdFx0fVxyXG5cdFx0fSkubmFtZVxyXG5cdFx0dmFyIHNldF9vYmogPSBuZXcgT2JqZWN0O1xyXG5cclxuXHRcdC8vIOiuoeeul3ZhbHVlc1xyXG5cdFx0dmFyIG9sZF92YWx1ZXMgPSBpbnMudmFsdWVzLFxyXG5cdFx0XHRuZXdfdmFsdWVzID0ge307XHJcblx0XHR2YXIgZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoZmxvdy5mb3JtKTtcclxuXHRcdHZhciBmaWVsZHMgPSBmb3JtLmN1cnJlbnQuZmllbGRzIHx8IFtdO1xyXG5cclxuXHRcdHZhciBvbGRfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUoaW5zLmZvcm0pO1xyXG5cdFx0dmFyIG9sZF9mb3JtX3ZlcnNpb24gPSBpbnMuZm9ybV92ZXJzaW9uLFxyXG5cdFx0XHRvbGRfZmllbGRzID0gW10sXHJcblx0XHRcdGNvbW1vbl9maWVsZHMgPSBbXTtcclxuXHJcblx0XHR2YXIgc2VsZWN0X3RvX2lucHV0X2ZpZWxkcyA9IFtdO1xyXG5cclxuXHRcdGlmIChvbGRfZm9ybS5jdXJyZW50Ll9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKSB7XHJcblx0XHRcdG9sZF9maWVsZHMgPSBvbGRfZm9ybS5jdXJyZW50LmZpZWxkcztcclxuXHRcdH0gZWxzZSB7XHJcblx0XHRcdGlmIChvbGRfZm9ybS5oaXN0b3J5cykge1xyXG5cdFx0XHRcdG9sZF9mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24gKGgpIHtcclxuXHRcdFx0XHRcdGlmIChoLl9pZCA9PSBvbGRfZm9ybV92ZXJzaW9uKVxyXG5cdFx0XHRcdFx0XHRvbGRfZmllbGRzID0gaC5maWVsZHM7XHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG5cclxuXHRcdGZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHR2YXIgZXhpc3RzX2ZpZWxkID0gXy5maW5kKG9sZF9maWVsZHMsIGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0cmV0dXJuIGYudHlwZSA9PSBmaWVsZC50eXBlICYmIGYuY29kZSA9PSBmaWVsZC5jb2RlO1xyXG5cdFx0XHR9KVxyXG5cdFx0XHRpZiAoZXhpc3RzX2ZpZWxkKVxyXG5cdFx0XHRcdGNvbW1vbl9maWVsZHMucHVzaChmaWVsZCk7XHJcblx0XHRcdHZhciBzZWxlY3RfaW5wdXRfZmllbGQgPSBfLmZpbmQob2xkX2ZpZWxkcywgZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRyZXR1cm4gZi50eXBlID09ICdzZWxlY3QnICYmIGZpZWxkLnR5cGUgPT0gJ2lucHV0JyAmJiBmLmNvZGUgPT0gZmllbGQuY29kZTtcclxuXHRcdFx0fSlcclxuXHRcdFx0aWYgKHNlbGVjdF9pbnB1dF9maWVsZClcclxuXHRcdFx0XHRzZWxlY3RfdG9faW5wdXRfZmllbGRzLnB1c2goc2VsZWN0X2lucHV0X2ZpZWxkKTtcclxuXHRcdH0pXHJcblxyXG5cdFx0c2VsZWN0X3RvX2lucHV0X2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmaWVsZCkge1xyXG5cdFx0XHRpZiAob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkge1xyXG5cdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdO1xyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cclxuXHRcdGNvbW1vbl9maWVsZHMuZm9yRWFjaChmdW5jdGlvbiAoZmllbGQpIHtcclxuXHRcdFx0aWYgKGZpZWxkLnR5cGUgPT0gJ3NlY3Rpb24nKSB7XHJcblx0XHRcdFx0aWYgKGZpZWxkLmZpZWxkcykge1xyXG5cdFx0XHRcdFx0ZmllbGQuZmllbGRzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdFx0Ly8g6Leo5bel5L2c5Yy66L2s5Y+R5LiN5aSN5Yi26YCJ5Lq66YCJ57uEXHJcblx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xyXG5cdFx0XHRcdFx0XHR2YXIgb2xkX3YgPSBvbGRfdmFsdWVzW2tleV07XHJcblx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xyXG5cdFx0XHRcdFx0XHRcdC8vIOagoemqjCDljZXpgInvvIzlpJrpgInvvIzkuIvmi4nmoYYg5a2X5q615YC85piv5ZCm5Zyo5paw6KGo5Y2V5a+55bqU5a2X5q6155qE5Y+v6YCJ5YC86IyD5Zu05YaFXHJcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnc2VsZWN0JyB8fCBmLnR5cGUgPT0gJ3JhZGlvJykge1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgKCFvcHRpb25zLmluY2x1ZGVzKG9sZF92KSlcclxuXHRcdFx0XHRcdFx0XHRcdFx0cmV0dXJuO1xyXG5cdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0aWYgKGYudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGYub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG5ld19tdWx0aVNlbGVjdGVkID0gXy5pbnRlcnNlY3Rpb24ob3B0aW9ucywgb2xkX211bHRpU2VsZWN0ZWQpO1xyXG5cdFx0XHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRuZXdfdmFsdWVzW2tleV0gPSBvbGRfdjtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSlcclxuXHRcdFx0XHR9XHJcblx0XHRcdH0gZWxzZSBpZiAoZmllbGQudHlwZSA9PSAndGFibGUnKSB7XHJcblx0XHRcdFx0aWYgKCFfLmlzRW1wdHkob2xkX3ZhbHVlc1tmaWVsZC5jb2RlXSkpIHtcclxuXHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0gPSBuZXcgQXJyYXk7XHJcblx0XHRcdFx0XHRvbGRfdmFsdWVzW2ZpZWxkLmNvZGVdLmZvckVhY2goZnVuY3Rpb24gKG9sZF90YWJsZV9yb3dfdmFsdWVzKSB7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfdGFibGVfcm93X3ZhbHVlcyA9IHt9O1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgKCFfLmlzRW1wdHkoZmllbGQuZmllbGRzKSkge1xyXG5cdFx0XHRcdFx0XHRcdGZpZWxkLmZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uIChmKSB7XHJcblx0XHRcdFx0XHRcdFx0XHQvLyDot6jlt6XkvZzljLrovazlj5HkuI3lpI3liLbpgInkurrpgInnu4RcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmLnR5cGUpICYmIG9sZF9zcGFjZV9pZCAhPSBzcGFjZV9pZCkge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHR2YXIga2V5ID0gZi5jb2RlO1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3RhYmxlX3Jvd192YWx1ZXNba2V5XTtcclxuXHRcdFx0XHRcdFx0XHRcdGlmIChvbGRfdikge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHQvLyDmoKHpqowg5Y2V6YCJ77yM5aSa6YCJ77yM5LiL5ouJ5qGGIOWtl+auteWAvOaYr+WQpuWcqOaWsOihqOWNleWvueW6lOWtl+auteeahOWPr+mAieWAvOiMg+WbtOWGhVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRpZiAoZi50eXBlID09ICdzZWxlY3QnIHx8IGYudHlwZSA9PSAncmFkaW8nKSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0dmFyIG9wdGlvbnMgPSBmLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGlmICghb3B0aW9ucy5pbmNsdWRlcyhvbGRfdikpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIChmLnR5cGUgPT0gJ211bHRpU2VsZWN0Jykge1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZi5vcHRpb25zLnNwbGl0KCdcXG4nKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHR2YXIgb2xkX211bHRpU2VsZWN0ZWQgPSBvbGRfdi5zcGxpdCgnLCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvbGRfdiA9IG5ld19tdWx0aVNlbGVjdGVkLmpvaW4oJywnKTtcclxuXHRcdFx0XHRcdFx0XHRcdFx0fVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdFx0bmV3X3RhYmxlX3Jvd192YWx1ZXNba2V5XSA9IG9sZF92O1xyXG5cdFx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRcdGlmICghXy5pc0VtcHR5KG5ld190YWJsZV9yb3dfdmFsdWVzKSkge1xyXG5cdFx0XHRcdFx0XHRcdG5ld192YWx1ZXNbZmllbGQuY29kZV0ucHVzaChuZXdfdGFibGVfcm93X3ZhbHVlcyk7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdC8vIOi3qOW3peS9nOWMuui9rOWPkeS4jeWkjeWItumAieS6uumAiee7hFxyXG5cdFx0XHRcdGlmIChbJ2dyb3VwJywgJ3VzZXInXS5pbmNsdWRlcyhmaWVsZC50eXBlKSAmJiBvbGRfc3BhY2VfaWQgIT0gc3BhY2VfaWQpIHtcclxuXHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHR9XHJcblx0XHRcdFx0dmFyIGtleSA9IGZpZWxkLmNvZGU7XHJcblx0XHRcdFx0dmFyIG9sZF92ID0gb2xkX3ZhbHVlc1trZXldO1xyXG5cdFx0XHRcdGlmIChvbGRfdikge1xyXG5cdFx0XHRcdFx0Ly8g5qCh6aqMIOWNlemAie+8jOWkmumAie+8jOS4i+aLieahhiDlrZfmrrXlgLzmmK/lkKblnKjmlrDooajljZXlr7nlupTlrZfmrrXnmoTlj6/pgInlgLzojIPlm7TlhoVcclxuXHRcdFx0XHRcdGlmIChmaWVsZC50eXBlID09ICdzZWxlY3QnIHx8IGZpZWxkLnR5cGUgPT0gJ3JhZGlvJykge1xyXG5cdFx0XHRcdFx0XHR2YXIgb3B0aW9ucyA9IGZpZWxkLm9wdGlvbnMuc3BsaXQoJ1xcbicpO1xyXG5cdFx0XHRcdFx0XHRpZiAoIW9wdGlvbnMuaW5jbHVkZXMob2xkX3YpKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHRpZiAoZmllbGQudHlwZSA9PSAnbXVsdGlTZWxlY3QnKSB7XHJcblx0XHRcdFx0XHRcdHZhciBvcHRpb25zID0gZmllbGQub3B0aW9ucy5zcGxpdCgnXFxuJyk7XHJcblx0XHRcdFx0XHRcdHZhciBvbGRfbXVsdGlTZWxlY3RlZCA9IG9sZF92LnNwbGl0KCcsJyk7XHJcblx0XHRcdFx0XHRcdHZhciBuZXdfbXVsdGlTZWxlY3RlZCA9IF8uaW50ZXJzZWN0aW9uKG9wdGlvbnMsIG9sZF9tdWx0aVNlbGVjdGVkKTtcclxuXHRcdFx0XHRcdFx0b2xkX3YgPSBuZXdfbXVsdGlTZWxlY3RlZC5qb2luKCcsJyk7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0bmV3X3ZhbHVlc1trZXldID0gb2xkX3Y7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0fSlcclxuXHJcblx0XHQvL+WmguaenOaYr+WIhuWPke+8jOWImXZhbHVl5Lit55qEcmVjb3JkX25lZWTjgIFGT05EU0lE5LiN6ZyA6KaB5YiG5Y+R5Yiw5paw55Sz6K+35Y2V5LitXHJcblx0XHRpZiAoYWN0aW9uX3R5cGUgPT09ICdkaXN0cmlidXRlJykge1xyXG5cdFx0XHRkZWxldGUgbmV3X3ZhbHVlcy5yZWNvcmRfbmVlZDtcclxuXHRcdFx0ZGVsZXRlIG5ld192YWx1ZXMuRk9ORFNJRDtcclxuXHRcdH1cclxuXHJcblx0XHQvLyDorqHnrpfnlLPor7fljZXmoIfpophcclxuXHRcdHZhciBpbnN0YW5jZV9uYW1lID0gXCJcIjtcclxuXHRcdHZhciBuYW1lX2ZvcnVtbGEgPSBmb3JtLmN1cnJlbnQubmFtZV9mb3J1bWxhO1xyXG5cdFx0aWYgKG5hbWVfZm9ydW1sYSkge1xyXG5cdFx0XHR0cnkge1xyXG5cdFx0XHRcdHZhciBpc2NyaXB0ID0gbmFtZV9mb3J1bWxhLnJlcGxhY2UoL1xcey9nLCBcIihuZXdfdmFsdWVzWydcIikucmVwbGFjZSgvXFx9L2csIFwiJ10gfHwgJycpXCIpO1xyXG5cdFx0XHRcdHZhciByZXYgPSBldmFsKGlzY3JpcHQpO1xyXG5cdFx0XHRcdGluc3RhbmNlX25hbWUgPSByZXYgfHwgZmxvdy5uYW1lO1xyXG5cdFx0XHR9IGNhdGNoIChlcnJvcikge1xyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2NhY3VsYXRlX2luc3RhbmNlX25hbWUnLCBcIuiuoeeul+eUs+ivt+WNleagh+mimOWHuumUmeivt+ajgOafpeihqOWNleagh+mimOiEmuacrOOAglwiKTtcclxuXHRcdFx0fVxyXG5cdFx0fSBlbHNlIHtcclxuXHRcdFx0aW5zdGFuY2VfbmFtZSA9IGZsb3cubmFtZTtcclxuXHRcdH1cclxuXHJcblx0XHQvLyBpbnN0YW5jZeS4reiusOW9leW9k+WJjeatpemqpOWQjeensCAjMTMxNFxyXG5cdFx0dmFyIHN0YXJ0X3N0ZXAgPSBfLmZpbmQoZmxvdy5jdXJyZW50LnN0ZXBzLCBmdW5jdGlvbiAoc3RlcCkge1xyXG5cdFx0XHRyZXR1cm4gc3RlcC5zdGVwX3R5cGUgPT0gJ3N0YXJ0JztcclxuXHRcdH0pXHJcblxyXG5cdFx0Ly8g5paw5bu655Sz6K+35Y2V5pe277yMaW5zdGFuY2Vz6K6w5b2V5rWB56iL5ZCN56ew44CB5rWB56iL5YiG57G75ZCN56ewICMxMzEzXHJcblx0XHR2YXIgY2F0ZWdvcnlfbmFtZSA9IFwiXCI7XHJcblx0XHRpZiAoZm9ybS5jYXRlZ29yeSkge1xyXG5cdFx0XHR2YXIgY2F0ZWdvcnkgPSB1dWZsb3dNYW5hZ2VyLmdldENhdGVnb3J5KGZvcm0uY2F0ZWdvcnkpO1xyXG5cdFx0XHRpZiAoY2F0ZWdvcnkpXHJcblx0XHRcdFx0Y2F0ZWdvcnlfbmFtZSA9IGNhdGVnb3J5Lm5hbWU7XHJcblx0XHR9XHJcblxyXG5cdFx0Xy5lYWNoKGZvcndhcmRfdXNlcnMsIGZ1bmN0aW9uICh1c2VyX2lkKSB7XHJcblxyXG5cdFx0XHR2YXIgdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh1c2VyX2lkKTtcclxuXHJcblx0XHRcdHZhciBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XHJcblx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdHVzZXI6IHVzZXJfaWRcclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9uOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHRcdFx0dmFyIHNwYWNlX3VzZXJfb3JnX2luZm8gPSBkYi5vcmdhbml6YXRpb25zLmZpbmRPbmUoe1xyXG5cdFx0XHRcdF9pZDogc3BhY2VfdXNlci5vcmdhbml6YXRpb25cclxuXHRcdFx0fSwge1xyXG5cdFx0XHRcdGZpZWxkczoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdGZ1bGxuYW1lOiAxXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KTtcclxuXHJcblx0XHRcdHZhciBub3cgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0XHR2YXIgaW5zX29iaiA9IHt9O1xyXG5cclxuXHRcdFx0dmFyIGFnZW50ID0gdXVmbG93TWFuYWdlci5nZXRBZ2VudChzcGFjZV9pZCwgdXNlcl9pZCk7XHJcblx0XHRcdHZhciBoYW5kbGVyX2lkID0gdXNlcl9pZDtcclxuXHRcdFx0dmFyIGhhbmRsZXJfaW5mbyA9IHVzZXJfaW5mbztcclxuXHRcdFx0dmFyIGhhbmRsZXJfc3BhY2VfdXNlciA9IHNwYWNlX3VzZXI7XHJcblx0XHRcdHZhciBoYW5kbGVyX29yZ19pbmZvID0gc3BhY2VfdXNlcl9vcmdfaW5mbztcclxuXHRcdFx0aWYgKGFnZW50KSB7XHJcblx0XHRcdFx0aGFuZGxlcl9pZCA9IGFnZW50O1xyXG5cdFx0XHRcdGhhbmRsZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoYWdlbnQpO1xyXG5cdFx0XHRcdGhhbmRsZXJfc3BhY2VfdXNlciA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyKHNwYWNlX2lkLCBhZ2VudCk7XHJcblx0XHRcdFx0aGFuZGxlcl9vcmdfaW5mbyA9IHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2VVc2VyT3JnSW5mbyhoYW5kbGVyX3NwYWNlX3VzZXIpO1xyXG5cdFx0XHR9XHJcblx0XHRcdGluc19vYmouX2lkID0gZGIuaW5zdGFuY2VzLl9tYWtlTmV3SUQoKTtcclxuXHRcdFx0aW5zX29iai5zcGFjZSA9IHNwYWNlX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmZsb3cgPSBmbG93X2lkO1xyXG5cdFx0XHRpbnNfb2JqLmZsb3dfdmVyc2lvbiA9IGZsb3cuY3VycmVudC5faWQ7XHJcblx0XHRcdGluc19vYmouZm9ybSA9IGZsb3cuZm9ybTtcclxuXHRcdFx0aW5zX29iai5mb3JtX3ZlcnNpb24gPSBmbG93LmN1cnJlbnQuZm9ybV92ZXJzaW9uO1xyXG5cdFx0XHRpbnNfb2JqLm5hbWUgPSBpbnN0YW5jZV9uYW1lO1xyXG5cdFx0XHRpbnNfb2JqLnN1Ym1pdHRlciA9IGhhbmRsZXJfaWQ7XHJcblx0XHRcdGluc19vYmouc3VibWl0dGVyX25hbWUgPSBoYW5kbGVyX2luZm8ubmFtZTtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnQgPSB1c2VyX2lkO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9uYW1lID0gdXNlcl9pbmZvLm5hbWU7XHJcblx0XHRcdGluc19vYmouYXBwbGljYW50X29yZ2FuaXphdGlvbiA9IHNwYWNlX3VzZXIub3JnYW5pemF0aW9uO1xyXG5cdFx0XHRpbnNfb2JqLmFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZSA9IHNwYWNlX3VzZXJfb3JnX2luZm8ubmFtZTtcclxuXHRcdFx0aW5zX29iai5hcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lID0gc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZTtcclxuXHRcdFx0aW5zX29iai5zdGF0ZSA9IFwiZHJhZnRcIjtcclxuXHRcdFx0aW5zX29iai5jb2RlID0gXCJcIjtcclxuXHRcdFx0aW5zX29iai5pc19hcmNoaXZlZCA9IGZhbHNlO1xyXG5cdFx0XHRpbnNfb2JqLmlzX2RlbGV0ZWQgPSBmYWxzZTtcclxuXHRcdFx0aW5zX29iai5jcmVhdGVkID0gbm93O1xyXG5cdFx0XHRpbnNfb2JqLmNyZWF0ZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XHJcblx0XHRcdGluc19vYmoubW9kaWZpZWQgPSBub3c7XHJcblx0XHRcdGluc19vYmoubW9kaWZpZWRfYnkgPSBjdXJyZW50X3VzZXJfaWQ7XHJcblx0XHRcdGluc19vYmouaW5ib3hfdXNlcnMgPSBbaGFuZGxlcl9pZF07XHJcblx0XHRcdGluc19vYmoudmFsdWVzID0gbmV3X3ZhbHVlcztcclxuXHRcdFx0aWYgKGFjdGlvbl90eXBlID09ICdkaXN0cmlidXRlJykge1xyXG5cdFx0XHRcdC8vIOino+WGs+WkmuasoeWIhuWPkeeci+S4jeWIsOato+aWh+OAgemZhOS7tumXrumimFxyXG5cdFx0XHRcdGlmIChpbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlKSB7XHJcblx0XHRcdFx0XHRpbnNfb2JqLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZSA9IGlucy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2U7XHJcblx0XHRcdFx0fSBlbHNlIHtcclxuXHRcdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlID0gaW5zdGFuY2VfaWQ7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA9IF8uY2xvbmUoaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpIHx8IFtdO1xyXG5cdFx0XHRcdGluc19vYmouZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcy5wdXNoKGluc3RhbmNlX2lkKTtcclxuXHJcblx0XHRcdFx0aWYgKHJlbGF0ZWQpIHtcclxuXHRcdFx0XHRcdGluc19vYmoucmVsYXRlZF9pbnN0YW5jZXMgPSBbaW5zdGFuY2VfaWRdXHJcblx0XHRcdFx0fVxyXG5cclxuXHRcdFx0fSBlbHNlIGlmIChhY3Rpb25fdHlwZSA9PSAnZm9yd2FyZCcpIHtcclxuXHRcdFx0XHRpbnNfb2JqLmZvcndhcmRfZnJvbV9pbnN0YW5jZSA9IGluc3RhbmNlX2lkXHJcblx0XHRcdH1cclxuXHJcblx0XHRcdC8vIOaWsOW7ulRyYWNlXHJcblx0XHRcdHZhciB0cmFjZV9vYmogPSB7fTtcclxuXHRcdFx0dHJhY2Vfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XHJcblx0XHRcdHRyYWNlX29iai5pbnN0YW5jZSA9IGluc19vYmouX2lkO1xyXG5cdFx0XHR0cmFjZV9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcclxuXHJcblx0XHRcdC8vIOW9k+WJjeacgOaWsOeJiGZsb3fkuK3lvIDlp4voioLngrnnmoRzdGVwX2lkXHJcblx0XHRcdHZhciBzdGVwX2lkLCBzdGVwX25hbWUsIGNhbl9lZGl0X21haW5fYXR0YWNoLCBjYW5fZWRpdF9ub3JtYWxfYXR0YWNoO1xyXG5cdFx0XHRmbG93LmN1cnJlbnQuc3RlcHMuZm9yRWFjaChmdW5jdGlvbiAoc3RlcCkge1xyXG5cdFx0XHRcdGlmIChzdGVwLnN0ZXBfdHlwZSA9PSBcInN0YXJ0XCIpIHtcclxuXHRcdFx0XHRcdHN0ZXBfaWQgPSBzdGVwLl9pZDtcclxuXHRcdFx0XHRcdHN0ZXBfbmFtZSA9IHN0ZXAubmFtZTtcclxuXHRcdFx0XHRcdGNhbl9lZGl0X21haW5fYXR0YWNoID0gc3RlcC5jYW5fZWRpdF9tYWluX2F0dGFjaDtcclxuXHRcdFx0XHRcdGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggPSBzdGVwLmNhbl9lZGl0X25vcm1hbF9hdHRhY2g7XHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9KVxyXG5cdFx0XHR0cmFjZV9vYmouc3RlcCA9IHN0ZXBfaWQ7XHJcblx0XHRcdHRyYWNlX29iai5zdGFydF9kYXRlID0gbm93O1xyXG5cdFx0XHR0cmFjZV9vYmoubmFtZSA9IHN0ZXBfbmFtZTtcclxuXHJcblx0XHRcdC8vIOaWsOW7ukFwcHJvdmVcclxuXHRcdFx0dmFyIGFwcHJfb2JqID0ge307XHJcblx0XHRcdGFwcHJfb2JqLl9pZCA9IG5ldyBNb25nby5PYmplY3RJRCgpLl9zdHI7XHJcblx0XHRcdGFwcHJfb2JqLmluc3RhbmNlID0gaW5zX29iai5faWQ7XHJcblx0XHRcdGFwcHJfb2JqLnRyYWNlID0gdHJhY2Vfb2JqLl9pZDtcclxuXHRcdFx0YXBwcl9vYmouaXNfZmluaXNoZWQgPSBmYWxzZTtcclxuXHRcdFx0YXBwcl9vYmoudXNlciA9IHVzZXJfaWQ7XHJcblx0XHRcdGFwcHJfb2JqLnVzZXJfbmFtZSA9IHVzZXJfaW5mby5uYW1lO1xyXG5cdFx0XHRhcHByX29iai5oYW5kbGVyID0gaGFuZGxlcl9pZDtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9uYW1lID0gaGFuZGxlcl9pbmZvLm5hbWU7XHJcblx0XHRcdGFwcHJfb2JqLmhhbmRsZXJfb3JnYW5pemF0aW9uID0gaGFuZGxlcl9zcGFjZV91c2VyLm9yZ2FuaXphdGlvbjtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fbmFtZSA9IGhhbmRsZXJfb3JnX2luZm8ubmFtZTtcclxuXHRcdFx0YXBwcl9vYmouaGFuZGxlcl9vcmdhbml6YXRpb25fZnVsbG5hbWUgPSBoYW5kbGVyX29yZ19pbmZvLmZ1bGxuYW1lO1xyXG5cdFx0XHRhcHByX29iai50eXBlID0gXCJkcmFmdFwiO1xyXG5cdFx0XHRhcHByX29iai5zdGFydF9kYXRlID0gbm93O1xyXG5cdFx0XHRhcHByX29iai5yZWFkX2RhdGUgPSBub3c7XHJcblx0XHRcdGFwcHJfb2JqLmlzX3JlYWQgPSBmYWxzZTtcclxuXHRcdFx0YXBwcl9vYmouaXNfZXJyb3IgPSBmYWxzZTtcclxuXHJcblx0XHRcdGFwcHJfb2JqLnZhbHVlcyA9IG5ld192YWx1ZXM7XHJcblxyXG5cdFx0XHRpZiAoYWdlbnQpIHtcclxuXHRcdFx0XHRhcHByX29iai5hZ2VudCA9IGFnZW50O1xyXG5cdFx0XHR9XHJcblxyXG5cdFx0XHR0cmFjZV9vYmouYXBwcm92ZXMgPSBbYXBwcl9vYmpdO1xyXG5cdFx0XHRpbnNfb2JqLnRyYWNlcyA9IFt0cmFjZV9vYmpdO1xyXG5cclxuXHRcdFx0aWYgKGZsb3cuYXV0b19yZW1pbmQgPT0gdHJ1ZSlcclxuXHRcdFx0XHRpbnNfb2JqLmF1dG9fcmVtaW5kID0gdHJ1ZTtcclxuXHJcblx0XHRcdGluc19vYmouY3VycmVudF9zdGVwX25hbWUgPSBzdGFydF9zdGVwLm5hbWU7XHJcblxyXG5cdFx0XHRpbnNfb2JqLmZsb3dfbmFtZSA9IGZsb3cubmFtZTtcclxuXHRcdFx0aWYgKGNhdGVnb3J5X25hbWUpIHtcclxuXHRcdFx0XHRpbnNfb2JqLmNhdGVnb3J5X25hbWUgPSBjYXRlZ29yeS5uYW1lO1xyXG5cdFx0XHRcdGluc19vYmouY2F0ZWdvcnkgPSBjYXRlZ29yeS5faWQ7XHJcblx0XHRcdH1cclxuXHJcblx0XHRcdG5ld19pbnNfaWQgPSBkYi5pbnN0YW5jZXMuaW5zZXJ0KGluc19vYmopO1xyXG5cclxuXHRcdFx0Ly8g5aSN5Yi26ZmE5Lu2XHJcblx0XHRcdHZhciBjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlcztcclxuXHJcblx0XHRcdC8v5bCG5Y6f6KGo5Y2V5YaF5a655a2Y5YKo5Li656ys5LiA5Liq6ZmE5Lu2XHJcblx0XHRcdGlmIChoYXNTYXZlSW5zdGFuY2VUb0F0dGFjaG1lbnQpIHtcclxuXHRcdFx0XHQvLyB0cnkge1xyXG5cclxuXHRcdFx0XHRpbnN0YW5jZUh0bWwgPSBJbnN0YW5jZVJlYWRPbmx5VGVtcGxhdGUuZ2V0SW5zdGFuY2VIdG1sKHVzZXJfaW5mbywgc3BhY2VfaWQsIGlucywge1xyXG5cdFx0XHRcdFx0YWJzb2x1dGU6IHRydWVcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdHZhciBpbnN0YW5jZUZpbGUgPSBuZXcgRlMuRmlsZSgpO1xyXG5cdFx0XHRcdGluc3RhbmNlRmlsZS5hdHRhY2hEYXRhKEJ1ZmZlci5mcm9tKGluc3RhbmNlSHRtbCwgXCJ1dGYtOFwiKSwge1xyXG5cdFx0XHRcdFx0dHlwZTogXCJ0ZXh0L2h0bWxcIlxyXG5cdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnJvcikge1xyXG5cdFx0XHRcdFx0aWYgKGVycm9yKSB7XHJcblx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyb3IuZXJyb3IsIGVycm9yLnJlYXNvbik7XHJcblx0XHRcdFx0XHR9XHJcblxyXG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLm5hbWUoaW5zLm5hbWUgKyBcIi5odG1sXCIpO1xyXG5cdFx0XHRcdFx0aW5zdGFuY2VGaWxlLnNpemUoaW5zdGFuY2VIdG1sLmxlbmd0aCk7XHJcblxyXG5cdFx0XHRcdFx0dmFyIG1ldGFkYXRhID0ge1xyXG5cdFx0XHRcdFx0XHRvd25lcjogdXNlcl9pZCxcclxuXHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXHJcblx0XHRcdFx0XHRcdHNwYWNlOiBzcGFjZV9pZCxcclxuXHRcdFx0XHRcdFx0aW5zdGFuY2U6IG5ld19pbnNfaWQsXHJcblx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcclxuXHRcdFx0XHRcdFx0Y3VycmVudDogdHJ1ZVxyXG5cdFx0XHRcdFx0fTtcclxuXHRcdFx0XHRcdGluc3RhbmNlRmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xyXG5cdFx0XHRcdFx0dmFyIGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydChpbnN0YW5jZUZpbGUpO1xyXG5cdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoe1xyXG5cdFx0XHRcdFx0XHQkc2V0OiB7XHJcblx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdH0pXHJcblx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0Ly8gfSBjYXRjaCAoZSkge1xyXG5cdFx0XHRcdC8vICAgICBjb25zb2xlLmVycm9yKGUpO1xyXG5cdFx0XHRcdC8vIH1cclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0aWYgKGlzRm9yd2FyZEF0dGFjaG1lbnRzICYmIGFjdGlvbl90eXBlID09ICdmb3J3YXJkJykge1xyXG5cdFx0XHRcdHZhciBmaWxlcyA9IGNvbGxlY3Rpb24uZmluZCh7XHJcblx0XHRcdFx0XHQnbWV0YWRhdGEuaW5zdGFuY2UnOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XHRcdCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxyXG5cdFx0XHRcdH0pO1xyXG5cdFx0XHRcdGZpbGVzLmZvckVhY2goZnVuY3Rpb24gKGYpIHtcclxuXHRcdFx0XHRcdC8vIOWIpOaWreaWsOeahOa1geeoi+W8gOWni+iKgueCueaYr+WQpuaciee8lui+keato+aWh+WSjOe8lui+kemZhOS7tuadg+mZkFxyXG5cdFx0XHRcdFx0aWYgKGYubWV0YWRhdGEubWFpbiA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdGlmIChjYW5fZWRpdF9tYWluX2F0dGFjaCAhPSB0cnVlICYmIGNhbl9lZGl0X25vcm1hbF9hdHRhY2ggIT0gdHJ1ZSlcclxuXHRcdFx0XHRcdFx0XHRyZXR1cm47XHJcblx0XHRcdFx0XHR9IGVsc2Uge1xyXG5cdFx0XHRcdFx0XHRpZiAoY2FuX2VkaXRfbm9ybWFsX2F0dGFjaCAhPSB0cnVlKVxyXG5cdFx0XHRcdFx0XHRcdHJldHVybjtcclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdFx0XHR2YXIgbmV3RmlsZSA9IG5ldyBGUy5GaWxlKCk7XHJcblx0XHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEoZi5jcmVhdGVSZWFkU3RyZWFtKCdpbnN0YW5jZXMnKSwge1xyXG5cdFx0XHRcdFx0XHR0eXBlOiBmLm9yaWdpbmFsLnR5cGVcclxuXHRcdFx0XHRcdH0sIGZ1bmN0aW9uIChlcnIpIHtcclxuXHRcdFx0XHRcdFx0aWYgKGVycikge1xyXG5cdFx0XHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoZXJyLmVycm9yLCBlcnIucmVhc29uKTtcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHRuZXdGaWxlLm5hbWUoZi5uYW1lKCkpO1xyXG5cdFx0XHRcdFx0XHRuZXdGaWxlLnNpemUoZi5zaXplKCkpO1xyXG5cdFx0XHRcdFx0XHR2YXIgbWV0YWRhdGEgPSB7XHJcblx0XHRcdFx0XHRcdFx0b3duZXI6IHVzZXJfaWQsXHJcblx0XHRcdFx0XHRcdFx0b3duZXJfbmFtZTogdXNlcl9pbmZvLm5hbWUsXHJcblx0XHRcdFx0XHRcdFx0c3BhY2U6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdFx0XHRcdGluc3RhbmNlOiBuZXdfaW5zX2lkLFxyXG5cdFx0XHRcdFx0XHRcdGFwcHJvdmU6IGFwcHJfb2JqLl9pZCxcclxuXHRcdFx0XHRcdFx0XHRjdXJyZW50OiB0cnVlXHJcblx0XHRcdFx0XHRcdH07XHJcblx0XHRcdFx0XHRcdGlmIChmLm1ldGFkYXRhLm1haW4gPT0gdHJ1ZSAmJiBjYW5fZWRpdF9tYWluX2F0dGFjaCA9PSB0cnVlKSB7XHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWU7XHJcblx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0bmV3RmlsZS5tZXRhZGF0YSA9IG1ldGFkYXRhO1xyXG5cdFx0XHRcdFx0XHR2YXIgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xyXG5cdFx0XHRcdFx0XHRmaWxlT2JqLnVwZGF0ZSh7XHJcblx0XHRcdFx0XHRcdFx0JHNldDoge1xyXG5cdFx0XHRcdFx0XHRcdFx0J21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0fSlcclxuXHJcblx0XHRcdFx0fSlcclxuXHRcdFx0fVxyXG5cclxuXHRcdFx0Ly8g57uZ5b2T5YmN55qE55Sz6K+35Y2V5aKe5Yqg6L2s5Y+R6K6w5b2VXHJcblx0XHRcdHZhciBhcHByID0ge1xyXG5cdFx0XHRcdCdfaWQnOiBuZXcgTW9uZ28uT2JqZWN0SUQoKS5fc3RyLFxyXG5cdFx0XHRcdCdpbnN0YW5jZSc6IGluc3RhbmNlX2lkLFxyXG5cdFx0XHRcdCd0cmFjZSc6IGN1cnJlbnRfdHJhY2VfaWQsXHJcblx0XHRcdFx0J2lzX2ZpbmlzaGVkJzogdHJ1ZSxcclxuXHRcdFx0XHQndXNlcic6IHVzZXJfaWQsXHJcblx0XHRcdFx0J3VzZXJfbmFtZSc6IHVzZXJfaW5mby5uYW1lLFxyXG5cdFx0XHRcdCdoYW5kbGVyJzogdXNlcl9pZCxcclxuXHRcdFx0XHQnaGFuZGxlcl9uYW1lJzogdXNlcl9pbmZvLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uJzogc3BhY2VfdXNlci5vcmdhbml6YXRpb24sXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX25hbWUnOiBzcGFjZV91c2VyX29yZ19pbmZvLm5hbWUsXHJcblx0XHRcdFx0J2hhbmRsZXJfb3JnYW5pemF0aW9uX2Z1bGxuYW1lJzogc3BhY2VfdXNlcl9vcmdfaW5mby5mdWxsbmFtZSxcclxuXHRcdFx0XHQndHlwZSc6IGFjdGlvbl90eXBlLFxyXG5cdFx0XHRcdCdzdGFydF9kYXRlJzogbmV3IERhdGUoKSxcclxuXHRcdFx0XHQnZmluaXNoX2RhdGUnOiBuZXcgRGF0ZSgpLFxyXG5cdFx0XHRcdCdpc19yZWFkJzogZmFsc2UsXHJcblx0XHRcdFx0J2p1ZGdlJzogJ3N1Ym1pdHRlZCcsXHJcblx0XHRcdFx0J2Zyb21fdXNlcic6IGN1cnJlbnRfdXNlcl9pZCxcclxuXHRcdFx0XHQnZnJvbV91c2VyX25hbWUnOiBmcm9tX3VzZXJfbmFtZSxcclxuXHRcdFx0XHQnZm9yd2FyZF9zcGFjZSc6IHNwYWNlX2lkLFxyXG5cdFx0XHRcdCdmb3J3YXJkX2luc3RhbmNlJzogbmV3X2luc19pZCxcclxuXHRcdFx0XHQnZGVzY3JpcHRpb24nOiBkZXNjcmlwdGlvbixcclxuXHRcdFx0XHQnZnJvbV9hcHByb3ZlX2lkJzogZnJvbV9hcHByb3ZlX2lkXHJcblx0XHRcdH07XHJcblxyXG5cdFx0XHRmb3J3YXJkX2FwcHJvdmVzLnB1c2goYXBwcik7XHJcblxyXG5cdFx0XHRuZXdfaW5zX2lkcy5wdXNoKG5ld19pbnNfaWQpO1xyXG5cdFx0XHRwdXNoTWFuYWdlci5zZW5kX21lc3NhZ2VfdG9fc3BlY2lmeVVzZXIoXCJjdXJyZW50X3VzZXJcIiwgdXNlcl9pZCk7XHJcblx0XHR9KVxyXG5cclxuXHRcdHNldF9vYmoubW9kaWZpZWQgPSBuZXcgRGF0ZSgpO1xyXG5cdFx0c2V0X29iai5tb2RpZmllZF9ieSA9IGN1cnJlbnRfdXNlcl9pZDtcclxuXHRcdHZhciByID0gZGIuaW5zdGFuY2VzLnVwZGF0ZSh7XHJcblx0XHRcdF9pZDogaW5zdGFuY2VfaWQsXHJcblx0XHRcdFwidHJhY2VzLl9pZFwiOiBjdXJyZW50X3RyYWNlX2lkXHJcblx0XHR9LCB7XHJcblx0XHRcdCRzZXQ6IHNldF9vYmosXHJcblx0XHRcdCRhZGRUb1NldDoge1xyXG5cdFx0XHRcdCd0cmFjZXMuJC5hcHByb3Zlcyc6IHtcclxuXHRcdFx0XHRcdCRlYWNoOiBmb3J3YXJkX2FwcHJvdmVzXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0XHRpZiAocikge1xyXG5cdFx0XHRfLmVhY2goY3VycmVudF90cmFjZS5hcHByb3ZlcywgZnVuY3Rpb24gKGEsIGlkeCkge1xyXG5cdFx0XHRcdGlmIChhLl9pZCA9PSBmcm9tX2FwcHJvdmVfaWQpIHtcclxuXHRcdFx0XHRcdHZhciB1cGRhdGVfcmVhZCA9IHt9O1xyXG5cdFx0XHRcdFx0dXBkYXRlX3JlYWRbXCJ0cmFjZXMuJC5hcHByb3Zlcy5cIiArIGlkeCArIFwiLnJlYWRfZGF0ZVwiXSA9IG5ldyBEYXRlKCk7XHJcblx0XHRcdFx0XHRkYi5pbnN0YW5jZXMudXBkYXRlKHtcclxuXHRcdFx0XHRcdFx0X2lkOiBpbnN0YW5jZV9pZCxcclxuXHRcdFx0XHRcdFx0XCJ0cmFjZXMuX2lkXCI6IGN1cnJlbnRfdHJhY2VfaWRcclxuXHRcdFx0XHRcdH0sIHtcclxuXHRcdFx0XHRcdFx0JHNldDogdXBkYXRlX3JlYWRcclxuXHRcdFx0XHRcdH0pO1xyXG5cdFx0XHRcdH1cclxuXHRcdFx0fSlcclxuXHJcblx0XHR9XHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHsgbmV3X2luc19pZHM6IG5ld19pbnNfaWRzIH1cclxuXHRcdH0pXHJcblx0fSBjYXRjaCAoZSkge1xyXG5cdFx0Y29uc29sZS5lcnJvcihlLnN0YWNrKVxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRlcnJvcnM6IFtlXVxyXG5cdFx0XHR9XHJcblx0XHR9KVxyXG5cdH1cclxuXHJcbn0pIiwiSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L2luc3RhbmNlLzppbnN0YW5jZUlkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpXHJcblx0XHRjdXJyZW50X3VzZXJfaWQgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHRcdHJlcV9hc3luYyA9IF8uaGFzKHJlcS5xdWVyeSwgJ2FzeW5jJyk7XHJcblx0XHRpbnNJZCA9IHJlcS5wYXJhbXMuaW5zdGFuY2VJZFxyXG5cclxuXHRcdGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7IGZpZWxkczogeyBzcGFjZTogMSwgZmxvdzogMSwgc3RhdGU6IDEsIGluYm94X3VzZXJzOiAxLCBjY191c2VyczogMSwgb3V0Ym94X3VzZXJzOiAxLCBzdWJtaXR0ZXI6IDEsIGFwcGxpY2FudDogMSB9IH0pXHJcblxyXG5cdFx0aWYgbm90IGluc1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZUlkIGlzIHdyb25nIG9yIGluc3RhbmNlIG5vdCBleGlzdHMuJylcclxuXHJcblx0XHRzcGFjZUlkID0gaW5zLnNwYWNlXHJcblx0XHRmbG93SWQgPSBpbnMuZmxvd1xyXG5cclxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VJZCwgdXNlcjogY3VycmVudF91c2VyX2lkIH0pLmNvdW50KCkgaXMgMFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICd1c2VyIGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZS4nKVxyXG5cclxuXHRcdGJveCA9ICcnXHJcblxyXG5cdFx0aWYgKGlucy5pbmJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkKSBvciAoaW5zLmNjX3VzZXJzPy5pbmNsdWRlcyBjdXJyZW50X3VzZXJfaWQpXHJcblx0XHRcdGJveCA9ICdpbmJveCdcclxuXHRcdGVsc2UgaWYgaW5zLm91dGJveF91c2Vycz8uaW5jbHVkZXMgY3VycmVudF91c2VyX2lkXHJcblx0XHRcdGJveCA9ICdvdXRib3gnXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnZHJhZnQnIGFuZCBpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZFxyXG5cdFx0XHRib3ggPSAnZHJhZnQnXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAncGVuZGluZycgYW5kIChpbnMuc3VibWl0dGVyIGlzIGN1cnJlbnRfdXNlcl9pZCBvciBpbnMuYXBwbGljYW50IGlzIGN1cnJlbnRfdXNlcl9pZClcclxuXHRcdFx0Ym94ID0gJ3BlbmRpbmcnXHJcblx0XHRlbHNlIGlmIGlucy5zdGF0ZSBpcyAnY29tcGxldGVkJyBhbmQgaW5zLnN1Ym1pdHRlciBpcyBjdXJyZW50X3VzZXJfaWRcclxuXHRcdFx0Ym94ID0gJ2NvbXBsZXRlZCdcclxuXHRcdGVsc2VcclxuXHRcdFx0IyDpqozor4Fsb2dpbiB1c2VyX2lk5a+56K+l5rWB56iL5pyJ566h55CG55Sz6K+35Y2V55qE5p2D6ZmQXHJcblx0XHRcdHBlcm1pc3Npb25zID0gcGVybWlzc2lvbk1hbmFnZXIuZ2V0Rmxvd1Blcm1pc3Npb25zKGZsb3dJZCwgY3VycmVudF91c2VyX2lkKVxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQsIHsgZmllbGRzOiB7IGFkbWluczogMSB9IH0pXHJcblx0XHRcdGlmIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSkgYW5kIChub3Qgc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCBcIm5vIHBlcm1pc3Npb24uXCIpXHJcblx0XHRcdGJveCA9ICdtb25pdG9yJ1xyXG5cclxuXHRcdHJlZGlyZWN0VG8gPSBcIndvcmtmbG93L3NwYWNlLyN7c3BhY2VJZH0vI3tib3h9LyN7aW5zSWR9XCJcclxuXHRcdHJlZGlyZWN0VG9VcmwgPSBNZXRlb3IuYWJzb2x1dGVVcmwocmVkaXJlY3RUbylcclxuXHRcdGlmIHJlcV9hc3luYyAjIHx8IHJlcS5nZXQoXCJYLVJlcXVlc3RlZC1XaXRoXCIpID09PSAnWE1MSHR0cFJlcXVlc3QnXHJcblx0XHRcdHJldHVybiByZXMuc3RhdHVzKDIwMCkuc2VuZCh7XHJcblx0XHRcdFx0XCJzdGF0dXNcIjogMzAyLFxyXG5cdFx0XHRcdFwicmVkaXJlY3RcIjogcmVkaXJlY3RUb1xyXG5cdFx0XHR9KTtcclxuXHRcdGVsc2VcclxuXHRcdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIHJlZGlyZWN0VG9VcmxcclxuXHRcdFx0cmVzLndyaXRlSGVhZCAzMDJcclxuXHRcdFx0cmVzLmVuZCgpXHJcblx0XHRcdHJldHVyblxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV0gfVxyXG4iLCJKc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvaW5zdGFuY2UvOmluc3RhbmNlSWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYm94LCBjdXJyZW50X3VzZXJfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93SWQsIGlucywgaW5zSWQsIHBlcm1pc3Npb25zLCByZWRpcmVjdFRvLCByZWRpcmVjdFRvVXJsLCByZWYsIHJlZjEsIHJlZjIsIHJlcV9hc3luYywgc3BhY2UsIHNwYWNlSWQ7XG4gIHRyeSB7XG4gICAgY3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxLCByZXMpO1xuICAgIGN1cnJlbnRfdXNlcl9pZCA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgICByZXFfYXN5bmMgPSBfLmhhcyhyZXEucXVlcnksICdhc3luYycpO1xuICAgIGluc0lkID0gcmVxLnBhcmFtcy5pbnN0YW5jZUlkO1xuICAgIGlucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc0lkLCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgc3BhY2U6IDEsXG4gICAgICAgIGZsb3c6IDEsXG4gICAgICAgIHN0YXRlOiAxLFxuICAgICAgICBpbmJveF91c2VyczogMSxcbiAgICAgICAgY2NfdXNlcnM6IDEsXG4gICAgICAgIG91dGJveF91c2VyczogMSxcbiAgICAgICAgc3VibWl0dGVyOiAxLFxuICAgICAgICBhcHBsaWNhbnQ6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoIWlucykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnaW5zdGFuY2VJZCBpcyB3cm9uZyBvciBpbnN0YW5jZSBub3QgZXhpc3RzLicpO1xuICAgIH1cbiAgICBzcGFjZUlkID0gaW5zLnNwYWNlO1xuICAgIGZsb3dJZCA9IGlucy5mbG93O1xuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgdXNlcjogY3VycmVudF91c2VyX2lkXG4gICAgfSkuY291bnQoKSA9PT0gMCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAndXNlciBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UuJyk7XG4gICAgfVxuICAgIGJveCA9ICcnO1xuICAgIGlmICgoKHJlZiA9IGlucy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB8fCAoKHJlZjEgPSBpbnMuY2NfdXNlcnMpICE9IG51bGwgPyByZWYxLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkgOiB2b2lkIDApKSB7XG4gICAgICBib3ggPSAnaW5ib3gnO1xuICAgIH0gZWxzZSBpZiAoKHJlZjIgPSBpbnMub3V0Ym94X3VzZXJzKSAhPSBudWxsID8gcmVmMi5pbmNsdWRlcyhjdXJyZW50X3VzZXJfaWQpIDogdm9pZCAwKSB7XG4gICAgICBib3ggPSAnb3V0Ym94JztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2RyYWZ0JyAmJiBpbnMuc3VibWl0dGVyID09PSBjdXJyZW50X3VzZXJfaWQpIHtcbiAgICAgIGJveCA9ICdkcmFmdCc7XG4gICAgfSBlbHNlIGlmIChpbnMuc3RhdGUgPT09ICdwZW5kaW5nJyAmJiAoaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkIHx8IGlucy5hcHBsaWNhbnQgPT09IGN1cnJlbnRfdXNlcl9pZCkpIHtcbiAgICAgIGJveCA9ICdwZW5kaW5nJztcbiAgICB9IGVsc2UgaWYgKGlucy5zdGF0ZSA9PT0gJ2NvbXBsZXRlZCcgJiYgaW5zLnN1Ym1pdHRlciA9PT0gY3VycmVudF91c2VyX2lkKSB7XG4gICAgICBib3ggPSAnY29tcGxldGVkJztcbiAgICB9IGVsc2Uge1xuICAgICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoZmxvd0lkLCBjdXJyZW50X3VzZXJfaWQpO1xuICAgICAgc3BhY2UgPSBkYi5zcGFjZXMuZmluZE9uZShzcGFjZUlkLCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGFkbWluczogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICgoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpICYmICghc3BhY2UuYWRtaW5zLmluY2x1ZGVzKGN1cnJlbnRfdXNlcl9pZCkpKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJubyBwZXJtaXNzaW9uLlwiKTtcbiAgICAgIH1cbiAgICAgIGJveCA9ICdtb25pdG9yJztcbiAgICB9XG4gICAgcmVkaXJlY3RUbyA9IFwid29ya2Zsb3cvc3BhY2UvXCIgKyBzcGFjZUlkICsgXCIvXCIgKyBib3ggKyBcIi9cIiArIGluc0lkO1xuICAgIHJlZGlyZWN0VG9VcmwgPSBNZXRlb3IuYWJzb2x1dGVVcmwocmVkaXJlY3RUbyk7XG4gICAgaWYgKHJlcV9hc3luYykge1xuICAgICAgcmV0dXJuIHJlcy5zdGF0dXMoMjAwKS5zZW5kKHtcbiAgICAgICAgXCJzdGF0dXNcIjogMzAyLFxuICAgICAgICBcInJlZGlyZWN0XCI6IHJlZGlyZWN0VG9cbiAgICAgIH0pO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXMuc2V0SGVhZGVyKFwiTG9jYXRpb25cIiwgcmVkaXJlY3RUb1VybCk7XG4gICAgICByZXMud3JpdGVIZWFkKDMwMik7XG4gICAgICByZXMuZW5kKCk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL3BlbmRpbmcg6I635Y+W5b6F5Yqe5paH5Lu2XHJcblxyXG5AYXBpRGVzY3JpcHRpb24g6I635Y+W5b2T5YmN55So5oi355qE5b6F5Yqe5LqL6aG55YiX6KGoXHJcblxyXG5AYXBpTmFtZSBnZXRJbmJveFxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcblx0e1xyXG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxyXG5cdH1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxuXHR7XHJcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcdFwiZGF0YVwiOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcclxuXHRcdFx0XHRcInN0YXJ0X2RhdGVcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcclxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh+a1geeoi1wiLFxyXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxyXG5cdFx0XHRcdFwibmFtZVwiOiBcIuato+aWh+a1geeoiyAxXCIsXHJcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBudWxsLFxyXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXHJcblx0XHRcdFx0XCJzdWJtaXRfZGF0ZVwiOiBcIjIwMTctMDctMjVUMDY6MzY6NDguNDkyWlwiLFxyXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXHJcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXHJcblx0XHRcdFx0XCJtb2RpZmllZFwiOiBcIjIwMTctMTEtMjNUMDI6Mjg6NTMuMTY0WlwiLFxyXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiBmYWxzZSxcclxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXHJcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjBaXCIsXHJcblx0XHRcdFx0XCJmbG93X25hbWVcIjogXCLmraPmlodcXG5cIixcclxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcclxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlodcXG4gMVwiLFxyXG5cdFx0XHRcdFwiYXBwbGljYW50X25hbWVcIjogXCLmrrfkuq7ovolcIixcclxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxyXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA2LTI3VDEwOjI2OjE5LjQ2OFpcIixcclxuXHRcdFx0XHRcInN0ZXBfbmFtZVwiOiBcIuW8gOWni1wiLFxyXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxyXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTA4LTE3VDA3OjM4OjM1LjQyMVpcIixcclxuXHRcdFx0XHRcImlzX3JlYWRcIjogdHJ1ZSxcclxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0fVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ2dldCcsICcvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZycsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ10gfHwgcmVxLnF1ZXJ5Py5zcGFjZUlkXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKVxyXG5cclxuXHRcdHVzZXJfaWQgPSByZXEudXNlcklkXHJcblxyXG5cdFx0aWYgIXVzZXJfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnTm90IGxvZ2dlZCBpbicpXHJcblxyXG5cdFx0aWYgZGIudXNlcnMuZmluZCh7IF9pZDogdXNlcl9pZCB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdGxpbWl0ID0gcmVxLnF1ZXJ5Py5saW1pdCB8fCA1MDBcclxuXHJcblx0XHRsaW1pdCA9IHBhcnNlSW50KGxpbWl0KVxyXG5cclxuXHRcdHVzZXJuYW1lID0gcmVxLnF1ZXJ5Py51c2VybmFtZVxyXG5cclxuXHRcdHVzZXJpZCA9IHJlcS5xdWVyeT8udXNlcmlkXHJcblxyXG5cdFx0YXR0YWNoID0gcmVxLnF1ZXJ5Py5hdHRhY2hcclxuXHJcblx0XHR3b3JrZmxvd19jYXRlZ29yaWVzID0gcmVxLnF1ZXJ5Py53b3JrZmxvd19jYXRlZ29yaWVzXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0c3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cclxuXHRcdCMg5aaC5p6c5b2T5YmN55So5oi35piv5bel5L2c5Yy6566h55CG5ZGY77yM5YiZ6YCa6L+H5p+l55yLdXJs5LiK5piv5ZCm5pyJdXNlcm5hbWVcXHVzZXJpZCDvvIxcclxuXHRcdCMg5aaC5p6c5pyJ77yM5YiZ6L+U5ZuedXNlcm5hbWVcXHVzZXJpZOWvueW6lOeahOeUqOaIt++8jOWQpuWImei/lOWbnuW9k+WJjeeUqOaIt+W+heWKnuOAglxyXG5cdFx0IyB1c2VybmFtZVxcdXNlcmlk6YO95a2Y5Zyo5pe277yMdXNlcmlk5LyY5YWIXHJcblx0XHRzcGVjaWFsX3VzZXJfaWRcclxuXHRcdGlmIHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKVxyXG5cdFx0XHRpZiB1c2VyaWRcclxuXHRcdFx0XHRpZiBkYi51c2Vycy5maW5kKHsgX2lkOiB1c2VyaWQgfSkuY291bnQoKSA8IDFcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgXCJjYW4gbm90IGZpbmQgdXNlciBieSB1c2VyaWQ6ICN7dXNlcmlkfVwiKVxyXG5cclxuXHRcdFx0XHRzcGVjaWFsX3VzZXJfaWQgPSB1c2VyaWRcclxuXHRcdFx0ZWxzZSBpZiB1c2VybmFtZVxyXG5cdFx0XHRcdHUgPSBkYi51c2Vycy5maW5kT25lKHsgdXNlcm5hbWU6IHVzZXJuYW1lIH0sIHsgZmllbGRzOiB7IF9pZDogMSB9IH0pXHJcblx0XHRcdFx0aWYgXy5pc0VtcHR5KHUpXHJcblx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6ICN7dXNlcm5hbWV9XCIpXHJcblxyXG5cdFx0XHRcdHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkXHJcblxyXG5cdFx0cmVzdWx0X2luc3RhbmNlcyA9IG5ldyBBcnJheVxyXG5cclxuXHRcdGlzX3JlYWQgPSBmYWxzZVxyXG5cdFx0c3RhcnRfZGF0ZSA9ICcnXHJcblx0XHR1aWQgPSB1c2VyX2lkXHJcblx0XHRxdWVyeSA9IHtcclxuXHRcdFx0JG9yOiBbeyBpbmJveF91c2VyczogdXNlcl9pZCB9LCB7IGNjX3VzZXJzOiB1c2VyX2lkIH1dXHJcblx0XHR9XHJcblxyXG5cdFx0aWYgc3BlY2lhbF91c2VyX2lkXHJcblx0XHRcdHVpZCA9IHNwZWNpYWxfdXNlcl9pZFxyXG5cdFx0XHRxdWVyeSA9IHtcclxuXHRcdFx0XHRzcGFjZTogc3BhY2VfaWQsXHJcblx0XHRcdFx0JG9yOiBbeyBpbmJveF91c2Vyczogc3BlY2lhbF91c2VyX2lkIH0sIHsgY2NfdXNlcnM6IHNwZWNpYWxfdXNlcl9pZCB9XVxyXG5cdFx0XHR9XHJcblxyXG5cdFx0aWYgd29ya2Zsb3dfY2F0ZWdvcmllc1xyXG5cdFx0XHRxdWVyeS5jYXRlZ29yeSA9IHsgJGluOiB3b3JrZmxvd19jYXRlZ29yaWVzLnNwbGl0KCcsJykgfVxyXG5cclxuXHRcdHNwYWNlX25hbWVzID0ge31cclxuXHRcdHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lXHJcblxyXG5cdFx0aWYgbGltaXQgPiAwXHJcblx0XHRcdGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7IHNvcnQ6IHsgbW9kaWZpZWQ6IC0xIH0sIGxpbWl0OiBsaW1pdCB9KS5mb3JFYWNoIChpKSAtPlxyXG5cclxuXHRcdFx0XHRpZiBpLmluYm94X3VzZXJzPy5pbmNsdWRlcyh1aWQpXHJcblx0XHRcdFx0XHRfLmVhY2ggaS50cmFjZXMsICh0KSAtPlxyXG5cdFx0XHRcdFx0XHRpZiB0LmlzX2ZpbmlzaGVkIGlzIGZhbHNlXHJcblx0XHRcdFx0XHRcdFx0Xy5lYWNoIHQuYXBwcm92ZXMsIChhKSAtPlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzbnQgJ2NjJyBhbmQgbm90IGEuaXNfZmluaXNoZWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0aXNfcmVhZCA9IGEuaXNfcmVhZFxyXG5cdFx0XHRcdFx0XHRcdFx0XHRzdGFydF9kYXRlID0gYS5zdGFydF9kYXRlXHJcblx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0Xy5lYWNoIGkudHJhY2VzLCAodCkgLT5cclxuXHRcdFx0XHRcdFx0aWYgbm90IHN0YXJ0X2RhdGUgYW5kIHQuYXBwcm92ZXNcclxuXHRcdFx0XHRcdFx0XHRfLmVhY2ggdC5hcHByb3ZlcywgKGEpIC0+XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBub3Qgc3RhcnRfZGF0ZSBhbmQgYS51c2VyIGlzIHVpZCBhbmQgYS50eXBlIGlzICdjYycgYW5kIG5vdCBhLmlzX2ZpbmlzaGVkXHJcblx0XHRcdFx0XHRcdFx0XHRcdGlzX3JlYWQgPSBhLmlzX3JlYWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0c3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZVxyXG5cclxuXHRcdFx0XHRpZiBub3Qgc3BhY2VfbmFtZXNbaS5zcGFjZV1cclxuXHRcdFx0XHRcdHNwYWNlX25hbWVzW2kuc3BhY2VdID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pPy5uYW1lXHJcblxyXG5cdFx0XHRcdGggPSBuZXcgT2JqZWN0XHJcblx0XHRcdFx0aFtcImlkXCJdID0gaVtcIl9pZFwiXVxyXG5cdFx0XHRcdGhbXCJzdGFydF9kYXRlXCJdID0gc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdGhbXCJmbG93X25hbWVcIl0gPSBpLmZsb3dfbmFtZVxyXG5cdFx0XHRcdGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV1cclxuXHRcdFx0XHRoW1wibmFtZVwiXSA9IGlbXCJuYW1lXCJdXHJcblx0XHRcdFx0aFtcImFwcGxpY2FudF9uYW1lXCJdID0gaVtcImFwcGxpY2FudF9uYW1lXCJdXHJcblx0XHRcdFx0aFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl1cclxuXHRcdFx0XHRoW1wic3VibWl0X2RhdGVcIl0gPSBpW1wic3VibWl0X2RhdGVcIl1cclxuXHRcdFx0XHRoW1wic3RlcF9uYW1lXCJdID0gaS5jdXJyZW50X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2VcclxuXHRcdFx0XHRoW1wibW9kaWZpZWRcIl0gPSBpW1wibW9kaWZpZWRcIl1cclxuXHRcdFx0XHRoW1wiaXNfcmVhZFwiXSA9IGlzX3JlYWRcclxuXHRcdFx0XHRoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXVxyXG5cclxuXHRcdFx0XHRpZiBhdHRhY2ggaXMgJ3RydWUnXHJcblx0XHRcdFx0XHRoLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHsgJ21ldGFkYXRhLmluc3RhbmNlJzogaS5faWQsICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHsgJG5lOiB0cnVlIH0gfSwgeyBmaWVsZHM6IHsgY29waWVzOiAwIH0gfSkuZmV0Y2goKVxyXG5cclxuXHRcdFx0XHRyZXN1bHRfaW5zdGFuY2VzLnB1c2goaClcclxuXHJcblx0XHRub19saW1pdF9jb3VudCA9IGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5KS5jb3VudCgpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLCBjb3VudDogbm9fbGltaXRfY291bnQgfVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5yZWFzb24gfV0gfVxyXG5cdFx0fVxyXG5cclxuIiwiXG4vKlxuQGFwaSB7Z2V0fSAvYXBpL3dvcmtmbG93L29wZW4vcGVuZGluZyDojrflj5blvoXlip7mlofku7ZcblxuQGFwaURlc2NyaXB0aW9uIOiOt+WPluW9k+WJjeeUqOaIt+eahOW+heWKnuS6i+mhueWIl+ihqFxuXG5AYXBpTmFtZSBnZXRJbmJveFxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcblx0e1xuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcblx0fVxuXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XG5cdHtcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XHRcImRhdGFcIjogW1xuXHRcdFx0e1xuXHRcdFx0XHRcImlkXCI6IFwiZzd3b2tYTmtSOXl4SHZBNERcIixcblx0XHRcdFx0XCJzdGFydF9kYXRlXCI6IFwiMjAxNy0xMS0yM1QwMjoyODo1My4xNjRaXCIsXG5cdFx0XHRcdFwiZmxvd19uYW1lXCI6IFwi5q2j5paH5rWB56iLXCIsXG5cdFx0XHRcdFwic3BhY2VfbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcIm5hbWVcIjogXCLmraPmlofmtYHnqIsgMVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9uYW1lXCI6IG51bGwsXG5cdFx0XHRcdFwiYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCI6IFwi5a6h5om5546LXCIsXG5cdFx0XHRcdFwic3VibWl0X2RhdGVcIjogXCIyMDE3LTA3LTI1VDA2OjM2OjQ4LjQ5MlpcIixcblx0XHRcdFx0XCJzdGVwX25hbWVcIjogXCLlvIDlp4tcIixcblx0XHRcdFx0XCJzcGFjZV9pZFwiOiBcImtmRHNNdjdnQmV3bUdYR0VMXCIsXG5cdFx0XHRcdFwibW9kaWZpZWRcIjogXCIyMDE3LTExLTIzVDAyOjI4OjUzLjE2NFpcIixcblx0XHRcdFx0XCJpc19yZWFkXCI6IGZhbHNlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fSxcblx0XHRcdHtcblx0XHRcdFx0XCJpZFwiOiBcIldxS1NyV1FveXdnSmFNcDlrXCIsXG5cdFx0XHRcdFwic3RhcnRfZGF0ZVwiOiBcIjIwMTctMDgtMTdUMDc6Mzg6MzUuNDIwWlwiLFxuXHRcdFx0XHRcImZsb3dfbmFtZVwiOiBcIuato+aWh1xcblwiLFxuXHRcdFx0XHRcInNwYWNlX25hbWVcIjogXCLlrqHmibnnjotcIixcblx0XHRcdFx0XCJuYW1lXCI6IFwi5q2j5paHXFxuIDFcIixcblx0XHRcdFx0XCJhcHBsaWNhbnRfbmFtZVwiOiBcIuaut+S6rui+iVwiLFxuXHRcdFx0XHRcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiOiBcIuWuoeaJueeOi1wiLFxuXHRcdFx0XHRcInN1Ym1pdF9kYXRlXCI6IFwiMjAxNy0wNi0yN1QxMDoyNjoxOS40NjhaXCIsXG5cdFx0XHRcdFwic3RlcF9uYW1lXCI6IFwi5byA5aeLXCIsXG5cdFx0XHRcdFwic3BhY2VfaWRcIjogXCJrZkRzTXY3Z0Jld21HWEdFTFwiLFxuXHRcdFx0XHRcIm1vZGlmaWVkXCI6IFwiMjAxNy0wOC0xN1QwNzozODozNS40MjFaXCIsXG5cdFx0XHRcdFwiaXNfcmVhZFwiOiB0cnVlLFxuXHRcdFx0XHRcInZhbHVlc1wiOiB7fVxuXHRcdFx0fVxuXHRcdF1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9wZW5kaW5nJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaCwgZSwgaXNfcmVhZCwgbGltaXQsIG5vX2xpbWl0X2NvdW50LCBxdWVyeSwgcmVmLCByZWYxLCByZWYyLCByZWYzLCByZWY0LCByZWY1LCByZXN1bHRfaW5zdGFuY2VzLCBzcGFjZSwgc3BhY2VfaWQsIHNwYWNlX25hbWVzLCBzcGVjaWFsX3VzZXJfaWQsIHN0YXJ0X2RhdGUsIHUsIHVpZCwgdXNlcl9pZCwgdXNlcmlkLCB1c2VybmFtZSwgd29ya2Zsb3dfY2F0ZWdvcmllcztcbiAgdHJ5IHtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddIHx8ICgocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnNwYWNlSWQgOiB2b2lkIDApO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3BhY2VfaWQnKTtcbiAgICB9XG4gICAgdXNlcl9pZCA9IHJlcS51c2VySWQ7XG4gICAgaWYgKCF1c2VyX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdOb3QgbG9nZ2VkIGluJyk7XG4gICAgfVxuICAgIGlmIChkYi51c2Vycy5maW5kKHtcbiAgICAgIF9pZDogdXNlcl9pZFxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIGxpbWl0ID0gKChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5saW1pdCA6IHZvaWQgMCkgfHwgNTAwO1xuICAgIGxpbWl0ID0gcGFyc2VJbnQobGltaXQpO1xuICAgIHVzZXJuYW1lID0gKHJlZjIgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYyLnVzZXJuYW1lIDogdm9pZCAwO1xuICAgIHVzZXJpZCA9IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy51c2VyaWQgOiB2b2lkIDA7XG4gICAgYXR0YWNoID0gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LmF0dGFjaCA6IHZvaWQgMDtcbiAgICB3b3JrZmxvd19jYXRlZ29yaWVzID0gKHJlZjUgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY1LndvcmtmbG93X2NhdGVnb3JpZXMgOiB2b2lkIDA7XG4gICAgc3BhY2UgPSB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICBzcGVjaWFsX3VzZXJfaWQ7XG4gICAgaWYgKHNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VyX2lkKSkge1xuICAgICAgaWYgKHVzZXJpZCkge1xuICAgICAgICBpZiAoZGIudXNlcnMuZmluZCh7XG4gICAgICAgICAgX2lkOiB1c2VyaWRcbiAgICAgICAgfSkuY291bnQoKSA8IDEpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcmlkOiBcIiArIHVzZXJpZCk7XG4gICAgICAgIH1cbiAgICAgICAgc3BlY2lhbF91c2VyX2lkID0gdXNlcmlkO1xuICAgICAgfSBlbHNlIGlmICh1c2VybmFtZSkge1xuICAgICAgICB1ID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICAgICAgdXNlcm5hbWU6IHVzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIF9pZDogMVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGlmIChfLmlzRW1wdHkodSkpIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsIFwiY2FuIG5vdCBmaW5kIHVzZXIgYnkgdXNlcm5hbWU6IFwiICsgdXNlcm5hbWUpO1xuICAgICAgICB9XG4gICAgICAgIHNwZWNpYWxfdXNlcl9pZCA9IHUuX2lkO1xuICAgICAgfVxuICAgIH1cbiAgICByZXN1bHRfaW5zdGFuY2VzID0gbmV3IEFycmF5O1xuICAgIGlzX3JlYWQgPSBmYWxzZTtcbiAgICBzdGFydF9kYXRlID0gJyc7XG4gICAgdWlkID0gdXNlcl9pZDtcbiAgICBxdWVyeSA9IHtcbiAgICAgICRvcjogW1xuICAgICAgICB7XG4gICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJfaWRcbiAgICAgICAgfSwge1xuICAgICAgICAgIGNjX3VzZXJzOiB1c2VyX2lkXG4gICAgICAgIH1cbiAgICAgIF1cbiAgICB9O1xuICAgIGlmIChzcGVjaWFsX3VzZXJfaWQpIHtcbiAgICAgIHVpZCA9IHNwZWNpYWxfdXNlcl9pZDtcbiAgICAgIHF1ZXJ5ID0ge1xuICAgICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICAgICRvcjogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGluYm94X3VzZXJzOiBzcGVjaWFsX3VzZXJfaWRcbiAgICAgICAgICB9LCB7XG4gICAgICAgICAgICBjY191c2Vyczogc3BlY2lhbF91c2VyX2lkXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9O1xuICAgIH1cbiAgICBpZiAod29ya2Zsb3dfY2F0ZWdvcmllcykge1xuICAgICAgcXVlcnkuY2F0ZWdvcnkgPSB7XG4gICAgICAgICRpbjogd29ya2Zsb3dfY2F0ZWdvcmllcy5zcGxpdCgnLCcpXG4gICAgICB9O1xuICAgIH1cbiAgICBzcGFjZV9uYW1lcyA9IHt9O1xuICAgIHNwYWNlX25hbWVzW3NwYWNlLl9pZF0gPSBzcGFjZS5uYW1lO1xuICAgIGlmIChsaW1pdCA+IDApIHtcbiAgICAgIGRiLmluc3RhbmNlcy5maW5kKHF1ZXJ5LCB7XG4gICAgICAgIHNvcnQ6IHtcbiAgICAgICAgICBtb2RpZmllZDogLTFcbiAgICAgICAgfSxcbiAgICAgICAgbGltaXQ6IGxpbWl0XG4gICAgICB9KS5mb3JFYWNoKGZ1bmN0aW9uKGkpIHtcbiAgICAgICAgdmFyIGgsIHJlZjYsIHJlZjc7XG4gICAgICAgIGlmICgocmVmNiA9IGkuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWY2LmluY2x1ZGVzKHVpZCkgOiB2b2lkIDApIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICh0LmlzX2ZpbmlzaGVkID09PSBmYWxzZSkge1xuICAgICAgICAgICAgICByZXR1cm4gXy5lYWNoKHQuYXBwcm92ZXMsIGZ1bmN0aW9uKGEpIHtcbiAgICAgICAgICAgICAgICBpZiAoYS51c2VyID09PSB1aWQgJiYgYS50eXBlICE9PSAnY2MnICYmICFhLmlzX2ZpbmlzaGVkKSB7XG4gICAgICAgICAgICAgICAgICBpc19yZWFkID0gYS5pc19yZWFkO1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHN0YXJ0X2RhdGUgPSBhLnN0YXJ0X2RhdGU7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICBfLmVhY2goaS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiB0LmFwcHJvdmVzKSB7XG4gICAgICAgICAgICAgIHJldHVybiBfLmVhY2godC5hcHByb3ZlcywgZnVuY3Rpb24oYSkge1xuICAgICAgICAgICAgICAgIGlmICghc3RhcnRfZGF0ZSAmJiBhLnVzZXIgPT09IHVpZCAmJiBhLnR5cGUgPT09ICdjYycgJiYgIWEuaXNfZmluaXNoZWQpIHtcbiAgICAgICAgICAgICAgICAgIGlzX3JlYWQgPSBhLmlzX3JlYWQ7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gc3RhcnRfZGF0ZSA9IGEuc3RhcnRfZGF0ZTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICghc3BhY2VfbmFtZXNbaS5zcGFjZV0pIHtcbiAgICAgICAgICBzcGFjZV9uYW1lc1tpLnNwYWNlXSA9IChyZWY3ID0gZGIuc3BhY2VzLmZpbmRPbmUoaS5zcGFjZSwge1xuICAgICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KSkgIT0gbnVsbCA/IHJlZjcubmFtZSA6IHZvaWQgMDtcbiAgICAgICAgfVxuICAgICAgICBoID0gbmV3IE9iamVjdDtcbiAgICAgICAgaFtcImlkXCJdID0gaVtcIl9pZFwiXTtcbiAgICAgICAgaFtcInN0YXJ0X2RhdGVcIl0gPSBzdGFydF9kYXRlO1xuICAgICAgICBoW1wiZmxvd19uYW1lXCJdID0gaS5mbG93X25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9uYW1lXCJdID0gc3BhY2VfbmFtZXNbaS5zcGFjZV07XG4gICAgICAgIGhbXCJuYW1lXCJdID0gaVtcIm5hbWVcIl07XG4gICAgICAgIGhbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfbmFtZVwiXTtcbiAgICAgICAgaFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IGlbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIl07XG4gICAgICAgIGhbXCJzdWJtaXRfZGF0ZVwiXSA9IGlbXCJzdWJtaXRfZGF0ZVwiXTtcbiAgICAgICAgaFtcInN0ZXBfbmFtZVwiXSA9IGkuY3VycmVudF9zdGVwX25hbWU7XG4gICAgICAgIGhbXCJzcGFjZV9pZFwiXSA9IGkuc3BhY2U7XG4gICAgICAgIGhbXCJtb2RpZmllZFwiXSA9IGlbXCJtb2RpZmllZFwiXTtcbiAgICAgICAgaFtcImlzX3JlYWRcIl0gPSBpc19yZWFkO1xuICAgICAgICBoW1widmFsdWVzXCJdID0gaVtcInZhbHVlc1wiXTtcbiAgICAgICAgaWYgKGF0dGFjaCA9PT0gJ3RydWUnKSB7XG4gICAgICAgICAgaC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgICAnbWV0YWRhdGEuaW5zdGFuY2UnOiBpLl9pZCxcbiAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgIGZpZWxkczoge1xuICAgICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KS5mZXRjaCgpO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXN1bHRfaW5zdGFuY2VzLnB1c2goaCk7XG4gICAgICB9KTtcbiAgICB9XG4gICAgbm9fbGltaXRfY291bnQgPSBkYi5pbnN0YW5jZXMuZmluZChxdWVyeSkuY291bnQoKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRfaW5zdGFuY2VzLFxuICAgICAgICBjb3VudDogbm9fbGltaXRfY291bnRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUucmVhc29uXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAtPlxyXG5cdFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlIFwiL2FwaS93b3JrZmxvdy9leHBvcnQvdGFsYmVfdGVtcGxhdGVcIiwgKHJlcSwgcmVzLCBuZXh0KS0+XHJcblx0XHRjb29raWVzID0gbmV3IENvb2tpZXMoIHJlcSwgcmVzICk7XHJcblx0XHQjIGZpcnN0IGNoZWNrIHJlcXVlc3QgYm9keVxyXG5cdFx0aWYgcmVxLmJvZHlcclxuXHRcdFx0dXNlcklkID0gcmVxLmJvZHlbXCJYLVVzZXItSWRcIl1cclxuXHRcdFx0YXV0aFRva2VuID0gcmVxLmJvZHlbXCJYLUF1dGgtVG9rZW5cIl1cclxuXHJcblx0XHQjIHRoZW4gY2hlY2sgY29va2llXHJcblx0XHRpZiAhdXNlcklkIG9yICFhdXRoVG9rZW5cclxuXHRcdFx0dXNlcklkID0gY29va2llcy5nZXQoXCJYLVVzZXItSWRcIilcclxuXHRcdFx0YXV0aFRva2VuID0gY29va2llcy5nZXQoXCJYLUF1dGgtVG9rZW5cIilcclxuXHJcblx0XHRpZiAhKHVzZXJJZCBhbmQgYXV0aFRva2VuKVxyXG5cdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XHJcblx0XHRcdHJlcy5lbmQgSlNPTi5zdHJpbmdpZnkoe1xyXG5cdFx0XHRcdFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE1pc3NpbmcgWC1BdXRoLVRva2VuXCIsXHJcblx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdH0pXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Zmxvd0lkID0gcmVxLnF1ZXJ5Py5mbG93O1xyXG5cclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtzcGFjZTogMSwgZm9ybTogMSwgbmFtZTogMX19KVxyXG5cclxuXHRcdGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtfaWQ6IGZsb3cuZm9ybX0sIHtmaWVsZHM6IHtzcGFjZTogMSwgXCJjdXJyZW50Ll9pZFwiOiAxfX0pXHJcblxyXG5cdFx0aWYgXy5pc0VtcHR5KGZsb3cpXHJcblx0XHRcdHJlcy53cml0ZUhlYWQoNDAxKTtcclxuXHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gSW52YWxpZCBmb3JtSWRcIixcclxuXHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0fSlcclxuXHRcdFx0cmV0dXJuIDtcclxuXHRcdGVsc2VcclxuXHRcdFx0aWYgIVN0ZWVkb3MuaXNTcGFjZUFkbWluKGZsb3cuc3BhY2UsIHVzZXJJZClcclxuXHRcdFx0XHRyZXMud3JpdGVIZWFkKDQwMSk7XHJcblx0XHRcdFx0cmVzLmVuZCBKU09OLnN0cmluZ2lmeSh7XHJcblx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBObyBwZXJtaXNzaW9uXCIsXHJcblx0XHRcdFx0XHRcInN1Y2Nlc3NcIjogZmFsc2VcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdHJldHVybjtcclxuXHJcblx0XHRcdHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoZmxvdy5zcGFjZSwgeyBmaWVsZHM6IHsgaXNfcGFpZDogMSB9IH0pXHJcblx0XHRcdGlmICFzcGFjZT8uaXNfcGFpZFxyXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0XHRjb2RlOiA0MDQsXHJcblx0XHRcdFx0XHRkYXRhOlxyXG5cdFx0XHRcdFx0XHRcImVycm9yXCI6IFwiVmFsaWRhdGUgUmVxdWVzdCAtLSBOb24tcGFpZCBzcGFjZS5cIixcclxuXHRcdFx0XHRcdFx0XCJzdWNjZXNzXCI6IGZhbHNlXHJcblx0XHRcdFx0cmV0dXJuO1xyXG5cclxuXHRcdGRhdGEgPSBUZW1wbGF0ZU1hbmFnZXIuaGFuZGxlVGFibGVUZW1wbGF0ZSh7Zm9ybTogZmxvdy5mb3JtLCBmb3JtX3ZlcnNpb246IGZvcm0/LmN1cnJlbnQ/Ll9pZH0sIHRydWUpO1xyXG5cclxuXHRcdGZpbGVOYW1lID0gZmxvdy5uYW1lXHJcblxyXG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xyXG5cdFx0cmVzLnNldEhlYWRlcignQ29udGVudC1EaXNwb3NpdGlvbicsICdhdHRhY2htZW50O2ZpbGVuYW1lPScrZW5jb2RlVVJJKGZpbGVOYW1lKSsnLmh0bWwnKTtcclxuXHRcdHJlcy5lbmQoZGF0YSkiLCJ2YXIgQ29va2llcztcblxuQ29va2llcyA9IHJlcXVpcmUoXCJjb29raWVzXCIpO1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFdlYkFwcC5jb25uZWN0SGFuZGxlcnMudXNlKFwiL2FwaS93b3JrZmxvdy9leHBvcnQvdGFsYmVfdGVtcGxhdGVcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgICB2YXIgYXV0aFRva2VuLCBjb29raWVzLCBkYXRhLCBmaWxlTmFtZSwgZmxvdywgZmxvd0lkLCBmb3JtLCByZWYsIHJlZjEsIHNwYWNlLCB1c2VySWQ7XG4gICAgY29va2llcyA9IG5ldyBDb29raWVzKHJlcSwgcmVzKTtcbiAgICBpZiAocmVxLmJvZHkpIHtcbiAgICAgIHVzZXJJZCA9IHJlcS5ib2R5W1wiWC1Vc2VyLUlkXCJdO1xuICAgICAgYXV0aFRva2VuID0gcmVxLmJvZHlbXCJYLUF1dGgtVG9rZW5cIl07XG4gICAgfVxuICAgIGlmICghdXNlcklkIHx8ICFhdXRoVG9rZW4pIHtcbiAgICAgIHVzZXJJZCA9IGNvb2tpZXMuZ2V0KFwiWC1Vc2VyLUlkXCIpO1xuICAgICAgYXV0aFRva2VuID0gY29va2llcy5nZXQoXCJYLUF1dGgtVG9rZW5cIik7XG4gICAgfVxuICAgIGlmICghKHVzZXJJZCAmJiBhdXRoVG9rZW4pKSB7XG4gICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gTWlzc2luZyBYLUF1dGgtVG9rZW5cIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGZsb3dJZCA9IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuZmxvdyA6IHZvaWQgMDtcbiAgICBmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3dJZFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBzcGFjZTogMSxcbiAgICAgICAgZm9ybTogMSxcbiAgICAgICAgbmFtZTogMVxuICAgICAgfVxuICAgIH0pO1xuICAgIGZvcm0gPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvdy5mb3JtXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICBcImN1cnJlbnQuX2lkXCI6IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBpZiAoXy5pc0VtcHR5KGZsb3cpKSB7XG4gICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICByZXMuZW5kKEpTT04uc3RyaW5naWZ5KHtcbiAgICAgICAgXCJlcnJvclwiOiBcIlZhbGlkYXRlIFJlcXVlc3QgLS0gSW52YWxpZCBmb3JtSWRcIixcbiAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICB9KSk7XG4gICAgICByZXR1cm47XG4gICAgfSBlbHNlIHtcbiAgICAgIGlmICghU3RlZWRvcy5pc1NwYWNlQWRtaW4oZmxvdy5zcGFjZSwgdXNlcklkKSkge1xuICAgICAgICByZXMud3JpdGVIZWFkKDQwMSk7XG4gICAgICAgIHJlcy5lbmQoSlNPTi5zdHJpbmdpZnkoe1xuICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vIHBlcm1pc3Npb25cIixcbiAgICAgICAgICBcInN1Y2Nlc3NcIjogZmFsc2VcbiAgICAgICAgfSkpO1xuICAgICAgICByZXR1cm47XG4gICAgICB9XG4gICAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKGZsb3cuc3BhY2UsIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgaXNfcGFpZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghKHNwYWNlICE9IG51bGwgPyBzcGFjZS5pc19wYWlkIDogdm9pZCAwKSkge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogNDA0LFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIFwiZXJyb3JcIjogXCJWYWxpZGF0ZSBSZXF1ZXN0IC0tIE5vbi1wYWlkIHNwYWNlLlwiLFxuICAgICAgICAgICAgXCJzdWNjZXNzXCI6IGZhbHNlXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgICAgcmV0dXJuO1xuICAgICAgfVxuICAgIH1cbiAgICBkYXRhID0gVGVtcGxhdGVNYW5hZ2VyLmhhbmRsZVRhYmxlVGVtcGxhdGUoe1xuICAgICAgZm9ybTogZmxvdy5mb3JtLFxuICAgICAgZm9ybV92ZXJzaW9uOiBmb3JtICE9IG51bGwgPyAocmVmMSA9IGZvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjEuX2lkIDogdm9pZCAwIDogdm9pZCAwXG4gICAgfSwgdHJ1ZSk7XG4gICAgZmlsZU5hbWUgPSBmbG93Lm5hbWU7XG4gICAgcmVzLnNldEhlYWRlcignQ29udGVudC10eXBlJywgJ2FwcGxpY2F0aW9uL3gtbXNkb3dubG9hZCcpO1xuICAgIHJlcy5zZXRIZWFkZXIoJ0NvbnRlbnQtRGlzcG9zaXRpb24nLCAnYXR0YWNobWVudDtmaWxlbmFtZT0nICsgZW5jb2RlVVJJKGZpbGVOYW1lKSArICcuaHRtbCcpO1xuICAgIHJldHVybiByZXMuZW5kKGRhdGEpO1xuICB9KTtcbn0pO1xuIiwiIyMjXHJcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9kcmFmdHMg5paw5bu655Sz6K+35Y2VXHJcblxyXG5AYXBpTmFtZSBjcmVhdGVJbnN0YW5jZVxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxue1xyXG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxufVxyXG5cclxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxyXG57XHJcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXHJcbiAgICBcImFwcGxpY2FudFwiOiDnlLPor7fkurpJZCxcclxuICAgIFwidmFsdWVzXCI6IHtcclxuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcclxuICAgICAgICBcImZpZWxkczJcIiA6IOWtl+auteWAvCxcclxuICAgICAgICAuLi5cclxuICAgIH1cclxufVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG57XHJcbiAgICBcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XHJcbn1cclxuXHJcbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxyXG57XHJcbiAgICBcInN0YXR1c1wiOiBcImVycm9yXCIsXHJcbiAgICBcImRhdGFcIjogey4uLn1cclxufVxyXG4jIyNcclxuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm5cclxuXHJcblx0XHR1c2VyX2lkID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7IF9pZDogdXNlcl9pZCB9KVxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciB4X3NwYWNlX2lkJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcl9pbmZvLl9pZClcclxuXHJcblx0XHRoYXNoRGF0YSA9IHJlcS5ib2R5XHJcblxyXG5cdFx0aWYgbm90IGhhc2hEYXRhW1wiZmxvd1wiXVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKVxyXG5cclxuXHRcdGZsb3dfaWQgICAgICA9IGhhc2hEYXRhW1wiZmxvd1wiXVxyXG5cdFx0YXBwbGljYW50X2lkID0gaGFzaERhdGFbXCJhcHBsaWNhbnRcIl1cclxuXHRcdGFwcGxpY2FudF91c2VybmFtZSA9IGhhc2hEYXRhW1wiYXBwbGljYW50X3VzZXJuYW1lXCJdXHJcblxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnQgPSBuZXcgT2JqZWN0XHJcblxyXG5cdFx0ZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoeyBfaWQ6IGZsb3dfaWQgfSwgeyBmaWVsZHM6IHsgc3BhY2U6IDEsICdjdXJyZW50Ll9pZCc6IDEgfSB9KVxyXG5cdFx0aWYgbm90IGZsb3dcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgZXhpc3RzJylcclxuXHJcblx0XHRpZiBzcGFjZV9pZCBpc250IGZsb3cuc3BhY2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmxvdyBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogc3BhY2VfaWQsIHVzZXI6IGN1cnJlbnRfdXNlcl9pbmZvLl9pZCB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyBub3QgYSBtZW1iZXIgb2YgdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJzcGFjZVwiXSA9IHNwYWNlX2lkXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dfdmVyc2lvblwiXSA9IGZsb3cuY3VycmVudC5faWRcclxuXHJcblx0XHRhcHBsaWNhbnQgPSBudWxsXHJcblx0XHRpZiBhcHBsaWNhbnRfaWQgb3IgYXBwbGljYW50X3VzZXJuYW1lXHJcblxyXG5cdFx0XHRpZiBhcHBsaWNhbnRfaWRcclxuXHRcdFx0XHRhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHsgX2lkOiBhcHBsaWNhbnRfaWQgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIHdyb25nJylcclxuXHJcblx0XHRcdGVsc2UgaWYgYXBwbGljYW50X3VzZXJuYW1lXHJcblx0XHRcdFx0YXBwbGljYW50ID0gZGIudXNlcnMuZmluZE9uZSh7IHVzZXJuYW1lOiBhcHBsaWNhbnRfdXNlcm5hbWUgfSwgeyBmaWVsZHM6IHsgbmFtZTogMSB9IH0pXHJcblx0XHRcdFx0aWYgbm90IGFwcGxpY2FudFxyXG5cdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50X3VzZXJuYW1lIGlzIHdyb25nJylcclxuXHJcblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHsgc3BhY2U6IHNwYWNlX2lkLCB1c2VyOiBhcHBsaWNhbnQuX2lkIH0pXHJcblx0XHRcdGlmIG5vdCBzcGFjZV91c2VyXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJylcclxuXHJcblx0XHRcdGlmIHNwYWNlX3VzZXIudXNlcl9hY2NlcHRlZCBpc250IHRydWVcclxuXHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhcHBsaWNhbnQgaXMgZGlzYWJsZWQgaW4gdGhpcyBzcGFjZScpXHJcblxyXG5cdFx0XHRzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpXHJcblx0XHRcdGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50XCJdID0gYXBwbGljYW50Ll9pZFxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9uYW1lXCJdID0gYXBwbGljYW50Lm5hbWVcclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gIHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25cIl1cclxuXHRcdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX2Z1bGxuYW1lXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXVxyXG5cdFx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXVxyXG5cclxuXHRcdGFwcGxpY2FudEluZm8gPSBhcHBsaWNhbnQgfHwgY3VycmVudF91c2VyX2luZm9cclxuXHJcblx0XHR0cmFjZXMgPSBbXVxyXG5cdFx0dHJhY2UgPSBuZXcgT2JqZWN0XHJcblx0XHRhcHByb3ZlcyA9IFtdXHJcblx0XHRhcHByb3ZlID0gbmV3IE9iamVjdFxyXG5cdFx0YXBwcm92ZVtcInZhbHVlc1wiXSA9IGhhc2hEYXRhW1widmFsdWVzXCJdXHJcblx0XHRhcHByb3Zlcy5wdXNoKGFwcHJvdmUpXHJcblx0XHR0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXNcclxuXHRcdHRyYWNlcy5wdXNoKHRyYWNlKVxyXG5cdFx0aW5zdGFuY2VfZnJvbV9jbGllbnRbXCJ0cmFjZXNcIl0gPSB0cmFjZXNcclxuXHJcblx0XHRpbnN0YW5jZV9mcm9tX2NsaWVudFtcImluYm94X3VzZXJzXCJdID0gW2FwcGxpY2FudEluZm8uX2lkXVxyXG5cclxuXHRcdG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbylcclxuXHJcblx0XHRuZXdfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUobmV3X2luc19pZClcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IG5ld19pbnMgfVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cclxuXHRcdH1cclxuIiwiXG4vKlxuQGFwaSB7cG9zdH0gL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cyDmlrDlu7rnlLPor7fljZVcblxuQGFwaU5hbWUgY3JlYXRlSW5zdGFuY2VcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJhcHBsaWNhbnRcIjog55Sz6K+35Lq6SWQsXG4gICAgXCJ2YWx1ZXNcIjoge1xuICAgICAgICBcImZpZWxkczFcIiA6IOWtl+auteWAvCxcbiAgICAgICAgXCJmaWVsZHMyXCIgOiDlrZfmrrXlgLwsXG4gICAgICAgIC4uLlxuICAgIH1cbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG5cbkBhcGlFcnJvckV4YW1wbGUge2pzb259IGVycm9yLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwiZXJyb3JcIixcbiAgICBcImRhdGFcIjogey4uLn1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2RyYWZ0cycsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBhcHBsaWNhbnQsIGFwcGxpY2FudEluZm8sIGFwcGxpY2FudF9pZCwgYXBwbGljYW50X3VzZXJuYW1lLCBhcHByb3ZlLCBhcHByb3ZlcywgY3VycmVudF91c2VyX2luZm8sIGUsIGZsb3csIGZsb3dfaWQsIGhhc2hEYXRhLCBpbnN0YW5jZV9mcm9tX2NsaWVudCwgbmV3X2lucywgbmV3X2luc19pZCwgc3BhY2VfaWQsIHNwYWNlX3VzZXIsIHNwYWNlX3VzZXJfb3JnX2luZm8sIHRyYWNlLCB0cmFjZXMsIHVzZXJfaWQ7XG4gIHRyeSB7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIHVzZXJfaWQgPSByZXEudXNlcklkO1xuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZSh7XG4gICAgICBfaWQ6IHVzZXJfaWRcbiAgICB9KTtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgeF9zcGFjZV9pZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyX2luZm8uX2lkKTtcbiAgICBoYXNoRGF0YSA9IHJlcS5ib2R5O1xuICAgIGlmICghaGFzaERhdGFbXCJmbG93XCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG51bGwnKTtcbiAgICB9XG4gICAgZmxvd19pZCA9IGhhc2hEYXRhW1wiZmxvd1wiXTtcbiAgICBhcHBsaWNhbnRfaWQgPSBoYXNoRGF0YVtcImFwcGxpY2FudFwiXTtcbiAgICBhcHBsaWNhbnRfdXNlcm5hbWUgPSBoYXNoRGF0YVtcImFwcGxpY2FudF91c2VybmFtZVwiXTtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudCA9IG5ldyBPYmplY3Q7XG4gICAgZmxvdyA9IGRiLmZsb3dzLmZpbmRPbmUoe1xuICAgICAgX2lkOiBmbG93X2lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIHNwYWNlOiAxLFxuICAgICAgICAnY3VycmVudC5faWQnOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgaWYgKCFmbG93KSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBleGlzdHMnKTtcbiAgICB9XG4gICAgaWYgKHNwYWNlX2lkICE9PSBmbG93LnNwYWNlKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmbG93IGlzIG5vdCBiZWxvbmcgdG8gdGhpcyBzcGFjZScpO1xuICAgIH1cbiAgICBpZiAoZGIuc3BhY2VfdXNlcnMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICB1c2VyOiBjdXJyZW50X3VzZXJfaW5mby5faWRcbiAgICB9KS5jb3VudCgpID09PSAwKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdhdXRoX3Rva2VuIGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgfVxuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wic3BhY2VcIl0gPSBzcGFjZV9pZDtcbiAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImZsb3dcIl0gPSBmbG93X2lkO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiZmxvd192ZXJzaW9uXCJdID0gZmxvdy5jdXJyZW50Ll9pZDtcbiAgICBhcHBsaWNhbnQgPSBudWxsO1xuICAgIGlmIChhcHBsaWNhbnRfaWQgfHwgYXBwbGljYW50X3VzZXJuYW1lKSB7XG4gICAgICBpZiAoYXBwbGljYW50X2lkKSB7XG4gICAgICAgIGFwcGxpY2FudCA9IGRiLnVzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIF9pZDogYXBwbGljYW50X2lkXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9IGVsc2UgaWYgKGFwcGxpY2FudF91c2VybmFtZSkge1xuICAgICAgICBhcHBsaWNhbnQgPSBkYi51c2Vycy5maW5kT25lKHtcbiAgICAgICAgICB1c2VybmFtZTogYXBwbGljYW50X3VzZXJuYW1lXG4gICAgICAgIH0sIHtcbiAgICAgICAgICBmaWVsZHM6IHtcbiAgICAgICAgICAgIG5hbWU6IDFcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoIWFwcGxpY2FudCkge1xuICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudF91c2VybmFtZSBpcyB3cm9uZycpO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHNwYWNlOiBzcGFjZV9pZCxcbiAgICAgICAgdXNlcjogYXBwbGljYW50Ll9pZFxuICAgICAgfSk7XG4gICAgICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXBwbGljYW50IGlzIG5vdCBhIG1lbWJlciBvZiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBpZiAoc3BhY2VfdXNlci51c2VyX2FjY2VwdGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2FwcGxpY2FudCBpcyBkaXNhYmxlZCBpbiB0aGlzIHNwYWNlJyk7XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyX29yZ19pbmZvID0gdXVmbG93TWFuYWdlci5nZXRTcGFjZVVzZXJPcmdJbmZvKHNwYWNlX3VzZXIpO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRcIl0gPSBhcHBsaWNhbnQuX2lkO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfbmFtZVwiXSA9IGFwcGxpY2FudC5uYW1lO1xuICAgICAgaW5zdGFuY2VfZnJvbV9jbGllbnRbXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uXCJdID0gc3BhY2VfdXNlcl9vcmdfaW5mb1tcIm9yZ2FuaXphdGlvblwiXTtcbiAgICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiYXBwbGljYW50X29yZ2FuaXphdGlvbl9mdWxsbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fZnVsbG5hbWVcIl07XG4gICAgICBpbnN0YW5jZV9mcm9tX2NsaWVudFtcImFwcGxpY2FudF9vcmdhbml6YXRpb25fbmFtZVwiXSA9IHNwYWNlX3VzZXJfb3JnX2luZm9bXCJvcmdhbml6YXRpb25fbmFtZVwiXTtcbiAgICB9XG4gICAgYXBwbGljYW50SW5mbyA9IGFwcGxpY2FudCB8fCBjdXJyZW50X3VzZXJfaW5mbztcbiAgICB0cmFjZXMgPSBbXTtcbiAgICB0cmFjZSA9IG5ldyBPYmplY3Q7XG4gICAgYXBwcm92ZXMgPSBbXTtcbiAgICBhcHByb3ZlID0gbmV3IE9iamVjdDtcbiAgICBhcHByb3ZlW1widmFsdWVzXCJdID0gaGFzaERhdGFbXCJ2YWx1ZXNcIl07XG4gICAgYXBwcm92ZXMucHVzaChhcHByb3ZlKTtcbiAgICB0cmFjZVtcImFwcHJvdmVzXCJdID0gYXBwcm92ZXM7XG4gICAgdHJhY2VzLnB1c2godHJhY2UpO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1widHJhY2VzXCJdID0gdHJhY2VzO1xuICAgIGluc3RhbmNlX2Zyb21fY2xpZW50W1wiaW5ib3hfdXNlcnNcIl0gPSBbYXBwbGljYW50SW5mby5faWRdO1xuICAgIG5ld19pbnNfaWQgPSB1dWZsb3dNYW5hZ2VyLmNyZWF0ZV9pbnN0YW5jZShpbnN0YW5jZV9mcm9tX2NsaWVudCwgYXBwbGljYW50SW5mbyk7XG4gICAgbmV3X2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG5ld19pbnNfaWQpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IG5ld19pbnNcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtnZXR9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCDmn6XnnIvnlLPor7fljZXor6bmg4VcclxuXHJcbkBhcGlOYW1lIGdldEluc3RhbmNlXHJcblxyXG5AYXBpR3JvdXAgV29ya2Zsb3dcclxuXHJcbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueahOeuoeeQhuWRmFxyXG5cclxuQGFwaVBhcmFtIHtTdHJpbmd9IGluc19pZCDnlLPor7fljZVJZFxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbntcclxuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcbn1cclxuXHJcbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcclxue1xyXG4gICAgXCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcbiAgICBcImRhdGFcIjoge2luc3RhbmNlfVxyXG59XHJcbiMjI1xyXG5Kc29uUm91dGVzLmFkZCAnZ2V0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXQvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuXHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZClcclxuXHRcdGlmIG5vdCBpbnN0YW5jZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgaW5zdGFuY2UnKVxyXG5cclxuXHRcdGlmIGRiLnNwYWNlX3VzZXJzLmZpbmQoeyBzcGFjZTogaW5zdGFuY2Uuc3BhY2UsIHVzZXI6IGN1cnJlbnRfdXNlciB9KS5jb3VudCgpIGlzIDBcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnYXV0aF90b2tlbiBpcyB3cm9uZycpXHJcblxyXG5cdFx0IyDmnYPpmZDvvJrku4Xku6XkuIvkurrlkZjlj6/ku6Xmn6XnnIvnlLPor7fljZXor6bmg4XvvJrmj5DkuqTogIXjgIHnlLPor7fogIXjgIHnu4/miYvogIXjgIHmnKzmtYHnqIvnmoTnrqHnkIblkZjjgIHmnKzmtYHnqIvnmoTop4Llr5/lkZjjgIHmnKzlt6XkvZzljLrnmoTnrqHnkIblkZjjgIHmnKzlt6XkvZzljLrnmoTmiYDmnInogIXjgIJcclxuXHRcdHBlcm1fdXNlcnMgPSBuZXcgQXJyYXlcclxuXHRcdHBlcm1fdXNlcnMucHVzaChpbnN0YW5jZS5zdWJtaXR0ZXIpXHJcblx0XHRwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KVxyXG5cdFx0aWYgaW5zdGFuY2Uub3V0Ym94X3VzZXJzXHJcblx0XHRcdHBlcm1fdXNlcnMgPSBwZXJtX3VzZXJzLmNvbmNhdChpbnN0YW5jZS5vdXRib3hfdXNlcnMpXHJcblx0XHRpZiBpbnN0YW5jZS5pbmJveF91c2Vyc1xyXG5cdFx0XHRwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2UuaW5ib3hfdXNlcnMpXHJcblx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHsgX2lkOiBpbnN0YW5jZS5zcGFjZSB9LCB7IGZpZWxkczogeyBhZG1pbnM6IDEgfSB9KVxyXG5cdFx0cGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucylcclxuXHJcblx0XHRwZXJtaXNzaW9ucyA9IHBlcm1pc3Npb25NYW5hZ2VyLmdldEZsb3dQZXJtaXNzaW9ucyhpbnN0YW5jZS5mbG93LCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgKG5vdCBwZXJtX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpIGFuZCAobm90IHBlcm1pc3Npb25zLmluY2x1ZGVzKFwibW9uaXRvclwiKSkgYW5kIChub3QgcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJhZG1pblwiKSlcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbm8gcGVybWlzc2lvbicpXHJcblxyXG5cdFx0aW5zdGFuY2UuYXR0YWNobWVudHMgPSBjZnMuaW5zdGFuY2VzLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCwnbWV0YWRhdGEuY3VycmVudCc6IHRydWUsIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7JG5lOiB0cnVlfX0sIHtmaWVsZHM6IHtjb3BpZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogaW5zdGFuY2UgfVxyXG5cdFx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7IGVycm9yTWVzc2FnZTogZS5tZXNzYWdlIH1dIH1cclxuXHRcdH1cclxuXHJcbiIsIlxuLypcbkBhcGkge2dldH0gL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkIOafpeeci+eUs+ivt+WNleivpuaDhVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZVxuXG5AYXBpR3JvdXAgV29ya2Zsb3dcblxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy655qE566h55CG5ZGYXG5cbkBhcGlQYXJhbSB7U3RyaW5nfSBpbnNfaWQg55Sz6K+35Y2VSWRcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cblxuQGFwaUhlYWRlciB7U3RyaW5nfSBYLVNwYWNlLUlkXHTlt6XkvZzljLpJZFxuXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XG57XG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuICAgIFwic3RhdHVzXCI6IFwic3VjY2Vzc1wiLFxuICAgIFwiZGF0YVwiOiB7aW5zdGFuY2V9XG59XG4gKi9cbkpzb25Sb3V0ZXMuYWRkKCdnZXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldC86aW5zX2lkJywgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGN1cnJlbnRfdXNlciwgZSwgaW5zX2lkLCBpbnN0YW5jZSwgcGVybV91c2VycywgcGVybWlzc2lvbnMsIHNwYWNlLCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG4gICAgaWYgKCFpbnN0YW5jZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIGluc3RhbmNlJyk7XG4gICAgfVxuICAgIGlmIChkYi5zcGFjZV91c2Vycy5maW5kKHtcbiAgICAgIHNwYWNlOiBpbnN0YW5jZS5zcGFjZSxcbiAgICAgIHVzZXI6IGN1cnJlbnRfdXNlclxuICAgIH0pLmNvdW50KCkgPT09IDApIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2F1dGhfdG9rZW4gaXMgd3JvbmcnKTtcbiAgICB9XG4gICAgcGVybV91c2VycyA9IG5ldyBBcnJheTtcbiAgICBwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2Uuc3VibWl0dGVyKTtcbiAgICBwZXJtX3VzZXJzLnB1c2goaW5zdGFuY2UuYXBwbGljYW50KTtcbiAgICBpZiAoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKSB7XG4gICAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2Uub3V0Ym94X3VzZXJzKTtcbiAgICB9XG4gICAgaWYgKGluc3RhbmNlLmluYm94X3VzZXJzKSB7XG4gICAgICBwZXJtX3VzZXJzID0gcGVybV91c2Vycy5jb25jYXQoaW5zdGFuY2UuaW5ib3hfdXNlcnMpO1xuICAgIH1cbiAgICBzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHtcbiAgICAgIF9pZDogaW5zdGFuY2Uuc3BhY2VcbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgYWRtaW5zOiAxXG4gICAgICB9XG4gICAgfSk7XG4gICAgcGVybV91c2VycyA9IHBlcm1fdXNlcnMuY29uY2F0KHNwYWNlLmFkbWlucyk7XG4gICAgcGVybWlzc2lvbnMgPSBwZXJtaXNzaW9uTWFuYWdlci5nZXRGbG93UGVybWlzc2lvbnMoaW5zdGFuY2UuZmxvdywgY3VycmVudF91c2VyKTtcbiAgICBpZiAoKCFwZXJtX3VzZXJzLmluY2x1ZGVzKGN1cnJlbnRfdXNlcikpICYmICghcGVybWlzc2lvbnMuaW5jbHVkZXMoXCJtb25pdG9yXCIpKSAmJiAoIXBlcm1pc3Npb25zLmluY2x1ZGVzKFwiYWRtaW5cIikpKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdubyBwZXJtaXNzaW9uJyk7XG4gICAgfVxuICAgIGluc3RhbmNlLmF0dGFjaG1lbnRzID0gY2ZzLmluc3RhbmNlcy5maW5kKHtcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgIFwibWV0YWRhdGEuaXNfcHJpdmF0ZVwiOiB7XG4gICAgICAgICRuZTogdHJ1ZVxuICAgICAgfVxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICBjb3BpZXM6IDBcbiAgICAgIH1cbiAgICB9KS5mZXRjaCgpO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IGluc3RhbmNlXG4gICAgICB9XG4gICAgfSk7XG4gIH0gY2F0Y2ggKGVycm9yKSB7XG4gICAgZSA9IGVycm9yO1xuICAgIGNvbnNvbGUuZXJyb3IoZS5zdGFjayk7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAge1xuICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2VcbiAgICAgICAgICB9XG4gICAgICAgIF1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCIjIyNcclxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc3VibWl0LzppbnNfaWQg5o+Q5Lqk55Sz6K+35Y2VXHJcblxyXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XHJcblxyXG5AYXBpTmFtZSBzdWJtaXRJbnN0YW5jZVxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxuICAgIHtcclxuXHRcdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxuXHR9XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbiAgICB7XHJcblx0XHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcdFwiZGF0YVwiOiB7aW5zdGFuY2V9XHJcblx0fVxyXG4jIyNcclxuXHJcbkpzb25Sb3V0ZXMuYWRkICdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXHJcblxyXG5cdFx0IyDmoKHpqoznlLPor7fljZXnirbmgIHkuLrojYnnqL9cclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNJbnN0YW5jZURyYWZ0KGluc3RhbmNlKVxyXG5cclxuXHRcdGlmIHNwYWNlX2lkIGlzbnQgaW5zdGFuY2VbXCJzcGFjZVwiXVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKVxyXG5cclxuXHRcdCMg5qCh6aqM55Sz6K+35Y2V5b+F5aGr5a2X5q615piv5ZCm5pyJ5YC8XHJcblx0XHR2YWx1ZXMgPSBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdLnZhbHVlc1xyXG5cclxuXHRcdGZvcm0gPSB1dWZsb3dNYW5hZ2VyLmdldEZvcm0oaW5zdGFuY2UuZm9ybSlcclxuXHJcblx0XHRyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKVxyXG5cclxuXHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAwXHJcblx0XHRcdGlmIHJlcXVpcmVfYnV0X2VtcHR5X2ZpZWxkcy5sZW5ndGggPiAxXHJcblx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGRzIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gYXJlIHJlcXVpcmVkJylcclxuXHRcdFx0ZWxzZSBpZiByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID0gMVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2ZpZWxkIDwnICsgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmpvaW4oXCIsXCIpICsgJz4gaXMgcmVxdWlyZWQnKVxyXG5cclxuXHRcdGZsb3cgPSB1dWZsb3dNYW5hZ2VyLmdldEZsb3coaW5zdGFuY2UuZmxvdylcclxuXHJcblx0XHRzdGVwID0gdXVmbG93TWFuYWdlci5nZXRTdGVwKGluc3RhbmNlLCBmbG93LCBpbnN0YW5jZVtcInRyYWNlc1wiXVswXS5zdGVwKVxyXG5cclxuXHRcdCMg6K6h566X5LiL5LiA5q2l6aqk6YCJ6aG5XHJcblx0XHRuZXh0U3RlcHMgPSB1dWZsb3dNYW5hZ2VyLmdldE5leHRTdGVwcyhpbnN0YW5jZSwgZmxvdywgc3RlcCwgXCJzdWJtaXR0ZWRcIilcclxuXHJcblx0XHRpZiBuZXh0U3RlcHMubGVuZ3RoIDwgMVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgbmV4dCBzdGVwcycpXHJcblxyXG5cdFx0aWYgbmV4dFN0ZXBzLmxlbmd0aCA+IDFcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJylcclxuXHJcblx0XHRuZXh0X3N0ZXBfaWQgPSBuZXh0U3RlcHNbMF1cclxuXHJcblx0XHQjIOiuoeeul+S4i+S4gOatpeWkhOeQhuS6uumAiemhuVxyXG5cdFx0bmV4dF91c2VyX2lkcyA9IGdldEhhbmRsZXJzTWFuYWdlci5nZXRIYW5kbGVycyhpbnNfaWQsIG5leHRfc3RlcF9pZCkgfHwgW11cclxuXHJcblx0XHRpZiBuZXh0X3VzZXJfaWRzLmxlbmd0aCA+IDFcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIGhhbmRsZXIgbm90IHVuaXEnKVxyXG5cclxuXHRcdGluc3RhbmNlW1widHJhY2VzXCJdWzBdW1wiYXBwcm92ZXNcIl1bMF1bXCJuZXh0X3N0ZXBzXCJdID0gW3snc3RlcCc6IG5leHRfc3RlcF9pZCwgJ3VzZXJzJzogbmV4dF91c2VyX2lkc31dXHJcblxyXG5cdFx0cmVzdWx0ID0gbmV3IE9iamVjdFxyXG5cclxuXHRcdHN1Ym1pdHRlciA9IGRiLnVzZXJzLmZpbmRPbmUoaW5zdGFuY2Uuc3VibWl0dGVyKVxyXG5cclxuXHRcdGlmIG5vdCBzdWJtaXR0ZXJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHN1Ym1pdHRlcicpXHJcblxyXG5cdFx0ciA9IHV1Zmxvd01hbmFnZXIuc3VibWl0X2luc3RhbmNlKGluc3RhbmNlLCBzdWJtaXR0ZXIpXHJcblxyXG5cdFx0aWYgci5hbGVydHNcclxuXHRcdFx0cmVzdWx0ID0gclxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRyZXN1bHQgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShpbnNfaWQpXHJcblx0XHRcdGlmIHJlc3VsdFxyXG5cdFx0XHRcdHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogcmVzdWx0fVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3N1Ym1pdC86aW5zX2lkIOaPkOS6pOeUs+ivt+WNlVxuXG5AYXBpRGVzY3JpcHRpb24g5pqC5LiN5pSv5oyB5byA5aeL6IqC54K55LiL5LiA6IqC54K55Li65p2h5Lu255qE5oOF5Ya1XG5cbkBhcGlOYW1lIHN1Ym1pdEluc3RhbmNlXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zdWJtaXQvOmluc19pZCcsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBmb3JtLCBpbnNfaWQsIGluc3RhbmNlLCBuZXh0U3RlcHMsIG5leHRfc3RlcF9pZCwgbmV4dF91c2VyX2lkcywgciwgcmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLCByZXN1bHQsIHNwYWNlX2lkLCBzdGVwLCBzdWJtaXR0ZXIsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzSW5zdGFuY2VEcmFmdChpbnN0YW5jZSk7XG4gICAgaWYgKHNwYWNlX2lkICE9PSBpbnN0YW5jZVtcInNwYWNlXCJdKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdpbnN0YW5jZSBpcyBub3QgYmVsb25nIHRvIHRoaXMgc3BhY2UnKTtcbiAgICB9XG4gICAgdmFsdWVzID0gaW5zdGFuY2VbXCJ0cmFjZXNcIl1bMF1bXCJhcHByb3Zlc1wiXVswXS52YWx1ZXM7XG4gICAgZm9ybSA9IHV1Zmxvd01hbmFnZXIuZ2V0Rm9ybShpbnN0YW5jZS5mb3JtKTtcbiAgICByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMgPSB1dWZsb3dNYW5hZ2VyLmNoZWNrVmFsdWVGaWVsZHNSZXF1aXJlKHZhbHVlcywgZm9ybSwgaW5zdGFuY2UuZm9ybV92ZXJzaW9uKTtcbiAgICBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA+IDApIHtcbiAgICAgIGlmIChyZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMubGVuZ3RoID4gMSkge1xuICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdmaWVsZHMgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBhcmUgcmVxdWlyZWQnKTtcbiAgICAgIH0gZWxzZSBpZiAocmVxdWlyZV9idXRfZW1wdHlfZmllbGRzLmxlbmd0aCA9IDEpIHtcbiAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnZmllbGQgPCcgKyByZXF1aXJlX2J1dF9lbXB0eV9maWVsZHMuam9pbihcIixcIikgKyAnPiBpcyByZXF1aXJlZCcpO1xuICAgICAgfVxuICAgIH1cbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIHN0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGluc3RhbmNlW1widHJhY2VzXCJdWzBdLnN0ZXApO1xuICAgIG5leHRTdGVwcyA9IHV1Zmxvd01hbmFnZXIuZ2V0TmV4dFN0ZXBzKGluc3RhbmNlLCBmbG93LCBzdGVwLCBcInN1Ym1pdHRlZFwiKTtcbiAgICBpZiAobmV4dFN0ZXBzLmxlbmd0aCA8IDEpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBuZXh0IHN0ZXBzJyk7XG4gICAgfVxuICAgIGlmIChuZXh0U3RlcHMubGVuZ3RoID4gMSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmV4dCBzdGVwIG5vdCB1bmlxJyk7XG4gICAgfVxuICAgIG5leHRfc3RlcF9pZCA9IG5leHRTdGVwc1swXTtcbiAgICBuZXh0X3VzZXJfaWRzID0gZ2V0SGFuZGxlcnNNYW5hZ2VyLmdldEhhbmRsZXJzKGluc19pZCwgbmV4dF9zdGVwX2lkKSB8fCBbXTtcbiAgICBpZiAobmV4dF91c2VyX2lkcy5sZW5ndGggPiAxKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZXh0IHN0ZXAgaGFuZGxlciBub3QgdW5pcScpO1xuICAgIH1cbiAgICBpbnN0YW5jZVtcInRyYWNlc1wiXVswXVtcImFwcHJvdmVzXCJdWzBdW1wibmV4dF9zdGVwc1wiXSA9IFtcbiAgICAgIHtcbiAgICAgICAgJ3N0ZXAnOiBuZXh0X3N0ZXBfaWQsXG4gICAgICAgICd1c2Vycyc6IG5leHRfdXNlcl9pZHNcbiAgICAgIH1cbiAgICBdO1xuICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgc3VibWl0dGVyID0gZGIudXNlcnMuZmluZE9uZShpbnN0YW5jZS5zdWJtaXR0ZXIpO1xuICAgIGlmICghc3VibWl0dGVyKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgc3VibWl0dGVyJyk7XG4gICAgfVxuICAgIHIgPSB1dWZsb3dNYW5hZ2VyLnN1Ym1pdF9pbnN0YW5jZShpbnN0YW5jZSwgc3VibWl0dGVyKTtcbiAgICBpZiAoci5hbGVydHMpIHtcbiAgICAgIHJlc3VsdCA9IHI7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3VsdCA9IGRiLmluc3RhbmNlcy5maW5kT25lKGluc19pZCk7XG4gICAgICBpZiAocmVzdWx0KSB7XG4gICAgICAgIHJlc3VsdC5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkLFxuICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSxcbiAgICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICAgJG5lOiB0cnVlXG4gICAgICAgICAgfVxuICAgICAgICB9LCB7XG4gICAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgICBjb3BpZXM6IDBcbiAgICAgICAgICB9XG4gICAgICAgIH0pLmZldGNoKCk7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IHJlc3VsdFxuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkBhcGkge3B1dH0gL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCDmmoLlrZjnlLPor7fljZVcclxuXHJcbkBhcGlOYW1lIHNhdmVJbnN0YW5jZXNcclxuXHJcbkBhcGlHcm91cCBXb3JrZmxvd1xyXG5cclxuQGFwaVBlcm1pc3Npb24g5bel5L2c5Yy6566h55CG5ZGYXHJcblxyXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXHJcblxyXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXHJcblxyXG5AYXBpSGVhZGVyRXhhbXBsZSB7anNvbn0gSGVhZGVyLUV4YW1wbGU6XHJcbiAgICB7XHJcblx0XHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXHJcblx0fVxyXG5cclxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxyXG4gICAge1xyXG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXHJcblx0XHRcImRhdGFcIjoge2luc3RhbmNlfVxyXG5cdH1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdwdXQnLCAnL2FwaS93b3JrZmxvdy9vcGVuL3NhdmUvOmluc19pZCcsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGluc19pZCA9IHJlcS5wYXJhbXMuaW5zX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHR2YWx1ZXMgPSByZXEuYm9keVxyXG5cclxuXHRcdGlmIG5vdCB2YWx1ZXNcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKVxyXG5cclxuXHRcdGN1cnJlbnRfdHJhY2UgPSBudWxsXHJcblx0XHRzZXRPYmogPSBuZXcgT2JqZWN0XHJcblx0XHRpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKVxyXG5cdFx0ZmxvdyA9IHV1Zmxvd01hbmFnZXIuZ2V0RmxvdyhpbnN0YW5jZS5mbG93KVxyXG5cclxuXHRcdF8uZWFjaCBpbnN0YW5jZS50cmFjZXMsICh0KS0+XHJcblx0XHRcdGlmIHQuaXNfZmluaXNoZWQgaXNudCB0cnVlXHJcblx0XHRcdFx0Y3VycmVudF90cmFjZSA9IHRcclxuXHJcblx0XHRjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcClcclxuXHJcblx0XHRpZiBjdXJyZW50X3N0ZXAuc3RlcF90eXBlIGlzIFwiY291bnRlclNpZ25cIlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfkvJrnrb7mraXpqqTkuI3og73kv67mlLnooajljZXlgLwnKVxyXG5cclxuXHRcdF8uZWFjaCBjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCAoYSktPlxyXG5cdFx0XHRpZiBhLmlzX2ZpbmlzaGVkIGlzbnQgdHJ1ZSBhbmQgYS50eXBlIGlzbnQgXCJjY1wiXHJcblx0XHRcdFx0YS52YWx1ZXMgPSB2YWx1ZXNcclxuXHJcblx0XHRzZXRPYmoubW9kaWZpZWQgPSBuZXcgRGF0ZVxyXG5cdFx0c2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzXHJcblxyXG5cdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZSB7XHJcblx0XHRcdF9pZDogaW5zX2lkXHJcblx0XHRcdCd0cmFjZXMuX2lkJzogY3VycmVudF90cmFjZS5faWRcclxuXHRcdH0sICRzZXQ6IHNldE9ialxyXG5cclxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcclxuXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiXG4vKlxuQGFwaSB7cHV0fSAvYXBpL3dvcmtmbG93L29wZW4vc2F2ZS86aW5zX2lkIOaaguWtmOeUs+ivt+WNlVxuXG5AYXBpTmFtZSBzYXZlSW5zdGFuY2VzXG5cbkBhcGlHcm91cCBXb3JrZmxvd1xuXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcblxuQGFwaVBhcmFtIHtTdHJpbmd9IGFjY2Vzc190b2tlbiBVc2VyIEFQSSBUb2tlblxuXG5AYXBpSGVhZGVyIHtTdHJpbmd9IFgtU3BhY2UtSWRcdOW3peS9nOWMuklkXG5cbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcbiAgICB7XG5cdFx0XCJYLVNwYWNlLUlkXCI6IFwid3N3MXJlMTJUZGVQMjIzc0NcIlxuXHR9XG5cbkBhcGlTdWNjZXNzRXhhbXBsZSB7anNvbn0gU3VjY2Vzcy1SZXNwb25zZTpcbiAgICB7XG5cdFx0XCJzdGF0dXNcIjogXCJzdWNjZXNzXCIsXG5cdFx0XCJkYXRhXCI6IHtpbnN0YW5jZX1cblx0fVxuICovXG5Kc29uUm91dGVzLmFkZCgncHV0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9zYXZlLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF9zdGVwLCBjdXJyZW50X3RyYWNlLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmbG93LCBpbnNfaWQsIGluc3RhbmNlLCByZXN1bHQsIHNldE9iaiwgc3BhY2VfaWQsIHZhbHVlcztcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICB2YWx1ZXMgPSByZXEuYm9keTtcbiAgICBpZiAoIXZhbHVlcykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCB2YWx1ZXMnKTtcbiAgICB9XG4gICAgY3VycmVudF90cmFjZSA9IG51bGw7XG4gICAgc2V0T2JqID0gbmV3IE9iamVjdDtcbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBmbG93ID0gdXVmbG93TWFuYWdlci5nZXRGbG93KGluc3RhbmNlLmZsb3cpO1xuICAgIF8uZWFjaChpbnN0YW5jZS50cmFjZXMsIGZ1bmN0aW9uKHQpIHtcbiAgICAgIGlmICh0LmlzX2ZpbmlzaGVkICE9PSB0cnVlKSB7XG4gICAgICAgIHJldHVybiBjdXJyZW50X3RyYWNlID0gdDtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBjdXJyZW50X3N0ZXAgPSB1dWZsb3dNYW5hZ2VyLmdldFN0ZXAoaW5zdGFuY2UsIGZsb3csIGN1cnJlbnRfdHJhY2Uuc3RlcCk7XG4gICAgaWYgKGN1cnJlbnRfc3RlcC5zdGVwX3R5cGUgPT09IFwiY291bnRlclNpZ25cIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn5Lya562+5q2l6aqk5LiN6IO95L+u5pS56KGo5Y2V5YC8Jyk7XG4gICAgfVxuICAgIF8uZWFjaChjdXJyZW50X3RyYWNlLmFwcHJvdmVzLCBmdW5jdGlvbihhKSB7XG4gICAgICBpZiAoYS5pc19maW5pc2hlZCAhPT0gdHJ1ZSAmJiBhLnR5cGUgIT09IFwiY2NcIikge1xuICAgICAgICByZXR1cm4gYS52YWx1ZXMgPSB2YWx1ZXM7XG4gICAgICB9XG4gICAgfSk7XG4gICAgc2V0T2JqLm1vZGlmaWVkID0gbmV3IERhdGU7XG4gICAgc2V0T2JqW1widHJhY2VzLiQuYXBwcm92ZXNcIl0gPSBjdXJyZW50X3RyYWNlLmFwcHJvdmVzO1xuICAgIGRiLmluc3RhbmNlcy51cGRhdGUoe1xuICAgICAgX2lkOiBpbnNfaWQsXG4gICAgICAndHJhY2VzLl9pZCc6IGN1cnJlbnRfdHJhY2UuX2lkXG4gICAgfSwge1xuICAgICAgJHNldDogc2V0T2JqXG4gICAgfSk7XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIiMjI1xyXG5AYXBpIHtwb3N0fSAvYXBpL3dvcmtmbG93L29wZW4vZ2V0YnlzdGVwbmFtZSDmoLnmja7mraXpqqTlkI3np7Dojrflj5bnlLPor7fljZVcclxuXHJcbkBhcGlOYW1lIGdldEluc3RhbmNlQnlTdGVwTmFtZVxyXG5cclxuQGFwaUdyb3VwIFdvcmtmbG93XHJcblxyXG5AYXBpUGVybWlzc2lvbiDlt6XkvZzljLrnrqHnkIblkZhcclxuXHJcbkBhcGlQYXJhbSB7U3RyaW5nfSBhY2Nlc3NfdG9rZW4gVXNlciBBUEkgVG9rZW5cclxuXHJcbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcclxuXHJcbkBhcGlIZWFkZXJFeGFtcGxlIHtqc29ufSBIZWFkZXItRXhhbXBsZTpcclxue1xyXG5cdFwiWC1TcGFjZS1JZFwiOiBcIndzdzFyZTEyVGRlUDIyM3NDXCJcclxufVxyXG5cclxuQGFwaVBhcmFtRXhhbXBsZSB7anNvbn0gUmVxdWVzdCBQYXlsb2FkOlxyXG57XHJcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXHJcbiAgICBcInN0ZXBuYW1lXCI6IOatpemqpOWQjeensFxyXG59XHJcblxyXG5AYXBpU3VjY2Vzc0V4YW1wbGUge2pzb259IFN1Y2Nlc3MtUmVzcG9uc2U6XHJcbntcclxuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcclxuXHRcImRhdGFcIjogW1xyXG5cdFx0e1xyXG5cdFx0XHRpbnN0YW5jZVxyXG5cdFx0fSxcclxuXHRcdHtcclxuXHRcdFx0aW5zdGFuY2VcclxuXHRcdH1cclxuXHRdXHJcbn1cclxuIyMjXHJcbkpzb25Sb3V0ZXMuYWRkICdwb3N0JywgJy9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0IyDmoKHpqoxzcGFjZeaYr+WQpuWtmOWcqFxyXG5cdFx0dXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZClcclxuXHRcdCMg5qCh6aqM5b2T5YmN55m75b2V55So5oi35piv5ZCm5pivc3BhY2XnmoTnrqHnkIblkZhcclxuXHRcdHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aGFzaERhdGEgPSByZXEuYm9keVxyXG5cdFx0c3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdXHJcblx0XHRmbG93ID0gaGFzaERhdGFbXCJmbG93XCJdXHJcblxyXG5cdFx0aWYgbm90IHN0ZXBuYW1lXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgc3RlcG5hbWUnKVxyXG5cclxuXHRcdGlmIG5vdCBmbG93XHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpXHJcblxyXG5cdFx0IyDljrvmjol7ZmllbGRzOiB7aW5ib3hfdWVyczogMCwgY2NfdXNlcnM6IDAsIG91dGJveF91c2VyczogMCwgdHJhY2VzOiAwLCBhdHRhY2htZW50czogMH1cclxuXHRcdGluc3RhbmNlcyA9IGRiLmluc3RhbmNlcy5maW5kKHtzcGFjZTogc3BhY2VfaWQsIGZsb3c6IGZsb3csIHN0YXRlOidwZW5kaW5nJywgdHJhY2VzOnskZWxlbU1hdGNoOiB7aXNfZmluaXNoZWQ6IGZhbHNlLCBuYW1lOiBzdGVwbmFtZX19fSwge2ZpZWxkczoge2luYm94X3VlcnM6IDAsIGNjX3VzZXJzOiAwLCBvdXRib3hfdXNlcnM6IDAsIGF0dGFjaG1lbnRzOiAwLCB0cmFjZXM6IDB9fSkuZmV0Y2goKVxyXG5cclxuXHRcdGluc3RhbmNlcy5mb3JFYWNoIChpbnN0YW5jZSktPlxyXG5cdFx0XHRpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7J21ldGFkYXRhLmluc3RhbmNlJzogaW5zdGFuY2UuX2lkLCdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZSwgXCJtZXRhZGF0YS5pc19wcml2YXRlXCI6IHskbmU6IHRydWV9fSwge2ZpZWxkczoge2NvcGllczogMH19KS5mZXRjaCgpXHJcblxyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgc3RhdHVzOiBcInN1Y2Nlc3NcIiwgZGF0YTogaW5zdGFuY2VzfVxyXG5cdGNhdGNoIGVcclxuXHRcdGNvbnNvbGUuZXJyb3IgZS5zdGFja1xyXG5cdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuXHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdGRhdGE6IHsgZXJyb3JzOiBbe2Vycm9yTWVzc2FnZTogZS5tZXNzYWdlfV19XHJcbiIsIlxuLypcbkBhcGkge3Bvc3R9IC9hcGkvd29ya2Zsb3cvb3Blbi9nZXRieXN0ZXBuYW1lIOagueaNruatpemqpOWQjeensOiOt+WPlueUs+ivt+WNlVxuXG5AYXBpTmFtZSBnZXRJbnN0YW5jZUJ5U3RlcE5hbWVcblxuQGFwaUdyb3VwIFdvcmtmbG93XG5cbkBhcGlQZXJtaXNzaW9uIOW3peS9nOWMuueuoeeQhuWRmFxuXG5AYXBpUGFyYW0ge1N0cmluZ30gYWNjZXNzX3Rva2VuIFVzZXIgQVBJIFRva2VuXG5cbkBhcGlIZWFkZXIge1N0cmluZ30gWC1TcGFjZS1JZFx05bel5L2c5Yy6SWRcblxuQGFwaUhlYWRlckV4YW1wbGUge2pzb259IEhlYWRlci1FeGFtcGxlOlxue1xuXHRcIlgtU3BhY2UtSWRcIjogXCJ3c3cxcmUxMlRkZVAyMjNzQ1wiXG59XG5cbkBhcGlQYXJhbUV4YW1wbGUge2pzb259IFJlcXVlc3QgUGF5bG9hZDpcbntcbiAgICBcImZsb3dcIjog5rWB56iLSWQsXG4gICAgXCJzdGVwbmFtZVwiOiDmraXpqqTlkI3np7Bcbn1cblxuQGFwaVN1Y2Nlc3NFeGFtcGxlIHtqc29ufSBTdWNjZXNzLVJlc3BvbnNlOlxue1xuXHRcInN0YXR1c1wiOiBcInN1Y2Nlc3NcIixcblx0XCJkYXRhXCI6IFtcblx0XHR7XG5cdFx0XHRpbnN0YW5jZVxuXHRcdH0sXG5cdFx0e1xuXHRcdFx0aW5zdGFuY2Vcblx0XHR9XG5cdF1cbn1cbiAqL1xuSnNvblJvdXRlcy5hZGQoJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2dldGJ5c3RlcG5hbWUnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgZmxvdywgaGFzaERhdGEsIGluc3RhbmNlcywgc3BhY2VfaWQsIHN0ZXBuYW1lO1xuICB0cnkge1xuICAgIGlmICghU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKSkge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXIgPSByZXEudXNlcklkO1xuICAgIHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXTtcbiAgICBpZiAoIXNwYWNlX2lkKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJyk7XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpO1xuICAgIGlmICghY3VycmVudF91c2VyX2luZm8pIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHk7XG4gICAgc3RlcG5hbWUgPSBoYXNoRGF0YVtcInN0ZXBuYW1lXCJdO1xuICAgIGZsb3cgPSBoYXNoRGF0YVtcImZsb3dcIl07XG4gICAgaWYgKCFzdGVwbmFtZSkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBzdGVwbmFtZScpO1xuICAgIH1cbiAgICBpZiAoIWZsb3cpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgZmxvdycpO1xuICAgIH1cbiAgICBpbnN0YW5jZXMgPSBkYi5pbnN0YW5jZXMuZmluZCh7XG4gICAgICBzcGFjZTogc3BhY2VfaWQsXG4gICAgICBmbG93OiBmbG93LFxuICAgICAgc3RhdGU6ICdwZW5kaW5nJyxcbiAgICAgIHRyYWNlczoge1xuICAgICAgICAkZWxlbU1hdGNoOiB7XG4gICAgICAgICAgaXNfZmluaXNoZWQ6IGZhbHNlLFxuICAgICAgICAgIG5hbWU6IHN0ZXBuYW1lXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9LCB7XG4gICAgICBmaWVsZHM6IHtcbiAgICAgICAgaW5ib3hfdWVyczogMCxcbiAgICAgICAgY2NfdXNlcnM6IDAsXG4gICAgICAgIG91dGJveF91c2VyczogMCxcbiAgICAgICAgYXR0YWNobWVudHM6IDAsXG4gICAgICAgIHRyYWNlczogMFxuICAgICAgfVxuICAgIH0pLmZldGNoKCk7XG4gICAgaW5zdGFuY2VzLmZvckVhY2goZnVuY3Rpb24oaW5zdGFuY2UpIHtcbiAgICAgIHJldHVybiBpbnN0YW5jZS5hdHRhY2htZW50cyA9IGNmcy5pbnN0YW5jZXMuZmluZCh7XG4gICAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc3RhbmNlLl9pZCxcbiAgICAgICAgJ21ldGFkYXRhLmN1cnJlbnQnOiB0cnVlLFxuICAgICAgICBcIm1ldGFkYXRhLmlzX3ByaXZhdGVcIjoge1xuICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICB9XG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIGNvcGllczogMFxuICAgICAgICB9XG4gICAgICB9KS5mZXRjaCgpO1xuICAgIH0pO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIHN0YXR1czogXCJzdWNjZXNzXCIsXG4gICAgICAgIGRhdGE6IGluc3RhbmNlc1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuIiwiIyMjXHJcbkNvbnRlbnQtVHlwZe+8mmFwcGxpY2F0aW9uL2pzb25cclxuZm9ybS1kYXRhIOagvOW8jzpcclxuZmQgPSBuZXcgRm9ybURhdGE7XHJcbmZkLmFwcGVuZChcImZpbGVcIiwgZmlsZSk7XHJcblxyXG5mZC5hcHBlbmQoXCJpc19wcml2YXRlXCIsIGZhbHNlKTtcclxuXHJcbmlmIChpc0FkZFZlcnNpb24pIHtcclxuXHRmZC5hcHBlbmQoXCJpc0FkZFZlcnNpb25cIiwgaXNBZGRWZXJzaW9uKTtcclxuXHRmZC5hcHBlbmQoXCJwYXJlbnRcIiwgYXR0YWNoX3BhcmVudF9pZCk7XHJcbn1cclxuXHJcbmlmIChpc01haW5BdHRhY2gpIHtcclxuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xyXG59XHJcbiMjI1xyXG5cclxuSnNvblJvdXRlcy5hZGQgJ3Bvc3QnLCAnL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0aW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWRcclxuXHJcblx0XHRpZiAhU3RlZWRvcy5BUElBdXRoZW50aWNhdGlvbkNoZWNrKHJlcSwgcmVzKVxyXG5cdFx0XHRyZXR1cm4gO1xyXG5cclxuXHRcdGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWRcclxuXHJcblx0XHRzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ11cclxuXHJcblx0XHRpZiBub3Qgc3BhY2VfaWRcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpXHJcblxyXG5cdFx0Y3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRpZiBub3QgY3VycmVudF91c2VyX2luZm9cclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKVxyXG5cclxuXHRcdGluc3RhbmNlID0gdXVmbG93TWFuYWdlci5nZXRJbnN0YW5jZShpbnNfaWQpXHJcblxyXG5cdFx0aWYgaW5zdGFuY2Uuc3RhdGUgaXNudCBcImRyYWZ0XCJcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95LiK5LygJylcclxuXHJcblx0XHRhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZFxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdEpzb25Sb3V0ZXMucGFyc2VGaWxlcyByZXEsIHJlcywgKCktPlxyXG5cdFx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xyXG5cclxuXHRcdFx0aWYgcmVxLmZpbGVzIGFuZCByZXEuZmlsZXNbMF1cclxuXHRcdFx0XHQjIOmZhOS7tuS4iuS8oOaOpeWPo++8jOmZkOWItumZhOS7tuWkp+Wwj++8jOacgOWkp+S4ujEwME1cclxuXHRcdFx0XHRpZiByZXEuZmlsZXNbMF0uZGF0YS5sZW5ndGggPiAoMTAwKjEwMjQqMTAyNClcclxuXHRcdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdFx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwi6LaF6L+H5LiK5Lyg6ZmE5Lu25aSn5bCP6ZmQ5Yi2KDEwME0pXCJ9XX1cclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRuZXdGaWxlID0gbmV3IEZTLkZpbGUoKTtcclxuXHRcdFx0XHRuZXdGaWxlLmF0dGFjaERhdGEgcmVxLmZpbGVzWzBdLmRhdGEsIHt0eXBlOiByZXEuZmlsZXNbMF0ubWltZVR5cGV9LCAoZXJyKSAtPlxyXG5cdFx0XHRcdFx0ZmlsZW5hbWUgPSByZXEuZmlsZXNbMF0uZmlsZW5hbWVcclxuXHJcblx0XHRcdFx0XHRpZiBbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpXHJcblx0XHRcdFx0XHRcdGZpbGVuYW1lID0gXCJpbWFnZS1cIiArIG1vbWVudChuZXcgRGF0ZSgpKS5mb3JtYXQoJ1lZWVlNTURESEhtbXNzJykgKyBcIi5cIiArIGZpbGVuYW1lLnNwbGl0KCcuJykucG9wKClcclxuXHJcblx0XHRcdFx0XHRib2R5ID0gcmVxLmJvZHlcclxuXHJcblx0XHRcdFx0XHRib2R5Wydvd25lciddID0gaW5zdGFuY2Uuc3VibWl0dGVyXHJcblx0XHRcdFx0XHRib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZVxyXG5cdFx0XHRcdFx0Ym9keVsnc3BhY2UnXSA9IHNwYWNlX2lkXHJcblx0XHRcdFx0XHRib2R5WydpbnN0YW5jZSddID0gaW5zX2lkXHJcblx0XHRcdFx0XHRib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkXHJcblxyXG5cdFx0XHRcdFx0dHJ5XHJcblx0XHRcdFx0XHRcdGlmIGJvZHkgJiYgKGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJJRVwiIG9yIGJvZHlbJ3VwbG9hZF9mcm9tJ10gaXMgXCJub2RlXCIpXHJcblx0XHRcdFx0XHRcdFx0ZmlsZW5hbWUgPSBkZWNvZGVVUklDb21wb25lbnQoZmlsZW5hbWUpXHJcblx0XHRcdFx0XHRjYXRjaCBlXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUuZXJyb3IgZVxyXG5cdFx0XHRcdFx0XHRmaWxlbmFtZSA9IGZpbGVuYW1lLnJlcGxhY2UoLyUvZywgXCItXCIpXHJcblxyXG5cdFx0XHRcdFx0bmV3RmlsZS5uYW1lKGZpbGVuYW1lKVxyXG5cdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRpZiBib2R5ICYmIGJvZHlbJ293bmVyJ10gJiYgYm9keVsnb3duZXJfbmFtZSddICYmIGJvZHlbJ3NwYWNlJ10gJiYgYm9keVsnaW5zdGFuY2UnXSAgJiYgYm9keVsnYXBwcm92ZSddXHJcblx0XHRcdFx0XHRcdHBhcmVudCA9ICcnXHJcblx0XHRcdFx0XHRcdG1ldGFkYXRhID0ge293bmVyOmJvZHlbJ293bmVyJ10sIG93bmVyX25hbWU6Ym9keVsnb3duZXJfbmFtZSddLCBzcGFjZTpib2R5WydzcGFjZSddLCBpbnN0YW5jZTpib2R5WydpbnN0YW5jZSddLCBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sIGN1cnJlbnQ6IHRydWV9XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBib2R5W1wiaXNfcHJpdmF0ZVwiXSAmJiBib2R5W1wiaXNfcHJpdmF0ZVwiXS50b0xvY2FsZUxvd2VyQ2FzZSgpID09IFwidHJ1ZVwiXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWVcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmlzX3ByaXZhdGUgPSBmYWxzZVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgYm9keVsnbWFpbiddID09IFwidHJ1ZVwiXHJcblx0XHRcdFx0XHRcdFx0bWV0YWRhdGEubWFpbiA9IHRydWVcclxuXHJcblx0XHRcdFx0XHRcdGlmIGJvZHlbJ2lzQWRkVmVyc2lvbiddICYmIGJvZHlbJ3BhcmVudCddXHJcblx0XHRcdFx0XHRcdFx0cGFyZW50ID0gYm9keVsncGFyZW50J11cclxuXHRcdFx0XHRcdFx0IyBlbHNlXHJcblx0XHRcdFx0XHRcdCMgICBjb2xsZWN0aW9uLmZpbmQoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9KS5mb3JFYWNoIChjKSAtPlxyXG5cdFx0XHRcdFx0XHQjICAgICBpZiBjLm5hbWUoKSA9PSBmaWxlbmFtZVxyXG5cdFx0XHRcdFx0XHQjICAgICAgIHBhcmVudCA9IGMubWV0YWRhdGEucGFyZW50XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBwYXJlbnRcclxuXHRcdFx0XHRcdFx0XHRyID0gY29sbGVjdGlvbi51cGRhdGUoeydtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5jdXJyZW50JyA6IHRydWV9LCB7JHVuc2V0IDogeydtZXRhZGF0YS5jdXJyZW50JyA6ICcnfX0pXHJcblx0XHRcdFx0XHRcdFx0aWYgclxyXG5cdFx0XHRcdFx0XHRcdFx0bWV0YWRhdGEucGFyZW50ID0gcGFyZW50XHJcblx0XHRcdFx0XHRcdFx0XHRpZiBib2R5Wydsb2NrZWRfYnknXSAmJiBib2R5Wydsb2NrZWRfYnlfbmFtZSddXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddXHJcblx0XHRcdFx0XHRcdFx0XHRcdG1ldGFkYXRhLmxvY2tlZF9ieV9uYW1lID0gYm9keVsnbG9ja2VkX2J5X25hbWUnXVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxyXG5cdFx0XHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcclxuXHJcblx0XHRcdFx0XHRcdFx0XHQjIOWIoOmZpOWQjOS4gOS4queUs+ivt+WNleWQjOS4gOS4quatpemqpOWQjOS4gOS4quS6uuS4iuS8oOeahOmHjeWkjeeahOaWh+S7tlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgYm9keVtcIm92ZXJ3cml0ZVwiXSAmJiBib2R5W1wib3ZlcndyaXRlXCJdLnRvTG9jYWxlTG93ZXJDYXNlKCkgPT0gXCJ0cnVlXCJcclxuXHRcdFx0XHRcdFx0XHRcdFx0Y29sbGVjdGlvbi5yZW1vdmUoeydtZXRhZGF0YS5pbnN0YW5jZSc6IGJvZHlbJ2luc3RhbmNlJ10sICdtZXRhZGF0YS5wYXJlbnQnOiBwYXJlbnQsICdtZXRhZGF0YS5vd25lcic6IGJvZHlbJ293bmVyJ10sICdtZXRhZGF0YS5hcHByb3ZlJzogYm9keVsnYXBwcm92ZSddLCAnbWV0YWRhdGEuY3VycmVudCc6IHskbmU6IHRydWV9fSlcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YVxyXG5cdFx0XHRcdFx0XHRcdGZpbGVPYmogPSBjb2xsZWN0aW9uLmluc2VydCBuZXdGaWxlXHJcblx0XHRcdFx0XHRcdFx0ZmlsZU9iai51cGRhdGUoeyRzZXQ6IHsnbWV0YWRhdGEucGFyZW50JyA6IGZpbGVPYmouX2lkfX0pXHJcblxyXG5cdFx0XHRcdFx0IyDlhbzlrrnogIHniYjmnKxcclxuXHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0ZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0IG5ld0ZpbGVcclxuXHJcblx0XHRcdFx0XHRzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplXHJcblx0XHRcdFx0XHRpZiAhc2l6ZVxyXG5cdFx0XHRcdFx0XHRzaXplID0gMTAyNFxyXG5cclxuXHRcdFx0XHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcclxuXHRcdFx0XHRcdHJlc3VsdCA9XHJcblx0XHRcdFx0XHRcdGF0dGFjaF9pZDogZmlsZU9iai5faWQsXHJcblx0XHRcdFx0XHRcdHNpemU6IHNpemVcclxuXHJcblx0XHRcdFx0XHRyZXMuc2V0SGVhZGVyKFwieC1hbXotdmVyc2lvbi1pZFwiLGZpbGVPYmouX2lkKTtcclxuXHJcblx0XHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0XHRcdFx0ZGF0YTogeyBzdGF0dXM6IFwic3VjY2Vzc1wiLCBkYXRhOiByZXN1bHR9XHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRcdFx0Y29kZTogMjAwXHJcblx0XHRcdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IFwibmVlZCBmaWxlXCJ9XX1cclxuXHRcdFx0XHRyZXR1cm5cclxuXHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuXHJcbkpzb25Sb3V0ZXMuYWRkIFwiZGVsZXRlXCIsIFwiL2FwaS93b3JrZmxvdy9vcGVuL2Nmcy86aW5zX2lkXCIsICAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0dHJ5XHJcblx0XHRpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZFxyXG5cclxuXHRcdGlmICFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpXHJcblx0XHRcdHJldHVybiA7XHJcblxyXG5cdFx0Y3VycmVudF91c2VyID0gcmVxLnVzZXJJZFxyXG5cclxuXHRcdHNwYWNlX2lkID0gcmVxLmhlYWRlcnNbJ3gtc3BhY2UtaWQnXVxyXG5cclxuXHRcdGlmIG5vdCBzcGFjZV9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICduZWVkIGhlYWRlciBYX1NwYWNlX0lkJylcclxuXHJcblx0XHRjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGlmIG5vdCBjdXJyZW50X3VzZXJfaW5mb1xyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpXHJcblxyXG5cdFx0aW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZClcclxuXHJcblx0XHRpZiBpbnN0YW5jZS5zdGF0ZSBpc250IFwiZHJhZnRcIlxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfnlLPor7fljZXojYnnqL/nirbmgIHml7bmiY3og73liKDpmaTpmYTku7YnKVxyXG5cclxuXHRcdCMg5qCh6aqMc3BhY2XmmK/lkKblrZjlnKhcclxuXHRcdHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpXHJcblx0XHQjIOagoemqjOW9k+WJjeeZu+W9leeUqOaIt+aYr+WQpuaYr3NwYWNl55qE566h55CG5ZGYXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKVxyXG5cclxuXHRcdGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge31cclxuXHRcdGF0dGFjaF9pZCA9IGhhc2hEYXRhW1wiYXR0YWNoX2lkXCJdXHJcblxyXG5cdFx0aWYgbm90IGF0dGFjaF9pZFxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgYXR0YWNoX2lkJylcclxuXHJcblx0XHRjb2xsZWN0aW9uID0gY2ZzLmluc3RhbmNlc1xyXG5cclxuXHRcdGZpbGUgPSBjb2xsZWN0aW9uLmZpbmRPbmUoeyBfaWQ6IGF0dGFjaF9pZCwgJ21ldGFkYXRhLmluc3RhbmNlJzogaW5zX2lkfSlcclxuXHRcdGlmIGZpbGVcclxuXHRcdFx0ZmlsZS5yZW1vdmUoKVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKVxyXG5cclxuXHRcdHJlc3VsdCA9IG5ldyBPYmplY3RcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IHN0YXR1czogXCJzdWNjZXNzXCIsIGRhdGE6IHJlc3VsdH1cclxuXHRjYXRjaCBlXHJcblx0XHRjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsXHJcblx0XHRcdGNvZGU6IDIwMFxyXG5cdFx0XHRkYXRhOiB7IGVycm9yczogW3tlcnJvck1lc3NhZ2U6IGUubWVzc2FnZX1dfVxyXG5cclxuSnNvblJvdXRlcy5hZGQgXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuXHRcdGF0dGFjaF9pZCA9IHJlcS5wYXJhbXMuYXR0YWNoX2lkXHJcblxyXG5cdFx0aWYgIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcylcclxuXHRcdFx0cmV0dXJuIDtcclxuXHJcblx0XHRjdXJyZW50X3VzZXIgPSByZXEudXNlcklkXHJcblxyXG5cdFx0c3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddXHJcblxyXG5cdFx0aWYgbm90IHNwYWNlX2lkXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKVxyXG5cclxuXHRcdGN1cnJlbnRfdXNlcl9pbmZvID0gZGIudXNlcnMuZmluZE9uZShjdXJyZW50X3VzZXIpXHJcblxyXG5cdFx0aWYgbm90IGN1cnJlbnRfdXNlcl9pbmZvXHJcblx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCB1c2VyJylcclxuXHJcblx0XHQjIOagoemqjHNwYWNl5piv5ZCm5a2Y5ZyoXHJcblx0XHR1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKVxyXG5cdFx0IyDmoKHpqozlvZPliY3nmbvlvZXnlKjmiLfmmK/lkKbmmK9zcGFjZeeahOeuoeeQhuWRmFxyXG5cdFx0dXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcilcclxuXHJcblx0XHRyZXMuc3RhdHVzQ29kZSA9IDMwMlxyXG5cdFx0cmVzLnNldEhlYWRlciBcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIlxyXG5cdFx0cmVzLmVuZCgpXHJcblx0Y2F0Y2ggZVxyXG5cdFx0Y29uc29sZS5lcnJvciBlLnN0YWNrXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG5cdFx0XHRjb2RlOiAyMDBcclxuXHRcdFx0ZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XX1cclxuIiwiXG4vKlxuQ29udGVudC1UeXBl77yaYXBwbGljYXRpb24vanNvblxuZm9ybS1kYXRhIOagvOW8jzpcbmZkID0gbmV3IEZvcm1EYXRhO1xuZmQuYXBwZW5kKFwiZmlsZVwiLCBmaWxlKTtcblxuZmQuYXBwZW5kKFwiaXNfcHJpdmF0ZVwiLCBmYWxzZSk7XG5cbmlmIChpc0FkZFZlcnNpb24pIHtcblx0ZmQuYXBwZW5kKFwiaXNBZGRWZXJzaW9uXCIsIGlzQWRkVmVyc2lvbik7XG5cdGZkLmFwcGVuZChcInBhcmVudFwiLCBhdHRhY2hfcGFyZW50X2lkKTtcbn1cblxuaWYgKGlzTWFpbkF0dGFjaCkge1xuXHRmZC5hcHBlbmQoXCJtYWluXCIsIHRydWUpO1xufVxuICovXG5Kc29uUm91dGVzLmFkZCgncG9zdCcsICcvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzppbnNfaWQnLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZV9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgaW5zX2lkLCBpbnN0YW5jZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgaW5zX2lkID0gcmVxLnBhcmFtcy5pbnNfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgaW5zdGFuY2UgPSB1dWZsb3dNYW5hZ2VyLmdldEluc3RhbmNlKGluc19pZCk7XG4gICAgaWYgKGluc3RhbmNlLnN0YXRlICE9PSBcImRyYWZ0XCIpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ+eUs+ivt+WNleiNieeov+eKtuaAgeaXtuaJjeiDveS4iuS8oCcpO1xuICAgIH1cbiAgICBhcHByb3ZlX2lkID0gaW5zdGFuY2UudHJhY2VzWzBdLmFwcHJvdmVzWzBdLl9pZDtcbiAgICB1dWZsb3dNYW5hZ2VyLmdldFNwYWNlKHNwYWNlX2lkKTtcbiAgICB1dWZsb3dNYW5hZ2VyLmlzU3BhY2VBZG1pbihzcGFjZV9pZCwgY3VycmVudF91c2VyKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5wYXJzZUZpbGVzKHJlcSwgcmVzLCBmdW5jdGlvbigpIHtcbiAgICAgIHZhciBjb2xsZWN0aW9uLCBuZXdGaWxlO1xuICAgICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgICBpZiAocmVxLmZpbGVzICYmIHJlcS5maWxlc1swXSkge1xuICAgICAgICBpZiAocmVxLmZpbGVzWzBdLmRhdGEubGVuZ3RoID4gKDEwMCAqIDEwMjQgKiAxMDI0KSkge1xuICAgICAgICAgIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgZXJyb3JzOiBbXG4gICAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIui2hei/h+S4iuS8oOmZhOS7tuWkp+Wwj+mZkOWItigxMDBNKVwiXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBdXG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgICAgcmV0dXJuO1xuICAgICAgICB9XG4gICAgICAgIG5ld0ZpbGUgPSBuZXcgRlMuRmlsZSgpO1xuICAgICAgICByZXR1cm4gbmV3RmlsZS5hdHRhY2hEYXRhKHJlcS5maWxlc1swXS5kYXRhLCB7XG4gICAgICAgICAgdHlwZTogcmVxLmZpbGVzWzBdLm1pbWVUeXBlXG4gICAgICAgIH0sIGZ1bmN0aW9uKGVycikge1xuICAgICAgICAgIHZhciBib2R5LCBlLCBmaWxlT2JqLCBmaWxlbmFtZSwgbWV0YWRhdGEsIHBhcmVudCwgciwgcmVzdWx0LCBzaXplO1xuICAgICAgICAgIGZpbGVuYW1lID0gcmVxLmZpbGVzWzBdLmZpbGVuYW1lO1xuICAgICAgICAgIGlmIChbXCJpbWFnZS5qcGdcIiwgXCJpbWFnZS5naWZcIiwgXCJpbWFnZS5qcGVnXCIsIFwiaW1hZ2UucG5nXCJdLmluY2x1ZGVzKGZpbGVuYW1lLnRvTG93ZXJDYXNlKCkpKSB7XG4gICAgICAgICAgICBmaWxlbmFtZSA9IFwiaW1hZ2UtXCIgKyBtb21lbnQobmV3IERhdGUoKSkuZm9ybWF0KCdZWVlZTU1EREhIbW1zcycpICsgXCIuXCIgKyBmaWxlbmFtZS5zcGxpdCgnLicpLnBvcCgpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBib2R5ID0gcmVxLmJvZHk7XG4gICAgICAgICAgYm9keVsnb3duZXInXSA9IGluc3RhbmNlLnN1Ym1pdHRlcjtcbiAgICAgICAgICBib2R5Wydvd25lcl9uYW1lJ10gPSBpbnN0YW5jZS5zdWJtaXR0ZXJfbmFtZTtcbiAgICAgICAgICBib2R5WydzcGFjZSddID0gc3BhY2VfaWQ7XG4gICAgICAgICAgYm9keVsnaW5zdGFuY2UnXSA9IGluc19pZDtcbiAgICAgICAgICBib2R5WydhcHByb3ZlJ10gPSBhcHByb3ZlX2lkO1xuICAgICAgICAgIHRyeSB7XG4gICAgICAgICAgICBpZiAoYm9keSAmJiAoYm9keVsndXBsb2FkX2Zyb20nXSA9PT0gXCJJRVwiIHx8IGJvZHlbJ3VwbG9hZF9mcm9tJ10gPT09IFwibm9kZVwiKSkge1xuICAgICAgICAgICAgICBmaWxlbmFtZSA9IGRlY29kZVVSSUNvbXBvbmVudChmaWxlbmFtZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICAgICAgICAgIGUgPSBlcnJvcjtcbiAgICAgICAgICAgIGNvbnNvbGUuZXJyb3IoZmlsZW5hbWUpO1xuICAgICAgICAgICAgY29uc29sZS5lcnJvcihlKTtcbiAgICAgICAgICAgIGZpbGVuYW1lID0gZmlsZW5hbWUucmVwbGFjZSgvJS9nLCBcIi1cIik7XG4gICAgICAgICAgfVxuICAgICAgICAgIG5ld0ZpbGUubmFtZShmaWxlbmFtZSk7XG4gICAgICAgICAgaWYgKGJvZHkgJiYgYm9keVsnb3duZXInXSAmJiBib2R5Wydvd25lcl9uYW1lJ10gJiYgYm9keVsnc3BhY2UnXSAmJiBib2R5WydpbnN0YW5jZSddICYmIGJvZHlbJ2FwcHJvdmUnXSkge1xuICAgICAgICAgICAgcGFyZW50ID0gJyc7XG4gICAgICAgICAgICBtZXRhZGF0YSA9IHtcbiAgICAgICAgICAgICAgb3duZXI6IGJvZHlbJ293bmVyJ10sXG4gICAgICAgICAgICAgIG93bmVyX25hbWU6IGJvZHlbJ293bmVyX25hbWUnXSxcbiAgICAgICAgICAgICAgc3BhY2U6IGJvZHlbJ3NwYWNlJ10sXG4gICAgICAgICAgICAgIGluc3RhbmNlOiBib2R5WydpbnN0YW5jZSddLFxuICAgICAgICAgICAgICBhcHByb3ZlOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgIGN1cnJlbnQ6IHRydWVcbiAgICAgICAgICAgIH07XG4gICAgICAgICAgICBpZiAoYm9keVtcImlzX3ByaXZhdGVcIl0gJiYgYm9keVtcImlzX3ByaXZhdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgbWV0YWRhdGEuaXNfcHJpdmF0ZSA9IHRydWU7XG4gICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5pc19wcml2YXRlID0gZmFsc2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoYm9keVsnbWFpbiddID09PSBcInRydWVcIikge1xuICAgICAgICAgICAgICBtZXRhZGF0YS5tYWluID0gdHJ1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChib2R5Wydpc0FkZFZlcnNpb24nXSAmJiBib2R5WydwYXJlbnQnXSkge1xuICAgICAgICAgICAgICBwYXJlbnQgPSBib2R5WydwYXJlbnQnXTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChwYXJlbnQpIHtcbiAgICAgICAgICAgICAgciA9IGNvbGxlY3Rpb24udXBkYXRlKHtcbiAgICAgICAgICAgICAgICAnbWV0YWRhdGEucGFyZW50JzogcGFyZW50LFxuICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50JzogdHJ1ZVxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgJHVuc2V0OiB7XG4gICAgICAgICAgICAgICAgICAnbWV0YWRhdGEuY3VycmVudCc6ICcnXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgaWYgKHIpIHtcbiAgICAgICAgICAgICAgICBtZXRhZGF0YS5wYXJlbnQgPSBwYXJlbnQ7XG4gICAgICAgICAgICAgICAgaWYgKGJvZHlbJ2xvY2tlZF9ieSddICYmIGJvZHlbJ2xvY2tlZF9ieV9uYW1lJ10pIHtcbiAgICAgICAgICAgICAgICAgIG1ldGFkYXRhLmxvY2tlZF9ieSA9IGJvZHlbJ2xvY2tlZF9ieSddO1xuICAgICAgICAgICAgICAgICAgbWV0YWRhdGEubG9ja2VkX2J5X25hbWUgPSBib2R5Wydsb2NrZWRfYnlfbmFtZSddO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBuZXdGaWxlLm1ldGFkYXRhID0gbWV0YWRhdGE7XG4gICAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICAgIGlmIChib2R5W1wib3ZlcndyaXRlXCJdICYmIGJvZHlbXCJvdmVyd3JpdGVcIl0udG9Mb2NhbGVMb3dlckNhc2UoKSA9PT0gXCJ0cnVlXCIpIHtcbiAgICAgICAgICAgICAgICAgIGNvbGxlY3Rpb24ucmVtb3ZlKHtcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmluc3RhbmNlJzogYm9keVsnaW5zdGFuY2UnXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IHBhcmVudCxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLm93bmVyJzogYm9keVsnb3duZXInXSxcbiAgICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLmFwcHJvdmUnOiBib2R5WydhcHByb3ZlJ10sXG4gICAgICAgICAgICAgICAgICAgICdtZXRhZGF0YS5jdXJyZW50Jzoge1xuICAgICAgICAgICAgICAgICAgICAgICRuZTogdHJ1ZVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIG5ld0ZpbGUubWV0YWRhdGEgPSBtZXRhZGF0YTtcbiAgICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgICAgICBmaWxlT2JqLnVwZGF0ZSh7XG4gICAgICAgICAgICAgICAgJHNldDoge1xuICAgICAgICAgICAgICAgICAgJ21ldGFkYXRhLnBhcmVudCc6IGZpbGVPYmouX2lkXG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgZmlsZU9iaiA9IGNvbGxlY3Rpb24uaW5zZXJ0KG5ld0ZpbGUpO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzaXplID0gZmlsZU9iai5vcmlnaW5hbC5zaXplO1xuICAgICAgICAgIGlmICghc2l6ZSkge1xuICAgICAgICAgICAgc2l6ZSA9IDEwMjQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJlc3VsdCA9IG5ldyBPYmplY3Q7XG4gICAgICAgICAgcmVzdWx0ID0ge1xuICAgICAgICAgICAgYXR0YWNoX2lkOiBmaWxlT2JqLl9pZCxcbiAgICAgICAgICAgIHNpemU6IHNpemVcbiAgICAgICAgICB9O1xuICAgICAgICAgIHJlcy5zZXRIZWFkZXIoXCJ4LWFtei12ZXJzaW9uLWlkXCIsIGZpbGVPYmouX2lkKTtcbiAgICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgICAgZGF0YToge1xuICAgICAgICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfSk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgZXJyb3JNZXNzYWdlOiBcIm5lZWQgZmlsZVwiXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICBjb25zb2xlLmVycm9yKGUuc3RhY2spO1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgIGVycm9yczogW1xuICAgICAgICAgIHtcbiAgICAgICAgICAgIGVycm9yTWVzc2FnZTogZS5tZXNzYWdlXG4gICAgICAgICAgfVxuICAgICAgICBdXG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn0pO1xuXG5Kc29uUm91dGVzLmFkZChcImRlbGV0ZVwiLCBcIi9hcGkvd29ya2Zsb3cvb3Blbi9jZnMvOmluc19pZFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXR0YWNoX2lkLCBjb2xsZWN0aW9uLCBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBlLCBmaWxlLCBoYXNoRGF0YSwgaW5zX2lkLCBpbnN0YW5jZSwgcmVzdWx0LCBzcGFjZV9pZDtcbiAgdHJ5IHtcbiAgICBpbnNfaWQgPSByZXEucGFyYW1zLmluc19pZDtcbiAgICBpZiAoIVN0ZWVkb3MuQVBJQXV0aGVudGljYXRpb25DaGVjayhyZXEsIHJlcykpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgY3VycmVudF91c2VyID0gcmVxLnVzZXJJZDtcbiAgICBzcGFjZV9pZCA9IHJlcS5oZWFkZXJzWyd4LXNwYWNlLWlkJ107XG4gICAgaWYgKCFzcGFjZV9pZCkge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnbmVlZCBoZWFkZXIgWF9TcGFjZV9JZCcpO1xuICAgIH1cbiAgICBjdXJyZW50X3VzZXJfaW5mbyA9IGRiLnVzZXJzLmZpbmRPbmUoY3VycmVudF91c2VyKTtcbiAgICBpZiAoIWN1cnJlbnRfdXNlcl9pbmZvKSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICdjYW4gbm90IGZpbmQgdXNlcicpO1xuICAgIH1cbiAgICBpbnN0YW5jZSA9IHV1Zmxvd01hbmFnZXIuZ2V0SW5zdGFuY2UoaW5zX2lkKTtcbiAgICBpZiAoaW5zdGFuY2Uuc3RhdGUgIT09IFwiZHJhZnRcIikge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAn55Sz6K+35Y2V6I2J56i/54q25oCB5pe25omN6IO95Yig6Zmk6ZmE5Lu2Jyk7XG4gICAgfVxuICAgIHV1Zmxvd01hbmFnZXIuZ2V0U3BhY2Uoc3BhY2VfaWQpO1xuICAgIHV1Zmxvd01hbmFnZXIuaXNTcGFjZUFkbWluKHNwYWNlX2lkLCBjdXJyZW50X3VzZXIpO1xuICAgIGhhc2hEYXRhID0gcmVxLmJvZHkgfHwge307XG4gICAgYXR0YWNoX2lkID0gaGFzaERhdGFbXCJhdHRhY2hfaWRcIl07XG4gICAgaWYgKCFhdHRhY2hfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ2NhbiBub3QgZmluZCBhdHRhY2hfaWQnKTtcbiAgICB9XG4gICAgY29sbGVjdGlvbiA9IGNmcy5pbnN0YW5jZXM7XG4gICAgZmlsZSA9IGNvbGxlY3Rpb24uZmluZE9uZSh7XG4gICAgICBfaWQ6IGF0dGFjaF9pZCxcbiAgICAgICdtZXRhZGF0YS5pbnN0YW5jZSc6IGluc19pZFxuICAgIH0pO1xuICAgIGlmIChmaWxlKSB7XG4gICAgICBmaWxlLnJlbW92ZSgpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdlcnJvcicsICfmraTpmYTku7bkuI3lsZ7kuo7mraTnlLPor7fljZXvvIzmiJblt7LooqvliKDpmaQnKTtcbiAgICB9XG4gICAgcmVzdWx0ID0gbmV3IE9iamVjdDtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBzdGF0dXM6IFwic3VjY2Vzc1wiLFxuICAgICAgICBkYXRhOiByZXN1bHRcbiAgICAgIH1cbiAgICB9KTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcblxuSnNvblJvdXRlcy5hZGQoXCJnZXRcIiwgXCIvYXBpL3dvcmtmbG93L29wZW4vY2ZzLzphdHRhY2hfaWRcIiwgZnVuY3Rpb24ocmVxLCByZXMsIG5leHQpIHtcbiAgdmFyIGF0dGFjaF9pZCwgY3VycmVudF91c2VyLCBjdXJyZW50X3VzZXJfaW5mbywgZSwgc3BhY2VfaWQ7XG4gIHRyeSB7XG4gICAgYXR0YWNoX2lkID0gcmVxLnBhcmFtcy5hdHRhY2hfaWQ7XG4gICAgaWYgKCFTdGVlZG9zLkFQSUF1dGhlbnRpY2F0aW9uQ2hlY2socmVxLCByZXMpKSB7XG4gICAgICByZXR1cm47XG4gICAgfVxuICAgIGN1cnJlbnRfdXNlciA9IHJlcS51c2VySWQ7XG4gICAgc3BhY2VfaWQgPSByZXEuaGVhZGVyc1sneC1zcGFjZS1pZCddO1xuICAgIGlmICghc3BhY2VfaWQpIHtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2Vycm9yJywgJ25lZWQgaGVhZGVyIFhfU3BhY2VfSWQnKTtcbiAgICB9XG4gICAgY3VycmVudF91c2VyX2luZm8gPSBkYi51c2Vycy5maW5kT25lKGN1cnJlbnRfdXNlcik7XG4gICAgaWYgKCFjdXJyZW50X3VzZXJfaW5mbykge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZXJyb3InLCAnY2FuIG5vdCBmaW5kIHVzZXInKTtcbiAgICB9XG4gICAgdXVmbG93TWFuYWdlci5nZXRTcGFjZShzcGFjZV9pZCk7XG4gICAgdXVmbG93TWFuYWdlci5pc1NwYWNlQWRtaW4oc3BhY2VfaWQsIGN1cnJlbnRfdXNlcik7XG4gICAgcmVzLnN0YXR1c0NvZGUgPSAzMDI7XG4gICAgcmVzLnNldEhlYWRlcihcIkxvY2F0aW9uXCIsIFN0ZWVkb3MuYWJzb2x1dGVVcmwoXCJhcGkvZmlsZXMvaW5zdGFuY2VzL1wiKSArIGF0dGFjaF9pZCArIFwiP2Rvd25sb2FkPXRydWVcIik7XG4gICAgcmV0dXJuIHJlcy5lbmQoKTtcbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtcbiAgICAgICAgICB7XG4gICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgIH1cbiAgICAgICAgXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdGNvbnNvbGUubG9nIFwiPT09PT09PT095Zue5aGr5a2Q6KGoPT09PT09PT09PVwiXHJcblx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLHJlcT8ucXVlcnk/LnN1YlRhYmxlXHJcblx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCJcclxuXHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LmNvbHVtblwiLHJlcT8ucXVlcnk/LmNvbHVtblxyXG5cclxuXHRjb2x1bW5zID0gcmVxPy5xdWVyeT8uY29sdW1uLnNwbGl0KCc7JylcclxuXHRjb25zb2xlLmxvZyBcImNvbHVtbnNcIixjb2x1bW5zXHJcblxyXG5cclxuXHQjIOWIhuWPkeeahOeUs+ivt+WNlVxyXG5cdGZvcndhcmRfaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxyXG5cclxuXHRzdWJUYWJsZSA9IHJlcT8ucXVlcnk/LnN1YlRhYmxlXHJcblxyXG5cdGlmIGZvcndhcmRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiICYmIGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzPy5sZW5ndGg+MCAmJiBzdWJUYWJsZSAmJiBjb2x1bW5zXHJcblx0XHRcclxuXHRcdCMg5YiG5Y+R5Zue5p2l55qE5YC8XHJcblx0XHRmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucz8udmFsdWVzXHJcblxyXG5cdFx0IyAjIOWOn+eUs+ivt+WNleWtl+autVxyXG5cdFx0b3JpZ2luYWxfaW5zX2lkID0gXy5sYXN0IGZvcndhcmRfaW5zPy5kaXN0cmlidXRlX2Zyb21faW5zdGFuY2VzXHJcblx0XHRvcmlnaW5hbF9pbnMgPSBkYi5pbnN0YW5jZXMuZmluZE9uZShvcmlnaW5hbF9pbnNfaWQpXHJcblx0XHRvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zPy5mb3JtKVxyXG5cclxuXHRcdG9yaWdpbmFsX2luc19maWVsZHMgPSBbXVxyXG5cdFx0b3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gW11cclxuXHJcblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2luc19mb3JtPy5jdXJyZW50Py5faWRcIixvcmlnaW5hbF9pbnNfZm9ybT8uY3VycmVudD8uX2lkXHJcblx0XHRjb25zb2xlLmxvZyBcIm9yaWdpbmFsX2lucz8uZm9ybV92ZXJzaW9uXCIsb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cclxuXHJcblx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxyXG5cdFx0aWYgb3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb24gPT0gb3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxyXG5cdFx0XHRvcmlnaW5hbF9pbnNfZmllbGRzID0gb3JpZ2luYWxfaW5zX2Zvcm0uY3VycmVudD8uZmllbGRzXHJcblx0XHRcdG9yaWdpbmFsX2luc19maWVsZHMuZm9yRWFjaCAob3JpZ2luYWxfaW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9pbnNfZmllbGRcIixvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGVcclxuXHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRlbHNlXHJcblx0XHRcdGlmIG9yaWdpbmFsX2luc19mb3JtPy5oaXN0b3J5cz8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdG9yaWdpbmFsX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKG9oKS0+XHJcblx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcclxuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcyA9IG9oPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0b3JpZ2luYWxfaW5zX2ZpZWxkcy5mb3JFYWNoIChvcmlnaW5hbF9pbnNfZmllbGQpLT5cclxuXHRcdFx0XHRcdFx0XHRpZiBvcmlnaW5hbF9pbnNfZmllbGQ/LmNvZGUgPT0gc3ViVGFibGUgJiYgb3JpZ2luYWxfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZSdcclxuXHRcdFx0XHRcdFx0XHRcdG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IG9yaWdpbmFsX2luc19maWVsZD8uZmllbGRzXHJcblxyXG5cdFx0Y29uc29sZS5sb2cgXCJvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHNcIixvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHM/Lmxlbmd0aFxyXG5cclxuXHRcdGlmIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkc1xyXG5cdFx0XHQjICMg5pu05paw5q2l6aqk55qE5YC8XHJcblx0XHRcdCMgMS7mib7liLDlvZPliY3nmoTmraXpqqRcclxuXHRcdFx0IyAyLuW9k+WJjeatpemqpOS4rWFwcHJvdmVz5Lit55qEdmFsdWVzXHJcblx0XHRcdCMgMy7lnKh2YWx1ZXPkuK3mib7liLDooajmoLxcclxuXHRcdFx0IyA0LuagueaNruihqOagvOeahGZpZWxkc+WxnuaAp++8jOS4gOS4quS4queahOi1i+WAvFxyXG5cdFx0XHQjIDUu5oqK5aSN5Yi255qEcHVzaOWIsOihqOagvOaVsOe7hOeahOWQjumdolxyXG5cdFx0XHR0cmFjZXMgPSBvcmlnaW5hbF9pbnM/LnRyYWNlc1xyXG5cclxuXHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxyXG5cclxuXHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxyXG5cclxuXHRcdFx0dGFibGVfZGF0YSA9IGFwcHJvdmU/LnZhbHVlc1tzdWJUYWJsZV0gfHwgW11cclxuXHJcblx0XHRcdHJvd19kYXRhID0ge31cclxuXHJcblx0XHRcdGNvbHVtbnMuZm9yRWFjaCAoY29sdW1uKS0+XHJcblx0XHRcdFx0cm93X2RhdGFbY29sdW1uXSA9IGZvcndhcmRfaW5zX3ZhbHVlc1tjb2x1bW5dIHx8IFwiXCJcclxuXHRcdFx0XHJcblx0XHRcdFxyXG5cdFx0XHRpZiByb3dfZGF0YSAmJiByb3dfZGF0YSAhPSB7fVxyXG5cdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxyXG5cdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhXHJcblxyXG5cdFx0XHRcdGNvbnNvbGUubG9nIHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV1cclxuXHJcblx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvcmlnaW5hbF9pbnNfaWQse1xyXG5cdFx0XHRcdFx0JHNldDp7XHJcblx0XHRcdFx0XHRcdCd0cmFjZXMnOnRyYWNlc1xyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0J3N1Y2Nlc3MnOiAn5Zue5aGr5oiQ5YqfJ1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHRcdFx0J2luZm8nOiAn5Zue5aGr5pWw5o2u5Li656m6J1xyXG5cdFx0XHRcdFx0fVxyXG5cdFx0XHRcdH1cclxuXHJcblx0XHRlbHNlXHJcblx0XHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdFx0J2Vycm9yJzogJ+WOn+eUs+ivt+WNleaXoOebuOWFs+WtkOihqCdcclxuXHRcdFx0XHR9XHJcblx0XHRcdH1cclxuXHRlbHNlXHJcblx0XHRKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdzdWNjZXNzJzogJ+eUs+ivt+WNleacque7k+adnydcclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYXBwcm92ZSwgY29sdW1ucywgZm9yd2FyZF9pbnMsIGZvcndhcmRfaW5zX3ZhbHVlcywgb3JpZ2luYWxfaW5zLCBvcmlnaW5hbF9pbnNfZmllbGRzLCBvcmlnaW5hbF9pbnNfZm9ybSwgb3JpZ2luYWxfaW5zX2lkLCBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgcmVmOCwgcmVmOSwgcm93X2RhdGEsIHN1YlRhYmxlLCB0YWJsZV9kYXRhLCB0cmFjZSwgdHJhY2VzO1xuICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWbnuWhq+WtkOihqD09PT09PT09PT1cIik7XG4gIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIiwgcmVxICE9IG51bGwgPyAocmVmID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmLnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgY29uc29sZS5sb2coXCI9PT09PT09PT3liIblj5Hlm57loavnmoTliJc9PT09PT09PT09XCIpO1xuICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmNvbHVtblwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5jb2x1bW4gOiB2b2lkIDAgOiB2b2lkIDApO1xuICBjb2x1bW5zID0gcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuY29sdW1uLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgZm9yd2FyZF9pbnMgPSByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWYzLmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICBzdWJUYWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjQgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY0LnN1YlRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICBpZiAoKGZvcndhcmRfaW5zICE9IG51bGwgPyBmb3J3YXJkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIgJiYgKGZvcndhcmRfaW5zICE9IG51bGwgPyAocmVmNSA9IGZvcndhcmRfaW5zLmRpc3RyaWJ1dGVfZnJvbV9pbnN0YW5jZXMpICE9IG51bGwgPyByZWY1Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwICYmIHN1YlRhYmxlICYmIGNvbHVtbnMpIHtcbiAgICBmb3J3YXJkX2luc192YWx1ZXMgPSBmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMudmFsdWVzIDogdm9pZCAwO1xuICAgIG9yaWdpbmFsX2luc19pZCA9IF8ubGFzdChmb3J3YXJkX2lucyAhPSBudWxsID8gZm9yd2FyZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zID0gZGIuaW5zdGFuY2VzLmZpbmRPbmUob3JpZ2luYWxfaW5zX2lkKTtcbiAgICBvcmlnaW5hbF9pbnNfZm9ybSA9IGRiLmZvcm1zLmZpbmRPbmUob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybSA6IHZvaWQgMCk7XG4gICAgb3JpZ2luYWxfaW5zX2ZpZWxkcyA9IFtdO1xuICAgIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyA9IFtdO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFwiLCBvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjYgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNi5faWQgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zPy5mb3JtX3ZlcnNpb25cIiwgb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKTtcbiAgICBpZiAoKG9yaWdpbmFsX2lucyAhPSBudWxsID8gb3JpZ2luYWxfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjcgPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmNy5faWQgOiB2b2lkIDAgOiB2b2lkIDApKSB7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gKHJlZjggPSBvcmlnaW5hbF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmOC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfaW5zX2ZpZWxkXCIsIG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApO1xuICAgICAgICBpZiAoKG9yaWdpbmFsX2luc19maWVsZCAhPSBudWxsID8gb3JpZ2luYWxfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBzdWJUYWJsZSAmJiAob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScpIHtcbiAgICAgICAgICByZXR1cm4gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzID0gb3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgaWYgKChvcmlnaW5hbF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjkgPSBvcmlnaW5hbF9pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjkubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgb3JpZ2luYWxfaW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaChmdW5jdGlvbihvaCkge1xuICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gb2guX2lkKSB7XG4gICAgICAgICAgICBvcmlnaW5hbF9pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24ob3JpZ2luYWxfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgIGlmICgob3JpZ2luYWxfaW5zX2ZpZWxkICE9IG51bGwgPyBvcmlnaW5hbF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IHN1YlRhYmxlICYmIChvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJykge1xuICAgICAgICAgICAgICAgIHJldHVybiBvcmlnaW5hbF9zdWJ0YWJsZV9maWVsZHMgPSBvcmlnaW5hbF9pbnNfZmllbGQgIT0gbnVsbCA/IG9yaWdpbmFsX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnNvbGUubG9nKFwib3JpZ2luYWxfc3VidGFibGVfZmllbGRzXCIsIG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcyAhPSBudWxsID8gb3JpZ2luYWxfc3VidGFibGVfZmllbGRzLmxlbmd0aCA6IHZvaWQgMCk7XG4gICAgaWYgKG9yaWdpbmFsX3N1YnRhYmxlX2ZpZWxkcykge1xuICAgICAgdHJhY2VzID0gb3JpZ2luYWxfaW5zICE9IG51bGwgPyBvcmlnaW5hbF9pbnMudHJhY2VzIDogdm9pZCAwO1xuICAgICAgdHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdO1xuICAgICAgYXBwcm92ZSA9IHRyYWNlICE9IG51bGwgPyB0cmFjZS5hcHByb3Zlc1swXSA6IHZvaWQgMDtcbiAgICAgIHRhYmxlX2RhdGEgPSAoYXBwcm92ZSAhPSBudWxsID8gYXBwcm92ZS52YWx1ZXNbc3ViVGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgIHJvd19kYXRhID0ge307XG4gICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgIHJldHVybiByb3dfZGF0YVtjb2x1bW5dID0gZm9yd2FyZF9pbnNfdmFsdWVzW2NvbHVtbl0gfHwgXCJcIjtcbiAgICAgIH0pO1xuICAgICAgaWYgKHJvd19kYXRhICYmIHJvd19kYXRhICE9PSB7fSkge1xuICAgICAgICB0YWJsZV9kYXRhLnB1c2gocm93X2RhdGEpO1xuICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0gPSB0YWJsZV9kYXRhO1xuICAgICAgICBjb25zb2xlLmxvZyh0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tzdWJUYWJsZV0pO1xuICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9yaWdpbmFsX2luc19pZCwge1xuICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICd0cmFjZXMnOiB0cmFjZXNcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgICAgY29kZTogMjAwLFxuICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICdpbmZvJzogJ+WbnuWhq+aVsOaNruS4uuepuidcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAnZXJyb3InOiAn5Y6f55Sz6K+35Y2V5peg55u45YWz5a2Q6KGoJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9XG4gIH0gZWxzZSB7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgJ3N1Y2Nlc3MnOiAn55Sz6K+35Y2V5pyq57uT5p2fJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvd29ya2Zsb3cvZm9yd2FyZF90YWJsZV9yZWZpbGxcIiwgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG5cdHRyeVxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCJcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8ub1RhYmxlXCIscmVxPy5xdWVyeT8ub1RhYmxlXHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PeeOsOihqOWtkOihqD09PT09PT09PT1cIlxyXG5cdFx0Y29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5kVGFibGVcIixyZXE/LnF1ZXJ5Py5kVGFibGVcclxuXHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiXHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxyXG5cdFx0Y29uc29sZS5sb2cgXCI9PT09PT09PT3njrDooajljZXnmoTlrZDooajljLnphY3liJc9PT09PT09PT09XCJcclxuXHRcdGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uZE1hdGNoQ29sXCIscmVxPy5xdWVyeT8uZE1hdGNoQ29sXHJcblx0XHRjb25zb2xlLmxvZyBcIj09PT09PT09PemcgOimgeWbnuWhq+eahOWIlz09PT09PT09PT1cIlx0XHJcblx0XHRjb25zb2xlLmxvZyBcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLHJlcT8ucXVlcnk/LnJlZmlsbENvbFxyXG5cclxuXHRcdCMg5YiG5Y+R55qE55Sz6K+35Y2VXHJcblx0XHRkX2lucyA9IHJlcT8uYm9keT8uaW5zdGFuY2VcclxuXHJcblx0XHRcclxuXHRcdGlmIGRfaW5zPy5zdGF0ZSA9PSBcImNvbXBsZXRlZFwiXHJcblx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9UYWJsZVxyXG5cdFx0XHRcdG9fdGFibGUgPSByZXE/LnF1ZXJ5Py5vVGFibGVcclxuXHRcdFx0XHRpZiByZXE/LnF1ZXJ5Py5kVGFibGVcclxuXHRcdFx0XHRcdGRfdGFibGUgPSByZXE/LnF1ZXJ5Py5kVGFibGVcclxuXHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRkX3RhYmxlID0gb190YWJsZVxyXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmFUYWJsZVxyXG5cdFx0XHRcdFx0YV90YWJsZSA9IHJlcT8ucXVlcnk/LmFUYWJsZVxyXG5cdFx0XHRcdGlmIHJlcT8ucXVlcnk/Lm9NYXRjaENvbFxyXG5cdFx0XHRcdFx0b19tYXRjaF9jb2wgPSByZXE/LnF1ZXJ5Py5vTWF0Y2hDb2xcclxuXHRcdFx0XHRcdGlmIHJlcT8ucXVlcnk/LmRNYXRjaENvbFxyXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IHJlcT8ucXVlcnk/LmRNYXRjaENvbFxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sXHJcblx0XHRcdFx0XHRjb2x1bW5zID0gcmVxPy5xdWVyeT8ucmVmaWxsQ29sLnNwbGl0KCc7JykgfHwgW11cclxuXHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiY29sdW1uc1wiLGNvbHVtbnNcdFx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0aWYgY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aDwxXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIFwiPT09PT09PT09PT09PT09PT09PT09PVwiXHJcblx0XHRcdFx0XHRcdGNvbnNvbGUubG9nIGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeWbnuadpeeahOWAvFxyXG5cdFx0XHRcdFx0XHRkX2luc192YWx1ZXMgPSBkX2lucz8udmFsdWVzXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWOn+eUs+ivt+WNlSBmb3JtIOihqOWtl+autVxyXG5cdFx0XHRcdFx0XHRvX2luc19pZCA9IF8ubGFzdCBkX2lucz8uZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlc1xyXG5cdFx0XHRcdFx0XHRvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKVxyXG5cdFx0XHRcdFx0XHRvX2luc19mb3JtID0gZGIuZm9ybXMuZmluZE9uZShvX2lucz8uZm9ybSlcclxuXHJcblx0XHRcdFx0XHRcdGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zPy5mb3JtKVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgZmllbGRzXHJcblx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IFtdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWOn+WtkOihqOWtl+autVxyXG5cdFx0XHRcdFx0XHRvX3N1YnRhYmxlX2ZpZWxkcyA9IFtdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWIhuWPkeeUs+ivt+WNleeahCBmaWVsZHNcclxuXHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gW11cclxuXHRcdFx0XHRcdFx0IyDnjrDnlLPor7fljZXlrZfooajlrZfmrrVcclxuXHRcdFx0XHRcdFx0ZF9zdWJ0YWJsZV9maWVsZHMgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDotYvlgLzlr7nlupTnmoTlrZfmrrVcclxuXHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QgPSBbXVxyXG5cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdCMg5YiG5Y+R5ZCO55Sz6K+35Y2V55qEIOWtkOihqOWAvFxyXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IFtdXHJcblxyXG5cdFx0XHRcdFx0XHQjIOafpeeci+WOn+eUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtkOihqFxyXG5cdFx0XHRcdFx0XHRpZiBvX2lucz8uZm9ybV92ZXJzaW9uID09IG9faW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxyXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcyA9IG9faW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdG9faW5zX2ZpZWxkcy5mb3JFYWNoIChvX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZmllbGQ/LnR5cGUgPT0gJ3RhYmxlJyAmJiBvX2luc19maWVsZD8uY29kZSA9PSBvX3RhYmxlXHJcblx0XHRcdFx0XHRcdFx0XHRcdG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0aWYgb19pbnNfZm9ybT8uaGlzdG9yeXM/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdFx0XHRcdG9faW5zX2Zvcm0uaGlzdG9yeXMuZm9yRWFjaCAob2gpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgb19pbnM/LmZvcm1fdmVyc2lvbiA9PSBvaC5faWRcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRvX2luc19maWVsZHMgPSBvaD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0b19pbnNfZmllbGRzLmZvckVhY2ggKG9faW5zX2ZpZWxkKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRpZiBvX2luc19maWVsZD8udHlwZSA9PSAndGFibGUnICYmIG9faW5zX2ZpZWxkPy5jb2RlID09IG9fdGFibGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0XHRcdFx0b19zdWJ0YWJsZV9maWVsZHMgPSBvX2luc19maWVsZD8uZmllbGRzXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQjIOafpeeci+WIhuWPkeeahOeUs+ivt+WNleaYr+WQpuacieWvueW6lOeahOWtl+ihqFxyXG5cdFx0XHRcdFx0XHRpZiBkX2lucz8uZm9ybV92ZXJzaW9uID09IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/Ll9pZFxyXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcyA9IGRfaW5zX2Zvcm0/LmN1cnJlbnQ/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdGlmIGRfaW5zX2Zvcm0/Lmhpc3RvcnlzPy5sZW5ndGggPiAwXHJcblx0XHRcdFx0XHRcdFx0XHRkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2ggKGRoKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGlmIGRfaW5zPy5mb3JtX3ZlcnNpb24gPT0gZGguX2lkXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0ZF9pbnNfZmllbGRzID0gZGg/LmZpZWxkc1xyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdGRfaW5zX2ZpZWxkcy5mb3JFYWNoIChkX2luc19maWVsZCktPlxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdFx0aWYoKGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gZF90YWJsZSl8fChhX3RhYmxlICYmIGRfaW5zX2ZpZWxkPy50eXBlID09ICd0YWJsZScgJiYgZF9pbnNfZmllbGQ/LmNvZGUgPT0gYV90YWJsZSkpXHJcblx0XHRcdFx0XHRcdFx0XHRcdFx0XHRcdGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0IGRfaW5zX2ZpZWxkPy5maWVsZHNcclxuXHRcdFx0XHRcdFx0XHJcblxyXG5cdFx0XHRcdFx0XHRcclxuXHJcblx0XHRcdFx0XHRcdGlmIG9fc3VidGFibGVfZmllbGRzLmxlbmd0aCA9PSAwXHJcblx0XHRcdFx0XHRcdFx0Y29uc29sZS5sb2cgXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLG9fc3VidGFibGVfZmllbGRzXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xyXG5cdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0aWYgZF9zdWJ0YWJsZV9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5peg5a+55bqU5a2Q6KGoJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRkX3RhYmxlX3ZhbHVlcyA9IGRfaW5zPy52YWx1ZXNbZF90YWJsZV0gfHwgW11cclxuXHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRpZiBhX3RhYmxlXHJcblx0XHRcdFx0XHRcdFx0YV90YWJsZV92YWx1ZXMgPSAgZF9pbnM/LnZhbHVlc1thX3RhYmxlXSB8fCBbXVxyXG5cdFx0XHRcdFx0XHRcdGlmIGFfdGFibGVfdmFsdWVzICYmIGFfdGFibGVfdmFsdWVzPy5sZW5ndGg9PWRfdGFibGVfdmFsdWVzPy5sZW5ndGhcclxuXHRcdFx0XHRcdFx0XHRcdGFfdGFibGVfdmFsdWVzLmZvckVhY2ggKGFfcm93LGluZGV4KS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzW2luZGV4XVtrZXldID0gdmFsdWUgZm9yIGtleSx2YWx1ZSBvZiBhX3Jvd1xyXG5cclxuXHRcdFx0XHRcdFx0aWYgZF90YWJsZV92YWx1ZXMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX21hdGNoX2NvbClcclxuXHRcdFx0XHRcdFx0ZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKChtKS0+cmV0dXJuIG0uY29kZT09ZF9tYXRjaF9jb2wpXHJcblxyXG5cdFx0XHRcdFx0XHQjIOWMuemFjeWIl+WIpOaWrVxyXG5cdFx0XHRcdFx0XHRpZiBvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRpZiBkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Yy56YWN5YiXJyk7XHJcblxyXG5cdFx0XHRcdFx0XHQjIOWIpOaWreWMuemFjeWIl+Wtl+auteeahOWAvOexu+Wei+aYr+WQpuS4gOiHtFxyXG5cdFx0XHRcdFx0XHRvX21hdGNoX2NvbF9maWVsZCA9IG9fbWF0Y2hfY29sX2ZpZWxkc1swXVxyXG5cdFx0XHRcdFx0XHRkX21hdGNoX2NvbF9maWVsZCA9IGRfbWF0Y2hfY29sX2ZpZWxkc1swXVxyXG5cclxuXHRcdFx0XHRcdFx0aWYgb19tYXRjaF9jb2xfZmllbGQ/LnR5cGUgIT0gZF9tYXRjaF9jb2xfZmllbGQ/LnR5cGVcclxuXHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XHJcblxyXG5cdFx0XHRcdFx0XHQjIOWbnuWhq+WIl+WIpOaWrVxyXG5cdFx0XHRcdFx0XHRjb2x1bW5zLmZvckVhY2ggKGNvbHVtbiktPlxyXG5cdFx0XHRcdFx0XHRcdGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXVxyXG5cdFx0XHRcdFx0XHRcdGlmIGNvbHMubGVuZ3RoID09IDJcclxuXHRcdFx0XHRcdFx0XHRcdG9fY29sID0gY29sc1swXVxyXG5cdFx0XHRcdFx0XHRcdFx0ZF9jb2wgPSBjb2xzWzFdXHJcblx0XHRcdFx0XHRcdFx0XHRvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoKG0pLT5yZXR1cm4gbS5jb2RlPT1vX2NvbClcclxuXHRcdFx0XHRcdFx0XHRcdGRfY29sX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmZpbHRlcigobSktPnJldHVybiBtLmNvZGU9PWRfY29sKVxyXG5cclxuXHRcdFx0XHRcdFx0XHRcdCMg5Yik5pat5piv5ZCm5pyJ5a+55bqU55qE5Zue5aGr5YiXXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBvX2NvbF9maWVsZHMubGVuZ3RoID09IDBcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WOn+eUs+ivt+WNleWtkOihqOaXoOWvueW6lOWbnuWhq+WIlycpO1xyXG5cclxuXHRcdFx0XHRcdFx0XHRcdGlmIGRfY29sX2ZpZWxkcy5sZW5ndGggPT0gMFxyXG5cdFx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XHJcblxyXG5cdFx0XHRcdFx0XHRcdFx0IyDliKTmlq3ljLnphY3liJflrZfmrrXnmoTlgLznsbvlnovmmK/lkKbkuIDoh7RcclxuXHRcdFx0XHRcdFx0XHRcdGlmIG9fY29sX2ZpZWxkcz8udHlwZSAhPSBkX2NvbF9maWVsZHM/LnR5cGVcclxuXHRcdFx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xyXG5cdFx0XHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdFx0XHRjb2wgPSB7XHJcblx0XHRcdFx0XHRcdFx0XHRcdG9fY29sOiBvX2NvbCxcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZF9jb2w6IGRfY29sXHJcblx0XHRcdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5wdXNoIGNvbFxyXG5cclxuXHRcdFx0XHRcdFx0XHRlbHNlXHJcblx0XHRcdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Zue5aGr5YiX5LiN5Yy56YWNJyk7XHJcblx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHQjIOi1i+WAvFxyXG5cdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nICAnPT09PT09Y29sdW1uX2xpc3Q9PT09PT09Jyxjb2x1bW5fbGlzdFxyXG5cclxuXHRcdFx0XHRcdFx0dHJhY2VzID0gb19pbnM/LnRyYWNlc1xyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoQgc3RlcCBcclxuXHRcdFx0XHRcdFx0dHJhY2UgPSB0cmFjZXNbdHJhY2VzLmxlbmd0aC0xXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTlvZPliY3mraXpqqRcclxuXHRcdFx0XHRcdFx0YXBwcm92ZSA9IHRyYWNlPy5hcHByb3Zlc1swXVxyXG5cclxuXHRcdFx0XHRcdFx0IyDlhYPnlLPor7fljZXnmoTlvZPliY0gdmFsdWUg55qEIOWtkOihqFxyXG5cdFx0XHRcdFx0XHR0YWJsZV9kYXRhID0gYXBwcm92ZT8udmFsdWVzW29fdGFibGVdIHx8IFtdXHJcblxyXG5cclxuXHRcdFx0XHRcdFx0IyDmoLnmja4gY29sdW1uX2xpc3Qg6LWL5YC85a+55bqU5a2X5q616L+b6KGM6LWL5YC8XHJcblx0XHRcdFx0XHRcdCMg5b6q546v5YiG5Y+R55Sz6K+35Y2V55qE5q+P6KGMXHJcblx0XHRcdFx0XHRcdGRfdGFibGVfdmFsdWVzLmZvckVhY2ggKGRfcm93KS0+XHJcblx0XHRcdFx0XHRcdFx0IyBjb25zb2xlLmxvZyBcImRfcm93XCIsZF9yb3dcclxuXHRcdFx0XHRcdFx0XHQjIOafpeaJvuWMuemFjeeahOWIl+aYr+WQpuS4juW9k+WJjeeahOWMuemFjeWIl+S4gOiHtFxyXG5cdFx0XHRcdFx0XHRcdGhhc19vYmogPSBmYWxzZVxyXG5cdFx0XHRcdFx0XHRcdGNvdW50ID0gLTFcclxuXHRcdFx0XHRcdFx0XHRcclxuXHRcdFx0XHRcdFx0XHQjIOeci+WOn+WtkOihqOaYr+WQpuacieivpeWMuemFjeWIl1xyXG5cdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEuZm9yRWFjaCAob19yb3csIGluZGV4KS0+XHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dcIiwgb19yb3dcclxuXHRcdFx0XHRcdFx0XHRcdCMgY29uc29sZS5sb2cgXCJpbmRleFwiLGluZGV4XHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdXCIsb19yb3dbb19tYXRjaF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiZF9yb3dbZF9tYXRjaF9jb2xdXCIsZF9yb3dbZF9tYXRjaF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwib19yb3dbb19tYXRjaF9jb2xdID09IGRfcm93W2RfbWF0Y2hfY29sXVwiLG9fcm93W29fbWF0Y2hfY29sXSA9PSBkX3Jvd1tkX21hdGNoX2NvbF1cclxuXHJcblx0XHRcdFx0XHRcdFx0XHRpZiBvX3Jvd1tvX21hdGNoX2NvbF0gPT0gZF9yb3dbZF9tYXRjaF9jb2xdXHJcblx0XHRcdFx0XHRcdFx0XHRcdGhhc19vYmogPSB0cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRcdGNvdW50ID0gaW5kZXhcclxuXHJcblx0XHRcdFx0XHRcdFx0IyDljp/nlLPor7fljZXnmoTljLnphY3lrZfmrrXmnInlgLxcclxuXHRcdFx0XHRcdFx0XHQjIGNvbnNvbGUubG9nIFwiaGFzX29ialwiLGhhc19vYmpcclxuXHRcdFx0XHRcdFx0XHRpZiBoYXNfb2JqPT10cnVlXHJcblx0XHRcdFx0XHRcdFx0XHRjb2x1bW5fbGlzdC5mb3JFYWNoIChjb2wpLT5cclxuXHRcdFx0XHRcdFx0XHRcdFx0dGFibGVfZGF0YVtjb3VudF1bY29sPy5vX2NvbF0gPSBkX3Jvd1tjb2w/LmRfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFxyXG5cdFx0XHRcdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhID0ge31cclxuXHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXVxyXG5cdFx0XHRcdFx0XHRcdFx0Y29sdW1uX2xpc3QuZm9yRWFjaCAoY29sKS0+XHJcblx0XHRcdFx0XHRcdFx0XHRcdHJvd19kYXRhW2NvbD8ub19jb2xdID0gZF9yb3dbY29sPy5kX2NvbF1cclxuXHRcdFx0XHRcdFx0XHRcdHRhYmxlX2RhdGEucHVzaCByb3dfZGF0YVxyXG5cclxuXHRcdFx0XHRcdFx0XHJcblx0XHRcdFx0XHRcdHRyYWNlc1t0cmFjZXMubGVuZ3RoLTFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zPy52YWx1ZXNcclxuXHRcdFx0XHRcdFx0dHJhY2VzW3RyYWNlcy5sZW5ndGgtMV0uYXBwcm92ZXNbMF0udmFsdWVzW29fdGFibGVdID0gdGFibGVfZGF0YVxyXG5cclxuXHRcdFx0XHRcdFx0ZGIuaW5zdGFuY2VzLnVwZGF0ZShvX2luc19pZCx7XHJcblx0XHRcdFx0XHRcdFx0JHNldDp7XHJcblx0XHRcdFx0XHRcdFx0XHQndHJhY2VzJzp0cmFjZXNcclxuXHRcdFx0XHRcdFx0XHRcdH1cclxuXHRcdFx0XHRcdFx0XHR9KVxyXG5cclxuXHRcdFx0XHRcdFx0SnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG5cdFx0XHRcdFx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0XHRcdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0XHRcdFx0XHQnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXHJcblx0XHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0XHR9XHJcblx0XHRcdFx0XHRcdHJldHVyblxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHR0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Yy56YWN5YiX5a2X5q61IG9NYXRjaENvbCDlgLwnKTtcclxuXHRcdFx0ZWxzZVxyXG5cdFx0XHRcdHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcclxuXHRcdGVsc2VcclxuXHRcdFx0dGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xyXG5cdGNhdGNoIGVcclxuXHRcdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0ZXJyb3JzOiBbZV1cclxuXHRcdFx0fVxyXG5cdFx0fVxyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS93b3JrZmxvdy9mb3J3YXJkX3RhYmxlX3JlZmlsbFwiLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICB2YXIgYV90YWJsZSwgYV90YWJsZV92YWx1ZXMsIGFwcHJvdmUsIGNvbHVtbl9saXN0LCBjb2x1bW5zLCBkX2lucywgZF9pbnNfZmllbGRzLCBkX2luc19mb3JtLCBkX2luc192YWx1ZXMsIGRfbWF0Y2hfY29sLCBkX21hdGNoX2NvbF9maWVsZCwgZF9tYXRjaF9jb2xfZmllbGRzLCBkX3N1YnRhYmxlX2ZpZWxkcywgZF90YWJsZSwgZF90YWJsZV92YWx1ZXMsIGUsIG9faW5zLCBvX2luc19maWVsZHMsIG9faW5zX2Zvcm0sIG9faW5zX2lkLCBvX21hdGNoX2NvbCwgb19tYXRjaF9jb2xfZmllbGQsIG9fbWF0Y2hfY29sX2ZpZWxkcywgb19zdWJ0YWJsZV9maWVsZHMsIG9fdGFibGUsIHJlZiwgcmVmMSwgcmVmMTAsIHJlZjExLCByZWYxMiwgcmVmMTMsIHJlZjE0LCByZWYxNSwgcmVmMTYsIHJlZjE3LCByZWYxOCwgcmVmMTksIHJlZjIsIHJlZjIwLCByZWYyMSwgcmVmMjIsIHJlZjMsIHJlZjQsIHJlZjUsIHJlZjYsIHJlZjcsIHJlZjgsIHJlZjksIHRhYmxlX2RhdGEsIHRyYWNlLCB0cmFjZXM7XG4gIHRyeSB7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3ljp/ooajlrZDooag9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8ub1RhYmxlXCIsIHJlcSAhPSBudWxsID8gKHJlZiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5a2Q6KGoPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095Y6f6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/Lm9NYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYyID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMi5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09546w6KGo5Y2V55qE5a2Q6KGo5Yy56YWN5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LmRNYXRjaENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5kTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT096ZyA6KaB5Zue5aGr55qE5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnJlZmlsbENvbFwiLCByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5yZWZpbGxDb2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGRfaW5zID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5ib2R5KSAhPSBudWxsID8gcmVmNS5pbnN0YW5jZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5zdGF0ZSA6IHZvaWQgMCkgPT09IFwiY29tcGxldGVkXCIpIHtcbiAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWY2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNi5vVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApIHtcbiAgICAgICAgb190YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjcgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY3Lm9UYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjggPSByZXEucXVlcnkpICE9IG51bGwgPyByZWY4LmRUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIGRfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY5ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmOS5kVGFibGUgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgZF90YWJsZSA9IG9fdGFibGU7XG4gICAgICAgIH1cbiAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjEwID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTAuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgYV90YWJsZSA9IHJlcSAhPSBudWxsID8gKHJlZjExID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTEuYVRhYmxlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICB9XG4gICAgICAgIGlmIChyZXEgIT0gbnVsbCA/IChyZWYxMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjEyLm9NYXRjaENvbCA6IHZvaWQgMCA6IHZvaWQgMCkge1xuICAgICAgICAgIG9fbWF0Y2hfY29sID0gcmVxICE9IG51bGwgPyAocmVmMTMgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYxMy5vTWF0Y2hDb2wgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgaWYgKHJlcSAhPSBudWxsID8gKHJlZjE0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTQuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IHJlcSAhPSBudWxsID8gKHJlZjE1ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTUuZE1hdGNoQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICBkX21hdGNoX2NvbCA9IG9fbWF0Y2hfY29sO1xuICAgICAgICAgIH1cbiAgICAgICAgICBjb2x1bW5zID0gKHJlcSAhPSBudWxsID8gKHJlZjE2ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMTYucmVmaWxsQ29sLnNwbGl0KCc7JykgOiB2b2lkIDAgOiB2b2lkIDApIHx8IFtdO1xuICAgICAgICAgIGNvbnNvbGUubG9nKFwiY29sdW1uc1wiLCBjb2x1bW5zKTtcbiAgICAgICAgICBpZiAoY29sdW1ucyB8fCBjb2x1bW5zLmxlbmd0aCA8IDEpIHtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT09PT09PT09PT09PT09PVwiKTtcbiAgICAgICAgICAgIGNvbnNvbGUubG9nKGRfdGFibGUsIG9fbWF0Y2hfY29sLCBjb2x1bW5zKTtcbiAgICAgICAgICAgIGRfaW5zX3ZhbHVlcyA9IGRfaW5zICE9IG51bGwgPyBkX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICBvX2luc19pZCA9IF8ubGFzdChkX2lucyAhPSBudWxsID8gZF9pbnMuZGlzdHJpYnV0ZV9mcm9tX2luc3RhbmNlcyA6IHZvaWQgMCk7XG4gICAgICAgICAgICBvX2lucyA9IGRiLmluc3RhbmNlcy5maW5kT25lKG9faW5zX2lkKTtcbiAgICAgICAgICAgIG9faW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIGRfaW5zX2Zvcm0gPSBkYi5mb3Jtcy5maW5kT25lKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtIDogdm9pZCAwKTtcbiAgICAgICAgICAgIG9faW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgb19zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGRfaW5zX2ZpZWxkcyA9IFtdO1xuICAgICAgICAgICAgZF9zdWJ0YWJsZV9maWVsZHMgPSBbXTtcbiAgICAgICAgICAgIGNvbHVtbl9saXN0ID0gW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcyA9IFtdO1xuICAgICAgICAgICAgaWYgKChvX2lucyAhPSBudWxsID8gb19pbnMuZm9ybV92ZXJzaW9uIDogdm9pZCAwKSA9PT0gKG9faW5zX2Zvcm0gIT0gbnVsbCA/IChyZWYxNyA9IG9faW5zX2Zvcm0uY3VycmVudCkgIT0gbnVsbCA/IHJlZjE3Ll9pZCA6IHZvaWQgMCA6IHZvaWQgMCkpIHtcbiAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE4ID0gb19pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMTguZmllbGRzIDogdm9pZCAwIDogdm9pZCAwO1xuICAgICAgICAgICAgICBvX2luc19maWVsZHMuZm9yRWFjaChmdW5jdGlvbihvX2luc19maWVsZCkge1xuICAgICAgICAgICAgICAgIGlmICgob19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IG9fdGFibGUpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBvX3N1YnRhYmxlX2ZpZWxkcyA9IG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgIGlmICgob19pbnNfZm9ybSAhPSBudWxsID8gKHJlZjE5ID0gb19pbnNfZm9ybS5oaXN0b3J5cykgIT0gbnVsbCA/IHJlZjE5Lmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgICAgICAgb19pbnNfZm9ybS5oaXN0b3J5cy5mb3JFYWNoKGZ1bmN0aW9uKG9oKSB7XG4gICAgICAgICAgICAgICAgICBpZiAoKG9faW5zICE9IG51bGwgPyBvX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSBvaC5faWQpIHtcbiAgICAgICAgICAgICAgICAgICAgb19pbnNfZmllbGRzID0gb2ggIT0gbnVsbCA/IG9oLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9faW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKG9faW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgICAgICAgaWYgKChvX2luc19maWVsZCAhPSBudWxsID8gb19pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKG9faW5zX2ZpZWxkICE9IG51bGwgPyBvX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gb190YWJsZSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIG9fc3VidGFibGVfZmllbGRzID0gb19pbnNfZmllbGQgIT0gbnVsbCA/IG9faW5zX2ZpZWxkLmZpZWxkcyA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBpZiAoKGRfaW5zICE9IG51bGwgPyBkX2lucy5mb3JtX3ZlcnNpb24gOiB2b2lkIDApID09PSAoZF9pbnNfZm9ybSAhPSBudWxsID8gKHJlZjIwID0gZF9pbnNfZm9ybS5jdXJyZW50KSAhPSBudWxsID8gcmVmMjAuX2lkIDogdm9pZCAwIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjEgPSBkX2luc19mb3JtLmN1cnJlbnQpICE9IG51bGwgPyByZWYyMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gICAgICAgICAgICAgIGRfaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGRfaW5zX2ZpZWxkKSB7XG4gICAgICAgICAgICAgICAgaWYgKCgoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLnR5cGUgOiB2b2lkIDApID09PSAndGFibGUnICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuY29kZSA6IHZvaWQgMCkgPT09IGRfdGFibGUpIHx8IChhX3RhYmxlICYmIChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gYV90YWJsZSkpIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBkX3N1YnRhYmxlX2ZpZWxkcyA9IGRfc3VidGFibGVfZmllbGRzLmNvbmNhdChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQuZmllbGRzIDogdm9pZCAwKTtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgaWYgKChkX2luc19mb3JtICE9IG51bGwgPyAocmVmMjIgPSBkX2luc19mb3JtLmhpc3RvcnlzKSAhPSBudWxsID8gcmVmMjIubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICAgICAgICBkX2luc19mb3JtLmhpc3RvcnlzLmZvckVhY2goZnVuY3Rpb24oZGgpIHtcbiAgICAgICAgICAgICAgICAgIGlmICgoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLmZvcm1fdmVyc2lvbiA6IHZvaWQgMCkgPT09IGRoLl9pZCkge1xuICAgICAgICAgICAgICAgICAgICBkX2luc19maWVsZHMgPSBkaCAhPSBudWxsID8gZGguZmllbGRzIDogdm9pZCAwO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gZF9pbnNfZmllbGRzLmZvckVhY2goZnVuY3Rpb24oZF9pbnNfZmllbGQpIHtcbiAgICAgICAgICAgICAgICAgICAgICBpZiAoKChkX2luc19maWVsZCAhPSBudWxsID8gZF9pbnNfZmllbGQudHlwZSA6IHZvaWQgMCkgPT09ICd0YWJsZScgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5jb2RlIDogdm9pZCAwKSA9PT0gZF90YWJsZSkgfHwgKGFfdGFibGUgJiYgKGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC50eXBlIDogdm9pZCAwKSA9PT0gJ3RhYmxlJyAmJiAoZF9pbnNfZmllbGQgIT0gbnVsbCA/IGRfaW5zX2ZpZWxkLmNvZGUgOiB2b2lkIDApID09PSBhX3RhYmxlKSkge1xuICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGRfc3VidGFibGVfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuY29uY2F0KGRfaW5zX2ZpZWxkICE9IG51bGwgPyBkX2luc19maWVsZC5maWVsZHMgOiB2b2lkIDApO1xuICAgICAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChvX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coXCJvX3N1YnRhYmxlX2ZpZWxkc1wiLCBvX3N1YnRhYmxlX2ZpZWxkcyk7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXml6Dlr7nlupTlrZDooagnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX3N1YnRhYmxlX2ZpZWxkcy5sZW5ndGggPT09IDApIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WIhuWPkeeahOeUs+ivt+WNleaXoOWvueW6lOWtkOihqCcpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZF90YWJsZV92YWx1ZXMgPSAoZF9pbnMgIT0gbnVsbCA/IGRfaW5zLnZhbHVlc1tkX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBpZiAoYV90YWJsZSkge1xuICAgICAgICAgICAgICBhX3RhYmxlX3ZhbHVlcyA9IChkX2lucyAhPSBudWxsID8gZF9pbnMudmFsdWVzW2FfdGFibGVdIDogdm9pZCAwKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGFfdGFibGVfdmFsdWVzICYmIChhX3RhYmxlX3ZhbHVlcyAhPSBudWxsID8gYV90YWJsZV92YWx1ZXMubGVuZ3RoIDogdm9pZCAwKSA9PT0gKGRfdGFibGVfdmFsdWVzICE9IG51bGwgPyBkX3RhYmxlX3ZhbHVlcy5sZW5ndGggOiB2b2lkIDApKSB7XG4gICAgICAgICAgICAgICAgYV90YWJsZV92YWx1ZXMuZm9yRWFjaChmdW5jdGlvbihhX3JvdywgaW5kZXgpIHtcbiAgICAgICAgICAgICAgICAgIHZhciBrZXksIHJlc3VsdHMsIHZhbHVlO1xuICAgICAgICAgICAgICAgICAgcmVzdWx0cyA9IFtdO1xuICAgICAgICAgICAgICAgICAgZm9yIChrZXkgaW4gYV9yb3cpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBhX3Jvd1trZXldO1xuICAgICAgICAgICAgICAgICAgICByZXN1bHRzLnB1c2goZF90YWJsZV92YWx1ZXNbaW5kZXhdW2tleV0gPSB2YWx1ZSk7XG4gICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICByZXR1cm4gcmVzdWx0cztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfVxuICAgICAgICAgICAgaWYgKGRfdGFibGVfdmFsdWVzLmxlbmd0aCA9PT0gMCkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBvX21hdGNoX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICByZXR1cm4gbS5jb2RlID09PSBvX21hdGNoX2NvbDtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gZF9tYXRjaF9jb2w7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChvX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfljp/nlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGlmIChkX21hdGNoX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICfliIblj5HnmoTnlLPor7fljZXlrZDooajml6Dlr7nlupTljLnphY3liJcnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIG9fbWF0Y2hfY29sX2ZpZWxkID0gb19tYXRjaF9jb2xfZmllbGRzWzBdO1xuICAgICAgICAgICAgZF9tYXRjaF9jb2xfZmllbGQgPSBkX21hdGNoX2NvbF9maWVsZHNbMF07XG4gICAgICAgICAgICBpZiAoKG9fbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBvX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSAhPT0gKGRfbWF0Y2hfY29sX2ZpZWxkICE9IG51bGwgPyBkX21hdGNoX2NvbF9maWVsZC50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5ZKM5Y6f55Sz6K+35Y2V5a2Q6KGo55qE5Yy56YWN5YiX5a2X5q615LiN5LiA6Ie0Jyk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24oY29sdW1uKSB7XG4gICAgICAgICAgICAgIHZhciBjb2wsIGNvbHMsIGRfY29sLCBkX2NvbF9maWVsZHMsIG9fY29sLCBvX2NvbF9maWVsZHM7XG4gICAgICAgICAgICAgIGNvbHMgPSBjb2x1bW4uc3BsaXQoJy0nKSB8fCBbXTtcbiAgICAgICAgICAgICAgaWYgKGNvbHMubGVuZ3RoID09PSAyKSB7XG4gICAgICAgICAgICAgICAgb19jb2wgPSBjb2xzWzBdO1xuICAgICAgICAgICAgICAgIGRfY29sID0gY29sc1sxXTtcbiAgICAgICAgICAgICAgICBvX2NvbF9maWVsZHMgPSBvX3N1YnRhYmxlX2ZpZWxkcy5maWx0ZXIoZnVuY3Rpb24obSkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIG0uY29kZSA9PT0gb19jb2w7XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICAgICAgZF9jb2xfZmllbGRzID0gZF9zdWJ0YWJsZV9maWVsZHMuZmlsdGVyKGZ1bmN0aW9uKG0pIHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiBtLmNvZGUgPT09IGRfY29sO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICAgIGlmIChvX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5Y6f55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmIChkX2NvbF9maWVsZHMubGVuZ3RoID09PSAwKSB7XG4gICAgICAgICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAn5YiG5Y+R55qE55Sz6K+35Y2V5a2Q6KGo5peg5a+55bqU5Zue5aGr5YiXJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGlmICgob19jb2xfZmllbGRzICE9IG51bGwgPyBvX2NvbF9maWVsZHMudHlwZSA6IHZvaWQgMCkgIT09IChkX2NvbF9maWVsZHMgIT0gbnVsbCA/IGRfY29sX2ZpZWxkcy50eXBlIDogdm9pZCAwKSkge1xuICAgICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+Wtl+auteexu+Wei+S4jeS4gOiHtCcpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBjb2wgPSB7XG4gICAgICAgICAgICAgICAgICBvX2NvbDogb19jb2wsXG4gICAgICAgICAgICAgICAgICBkX2NvbDogZF9jb2xcbiAgICAgICAgICAgICAgICB9O1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5wdXNoKGNvbCk7XG4gICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+WbnuWhq+WIl+S4jeWMuemFjScpO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIHRyYWNlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy50cmFjZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZSA9IHRyYWNlc1t0cmFjZXMubGVuZ3RoIC0gMV07XG4gICAgICAgICAgICBhcHByb3ZlID0gdHJhY2UgIT0gbnVsbCA/IHRyYWNlLmFwcHJvdmVzWzBdIDogdm9pZCAwO1xuICAgICAgICAgICAgdGFibGVfZGF0YSA9IChhcHByb3ZlICE9IG51bGwgPyBhcHByb3ZlLnZhbHVlc1tvX3RhYmxlXSA6IHZvaWQgMCkgfHwgW107XG4gICAgICAgICAgICBkX3RhYmxlX3ZhbHVlcy5mb3JFYWNoKGZ1bmN0aW9uKGRfcm93KSB7XG4gICAgICAgICAgICAgIHZhciBjb3VudCwgaGFzX29iaiwgcm93X2RhdGE7XG4gICAgICAgICAgICAgIGhhc19vYmogPSBmYWxzZTtcbiAgICAgICAgICAgICAgY291bnQgPSAtMTtcbiAgICAgICAgICAgICAgdGFibGVfZGF0YS5mb3JFYWNoKGZ1bmN0aW9uKG9fcm93LCBpbmRleCkge1xuICAgICAgICAgICAgICAgIGlmIChvX3Jvd1tvX21hdGNoX2NvbF0gPT09IGRfcm93W2RfbWF0Y2hfY29sXSkge1xuICAgICAgICAgICAgICAgICAgaGFzX29iaiA9IHRydWU7XG4gICAgICAgICAgICAgICAgICByZXR1cm4gY291bnQgPSBpbmRleDtcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgICBpZiAoaGFzX29iaiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgICAgIHJldHVybiBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHRhYmxlX2RhdGFbY291bnRdW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByb3dfZGF0YSA9IHt9O1xuICAgICAgICAgICAgICAgIHJvd19kYXRhW29fbWF0Y2hfY29sXSA9IGRfcm93W2RfbWF0Y2hfY29sXTtcbiAgICAgICAgICAgICAgICBjb2x1bW5fbGlzdC5mb3JFYWNoKGZ1bmN0aW9uKGNvbCkge1xuICAgICAgICAgICAgICAgICAgcmV0dXJuIHJvd19kYXRhW2NvbCAhPSBudWxsID8gY29sLm9fY29sIDogdm9pZCAwXSA9IGRfcm93W2NvbCAhPSBudWxsID8gY29sLmRfY29sIDogdm9pZCAwXTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgICAgICByZXR1cm4gdGFibGVfZGF0YS5wdXNoKHJvd19kYXRhKTtcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgfSk7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlcyA9IG9faW5zICE9IG51bGwgPyBvX2lucy52YWx1ZXMgOiB2b2lkIDA7XG4gICAgICAgICAgICB0cmFjZXNbdHJhY2VzLmxlbmd0aCAtIDFdLmFwcHJvdmVzWzBdLnZhbHVlc1tvX3RhYmxlXSA9IHRhYmxlX2RhdGE7XG4gICAgICAgICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKG9faW5zX2lkLCB7XG4gICAgICAgICAgICAgICRzZXQ6IHtcbiAgICAgICAgICAgICAgICAndHJhY2VzJzogdHJhY2VzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgICAgICAgIGRhdGE6IHtcbiAgICAgICAgICAgICAgICAnc3VjY2Vzcyc6ICflm57loavmiJDlip8nXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWtkOihqOWbnuWhq+WIl+Wtl+autSBjb2x1bW5zIOWAvCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCdmb3J3YXJkIHRhYmxlIHJlZmlsbCBlcnJvciEnLCAnd2ViaG9va+acqumFjee9ruWMuemFjeWIl+Wtl+autSBvTWF0Y2hDb2wg5YC8Jyk7XG4gICAgICAgIH1cbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ2ZvcndhcmQgdGFibGUgcmVmaWxsIGVycm9yIScsICd3ZWJob29r5pyq6YWN572u5Y6f6KGo5Y2V5a2Q6KGoIG9UYWJsZSDlgLwnKTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcignZm9yd2FyZCB0YWJsZSByZWZpbGwgZXJyb3IhJywgJ+eUs+ivt+WNleacque7k+adnycpO1xuICAgIH1cbiAgfSBjYXRjaCAoZXJyb3IpIHtcbiAgICBlID0gZXJyb3I7XG4gICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgIGNvZGU6IDIwMCxcbiAgICAgIGRhdGE6IHtcbiAgICAgICAgZXJyb3JzOiBbZV1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIChyZXEsIHJlcywgbmV4dCkgLT5cclxuXHR0cnlcclxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIlxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc3ViVGFibGVcIixyZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiXHJcbiAgICAgICAgY29uc29sZS5sb2cgXCJyZXE/LnF1ZXJ5Py5zdW1Db2xcIixyZXE/LnF1ZXJ5Py5zdW1Db2xcclxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOaOkuW6j+WIlz09PT09PT09PT1cIlxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc29ydENvbFwiLHJlcT8ucXVlcnk/LnNvcnRDb2xcclxuICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09PT09PeWtkOihqOWNleWIl+mcgOimgeiuoeeul+eahOWSjD09PT09PT09PT1cIlxyXG4gICAgICAgIGNvbnNvbGUubG9nIFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLHJlcT8ucXVlcnk/LnNpbmdsZUNvbHNcclxuICAgICAgICBcclxuICAgICAgICBcclxuICAgICAgICBzdWJfdGFibGUgPSByZXE/LnF1ZXJ5Py5zdWJUYWJsZVxyXG4gICAgICAgIGlmICFzdWJfdGFibGVcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1Yl90YWJsZT09PT09PVwiXHJcbiAgICAgICAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScgKTtcclxuICAgICAgICBcclxuICAgICAgICBzdW1fY29sID0gcmVxPy5xdWVyeT8uc3VtQ29sXHJcbiAgICAgICAgaWYgIXN1bV9jb2xcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCI9PT09PXN1bV9jb2w9PT09PT1cIlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61JyApO1xyXG4gICAgICAgIFxyXG4gICAgICAgIHNvcnRfY29sID0gcmVxPy5xdWVyeT8uc29ydENvbFxyXG4gICAgICAgIGlmICFzb3J0X2NvbFxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyBcIj09PT09c29ydF9jb2w9PT09PT1cIlxyXG4gICAgICAgICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScgKTtcclxuICAgICAgICBcclxuICAgICAgICAjIHNpbmdsZV9jb2xzID0gcmVxPy5xdWVyeT8uc2luZ2xlQ29sc1xyXG4gICAgICAgICMgaWYgIXNpbmdsZV9jb2xzXHJcbiAgICAgICAgIyAgICAgY29uc29sZS5sb2cgXCI9PT09PXNpbmdsZV9jb2xzPT09PT09XCJcclxuXHJcbiAgICAgICAgIyAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAnd2ViaG9vayDmnKrphY3nva4gc2luZ2xlQ29scyDlrZfmrrUnICk7XHJcbiAgICAgICAgXHJcbiAgICAgICAgaW5zID0gcmVxPy5ib2R5Py5pbnN0YW5jZVxyXG4gICAgICAgIFxyXG4gICAgICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV1cclxuICAgICAgICBcclxuICAgICAgICBpZiBzdWJfdGFibGVfdmFsdWVzPy5sZW5ndGggPiAwIFxyXG4gICAgICAgICAgICAjICMg5qC55o2uIHN1Yl90YWJsZV92YWx1ZXMg6L+b6KGM5o6S5bqPXHJcbiAgICAgICAgICAgICMgPT09PT09PT09PT09PT09PT09PT09PVxyXG4gICAgICAgICAgICAjIOaOkuW6j+Wtl+aute+8jOWFs+mUruWtl++8jOato+W6jyh0cnVlKS/lgJLluo8oZmFsc2UpXHJcbiAgICAgICAgICAgIGBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XHJcbiAgICAgICAgICAgICAgICBmb3IodmFyIGo9MSxqbD1qc29uQXJyLmxlbmd0aDtqIDwgamw7aisrKXtcclxuICAgICAgICAgICAgICAgICAgICB2YXIgdGVtcCA9IGpzb25BcnJbal0sXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcclxuICAgICAgICAgICAgICAgICAgICAgICAgaSAgICA9IGotMTtcclxuICAgICAgICAgICAgICAgICAgICBpZihhc2M9PXRydWUpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0ganNvbkFycltpXTtcclxuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxyXG4gICAgICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgIHdoaWxlKGkgPj0wICYmIE51bWJlcihqc29uQXJyW2ldW2tleV0pPHZhbCl7XHJcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xyXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXHJcbiAgICAgICAgICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICAgICAganNvbkFycltpKzFdID0gdGVtcDtcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xyXG4gICAgICAgICAgICB9YFxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgbmV3X3RhYmxlX3ZhbHVlcyA9IEpzb25Tb3J0KHN1Yl90YWJsZV92YWx1ZXMsc3VtX2NvbCxmYWxzZSlcclxuXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nIFwibmV3X3RhYmxlX3ZhbHVlc1wiLG5ld190YWJsZV92YWx1ZXNcclxuXHJcbiAgICAgICAgICAgIG5ld190YWJsZV92YWx1ZXMuZm9yRWFjaCAob2JqLCBpbmRleCktPlxyXG4gICAgICAgICAgICAgICAgaWYgc29ydF9jb2wgYW5kIG9ialtzdW1fY29sXVxyXG4gICAgICAgICAgICAgICAgICAgIG9ialtzb3J0X2NvbF0gPSAoaW5kZXgrMSkudG9TdHJpbmcoKVxyXG4gICAgICAgICAgICBcclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJuZXdfdGFibGVfdmFsdWVzXCIsbmV3X3RhYmxlX3ZhbHVlc1xyXG5cclxuICAgICAgICAgICAgaW5zLnZhbHVlc1tzdWJfdGFibGVdID0gbmV3X3RhYmxlX3ZhbHVlc1xyXG5cclxuICAgICAgICAgICAgZGIuaW5zdGFuY2VzLnVwZGF0ZShpbnMuX2lkLHtcclxuICAgICAgICAgICAgICAgICRzZXQ6e1xyXG4gICAgICAgICAgICAgICAgICAgICd2YWx1ZXMnOmlucy52YWx1ZXNcclxuICAgICAgICAgICAgICAgICAgICB9XHJcbiAgICAgICAgICAgICAgICB9KVxyXG5cclxuICAgICAgICAgICAgY29uc29sZS5sb2cgXCJzdWNjZXNzXCJcclxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG4gICAgICAgICAgICAgICAgY29kZTogMjAwLFxyXG4gICAgICAgICAgICAgICAgZGF0YToge1xyXG4gICAgICAgICAgICAgICAgICAgICdzdWNjZXNzJzogJ+iuoeeul+aOkuW6j+aIkOWKnydcclxuICAgICAgICAgICAgICAgIH1cclxuICAgICAgICAgICAgfVxyXG4gICAgICAgIGVsc2VcclxuICAgICAgICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XHJcbiAgICBjYXRjaCBlXHJcbiAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcywge1xyXG4gICAgICAgICAgICBjb2RlOiAyMDAsXHJcbiAgICAgICAgICAgIGRhdGE6IHtcclxuICAgICAgICAgICAgICAgIGVycm9yczogW2VdXHJcbiAgICAgICAgICAgIH1cclxuICAgICAgICB9XHJcbikiLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL3dvcmtmbG93L3N1Yl90YWJsZV9zb3J0XCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBlLCBpbnMsIG5ld190YWJsZV92YWx1ZXMsIHJlZiwgcmVmMSwgcmVmMiwgcmVmMywgcmVmNCwgcmVmNSwgcmVmNiwgcmVmNywgc29ydF9jb2wsIHN1Yl90YWJsZSwgc3ViX3RhYmxlX3ZhbHVlcywgc3VtX2NvbDtcbiAgdHJ5IHtcbiAgICBjb25zb2xlLmxvZyhcIj09PT09PT09PeWtkOihqD09PT09PT09PT1cIik7XG4gICAgY29uc29sZS5sb2coXCJyZXE/LnF1ZXJ5Py5zdWJUYWJsZVwiLCByZXEgIT0gbnVsbCA/IChyZWYgPSByZXEucXVlcnkpICE9IG51bGwgPyByZWYuc3ViVGFibGUgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5oC75YiG5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnN1bUNvbFwiLCByZXEgIT0gbnVsbCA/IChyZWYxID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMS5zdW1Db2wgOiB2b2lkIDAgOiB2b2lkIDApO1xuICAgIGNvbnNvbGUubG9nKFwiPT09PT09PT095a2Q6KGo5o6S5bqP5YiXPT09PT09PT09PVwiKTtcbiAgICBjb25zb2xlLmxvZyhcInJlcT8ucXVlcnk/LnNvcnRDb2xcIiwgcmVxICE9IG51bGwgPyAocmVmMiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjIuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMCk7XG4gICAgY29uc29sZS5sb2coXCI9PT09PT09PT3lrZDooajljZXliJfpnIDopoHorqHnrpfnmoTlkow9PT09PT09PT09XCIpO1xuICAgIGNvbnNvbGUubG9nKFwicmVxPy5xdWVyeT8uc2luZ2xlQ29sc1wiLCByZXEgIT0gbnVsbCA/IChyZWYzID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmMy5zaW5nbGVDb2xzIDogdm9pZCAwIDogdm9pZCAwKTtcbiAgICBzdWJfdGFibGUgPSByZXEgIT0gbnVsbCA/IChyZWY0ID0gcmVxLnF1ZXJ5KSAhPSBudWxsID8gcmVmNC5zdWJUYWJsZSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXN1Yl90YWJsZSkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1Yl90YWJsZT09PT09PVwiKTtcbiAgICAgIHRocm93IG5ldyBNZXRlb3IuRXJyb3IoJ3RhYmxlIHNvcnQgZXJyb3IhJywgJ3dlYmhvb2sg5pyq6YWN572uIHN1YlRhYmxlIOWtl+autScpO1xuICAgIH1cbiAgICBzdW1fY29sID0gcmVxICE9IG51bGwgPyAocmVmNSA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjUuc3VtQ29sIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIGlmICghc3VtX2NvbCkge1xuICAgICAgY29uc29sZS5sb2coXCI9PT09PXN1bV9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzdW1Db2wg5a2X5q61Jyk7XG4gICAgfVxuICAgIHNvcnRfY29sID0gcmVxICE9IG51bGwgPyAocmVmNiA9IHJlcS5xdWVyeSkgIT0gbnVsbCA/IHJlZjYuc29ydENvbCA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICBpZiAoIXNvcnRfY29sKSB7XG4gICAgICBjb25zb2xlLmxvZyhcIj09PT09c29ydF9jb2w9PT09PT1cIik7XG4gICAgICB0aHJvdyBuZXcgTWV0ZW9yLkVycm9yKCd0YWJsZSBzb3J0IGVycm9yIScsICd3ZWJob29rIOacqumFjee9riBzb3J0Q29sIOWtl+autScpO1xuICAgIH1cbiAgICBpbnMgPSByZXEgIT0gbnVsbCA/IChyZWY3ID0gcmVxLmJvZHkpICE9IG51bGwgPyByZWY3Lmluc3RhbmNlIDogdm9pZCAwIDogdm9pZCAwO1xuICAgIHN1Yl90YWJsZV92YWx1ZXMgPSBpbnMudmFsdWVzW3N1Yl90YWJsZV07XG4gICAgaWYgKChzdWJfdGFibGVfdmFsdWVzICE9IG51bGwgPyBzdWJfdGFibGVfdmFsdWVzLmxlbmd0aCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICBmdW5jdGlvbiBKc29uU29ydChqc29uQXJyLCBrZXksIGFzYyl7XG4gICAgICAgICAgICAgICAgZm9yKHZhciBqPTEsamw9anNvbkFyci5sZW5ndGg7aiA8IGpsO2orKyl7XG4gICAgICAgICAgICAgICAgICAgIHZhciB0ZW1wID0ganNvbkFycltqXSxcbiAgICAgICAgICAgICAgICAgICAgICAgIHZhbCAgPSBOdW1iZXIodGVtcFtrZXldKSxcbiAgICAgICAgICAgICAgICAgICAgICAgIGkgICAgPSBqLTE7XG4gICAgICAgICAgICAgICAgICAgIGlmKGFzYz09dHJ1ZSl7XG4gICAgICAgICAgICAgICAgICAgICAgICB3aGlsZShpID49MCAmJiBOdW1iZXIoanNvbkFycltpXVtrZXldKT52YWwpe1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IGpzb25BcnJbaV07XG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgaSA9IGktMTsgICAgXG4gICAgICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIH1lbHNle1xuICAgICAgICAgICAgICAgICAgICAgICAgd2hpbGUoaSA+PTAgJiYgTnVtYmVyKGpzb25BcnJbaV1ba2V5XSk8dmFsKXtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBqc29uQXJyW2krMV0gPSBqc29uQXJyW2ldO1xuICAgICAgICAgICAgICAgICAgICAgICAgICAgIGkgPSBpLTE7ICAgIFxuICAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIGpzb25BcnJbaSsxXSA9IHRlbXA7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHJldHVybiBqc29uQXJyO1xuICAgICAgICAgICAgfTtcbiAgICAgIG5ld190YWJsZV92YWx1ZXMgPSBKc29uU29ydChzdWJfdGFibGVfdmFsdWVzLCBzdW1fY29sLCBmYWxzZSk7XG4gICAgICBjb25zb2xlLmxvZyhcIm5ld190YWJsZV92YWx1ZXNcIiwgbmV3X3RhYmxlX3ZhbHVlcyk7XG4gICAgICBuZXdfdGFibGVfdmFsdWVzLmZvckVhY2goZnVuY3Rpb24ob2JqLCBpbmRleCkge1xuICAgICAgICBpZiAoc29ydF9jb2wgJiYgb2JqW3N1bV9jb2xdKSB7XG4gICAgICAgICAgcmV0dXJuIG9ialtzb3J0X2NvbF0gPSAoaW5kZXggKyAxKS50b1N0cmluZygpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGNvbnNvbGUubG9nKFwibmV3X3RhYmxlX3ZhbHVlc1wiLCBuZXdfdGFibGVfdmFsdWVzKTtcbiAgICAgIGlucy52YWx1ZXNbc3ViX3RhYmxlXSA9IG5ld190YWJsZV92YWx1ZXM7XG4gICAgICBkYi5pbnN0YW5jZXMudXBkYXRlKGlucy5faWQsIHtcbiAgICAgICAgJHNldDoge1xuICAgICAgICAgICd2YWx1ZXMnOiBpbnMudmFsdWVzXG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgY29uc29sZS5sb2coXCJzdWNjZXNzXCIpO1xuICAgICAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICAgICAgY29kZTogMjAwLFxuICAgICAgICBkYXRhOiB7XG4gICAgICAgICAgJ3N1Y2Nlc3MnOiAn6K6h566X5o6S5bqP5oiQ5YqfJ1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhyb3cgbmV3IE1ldGVvci5FcnJvcigndGFibGUgc29ydCBlcnJvciEnLCAn5a2Q6KGo5pWw5o2u5Li656m6Jyk7XG4gICAgfVxuICB9IGNhdGNoIChlcnJvcikge1xuICAgIGUgPSBlcnJvcjtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICBlcnJvcnM6IFtlXVxuICAgICAgfVxuICAgIH0pO1xuICB9XG59KTtcbiIsImlmIE1ldGVvci5pc0RldmVsb3BtZW50XHJcbiAgICBKc29uUm91dGVzLmFkZCAncG9zdCcsICcvdGVzdC93ZWJob29rJywgKHJlcSwgcmVzLCBuZXh0KSAtPlxyXG4gICAgICAgIHRyeVxyXG5cclxuICAgICAgICAgICAgaGFzaERhdGEgPSByZXEuYm9keVxyXG4gICAgICAgICAgICBjb25zb2xlLmxvZyAnYWN0aW9uOiAnLCBoYXNoRGF0YS5hY3Rpb25cclxuICAgICAgICAgICAgY29uc29sZS5sb2cgJ2Zyb21fdXNlcjogJywgaGFzaERhdGEuZnJvbV91c2VyXHJcbiAgICAgICAgICAgIGNvbnNvbGUubG9nICd0b191c2VyczogJywgaGFzaERhdGEudG9fdXNlcnNcclxuXHJcblxyXG4gICAgICAgICAgICBKc29uUm91dGVzLnNlbmRSZXN1bHQgcmVzLFxyXG4gICAgICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxyXG4gICAgICAgICAgICAgICAgICAgIGRhdGE6IHt9XHJcbiAgICAgICAgY2F0Y2ggZVxyXG4gICAgICAgICAgICBjb25zb2xlLmVycm9yIGUuc3RhY2tcclxuICAgICAgICAgICAgSnNvblJvdXRlcy5zZW5kUmVzdWx0IHJlcyxcclxuICAgICAgICAgICAgICAgIGNvZGU6IDIwMFxyXG4gICAgICAgICAgICAgICAgZGF0YTogeyBlcnJvcnM6IFt7ZXJyb3JNZXNzYWdlOiBlLm1lc3NhZ2V9XSB9IiwiaWYgKE1ldGVvci5pc0RldmVsb3BtZW50KSB7XG4gIEpzb25Sb3V0ZXMuYWRkKCdwb3N0JywgJy90ZXN0L3dlYmhvb2snLCBmdW5jdGlvbihyZXEsIHJlcywgbmV4dCkge1xuICAgIHZhciBlLCBoYXNoRGF0YTtcbiAgICB0cnkge1xuICAgICAgaGFzaERhdGEgPSByZXEuYm9keTtcbiAgICAgIGNvbnNvbGUubG9nKCdhY3Rpb246ICcsIGhhc2hEYXRhLmFjdGlvbik7XG4gICAgICBjb25zb2xlLmxvZygnZnJvbV91c2VyOiAnLCBoYXNoRGF0YS5mcm9tX3VzZXIpO1xuICAgICAgY29uc29sZS5sb2coJ3RvX3VzZXJzOiAnLCBoYXNoRGF0YS50b191c2Vycyk7XG4gICAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgICBjb2RlOiAyMDAsXG4gICAgICAgIGRhdGE6IHt9XG4gICAgICB9KTtcbiAgICB9IGNhdGNoIChlcnJvcikge1xuICAgICAgZSA9IGVycm9yO1xuICAgICAgY29uc29sZS5lcnJvcihlLnN0YWNrKTtcbiAgICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICAgIGNvZGU6IDIwMCxcbiAgICAgICAgZGF0YToge1xuICAgICAgICAgIGVycm9yczogW1xuICAgICAgICAgICAge1xuICAgICAgICAgICAgICBlcnJvck1lc3NhZ2U6IGUubWVzc2FnZVxuICAgICAgICAgICAgfVxuICAgICAgICAgIF1cbiAgICAgICAgfVxuICAgICAgfSk7XG4gICAgfVxuICB9KTtcbn1cbiIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS91c2Vyc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblxyXG5cdGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSlcclxuXHRjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWRcclxuXHJcblx0dXNlcklkcyA9IHJlcS5ib2R5LnVzZXJJZHNcclxuXHRzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZFxyXG5cdHNwYWNlVXNlcnMgPSBbXTtcclxuXHJcblx0c3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe3VzZXI6IGN1cnJlbnRfdXNlciwgc3BhY2U6IHNwYWNlSWR9LCB7ZmllbGRzOiB7X2lkOiAxfX0pXHJcblx0aWYgIXNwYWNlX3VzZXJcclxuXHRcdHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XHJcblx0XHRcdGNvZGU6IDIwMCxcclxuXHRcdFx0ZGF0YToge1xyXG5cdFx0XHRcdCdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xyXG5cdFx0XHR9XHJcblx0XHR9KTtcclxuXHJcblx0aWYgKCF1c2VySWRzIHx8ICFzcGFjZUlkKVxyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cdHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpXHJcblxyXG5cdEpzb25Sb3V0ZXMuc2VuZFJlc3VsdCByZXMsIHtcclxuXHRcdGNvZGU6IDIwMCxcclxuXHRcdGRhdGE6IHtcclxuXHRcdFx0J3NwYWNlVXNlcnMnOiBzcGFjZVVzZXJzXHJcblx0XHR9XHJcblx0fVxyXG4pIiwiSnNvblJvdXRlcy5hZGQoXCJwb3N0XCIsIFwiL2FwaS9mb3JtdWxhL3VzZXJzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBzcGFjZUlkLCBzcGFjZVVzZXJzLCBzcGFjZV91c2VyLCB1c2VySWRzO1xuICBjdXJyZW50X3VzZXJfaW5mbyA9IHV1Zmxvd01hbmFnZXIuY2hlY2tfYXV0aG9yaXphdGlvbihyZXEpO1xuICBjdXJyZW50X3VzZXIgPSBjdXJyZW50X3VzZXJfaW5mby5faWQ7XG4gIHVzZXJJZHMgPSByZXEuYm9keS51c2VySWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VVc2VycyA9IFtdO1xuICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgdXNlcjogY3VycmVudF91c2VyLFxuICAgIHNwYWNlOiBzcGFjZUlkXG4gIH0sIHtcbiAgICBmaWVsZHM6IHtcbiAgICAgIF9pZDogMVxuICAgIH1cbiAgfSk7XG4gIGlmICghc3BhY2VfdXNlcikge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn5peg5p2D6ZmQJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIGlmICghdXNlcklkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHNwYWNlVXNlcnMgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYVVzZXJPYmplY3RzKHNwYWNlSWQsIHVzZXJJZHMpO1xuICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgIGNvZGU6IDIwMCxcbiAgICBkYXRhOiB7XG4gICAgICAnc3BhY2VVc2Vycyc6IHNwYWNlVXNlcnNcbiAgICB9XG4gIH0pO1xufSk7XG4iLCJKc29uUm91dGVzLmFkZChcInBvc3RcIiwgXCIvYXBpL2Zvcm11bGEvb3Jnc1wiLCAocmVxLCByZXMsIG5leHQpIC0+XHJcblx0Y3VycmVudF91c2VyX2luZm8gPSB1dWZsb3dNYW5hZ2VyLmNoZWNrX2F1dGhvcml6YXRpb24ocmVxKVxyXG5cdGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZFxyXG5cdG9yZ0lkcyA9IHJlcS5ib2R5Lm9yZ0lkc1xyXG5cdHNwYWNlSWQgPSByZXEuYm9keS5zcGFjZUlkXHJcblxyXG5cdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiBjdXJyZW50X3VzZXIsIHNwYWNlOiBzcGFjZUlkfSwge2ZpZWxkczoge19pZDogMX19KVxyXG5cdGlmICFzcGFjZV91c2VyXHJcblx0XHRyZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0XHRjb2RlOiAyMDAsXHJcblx0XHRcdGRhdGE6IHtcclxuXHRcdFx0XHQnZXJyb3JzJzogJ+aXoOadg+mZkCdcclxuXHRcdFx0fVxyXG5cdFx0fSk7XHJcblxyXG5cdGlmICghb3JnSWRzIHx8ICFzcGFjZUlkKVxyXG5cdFx0cmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcclxuXHRcdFx0Y29kZTogMjAwLFxyXG5cdFx0XHRkYXRhOiB7XHJcblx0XHRcdFx0J2Vycm9ycyc6ICfnvLrlsJHlj4LmlbAnXHJcblx0XHRcdH1cclxuXHRcdH0pO1xyXG5cclxuXHRvcmdzID0gV29ya2Zsb3dNYW5hZ2VyLmdldEZvcm11bGFPcmdPYmplY3RzKG9yZ0lkcylcclxuXHJcblx0SnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xyXG5cdFx0Y29kZTogMjAwLFxyXG5cdFx0ZGF0YToge1xyXG5cdFx0XHQnb3Jncyc6IG9yZ3NcclxuXHRcdH1cclxuXHR9KTtcclxuKSIsIkpzb25Sb3V0ZXMuYWRkKFwicG9zdFwiLCBcIi9hcGkvZm9ybXVsYS9vcmdzXCIsIGZ1bmN0aW9uKHJlcSwgcmVzLCBuZXh0KSB7XG4gIHZhciBjdXJyZW50X3VzZXIsIGN1cnJlbnRfdXNlcl9pbmZvLCBvcmdJZHMsIG9yZ3MsIHNwYWNlSWQsIHNwYWNlX3VzZXI7XG4gIGN1cnJlbnRfdXNlcl9pbmZvID0gdXVmbG93TWFuYWdlci5jaGVja19hdXRob3JpemF0aW9uKHJlcSk7XG4gIGN1cnJlbnRfdXNlciA9IGN1cnJlbnRfdXNlcl9pbmZvLl9pZDtcbiAgb3JnSWRzID0gcmVxLmJvZHkub3JnSWRzO1xuICBzcGFjZUlkID0gcmVxLmJvZHkuc3BhY2VJZDtcbiAgc3BhY2VfdXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgIHVzZXI6IGN1cnJlbnRfdXNlcixcbiAgICBzcGFjZTogc3BhY2VJZFxuICB9LCB7XG4gICAgZmllbGRzOiB7XG4gICAgICBfaWQ6IDFcbiAgICB9XG4gIH0pO1xuICBpZiAoIXNwYWNlX3VzZXIpIHtcbiAgICByZXR1cm4gSnNvblJvdXRlcy5zZW5kUmVzdWx0KHJlcywge1xuICAgICAgY29kZTogMjAwLFxuICAgICAgZGF0YToge1xuICAgICAgICAnZXJyb3JzJzogJ+aXoOadg+mZkCdcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuICBpZiAoIW9yZ0lkcyB8fCAhc3BhY2VJZCkge1xuICAgIHJldHVybiBKc29uUm91dGVzLnNlbmRSZXN1bHQocmVzLCB7XG4gICAgICBjb2RlOiAyMDAsXG4gICAgICBkYXRhOiB7XG4gICAgICAgICdlcnJvcnMnOiAn57y65bCR5Y+C5pWwJ1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIG9yZ3MgPSBXb3JrZmxvd01hbmFnZXIuZ2V0Rm9ybXVsYU9yZ09iamVjdHMob3JnSWRzKTtcbiAgcmV0dXJuIEpzb25Sb3V0ZXMuc2VuZFJlc3VsdChyZXMsIHtcbiAgICBjb2RlOiAyMDAsXG4gICAgZGF0YToge1xuICAgICAgJ29yZ3MnOiBvcmdzXG4gICAgfVxuICB9KTtcbn0pO1xuIiwiTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhciA9IG5ldyBUYWJ1bGFyLlRhYmxlXHJcblx0XHRuYW1lOiBcInJlbGF0ZWRfaW5zdGFuY2VzX3RhYnVsYXJcIlxyXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzXHJcblx0XHRjb2x1bW5zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxyXG5cdFx0XHRcdHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+JyxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlLFxyXG5cdFx0XHRcdHdpZHRoOiAnMXB4JyxcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdGlucHV0ID0gJzxpbnB1dCB0eXBlPVwiY2hlY2tib3hcIiBjbGFzcz1cInJlbGF0ZWQtaW5zdGFuY2VzLWxpc3QtY2hlY2tib3hcIiBuYW1lPVwicmVsYXRlZF9pbnN0YW5jZXNfaWRzXCIgaWQ9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiB2YWx1ZT1cIicgKyBkb2MuX2lkICsgJ1wiJ1xyXG5cclxuXHRcdFx0XHRcdGlmIFRhYnVsYXJUYWJsZXMucmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhci5yZWxhdGVkX2luc3RhbmNlcz8uaW5jbHVkZXMoZG9jLl9pZClcclxuXHRcdFx0XHRcdFx0aW5wdXQgKz0gXCIgY2hlY2tlZCBcIlxyXG5cclxuXHRcdFx0XHRcdGlucHV0ICs9IFwiPlwiXHJcblx0XHRcdFx0XHRyZXR1cm4gaW5wdXRcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibmFtZVwiLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2UsXHJcblx0XHRcdFx0d2lkdGg6ICc0NSUnLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aHJlZiA9ICcnO1xyXG5cdFx0XHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmIChTdGVlZG9zLmlzTW9iaWxlKCkgfHwgU3RlZWRvcy5pc0NvcmRvdmEoKSlcclxuXHRcdFx0XHRcdFx0aHJlZiA9ICcnXHJcblxyXG5cdFx0XHRcdFx0YWJzb2x1dGUgPSBmYWxzZVxyXG5cclxuXHRcdFx0XHRcdGlmIE1ldGVvci5pc1NlcnZlclxyXG5cdFx0XHRcdFx0XHRhYnNvbHV0ZSA9IHRoaXMuYWJzb2x1dGVcclxuXHRcdFx0XHRcdGlmIGFic29sdXRlXHJcblx0XHRcdFx0XHRcdGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIitkb2Muc3BhY2UrXCIvdmlldy9yZWFkb25seS9cIiArIGRvYy5faWQgKyAnP2hpZGVfdHJhY2VzPTAnKVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRocmVmID0gU3RlZWRvcy5hYnNvbHV0ZVVybChcIndvcmtmbG93L3NwYWNlL1wiK2RvYy5zcGFjZStcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpXHJcblx0XHRcdFx0XHRyZXR1cm4gXCI8YSBkYXRhLWlkPScje2RvYy5faWR9JyB0YXJnZXQ9J19ibGFuaycgaHJlZj0nXCIraHJlZitcIic+XCIgKyBkb2MubmFtZSArIFwiPC9hPlwiXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJmbG93X25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXHJcblxyXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz1cInN0ZXAtY3VycmVudC1zdGF0ZSAje2p1ZGdlfVwiPiN7c3RlcF9jdXJyZW50X25hbWV9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblxyXG5cdFx0ZG9tOiBcInRwXCIsXHJcblx0XHRsZW5ndGhDaGFuZ2U6IGZhbHNlLFxyXG5cdFx0ZXh0cmFGaWVsZHM6IFtcInN0YXRlXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJzcGFjZVwiLCBcImtleXdvcmRzXCJdLFxyXG5cdFx0cGFnZUxlbmd0aDogMTAsXHJcblx0XHRpbmZvOiBmYWxzZSxcclxuXHRcdHNlYXJjaGluZzogdHJ1ZSxcclxuXHRcdHJlc3BvbnNpdmU6XHJcblx0XHRcdGRldGFpbHM6IGZhbHNlXHJcblx0XHRhdXRvV2lkdGg6IGZhbHNlLFxyXG5cdFx0Y2hhbmdlU2VsZWN0b3I6IChzZWxlY3RvciwgdXNlcklkKSAtPlxyXG5cdFx0XHR1bmxlc3MgdXNlcklkXHJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxyXG5cclxuXHRcdFx0c3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlXHJcblx0XHRcdHVubGVzcyBzcGFjZUlkXHJcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdHNwYWNlSWQgPSBzZWxlY3Rvci4kYW5kLmdldFByb3BlcnR5KCdzcGFjZScpWzBdXHJcblx0XHRcdHVubGVzcyBzcGFjZUlkXHJcblx0XHRcdFx0cmV0dXJuIHtfaWQ6IC0xfVxyXG5cdFx0XHRzcGFjZSA9IGRiLnNwYWNlcy5maW5kT25lKHNwYWNlSWQpXHJcblx0XHRcdGlmICFzcGFjZVxyXG5cdFx0XHRcdHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCJcclxuXHRcdFx0aWYgIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpXHJcblxyXG5cdFx0XHRcdGZsb3dfaWRzID0gW11cclxuXHRcdFx0XHRjdXJTcGFjZVVzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHtcclxuXHRcdFx0XHRcdHNwYWNlOiBzcGFjZUlkLFxyXG5cdFx0XHRcdFx0J3VzZXInOiB1c2VySWRcclxuXHRcdFx0XHR9KVxyXG5cdFx0XHRcdGlmIGN1clNwYWNlVXNlclxyXG5cdFx0XHRcdFx0b3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XHJcblx0XHRcdFx0XHRcdF9pZDoge1xyXG5cdFx0XHRcdFx0XHRcdCRpbjogY3VyU3BhY2VVc2VyLm9yZ2FuaXphdGlvbnNcclxuXHRcdFx0XHRcdFx0fVxyXG5cdFx0XHRcdFx0fSkuZmV0Y2goKVxyXG5cdFx0XHRcdFx0Zmxvd3MgPSBkYi5mbG93cy5maW5kKHsgc3BhY2U6IHNwYWNlSWQgfSlcclxuXHRcdFx0XHRcdGZsb3dzLmZvckVhY2ggKGZsKS0+XHJcblx0XHRcdFx0XHRcdGlmIFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKVxyXG5cdFx0XHRcdFx0XHRcdGZsb3dfaWRzLnB1c2goZmwuX2lkKVxyXG5cclxuXHRcdFx0XHRpZiBzZWxlY3Rvcj8uJGFuZD8ubGVuZ3RoID4gMFxyXG5cdFx0XHRcdFx0c2VsZWN0b3IuJGFuZFswXS4kb3IgPSBbe3N1Ym1pdHRlcjogdXNlcklkfSwge2FwcGxpY2FudDogdXNlcklkfSwge2luYm94X3VzZXJzOiB1c2VySWR9LCB7b3V0Ym94X3VzZXJzOiB1c2VySWR9LFxyXG5cdFx0XHRcdFx0XHRcdHtjY191c2VyczogdXNlcklkfSwgeyBmbG93OiB7ICRpbjogZmxvd19pZHMgfSB9XVxyXG5cdFx0XHRcdGVsc2VcclxuXHRcdFx0XHRcdF8uZXh0ZW5kIHNlbGVjdG9yLCB7XHJcblx0XHRcdFx0XHRcdCRvcjogW3tzdWJtaXR0ZXI6IHVzZXJJZH0sIHthcHBsaWNhbnQ6IHVzZXJJZH0sIHtpbmJveF91c2VyczogdXNlcklkfSwge291dGJveF91c2VyczogdXNlcklkfSxcclxuXHRcdFx0XHRcdFx0XHR7Y2NfdXNlcnM6IHVzZXJJZH0sIHsgZmxvdzogeyAkaW46IGZsb3dfaWRzIH0gfV1cclxuXHRcdFx0XHRcdH1cclxuXHJcblx0XHRcdHJldHVybiBzZWxlY3RvciIsIk1ldGVvci5zdGFydHVwKGZ1bmN0aW9uKCkge1xuICByZXR1cm4gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyID0gbmV3IFRhYnVsYXIuVGFibGUoe1xuICAgIG5hbWU6IFwicmVsYXRlZF9pbnN0YW5jZXNfdGFidWxhclwiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBjb2x1bW5zOiBbXG4gICAgICB7XG4gICAgICAgIGRhdGE6IFwiX2lkXCIsXG4gICAgICAgIHRpdGxlOiAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIG5hbWU9XCJyZXZlcnNlXCIgaWQ9XCJyZXZlcnNlXCI+JyxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZSxcbiAgICAgICAgd2lkdGg6ICcxcHgnLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGlucHV0LCByZWY7XG4gICAgICAgICAgaW5wdXQgPSAnPGlucHV0IHR5cGU9XCJjaGVja2JveFwiIGNsYXNzPVwicmVsYXRlZC1pbnN0YW5jZXMtbGlzdC1jaGVja2JveFwiIG5hbWU9XCJyZWxhdGVkX2luc3RhbmNlc19pZHNcIiBpZD1cInJlbGF0ZWRfaW5zdGFuY2VzX2lkc1wiIHZhbHVlPVwiJyArIGRvYy5faWQgKyAnXCInO1xuICAgICAgICAgIGlmICgocmVmID0gVGFidWxhclRhYmxlcy5yZWxhdGVkX2luc3RhbmNlc190YWJ1bGFyLnJlbGF0ZWRfaW5zdGFuY2VzKSAhPSBudWxsID8gcmVmLmluY2x1ZGVzKGRvYy5faWQpIDogdm9pZCAwKSB7XG4gICAgICAgICAgICBpbnB1dCArPSBcIiBjaGVja2VkIFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpbnB1dCArPSBcIj5cIjtcbiAgICAgICAgICByZXR1cm4gaW5wdXQ7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJuYW1lXCIsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgIHdpZHRoOiAnNDUlJyxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhYnNvbHV0ZSwgaHJlZjtcbiAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc0NsaWVudCAmJiAoU3RlZWRvcy5pc01vYmlsZSgpIHx8IFN0ZWVkb3MuaXNDb3Jkb3ZhKCkpKSB7XG4gICAgICAgICAgICBocmVmID0gJyc7XG4gICAgICAgICAgfVxuICAgICAgICAgIGFic29sdXRlID0gZmFsc2U7XG4gICAgICAgICAgaWYgKE1ldGVvci5pc1NlcnZlcikge1xuICAgICAgICAgICAgYWJzb2x1dGUgPSB0aGlzLmFic29sdXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBpZiAoYWJzb2x1dGUpIHtcbiAgICAgICAgICAgIGhyZWYgPSBNZXRlb3IuYWJzb2x1dGVVcmwoXCJ3b3JrZmxvdy9zcGFjZS9cIiArIGRvYy5zcGFjZSArIFwiL3ZpZXcvcmVhZG9ubHkvXCIgKyBkb2MuX2lkICsgJz9oaWRlX3RyYWNlcz0wJyk7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGhyZWYgPSBTdGVlZG9zLmFic29sdXRlVXJsKFwid29ya2Zsb3cvc3BhY2UvXCIgKyBkb2Muc3BhY2UgKyBcIi92aWV3L3JlYWRvbmx5L1wiICsgZG9jLl9pZCArICc/aGlkZV90cmFjZXM9MCcpO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gKFwiPGEgZGF0YS1pZD0nXCIgKyBkb2MuX2lkICsgXCInIHRhcmdldD0nX2JsYW5rJyBocmVmPSdcIikgKyBocmVmICsgXCInPlwiICsgZG9jLm5hbWUgKyBcIjwvYT5cIjtcbiAgICAgICAgfVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2FwcGxpY2FudF9uYW1lXCIpLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19mbG93XCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGp1ZGdlLCBzdGVwX2N1cnJlbnRfbmFtZTtcbiAgICAgICAgICBpZiAoZG9jLnN0YXRlID09PSBcImNvbXBsZXRlZFwiKSB7XG4gICAgICAgICAgICBqdWRnZSA9IGRvYy5maW5hbF9kZWNpc2lvbiB8fCBcImFwcHJvdmVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHN0ZXBfY3VycmVudF9uYW1lID0gZG9jLmN1cnJlbnRfc3RlcF9uYW1lIHx8ICcnO1xuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgXSxcbiAgICBkb206IFwidHBcIixcbiAgICBsZW5ndGhDaGFuZ2U6IGZhbHNlLFxuICAgIGV4dHJhRmllbGRzOiBbXCJzdGF0ZVwiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwic3BhY2VcIiwgXCJrZXl3b3Jkc1wiXSxcbiAgICBwYWdlTGVuZ3RoOiAxMCxcbiAgICBpbmZvOiBmYWxzZSxcbiAgICBzZWFyY2hpbmc6IHRydWUsXG4gICAgcmVzcG9uc2l2ZToge1xuICAgICAgZGV0YWlsczogZmFsc2VcbiAgICB9LFxuICAgIGF1dG9XaWR0aDogZmFsc2UsXG4gICAgY2hhbmdlU2VsZWN0b3I6IGZ1bmN0aW9uKHNlbGVjdG9yLCB1c2VySWQpIHtcbiAgICAgIHZhciBjdXJTcGFjZVVzZXIsIGZsb3dfaWRzLCBmbG93cywgb3JnYW5pemF0aW9ucywgcmVmLCByZWYxLCBzcGFjZSwgc3BhY2VJZDtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLnNwYWNlO1xuICAgICAgaWYgKCFzcGFjZUlkKSB7XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYgPSBzZWxlY3Rvci4kYW5kKSAhPSBudWxsID8gcmVmLmxlbmd0aCA6IHZvaWQgMCA6IHZvaWQgMCkgPiAwKSB7XG4gICAgICAgICAgc3BhY2VJZCA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2VJZCkge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHNwYWNlID0gZGIuc3BhY2VzLmZpbmRPbmUoc3BhY2VJZCk7XG4gICAgICBpZiAoIXNwYWNlKSB7XG4gICAgICAgIHNlbGVjdG9yLnN0YXRlID0gXCJub25lXCI7XG4gICAgICB9XG4gICAgICBpZiAoIXNwYWNlLmFkbWlucy5pbmNsdWRlcyh1c2VySWQpKSB7XG4gICAgICAgIGZsb3dfaWRzID0gW107XG4gICAgICAgIGN1clNwYWNlVXNlciA9IGRiLnNwYWNlX3VzZXJzLmZpbmRPbmUoe1xuICAgICAgICAgIHNwYWNlOiBzcGFjZUlkLFxuICAgICAgICAgICd1c2VyJzogdXNlcklkXG4gICAgICAgIH0pO1xuICAgICAgICBpZiAoY3VyU3BhY2VVc2VyKSB7XG4gICAgICAgICAgb3JnYW5pemF0aW9ucyA9IGRiLm9yZ2FuaXphdGlvbnMuZmluZCh7XG4gICAgICAgICAgICBfaWQ6IHtcbiAgICAgICAgICAgICAgJGluOiBjdXJTcGFjZVVzZXIub3JnYW5pemF0aW9uc1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pLmZldGNoKCk7XG4gICAgICAgICAgZmxvd3MgPSBkYi5mbG93cy5maW5kKHtcbiAgICAgICAgICAgIHNwYWNlOiBzcGFjZUlkXG4gICAgICAgICAgfSk7XG4gICAgICAgICAgZmxvd3MuZm9yRWFjaChmdW5jdGlvbihmbCkge1xuICAgICAgICAgICAgaWYgKFdvcmtmbG93TWFuYWdlci5jYW5Nb25pdG9yKGZsLCBjdXJTcGFjZVVzZXIsIG9yZ2FuaXphdGlvbnMpIHx8IFdvcmtmbG93TWFuYWdlci5jYW5BZG1pbihmbCwgY3VyU3BhY2VVc2VyLCBvcmdhbml6YXRpb25zKSkge1xuICAgICAgICAgICAgICByZXR1cm4gZmxvd19pZHMucHVzaChmbC5faWQpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgICAgIGlmICgoc2VsZWN0b3IgIT0gbnVsbCA/IChyZWYxID0gc2VsZWN0b3IuJGFuZCkgIT0gbnVsbCA/IHJlZjEubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzZWxlY3Rvci4kYW5kWzBdLiRvciA9IFtcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgc3VibWl0dGVyOiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgYXBwbGljYW50OiB1c2VySWRcbiAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBvdXRib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICBjY191c2VyczogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAkaW46IGZsb3dfaWRzXG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICBdO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIF8uZXh0ZW5kKHNlbGVjdG9yLCB7XG4gICAgICAgICAgICAkb3I6IFtcbiAgICAgICAgICAgICAge1xuICAgICAgICAgICAgICAgIHN1Ym1pdHRlcjogdXNlcklkXG4gICAgICAgICAgICAgIH0sIHtcbiAgICAgICAgICAgICAgICBhcHBsaWNhbnQ6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgaW5ib3hfdXNlcnM6IHVzZXJJZFxuICAgICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICAgb3V0Ym94X3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGNjX3VzZXJzOiB1c2VySWRcbiAgICAgICAgICAgICAgfSwge1xuICAgICAgICAgICAgICAgIGZsb3c6IHtcbiAgICAgICAgICAgICAgICAgICRpbjogZmxvd19pZHNcbiAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIF1cbiAgICAgICAgICB9KTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgcmV0dXJuIHNlbGVjdG9yO1xuICAgIH1cbiAgfSk7XG59KTtcbiIsIlN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpXHJcblxyXG5cclxuX2hhbmRsZUxpc3RGaWVsZHMgPSAoZmllbGRzKSAtPlxyXG5cdGluc19maWVsZHMgPSBuZXcgQXJyYXkoKTtcclxuXHJcblx0ZmllbGRzPy5mb3JFYWNoIChmKS0+XHJcblx0XHRpZiBmLnR5cGUgPT0gJ3RhYmxlJ1xyXG5cdFx0XHRjb25zb2xlLmxvZyAnaWdub3JlIG9waW5pb24gZmllbGQgaW4gdGFibGUnXHJcblx0XHRlbHNlIGlmIGYudHlwZSA9PSAnc2VjdGlvbidcclxuXHRcdFx0Zj8uZmllbGRzPy5mb3JFYWNoIChmMSktPlxyXG5cdFx0XHRcdGluc19maWVsZHMucHVzaCBmMVxyXG5cdFx0ZWxzZVxyXG5cdFx0XHRpbnNfZmllbGRzLnB1c2ggZlxyXG5cclxuXHRyZXR1cm4gaW5zX2ZpZWxkc1xyXG5cclxuXHJcbnVwZGF0ZVRhYnVsYXJUaXRsZSA9ICgpLT5cclxuXHJcbiMg5aaC5p6cY29sdW1uc+acieWKoOWHj++8jOivt+S/ruaUuVRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucyDlh73mlbBcclxuaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhciA9IChmbG93SWQsIGZpZWxkcyktPlxyXG5cdG9wdGlvbnMgPSB7XHJcblx0XHRuYW1lOiBcImluc3RhbmNlc1wiLFxyXG5cdFx0Y29sbGVjdGlvbjogZGIuaW5zdGFuY2VzLFxyXG5cdFx0cHViOiBcImluc3RhbmNlX3RhYnVsYXJcIixcclxuXHRcdG9uVW5sb2FkOiAoKS0+XHJcblx0XHRcdE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKVxyXG5cclxuXHRcdGRyYXdDYWxsYmFjazogKHNldHRpbmdzKS0+XHJcblx0XHRcdGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIilcclxuXHRcdFx0aWYgZW1wdHlUZC5sZW5ndGhcclxuXHRcdFx0XHRlbXB0eVRkWzBdLmNvbFNwYW4gPSBcIjZcIlxyXG5cdFx0XHRpZiAhU3RlZWRvcy5pc01vYmlsZSgpICYmICFTdGVlZG9zLmlzUGFkKClcclxuXHRcdFx0XHRNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MClcclxuXHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikuc2Nyb2xsVG9wKDApLnJlYWR5IC0+XHJcblx0XHRcdFx0XHQkKFwiLmluc3RhbmNlLWxpc3RcIikucGVyZmVjdFNjcm9sbGJhcihcInVwZGF0ZVwiKVxyXG5cdFx0XHRlbHNlXHJcblx0XHRcdFx0JChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKVxyXG5cclxuXHRcdFx0dGl0bGUgPSB0IFwicGFnZXJfaW5wdXRfaGludFwiXHJcblx0XHRcdGVsbGlwc2lzTGluayA9IHNldHRpbmdzLm9JbnN0YW5jZS5wYXJlbnQoKS5maW5kKCcucGFnaW5nX251bWJlcnMgLnBhZ2luYXRpb24gLmRpc2FibGVkIGEnKVxyXG5cdFx0XHRlbGxpcHNpc0xpbmsuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5jc3MoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpLmNsaWNrIC0+XHJcblx0XHRcdFx0aWYgISQodGhpcykuZmluZCgnaW5wdXQnKS5sZW5ndGhcclxuXHRcdFx0XHRcdGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+JylcclxuXHRcdFx0XHRcdGlmIFN0ZWVkb3MuaXNNb2JpbGUoKVxyXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXHJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjIwcHhcIlxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRpbnB1dC5jc3Moe1xyXG5cdFx0XHRcdFx0XHRcdHdpZHRoOlwiNTJweFwiXHJcblx0XHRcdFx0XHRcdFx0aGVpZ2h0OiBcIjE2cHhcIlxyXG5cdFx0XHRcdFx0XHR9KVxyXG5cdFx0XHRcdFx0aW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpXHJcblx0XHRcdFx0XHQkKHRoaXMpLmVtcHR5KCkuYXBwZW5kIGlucHV0XHJcblx0XHRcdFx0XHRnb1BhZ2UgPSAoaW5kZXgpLT5cclxuXHRcdFx0XHRcdFx0aWYgaW5kZXggPiAwXHJcblx0XHRcdFx0XHRcdFx0cGFnZXMgPSBNYXRoLmNlaWwoc2V0dGluZ3MuZm5SZWNvcmRzRGlzcGxheSgpIC8gc2V0dGluZ3MuX2lEaXNwbGF5TGVuZ3RoKVxyXG5cdFx0XHRcdFx0XHRcdGlmIGluZGV4ID4gcGFnZXNcclxuXHRcdFx0XHRcdFx0XHRcdCMg6aG156CB6LaF5Ye657Si5byV5pe26Lez6L2s5Yiw5pyA5ZCO5LiA6aG1XHJcblx0XHRcdFx0XHRcdFx0XHRpbmRleCA9IHBhZ2VzXHJcblx0XHRcdFx0XHRcdFx0aW5kZXgtLVxyXG5cdFx0XHRcdFx0XHRcdHNldHRpbmdzLm9JbnN0YW5jZS5EYXRhVGFibGUoKS5wYWdlKGluZGV4KS5kcmF3KCdwYWdlJylcclxuXHRcdFx0XHRcdGlucHV0LmJsdXIgKGUpLT5cclxuXHRcdFx0XHRcdFx0Y3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpXHJcblx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxyXG5cdFx0XHRcdFx0XHQkKHRoaXMpLnBhcmVudCgpLmh0bWwgJy4uLidcclxuXHRcdFx0XHRcdGlucHV0LmtleWRvd24gKGUpLT5cclxuXHRcdFx0XHRcdFx0aWYoZS5rZXlDb2RlLnRvU3RyaW5nKCkgPT0gXCIxM1wiKVxyXG5cdFx0XHRcdFx0XHRcdGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKVxyXG5cdFx0XHRcdFx0XHRcdGdvUGFnZSBjdXJyZW50UGFnZVxyXG5cclxuXHRcdGNyZWF0ZWRSb3c6IChyb3csIGRhdGEsIGRhdGFJbmRleCkgLT5cclxuXHRcdFx0aWYgTWV0ZW9yLmlzQ2xpZW50XHJcblx0XHRcdFx0aWYgZGF0YS5faWQgPT0gRmxvd1JvdXRlci5jdXJyZW50KCkucGFyYW1zLmluc3RhbmNlSWRcclxuXHRcdFx0XHRcdHJvdy5zZXRBdHRyaWJ1dGUoXCJjbGFzc1wiLCBcInNlbGVjdGVkXCIpXHJcblx0XHRjb2x1bW5zOiBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIl9pZFwiLFxyXG5cdFx0XHRcdG9yZGVyYWJsZTogZmFsc2VcclxuXHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHRcdFx0XHRcdG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XHJcblxyXG5cdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2MubW9kaWZpZWRcclxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLnN0YXRlICE9ICdkcmFmdCdcclxuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWRcclxuXHJcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnb3V0Ym94JyB8fCBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnbW9uaXRvcidcclxuXHRcdFx0XHRcdFx0bW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlXHJcblxyXG5cdFx0XHRcdFx0bW9kaWZpZWRGcm9tTm93ID0gU3RlZWRvcy5tb21lbnRSZWFjdGl2ZUZyb21Ob3cobW9kaWZpZWQpO1xyXG5cdFx0XHRcdFx0Zmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZVxyXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcclxuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcclxuXHRcdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz4je2Zsb3dfbmFtZX08c3Bhbj4oI3tkb2MuY3VycmVudF9zdGVwX25hbWV9KTwvc3Bhbj48L2Rpdj5cIlxyXG5cdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSAhPSAnZHJhZnQnICYmIGRvYy5jdXJyZW50X3N0ZXBfbmFtZVxyXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PHNwYW4+KCN7ZG9jLmN1cnJlbnRfc3RlcF9uYW1lfSk8L3NwYW4+PC9kaXY+XCJcclxuXHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdHN0ZXBfY3VycmVudF9uYW1lX3ZpZXcgPSBcIjxkaXYgY2xhc3M9J2Zsb3ctbmFtZSc+I3tmbG93X25hbWV9PC9kaXY+XCJcclxuXHJcblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWUgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ2luYm94J1xyXG5cdFx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7dXNlck5hbWU6IGRvYy5hZ2VudF91c2VyX25hbWV9KSArIFwiKTwvbGFiZWw+XCJcclxuXHJcblx0XHRcdFx0XHR1bnJlYWQgPSAnJ1xyXG5cclxuXHRcdFx0XHRcdGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT0gZmFsc2VcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiaW9uIGlvbi1yZWNvcmQgdW5yZWFkXCI+PC9pPidcclxuXHRcdFx0XHRcdGVsc2UgaWYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT0gJ21vbml0b3InICYmIGRvYy5pc19oaWRkZW4gPT0gdHJ1ZVxyXG5cdFx0XHRcdFx0XHR1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPidcclxuXHJcblx0XHRcdFx0XHRwcmlvcml0eUljb24gPSBcIlwiXHJcblx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwiXCJcclxuXHRcdFx0XHRcdHByaW9yaXR5VmFsdWUgPSBkb2MudmFsdWVzPy5wcmlvcml0eVxyXG5cdFx0XHRcdFx0c3dpdGNoIHByaW9yaXR5VmFsdWVcclxuXHRcdFx0XHRcdFx0d2hlbiBcIueJueaApVwiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcImRhbmdlclwiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLntKfmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCJcclxuXHRcdFx0XHRcdFx0d2hlbiBcIuWKnuaWh1wiXHJcblx0XHRcdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCJcclxuXHRcdFx0XHRcdGlmIHByaW9yaXR5SWNvbkNsYXNzXHJcblx0XHRcdFx0XHRcdGluc3RhbmNlTmFtZVByaW9yaXR5Q2xhc3MgPSBcImNvbG9yLXByaW9yaXR5IGNvbG9yLXByaW9yaXR5LSN7cHJpb3JpdHlJY29uQ2xhc3N9XCJcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+I3t1bnJlYWR9PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lICN7aW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzc30nPiN7ZG9jLm5hbWV9I3tjY192aWV3fSN7YWdlbnRfdmlld31cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4+I3tkb2MuYXBwbGljYW50X25hbWV9PC9zcGFuPlxyXG5cdFx0XHRcdFx0XHRcdFx0PC9kaXY+XHJcblx0XHRcdFx0XHRcdFx0XHQ8ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPiN7c3RlcF9jdXJyZW50X25hbWVfdmlld31cclxuXHRcdFx0XHRcdFx0XHRcdFx0PHNwYW4gY2xhc3M9J2luc3RhbmNlLW1vZGlmaWVkJyB0aXRsZT0nI3ttb2RpZmllZFN0cmluZ30nPiN7bW9kaWZpZWRGcm9tTm93fTwvc3Bhbj5cclxuXHRcdFx0XHRcdFx0XHRcdDwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdFwiXCJcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19hcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm5hbWVcIixcclxuXHRcdFx0XHR0aXRsZTogdChcImluc3RhbmNlc19uYW1lXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0Y2NfdmlldyA9IFwiXCI7XHJcblx0XHRcdFx0XHRzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdCMg5b2T5YmN55So5oi35ZyoY2MgdXNlcuS4re+8jOS9huaYr+S4jeWcqGluYm94IHVzZXJz5pe25omN5pi+56S6J+S8oOmYhSfmloflrZdcclxuXHRcdFx0XHRcdGlmIGRvYy5pc19jYyAmJiAhZG9jLmluYm94X3VzZXJzPy5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdpbmJveCdcclxuXHRcdFx0XHRcdFx0Y2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCJcclxuXHJcblx0XHRcdFx0XHRhZ2VudF92aWV3ID0gXCJcIjtcclxuXHRcdFx0XHRcdGlmIGRvYy5hZ2VudF91c2VyX25hbWVcclxuXHRcdFx0XHRcdFx0YWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge3VzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lfSkgKyBcIik8L2xhYmVsPlwiXHJcblxyXG5cdFx0XHRcdFx0dW5yZWFkID0gJydcclxuXHJcblx0XHRcdFx0XHRpZiBTZXNzaW9uLmdldChcImJveFwiKSA9PSAnaW5ib3gnICYmIGRvYy5pc19yZWFkID09IGZhbHNlXHJcblx0XHRcdFx0XHRcdHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nXHJcblx0XHRcdFx0XHRlbHNlIGlmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09IHRydWVcclxuXHRcdFx0XHRcdFx0dW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nXHJcblxyXG5cdFx0XHRcdFx0cHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiXHJcblx0XHRcdFx0XHRwcmlvcml0eVZhbHVlID0gZG9jLnZhbHVlcz8ucHJpb3JpdHlcclxuXHRcdFx0XHRcdHN3aXRjaCBwcmlvcml0eVZhbHVlXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLnibnmgKVcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIlxyXG5cdFx0XHRcdFx0XHR3aGVuIFwi57Sn5oClXCJcclxuXHRcdFx0XHRcdFx0XHRwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiXHJcblx0XHRcdFx0XHRcdHdoZW4gXCLlip7mlodcIlxyXG5cdFx0XHRcdFx0XHRcdHByaW9yaXR5SWNvbkNsYXNzID0gXCJtdXRlZFwiXHJcblx0XHRcdFx0XHRpZiBwcmlvcml0eUljb25DbGFzc1xyXG5cdFx0XHRcdFx0XHRpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS0je3ByaW9yaXR5SWNvbkNsYXNzfVwiXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdFx0PGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPiN7dW5yZWFkfTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgI3tpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzfSc+I3tkb2MubmFtZX0je2NjX3ZpZXd9I3thZ2VudF92aWV3fTwvZGl2PlxyXG5cdFx0XHRcdFx0XHRcIlwiXCJcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImFwcGxpY2FudF9uYW1lXCIsXHJcblx0XHRcdFx0dGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJzdWJtaXRfZGF0ZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N1Ym1pdF9kYXRlXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN1Ym1pdF9kYXRlXHJcblx0XHRcdFx0XHRcdHJldHVybiBtb21lbnQoZG9jLnN1Ym1pdF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImZsb3dfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJjdXJyZW50X3N0ZXBfbmFtZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0ZXBfY3VycmVudF9uYW1lXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0aWYgZG9jLnN0YXRlID09IFwiY29tcGxldGVkXCJcclxuXHRcdFx0XHRcdFx0anVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiXHJcblxyXG5cdFx0XHRcdFx0c3RlcF9jdXJyZW50X25hbWUgPSBkb2MuY3VycmVudF9zdGVwX25hbWUgfHwgJydcclxuXHJcblx0XHRcdFx0XHRjY190YWcgPSAnJ1xyXG5cclxuXHRcdFx0XHRcdGlmIGRvYy5jY19jb3VudCA+IDBcclxuXHRcdFx0XHRcdFx0Y2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJylcclxuXHJcblx0XHRcdFx0XHRyZXR1cm4gXCJcIlwiXHJcblx0XHRcdFx0XHRcdDxkaXYgY2xhc3M9XCJzdGVwLWN1cnJlbnQtc3RhdGUgI3tqdWRnZX1cIj4je3N0ZXBfY3VycmVudF9uYW1lfSN7Y2NfdGFnfTwvZGl2PlxyXG5cdFx0XHRcdFx0XCJcIlwiXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJtb2RpZmllZFwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxyXG5cdFx0XHRcdHJlbmRlcjogKHZhbCwgdHlwZSwgZG9jKSAtPlxyXG5cdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxyXG5cdFx0XHRcdHRpdGxlOiB0KFwiaW5zdGFuY2VzX3N0YXJ0X2RhdGVcIiksXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2Muc3RhcnRfZGF0ZVxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcclxuXHRcdFx0XHQsXHJcblx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0b3JkZXJhYmxlOiB0cnVlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcIm15X2ZpbmlzaF9kYXRlXCIsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2MubXlfZmluaXNoX2RhdGVcclxuXHRcdFx0XHRcdFx0cmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xyXG5cdFx0XHRcdCxcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZSxcclxuXHRcdFx0XHRvcmRlcmFibGU6IHRydWVcclxuXHRcdFx0fSxcclxuXHRcdFx0e1xyXG5cdFx0XHRcdGRhdGE6IFwibW9kaWZpZWRcIixcclxuXHRcdFx0XHR2aXNpYmxlOiBmYWxzZVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0ZGF0YTogXCJrZXl3b3Jkc1wiLFxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHRkYXRhOiBcImlzX2FyY2hpdmVkXCIsXHJcblx0XHRcdFx0cmVuZGVyOiAodmFsLCB0eXBlLCBkb2MpIC0+XHJcblx0XHRcdFx0XHRpZiBkb2M/LnZhbHVlcz8ucmVjb3JkX25lZWQgJiYgZG9jLnZhbHVlcy5yZWNvcmRfbmVlZCA9PSBcInRydWVcIlxyXG5cdFx0XHRcdFx0XHRpZiBkb2M/LmlzX2FyY2hpdmVkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJZRVNcIilcclxuXHRcdFx0XHRcdFx0cmV0dXJuIHQoXCJOT1wiKVxyXG5cdFx0XHRcdHZpc2libGU6IGZhbHNlXHJcblx0XHRcdFx0b3JkZXJhYmxlOiBmYWxzZVxyXG5cdFx0XHR9XHJcblx0XHRdLFxyXG5cdFx0ZG9tOiBkbyAtPlxyXG5cdFx0XHQjIOaJi+acuuS4iuS4jeaYvuekuuS4gOmhteaYvuekuuWkmuWwkeadoeiusOW9lemAiemhuVxyXG5cdFx0XHRpZiBTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdFx0XHQndHAnXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHQndHBsJ1xyXG5cdFx0b3JkZXI6IFtbNCwgXCJkZXNjXCJdXSxcclxuXHRcdGV4dHJhRmllbGRzOiBbXCJmb3JtXCIsIFwiZmxvd1wiLCBcImluYm94X3VzZXJzXCIsIFwic3RhdGVcIiwgXCJzcGFjZVwiLCBcImFwcGxpY2FudFwiLCBcImZvcm1fdmVyc2lvblwiLFxyXG5cdFx0XHRcImZsb3dfdmVyc2lvblwiLCBcImlzX2NjXCIsIFwiY2NfY291bnRcIiwgXCJpc19yZWFkXCIsIFwiY3VycmVudF9zdGVwX25hbWVcIiwgXCJ2YWx1ZXNcIiwgXCJrZXl3b3Jkc1wiLCBcImZpbmFsX2RlY2lzaW9uXCIsIFwiZmxvd19uYW1lXCIsIFwiaXNfaGlkZGVuXCIsIFwiYWdlbnRfdXNlcl9uYW1lXCJdLFxyXG5cdFx0bGVuZ3RoQ2hhbmdlOiB0cnVlLFxyXG5cdFx0bGVuZ3RoTWVudTogWzEwLDE1LDIwLDI1LDUwLDEwMF0sXHJcblx0XHRwYWdlTGVuZ3RoOiAxMCxcclxuXHRcdGluZm86IGZhbHNlLFxyXG5cdFx0c2VhcmNoaW5nOiB0cnVlLFxyXG5cdFx0cmVzcG9uc2l2ZTpcclxuXHRcdFx0ZGV0YWlsczogZmFsc2VcclxuXHRcdGF1dG9XaWR0aDogZmFsc2UsXHJcblx0XHRjaGFuZ2VTZWxlY3RvcjogKHNlbGVjdG9yLCB1c2VySWQpIC0+XHJcblx0XHRcdHVubGVzcyB1c2VySWRcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlID0gc2VsZWN0b3Iuc3BhY2VcclxuXHRcdFx0dW5sZXNzIHNwYWNlXHJcblx0XHRcdFx0aWYgc2VsZWN0b3I/LiRhbmQ/Lmxlbmd0aCA+IDBcclxuXHRcdFx0XHRcdHNwYWNlID0gc2VsZWN0b3IuJGFuZC5nZXRQcm9wZXJ0eSgnc3BhY2UnKVswXVxyXG5cdFx0XHR1bmxlc3Mgc3BhY2VcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHNwYWNlX3VzZXIgPSBkYi5zcGFjZV91c2Vycy5maW5kT25lKHt1c2VyOiB1c2VySWQsIHNwYWNlOiBzcGFjZX0sIHtmaWVsZHM6IHtfaWQ6IDF9fSlcclxuXHRcdFx0dW5sZXNzIHNwYWNlX3VzZXJcclxuXHRcdFx0XHRyZXR1cm4ge19pZDogLTF9XHJcblx0XHRcdHJldHVybiBzZWxlY3RvclxyXG5cdFx0cGFnaW5nVHlwZTogXCJudW1iZXJzXCJcclxuXHJcblx0fVxyXG5cclxuXHRpZiBmbG93SWRcclxuXHRcdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBmbG93SWRcclxuXHJcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcclxuXHJcblx0XHRUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHNcclxuXHJcblx0XHRpbnNfZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMgVGFidWxhclRhYmxlcy5pbnN0YW5jZXMuZmllbGRzXHJcblxyXG5cdFx0aW5zX2ZpZWxkcy5mb3JFYWNoIChmKS0+XHJcblx0XHRcdGlmIGYudHlwZSAhPSAndGFibGUnICYmIGYuaXNfbGlzdF9kaXNwbGF5XHJcblx0XHRcdFx0b3B0aW9ucy5jb2x1bW5zLnB1c2hcclxuXHRcdFx0XHRcdGRhdGE6IChmLm5hbWUgfHwgZi5jb2RlKSxcclxuXHRcdFx0XHRcdHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxyXG5cdFx0XHRcdFx0dmlzaWJsZTogZmFsc2UsXHJcblx0XHRcdFx0XHRvcmRlcmFibGU6IGZhbHNlXHJcblx0XHRcdFx0XHRyZW5kZXI6ICh2YWwsIHR5cGUsIGRvYykgLT5cclxuXHJcblx0XHRcdFx0XHRcdHZhbHVlcyA9IGRvYy52YWx1ZXMgfHwge31cclxuXHJcblx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVzW2YuY29kZV1cclxuXHJcblx0XHRcdFx0XHRcdHN3aXRjaCBmLnR5cGVcclxuXHRcdFx0XHRcdFx0XHR3aGVuICd1c2VyJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8ubmFtZVxyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ2dyb3VwJ1xyXG5cdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSB2YWx1ZT8uZnVsbG5hbWVcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdkYXRlJ1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0dmFsdWUgPSBtb21lbnQodmFsdWUpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXHJcblx0XHRcdFx0XHRcdFx0d2hlbiAnZGF0ZVRpbWUnXHJcblx0XHRcdFx0XHRcdFx0XHRpZiB2YWx1ZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJylcclxuXHRcdFx0XHRcdFx0XHR3aGVuICdjaGVja2JveCdcclxuXHRcdFx0XHRcdFx0XHRcdGlmIHZhbHVlID09IHRydWUgfHwgdmFsdWUgPT0gJ3RydWUnXHJcblx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xyXG5cdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHR2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xyXG5cdFx0XHRcdFx0XHRcdHdoZW4gJ29kYXRhJ1xyXG5cdFx0XHRcdFx0XHRcdFx0aWYgdmFsdWVcclxuXHRcdFx0XHRcdFx0XHRcdFx0aWYgXy5pc0FycmF5KHZhbHVlKVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gXy5wbHVjayh2YWx1ZSwgJ0BsYWJlbCcpLnRvU3RyaW5nKClcclxuXHRcdFx0XHRcdFx0XHRcdFx0ZWxzZVxyXG5cdFx0XHRcdFx0XHRcdFx0XHRcdHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddXHJcblxyXG5cdFx0XHRcdFx0XHRyZXR1cm4gdmFsdWVcclxuXHJcblxyXG5cdHJldHVybiBvcHRpb25zO1xyXG5cclxuTWV0ZW9yLnN0YXJ0dXAgKCktPlxyXG5cdFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcigpXHJcblxyXG5cclxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxyXG5cdGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWRcclxuXHRpZiBib3ggPT0gXCJpbmJveFwiXHJcblx0XHRvcHRpb25zID0gX2dldF9pbmJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxyXG5cdGVsc2UgaWYgYm94ID09IFwib3V0Ym94XCJcclxuXHRcdG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKVxyXG5cdGVsc2VcclxuXHRcdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxyXG5cdFx0aWYgIWZsb3dJZFxyXG5cdFx0XHRvcHRpb25zLm5hbWUgPSBcImluYm94X2luc3RhbmNlc1wiXHJcblx0aWYgZmxvd0lkXHJcblx0XHRvcHRpb25zLm5hbWUgPSBrZXlcclxuXHRyZXR1cm4gb3B0aW9uc1xyXG5cclxuXHJcblxyXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSAoZmxvd0lkLCBmaWVsZHMpLT5cclxuXHRvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcylcclxuXHJcblx0aWYgIWZsb3dJZFxyXG5cdFx0b3B0aW9ucy5uYW1lID0gXCJpbmJveF9pbnN0YW5jZXNcIlxyXG5cclxuXHRvcHRpb25zLm9yZGVyID0gW1s4LCBcImRlc2NcIl1dXHJcblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cclxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkcHJvamVjdDoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiBmYWxzZVxyXG5cdFx0XHRcdFx0J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWQsXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcclxuXHRcdFx0czEgPSBzb3J0WzBdXHJcblx0XHRcdHMxXzAgPSBzMVswXVxyXG5cdFx0XHRzMV8xID0gczFbMV1cclxuXHRcdFx0aWYgczFfMCA9PSAnc3RhcnRfZGF0ZSdcclxuXHJcblx0XHRcdFx0ZmluZE9wdGlvbnMuc29ydCA9IFtbJ21vZGlmaWVkJywgczFfMV1dXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCAkZ3JvdXA6IHtfaWQ6IFwiJF9pZFwiLCBcImFwcHJvdmVfc3RhcnRfZGF0ZVwiOiB7JGZpcnN0OiBcIiRfYXBwcm92ZS5zdGFydF9kYXRlXCJ9fVxyXG5cclxuXHRcdFx0XHRhZ19zb3J0ID0gJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcclxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxyXG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cclxuXHRcdFx0XHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGlmIGNiXHJcblx0XHRcdFx0XHRcdFx0Y2IoKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdHJldHVybiBvcHRpb25zXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5pbmJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcImluYm94XCIpXHJcblxyXG5cclxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IChmbG93SWQsIGZpZWxkcyktPlxyXG5cdG9wdGlvbnMgPSBpbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyKGZsb3dJZCwgZmllbGRzKVxyXG5cclxuXHRpZiAhZmxvd0lkXHJcblx0XHRvcHRpb25zLm5hbWUgPSBcIm91dGJveF9pbnN0YW5jZXNcIlxyXG5cclxuXHRvcHRpb25zLm9yZGVyID0gW1s5LCBcImRlc2NcIl1dXHJcblx0b3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9ICh0YWJsZSwgc2VsZWN0b3IsIHNvcnQsIHNraXAsIGxpbWl0LCBvbGRfZmlsdGVyZWRSZWNvcmRJZHMsIHVzZXJJZCwgZmluZE9wdGlvbnMpLT5cclxuXHRcdGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkbWF0Y2g6IHNlbGVjdG9yXHJcblx0XHRcdH0sXHJcblx0XHRcdHtcclxuXHRcdFx0XHQkcHJvamVjdDoge1xyXG5cdFx0XHRcdFx0bmFtZTogMSxcclxuXHRcdFx0XHRcdFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JHVud2luZDogXCIkX2FwcHJvdmVcIlxyXG5cdFx0XHR9LFxyXG5cdFx0XHR7XHJcblx0XHRcdFx0JG1hdGNoOiB7XHJcblx0XHRcdFx0XHQnX2FwcHJvdmUuaXNfZmluaXNoZWQnOiB0cnVlXHJcblx0XHRcdFx0XHQkb3I6IFt7J19hcHByb3ZlLmhhbmRsZXInOiB1c2VySWR9LHsnX2FwcHJvdmUudXNlcic6IHVzZXJJZH1dXHJcblx0XHRcdFx0fVxyXG5cdFx0XHR9XHJcblx0XHRdXHJcblx0XHRpZiBzb3J0IGFuZCBzb3J0Lmxlbmd0aCA+IDBcclxuXHRcdFx0czEgPSBzb3J0WzBdXHJcblx0XHRcdHMxXzAgPSBzMVswXVxyXG5cdFx0XHRzMV8xID0gczFbMV1cclxuXHRcdFx0aWYgczFfMCA9PSAnbXlfZmluaXNoX2RhdGUnXHJcblxyXG5cdFx0XHRcdGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXVxyXG5cclxuXHRcdFx0XHRhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2ggJGdyb3VwOiB7X2lkOiBcIiRfaWRcIiwgXCJhcHByb3ZlX2ZpbmlzaF9kYXRlXCI6IHskbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIn19XHJcblxyXG5cdFx0XHRcdGFnX3NvcnQgPSAnYXBwcm92ZV9maW5pc2hfZGF0ZSc6IGlmIHMxXzEgPT0gJ2FzYycgdGhlbiAxIGVsc2UgLTFcclxuXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRzb3J0OiBhZ19zb3J0XHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRza2lwOiBza2lwXHJcblx0XHRcdFx0YWdncmVnYXRlX29wZXJhdGlvbi5wdXNoICRsaW1pdDogbGltaXRcclxuXHRcdFx0XHRmaWx0ZXJlZFJlY29yZElkcyA9IG5ldyBBcnJheSgpXHJcblxyXG5cdFx0XHRcdGFnZ3JlZ2F0ZSA9ICh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMsIGNiKSAtPlxyXG5cdFx0XHRcdFx0dGFibGUuY29sbGVjdGlvbi5yYXdDb2xsZWN0aW9uKCkuYWdncmVnYXRlKGFnZ3JlZ2F0ZV9vcGVyYXRpb24pLnRvQXJyYXkgKGVyciwgZGF0YSkgLT5cclxuXHRcdFx0XHRcdFx0aWYgZXJyXHJcblx0XHRcdFx0XHRcdFx0dGhyb3cgbmV3IEVycm9yKGVycilcclxuXHRcdFx0XHRcdFx0ZGF0YS5mb3JFYWNoIChkb2MpIC0+XHJcblx0XHRcdFx0XHRcdFx0ZmlsdGVyZWRSZWNvcmRJZHMucHVzaCBkb2MuX2lkXHJcblx0XHRcdFx0XHRcdFx0cmV0dXJuXHJcblx0XHRcdFx0XHRcdGlmIGNiXHJcblx0XHRcdFx0XHRcdFx0Y2IoKVxyXG5cdFx0XHRcdFx0XHRyZXR1cm5cclxuXHRcdFx0XHRcdHJldHVyblxyXG5cclxuXHRcdFx0XHRhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSlcclxuXHJcblx0XHRcdFx0YXN5bmNfYWdncmVnYXRlIHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkc1xyXG5cclxuXHRcdFx0XHRyZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpXHJcblx0XHRcdGVsc2VcclxuXHRcdFx0XHRyZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzXHJcblxyXG5cdHJldHVybiBvcHRpb25zXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VGFidWxhclRhYmxlcy5vdXRib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJvdXRib3hcIilcclxuXHJcbmlmIE1ldGVvci5pc0NsaWVudFxyXG5cdFRhYnVsYXJUYWJsZXMuZmxvd0luc3RhbmNlcyA9IG5ldyBSZWFjdGl2ZVZhcigpXHJcblxyXG5NZXRlb3Iuc3RhcnR1cCAoKS0+XHJcblx0VHJhY2tlci5hdXRvcnVuIChjKSAtPlxyXG5cdFx0aWYgTWV0ZW9yLmlzQ2xpZW50ICYmICFTdGVlZG9zLmlzTW9iaWxlKClcclxuXHRcdFx0aWYgU2Vzc2lvbi5nZXQoXCJmbG93SWRcIikgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgIT0gJ2RyYWZ0J1xyXG5cdFx0XHRcdE1ldGVvci5jYWxsIFwibmV3SW5zdGFuY2VzTGlzdFRhYnVsYXJcIiwgU2Vzc2lvbi5nZXQoXCJib3hcIiksIFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpLCAoZXJyb3IsIHJlc3VsdCkgLT5cclxuXHRcdFx0XHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0XHJcblx0XHRcdFx0XHRUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll9jaGFuZ2VPcmRlcigpXHJcblxyXG5cclxubmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIgPSAoYm94LCBmbG93SWQsIGZpZWxkcyktPlxyXG5cdGlmICFmaWVsZHNcclxuXHRcdGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtfaWQ6IGZsb3dJZH0sIHtmaWVsZHM6IHtmb3JtOiAxfX0pXHJcblx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXHJcblxyXG5cdGZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzIGZpZWxkc1xyXG5cclxuXHRpZiBmaWVsZHM/LmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpPy5sZW5ndGggPiAwXHJcblx0XHRrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgYm94ICsgZmxvd0lkXHJcblx0XHRpZiBNZXRlb3IuaXNDbGllbnRcclxuXHRcdFx0VGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZSBHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSlcclxuXHRcdGVsc2VcclxuXHRcdFx0bmV3IFRhYnVsYXIuVGFibGUgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoYm94LCBmbG93SWQsIGZpZWxkcylcclxuXHRcdGNvbnNvbGUubG9nIFwibmV3IFRhYnVsYXJUYWJsZXMgXCIsIGtleVxyXG5cclxuaWYgTWV0ZW9yLmlzU2VydmVyXHJcblx0TWV0ZW9yLm1ldGhvZHNcclxuXHRcdG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyOiAoYm94LCBmbG93SWQpLT5cclxuXHRcdFx0bmV3SW5zdGFuY2VzTGlzdFRhYnVsYXIoYm94LCBmbG93SWQpXHJcblxyXG5cdFx0XHRmbG93ID0gZGIuZmxvd3MuZmluZE9uZSh7X2lkOiBmbG93SWR9LCB7ZmllbGRzOiB7Zm9ybTogMX19KVxyXG5cdFx0XHRmaWVsZHMgPSBkYi5mb3Jtcy5maW5kT25lKHsgX2lkOiBmbG93Py5mb3JtIH0sIHsgZmllbGRzOiB7ICdjdXJyZW50LmZpZWxkcyc6IDEgfSB9KT8uY3VycmVudD8uZmllbGRzXHJcblx0XHRcdHJldHVybiBmaWVsZHNcclxuXHJcblxyXG4iLCJ2YXIgR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMsIF9nZXRfaW5ib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucywgX2hhbmRsZUxpc3RGaWVsZHMsIGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIsIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyLCB1cGRhdGVUYWJ1bGFyVGl0bGU7XG5cblN0ZWVkb3Muc3Vic1tcIkluc3RhbmNlVGFidWxhclwiXSA9IG5ldyBTdWJzTWFuYWdlcigpO1xuXG5faGFuZGxlTGlzdEZpZWxkcyA9IGZ1bmN0aW9uKGZpZWxkcykge1xuICB2YXIgaW5zX2ZpZWxkcztcbiAgaW5zX2ZpZWxkcyA9IG5ldyBBcnJheSgpO1xuICBpZiAoZmllbGRzICE9IG51bGwpIHtcbiAgICBmaWVsZHMuZm9yRWFjaChmdW5jdGlvbihmKSB7XG4gICAgICB2YXIgcmVmO1xuICAgICAgaWYgKGYudHlwZSA9PT0gJ3RhYmxlJykge1xuICAgICAgICByZXR1cm4gY29uc29sZS5sb2coJ2lnbm9yZSBvcGluaW9uIGZpZWxkIGluIHRhYmxlJyk7XG4gICAgICB9IGVsc2UgaWYgKGYudHlwZSA9PT0gJ3NlY3Rpb24nKSB7XG4gICAgICAgIHJldHVybiBmICE9IG51bGwgPyAocmVmID0gZi5maWVsZHMpICE9IG51bGwgPyByZWYuZm9yRWFjaChmdW5jdGlvbihmMSkge1xuICAgICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZjEpO1xuICAgICAgICB9KSA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBpbnNfZmllbGRzLnB1c2goZik7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbiAgcmV0dXJuIGluc19maWVsZHM7XG59O1xuXG51cGRhdGVUYWJ1bGFyVGl0bGUgPSBmdW5jdGlvbigpIHt9O1xuXG5pbnN0YW5jZXNMaXN0VGFibGVUYWJ1bGFyID0gZnVuY3Rpb24oZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGluc19maWVsZHMsIGtleSwgb3B0aW9ucztcbiAgb3B0aW9ucyA9IHtcbiAgICBuYW1lOiBcImluc3RhbmNlc1wiLFxuICAgIGNvbGxlY3Rpb246IGRiLmluc3RhbmNlcyxcbiAgICBwdWI6IFwiaW5zdGFuY2VfdGFidWxhclwiLFxuICAgIG9uVW5sb2FkOiBmdW5jdGlvbigpIHtcbiAgICAgIHJldHVybiBNZXRlb3Iuc2V0VGltZW91dChUZW1wbGF0ZS5pbnN0YW5jZV9saXN0Ll90YWJsZUNvbHVtbnMsIDE1MCk7XG4gICAgfSxcbiAgICBkcmF3Q2FsbGJhY2s6IGZ1bmN0aW9uKHNldHRpbmdzKSB7XG4gICAgICB2YXIgZWxsaXBzaXNMaW5rLCBlbXB0eVRkLCB0aXRsZTtcbiAgICAgIGVtcHR5VGQgPSAkKFwiLmRhdGFUYWJsZXNfZW1wdHlcIik7XG4gICAgICBpZiAoZW1wdHlUZC5sZW5ndGgpIHtcbiAgICAgICAgZW1wdHlUZFswXS5jb2xTcGFuID0gXCI2XCI7XG4gICAgICB9XG4gICAgICBpZiAoIVN0ZWVkb3MuaXNNb2JpbGUoKSAmJiAhU3RlZWRvcy5pc1BhZCgpKSB7XG4gICAgICAgIE1ldGVvci5zZXRUaW1lb3V0KFRlbXBsYXRlLmluc3RhbmNlX2xpc3QuX3RhYmxlQ29sdW1ucywgMTUwKTtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKS5yZWFkeShmdW5jdGlvbigpIHtcbiAgICAgICAgICByZXR1cm4gJChcIi5pbnN0YW5jZS1saXN0XCIpLnBlcmZlY3RTY3JvbGxiYXIoXCJ1cGRhdGVcIik7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgJChcIi5pbnN0YW5jZS1saXN0XCIpLnNjcm9sbFRvcCgwKTtcbiAgICAgIH1cbiAgICAgIHRpdGxlID0gdChcInBhZ2VyX2lucHV0X2hpbnRcIik7XG4gICAgICBlbGxpcHNpc0xpbmsgPSBzZXR0aW5ncy5vSW5zdGFuY2UucGFyZW50KCkuZmluZCgnLnBhZ2luZ19udW1iZXJzIC5wYWdpbmF0aW9uIC5kaXNhYmxlZCBhJyk7XG4gICAgICByZXR1cm4gZWxsaXBzaXNMaW5rLmF0dHIoXCJ0aXRsZVwiLCB0aXRsZSkuY3NzKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKS5jbGljayhmdW5jdGlvbigpIHtcbiAgICAgICAgdmFyIGdvUGFnZSwgaW5wdXQ7XG4gICAgICAgIGlmICghJCh0aGlzKS5maW5kKCdpbnB1dCcpLmxlbmd0aCkge1xuICAgICAgICAgIGlucHV0ID0gJCgnPGlucHV0IGNsYXNzPVwicGFnaW5hdGVfaW5wdXQgZm9ybS1jb250cm9sIGlucHV0LXNtXCIgdHlwZT1cInRleHRcIiBzdHlsZT1cImJvcmRlcjogbm9uZTsgcGFkZGluZzowIDJweDtcIi8+Jyk7XG4gICAgICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMjBweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgaW5wdXQuY3NzKHtcbiAgICAgICAgICAgICAgd2lkdGg6IFwiNTJweFwiLFxuICAgICAgICAgICAgICBoZWlnaHQ6IFwiMTZweFwiXG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgaW5wdXQuYXR0cihcInRpdGxlXCIsIHRpdGxlKS5hdHRyKFwicGxhY2Vob2xkZXJcIiwgdGl0bGUpO1xuICAgICAgICAgICQodGhpcykuZW1wdHkoKS5hcHBlbmQoaW5wdXQpO1xuICAgICAgICAgIGdvUGFnZSA9IGZ1bmN0aW9uKGluZGV4KSB7XG4gICAgICAgICAgICB2YXIgcGFnZXM7XG4gICAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICAgIHBhZ2VzID0gTWF0aC5jZWlsKHNldHRpbmdzLmZuUmVjb3Jkc0Rpc3BsYXkoKSAvIHNldHRpbmdzLl9pRGlzcGxheUxlbmd0aCk7XG4gICAgICAgICAgICAgIGlmIChpbmRleCA+IHBhZ2VzKSB7XG4gICAgICAgICAgICAgICAgaW5kZXggPSBwYWdlcztcbiAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICBpbmRleC0tO1xuICAgICAgICAgICAgICByZXR1cm4gc2V0dGluZ3Mub0luc3RhbmNlLkRhdGFUYWJsZSgpLnBhZ2UoaW5kZXgpLmRyYXcoJ3BhZ2UnKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9O1xuICAgICAgICAgIGlucHV0LmJsdXIoZnVuY3Rpb24oZSkge1xuICAgICAgICAgICAgdmFyIGN1cnJlbnRQYWdlO1xuICAgICAgICAgICAgY3VycmVudFBhZ2UgPSAkKHRoaXMpLnZhbCgpO1xuICAgICAgICAgICAgZ29QYWdlKGN1cnJlbnRQYWdlKTtcbiAgICAgICAgICAgIHJldHVybiAkKHRoaXMpLnBhcmVudCgpLmh0bWwoJy4uLicpO1xuICAgICAgICAgIH0pO1xuICAgICAgICAgIHJldHVybiBpbnB1dC5rZXlkb3duKGZ1bmN0aW9uKGUpIHtcbiAgICAgICAgICAgIHZhciBjdXJyZW50UGFnZTtcbiAgICAgICAgICAgIGlmIChlLmtleUNvZGUudG9TdHJpbmcoKSA9PT0gXCIxM1wiKSB7XG4gICAgICAgICAgICAgIGN1cnJlbnRQYWdlID0gJCh0aGlzKS52YWwoKTtcbiAgICAgICAgICAgICAgcmV0dXJuIGdvUGFnZShjdXJyZW50UGFnZSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH0sXG4gICAgY3JlYXRlZFJvdzogZnVuY3Rpb24ocm93LCBkYXRhLCBkYXRhSW5kZXgpIHtcbiAgICAgIGlmIChNZXRlb3IuaXNDbGllbnQpIHtcbiAgICAgICAgaWYgKGRhdGEuX2lkID09PSBGbG93Um91dGVyLmN1cnJlbnQoKS5wYXJhbXMuaW5zdGFuY2VJZCkge1xuICAgICAgICAgIHJldHVybiByb3cuc2V0QXR0cmlidXRlKFwiY2xhc3NcIiwgXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0sXG4gICAgY29sdW1uczogW1xuICAgICAge1xuICAgICAgICBkYXRhOiBcIl9pZFwiLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIGFnZW50X3ZpZXcsIGNjX3ZpZXcsIGZsb3dfbmFtZSwgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcywgbW9kaWZpZWQsIG1vZGlmaWVkRnJvbU5vdywgbW9kaWZpZWRTdHJpbmcsIHByaW9yaXR5SWNvbiwgcHJpb3JpdHlJY29uQ2xhc3MsIHByaW9yaXR5VmFsdWUsIHJlZiwgcmVmMSwgc3RlcF9jdXJyZW50X25hbWVfdmlldywgdW5yZWFkO1xuICAgICAgICAgIG1vZGlmaWVkU3RyaW5nID0gbW9tZW50KGRvYy5tb2RpZmllZCkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgbW9kaWZpZWQgPSBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnICYmIGRvYy5zdGF0ZSAhPT0gJ2RyYWZ0Jykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3RhcnRfZGF0ZSB8fCBkb2MubW9kaWZpZWQ7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ291dGJveCcgfHwgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJykge1xuICAgICAgICAgICAgbW9kaWZpZWQgPSBkb2Muc3VibWl0X2RhdGUgfHwgZG9jLnN1Ym1pdF9kYXRlO1xuICAgICAgICAgIH1cbiAgICAgICAgICBtb2RpZmllZEZyb21Ob3cgPSBTdGVlZG9zLm1vbWVudFJlYWN0aXZlRnJvbU5vdyhtb2RpZmllZCk7XG4gICAgICAgICAgZmxvd19uYW1lID0gZG9jLmZsb3dfbmFtZTtcbiAgICAgICAgICBjY192aWV3ID0gXCJcIjtcbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmlzX2NjICYmICEoKHJlZiA9IGRvYy5pbmJveF91c2VycykgIT0gbnVsbCA/IHJlZi5pbmNsdWRlcyhNZXRlb3IudXNlcklkKCkpIDogdm9pZCAwKSAmJiBTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94Jykge1xuICAgICAgICAgICAgY2NfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXyhcImluc3RhbmNlX2NjX3RpdGxlXCIpICsgXCIpPC9sYWJlbD4gXCI7XG4gICAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZV92aWV3ID0gXCI8ZGl2IGNsYXNzPSdmbG93LW5hbWUnPlwiICsgZmxvd19uYW1lICsgXCI8c3Bhbj4oXCIgKyBkb2MuY3VycmVudF9zdGVwX25hbWUgKyBcIik8L3NwYW4+PC9kaXY+XCI7XG4gICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSAhPT0gJ2RyYWZ0JyAmJiBkb2MuY3VycmVudF9zdGVwX25hbWUpIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPHNwYW4+KFwiICsgZG9jLmN1cnJlbnRfc3RlcF9uYW1lICsgXCIpPC9zcGFuPjwvZGl2PlwiO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiPGRpdiBjbGFzcz0nZmxvdy1uYW1lJz5cIiArIGZsb3dfbmFtZSArIFwiPC9kaXY+XCI7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuICAgICAgICAgIGFnZW50X3ZpZXcgPSBcIlwiO1xuICAgICAgICAgIGlmIChkb2MuYWdlbnRfdXNlcl9uYW1lICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnaW5ib3gnKSB7XG4gICAgICAgICAgICBhZ2VudF92aWV3ID0gXCI8bGFiZWwgY2xhc3M9J2NjLWxhYmVsJz4oXCIgKyBUQVBpMThuLl9fKCdwcm9jZXNzX2RlbGVnYXRpb25fcnVsZXNfZGVzY3JpcHRpb24nLCB7XG4gICAgICAgICAgICAgIHVzZXJOYW1lOiBkb2MuYWdlbnRfdXNlcl9uYW1lXG4gICAgICAgICAgICB9KSArIFwiKTwvbGFiZWw+XCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIHVucmVhZCA9ICcnO1xuICAgICAgICAgIGlmIChTZXNzaW9uLmdldChcImJveFwiKSA9PT0gJ2luYm94JyAmJiBkb2MuaXNfcmVhZCA9PT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHVucmVhZCA9ICc8aSBjbGFzcz1cImlvbiBpb24tcmVjb3JkIHVucmVhZFwiPjwvaT4nO1xuICAgICAgICAgIH0gZWxzZSBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdtb25pdG9yJyAmJiBkb2MuaXNfaGlkZGVuID09PSB0cnVlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJmYSBmYS1sb2NrXCI+PC9pPic7XG4gICAgICAgICAgfVxuICAgICAgICAgIHByaW9yaXR5SWNvbiA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIlwiO1xuICAgICAgICAgIHByaW9yaXR5VmFsdWUgPSAocmVmMSA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYxLnByaW9yaXR5IDogdm9pZCAwO1xuICAgICAgICAgIHN3aXRjaCAocHJpb3JpdHlWYWx1ZSkge1xuICAgICAgICAgICAgY2FzZSBcIueJueaApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiZGFuZ2VyXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIue0p+aApVwiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwid2FybmluZ1wiO1xuICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgIGNhc2UgXCLlip7mlodcIjpcbiAgICAgICAgICAgICAgcHJpb3JpdHlJY29uQ2xhc3MgPSBcIm11dGVkXCI7XG4gICAgICAgICAgfVxuICAgICAgICAgIGlmIChwcmlvcml0eUljb25DbGFzcykge1xuICAgICAgICAgICAgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyA9IFwiY29sb3ItcHJpb3JpdHkgY29sb3ItcHJpb3JpdHktXCIgKyBwcmlvcml0eUljb25DbGFzcztcbiAgICAgICAgICB9XG4gICAgICAgICAgcmV0dXJuIFwiPGRpdiBjbGFzcz0naW5zdGFuY2UtcmVhZC1iYXInPlwiICsgdW5yZWFkICsgXCI8L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1uYW1lIFwiICsgaW5zdGFuY2VOYW1lUHJpb3JpdHlDbGFzcyArIFwiJz5cIiArIGRvYy5uYW1lICsgY2NfdmlldyArIGFnZW50X3ZpZXcgKyBcIlxcblx0PHNwYW4+XCIgKyBkb2MuYXBwbGljYW50X25hbWUgKyBcIjwvc3Bhbj5cXG48L2Rpdj5cXG48ZGl2IGNsYXNzPSdpbnN0YW5jZS1kZXRhaWwnPlwiICsgc3RlcF9jdXJyZW50X25hbWVfdmlldyArIFwiXFxuXHQ8c3BhbiBjbGFzcz0naW5zdGFuY2UtbW9kaWZpZWQnIHRpdGxlPSdcIiArIG1vZGlmaWVkU3RyaW5nICsgXCInPlwiICsgbW9kaWZpZWRGcm9tTm93ICsgXCI8L3NwYW4+XFxuPC9kaXY+XCI7XG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJhcHBsaWNhbnRfb3JnYW5pemF0aW9uX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X29yZ2FuaXphdGlvbl9uYW1lXCIpLFxuICAgICAgICB2aXNpYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm5hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfbmFtZVwiKSxcbiAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgIHZhciBhZ2VudF92aWV3LCBjY192aWV3LCBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzLCBwcmlvcml0eUljb25DbGFzcywgcHJpb3JpdHlWYWx1ZSwgcmVmLCByZWYxLCBzdGVwX2N1cnJlbnRfbmFtZV92aWV3LCB1bnJlYWQ7XG4gICAgICAgICAgY2NfdmlldyA9IFwiXCI7XG4gICAgICAgICAgc3RlcF9jdXJyZW50X25hbWVfdmlldyA9IFwiXCI7XG4gICAgICAgICAgaWYgKGRvYy5pc19jYyAmJiAhKChyZWYgPSBkb2MuaW5ib3hfdXNlcnMpICE9IG51bGwgPyByZWYuaW5jbHVkZXMoTWV0ZW9yLnVzZXJJZCgpKSA6IHZvaWQgMCkgJiYgU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcpIHtcbiAgICAgICAgICAgIGNjX3ZpZXcgPSBcIjxsYWJlbCBjbGFzcz0nY2MtbGFiZWwnPihcIiArIFRBUGkxOG4uX18oXCJpbnN0YW5jZV9jY190aXRsZVwiKSArIFwiKTwvbGFiZWw+IFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBhZ2VudF92aWV3ID0gXCJcIjtcbiAgICAgICAgICBpZiAoZG9jLmFnZW50X3VzZXJfbmFtZSkge1xuICAgICAgICAgICAgYWdlbnRfdmlldyA9IFwiPGxhYmVsIGNsYXNzPSdjYy1sYWJlbCc+KFwiICsgVEFQaTE4bi5fXygncHJvY2Vzc19kZWxlZ2F0aW9uX3J1bGVzX2Rlc2NyaXB0aW9uJywge1xuICAgICAgICAgICAgICB1c2VyTmFtZTogZG9jLmFnZW50X3VzZXJfbmFtZVxuICAgICAgICAgICAgfSkgKyBcIik8L2xhYmVsPlwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICB1bnJlYWQgPSAnJztcbiAgICAgICAgICBpZiAoU2Vzc2lvbi5nZXQoXCJib3hcIikgPT09ICdpbmJveCcgJiYgZG9jLmlzX3JlYWQgPT09IGZhbHNlKSB7XG4gICAgICAgICAgICB1bnJlYWQgPSAnPGkgY2xhc3M9XCJpb24gaW9uLXJlY29yZCB1bnJlYWRcIj48L2k+JztcbiAgICAgICAgICB9IGVsc2UgaWYgKFNlc3Npb24uZ2V0KFwiYm94XCIpID09PSAnbW9uaXRvcicgJiYgZG9jLmlzX2hpZGRlbiA9PT0gdHJ1ZSkge1xuICAgICAgICAgICAgdW5yZWFkID0gJzxpIGNsYXNzPVwiZmEgZmEtbG9ja1wiPjwvaT4nO1xuICAgICAgICAgIH1cbiAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwiXCI7XG4gICAgICAgICAgcHJpb3JpdHlWYWx1ZSA9IChyZWYxID0gZG9jLnZhbHVlcykgIT0gbnVsbCA/IHJlZjEucHJpb3JpdHkgOiB2b2lkIDA7XG4gICAgICAgICAgc3dpdGNoIChwcmlvcml0eVZhbHVlKSB7XG4gICAgICAgICAgICBjYXNlIFwi54m55oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJkYW5nZXJcIjtcbiAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICBjYXNlIFwi57Sn5oClXCI6XG4gICAgICAgICAgICAgIHByaW9yaXR5SWNvbkNsYXNzID0gXCJ3YXJuaW5nXCI7XG4gICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgY2FzZSBcIuWKnuaWh1wiOlxuICAgICAgICAgICAgICBwcmlvcml0eUljb25DbGFzcyA9IFwibXV0ZWRcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgaWYgKHByaW9yaXR5SWNvbkNsYXNzKSB7XG4gICAgICAgICAgICBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzID0gXCJjb2xvci1wcmlvcml0eSBjb2xvci1wcmlvcml0eS1cIiArIHByaW9yaXR5SWNvbkNsYXNzO1xuICAgICAgICAgIH1cbiAgICAgICAgICByZXR1cm4gXCI8ZGl2IGNsYXNzPSdpbnN0YW5jZS1yZWFkLWJhcic+XCIgKyB1bnJlYWQgKyBcIjwvZGl2PlxcbjxkaXYgY2xhc3M9J2luc3RhbmNlLW5hbWUgXCIgKyBpbnN0YW5jZU5hbWVQcmlvcml0eUNsYXNzICsgXCInPlwiICsgZG9jLm5hbWUgKyBjY192aWV3ICsgYWdlbnRfdmlldyArIFwiPC9kaXY+XCI7XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiYXBwbGljYW50X25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfYXBwbGljYW50X25hbWVcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3VibWl0X2RhdGVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3VibWl0X2RhdGVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICBpZiAoZG9jLnN1Ym1pdF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdWJtaXRfZGF0ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgfVxuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiZmxvd19uYW1lXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX2Zsb3dcIiksXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwiY3VycmVudF9zdGVwX25hbWVcIixcbiAgICAgICAgdGl0bGU6IHQoXCJpbnN0YW5jZXNfc3RlcF9jdXJyZW50X25hbWVcIiksXG4gICAgICAgIHJlbmRlcjogZnVuY3Rpb24odmFsLCB0eXBlLCBkb2MpIHtcbiAgICAgICAgICB2YXIgY2NfdGFnLCBqdWRnZSwgc3RlcF9jdXJyZW50X25hbWU7XG4gICAgICAgICAgaWYgKGRvYy5zdGF0ZSA9PT0gXCJjb21wbGV0ZWRcIikge1xuICAgICAgICAgICAganVkZ2UgPSBkb2MuZmluYWxfZGVjaXNpb24gfHwgXCJhcHByb3ZlZFwiO1xuICAgICAgICAgIH1cbiAgICAgICAgICBzdGVwX2N1cnJlbnRfbmFtZSA9IGRvYy5jdXJyZW50X3N0ZXBfbmFtZSB8fCAnJztcbiAgICAgICAgICBjY190YWcgPSAnJztcbiAgICAgICAgICBpZiAoZG9jLmNjX2NvdW50ID4gMCkge1xuICAgICAgICAgICAgY2NfdGFnID0gVEFQaTE4bi5fXygnY2NfdGFnJyk7XG4gICAgICAgICAgfVxuICAgICAgICAgIHJldHVybiBcIjxkaXYgY2xhc3M9XFxcInN0ZXAtY3VycmVudC1zdGF0ZSBcIiArIGp1ZGdlICsgXCJcXFwiPlwiICsgc3RlcF9jdXJyZW50X25hbWUgKyBjY190YWcgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiBmYWxzZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHRpdGxlOiB0KFwiaW5zdGFuY2VzX21vZGlmaWVkXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubW9kaWZpZWQpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICB9LFxuICAgICAgICB2aXNpYmxlOiBmYWxzZSxcbiAgICAgICAgb3JkZXJhYmxlOiB0cnVlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwic3RhcnRfZGF0ZVwiLFxuICAgICAgICB0aXRsZTogdChcImluc3RhbmNlc19zdGFydF9kYXRlXCIpLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5zdGFydF9kYXRlKSB7XG4gICAgICAgICAgICByZXR1cm4gbW9tZW50KGRvYy5zdGFydF9kYXRlKS5mb3JtYXQoJ1lZWVktTU0tREQgSEg6bW0nKTtcbiAgICAgICAgICB9XG4gICAgICAgIH0sXG4gICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICBvcmRlcmFibGU6IHRydWVcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJteV9maW5pc2hfZGF0ZVwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgaWYgKGRvYy5teV9maW5pc2hfZGF0ZSkge1xuICAgICAgICAgICAgcmV0dXJuIG1vbWVudChkb2MubXlfZmluaXNoX2RhdGUpLmZvcm1hdCgnWVlZWS1NTS1ERCBISDptbScpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogdHJ1ZVxuICAgICAgfSwge1xuICAgICAgICBkYXRhOiBcIm1vZGlmaWVkXCIsXG4gICAgICAgIHZpc2libGU6IGZhbHNlXG4gICAgICB9LCB7XG4gICAgICAgIGRhdGE6IFwia2V5d29yZHNcIixcbiAgICAgICAgdmlzaWJsZTogZmFsc2VcbiAgICAgIH0sIHtcbiAgICAgICAgZGF0YTogXCJpc19hcmNoaXZlZFwiLFxuICAgICAgICByZW5kZXI6IGZ1bmN0aW9uKHZhbCwgdHlwZSwgZG9jKSB7XG4gICAgICAgICAgdmFyIHJlZjtcbiAgICAgICAgICBpZiAoKGRvYyAhPSBudWxsID8gKHJlZiA9IGRvYy52YWx1ZXMpICE9IG51bGwgPyByZWYucmVjb3JkX25lZWQgOiB2b2lkIDAgOiB2b2lkIDApICYmIGRvYy52YWx1ZXMucmVjb3JkX25lZWQgPT09IFwidHJ1ZVwiKSB7XG4gICAgICAgICAgICBpZiAoZG9jICE9IG51bGwgPyBkb2MuaXNfYXJjaGl2ZWQgOiB2b2lkIDApIHtcbiAgICAgICAgICAgICAgcmV0dXJuIHQoXCJZRVNcIik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICByZXR1cm4gdChcIk5PXCIpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSxcbiAgICAgICAgdmlzaWJsZTogZmFsc2UsXG4gICAgICAgIG9yZGVyYWJsZTogZmFsc2VcbiAgICAgIH1cbiAgICBdLFxuICAgIGRvbTogKGZ1bmN0aW9uKCkge1xuICAgICAgaWYgKFN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgICByZXR1cm4gJ3RwJztcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiAndHBsJztcbiAgICAgIH1cbiAgICB9KSgpLFxuICAgIG9yZGVyOiBbWzQsIFwiZGVzY1wiXV0sXG4gICAgZXh0cmFGaWVsZHM6IFtcImZvcm1cIiwgXCJmbG93XCIsIFwiaW5ib3hfdXNlcnNcIiwgXCJzdGF0ZVwiLCBcInNwYWNlXCIsIFwiYXBwbGljYW50XCIsIFwiZm9ybV92ZXJzaW9uXCIsIFwiZmxvd192ZXJzaW9uXCIsIFwiaXNfY2NcIiwgXCJjY19jb3VudFwiLCBcImlzX3JlYWRcIiwgXCJjdXJyZW50X3N0ZXBfbmFtZVwiLCBcInZhbHVlc1wiLCBcImtleXdvcmRzXCIsIFwiZmluYWxfZGVjaXNpb25cIiwgXCJmbG93X25hbWVcIiwgXCJpc19oaWRkZW5cIiwgXCJhZ2VudF91c2VyX25hbWVcIl0sXG4gICAgbGVuZ3RoQ2hhbmdlOiB0cnVlLFxuICAgIGxlbmd0aE1lbnU6IFsxMCwgMTUsIDIwLCAyNSwgNTAsIDEwMF0sXG4gICAgcGFnZUxlbmd0aDogMTAsXG4gICAgaW5mbzogZmFsc2UsXG4gICAgc2VhcmNoaW5nOiB0cnVlLFxuICAgIHJlc3BvbnNpdmU6IHtcbiAgICAgIGRldGFpbHM6IGZhbHNlXG4gICAgfSxcbiAgICBhdXRvV2lkdGg6IGZhbHNlLFxuICAgIGNoYW5nZVNlbGVjdG9yOiBmdW5jdGlvbihzZWxlY3RvciwgdXNlcklkKSB7XG4gICAgICB2YXIgcmVmLCBzcGFjZSwgc3BhY2VfdXNlcjtcbiAgICAgIGlmICghdXNlcklkKSB7XG4gICAgICAgIHJldHVybiB7XG4gICAgICAgICAgX2lkOiAtMVxuICAgICAgICB9O1xuICAgICAgfVxuICAgICAgc3BhY2UgPSBzZWxlY3Rvci5zcGFjZTtcbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgaWYgKChzZWxlY3RvciAhPSBudWxsID8gKHJlZiA9IHNlbGVjdG9yLiRhbmQpICE9IG51bGwgPyByZWYubGVuZ3RoIDogdm9pZCAwIDogdm9pZCAwKSA+IDApIHtcbiAgICAgICAgICBzcGFjZSA9IHNlbGVjdG9yLiRhbmQuZ2V0UHJvcGVydHkoJ3NwYWNlJylbMF07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIGlmICghc3BhY2UpIHtcbiAgICAgICAgcmV0dXJuIHtcbiAgICAgICAgICBfaWQ6IC0xXG4gICAgICAgIH07XG4gICAgICB9XG4gICAgICBzcGFjZV91c2VyID0gZGIuc3BhY2VfdXNlcnMuZmluZE9uZSh7XG4gICAgICAgIHVzZXI6IHVzZXJJZCxcbiAgICAgICAgc3BhY2U6IHNwYWNlXG4gICAgICB9LCB7XG4gICAgICAgIGZpZWxkczoge1xuICAgICAgICAgIF9pZDogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGlmICghc3BhY2VfdXNlcikge1xuICAgICAgICByZXR1cm4ge1xuICAgICAgICAgIF9pZDogLTFcbiAgICAgICAgfTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBzZWxlY3RvcjtcbiAgICB9LFxuICAgIHBhZ2luZ1R5cGU6IFwibnVtYmVyc1wiXG4gIH07XG4gIGlmIChmbG93SWQpIHtcbiAgICBrZXkgPSBcImluc3RhbmNlRmxvd1wiICsgZmxvd0lkO1xuICAgIG9wdGlvbnMubmFtZSA9IGtleTtcbiAgICBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcy5maWVsZHMgPSBmaWVsZHM7XG4gICAgaW5zX2ZpZWxkcyA9IF9oYW5kbGVMaXN0RmllbGRzKFRhYnVsYXJUYWJsZXMuaW5zdGFuY2VzLmZpZWxkcyk7XG4gICAgaW5zX2ZpZWxkcy5mb3JFYWNoKGZ1bmN0aW9uKGYpIHtcbiAgICAgIGlmIChmLnR5cGUgIT09ICd0YWJsZScgJiYgZi5pc19saXN0X2Rpc3BsYXkpIHtcbiAgICAgICAgcmV0dXJuIG9wdGlvbnMuY29sdW1ucy5wdXNoKHtcbiAgICAgICAgICBkYXRhOiBmLm5hbWUgfHwgZi5jb2RlLFxuICAgICAgICAgIHRpdGxlOiB0KGYubmFtZSB8fCBmLmNvZGUpLFxuICAgICAgICAgIHZpc2libGU6IGZhbHNlLFxuICAgICAgICAgIG9yZGVyYWJsZTogZmFsc2UsXG4gICAgICAgICAgcmVuZGVyOiBmdW5jdGlvbih2YWwsIHR5cGUsIGRvYykge1xuICAgICAgICAgICAgdmFyIHZhbHVlLCB2YWx1ZXM7XG4gICAgICAgICAgICB2YWx1ZXMgPSBkb2MudmFsdWVzIHx8IHt9O1xuICAgICAgICAgICAgdmFsdWUgPSB2YWx1ZXNbZi5jb2RlXTtcbiAgICAgICAgICAgIHN3aXRjaCAoZi50eXBlKSB7XG4gICAgICAgICAgICAgIGNhc2UgJ3VzZXInOlxuICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWUgIT0gbnVsbCA/IHZhbHVlLm5hbWUgOiB2b2lkIDA7XG4gICAgICAgICAgICAgICAgYnJlYWs7XG4gICAgICAgICAgICAgIGNhc2UgJ2dyb3VwJzpcbiAgICAgICAgICAgICAgICB2YWx1ZSA9IHZhbHVlICE9IG51bGwgPyB2YWx1ZS5mdWxsbmFtZSA6IHZvaWQgMDtcbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnZGF0ZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdkYXRlVGltZSc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlKSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IG1vbWVudCh2YWx1ZSkuZm9ybWF0KCdZWVlZLU1NLUREIEhIOm1tJyk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIGJyZWFrO1xuICAgICAgICAgICAgICBjYXNlICdjaGVja2JveCc6XG4gICAgICAgICAgICAgICAgaWYgKHZhbHVlID09PSB0cnVlIHx8IHZhbHVlID09PSAndHJ1ZScpIHtcbiAgICAgICAgICAgICAgICAgIHZhbHVlID0gVEFQaTE4bi5fXyhcImZvcm1fZmllbGRfY2hlY2tib3hfeWVzXCIpO1xuICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICB2YWx1ZSA9IFRBUGkxOG4uX18oXCJmb3JtX2ZpZWxkX2NoZWNrYm94X25vXCIpO1xuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICBicmVhaztcbiAgICAgICAgICAgICAgY2FzZSAnb2RhdGEnOlxuICAgICAgICAgICAgICAgIGlmICh2YWx1ZSkge1xuICAgICAgICAgICAgICAgICAgaWYgKF8uaXNBcnJheSh2YWx1ZSkpIHtcbiAgICAgICAgICAgICAgICAgICAgdmFsdWUgPSBfLnBsdWNrKHZhbHVlLCAnQGxhYmVsJykudG9TdHJpbmcoKTtcbiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICAgICAgICAgIHZhbHVlID0gdmFsdWVbJ0BsYWJlbCddO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIHJldHVybiB2YWx1ZTtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLmluc3RhbmNlcyA9IG5ldyBUYWJ1bGFyLlRhYmxlKGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoKSk7XG59KTtcblxuR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMgPSBmdW5jdGlvbihib3gsIGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBrZXksIG9wdGlvbnM7XG4gIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gIGlmIChib3ggPT09IFwiaW5ib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMoZmxvd0lkLCBmaWVsZHMpO1xuICB9IGVsc2UgaWYgKGJveCA9PT0gXCJvdXRib3hcIikge1xuICAgIG9wdGlvbnMgPSBfZ2V0X291dGJveF9pbnN0YW5jZXNfdGFidWxhcl9vcHRpb25zKGZsb3dJZCwgZmllbGRzKTtcbiAgfSBlbHNlIHtcbiAgICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gICAgaWYgKCFmbG93SWQpIHtcbiAgICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gICAgfVxuICB9XG4gIGlmIChmbG93SWQpIHtcbiAgICBvcHRpb25zLm5hbWUgPSBrZXk7XG4gIH1cbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5fZ2V0X2luYm94X2luc3RhbmNlc190YWJ1bGFyX29wdGlvbnMgPSBmdW5jdGlvbihmbG93SWQsIGZpZWxkcykge1xuICB2YXIgb3B0aW9ucztcbiAgb3B0aW9ucyA9IGluc3RhbmNlc0xpc3RUYWJsZVRhYnVsYXIoZmxvd0lkLCBmaWVsZHMpO1xuICBpZiAoIWZsb3dJZCkge1xuICAgIG9wdGlvbnMubmFtZSA9IFwiaW5ib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOCwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IGZhbHNlLFxuICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgIH1cbiAgICAgIH1cbiAgICBdO1xuICAgIGlmIChzb3J0ICYmIHNvcnQubGVuZ3RoID4gMCkge1xuICAgICAgczEgPSBzb3J0WzBdO1xuICAgICAgczFfMCA9IHMxWzBdO1xuICAgICAgczFfMSA9IHMxWzFdO1xuICAgICAgaWYgKHMxXzAgPT09ICdzdGFydF9kYXRlJykge1xuICAgICAgICBmaW5kT3B0aW9ucy5zb3J0ID0gW1snbW9kaWZpZWQnLCBzMV8xXV07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGdyb3VwOiB7XG4gICAgICAgICAgICBfaWQ6IFwiJF9pZFwiLFxuICAgICAgICAgICAgXCJhcHByb3ZlX3N0YXJ0X2RhdGVcIjoge1xuICAgICAgICAgICAgICAkZmlyc3Q6IFwiJF9hcHByb3ZlLnN0YXJ0X2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfc3RhcnRfZGF0ZSc6IHMxXzEgPT09ICdhc2MnID8gMSA6IC0xXG4gICAgICAgIH07XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNvcnQ6IGFnX3NvcnRcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJHNraXA6IHNraXBcbiAgICAgICAgfSk7XG4gICAgICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24ucHVzaCh7XG4gICAgICAgICAgJGxpbWl0OiBsaW1pdFxuICAgICAgICB9KTtcbiAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMgPSBuZXcgQXJyYXkoKTtcbiAgICAgICAgYWdncmVnYXRlID0gZnVuY3Rpb24odGFibGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGZpbHRlcmVkUmVjb3JkSWRzLCBjYikge1xuICAgICAgICAgIHRhYmxlLmNvbGxlY3Rpb24ucmF3Q29sbGVjdGlvbigpLmFnZ3JlZ2F0ZShhZ2dyZWdhdGVfb3BlcmF0aW9uKS50b0FycmF5KGZ1bmN0aW9uKGVyciwgZGF0YSkge1xuICAgICAgICAgICAgaWYgKGVycikge1xuICAgICAgICAgICAgICB0aHJvdyBuZXcgRXJyb3IoZXJyKTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGRhdGEuZm9yRWFjaChmdW5jdGlvbihkb2MpIHtcbiAgICAgICAgICAgICAgZmlsdGVyZWRSZWNvcmRJZHMucHVzaChkb2MuX2lkKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgaWYgKGNiKSB7XG4gICAgICAgICAgICAgIGNiKCk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfSk7XG4gICAgICAgIH07XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSA9IE1ldGVvci53cmFwQXN5bmMoYWdncmVnYXRlKTtcbiAgICAgICAgYXN5bmNfYWdncmVnYXRlKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcyk7XG4gICAgICAgIHJldHVybiBmaWx0ZXJlZFJlY29yZElkcy51bmlxKCk7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICByZXR1cm4gb2xkX2ZpbHRlcmVkUmVjb3JkSWRzO1xuICAgICAgfVxuICAgIH1cbiAgfTtcbiAgcmV0dXJuIG9wdGlvbnM7XG59O1xuXG5NZXRlb3Iuc3RhcnR1cChmdW5jdGlvbigpIHtcbiAgcmV0dXJuIFRhYnVsYXJUYWJsZXMuaW5ib3hfaW5zdGFuY2VzID0gbmV3IFRhYnVsYXIuVGFibGUoR2V0Qm94SW5zdGFuY2VzVGFidWxhck9wdGlvbnMoXCJpbmJveFwiKSk7XG59KTtcblxuX2dldF9vdXRib3hfaW5zdGFuY2VzX3RhYnVsYXJfb3B0aW9ucyA9IGZ1bmN0aW9uKGZsb3dJZCwgZmllbGRzKSB7XG4gIHZhciBvcHRpb25zO1xuICBvcHRpb25zID0gaW5zdGFuY2VzTGlzdFRhYmxlVGFidWxhcihmbG93SWQsIGZpZWxkcyk7XG4gIGlmICghZmxvd0lkKSB7XG4gICAgb3B0aW9ucy5uYW1lID0gXCJvdXRib3hfaW5zdGFuY2VzXCI7XG4gIH1cbiAgb3B0aW9ucy5vcmRlciA9IFtbOSwgXCJkZXNjXCJdXTtcbiAgb3B0aW9ucy5maWx0ZXJlZFJlY29yZElkcyA9IGZ1bmN0aW9uKHRhYmxlLCBzZWxlY3Rvciwgc29ydCwgc2tpcCwgbGltaXQsIG9sZF9maWx0ZXJlZFJlY29yZElkcywgdXNlcklkLCBmaW5kT3B0aW9ucykge1xuICAgIHZhciBhZ19zb3J0LCBhZ2dyZWdhdGUsIGFnZ3JlZ2F0ZV9vcGVyYXRpb24sIGFzeW5jX2FnZ3JlZ2F0ZSwgZmlsdGVyZWRSZWNvcmRJZHMsIHMxLCBzMV8wLCBzMV8xO1xuICAgIGFnZ3JlZ2F0ZV9vcGVyYXRpb24gPSBbXG4gICAgICB7XG4gICAgICAgICRtYXRjaDogc2VsZWN0b3JcbiAgICAgIH0sIHtcbiAgICAgICAgJHByb2plY3Q6IHtcbiAgICAgICAgICBuYW1lOiAxLFxuICAgICAgICAgIFwiX2FwcHJvdmVcIjogJyR0cmFjZXMuYXBwcm92ZXMnXG4gICAgICAgIH1cbiAgICAgIH0sIHtcbiAgICAgICAgJHVud2luZDogXCIkX2FwcHJvdmVcIlxuICAgICAgfSwge1xuICAgICAgICAkdW53aW5kOiBcIiRfYXBwcm92ZVwiXG4gICAgICB9LCB7XG4gICAgICAgICRtYXRjaDoge1xuICAgICAgICAgICdfYXBwcm92ZS5pc19maW5pc2hlZCc6IHRydWUsXG4gICAgICAgICAgJG9yOiBbXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS5oYW5kbGVyJzogdXNlcklkXG4gICAgICAgICAgICB9LCB7XG4gICAgICAgICAgICAgICdfYXBwcm92ZS51c2VyJzogdXNlcklkXG4gICAgICAgICAgICB9XG4gICAgICAgICAgXVxuICAgICAgICB9XG4gICAgICB9XG4gICAgXTtcbiAgICBpZiAoc29ydCAmJiBzb3J0Lmxlbmd0aCA+IDApIHtcbiAgICAgIHMxID0gc29ydFswXTtcbiAgICAgIHMxXzAgPSBzMVswXTtcbiAgICAgIHMxXzEgPSBzMVsxXTtcbiAgICAgIGlmIChzMV8wID09PSAnbXlfZmluaXNoX2RhdGUnKSB7XG4gICAgICAgIGZpbmRPcHRpb25zLnNvcnQgPSBbWydtb2RpZmllZCcsIHMxXzFdXTtcbiAgICAgICAgYWdncmVnYXRlX29wZXJhdGlvbi5wdXNoKHtcbiAgICAgICAgICAkZ3JvdXA6IHtcbiAgICAgICAgICAgIF9pZDogXCIkX2lkXCIsXG4gICAgICAgICAgICBcImFwcHJvdmVfZmluaXNoX2RhdGVcIjoge1xuICAgICAgICAgICAgICAkbGFzdDogXCIkX2FwcHJvdmUuZmluaXNoX2RhdGVcIlxuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIGFnX3NvcnQgPSB7XG4gICAgICAgICAgJ2FwcHJvdmVfZmluaXNoX2RhdGUnOiBzMV8xID09PSAnYXNjJyA/IDEgOiAtMVxuICAgICAgICB9O1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRzb3J0OiBhZ19zb3J0XG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRza2lwOiBza2lwXG4gICAgICAgIH0pO1xuICAgICAgICBhZ2dyZWdhdGVfb3BlcmF0aW9uLnB1c2goe1xuICAgICAgICAgICRsaW1pdDogbGltaXRcbiAgICAgICAgfSk7XG4gICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzID0gbmV3IEFycmF5KCk7XG4gICAgICAgIGFnZ3JlZ2F0ZSA9IGZ1bmN0aW9uKHRhYmxlLCBhZ2dyZWdhdGVfb3BlcmF0aW9uLCBmaWx0ZXJlZFJlY29yZElkcywgY2IpIHtcbiAgICAgICAgICB0YWJsZS5jb2xsZWN0aW9uLnJhd0NvbGxlY3Rpb24oKS5hZ2dyZWdhdGUoYWdncmVnYXRlX29wZXJhdGlvbikudG9BcnJheShmdW5jdGlvbihlcnIsIGRhdGEpIHtcbiAgICAgICAgICAgIGlmIChlcnIpIHtcbiAgICAgICAgICAgICAgdGhyb3cgbmV3IEVycm9yKGVycik7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICBkYXRhLmZvckVhY2goZnVuY3Rpb24oZG9jKSB7XG4gICAgICAgICAgICAgIGZpbHRlcmVkUmVjb3JkSWRzLnB1c2goZG9jLl9pZCk7XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIGlmIChjYikge1xuICAgICAgICAgICAgICBjYigpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH0pO1xuICAgICAgICB9O1xuICAgICAgICBhc3luY19hZ2dyZWdhdGUgPSBNZXRlb3Iud3JhcEFzeW5jKGFnZ3JlZ2F0ZSk7XG4gICAgICAgIGFzeW5jX2FnZ3JlZ2F0ZSh0YWJsZSwgYWdncmVnYXRlX29wZXJhdGlvbiwgZmlsdGVyZWRSZWNvcmRJZHMpO1xuICAgICAgICByZXR1cm4gZmlsdGVyZWRSZWNvcmRJZHMudW5pcSgpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIG9sZF9maWx0ZXJlZFJlY29yZElkcztcbiAgICAgIH1cbiAgICB9XG4gIH07XG4gIHJldHVybiBvcHRpb25zO1xufTtcblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUYWJ1bGFyVGFibGVzLm91dGJveF9pbnN0YW5jZXMgPSBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhcIm91dGJveFwiKSk7XG59KTtcblxuaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICBUYWJ1bGFyVGFibGVzLmZsb3dJbnN0YW5jZXMgPSBuZXcgUmVhY3RpdmVWYXIoKTtcbn1cblxuTWV0ZW9yLnN0YXJ0dXAoZnVuY3Rpb24oKSB7XG4gIHJldHVybiBUcmFja2VyLmF1dG9ydW4oZnVuY3Rpb24oYykge1xuICAgIGlmIChNZXRlb3IuaXNDbGllbnQgJiYgIVN0ZWVkb3MuaXNNb2JpbGUoKSkge1xuICAgICAgaWYgKFNlc3Npb24uZ2V0KFwiZmxvd0lkXCIpICYmIFNlc3Npb24uZ2V0KFwiYm94XCIpICE9PSAnZHJhZnQnKSB7XG4gICAgICAgIHJldHVybiBNZXRlb3IuY2FsbChcIm5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyXCIsIFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgZnVuY3Rpb24oZXJyb3IsIHJlc3VsdCkge1xuICAgICAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKFNlc3Npb24uZ2V0KFwiYm94XCIpLCBTZXNzaW9uLmdldChcImZsb3dJZFwiKSwgcmVzdWx0KTtcbiAgICAgICAgICByZXR1cm4gVGVtcGxhdGUuaW5zdGFuY2VfbGlzdC5fY2hhbmdlT3JkZXIoKTtcbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfVxuICB9KTtcbn0pO1xuXG5uZXdJbnN0YW5jZXNMaXN0VGFidWxhciA9IGZ1bmN0aW9uKGJveCwgZmxvd0lkLCBmaWVsZHMpIHtcbiAgdmFyIGZsb3csIGtleSwgcmVmLCByZWYxLCByZWYyO1xuICBpZiAoIWZpZWxkcykge1xuICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgIF9pZDogZmxvd0lkXG4gICAgfSwge1xuICAgICAgZmllbGRzOiB7XG4gICAgICAgIGZvcm06IDFcbiAgICAgIH1cbiAgICB9KTtcbiAgICBmaWVsZHMgPSAocmVmID0gZGIuZm9ybXMuZmluZE9uZSh7XG4gICAgICBfaWQ6IGZsb3cgIT0gbnVsbCA/IGZsb3cuZm9ybSA6IHZvaWQgMFxuICAgIH0sIHtcbiAgICAgIGZpZWxkczoge1xuICAgICAgICAnY3VycmVudC5maWVsZHMnOiAxXG4gICAgICB9XG4gICAgfSkpICE9IG51bGwgPyAocmVmMSA9IHJlZi5jdXJyZW50KSAhPSBudWxsID8gcmVmMS5maWVsZHMgOiB2b2lkIDAgOiB2b2lkIDA7XG4gIH1cbiAgZmllbGRzID0gX2hhbmRsZUxpc3RGaWVsZHMoZmllbGRzKTtcbiAgaWYgKChmaWVsZHMgIT0gbnVsbCA/IChyZWYyID0gZmllbGRzLmZpbHRlclByb3BlcnR5KFwiaXNfbGlzdF9kaXNwbGF5XCIsIHRydWUpKSAhPSBudWxsID8gcmVmMi5sZW5ndGggOiB2b2lkIDAgOiB2b2lkIDApID4gMCkge1xuICAgIGtleSA9IFwiaW5zdGFuY2VGbG93XCIgKyBib3ggKyBmbG93SWQ7XG4gICAgaWYgKE1ldGVvci5pc0NsaWVudCkge1xuICAgICAgVGFidWxhclRhYmxlcy5mbG93SW5zdGFuY2VzLnNldChuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSkpO1xuICAgIH0gZWxzZSB7XG4gICAgICBuZXcgVGFidWxhci5UYWJsZShHZXRCb3hJbnN0YW5jZXNUYWJ1bGFyT3B0aW9ucyhib3gsIGZsb3dJZCwgZmllbGRzKSk7XG4gICAgfVxuICAgIHJldHVybiBjb25zb2xlLmxvZyhcIm5ldyBUYWJ1bGFyVGFibGVzIFwiLCBrZXkpO1xuICB9XG59O1xuXG5pZiAoTWV0ZW9yLmlzU2VydmVyKSB7XG4gIE1ldGVvci5tZXRob2RzKHtcbiAgICBuZXdJbnN0YW5jZXNMaXN0VGFidWxhcjogZnVuY3Rpb24oYm94LCBmbG93SWQpIHtcbiAgICAgIHZhciBmaWVsZHMsIGZsb3csIHJlZiwgcmVmMTtcbiAgICAgIG5ld0luc3RhbmNlc0xpc3RUYWJ1bGFyKGJveCwgZmxvd0lkKTtcbiAgICAgIGZsb3cgPSBkYi5mbG93cy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93SWRcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgZm9ybTogMVxuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIGZpZWxkcyA9IChyZWYgPSBkYi5mb3Jtcy5maW5kT25lKHtcbiAgICAgICAgX2lkOiBmbG93ICE9IG51bGwgPyBmbG93LmZvcm0gOiB2b2lkIDBcbiAgICAgIH0sIHtcbiAgICAgICAgZmllbGRzOiB7XG4gICAgICAgICAgJ2N1cnJlbnQuZmllbGRzJzogMVxuICAgICAgICB9XG4gICAgICB9KSkgIT0gbnVsbCA/IChyZWYxID0gcmVmLmN1cnJlbnQpICE9IG51bGwgPyByZWYxLmZpZWxkcyA6IHZvaWQgMCA6IHZvaWQgMDtcbiAgICAgIHJldHVybiBmaWVsZHM7XG4gICAgfVxuICB9KTtcbn1cbiJdfQ==
