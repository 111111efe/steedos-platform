{"version":3,"sources":["meteor://ðŸ’»app/packages/steedos:meteor-fix/lib/meteor_fix.js"],"names":["Mongo","module","link","v","Meteor","isServer","mongoOptions","ignoreUndefined","useUnifiedTopology","autoReconnect","undefined","reconnectTries","mongoOptionStr","process","env","MONGO_OPTIONS","jsonMongoOptions","JSON","parse","Object","assign","setConnectionOptions","autorun","Tracker"],"mappings":";;;;;;;;;;;;;;;;;;;;;AAAA,IAAIA,KAAJ;AAAUC,MAAM,CAACC,IAAP,CAAY,cAAZ,EAA2B;AAACF,OAAK,CAACG,CAAD,EAAG;AAACH,SAAK,GAACG,CAAN;AAAQ;;AAAlB,CAA3B,EAA+C,CAA/C;;AAEV;AACA;AACA,IAAIC,MAAM,CAACC,QAAX,EAAqB;AAEpB,MAAIC,YAAY,GAAG;AAClBC,mBAAe,EAAE,KADC;AAElBC,sBAAkB,EAAE,IAFF;AAEQ;AAC1BC,iBAAa,EAAEC,SAHG;AAIlBC,kBAAc,EAAED;AAJE,GAAnB;AAOA,QAAME,cAAc,GAAGC,OAAO,CAACC,GAAR,CAAYC,aAAnC;;AACA,MAAI,OAAOH,cAAP,KAA0B,WAA9B,EAA2C;AAC1C,UAAMI,gBAAgB,GAAGC,IAAI,CAACC,KAAL,CAAWN,cAAX,CAAzB;AAEAN,gBAAY,GAAGa,MAAM,CAACC,MAAP,CAAc,EAAd,EAAkBd,YAAlB,EAAgCU,gBAAhC,CAAf;AACA;;AACDhB,OAAK,CAACqB,oBAAN,CAA2Bf,YAA3B;AACA;;AAGDF,MAAM,CAACkB,OAAP,GAAiBC,OAAO,CAACD,OAAzB,C","file":"/packages/steedos_meteor-fix.js","sourcesContent":["import { Mongo } from 'meteor/mongo'\r\n\r\n// Revert change from Meteor 1.6.1 who set ignoreUndefined: true\r\n// more information https://github.com/meteor/meteor/pull/9444\r\nif (Meteor.isServer) {\r\n\r\n\tlet mongoOptions = {\r\n\t\tignoreUndefined: false,\r\n\t\tuseUnifiedTopology: true, // Required to silence deprecation warnings\r\n\t\tautoReconnect: undefined,\r\n\t\treconnectTries: undefined\r\n\t};\r\n\r\n\tconst mongoOptionStr = process.env.MONGO_OPTIONS;\r\n\tif (typeof mongoOptionStr !== 'undefined') {\r\n\t\tconst jsonMongoOptions = JSON.parse(mongoOptionStr);\r\n\r\n\t\tmongoOptions = Object.assign({}, mongoOptions, jsonMongoOptions);\r\n\t}\r\n\tMongo.setConnectionOptions(mongoOptions);\r\n}\r\n\r\n\r\nMeteor.autorun = Tracker.autorun\r\n"]}