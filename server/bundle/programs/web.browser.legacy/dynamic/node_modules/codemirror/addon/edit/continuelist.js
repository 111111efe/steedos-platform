function(e,n,t){var i;i=function(e){"use strict";var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;function r(e,t){var i=t.line,r=0,s=0,l=n.exec(e.getLine(i)),a=l[1];do{var o=i+(r+=1),c=e.getLine(o),d=n.exec(c);if(d){var f=d[1],g=parseInt(l[3],10)+r-s,h=parseInt(d[3],10),m=h;if(a!==f||isNaN(h)){if(a.length>f.length)return;if(a.length<f.length&&1===r)return;s+=1}else g===h&&(m=h+1),g>h&&(m=g+1),e.replaceRange(c.replace(n,f+m+d[4]+d[5]),{line:o,ch:0},{line:o,ch:c.length})}}while(d)}e.commands.newlineAndIndentContinueMarkdownList=function(s){if(s.getOption("disableInput"))return e.Pass;for(var l=s.listSelections(),a=[],o=0;o<l.length;o++){var c=l[o].head,d=s.getStateAfter(c.line),f=e.innerMode(s.getMode(),d);if("markdown"!==f.mode.name)return void s.execCommand("newlineAndIndent");var g=!1!==(d=f.state).list,h=0!==d.quote,m=s.getLine(c.line),p=n.exec(m),u=/^\s*$/.test(m.slice(0,c.ch));if(!l[o].empty()||!g&&!h||!p||u)return void s.execCommand("newlineAndIndent");if(t.test(m)){var v=h&&/>\s*$/.test(m),x=!/>\s*$/.test(m);(v||x)&&s.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),a[o]="\n"}else{var I=p[1],w=p[5],b=!(i.test(p[2])||p[2].indexOf(">")>=0),y=b?parseInt(p[3],10)+1+p[4]:p[2].replace("x"," ");a[o]="\n"+I+y+w,b&&r(s,c)}}s.replaceSelections(a)}},"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}

