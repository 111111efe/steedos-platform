function(e,t,a){"use strict";var o=e("../../core/renderer"),n=e("../../core/utils/common").noop,i=e("../../events/core/events_engine"),r=e("../../core/utils/type"),l=e("../../core/utils/variable_wrapper").isWrapped,u=e("../../core/utils/data").compileGetter,d=e("../../core/utils/browser"),c=e("../../core/utils/extend").extend,s=e("../../core/devices"),p=e("../../core/utils/dom").getPublicElement,x=e("../../data/data_source/data_source").normalizeDataSourceOptions,v=e("../../events/utils").normalizeKeyName;e("../text_box"),e("../number_box"),e("../check_box"),e("../select_box"),e("../date_box");var m="checkbox-size",f="dx-cell-focus-disabled",h="dx-editor-inline-block",y=(b=function(e,t){return c(e,{readOnly:t.readOnly,placeholder:t.placeholder,inputAttr:{id:t.id},tabIndex:t.tabIndex},t.editorOptions)},T=function(){return d.msie||d.mozilla||s.real().ios},g=function(e){var t={},a=T(),n=e.sharedData||t;return b({placeholder:e.placeholder,width:e.width,value:e.value,onValueChanged:function(a){var o="filterRow"===e.parentType||"searchPanel"===e.parentType,i=a.event&&("input"===a.event.type||"keyup"===a.event.type),l=function(t,a){e&&e.setValue(t.value,a)};clearTimeout(t.valueChangeTimeout),i&&o?n.valueChangeTimeout=t.valueChangeTimeout=setTimeout(function(){l(a,t.valueChangeTimeout!==n.valueChangeTimeout)},r.isDefined(e.updateValueTimeout)?e.updateValueTimeout:0):l(a)},onKeyDown:function(e){a&&"enter"===v(e.event)&&i.trigger(o(e.component._input()),"change")},valueChangeEvent:"change"+("filterRow"===e.parentType?" keyup input":"")},e)},C=function(e){e.editorName="dxDateBox",e.editorOptions=b({value:e.value,onValueChanged:function(t){e.setValue(t.value)},onKeyDown:function(e){T()&&"enter"===v(e.event)&&(e.component.blur(),e.component.focus())},displayFormat:e.format,type:e.dataType,formatWidthCalculator:null,dateSerializationFormat:null,width:"filterBuilder"===e.parentType?void 0:"auto"},e)},E=function(e){var t=g(e),a="searchPanel"===e.parentType,o=function(e){return r.isDefined(e)?e.toString():""};t.value=o(e.value),t.valueChangeEvent+=a?" keyup input search":"",t.mode=t.mode||(a?"search":"text"),e.editorName="dxTextBox",e.editorOptions=t},k=function(e){var t=g(e);t.value=r.isDefined(e.value)?e.value:null,e.editorName="dxNumberBox",e.editorOptions=t},w=function(e){"filterRow"===e.parentType||"filterBuilder"===e.parentType?O(c(e,{lookup:{displayExpr:function(t){return!0===t?e.trueText||"true":!1===t?e.falseText||"false":void 0},dataSource:[!0,!1]}})):_(e)},O=function(e){var t,a,o,n=e.lookup,i="filterRow"===e.parentType;if(n){t=u(n.displayExpr),a=n.dataSource,r.isFunction(a)&&!l(a)&&(a=a(e.row||{})),(r.isObject(a)||Array.isArray(a))&&(a=x(a),i&&(o=a.postProcess,a.postProcess=function(e){return 0===this.pageIndex()&&(e=e.slice(0)).unshift(null),o?o.call(this,e):e}));var d=Boolean(n.allowClearing&&!i);e.editorName="dxSelectBox",e.editorOptions=b({searchEnabled:!0,value:e.value,valueExpr:e.lookup.valueExpr,searchExpr:e.lookup.searchExpr||e.lookup.displayExpr,allowClearing:d,showClearButton:d,displayExpr:function(a){return null===a?e.showAllText:t(a)},dataSource:a,onValueChanged:function(t){var a=[t.value];!i&&a.push(t.component.option("text")),e.setValue.apply(this,a)}},e)}},_=function(e){e.editorName="dxCheckBox",e.editorOptions=b({value:r.isDefined(e.value)?e.value:void 0,hoverStateEnabled:!e.readOnly,focusStateEnabled:!e.readOnly,activeStateEnabled:!1,onValueChanged:function(t){e.setValue&&e.setValue(t.value,t)}},e)},B=function(e,t){var a=o(t.editorElement);t.editorName&&t.editorOptions&&a[t.editorName]&&("dxCheckBox"===t.editorName&&(t.isOnForm||(a.addClass(e.addWidgetPrefix("checkbox-size")),a.parent().addClass(h)),(t.command||t.editorOptions.readOnly)&&a.parent().addClass("dx-cell-focus-disabled")),e._createComponent(a,t.editorName,t.editorOptions),"dxTextBox"===t.editorName&&a.dxTextBox("instance").registerKeyHandler("enter",n))},{createEditor:function(e,t){if(t.cancel=!1,t.editorElement=p(e),r.isDefined(t.tabIndex)||(t.tabIndex=this.option("tabIndex")),t.lookup)O(t);else switch(t.dataType){case"date":case"datetime":C(t);break;case"boolean":w(t);break;case"number":k(t);break;default:E(t)}this.executeAction("onEditorPreparing",t),t.cancel||(B(this,t),this.executeAction("onEditorPrepared",t))}}),b,T,g,C,E,k,w,O,_,B;a.exports=y}

