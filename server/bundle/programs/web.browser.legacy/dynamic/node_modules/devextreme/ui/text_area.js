function(t,e,i){"use strict";var n=t("../core/renderer"),s=t("../events/core/events_engine"),a=t("../core/utils/common").noop,h,o=t("../core/utils/window").getWindow(),r=t("../core/component_registrator"),u=t("../core/utils/extend").extend,p=t("../events/utils"),l=t("../events/pointer"),c=t("../core/utils/size"),d=t("./text_box"),g="dx-textarea",_="dx-texteditor-input",m="dx-texteditor-input-auto-resize",f=d.inherit({_getDefaultOptions:function(){return u(this.callBase(),{spellcheck:!0,minHeight:void 0,maxHeight:void 0,autoResizeEnabled:!1})},_initMarkup:function(){this.$element().addClass("dx-textarea"),this.callBase(),this.setAria("multiline","true")},_renderContentImpl:function(){this._updateInputHeight(),this.callBase()},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){var t=n("<textarea>");return this._applyInputAttributes(t,this.option("inputAttr")),this._updateInputAutoResizeAppearance(t),t},_applyInputAttributes:function(t,e){t.attr(e).addClass("dx-texteditor-input")},_renderScrollHandler:function(){var t=this._input(),e=0;s.on(t,p.addNamespace(l.down,this.NAME),function(t){e=p.eventData(t).y}),s.on(t,p.addNamespace(l.move,this.NAME),function(i){var n=t.scrollTop(),s=t.prop("scrollHeight")-t.prop("clientHeight")-n;if(0!==n||0!==s){var a=p.eventData(i).y,h,o,r;(0===n&&e>=a||0===s&&e<=a||n>0&&s>0)&&(i.isScrollingEvent=!0,i.stopPropagation()),e=a}})},_renderDimensions:function(){var t=this.$element(),e=t.get(0),i=this._getOptionValue("width",e),n=this._getOptionValue("height",e),s=this.option("minHeight"),a=this.option("maxHeight");t.css({minHeight:void 0!==s?s:"",maxHeight:void 0!==a?a:"",width:i,height:n})},_resetDimensions:function(){this.$element().css({height:"",minHeight:"",maxHeight:""})},_renderEvents:function(){this.option("autoResizeEnabled")&&s.on(this._input(),p.addNamespace("input paste",this.NAME),this._updateInputHeight.bind(this)),this.callBase()},_refreshEvents:function(){s.off(this._input(),p.addNamespace("input paste",this.NAME)),this.callBase()},_getHeightDifference:function(t){return c.getVerticalOffsets(this._$element.get(0),!1)+c.getVerticalOffsets(t.parent().get(0),!1)+c.getElementBoxParams("height",o.getComputedStyle(t.get(0))).margin},_updateInputHeight:function(){var t=this._input(),e=void 0===this.option("height")&&this.option("autoResizeEnabled");if(e){this._resetDimensions(),this._$element.css("height",this._$element.outerHeight()),t.css("height",0);var i=this._getHeightDifference(t);this._renderDimensions();var n=this.option("minHeight"),s=this.option("maxHeight"),a=t[0].scrollHeight;void 0!==n&&(a=Math.max(a,n-i)),void 0!==s&&(a=Math.min(a,s-i)),t.css("height",a),e&&this._$element.css("height","auto")}else t.css("height","")},_renderInputType:a,_visibilityChanged:function(t){t&&this._updateInputHeight()},_updateInputAutoResizeAppearance:function(t){t&&t.toggleClass("dx-texteditor-input-auto-resize",this.option("autoResizeEnabled"))},_optionChanged:function(t){switch(t.name){case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input()),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":this.callBase(t),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":this.callBase(t),t.value&&this._updateInputHeight();break;default:this.callBase(t)}}});r("dxTextArea",f),i.exports=f,i.exports.default=i.exports}

