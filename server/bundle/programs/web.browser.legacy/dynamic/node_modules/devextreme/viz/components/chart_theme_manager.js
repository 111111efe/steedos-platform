function(e,t){"use strict";var i=e("../../core/utils/common").noop,o=e("../../core/utils/type"),n=e("../../core/utils/extend").extend,s=e("../core/base_theme_manager").BaseThemeManager,a=o.isString,l=o.isDefined,r=e("../core/utils").normalizeEnum,u="font",c="commonAxisSettings",h=["legend.font","title.font","title.subtitle.font","tooltip.font","loadingIndicator.font","export.font","commonSeriesSettings.label.font"],m=h.concat(["commonAxisSettings.label.font","commonAxisSettings.title.font"]),g,p={pie:h,chart:m.concat(["crosshair.label.font"]),polar:m},d=s.inherit((v=function(e){return a(e)?{text:e}:e},b=function(e){return e?((e=n(!0,{},e)).title=v(e.title),("logarithmic"===e.type&&e.logarithmBase<=0||e.logarithmBase&&!o.isNumeric(e.logarithmBase))&&(e.logarithmBase=void 0,e.logarithmBaseError=!0),e.label&&e.label.alignment&&(e.label.userAlignment=!0),e):{}},O=function(e,t,i){var o=this._theme,s=i^"valueAxis"===e?"verticalAxis":"horizontalAxis",a=b(t,e),r=b(this._userOptions.commonAxisSettings,e),u=n(!0,{},o.commonAxisSettings,o[s],o[e],r,a);return u.workWeek=a.workWeek||o[e].workWeek,u.forceUserTickInterval|=l(a.tickInterval)&&!l(a.axisDivisionFactor),u},A={base:S=function(e,t){t=t||this._userOptions[e];var i=this._theme[e],s=this._mergedSettings[e];return s||(s=o.isPlainObject(i)&&o.isPlainObject(t)?n(!0,{},i,t):l(t)?t:i,this._mergedSettings[e]=s,s)},argumentAxis:O,valueAxisRangeSelector:function(){return S.call(this,"valueAxis")},valueAxis:O,series:function(e,t,i){var o,s,a,l=this,u=l._theme,c=l._userOptions.commonSeriesSettings||{},h=u.commonSeriesSettings,m=l._themeSection.split(".").slice(-1)[0],g=r(t.type||c.type||h.type||"pie"===m&&u.type),p=l.palette,d=~g.indexOf("bar"),f=~g.indexOf("line"),x=~g.indexOf("area"),_="bubble"===g,v=l.getOptions("resolveLabelsOverlapping"),b=l.getOptions("containerBackgroundColor"),O=A.seriesTemplate.call(this);return(d||_)&&(a=(t=n(!0,{},c,c[g],t)).visible,c={type:{}},n(!0,t,t.point),t.visible=a),(o=n(!0,{aggregation:{}},h,h[g],c,c[g],t)).aggregation.enabled="chart"===m&&y(o.aggregation,l.getOptions("useAggregation")),o.type=g,o.widgetType=m,o.containerBackgroundColor=b,s="pie"!==m?o.color||p.getNextColor(i):function(e,t,i){var o=e+"-"+t;return l._multiPieColors[o]||(l._multiPieColors[o]=p.getNextColor(i)),l._multiPieColors[o]},o.mainSeriesColor=s,o.resolveLabelsOverlapping=v,o.label&&(f||x&&"rangearea"!==g||"scatter"===g)&&(o.label.position="outside"),O&&(o.nameField=O.nameField),o},animation:function(e){var t=this._userOptions[e];return t=o.isPlainObject(t)?t:l(t)?{enabled:!!t}:{},S.call(this,e,t)},seriesTemplate:function(){var e=S.call(this,"seriesTemplate");return e&&(e.nameField=e.nameField||"series"),e},zoomAndPan:function(){function e(e){var t="pan"===(e=r(e))||"both"===e,i="zoom"===e||"both"===e;return{pan:t,zoom:i,none:!t&&!i}}var t=this._userOptions.zoomAndPan;if(!l(t)){var i=r(this.getOptions("zoomingMode")),o=r(this.getOptions("scrollingMode")),n=-1!==["all","mouse","touch"].indexOf(i),s=-1!==["all","mouse","touch"].indexOf(o);t={argumentAxis:n&&s?"both":n?"zoom":s?"pan":"none",allowMouseWheel:"all"===i||"mouse"===i,allowTouchGestures:"all"===i||"touch"===i||"all"===o||"touch"===o}}var a=S.call(this,"zoomAndPan",t);return{valueAxis:e(a.valueAxis),argumentAxis:e(a.argumentAxis),dragToZoom:!!a.dragToZoom,dragBoxStyle:{class:"dxc-shutter",fill:a.dragBoxStyle.color,opacity:a.dragBoxStyle.opacity},panKey:a.panKey,allowMouseWheel:!!a.allowMouseWheel,allowTouchGestures:!!a.allowTouchGestures}}},y=function(e,t){return!!(l(e.enabled)?e.enabled:t)},{_themeSection:"chart",ctor:function(e,t){var o=this;this.callBase.apply(this,arguments),e=e||{},this._userOptions=e,this._mergeAxisTitleOptions=[],this._multiPieColors={},this._themeSection=t,this._fontFields=p[t],this._callback=i},dispose:function(){var e=this;return this.palette&&this.palette.dispose(),this.palette=this._userOptions=this._mergedSettings=this._multiPieColors=null,this.callBase.apply(this,arguments)},resetPalette:function(){this.palette.reset(),this._multiPieColors={}},getOptions:function(e){return(A[e]||A.base).apply(this,arguments)},refresh:function(){return this._mergedSettings={},this.callBase.apply(this,arguments)},_initializeTheme:function(){var e=this;this.callBase.apply(this,arguments),this.updatePalette()},resetOptions:function(e){this._mergedSettings[e]=null},update:function(e){this._userOptions=e},updatePalette:function(){var e=this;this.palette=this.createPalette(this.getOptions("palette"),{useHighlight:!0,extensionMode:this.getOptions("paletteExtensionMode")})}})),f,x,_,v,b,O,S,A,y;t.ThemeManager=d}

