function(t,i,n){"use strict";var e=t("../../core/utils/type").isDefined,s=t("../../core/utils/math").adjust,a=Math.round;function r(t){return t}n.exports={translate:function(t,i){var n,s=this,r=this._canvasOptions,o=this._categoriesToPoints[t.valueOf()],l=this.translateSpecialCase(t),h=r.startPointIndex||0,c=this._options.stick?0:.5;return e(l)?a(l):o||0===o?(n=o+c-h+.5*(i=i||0),a(this._calculateProjection(r.interval*n))):null},getInterval:function(){return this._canvasOptions.interval},getEventScale:function(t){var i;return 1-(1-(t.deltaScale||1))/(.75+this.visibleCategories.length/this._categories.length)},zoom:function(t,i){var n,e,a,r=this,o=this._categories,l=this._canvasOptions,h=this._options.stick,c=l.invert,u=l.interval*i,v=t/u,g=(this.visibleCategories||[]).length,_=parseInt((l.startPointIndex||0)+v+.5),p=parseInt(s(l.canvasLength/u)+(h?1:0))||1;return c&&(_=parseInt((l.startPointIndex||0)+g-v+.5)-p),_<0&&(_=0),(n=_+p)>o.length&&(_=(n=o.length)-p)<0&&(_=0),e=o.slice(parseInt(_),parseInt(n)),i=(a=this._getDiscreteInterval(e.length,l))/l.interval,t=this.translate(c?e[e.length-1]:e[0])*i-(l.startPoint+(h?0:a/2)),{min:e[0],max:e[e.length-1],translate:t,scale:i}},getMinScale:function(t){var i=this,n=this._canvasOptions,e=(this.visibleCategories||this._categories).length;return e+=(parseInt(.1*e)||1)*(t?-2:2),n.canvasLength/(Math.max(e,1)*n.interval)},getScale:function(t,i){var n=this,s=this._canvasOptions,a=this.getCanvasVisibleArea(),r=!this._options.stick&&1,o=e(t)?this.translate(t,-r):null,l=e(i)?this.translate(i,+r):null;return null===o&&(o=s.invert?a.max:a.min),null===l&&(l=s.invert?a.min:a.max),this.canvasLength/Math.abs(l-o)},isValid:function(t){return!!e(t)&&this._categoriesToPoints[t.valueOf()]>=0},getCorrectValue:r,to:function(t,i){var n=this._canvasOptions,e=this._categoriesToPoints[t.valueOf()],s=n.startPointIndex||0,r=e+(this._options.stick?0:.5)-s+(this._businessRange.invert?-1:1)*i*.5;return a(this._calculateProjection(n.interval*r))},from:function(t){var i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=this._canvasOptions,e=n.startPoint,s=this.visibleCategories||this._categories,r=s.length,o=this._options.stick?.5:0,l=a((t-e)/n.interval+o-.5-.5*i);return l>=r&&(l=r-1),l<0&&(l=0),n.invert&&(l=r-l-1),s[l]},_add:function(){return NaN},_toValue:r,isValueProlonged:!0}}

