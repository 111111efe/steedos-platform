function(t,e){"use strict";var r,i=t("../../../core/utils/extend").extend,s=t("./symbol_point"),a=t("./bar_point"),n=t("./pie_point"),o=t("../../../core/utils/type").isDefined,l=t("../../core/utils"),h=l.normalizeAngle,d=Math,u=d.max,g=t("../../components/consts").radialLabelIndent,_=90,c="canvas_position_end",f="canvas_position_default";e.polarSymbolPoint=i({},s,{_getLabelCoords:n._getLabelCoords,_moveLabelOnCanvas:a._moveLabelOnCanvas,_getLabelPosition:function(){return"outside"},_getCoords:function(t,e){var r=this.series.getValueAxis(),i=r.getAngles()[0],s=this._getArgTranslator().translate(t),a=this._getValTranslator().translate(e),n=l.convertPolarToXY(r.getCenter(),r.getAngles()[0],s,a);return n.angle=s+i-90,n.radius=a,n},_translate:function(){var t=this,e=this.series.getValueAxis().getCenter(),r=this._getCoords(this.argument,this.value);this.vx=h(r.angle),this.vy=this.radiusOuter=this.radiusLabels=r.radius,this.radiusLabels+=g,this.radius=r.radius,this.middleAngle=-r.angle,this.angle=-r.angle,this.x=r.x,this.y=r.y,this.defaultX=this.centerX=e.x,this.defaultY=this.centerY=e.y,this._translateErrorBars(),this.inVisibleArea=!0},_translateErrorBars:function(){var t=this,e=this._options.errorBars,r=this._getValTranslator();e&&(o(this.lowError)&&(this._lowErrorCoord=this.centerY-r.translate(this.lowError)),o(this.highError)&&(this._highErrorCoord=this.centerY-r.translate(this.highError)),this._errorBarPos=this.centerX,this._baseErrorBarPos="stdDeviation"===e.type?this._lowErrorCoord+(this._highErrorCoord-this._lowErrorCoord)/2:this.centerY-this.radius)},_getTranslates:function(t){return t?this.getDefaultCoords():{x:this.x,y:this.y}},getDefaultCoords:function(){var t=l.getCosAndSin(-this.angle),e=this._getValTranslator().translate(f),r,i;return{x:this.defaultX+e*t.cos,y:this.defaultY+e*t.sin}},_addLabelAlignmentAndOffset:function(t,e){return e},_checkLabelPosition:function(t,e){var r=this,i=this._getVisibleArea(),s=this._getGraphicBBox();return this._isPointInVisibleArea(i,s)&&(e=this._moveLabelOnCanvas(e,i,t.getBoundingRect())),e},_getErrorBarSettings:function(t,e){var r=s._getErrorBarSettings.call(this,t,e);return r.rotate=90-this.angle,r.rotateX=this.centerX,r.rotateY=this.centerY,r},getCoords:function(t){return t?this.getDefaultCoords():{x:this.x,y:this.y}}}),e.polarBarPoint=i({},a,{_translateErrorBars:e.polarSymbolPoint._translateErrorBars,_getErrorBarSettings:e.polarSymbolPoint._getErrorBarSettings,_moveLabelOnCanvas:a._moveLabelOnCanvas,_getLabelCoords:n._getLabelCoords,_getLabelConnector:n._getLabelConnector,getTooltipParams:n.getTooltipParams,_getLabelPosition:n._getLabelPosition,_getCoords:e.polarSymbolPoint._getCoords,_translate:function(){var t=this,r=this._getValTranslator(),i=r.translate(c);this.radiusInner=r.translate(this.minValue),e.polarSymbolPoint._translate.call(this),null===this.radiusInner?this.radiusInner=this.radius=i:null===this.radius&&(this.radius=this.value>=0?i:0),this.radiusOuter=this.radiusLabels=u(this.radiusInner,this.radius),this.radiusLabels+=g,this.radiusInner=this.defaultRadius=d.min(this.radiusInner,this.radius),this.middleAngle=this.angle=-h(this.middleAngleCorrection-this.angle)},_getErrorBarBaseEdgeLength:function(){var t=this.getMarkerCoords();return d.PI*t.outerRadius*d.abs(t.startAngle-t.endAngle)/180},getMarkerCoords:function(){return{x:this.centerX,y:this.centerY,outerRadius:this.radiusOuter,innerRadius:this.defaultRadius,startAngle:this.middleAngle-this.interval/2,endAngle:this.middleAngle+this.interval/2}},_drawMarker:function(t,e,r){var i=this,s=this._getStyle(),a=this.getMarkerCoords(),n=a.innerRadius,o=a.outerRadius,l=this._getCoords(this.argument,f),h=a.x,d=a.y;r&&(n=0,o=0,h=l.x,d=l.y),this.graphic=t.arc(h,d,n,o,a.startAngle,a.endAngle).attr(s).data({"chart-data-point":this}).append(e)},_checkLabelPosition:function(t,e){var r=this,i=this._getVisibleArea(),s=l.getCosAndSin(this.middleAngle),a=this.centerX+this.defaultRadius*s.cos,n=this.centerY-this.defaultRadius*s.sin;return a>i.minX&&a<i.maxX&&n>i.minY&&n<i.maxY&&(e=this._moveLabelOnCanvas(e,i,t.getBoundingRect())),e},_addLabelAlignmentAndOffset:function(t,e){return e},correctCoordinates:function(t){this.middleAngleCorrection=t.offset,this.interval=t.width},coordsIn:function(t,e){var r=l.convertXYToPolar(this.series.getValueAxis().getCenter(),t,e),i=this.getMarkerCoords(),s=i.startAngle<i.endAngle?-r.phi>=i.startAngle&&-r.phi<=i.endAngle:-r.phi<=i.startAngle&&-r.phi>=i.endAngle;return r.r>=i.innerRadius&&r.r<=i.outerRadius&&s}})}

