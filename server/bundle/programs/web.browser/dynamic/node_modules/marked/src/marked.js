function(e,t,r){const n=e("./Lexer.js"),s=e("./Parser.js"),l=e("./Renderer.js"),i=e("./TextRenderer.js"),u=e("./InlineLexer.js"),a=e("./Slugger.js"),{merge:o,checkSanitizeDeprecation:f,escape:p}=e("./helpers.js"),{getDefaults:c,changeDefaults:h,defaults:g}=e("./defaults.js");function d(e,t,r){if(null==e)throw new Error("marked(): input parameter is undefined or null");if("string"!=typeof e)throw new Error("marked(): input parameter is of type "+Object.prototype.toString.call(e)+", string expected");if(r||"function"==typeof t){r||(r=t,t=null),t=o({},d.defaults,t||{}),f(t);const i=t.highlight;let u,a,p=0;try{u=n.lex(e,t)}catch(l){return r(l)}a=u.length;const c=function(e){if(e)return t.highlight=i,r(e);let n;try{n=s.parse(u,t)}catch(l){e=l}return t.highlight=i,e?r(e):r(null,n)};if(!i||i.length<3)return c();if(delete t.highlight,!a)return c();for(;p<u.length;p++)!function(e){"code"!==e.type?--a||c():i(e.text,e.lang,function(t,r){return t?c(t):null==r||r===e.text?--a||c():(e.text=r,e.escaped=!0,void(--a||c()))})}(u[p])}else try{return t=o({},d.defaults,t||{}),f(t),s.parse(n.lex(e,t),t)}catch(l){if(l.message+="\nPlease report this to https://github.com/markedjs/marked.",(t||d.defaults).silent)return"<p>An error occurred:</p><pre>"+p(l.message+"",!0)+"</pre>";throw l}}d.options=d.setOptions=function(e){return o(d.defaults,e),h(d.defaults),d},d.getDefaults=c,d.defaults=g,d.Parser=s,d.parser=s.parse,d.Renderer=l,d.TextRenderer=i,d.Lexer=n,d.lexer=n.lex,d.InlineLexer=u,d.inlineLexer=u.output,d.Slugger=a,d.parse=d,r.exports=d}

