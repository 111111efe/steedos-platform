function(e,n,t){var i;i=function(e){"use strict";var n=/^(\s*)(>[> ]*|[*+-] \[[x ]\]\s|[*+-]\s|(\d+)([.)]))(\s*)/,t=/^(\s*)(>[> ]*|[*+-] \[[x ]\]|[*+-]|(\d+)[.)])(\s*)$/,i=/[*+-]\s/;function r(e,t){var i=t.line,r=0,l=0,o=n.exec(e.getLine(i)),s=o[1];do{var a=i+(r+=1),c=e.getLine(a),d=n.exec(c);if(d){var f=d[1],g=parseInt(o[3],10)+r-l,h=parseInt(d[3],10),m=h;if(s!==f||isNaN(h)){if(s.length>f.length)return;if(s.length<f.length&&1===r)return;l+=1}else g===h&&(m=h+1),g>h&&(m=g+1),e.replaceRange(c.replace(n,f+m+d[4]+d[5]),{line:a,ch:0},{line:a,ch:c.length})}}while(d)}e.commands.newlineAndIndentContinueMarkdownList=function(l){if(l.getOption("disableInput"))return e.Pass;for(var o=l.listSelections(),s=[],a=0;a<o.length;a++){var c=o[a].head,d=l.getStateAfter(c.line),f=e.innerMode(l.getMode(),d);if("markdown"!==f.mode.name)return void l.execCommand("newlineAndIndent");var g=!1!==(d=f.state).list,h=0!==d.quote,m=l.getLine(c.line),p=n.exec(m),u=/^\s*$/.test(m.slice(0,c.ch));if(!o[a].empty()||!g&&!h||!p||u)return void l.execCommand("newlineAndIndent");if(t.test(m))/>\s*$/.test(m)||l.replaceRange("",{line:c.line,ch:0},{line:c.line,ch:c.ch+1}),s[a]="\n";else{var v=p[1],x=p[5],I=!(i.test(p[2])||p[2].indexOf(">")>=0),w=I?parseInt(p[3],10)+1+p[4]:p[2].replace("x"," ");s[a]="\n"+v+w+x,I&&r(l,c)}}l.replaceSelections(s)}},"object"==typeof n&&"object"==typeof t?i(e("../../lib/codemirror")):"function"==typeof define&&define.amd?define(["../../lib/codemirror"],i):i(CodeMirror)}

