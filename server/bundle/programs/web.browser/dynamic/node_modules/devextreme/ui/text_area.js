function(t,e,i){"use strict";var n,s=I(t("../core/renderer")),a,o=I(t("../events/core/events_engine")),u=t("../core/utils/common"),r=t("../core/utils/window"),h,l=I(t("../core/component_registrator")),d=t("../core/utils/extend"),p=t("../core/utils/type"),c,f=I(t("../events/utils")),_,g=I(t("../events/pointer")),v,m=I(t("../ui/scroll_view/ui.events.emitter.gesture.scroll")),H,x=I(t("../core/utils/size")),b,A=I(t("./text_box"));function I(t){return t&&t.__esModule?t:{default:t}}var E="dx-textarea",D="dx-texteditor-input",y="dx-texteditor-input-auto-resize",w=A.default.inherit({_getDefaultOptions:function(){return(0,d.extend)(this.callBase(),{spellcheck:!0,minHeight:void 0,maxHeight:void 0,autoResizeEnabled:!1})},_initMarkup:function(){this.$element().addClass("dx-textarea"),this.callBase(),this.setAria("multiline","true")},_renderContentImpl:function(){this._updateInputHeight(),this.callBase()},_renderInput:function(){this.callBase(),this._renderScrollHandler()},_createInput:function(){var t=(0,s.default)("<textarea>");return this._applyInputAttributes(t,this.option("inputAttr")),this._updateInputAutoResizeAppearance(t),t},_applyInputAttributes:function(t,e){t.attr(e).addClass("dx-texteditor-input")},_renderScrollHandler:function(){var t=this;this._eventY=0;var e=this._input(),i={validate:function(e){if(f.default.isDxMouseWheelEvent(e)&&(0,s.default)(e.target).is(t._input()))return!!t._allowScroll(-e.delta,e.shiftKey)&&(e._needSkipEvent=!0,!0)}};o.default.on(e,f.default.addNamespace(m.default.init,this.NAME),i,u.noop),o.default.on(e,f.default.addNamespace(g.default.down,this.NAME),this._pointerDownHandler.bind(this)),o.default.on(e,f.default.addNamespace(g.default.move,this.NAME),this._pointerMoveHandler.bind(this))},_pointerDownHandler:function(t){this._eventY=f.default.eventData(t).y},_pointerMoveHandler:function(t){var e=f.default.eventData(t).y,i=this._eventY-e;this._allowScroll(i)&&(t.isScrollingEvent=!0,t.stopPropagation()),this._eventY=e},_allowScroll:function(t,e){var i=this._input(),n=e?i.scrollLeft():i.scrollTop(),s=e?"Width":"Height",a=i.prop("scroll"+s)-i.prop("client"+s)-n,o,u,r;return(0!==n||0!==a)&&(!!(0===n&&t>=0||0===a&&t<=0||n>0&&a>0)||void 0)},_renderDimensions:function(){var t=this.$element(),e=t.get(0),i=this._getOptionValue("width",e),n=this._getOptionValue("height",e),s=this.option("minHeight"),a=this.option("maxHeight");t.css({minHeight:void 0!==s?s:"",maxHeight:void 0!==a?a:"",width:i,height:n})},_resetDimensions:function(){this.$element().css({height:"",minHeight:"",maxHeight:""})},_renderEvents:function(){this.option("autoResizeEnabled")&&o.default.on(this._input(),f.default.addNamespace("input paste",this.NAME),this._updateInputHeight.bind(this)),this.callBase()},_refreshEvents:function(){o.default.off(this._input(),f.default.addNamespace("input paste",this.NAME)),this.callBase()},_getHeightDifference:function(t){return x.default.getVerticalOffsets(this._$element.get(0),!1)+x.default.getVerticalOffsets(t.parent().get(0),!1)+x.default.getElementBoxParams("height",(0,r.getWindow)().getComputedStyle(t.get(0))).margin},_updateInputHeight:function(){var t=this._input(),e=void 0===this.option("height")&&this.option("autoResizeEnabled");if(e){this._resetDimensions(),this._$element.css("height",this._$element.outerHeight()),t.css("height",0);var i=this._getHeightDifference(t);this._renderDimensions();var n=this._getBoundaryHeight("minHeight"),s=this._getBoundaryHeight("maxHeight"),a=t[0].scrollHeight;if(void 0!==n&&(a=Math.max(a,n-i)),void 0!==s){var o=s-i,u=a>o;a=Math.min(a,o),this._updateInputAutoResizeAppearance(t,!u)}t.css("height",a),e&&this._$element.css("height","auto")}else t.css("height","")},_getBoundaryHeight:function(t){var e=this.option(t);if((0,p.isDefined)(e))return"number"==typeof e?e:x.default.parseHeight(e,this._input().get(0))},_renderInputType:u.noop,_visibilityChanged:function(t){t&&this._updateInputHeight()},_updateInputAutoResizeAppearance:function(t,e){if(t){var i=(0,u.ensureDefined)(e,this.option("autoResizeEnabled"));t.toggleClass("dx-texteditor-input-auto-resize",i)}},_optionChanged:function(t){switch(t.name){case"autoResizeEnabled":this._updateInputAutoResizeAppearance(this._input(),t.value),this._refreshEvents(),this._updateInputHeight();break;case"value":case"height":this.callBase(t),this._updateInputHeight();break;case"minHeight":case"maxHeight":this._renderDimensions(),this._updateInputHeight();break;case"visible":this.callBase(t),t.value&&this._updateInputHeight();break;default:this.callBase(t)}}});(0,l.default)("dxTextArea",w),i.exports=w,i.exports.default=i.exports}

