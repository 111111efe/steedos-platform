function(t,e,i){"use strict";var n=t("../../core/renderer"),o=t("../../core/utils/common").noop,s=t("../../core/utils/dom").getPublicElement,r=t("../../animation/position"),a=t("../../core/utils/extend").extend,h=t("../context_menu"),l="dx-context-menu-content-delimiter",u="dx-submenu",c=h.inherit({_getDefaultOptions:function(){return a(this.callBase(),{orientation:"horizontal",tabIndex:null,onHoverStart:o})},_initDataAdapter:function(){this._dataAdapter=this.option("_dataAdapter"),this._dataAdapter||this.callBase()},_renderContentImpl:function(){this._renderContextMenuOverlay(),this.callBase();var t=this._dataAdapter.getNodeByKey(this.option("_parentKey"));t&&this._renderItems(this._getChildNodes(t)),this._renderDelimiter()},_renderDelimiter:function(){this.$contentDelimiter=n("<div>").appendTo(this._itemContainer()).addClass("dx-context-menu-content-delimiter")},_getOverlayOptions:function(){return a(this.callBase(),{onPositioned:this._overlayPositionedActionHandler.bind(this)})},_overlayPositionedActionHandler:function(t){this._showDelimiter(t)},_hoverEndHandler:function(t){this.callBase(t),this._toggleFocusClass(!1,t.currentTarget)},_isMenuHorizontal:function(){return"horizontal"===this.option("orientation")},_hoverStartHandler:function(t){var e;this.option("onHoverStart")(t),this.callBase(t),this._toggleFocusClass(!0,t.currentTarget)},_drawSubmenu:function(t){this._actions.onShowing({rootItem:s(t),submenu:this}),this.callBase(t),this._actions.onShown({rootItem:s(t),submenu:this})},_hideSubmenu:function(t){this._actions.onHiding({cancel:!0,rootItem:s(t),submenu:this}),this.callBase(t),this._actions.onHidden({rootItem:s(t),submenu:this})},_showDelimiter:function(t){if(this.$contentDelimiter){var e=this._itemContainer().children(".dx-submenu").eq(0),i=this.option("position").of,n={of:e},o=t.position,s=o.v.location,a=o.h.location,h=i.offset(),l=Math.round(h.left),u=Math.round(h.top),c=i.width(),d=i.height(),m=e.width(),f=e.height();this.$contentDelimiter.css("display","block"),this.$contentDelimiter.width(this._isMenuHorizontal()?c<m?c-2:m:2),this.$contentDelimiter.height(this._isMenuHorizontal()?2:d<f?d-2:f),this._isMenuHorizontal()?s>u?Math.round(a)===l?(n.offset="1 -1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="right top"):(this.$contentDelimiter.height(5),Math.round(a)===l?(n.offset="1 4",n.at=n.my="left bottom"):(n.offset="-1 2",n.at=n.my="right bottom")):a>l?Math.round(s)===u?(n.offset="-1 1",n.at=n.my="left top"):(n.offset="-1 -1",n.at=n.my="left bottom"):Math.round(s)===u?(n.offset="1 1",n.at=n.my="right top"):(n.offset="1 -1",n.at=n.my="right bottom"),r.setup(this.$contentDelimiter,n)}},_getContextMenuPosition:function(){return this.option("position")},isOverlayVisible:function(){return this._overlay.option("visible")},getOverlayContent:function(){return this._overlay.$content()}});i.exports=c}

