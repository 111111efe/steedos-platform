name: object_fields
icon: orders
enable_api: true
label: 字段
fields:
  name:
    type: text
    searchable: true
    index: true
    hidden: true
    omit: true
    # regEx: !<tag:yaml.org,2002:js/regexp> '/^[a-zA-Z_]\w*(\.\$\.\w+)?[a-zA-Z0-9]*$/'
  _name:
    type: text
    label: 字段名
    searchable: true
    index: true
    required: true
  label:
    type: text
    required: true
  is_name:
    type: boolean
    hidden: true
  object:
    type: master_detail
    reference_to: objects
    required: true
    optionsFunction: !<tag:yaml.org,2002:js/function> |-
      function () {
              var _options;

              _options = [];

              _.forEach(Creator.objectsByName, function (o, k) {
                return _options.push({
                  label: o.label,
                  value: k,
                  icon: o.icon
                });
              });

              return _options;
            }
  type:
    type: select
    required: true
    options: "文本:text,长文本:textarea,Html文本:html,选择框:select,Checkbox:boolean,日期:date,日期时间:datetime,数值:number,金额:currency,密码:password,相关表:lookup,主表/子表:master_detail,网址:url,邮件地址:email" #TODO 表格:grid,
  sort_no:
    label: 排序号
    type: number
    defaultValue: 100
    scale: 0
    sortable: true
  group:
    type: text
  defaultValue:
    type: text
  allowedValues:
    type: text
    multiple: true
  multiple:
    type: boolean
  required:
    type: boolean
  is_wide:
    type: boolean
  readonly:
    type: boolean
  hidden:
    type: boolean
  omit:
    type: boolean
  index:
    type: boolean
  searchable:
    type: boolean
  sortable:
    type: boolean
  precision:
    type: currency
    defaultValue: 18
  scale:
    type: currency
    defaultValue: 2
  reference_to:
    type: lookup
    optionsFunction: !<tag:yaml.org,2002:js/function> |-
      function () {
              var _options;

              _options = [];

              _.forEach(Creator.Objects, function (o, k) {
                return _options.push({
                  label: o.label,
                  value: k,
                  icon: o.icon
                });
              });

              return _options;
            }
  rows:
    type: currency
  options:
    type: textarea
    is_wide: true
  description:
    label: Description
    type: text
    is_wide: true
list_views:
  all:
    columns:
      - name
      - label
      - type
      - object
      - sort_no
      - modified
    sort:
      - field_name: sort_no
        order: asc
    filter_scope: space
permission_set:
  user:
    allowCreate: false
    allowDelete: false
    allowEdit: false
    allowRead: false
    modifyAllRecords: false
    viewAllRecords: false
  admin:
    allowCreate: true
    allowDelete: true
    allowEdit: true
    allowRead: true
    modifyAllRecords: true
    viewAllRecords: true