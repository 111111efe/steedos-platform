name: process_definition
label: process_definition
icon: record
fields:
  name:
    type: text
    required: true
  label:
    type: text
    required: true
    is_name: true
  object_name:
    type: text
    required: true
    is_wide: true
    filterable: true
  description:
    label: 描述
    type: textarea
    is_wide: true
  order: #TODO 必须是连续的数字
    type: number
    required: true
    scale: 0
    min: 1
  active:
    type: boolean
    label: State
    defaultValue: false
  entry_criteria:
    type: textarea
    label: Specify Entry Criteria
    is_wide: true
    required: true
    group: 指定条目条件
    inlineHelpText: If only certain types of records should enter this approval process, enter that criteria below. For example, only expense reports from employees at headquarters should use this approval process.
  # user_hierarchy_field:
  #   type: text
  #   is_wide: true
  #   label: Next Automated Approver Determined By
  #   inlineHelpText: 可选项为对象的所有人员字段
  #   group: next Automated Approver TODO
  # use_approver_field_of_record_owner:
  #   type: boolean
  #   is_wide: true
  #   label: Use Approver Field of Record Owner
  #   group: next Automated Approver TODO
  record_editability:
    type: select
    is_wide: true
    inlineHelpText: When a record is submitted for approval, it’s locked to prevent users from editing it during the approval process. Use the record editability properties to determine who can edit records that are locked in this approval process.
    label: Record Editability Properties
    options:
      - label: Administrators ONLY can edit records during the approval process
        value: admin_only
      - label: Administrators OR the currently assigned approver can edit records during the approval process.
        value: admin_or_current_approver
  # approval_page_fields:
  #   type: text
  #   is_wide: true
  #   group: 选择要在批准页面布局上显示的字段 TODO
  #   # type: lookup
  #   # reference_to: object_layout
  #   label: Select Fields to Display on Approval Page Layout
  #   inlineHelpText: The approval page is where an approver will actually approve or reject a request. Using the options below, choose the fields to display on this page.
  # show_approval_history:
  #   type: boolean
  #   is_wide: true
  #   label: Display approval history information in addition to the fields selected above.
  #   group: 选择要在批准页面布局上显示的字段 TODO
  # allowed_submitters:
  #   type: text
  #   multiple: true
  #   is_wide: true
  #   group: 指定初始提交人 TODO
  #   inlineHelpText: 指定谁可以提交记录到批准过程。 如果该列表中不包括提交记录以待批准的用户，记录不会进入该批准过程，即使记录满足进入条件。
  allow_recall:
    type: boolean
    is_wide: true
    label: Allow submitters to recall approval requests
    group: 提交设置
relatedList:
  - process_node
  - action_field_updates
list_views:
  all:
    label: All
    filter_scope: space
    columns:
      - label
      - object_name
      - order
      - description
      - active
permission_set:
  user:
    allowCreate: false
    allowDelete: false
    allowEdit: false
    allowRead: true
    modifyAllRecords: false
    viewAllRecords: true
  admin:
    allowCreate: true
    allowDelete: true
    allowEdit: true
    allowRead: true
    modifyAllRecords: true
    viewAllRecords: true