name: cms_categories
icon: task
label: 栏目
fields:
  site:
    label: 所属站点
    type: lookup
    reference_to: cms_sites
    required: true
    sortable: true
    index: true
    defaultValue: !!js/function |
      function () {
        return Session.get("siteId");
      }
    omit: true
    hidden: true
  name:
    label: 名称
    type: text
    defaultValue: ''
    description: ''
    inlineHelpText: ''
    required: true
    searchable: true
    is_wide: true
  description:
    label: 描述
    type: textarea
    rows: 3
    is_wide: true
  parent:
    label: 上级栏目
    type: lookup
    reference_to: cms_categories
    sortable: true
    filtersFunction: !!js/function |
      function () {
        return [["site", "eq", Session.get("siteId")]]
      }
  parents:
    label: 上级栏目（多层）
    type: lookup
    reference_to: cms_categories
    sortable: true
    omit: true
    hidden: true
  order:
    label: 排序号
    type: number
  # show post list on website homepage
  featured:
    type: boolean
    defaultValue: true
    hidden: true
    omit: true
list_views:
  all:
    label: 所有
    filter_scope: space
    columns:
      - name
permission_set:
  user:
    allowCreate: true
    allowDelete: true
    allowEdit: true
    allowRead: true
    modifyAllRecords: false
    viewAllRecords: true
  admin:
    allowCreate: true
    allowDelete: true
    allowEdit: true
    allowRead: true
    modifyAllRecords: true
    viewAllRecords: true